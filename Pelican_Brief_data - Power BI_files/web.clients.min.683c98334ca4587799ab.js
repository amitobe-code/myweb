"use strict";var marker;this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5],{528359:function(Je,H,t){function e(c){var s=$(document.activeElement);return s.is(c)||s.closest(c).length>0}t.d(H,{y:function(){return e}})},948920:function(Je,H,t){t.d(H,{A:function(){return Ir}});var e=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],c=function(){return function(z){var q=this;this.$parse=z,this.retrict="A",this.scope=!1,this.compile=function(_e,Ke){var yt=q.$parse(Ke.accessibleClick);return function(wt,zt){zt.on("click",function(Jt){wt.$apply(function(){return yt(wt,{$event:Jt})})}),!_.includes(e,zt[0].nodeName)&&zt.on("keydown",function(Jt){(32===Jt.keyCode||13===Jt.keyCode)&&zt.is(document.activeElement)&&(Jt.preventDefault(),wt.$apply(function(){return yt(wt,{$event:Jt})}))})}}}}(),s=t(630326),f=function(){return function(){this.restrict="A",this.link=function(z,q,_e){var Ke=z.$watch(_e.focusOn,function(yt,wt){void 0!==yt&&setTimeout(function(){s.IK.focus(q[0])},0)});z.$on("$destroy",function(){Ke()})}}}(),v=t(608014),b=function(){function Ie(z,q){var _e=this;this.$parse=z,this.focusTrapService=q,this.restrict="A",this.link=function(Ke,yt,wt){var zt=yt;zt.$$trapDestroyed=!1,wt.focusOnEscape&&(zt.$$escapeHandler=_e.$parse(wt.focusOnEscape),zt.$$keydownHandler=function(qt){return _e.handleKeyEvent(qt,Ke,zt)},zt.on(v.n,zt.$$keydownHandler));var Jt=Ke.$watch(function(){return _.some(yt.find(":tabbable"))},function(qt,ur){!0===qt&&(_e.focusTrapService.registerFocusTrap(zt),Jt())});zt.on("$destroy",function(){return _e.destroy(zt)})}}return Ie.prototype.destroy=function(z){z.$$trapDestroyed||(z.$$keydownHandler&&z.off(v.n,z.$$keydownHandler),this.focusTrapService.unregisterFocusTrap(z),z.$$trapDestroyed=!0)},Ie.prototype.handleKeyEvent=function(z,q,_e){27===z.keyCode&&(_e.$$escapeHandler&&q.$evalAsync(_e.$$escapeHandler),this.destroy(_e))},Ie}(),h=function(){return function(z){var q=this;this.shortcutsService=z,this.restrict="A",this.link=function(_e,Ke,yt){var wt=s.IK.setFocusOnPreviousElementOnDestroy(Ke,!0,!0);Ke.on("$destroy",function(){return wt()});var zt=q.shortcutsService.createElementShortcut(yt.keyboardShortcuts,Ke.get(0));zt&&(q.shortcutsService.registerShortcut(zt),_e.$on("$destroy",function(){return q.shortcutsService.unregisterShortcut(zt)}))}}}(),p=function(){return function(z){var q=this;this.$timeout=z,this.restrict="A",this.link=function(_e,Ke,yt){var zt=_e.$watch(function(){return Ke.is(":tabbable")||Ke.find(":tabbable").length>0},function(Jt,qt){if(!0===Jt){var ur=Ke.is(":tabbable")?Ke.get(0):Ke.find(":tabbable").get(0);ur&&q.$timeout(function(){return ur.focus()},500),zt()}})}}}();"undefined"!=typeof angular&&angular.module("powerbi.a11y",[]);var n=[{name:"AccessibleClick",dependencies:["$parse"],blockType:1,consumerHostFlags:2097151,factory:c},{name:"FocusOn",blockType:1,consumerHostFlags:2097151,factory:f},{name:"FocusTrap",dependencies:["$parse","focusTrapService"],blockType:1,consumerHostFlags:2097151,factory:b},{name:"PbiAutoFocus",dependencies:["$timeout"],blockType:1,consumerHostFlags:2097151,factory:p},{name:"KeyboardShortcuts",dependencies:["shortcutsService"],blockType:1,consumerHostFlags:2097151,factory:h}],l=t(226514),r=t(787941),o=t(144900),i=function(){function Ie(z,q,_e,Ke,yt){this.loader=z,this.promiseFactory=q,this.$inj=_e,this.factories=Ke,this.instances=yt,r.fF.assertValue(z,"loader"),r.fF.assertValue(_e,"$inj"),r.fF.assertValue(Ke,"factories"),r.fF.assertValue(yt,"instances")}return Ie.prototype.get=function(z){return(0,l.__awaiter)(this,void 0,o.J,function(){var q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,xr,Jr,jr,qr,ai,ci,vi=this;return(0,l.__generator)(this,function(li){switch(li.label){case 0:if(void 0!==(q=this.instances[z]))return[2,q.promise];if(q=this.instances[z]=this.promiseFactory.defer(),r.fF.assertValue(_e=this.factories[z],"factory"),Ke=_e.ng,yt=_.size(Ke),wt=_e.modular,zt=_.size(wt),Jt=new Array(yt+zt),qt=0,yt)for(ur=this.$inj,hr=0,br=Ke;hr<br.length;hr++)Jt[qt++]=ur.get(br[hr],z);if(!zt)return[3,4];xr=_.map(wt,function(mi){return vi.get(mi)}),Jr=0,jr=xr,li.label=1;case 1:return Jr<jr.length?(qr=Jt,ai=qt++,[4,jr[Jr]]):[3,4];case 2:qr[ai]=li.sent(),li.label=3;case 3:return Jr++,[3,1];case 4:return[4,this.loader.require(_e.source)];case 5:return ci=li.sent(),q.resolve(_e.fn.apply(_e,(0,l.__spreadArray)([ci],Jt||[],!1))),[2,q.promise]}})})},Ie}(),m=t(185664),u=function(){function Ie(){var z=this;this.$get=["$ocLazyLoad","moduleLoader","promiseFactory",function(q,_e,Ke){return r.fF.assertValue(z.hostEnv,"hostEnv must be configured by the host on the PbiLazyLoadProvider"),new V(q,_e,z.hostEnv,Ke)}]}return Ie.prototype.setHostEnv=function(z){this.hostEnv=z},Ie}(),V=function(){function Ie(z,q,_e,Ke){this.$ocLazyLoad=z,this.moduleLoader=q,this.hostEnv=_e,this.promiseFactory=Ke}return Ie.prototype.load=function(z){return(0,l.__awaiter)(this,void 0,o.J,function(){var q,_e,Ke;return(0,l.__generator)(this,function(yt){switch(yt.label){case 0:return q=z.name,_e=z.namespace,[4,this.moduleLoader.require(z.dependency)];case 1:return Ke=yt.sent(),[4,this.isLoaded(q)];case 2:return yt.sent()?[2,!1]:(!_.isEmpty(_e)&&!(0,m.G2)(z.dependency.javascript)&&(r.fF.assert(function(){return!Ke},"namespace is defined, but require returned a module."),Ke=this.getNamespaceObject(_e)),Ke&&Ke.registerBuildingBlocksForHost&&Ke.registerBuildingBlocksForHost(this.hostEnv),[4,this.$ocLazyLoad.inject(q)]);case 3:return yt.sent(),[2,!0]}})})},Ie.prototype.isLoaded=function(z){var q=this.$ocLazyLoad.getModules();return this.promiseFactory.resolve(_.includes(q,z))},Ie.prototype.getNamespaceObject=function(z){for(var q=z.split("."),_e=window,Ke=0,yt=q;Ke<yt.length;Ke++)_e=_e[yt[Ke]];return _e},Ie}(),d=t(489470),S=t(831917),g=t(750005),y={},E=function Ie(z){r.fF.assertValue(z,"name");var q=y[z];r.fF.assertValue(q,"syncModule");var _e=q.fn;if(_e){var Ke=q.v=_e(Ie);return q.fn=null,Ke}return q.v},M=t(189950),P=t(710545),T={transclude:!0,template:"<ng-transclude></ng-transclude>",controller:["scopedProvider","$scope","$element",function(z,q,_e){var Ke=_e.attr("scoped-provider-instance-name");z.attachTo(q,Ke)}]};function A(Ie){return function(Ie){var z=["$scope","$rootScope","$timeout","$compile","scopedProvider","applicationOptions"],q=z.length,_e=Ie.createOptions&&Ie.createOptions();return _e&&_e.additionalServices&&z.push.apply(z,_e.additionalServices),z.push(function(Ke,yt,wt,zt,Jt,qt){var ur={rootScope:yt,timeout:wt,compile:zt};if(_e){var hr=_e.additionalServices;if(hr){var br=arguments;r.fF.assert(function(){return q+hr.length===br.length},"Wrong number of arguments.");for(var Er=q,xr=z.length-1;Er<xr;Er++)ur[z[Er]]=arguments[Er]}_e.scopedServiceRoot&&Jt.attachTo(Ke,_e.scopedProviderInstanceName);var Jr=_e.scopedDependencies;if(Jr){var jr=Jt.find(Ke);if(jr)for(Er=0,xr=Jr.length;Er<xr;Er++){var Gr=Jr[Er];ur[Gr]=jr.get(Gr,Ke)}}}var qr=new Ie(Ke,ur);return qr.onDestroy&&Ke.$on("$destroy",function(){return qr.onDestroy()}),qr}),z}(Ie)}var w={transclude:!0,controller:A(function(){function Ie(z,q){this.scope=z,this.services=q}return Ie.createOptions=function(){return{additionalServices:["$element","$attrs","$transclude"]}},Ie.prototype.transcludeContent=function(){var z=this;this.services.$element.empty(),this.transcludedScope&&this.transcludedScope.$destroy(),this.services.$transclude(function(q,_e){z.services.$element.append(q),z.transcludedScope=_e})},Ie.prototype.$onInit=function(){var z=this;this.scope.$parent.$watch(this.services.$attrs.trigger,function(_e,Ke){_e!==Ke&&z.transcludeContent()}),this.transcludeContent()},Ie}())},I=function(){return function(){this.restrict="A",this.replace=!1,this.link=function(z,q,_e){var Ke=z.$watch(_e.bindTextAndTooltip,function(yt){q.text(yt||"").attr("title",yt||"")});z.$on("$destroy",function(){Ke()})}}}(),B=t(481657),j=function(){return function(z,q,_e){var Ke=this;this.featureSwitchService=z,this.localizationService=q,this.globalEventBridge=_e,this.restrict="A",this.link=function(yt,wt,zt){var Jt=yt.$eval(zt.calculatePrintStyles),qt=yt.$eval(zt.disablePrint);Ke.helper.onInit(wt,Jt,zt.printContainerSelector,Ke.localizationService,Ke.featureSwitchService,qt,Ke.globalEventBridge);var ur=yt.$on("$destroy",function(){Ke.helper.onDestroy(wt,!!qt),ur()})},this.helper=new B.J8}}(),W=t(749559),U=function(){function Ie(z,q){var _e=this;this.services=q,this.scope=z,this.scope.gridLayoutService=this.services.gridLayout,this.scope.$watch("gridLayoutService.strategy",function(){_e.scope.gridLayoutContainer.onGridLayoutChanged(W.XM.refresh)})}return Ie.createOptions=function(){return{additionalServices:["gridLayout"]}},Ie}(),k=function(){function Ie(z,q){this.changingCSSClass="changing",this.prevWidth=0,this.prevHeight=0,this.prevLeft=0,this.prevTop=0,this.previsChanging=!1,this.prevIsVisible=!0,this.appliedClass="",this.titleClass="",r.fF.assertValue(z,"gridLayoutItem"),r.fF.assertValue(q,"element"),this.gridLayoutItem=z,this.element=q}return Ie.prototype.render=function(){var z=this.gridLayoutItem,q=this.element,_e=this.element.style;(z.left!==this.prevLeft||z.top!==this.prevTop)&&(_e.webkitTransform=_e.transform="translate("+z.left+"px, "+z.top+"px)",this.prevTop=z.top,this.prevLeft=z.left);var Ke=!1;z.width!==this.prevWidth&&(_e.width=z.width+"px",this.prevWidth=z.width,Ke=!0),z.height!==this.prevHeight&&(_e.height=z.height+"px",this.prevHeight=z.height,Ke=!0),Ke&&(this.calculateMenuSize(z.width,z.height),this.calculateTitleSize(z.width)),z.isChanging!==this.previsChanging&&(z.isChanging?q.classList.add(this.changingCSSClass):q.classList.remove(this.changingCSSClass),this.previsChanging=z.isChanging),z.isVisible!==this.prevIsVisible&&(_e.display=z.isVisible?"block":"none",this.prevIsVisible=z.isVisible),z.isChanging||this.addDataAttributes(q,z)},Ie.prototype.addDataAttributes=function(z,q){try{var _e=q.gridItem;if(_e){var Ke=q.getLayoutPosition();z.setAttribute("data-id",_e.id.toString()),z.setAttribute("data-row",Ke.y.toString()),z.setAttribute("data-col",Ke.x.toString()),z.setAttribute("data-sizex",Ke.width.toString()),z.setAttribute("data-sizey",Ke.height.toString())}}catch(yt){}},Ie.prototype.updateTileClasses=function(z,q){return q===z?q:(_.isEmpty(q)||this.element.classList.remove(q),_.isEmpty(z)||this.element.classList.add(z),z)},Ie.prototype.calculateMenuSize=function(z,q){var _e=this.appliedClass;q<=Ie.smallestTileHeight?_e=Ie.smallestTileHeightStr:z<=Ie.smallerTileWidth||q<=Ie.smallestTileHeight?_e=Ie.smallerTileWidthStr:z>=Ie.largerTileWidth?_e=Ie.largerTileWidthStr:z>Ie.smallerTileWidth&&z<Ie.largerTileWidth&&(_e=""),this.appliedClass=this.updateTileClasses(_e,this.appliedClass)},Ie.prototype.calculateTitleSize=function(z){this.titleClass=this.updateTileClasses(z<=Ie.smallTitleWidth?Ie.smallTitleWidthStr:Ie.largeTitleWidthStr,this.titleClass)},Ie.smallerTileWidthStr="smallerTileWidth",Ie.largerTileWidthStr="largerTileWidth",Ie.smallestTileHeightStr="smallestTileHeight",Ie.smallestTileHeight=180,Ie.smallerTileWidth=260,Ie.largerTileWidth=780,Ie.smallTitleWidthStr="smallTitleWidth",Ie.largeTitleWidthStr="largeTitleWidth",Ie.smallTitleWidth=160,Ie}(),Q=t(690016),te=function(){function Ie(){this.layoutPosition={height:0,width:0}}return Ie.prototype.calculateLayout=function(z){},Ie.prototype.applyLayout=function(z){},Ie.prototype.applyLayoutSize=function(z,q,_e){},Ie.prototype.applyChanges=function(){},Ie.prototype.buildLayoutDescriptor=function(){return null},Ie.prototype.tryPopulateLayoutPositionValues=function(){return!1},Ie}(),ee=function(){function Ie(z,q,_e){r.fF.assertValue(q,"gridLayoutService"),this.activeLayout=q.displayLayout,this.isChanging=!1,this.isVisible=!0,this.isLayoutUpdateLocked=!1,this.gridLayoutService=q,this.gridLayoutContainer=_e,this.gridItem=z,z.gridLayoutContext=this,this.gridItem.tryPopulateLayoutPositionValues(),this.resetLayoutDescriptor()}return Object.defineProperty(Ie.prototype,"displayCol",{get:function(){return this.overrideCol?this.overrideCol:this.getLayoutPosition().x},set:function(q){this.overrideCol=q},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"displayRow",{get:function(){return this.overrideRow?this.overrideRow:this.getLayoutPosition().y},set:function(q){this.overrideRow=q},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"displaySize",{get:function(){return this.overrideSize?this.overrideSize:{colSpan:this.getLayoutPosition().width,rowSpan:this.getLayoutPosition().height}},set:function(q){this.overrideSize=q},enumerable:!1,configurable:!0}),Ie.prototype.remove=function(){this.removeHandler(this),this.gridItem.gridLayoutContext=null},Ie.prototype.calculateLayout=function(){this.gridLayoutService.strategy.calculateDisplaySize(this),this.left=(this.displayCol-1)*this.gridLayoutService.strategy.gridWidth,this.top=(this.displayRow-1)*this.gridLayoutService.strategy.gridHeight,this.width=this.displaySize.colSpan*this.gridLayoutService.strategy.gridWidth,this.height=this.displaySize.rowSpan*this.gridLayoutService.strategy.gridHeight;var z=this.gridLayoutService.strategy.gridItemSpacing;this.gridItem.calculateLayout({width:this.width-z,height:this.height-z})},Ie.prototype.applyLayout=function(z,q){this.gridItem.applyLayoutSize(this.displaySize,z,q),this.render()},Ie.prototype.clearOverrides=function(){this.overrideCol=void 0,this.overrideRow=void 0,this.overrideSize=void 0},Ie.prototype.onDragStart=function(){this.isChanging=!0},Ie.prototype.onDragMove=function(z){var q=this.getLayoutPosition();q.x=1+z.x/this.gridLayoutService.strategy.gridWidth,q.y=1+z.y/this.gridLayoutService.strategy.gridHeight,this.layoutChangeHandler(W.XM.drag)},Ie.prototype.onDragEnd=function(){this.isChanging=!1,this.layoutChangeHandler(W.XM.drag)},Ie.prototype.onResizeStart=function(){this.isChanging=!0},Ie.prototype.onResizeMove=function(z){var q=this.getLayoutPosition();q.width=z.width/this.gridLayoutService.strategy.gridWidth,q.height=z.height/this.gridLayoutService.strategy.gridHeight,this.layoutChangeHandler(W.XM.resizing)},Ie.prototype.onResizeEnd=function(){this.isChanging=!1,this.layoutChangeHandler(W.XM.resized)},Ie.prototype.getLayoutDescriptor=function(){var z=this.gridItem;try{if(!this.isChanging&&z.id>0&&this.isLayoutPositionChanged())return z.buildLayoutDescriptor()}catch(q){}return null},Ie.prototype.isLayoutPositionChanged=function(){var z=this.getLayoutPosition();return z.y!==this.prevY||z.x!==this.prevX||z.width!==this.prevWidth||z.height!==this.prevHeight},Ie.prototype.resetLayoutDescriptor=function(){var z=this.gridItem;z&&(this.resetPrevValues(),z.applyChanges())},Ie.prototype.resetPrevValues=function(){var z=this.getLayoutPosition();this.prevX=z.x,this.prevY=z.y,this.prevWidth=z.width,this.prevHeight=z.height,this.rowBeforeMove=this.prevY},Ie.prototype.getLayoutPosition=function(){return this.gridItem.layoutPosition},Ie.prototype.getActiveLayout=function(){return this.activeLayout},Ie.prototype.setActiveLayout=function(z){this.activeLayout=z,this.gridItem.tryPopulateLayoutPositionValues()&&this.onLayoutInvalidated()},Ie.prototype.onLayoutInvalidated=function(){this.isLayoutUpdateLocked||(this.resetPrevValues(),this.layoutChangeHandler(W.XM.refresh))},Ie.prototype.getGridHeight=function(){return this.gridLayoutContainer.element.height()},Ie.prototype.getGridWidth=function(){return this.gridLayoutContainer.element.width()},Ie.prototype.forceApplyCurrentChanges=function(){this.layoutChangeHandler(W.XM.refresh)},Ie}(),J=function(){function Ie(z,q,_e){var Ke=this;this.defferedOnGridLayoutChanged=(0,Q.S5)(function(wt){return Ke.onGridLayoutChanged(wt)}),this.delayedNotifyGridItemsChanged=_.debounce(function(){return Ke.notifyGridItemsChanged()},W.Rb),this.layoutChangedPromise=null,this.isLayoutUpdateLocked=!1,this.gridLayoutItems=[];var yt=new te;this.gridPlaceHolder=new ee(yt,z,null),this.gridPlaceHolder.isVisible=!1,this.gridLayoutService=z,this.gridLayoutScope=_e,this._gravityEnabled=this.isGravityEnabled(),this.element=q}return Ie.prototype.isGravityEnabled=function(){return this.gridLayoutScope&&this.gridLayoutScope.viewModel&&this.gridLayoutScope.viewModel.gravityEnabled||0!==this.gridLayoutService.displayLayout},Object.defineProperty(Ie.prototype,"gravityEnabled",{get:function(){return this._gravityEnabled},enumerable:!1,configurable:!0}),Ie.prototype.addGridLayoutItem=function(z){var q=this;z.layoutChangeHandler=this.defferedOnGridLayoutChanged,z.removeHandler=function(_e){return q.onGridLayoutItemRemove(_e)},this.gridLayoutItems.push(z),this.defferedOnGridLayoutChanged(W.XM.refresh)},Ie.prototype.onGridLayoutItemRemove=function(z){var q=this.gridLayoutItems.indexOf(z);q>=0&&this.gridLayoutItems.splice(q,1),this.defferedOnGridLayoutChanged(W.XM.refresh)},Ie.prototype.onGridLayoutChanged=function(z){this._gravityEnabled=this.isGravityEnabled();var q=this.calculateLayout(z);this.applyLayout(z),(z===W.XM.drag||z===W.XM.resizing||z===W.XM.resized)&&this.setLayoutUpdateLock(!0),q||(this.finalizeGridLayout(),this.delayedNotifyGridItemsChanged())},Ie.prototype.finalizeGridLayout=function(){for(var z=0,q=this.gridLayoutItems;z<q.length;z++){var _e=q[z];_e.rowBeforeMove=_e.getLayoutPosition().y}},Ie.prototype.notifyGridItemsChanged=function(){var z=this,q=this.getChangedGridItemsDescriptors();q.length>0&&!this.layoutChangedPromise&&(this.layoutChangedPromise=this.notifyGridItemsChangedHandler(q),this.layoutChangedPromise?(this.changedLayoutDescriptors=q,this.setLayoutUpdateLock(!0),this.layoutChangedPromise.then(function(){return z.layoutChangeDone(!0)},function(){return z.layoutChangeDone(!1)})):this.layoutChangeDone(!1))},Ie.prototype.layoutChangeDone=function(z){this.layoutChangedPromise=null,this.setLayoutUpdateLock(!1),z&&(this.resetChangedGridItemsDescriptors(this.changedLayoutDescriptors),this.notifyGridItemsChanged())},Ie.prototype.calculateLayout=function(z){if(0!==this.gridLayoutItems.length){var q=this.gridLayoutItems,_e=_.filter(q,function(jr){return jr.isChanging}).length>0,Ke=[],yt=W.u;this.containerHeight=this.containerWidth=0;var wt=this.popNewGridLayoutItems(q);if(q.sort(function(jr,Gr){return jr.getLayoutPosition().x-Gr.getLayoutPosition().x}),q.length>0){var zt=q[q.length-1].getLayoutPosition();yt=Math.max(Math.ceil(zt.x+zt.width-1),W.u)}for(var Jt=0;Jt<=yt;++Jt)Ke.push(1);q.sort(function(jr,Gr){var ci=(_e&&!jr.isChanging?jr.rowBeforeMove:jr.getLayoutPosition().y)-(_e&&!Gr.isChanging?Gr.rowBeforeMove:Gr.getLayoutPosition().y);if(0===ci){if(jr.isChanging)return-1;if(Gr.isChanging)return 1}return ci});for(var qt=0,ur=q;qt<ur.length;qt++)(hr=ur[qt]).isChanging?(this.clipGridItemShape(this.gridPlaceHolder,hr),this.calculatePosition(this.gridPlaceHolder,Ke,!0,z,_e),this.gridPlaceHolder.calculateLayout()):(this.clipGridItemShape(hr,hr),this.calculatePosition(hr,Ke,!1,z,_e));for(var br=0,Er=wt;br<Er.length;br++)this.clipGridItemShape(hr=Er[br],hr),this.calculateDefaultPosition(hr,Ke),this.gridLayoutItems.push(hr);this.gridLayoutService.strategy.calculateDisplayPositions(q);for(var xr=0,Jr=q;xr<Jr.length;xr++){var hr;(hr=Jr[xr]).calculateLayout(),this.updateContainerSize(hr)}return this.gridPlaceHolder.isVisible=_e,_e}},Ie.prototype.applyLayout=function(z){for(var q=0,_e=this.gridLayoutItems;q<_e.length;q++)_e[q].applyLayout(z,this.gridLayoutService.skipVisualManualUpdate);this.gridPlaceHolder.applyLayout(z)},Ie.prototype.updateContainerSize=function(z){var q=z.top+z.height,_e=z.left+z.width;q>this.containerHeight&&(this.containerHeight=q),_e>this.containerWidth&&(this.containerWidth=_e)},Ie.prototype.calculatePosition=function(z,q,_e,Ke,yt){for(var wt=z.getLayoutPosition(),zt=W.ws,Jt=1,qt=wt.x,ur=wt.x+wt.width;qt<ur;++qt){var hr=q[qt];hr>Jt&&(Jt=hr)}var br=wt.y;if(yt&&!_e&&(br=z.rowBeforeMove),this._gravityEnabled?(wt.y=Jt,Jt+=wt.height):(wt.y=br<Jt||br>zt?Jt:Math.round(br),Jt=wt.y+wt.height),_e&&Ke===W.XM.resizing||Ke===W.XM.resized){var Er=Math.round(br)+wt.height;Er>Jt&&(Jt=Er)}for(qt=wt.x,ur=wt.x+wt.width;qt<ur;++qt)q[qt]=Jt},Ie.prototype.calculateDefaultPosition=function(z,q){for(var _e=z.getLayoutPosition(),Ke=1,yt=Number.MAX_VALUE,wt=1,zt=Math.max(W.u,_e.width)-_e.width+1;wt<=zt;++wt){for(var Jt=0,qt=wt,ur=wt+_e.width;qt<ur;++qt)q[qt]>Jt&&(Jt=q[qt]);Jt<yt&&(yt=Jt,Ke=wt)}for(_e.x=Ke,_e.y=yt,yt+=_e.height,wt=_e.x,zt=_e.x+_e.width;wt<zt;++wt)q[wt]=yt},Ie.prototype.clipGridItemShape=function(z,q){var _e=q.getLayoutPosition(),Ke=z.getLayoutPosition(),yt=(0,W.bq)(),wt=(0,W.be)();Ke.y=_e.y,Ke.x=Math.round(_e.x),Ke.width=Math.ceil(_e.width),Ke.height=Math.ceil(_e.height),(!Ke.x||Ke.x<1)&&(Ke.x=1),(!Ke.width||Ke.width<1)&&(Ke.width=1),(!Ke.height||Ke.height<1)&&(Ke.height=1),Ke.width>yt&&(Ke.width=yt),Ke.height>wt&&(Ke.height=wt)},Ie.prototype.popNewGridLayoutItems=function(z){for(var q=[],Ke=z.length-1;Ke>=0;--Ke){var yt=z[Ke];if(!yt.isChanging){var wt=yt.getLayoutPosition();!wt.y&&!wt.x&&(z.splice(Ke,1),q.unshift(yt))}}return q},Ie.prototype.getChangedGridItemsDescriptors=function(){for(var z=[],_e=0,Ke=this.gridLayoutItems;_e<Ke.length;_e++){var wt=Ke[_e].getLayoutDescriptor();wt&&z.push(wt)}return z},Ie.prototype.resetChangedGridItemsDescriptors=function(z){for(var _e={},Ke=0,yt=this.gridLayoutItems;Ke<yt.length;Ke++)_e[(wt=yt[Ke]).gridItem.id]=wt;for(var zt=0,Jt=z;zt<Jt.length;zt++){var wt;(wt=_e[Jt[zt].id])&&wt.resetLayoutDescriptor()}},Ie.prototype.setLayoutUpdateLock=function(z){if(this.isLayoutUpdateLocked!==z){this.isLayoutUpdateLocked=z;for(var q=0,_e=this.gridLayoutItems;q<_e.length;q++)_e[q].isLayoutUpdateLocked=z}},Ie}(),re=function(){return function(){this.controller=A(U),this.compile=function(){return{pre:function(q,_e,Ke){var yt=angular.element('<div class="gridPlaceHolder"><div class="placeholderInner"></div></div>'),wt=new J(q.gridLayoutService,_e,q),zt=wt.gridPlaceHolder,Jt=new k(zt,yt.get(0));zt.render=function(){Jt.render()},_e.addClass("gridLayoutContainer"),_e.prepend(yt),q.gridLayoutContainer=wt,wt.notifyGridItemsChangedHandler=q.gridLayoutChangeHandler}}}}}(),G=t(358724),ne=t(932178),X=t(375735),oe=t(613181),Qe=function(){function Ie(z){var q=this;this.ngZone=z,this.restrict="A",this.link=function(_e,Ke,yt){var br,wt=Ke.closest(G.Nbb),zt=_e.$eval(yt.gridLayoutContainer),Jt=_e.$eval(yt.viewModel),qt=zt.gridLayoutService,ur=new ee(Jt,qt,zt),hr=new k(ur,Ke.get(0));q.isInAuthoringMode=_e.$eval(yt.inEditMobileLayoutMode),q.strategy=qt.strategy,Ke.addClass("gridLayoutItem"),ur.render=function(){hr.render()},zt.addGridLayoutItem(ur),!qt.strategy.willOverrideDisplayPosition&&!zt.gravityEnabled&&(ur.calculateLayout(),ur.applyLayout(W.XM.refresh)),window.setTimeout(function(){br=new X.nD(Ke,q.ngZone,{onDragStart:function(xr){ur.onDragStart()},onDragMove:function(xr){q.trackParentSize(Ke,!1),ur.onDragMove(xr)},onDragEnd:function(xr){q.setParentHeight(zt),ur.onDragEnd()},onResizeStart:function(xr){ur.onResizeStart();var Jr=_e.gridLayoutCallbacks&&_e.gridLayoutCallbacks.onResize;Jr&&Jr()},onResizeMove:function(xr){q.trackParentSize(Ke,!0),ur.onResizeMove(xr)},onResizeEnd:function(xr){q.setParentHeight(zt),ur.onResizeEnd()},restriction:q.getRestrictionType(),resizeHandleDirections:X.pX.DownRight,minWidth:zt.gridLayoutService.strategy.gridMinWidthOnResize,minHeight:zt.gridLayoutService.strategy.gridMinHeightOnResize,maxWidth:zt.gridLayoutService.strategy.gridMaxWidthOnResize,maxHeight:zt.gridLayoutService.strategy.gridMaxHeightOnResize,inertia:!1,autoScrollParent:wt,disableDrawing:!0,customHandleClass:"customHandle",supportsPointerCapture:!0}),q.setParentHeight(zt)}),Ke.keydown(function(Er){var xr=Er.shiftKey&&Er.ctrlKey;"true"===Ke.attr("drag-resize-disabled")||ne.M.isCtrlOrMeta(Er)&&!xr||(xr?q.keyboardResize(ur,zt,Ke,_e,Er.keyCode):q.keyboardMove(ur,zt,Ke,Er.keyCode))}),_e.$on("$destroy",function(){ur.remove(),br&&(br.destroy(),br=null),q.setParentHeight(zt,ur)})}}return Ie.prototype.trackParentSize=function(z,q){if(!this.preventHeightTracking()){r.fF.assertValue(this.strategy,"strategy can not be undefined");var _e=z.parent(),Ke=z.position().top+z.outerHeight()+this.strategy.gridItemSpacing;q&&Ke>=_e.height()&&_e.height(Ke+this.strategy.gridHeight)}},Ie.prototype.setParentHeight=function(z,q){if(!this.preventHeightTracking()){r.fF.assertValue(this.strategy,"strategy can not be undefined");for(var _e=z.element,yt=0,wt=0,zt=z.gridLayoutItems;wt<zt.length;wt++){var Jt=zt[wt],qt=Jt.top+Jt.height;qt>yt&&(yt=qt)}q&&(yt-=q.height),yt=this.calculateGridHeight(yt),_e.height(yt)}},Ie.prototype.calculateGridHeight=function(z){r.fF.assertValue(z,"currentHeight");var q=this.strategy.gridHeight;return Math.ceil(z/q)*q+this.strategy.gridItemSpacing/2},Ie.prototype.getRestrictionType=function(){return this.preventHeightTracking()?X.Si.None:X.Si.Parent},Ie.prototype.preventHeightTracking=function(){return!this.isInAuthoringMode},Ie.prototype.keyboardMove=function(z,q,_e,Ke){var yt=z.getLayoutPosition();switch(Ke){case 40:yt.y+=1;break;case 38:yt.y-=1;break;case 37:yt.x-=1;break;case 39:yt.x+=1;break;default:return}yt.y<0||yt.x<0||(z.onDragStart(),this.trackParentSize(_e,!1),this.setParentHeight(q),z.onDragEnd(),this.keepTileInView(_e))},Ie.prototype.keyboardResize=function(z,q,_e,Ke,yt){var wt={width:z.width,height:z.height};switch(yt){case 40:wt.height+=oe.lT;break;case 38:wt.height-=oe.lT;break;case 37:wt.width-=oe.A4;break;case 39:wt.width+=oe.A4;break;default:return}if(!(wt.width<oe.A4||wt.height<oe.lT)){z.onResizeStart();var zt=Ke.gridLayoutCallbacks&&Ke.gridLayoutCallbacks.onResize;zt&&zt(),this.trackParentSize(_e,!0),z.onResizeMove(wt),this.setParentHeight(q),z.onResizeEnd(),this.keepTileInView(_e)}},Ie.prototype.keepTileInView=function(z){z.get(0).scrollIntoView({behavior:"smooth",block:"end",inline:"end"})},Ie}(),de=function(){function Ie(){var z=this;this.restrict="A",this.link=function(q,_e,Ke){var yt,wt=Ke.inViewportOffset||"100%",zt=Ke.inViewportContext,Jt=_e.closest(zt);if(zt&&0===Jt.length)q.$evalAsync(Ke.inViewport);else{var ur=function(Er){Er.target===_e.get(0)&&yt.context.refresh()},hr={element:_e.get(0),handler:function(){q.$evalAsync(Ke.inViewport),yt.destroy(),_e.off("transitionend",ur)},offset:wt};Jt.length>0&&(hr.context=Jt.get(0)),yt=new Waypoint(hr),_e.on("transitionend",ur),z.attachResizeHandler()}}}return Ie.getRefreshAllHandler=function(){return _.debounce(Waypoint.refreshAll,250)},Ie.prototype.attachResizeHandler=function(){Ie.staticResizeHandlerAttached||($(window).resize(Ie.getRefreshAllHandler()),Ie.staticResizeHandlerAttached=!0)},Ie}(),pe=t(261374),le=function(){function Ie(z){var q=this;this.restrict="A",this.link=function(_e,Ke,yt){var wt=yt.localize;r.fF.assertValue(wt,"localizationIdOrExpression"),q.replaceText(Ke,yt,_e,wt),yt.dynamicLocalizeUpdate&&_e.$watch(function(){return yt.localize},function(Jt,qt){Jt!==qt&&q.replaceText(Ke,yt,_e,Jt)})},this.localizationService=z}return Ie.prototype.replaceText=function(z,q,_e,Ke){if(""!==Ke){var yt=this.localizationService.getOptional(Ke);if(void 0===yt){var wt=_e.$eval(Ke);if((0,pe.g)(wt))return;yt=this.localizationService.get(wt)}var Jt="localizeFragmentsAsync"in q;if("localizeFragments"in q||Jt){yt=yt||"";var qt=function(){for(var hr=function(){var Er=yt.search(new RegExp("\\{[0-9]+\\}","gm")),xr=yt.indexOf("}",Er);if(-1===Er)z.append(yt),yt="";else if(0===Er){var Jr=parseInt(yt.substring(Er+1,xr),10);yt=yt.substring(xr+1);var jr=z.children("[fragment-index="+Jr+"]");r.fF.assert(function(){return jr.length>0},"localize '"+Ke+"' failed: element with fragment-index="+Jr+" not found."),z.append(jr)}else z.append(yt.substring(0,Er)),yt=yt.substring(Er)};yt.length>0;)hr()};Jt?_e.$evalAsync(function(){qt()}):qt()}else z.text(yt||"")}},Ie}(),me=function(){return function(z){var q=this;this.restrict="A",this.link=function(_e,Ke,yt){var wt=yt.localizeTooltip||yt.localize||"";function Jt(qt,ur,hr){if(""!==ur){var br=hr.get(ur);qt.attr("title",br||""),void 0!==yt.useTooltipAsAriaLabel&&qt.attr("aria-label",br||"")}}void 0!==yt.dynamicTooltipUpdate&&_e.$watch(function(){return yt.localizeTooltip},function(qt,ur){qt!==ur&&Jt(Ke,qt,q.localizationService)}),Jt(Ke,wt,q.localizationService)},this.localizationService=z}}(),be=function(){return function(z){var q=this;this.restrict="A",this.link=function(_e,Ke,yt){r.fF.assert(function(){return!yt.ngIf},"`ngRepeatFinishedEvent` should not be used on elements with that have the `ng-if` directive");var wt=yt.ngRepeatFinishEvent;!0===_e.$last&&q.$timeout(function(){_e.$emit(wt)})},this.$timeout=z}}(),Be=t(826691),Se=function(){function Ie(z,q,_e){var Ke=this;this.$compile=z,this.pbiLazyLoadService=q,this.moduleLoader=_e,this.restrict="A",this.compile=function(yt,wt){var zt=yt[0].innerHTML;return yt.html(""),{post:function(qt,ur,hr){return Ke.postLink(qt,ur,hr,zt)}}}}return Ie.prototype.postLink=function(z,q,_e,Ke){return(0,l.__awaiter)(this,void 0,o.J,function(){var yt,wt,zt,Jt,qt;return(0,l.__generator)(this,function(hr){switch(hr.label){case 0:yt=z.$eval(_e.pbiLazyLoadContents),r.fF.assertValue(yt,"moduleConfig"),wt=this.$compile(Ie.SpinnerHtml)(z),q.append(wt),zt=!1,Jt=z.$on("$destroy",function(){return zt=!0}),hr.label=1;case 1:return hr.trys.push([1,6,7,8]),this.isModuleDependency(yt)?[4,this.moduleLoader.require(yt)]:[3,3];case 2:return hr.sent(),[3,5];case 3:return[4,this.pbiLazyLoadService.load(yt)];case 4:hr.sent(),hr.label=5;case 5:return zt||(wt.remove(),q.append(Ke),this.$compile(q.contents())(z)),[3,8];case 6:return qt=hr.sent(),Be.f.error(qt&&qt.message||qt),[3,8];case 7:return Jt(),[7];case 8:return[2]}})})},Ie.prototype.isModuleDependency=function(z){return null!=z.javascript},Ie.SpinnerHtml="<spinner [size]=\"'large'\" [position]=\"'centered'\"></spinner>",Ie}(),Pe=t(320569),ue=window.chromiumBridge,ve=function(){function Ie(){}return Ie.prototype.invoke=function(z){ue&&ue.call(z.operationName)},Ie}(),xe=function(){function Ie(){}return Ie.prototype.invoke=function(z){},Ie}(),Fe=new(function(){function Ie(){}return Ie.prototype.getData=function(z){try{if(sessionStorage)return JSON.parse(sessionStorage[z])}catch(q){return null}return null},Ie.prototype.setData=function(z,q){try{sessionStorage&&(sessionStorage[z]=JSON.stringify(q))}catch(_e){}},Ie}()),Ee=function(){function Ie(z,q){this.promiseFactory=z,this.hostInvokerService=q,this.deferredMap={},this.secret=Fe.getData("SecureMobileWebViewSecret")||void 0}return Ie.prototype.invoke=function(z,q,_e){var Ke=this.promiseFactory.defer(),yt={serviceName:z,operationName:q,invocationId:Q.b$.generateGuid(),oneWay:!1,arguments:_e,secret:this.secret};return this.deferredMap[yt.invocationId]=Ke,this.hostInvokerService.invoke(yt),Ke.promise},Ie.prototype.invokeAndForget=function(z,q,_e){var Ke={serviceName:z,operationName:q,invocationId:Q.b$.generateGuid(),oneWay:!0,arguments:_e,secret:this.secret};this.hostInvokerService.invoke(Ke)},Ie.prototype.onSuccess=function(z,q){if(z in this.deferredMap){var _e=void 0;if(angular.isDefined(q))try{_e=JSON.parse(q)}catch(yt){return void this.onFailure(z,"JSON parse error")}var Ke=this.deferredMap[z];delete this.deferredMap[z],Ke.resolve(_e)}},Ie.prototype.onFailure=function(z,q){if(z in this.deferredMap){var _e=this.deferredMap[z];delete this.deferredMap[z],_e.reject(q)}},Ie}(),K=function(Ie){return Ie[Ie.None=0]="None",Ie[Ie.PhantomJs=1]="PhantomJs",Ie[Ie.Chromium=2]="Chromium",Ie}({}),Ue=function(){function Ie(z){this.hostTypeName=z||this.getHostTypeNameOrDefault(),this.hostType=this.convertHostTypeNameToHostType(this.hostTypeName)}return Ie.prototype.getHostType=function(){return this.hostType},Ie.prototype.hasHostType=function(){return this.hostType!==K.None},Ie.prototype.isPhantomJs=function(){return this.hostType===K.PhantomJs},Ie.prototype.isChromium=function(){return this.hostType===K.Chromium},Ie.prototype.getHostTypeNameOrDefault=function(){for(var z=window.location.search.substr(1).split("&"),q=0,_e=z.length;q<_e;++q){var Ke=z[q].split("=");if("hostType"===decodeURIComponent(Ke[0]))return decodeURIComponent(Ke[1])}return"none"},Ie.prototype.convertHostTypeNameToHostType=function(z){switch(z.toLowerCase()){case"phantomjs":return K.PhantomJs;case"chromium":return K.Chromium;default:return K.None}},Ie}(),De=function(){function Ie(z){this.mixins=z}return Ie.prototype.update=function(z){for(var q=0,_e=this.mixins;q<_e.length;q++)_e[q].update(z)},Ie.prototype.destroy=function(){for(var z=0,q=this.mixins;z<q.length;z++){var _e=q[z];_e.destroy&&_e.destroy()}},Ie}(),Xe=function(){function Ie(z,q){this.$injector=z,this.factories=q,r.fF.assertValue(z,"$injector"),r.fF.assertValue(q,"factories"),this.instances=[]}return Ie.prototype.get=function(z){var q=this.instances[z];if(void 0!==q)return q;for(var _e=[],yt=0,wt=this.factories[z]||[];yt<wt.length;yt++)_e.push(this.instantiateMixin(wt[yt]));return q=new De(_e),this.instances[z]=q,q},Ie.prototype.instantiateMixin=function(z){var q=z.ng,Ke={};if(!_.isEmpty(q))for(var yt=this.$injector,wt=0,zt=q;wt<zt.length;wt++){var qt,Jt=zt[wt];qt=yt.get(Jt),Ke[Jt]=qt}return z.fn(Ke)},Ie}(),et=t(383052),ce=function(){function Ie(z){r.fF.assertValue(z,"q"),this.q=z}return Ie.prototype.defer=function(z){return z?new et.GG:this.q.defer()},Ie.prototype.reject=function(z,q){return q?M.I.reject(z):this.q.reject(z)},Ie.prototype.resolve=function(z){var q=this.defer();return q.resolve(z),q.promise},Ie.prototype.all=function(z,q){return q?M.I.all(z):this.q.all(z)},Ie.prototype.allSettled=function(z){var q=this.defer(),_e=z.length;if(_e>0)for(var Ke=0,yt=[],wt=function(qt){z[qt].then(function(ur){yt[qt]={value:ur,type:0}}).catch(function(ur){yt[qt]={value:ur,type:1}}).finally(function(){++Ke===_e&&q.resolve(yt)})},zt=0;zt<_e;zt++)wt(zt);else q.resolve([]);return q.promise},Ie.prototype.when=function(z){return this.q.when(z)},Ie}(),Ge=function(){function Ie(z){r.fF.assertValue(z,"injector"),this.injector=z,this.defaultServiceFactories={},this.serviceFactoriesByInstance={}}return Ie.prototype.register=function(z,q,_e){if(r.fF.assertValue(z,"serviceName"),r.fF.assertValue(q,"scopedAnnotatedFunction"),_e){var Ke=this.serviceFactoriesByInstance[_e]||{};Ke[z]=q,this.serviceFactoriesByInstance[_e]=Ke}else this.defaultServiceFactories[z]=q;return this},Ie.prototype.attachTo=function(z,q){q&&(z[Ie.InstanceNameProperty]=q);var _e=new ut(this.injector,this.getFactories(q),z);return z[Ie.getInstanceName(z)]=_e,_e},Ie.prototype.find=function(z){r.fF.assertValue(z,"scope");var q=z;do{var Ke=q[Ie.getInstanceName(q)];if(Ke)return Ke}while(q=q.$parent)},Ie.prototype.getFactories=function(z){var q=this.serviceFactoriesByInstance[z];if(!q)return this.defaultServiceFactories;var _e=(0,l.__assign)({},this.defaultServiceFactories);for(var Ke in q)_e[Ke]=q[Ke];return _e},Ie.getInstanceName=function(z){return z[Ie.InstanceNameProperty]||Ie.DefaultInstanceName},Ie.DefaultInstanceName="scopedInstances",Ie.InstanceNameProperty="instanceProperty",Ie}(),ut=function(){function Ie(z,q,_e){this.injector=z,this.factories=q,this.scope=_e,this.instances={}}return Ie.prototype.get=function(z,q){if(r.fF.assertValue(z,"name"),q||(q=this.scope),"$scope"===z)return q;var _e=this.instances[z];if(void 0!==_e)return _e;var Ke=this.factories[z];r.fF.assert(function(){return void 0!==Ke},"Could not find statefulService: "+z);var yt=[],wt=Ke.services;if(wt)for(var zt=this.injector,Jt=0,qt=wt.length;Jt<qt;Jt++)yt.push(zt.get(wt[Jt],z));var ur=Ke.scopedServices;if(ur)for(Jt=0,qt=ur.length;Jt<qt;Jt++){var br=this.get(ur[Jt],q);yt.push(br)}return Ke.scopedProviderInstance&&yt.push(this),this.instances[z]=_e=Ke.fn.apply(Ke,yt),_e},Ie.prototype.register=function(z,q){this.instances[q]=z},Ie}(),je={1:[],2:[],4:[]};"undefined"!=typeof angular&&(angular.module("powerbi.common",[]),angular.module("powerbi.common.directives",[]),angular.module("powerbi.common.components",[]),angular.module("powerbi.common.controllers",[]));var we=["powerbi.common.directives","powerbi.common.components","powerbi.common.controllers","stylelibrary","oc.lazyLoad","powerbi.a11y"];function ze(){er||(angular.module("powerbi.common",we).config(["$compileProvider",function(Ie){Ie.commentDirectivesEnabled(!1),Ie.cssClassDirectivesEnabled(!1)}]).config(["$qProvider",function(Ie){Ie.errorOnUnhandledRejections(!1)}]).factory("promiseFactory",["$q","$exceptionHandler","featureSwitchService",function(Ie,z,q){var _e=function(Ie){return new ce(Ie)}(Ie);return o.J.init(_e,z,!0,q.featureSwitches.useNativePromiseForPowerBIPromise),_e}]).factory("pbiTimeout",["$rootScope",function(Ie){return(0,g.k)(function(z){return Ie.$evalAsync(z)})}]).factory("scopedProvider",["$injector",function(Ie){return function(Ie){return new Ge(Ie)}(Ie)}]).provider("lazy",function(){var Ie=this;return this.factories={},this.$get=["$injector","moduleLoader","promiseFactory",function(z,q,_e){return function(Ie,z,q,_e){var Ke=new i(Ie,z,q,_e,{});return function(yt){return Ke.get(yt)}}(q,_e,z,Ie.factories)}],this}).provider("mixins",function(){var Ie=this;return this.factories={},this.$get=["$injector",function(z){return function(Ie,z){return new Xe(Ie,z)}(z,Ie.factories)}],this}).factory("hostTypeResolutionService",[function(){return new Ue}]).factory("hostInvokerService",["hostTypeResolutionService","$window","$http",function(Ie,z,q){return Ie.getHostType()===K.Chromium?new ve:new xe}]).factory("hostService",["promiseFactory","hostInvokerService",function(Ie,z){var q=new Ee(Ie,z);return q}]).factory("gridLayout",function(){return(0,Pe.jm)()}).provider("pbiLazyLoad",u).provider("telemetryService",function(){return this.$get=["modernTelemetryService",function(z){var q,_e=window;try{if(_e!==_e.parent)for(var Ke=0;_e&&(null!=_e.opener||_e!==_e.parent)&&null==q&&Ke<5;)q=(_e=_e.opener||_e.parent).powerbi&&_e.powerbi.common&&_e.parentTelemetryService,Ke++;if(q)return q}catch(yt){}return q=z}],this}).factory("embedModeService",function(){return null}).run(["ngZone",function(Ie){P.l.initialize(Ie)}]).run(["pbiTimeout","featureSwitchService",function(Ie,z){M.I.init(Ie,!1,void 0,z.featureSwitches.useNativePromiseForPbiPromise)}]).run(["activeFolderId",function(Ie){(0,S.hG)().activeFolderIdService=Ie}]),er=!0)}function $e(Ie,z,q){r.fF.assertValue(Ie,"hostEnv"),r.fF.assertValue(z,"baseBlocks"),r.fF.assertValue(q,"moduleDetails");for(var _e=0,Ke=z;_e<Ke.length;_e++){var yt=Ke[_e],wt=yt.consumerHostFlags;null==wt&&(wt=2097151),null!=yt.excludedConsumerHostFlags&&(wt&=~yt.excludedConsumerHostFlags),(wt&Ie)===Ie&&_t(yt.name,yt.blockType,yt.factory,yt.syncModule,q,yt.dependencies)}}function _t(Ie,z,q,_e,Ke,yt){r.fF.assertValue(Ie,"name"),r.fF.assertValue(z,"blockType"),r.fF.assertAnyValue(_e,"syncModule"),r.fF.assertValue(Ke,"moduleDetails"),r.fF.assertAnyValue(yt,"dependencies"),r.fF.assert(function(){return!_e||_e&&!yt},"!syncModule || (syncModule && !dependencies)");var wt=_.camelCase(Ie),zt=je[z];(0,d.wS)(zt,"Attempt to register unknown base block type"),!_.includes(zt,wt)&&(function(Ie,z){return 2===z}(0,z)?function(Ie,z,q,_e,Ke){var yt;r.fF.assertValue(Ie,"component name must be defined"),r.fF.assertAnyValue(q,"syncModule"),r.fF.assertValue(_e,"moduleTarget must be defined"),!z&&!q&&r.fF.assertValue(Ke,"modulesMap must be defined"),yt=z||(q?E(q):Ke[Ie]),Ie=_.camelCase(Ie),angular.module(_e).component(Ie,yt)}(Ie,q,_e,Ke.componentsTarget,Ke.componentsMap):function(Ie,z){return 1===z}(0,z)?function(Ie,z,q,_e,Ke,yt){var wt;r.fF.assertValue(Ie,"component name must be defined"),r.fF.assertAnyValue(q,"syncModule"),r.fF.assertAnyValue(_e,"dependencies"),r.fF.assertValue(Ke,"moduleTarget must be defined"),!z&&!q&&r.fF.assertValue(yt,"modulesMap must be defined"),z?(wt=z).ng&&(_e=wt.ng):q?_e=(wt=E(q)).ng:wt=yt[Ie],Ie=_.camelCase(Ie),_e||(_e=[]),_e.push(function(){for(var zt=[],Jt=0,qt=arguments.length;Jt<qt;Jt++)zt.push(arguments[Jt]);return new(Function.prototype.bind.apply(wt,[null].concat(zt)))}),angular.module(Ke).directive(Ie,_e)}(Ie,q,_e,yt,Ke.directivesTarget,Ke.directivesMap):function(Ie,z){return 4===z}(0,z)?function(Ie,z,q,_e,Ke){var yt;r.fF.assertValue(Ie,"component name must be defined"),r.fF.assertAnyValue(q,"syncModule"),r.fF.assertAnyValue(_e,"moduleTarget must be defined"),!z&&!q&&r.fF.assertAnyValue(Ke,"modulesMap must be defined"),yt=z||(q?E(q):Ke[Ie]),Ie=_.camelCase(Ie),angular.module(_e).filter(Ie,yt)}(Ie,q,_e,Ke.filtersTarget,Ke.filtersMap):r.fF.assertNever(q),zt.push(wt))}var er=!1;function ar(){sr||(ze(),angular.module("powerbi.visualHost",["powerbi.common"]),sr=!0)}"undefined"==typeof angular&&(er=!0),ze();var sr=!1;function gr(Ie){Ie.put("views/canvasVisualHeaderIcon.html",'<button tooltip tooltip-config="$ctrl.tooltipConfigManager.getTooltipConfig()" ng-disabled="!$ctrl.isClickable()" ng-switch="$ctrl.iconType"><i class="infoIcon glyphicon {{$ctrl.useStylableHeader() ? \'pbi-glyph-info-nocircle\' : \'pbi-glyph-info\'}}" ng-switch-when="info"></i><i class="warningIcon pbi-glyph-warning glyphicon" ng-switch-when="warning"></i><i class="errorIcon pbi-glyph-error glyphicon" ng-switch-when="error"></i></button>')}"undefined"==typeof angular&&(sr=!0),ar();var Sr=!1;"undefined"==typeof angular&&(Sr=!0),Sr||(ze(),ar(),angular.module("powerbi.explore.controllers",[]),angular.module("powerbi.explore.directives",[]),angular.module("powerbi.explore.components",[]),angular.module("powerbi.explore",["powerbi.common","powerbi.explore.controllers","powerbi.explore.directives","powerbi.explore.components","powerbi.visualHost"]).run(["$templateCache",gr]),Sr=!0);var St=t(712174),Gt=t(37743),rr=t(509775),Fr=t(967480),wr=t(883863),Vr=t(166851),Ar=t(412154),vr=t(419509),$r=t(243877),Qr=t(519375),zr=t(148886),Or=t(889377),ei=t(504159),Xr=t(32309),Nr=t(480429),Yr=t(809942),Hr=t(597314),Zr=t(922820),ft=t(257960),ht=t(672808),xt=t(376705),lt=t(749458),nt=t(922321);function gt(Ie,z){return Ie.webUri&&Ie.etagHash?"".concat(Ie.webUri,"/_layouts/WopiFrame.aspx?sourcedoc={").concat(Ie.etagHash,"}&action=").concat(z):""}var At=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li,mi){this.authenticationService=z,this.explorationSerializer=q,this.featureSwitchService=_e,this.geocoder=Ke,this.geolocationService=yt,this.localizationService=wt,this.moduleLoader=zt,this.permissionService=Jt,this.promiseFactory=qt,this.reportModelConverter=ur,this.telemetryService=hr,this.themeService=br,this.tileConfigUpgraderService=Er,this.visualHostTooltipService=xr,this.visualPluginOps=Jr,this.visualPlugins=jr,this.appModelConverter=Gr,this.$injector=qr,this.datasetModelConverter=ai,this.packageModelConverter=ci,this.azureMapTokenCache=vi,this.azureMapsEndpoint=li,this.geocoderIndexedDB=mi,r.fF.assertValue(yt,"geolocationService"),r.fF.assertValue(hr,"telemetryService"),r.fF.assertValue(jr,"visualPlugins"),r.fF.assertValue(Jt,"permissionService")}return Ie.prototype.setModelMerger=function(z){r.fF.assertValue(z,"modelMerger"),this.modelMerger=z},Ie.prototype.convertCompositeTile=function(z){return this.tileModelConverter.convertCompositeTile(z)},Ie.prototype.convertTileData=function(z){return this.tileModelConverter.convertTileData(z)},Ie.prototype.convertDashboard=function(z,q,_e,Ke){var yt=this,wt=this.convertDashboardShallow(z);return z.tiles&&(wt.lazyTiles=new Vr.o(function(){return _.map(z.tiles,function(zt){return yt.convertTile(zt,q,_e,Ke)})})),wt},Ie.prototype.convertDashboardShallow=function(z){var q=this,_e=new Qr.A(z);return _e.getPermissionsCallback=function(){return q.permissionService.getDashboardEffectivePermissions(z)},_e.dataClassificationId=z.dataClassificationId,_e.folderId=z.folderId,this.modelMerger.mergeDashboardShallow(_e,z),_e},Ie.prototype.convertIframeTile=function(z){if(!z||z.type!==vr.YU.iframe)return null;var q=new Nr.h(z),_e=this.convertTileConfig(z);return this.convertTileLayoutConfig(z),_e&&_e.iframe&&(q.srcUrl=_e.iframe.srcUrl,q.embedCode=_e.iframe.embedCode),q.isLoading=(0,Or.r5)(z),q},Ie.prototype.convertImageTile=function(z){if(!z||z.type!==vr.YU.image)return null;var q=new Yr.n(z);return this.convertTileLayoutConfig(z),q.displayText=z.displayText,q.subDisplayText=z.subDisplayText,"number"!=typeof q.contract.reportId||z.config?(q.isStatic=!1,q.imageUrl=this.getImageUrl(z)):(q.isStatic=!0,q.imageUrl=Ar.yE),q.isLoading=(0,Or.r5)(z),q},Ie.prototype.convertInstalledAppModel=function(z,q){return this.appModelConverter.convertInstalledAppModel(z,q)},Ie.prototype.convertModel=function(z){return this.datasetModelConverter.convertModel(z)},Ie.prototype.convertModelTile=function(z){if(!z||z.type!==vr.YU.model)return null;var q=new Hr.U(z);return this.convertTileLayoutConfig(z),q.displayText=z.displayText,q.isLoading=(0,Or.r5)(z),q.subDisplayText=z.subDisplayText,q},Ie.prototype.convertPackage=function(z){return this.packageModelConverter.convertPackage(z)},Ie.prototype.convertRealTimeTile=function(z){return(0,zr.b)(z,{authenticationService:this.authenticationService,featureSwitchService:this.featureSwitchService,geocoder:this.geocoder,geolocationService:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,telemetryService:this.telemetryService,themeService:this.themeService,tileModelConverter:this.tileModelConverter,visualHostTooltipService:this.visualHostTooltipService,visualPlugin:this.visualPlugins,visualPluginOps:this.visualPluginOps,azureMapTokenCache:this.azureMapTokenCache,azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB})},Ie.prototype.convertReport=function(z){return this.reportModelConverter.convertReport(z)},Ie.prototype.convertReportTile=function(z){return z&&z.type===vr.YU.report?(this.convertTileLayoutConfig(z),new ft.I(z)):null},Ie.prototype.convertSpecificTileShallow=function(z,q){switch(this.convertTileLayoutConfig(z),z.type){case vr.YU.composite:var _e=this.convertTileConfig(z);if(_e&&_e.visualContainer?q.composite=new Xr.iI(z,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory):r.fF.assertFail("Invalid composite tile type"),q.composite){var Ke=(0,$r.gq)(z);q.composite.size={rowSpan:Ke.height,colSpan:Ke.width},q.composite.isLoading=(0,Or.r5)(z)}break;case vr.YU.iframe:q.iframe=new Nr.h(z),q.iframe.isLoading=(0,Or.r5)(z);break;case vr.YU.image:q.image=new Yr.n(z),q.image.isLoading=(0,Or.r5)(z);break;case vr.YU.model:q.model=new Hr.U(z),q.model.isLoading=(0,Or.r5)(z);break;case vr.YU.ssrs:q.model=new ht.L(z),q.model.isLoading=(0,Or.r5)(z);break;case vr.YU.workbook:q.workbook=new lt.V(z,q),q.workbook.isLoading=(0,Or.r5)(z);break;case vr.YU.report:q.model=new ft.I(z),q.model.isLoading=(0,Or.r5)(z);break;case vr.YU.realTime:this.convertTileConfig(z),q.realTime=new Zr.V(z,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB);break;default:r.fF.assertFail("Invalid tile type")}},Ie.prototype.convertSsrsTile=function(z){if(!z||z.type!==vr.YU.ssrs)return null;this.convertTileLayoutConfig(z);var q=new ht.L(z);return z.config&&(q.imageUrl=this.getSsrsImageUrl(z)),q.isLoading=(0,Or.r5)(z),q},Ie.prototype.convertTile=function(z,q,_e,Ke){this.convertTileLayoutConfig(z);var yt=this.convertTileShallow(z,q,_e);if(this.modelMerger.mergeTile(yt,z,q,_e,Ke),null!=z.reportId){var wt=this.getTileReport(z.reportId,_e);wt&&(yt.report=yt.report||new Fr.y(wt),this.fillReport(yt.report,wt))}return yt},Ie.prototype.convertTileLayoutConfig=function(z){return this.tileModelConverter.convertTileLayoutConfig(z)},Ie.prototype.convertTileAction=function(z){r.fF.assertValue(z,"contract");var q=z.$action;if(!q){var _e;if(z.action&&0===z.action.indexOf("{"))try{_e=JSON.parse(z.action)}catch(Ke){r.fF.assertFail("Unable to parse tile action")}else _e={action:z.action};q=z.$action=_e}return q},Ie.prototype.convertTileConfig=function(z){return this.tileModelConverter.convertTileConfig(z)},Ie.prototype.convertTileShallow=function(z,q,_e){this.convertTileLayoutConfig(z);var Ke=new xt.n9(z,this.localizationService,this.forceOpenCustomLinksInNewTab);return this.modelMerger.mergeTileShallow(Ke,z,q,_e),Ke},Ie.prototype.convertWorkbook=function(z){var q=this,_e=this.convertWorkbookShallow(z);return z&&(_e.id=z.id,_e.modelId=z.modelId,_e.viewUrl=this.getWorkbookViewUrl(z),_e.editUrl=this.getWorkbookEditUrl(z),_e.embedUrl=this.getWorkbookEmbedView(z),_e.name=z.name,_e.displayName=z.displayName,_e.description=z.description,_e.fileName=z.fileName,_e.packageId=z.packageId,_e.isNew=z.isNew,_e.getPermissionsCallback=function(){return q.permissionService.getWorkbookEffectivePermissions(z)}),_e},Ie.prototype.convertWorkbookShallow=function(z){return new nt.I(z)},Ie.prototype.convertWorkbookTile=function(z,q,_e){if(!z||z.type!==vr.YU.workbook)return null;this.convertTileLayoutConfig(z);var Ke=new lt.V(z,_e);Ke.displayText=z.displayText,Ke.subDisplayText=z.subDisplayText,Ke.isLoading=(0,Or.r5)(z),Ke.image=z.tileDataBinaryBase64Encoded,Ke.keepOriginalContentSize=z.$config.workbookTile&&z.$config.workbookTile.keepOriginalContentSize?z.$config.workbookTile.keepOriginalContentSize:Ar.LN;var yt=z.$config.workbookTile;return q?(yt&&(Ke.embedUrl=q.embedUrl+"&item="+yt.item),q.contract&&(Ke.webUri=q.contract.webUri)):r.fF.assertFail("Unexpected tile from a non existent workbook"),Ke},Ie.prototype.fillDashboardChildren=function(z,q,_e,Ke){var yt=this,wt=z.contract;z.displayName!==wt.displayName&&(z.displayName=wt.displayName),wt.tiles&&(z.lazyTiles=new Vr.o(function(){return wt.tiles.map(function(zt){return yt.convertTile(zt,q,_e,Ke)})}))},Ie.prototype.fillReport=function(z,q){this.reportModelConverter.fillReport(z,q)},Ie.prototype.getImageUrl=function(z){var q=this.convertTileConfig(z);if(q&&q.imageTile)return q.imageTile.imageUrl},Ie.prototype.getSsrsImageUrl=function(z){var q=this.convertTileConfig(z);if(q&&q.ssrsTile)return q.ssrsTile.imageUrl},Ie.prototype.getTileModel=function(z,q){var _e;if(q){var Ke=(0,wr.cq)(q,function(yt){return yt&&yt.id===z});-1!==Ke&&(_e=q[Ke])}return _e},Ie.prototype.getTileReport=function(z,q){var _e;if(q){var Ke=(0,wr.cq)(q,function(yt){return yt&&yt.id===z});-1!==Ke&&(_e=q[Ke])}return _e},Ie.prototype.getTileWorkbook=function(z,q,_e){var Ke;if(_e){var yt=(0,wr.cq)(_e,function(wt){return wt.id===z&&wt.packageId===q});-1!==yt&&(Ke=_e[yt])}return Ke},Ie.prototype.resolveTilePackage=function(z,q){if(z.packageId){var _e=(0,wr.cq)(q,function(Ke){return Ke.id===z.packageId});-1!==_e&&(z.tilePackage=q[_e])}},Ie.prototype.getWorkbookViewUrl=function(z){return gt(z,"view")},Ie.prototype.getWorkbookEditUrl=function(z){return gt(z,"edit")},Ie.prototype.getWorkbookEmbedView=function(z){return gt(z,"embedview")},Object.defineProperty(Ie.prototype,"forceOpenCustomLinksInNewTab",{get:function(){var q;try{q=this.$injector.get("forceOpenCustomLinksInNewTab")}catch(_e){q=!1}return q},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"licenseUIManagerFactory",{get:function(){return this._licenseUIManagerFactory||(this._licenseUIManagerFactory=this.$injector.get("licenseUIManagerFactory")),this._licenseUIManagerFactory},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"tileModelConverter",{get:function(){return this._tileModelConverter||(this._tileModelConverter=(0,ei.N)(this.geolocationService,this.telemetryService,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geocoder,this.promiseFactory,this.moduleLoader,this.tileConfigUpgraderService,this.explorationSerializer,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.licenseUIManagerFactory,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB)),this._tileModelConverter},enumerable:!1,configurable:!0}),Ie}(),kt=t(909748),nr=function(){function Ie(z,q){r.fF.assertValue(z,"modelConverter"),this.modelConverter=z,this.permissionService=q}return Ie.prototype.mergeDashboard=function(z,q,_e,Ke,yt){var wt=this,zt=this.modelConverter.convertDashboard(q,_e,Ke,yt);z.contract=q,z.displayName=zt.displayName,z.getPermissionsCallback=function(){return wt.permissionService.getDashboardEffectivePermissions(q)},z.contract.modelIds=q.modelIds,z.contract.reportIds=q.reportIds,z.contract.packageIds=q.packageIds,z.contract.workbookIds=q.workbookIds,z.qnaEnabled=q.qnaEnabled,z.gravityEnabled=q.gravityEnabled,z.annotationsEnabled=q.annotationsEnabled,z.isSharedFromSecurityGroup=q.isSharedFromSecurityGroup,z.isHidden=q.isHidden;var Jt=z.tiles;z.lazyTiles=new Vr.o(function(){var qt=[];if(_.isEmpty(zt.tiles))return qt;for(var ur=_.keyBy(Jt,function(Jr){return Jr&&Jr.id}),hr=0,br=zt.tiles;hr<br.length;hr++){var Er=br[hr],xr=ur[Er.id];xr?(qt.push(xr),wt.mergeTile(xr,Er.contract,_e,Ke,yt)):qt.push(Er)}return qt})},Ie.prototype.mergeArtifactOwnerInfo=function(z,q){z.ownerFullname=(0,kt.P)(q.givenName,q.familyName),z.ownerMail=q.emailAddress,q.userObjectId&&(z.ownerUserObjectId=q.userObjectId),q.groupObjectId&&(z.ownerGroupObjectId=q.groupObjectId),z.contract.ownerInfo||(z.contract.ownerInfo=q)},Ie.prototype.mergeDashboardShallow=function(z,q){var _e=this;q.displayName&&(z.displayName=q.displayName),void 0!==q.permissions&&(z.getPermissionsCallback=function(){return _e.permissionService.getDashboardEffectivePermissions(q)},z.contract.permissions=q.permissions),q.modelIds&&(z.contract.modelIds=q.modelIds),q.reportIds&&(z.contract.reportIds=q.reportIds),q.workbookIds&&(z.contract.workbookIds=q.workbookIds),q.packageIds&&(z.contract.packageIds=q.packageIds),void 0!==q.isStaging&&(z.contract.isStaging=q.isStaging),void 0!==q.qnaEnabled&&(z.qnaEnabled=q.qnaEnabled),void 0!==q.gravityEnabled&&(z.gravityEnabled=q.gravityEnabled),void 0!==q.annotationsEnabled&&(z.annotationsEnabled=q.annotationsEnabled),void 0!==q.isSharedFromSecurityGroup&&(z.isSharedFromSecurityGroup=q.isSharedFromSecurityGroup),void 0!==q.isHidden&&(z.isHidden=q.isHidden),void 0!==q.ownerInfo&&this.mergeArtifactOwnerInfo(z,q.ownerInfo),z.sharedTime=q.sharedTime||"/Date(0)/"},Ie.prototype.mergeDashboardTiles=function(z,q){var _e=q.models||[],Ke=q.reports||[],yt=q.workbooks||[],wt=q.packages||[],zt=z.contract.tiles;if(zt)for(var Jt=0,qt=zt;Jt<qt.length;Jt++)this.modelConverter.resolveTilePackage(qt[Jt],wt);var hr=z.tiles;if(hr)for(var br=0,Er=hr;br<Er.length;br++){var xr=Er[br];this.mergeTile(xr,xr.contract,_e,Ke,yt)}},Ie.prototype.mergeModelContentProviderId=function(z,q){if(z)for(var _e=0,Ke=z;_e<Ke.length;_e++){var yt=Ke[_e];yt.contentProviderId=yt.contentProviderId||(0,$r.ER)(q,yt.packageId)}},Ie.prototype.mergeTileShallow=function(z,q,_e,Ke){this.modelConverter.convertTileLayoutConfig(q),z.contract=q,z.type=q.type,this.mergeTileLayoutConfig(z,q),z.displayText=q.displayText,z.subDisplayText=q.subDisplayText,z.backgroundImageUrl=this.modelConverter.getImageUrl(q),z.errorCode=q.errorCode;var yt=this.modelConverter.getTileReport(q.reportId,Ke);if(q.query&&q.query.modelQuery&&(z.utterance=q.query.modelQuery.utterance),z.action=this.modelConverter.convertTileAction(q),z.config=this.modelConverter.convertTileConfig(q),z.isLoading=(0,Or.r5)(q),z.isLocked=(0,Or.qX)(q),q.modelId){var wt=this.modelConverter.getTileModel(q.modelId,_e);wt&&(z.vsName=wt.vsName,z.dbName=wt.dbName)}q.reportId&&(z.report=z.report||this.modelConverter.convertReport(yt),z.report.id=q.reportId),yt&&(this.modelConverter.fillReport(z.report,yt),z.action||(z.action={action:"/openReport"})),this.modelConverter.convertSpecificTileShallow(q,z)},Ie.prototype.mergeTileLayoutConfig=function(z,q){if(r.fF.assertValue(q.$layoutConfig,"TileLayoutConfig is not set"),!(z.layoutPosition.x&&z.layoutPosition.y&&z.layoutPosition.width&&z.layoutPosition.height)){var _e=(0,wr.Br)(q.$layoutConfig.layouts),Ke=z.gridLayoutContext,yt=Ke?Ke.getActiveLayout():0,wt=_e.withId(yt);wt&&this.mergeLayoutPosition(z.layoutPosition,wt.position)}},Ie.prototype.mergeLayoutPosition=function(z,q){q&&(z.x=z.x||q.x,z.y=z.y||q.y,z.width=z.width||q.width,z.height=z.height||q.height)},Ie.prototype.mergeTile=function(z,q,_e,Ke,yt,wt){var zt=z.composite,Jt=z.realTime;this.mergeTileShallow(z,q,_e,Ke),z.composite=this.modelConverter.convertCompositeTile(q),zt&&z.composite&&(z.composite.setDataLoadEventDelegate(zt.dataLoadEventDelegate),z.composite.copyDependencies(zt),zt instanceof Xr.iI&&z.composite instanceof Xr.iI&&this.mergeVisual(z.composite.visual,zt.visual),zt.tileDataIsVolatile&&zt.tileData&&zt.tileData.data&&(z.composite.tileData=zt.tileData)),z.iframe=this.modelConverter.convertIframeTile(q),z.image=this.modelConverter.convertImageTile(q),z.model=this.modelConverter.convertModelTile(q),z.ssrs=this.modelConverter.convertSsrsTile(q);var qt=this.modelConverter.convertRealTimeTile(q);if(this.updateTileRealTimeModel(z,Jt,qt),z&&z.reportTile){var ur=z.reportTile.exploration;z.reportTile=this.modelConverter.convertReportTile(q),z.reportTile.exploration=ur}else z.reportTile=this.modelConverter.convertReportTile(q);if(!_.isEmpty(yt)){var hr=this.modelConverter.getTileWorkbook(q.workbookId,q.packageId,yt);if(hr){var br=this.modelConverter.convertWorkbook(hr);z.workbook=this.modelConverter.convertWorkbookTile(q,br,z)}}if(Ke){var Er=this.modelConverter.getTileReport(q.reportId,Ke);Er?(z.report=z.report||this.modelConverter.convertReport(Er),this.modelConverter.fillReport(z.report,Er)):z.report=null,z.contractsReport=this.modelConverter.getTileReport(q.reportId,Ke)}else if(wt){for(var xr=void 0,Jr=0,jr=wt.length;Jr<jr;Jr++)if(q.reportId===wt[Jr].id){xr=wt[Jr];break}xr&&(z.report=z.report||xr,this.modelConverter.fillReport(z.report,xr.contract),z.contractsReport=xr.contract)}q.modelId&&(z.contractsModel=this.modelConverter.getTileModel(q.modelId,_e))},Ie.prototype.mergeInstalledAppModel=function(z,q,_e){var Ke=this.modelConverter.convertInstalledAppModel(q,_e);delete Ke.isFavorite,delete Ke.isFavoriteDisabled,delete Ke.favoriteInfo,_.extend(z,Ke)},Ie.prototype.updateTileRealTimeModel=function(z,q,_e){z.realTime=_e,q&&z.realTime&&z.realTime.copyRealTimeModelDependencies(q)},Ie.prototype.mergeVisual=function(z,q){r.fF.assertValue(z,"visualToUpdate"),r.fF.assertValue(q,"sourceVisual"),q.visual&&z.type===q.type&&(z.visual=q.visual),z.viewport=q.viewport},Ie}(),lr=t(714725),dr=function(){function Ie(){this.items=[],this.listeners=[]}return Ie.prototype.addItem=function(z){if(null!=z&&!_.includes(this.items,z)){this.items.push(z);for(var _e=0,Ke=this.listeners;_e<Ke.length;_e++){var yt=Ke[_e];yt.onAdded&&yt.onAdded(z)}}},Ie.prototype.deleteItems=function(z){if(!z)return[];if(_.isEmpty(this.items))return[];var q=_.remove(this.items,z);if(!_.isEmpty(q)){var _e=this.listeners;if(!_.isEmpty(_e))for(var Ke=0,yt=q;Ke<yt.length;Ke++)for(var wt=yt[Ke],zt=0,Jt=_e;zt<Jt.length;zt++){var qt=Jt[zt];qt.onDeleted&&qt.onDeleted(wt)}}return q},Ie.prototype.setItems=function(z){this.items=z;for(var _e=0,Ke=this.listeners;_e<Ke.length;_e++){var yt=Ke[_e];yt.onReset&&yt.onReset()}},Ie.prototype.subscribe=function(z){r.fF.assertValue(z,"subscribe: listener"),this.listeners.push(z)},Ie.prototype.unsubscribe=function(z){_.remove(this.listeners,z)},Ie}(),Pr=function(){function Ie(z,q,_e){var Ke=this;this.dataServiceModelConverter=z,this.appStore=q,this.dataServiceModelMerger=_e,this.instances=new dr,this.packageIdToAppMap={},this.appStore.installedApps.subscribe(function(yt){Ke.onAppsUpdated(yt.apps,yt.packages)})}return Object.defineProperty(Ie.prototype,"appInstances",{get:function(){return this.instances.items},enumerable:!1,configurable:!0}),Ie.prototype.getAppInstance=function(z){return this.getAppInstanceInternal(z)},Ie.prototype.getAppInstanceInternal=function(z){return _.find(this.instances.items,function(q){return q.packageId===z})},Ie.prototype.onAppsUpdated=function(z,q){for(var _e=[],Ke=this.packageIdToAppMap,yt=this.dataServiceModelMerger,wt=this.dataServiceModelConverter,zt=0;zt<z.length;zt++){var Jt=z[zt],qt=q[zt],ur=Ke[qt.id];ur?ur.providerContract!==Jt&&yt.mergeInstalledAppModel(ur,Jt,qt):ur=wt.convertInstalledAppModel(Jt,qt),_e.push(ur)}this.instances.setItems(_e),this.packageIdToAppMap=_.keyBy(_e,function(hr){return hr.packageId})},Ie}(),pt=function(){function Ie(){this.collection=new dr,this.map={}}return Object.defineProperty(Ie.prototype,"dashboards",{get:function(){return this.collection.items},set:function(q){this.collection.setItems(q),this.map=_.keyBy(q,function(_e){return _e.objectId})},enumerable:!1,configurable:!0}),Ie.prototype.findDashboardByObjectId=function(z){return this.map[z]},Ie}(),se=t(572417),vt=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr){var jr=this;this.dashboardHttpService=z,this.groupStore=q,this.promiseFactory=_e,this.modelConverter=Ke,this.modelMerger=yt,this.modelService=wt,this.dashboardCollectionService=zt,this.$timeout=Jt,this.dashboardStore=qt,this.appMetadataService=ur,this.permissionService=hr,this.datasetRefreshListener=Er,this.reportStore=Jr,this.refreshStateListeners=[],this.dashboardCollectionService=zt,this.dashboardsDeferred=_e.defer(),this.datasetRefreshListener.addModelUpdateListener(this),this.refreshState=0,this.appMetadataService.getAppMetadata().then(function(){jr.dashboardStore.selectedDashboard.subscribe(function(Gr){jr.activeDashboardId=Gr?Gr.id:jr.activeDashboardId,jr.activeDashboardObjectId=Gr?Gr.objectId:jr.activeDashboardObjectId,jr.updateActiveDashboardModelsInternal(Gr)})}),this.dashboardsAfterFolderSwitchDeferred=this.promiseFactory.defer(),this.appMetadataService.getAppMetadata().then(function(){jr.groupStore.selectedFolderId$.subscribe(function(){jr.dashboardsAfterFolderSwitchDeferred.resolve(),jr.dashboardsAfterFolderSwitchDeferred=jr.promiseFactory.defer()}),br.ensureReportsInitialization().then(function(){jr.dashboardStore.dashboards.subscribe(function(Gr){var ai,ci,vi,qr=_.keyBy(jr.dashboards,function(li){return li&&li.objectId});jr.dashboards=_.filter(Gr,function(li){return!!li}).map(function(li){var mi=qr[li.objectId];return mi?(jr.modelMerger.mergeDashboardShallow(mi,li),mi):(_.isEmpty(ai)&&(ai=_.map(wt.models,function(Di){return Di.contract}),jr.reportStore.reports.subscribe(function(Di){ci=Di}),vi=_.map(xr.workbooks,function(Di){return Di.contract})),jr.modelConverter.convertDashboard(li,ai,ci,vi))}),jr.dashboardsAfterFolderSwitchDeferred.resolve(),jr.dashboardsDeferred.resolve(jr)})})},function(){jr.dashboardsDeferred.reject(),jr.dashboardsAfterFolderSwitchDeferred.reject()})}return Ie.prototype.registerRefreshStateListener=function(z){r.fF.assertValue(z,"refreshStateListener"),_.includes(this.refreshStateListeners,z)||this.refreshStateListeners.push(z)},Ie.prototype.unregisterRefreshStateListener=function(z){r.fF.assertValue(z,"refreshStateListener"),_.remove(this.refreshStateListeners,z)},Ie.prototype.onDashboardTileRefreshStarted=function(z){this.activeDashboardId===z&&0===this.refreshState&&this.notify(1,z)},Ie.prototype.onDashboardTileRefreshFinished=function(z){var q=this;this.activeDashboardId===z&&1===this.refreshState&&(this.notify(2,z),this.$timeout(function(){return q.notify(0,z)},3e3))},Ie.prototype.notify=function(z,q){this.refreshState=z;for(var _e=0,Ke=this.refreshStateListeners;_e<Ke.length;_e++)Ke[_e].onStateChange(this.refreshState,q)},Object.defineProperty(Ie.prototype,"dashboards",{get:function(){return this.dashboardCollectionService.dashboards},set:function(q){this.dashboardCollectionService.dashboards=q},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"activeDashboard",{get:function(){return this.activeDashboardObjectId?this.findDashboardByGUID(this.activeDashboardObjectId):null},set:function(q){q?(this.activeDashboardId=q.id,this.activeDashboardObjectId=q.objectId):(this.activeDashboardId=-1,this.activeDashboardObjectId=null),this.dashboardStore.select(q?q.contract:null),this.refreshState=0},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"displayName",{get:function(){return this.activeDashboard?this.activeDashboard.displayName:""},enumerable:!1,configurable:!0}),Ie.prototype.deleteTile=function(z,q){var _e=this,Ke=this.promiseFactory.defer(),yt=this.findDashboard(z);return yt?this.tryUpdateTile(yt,q,function(wt,zt){if(wt>=0&&zt>=0){var Jt=yt.contract.tiles[wt];yt.contract.tiles.splice(wt,1),yt.tiles.splice(zt,1),yt.hasModel(Jt.modelId)||_e.dashboardHttpService.addDashboardRequestToBatch(_e.promiseFactory,yt.id,!1,0).done(function(qt){_e.modelMerger.mergeDashboardShallow(yt,qt.dashboards[0]),_e.updateActiveDashboardModels(),Ke.resolve(null)}).fail(function(){Ke.reject()})}else Ke.resolve(null)}):Ke.resolve(null),Ke.promise},Ie.prototype.dropDashboardfromMemoryIfNotActive=function(z){var q=this.activeDashboard;return!(q&&q.id===z||(this.findDashboard(z)&&this.dashboardStore.unloadDashboardTiles(z),0))},Ie.prototype.findDashboard=function(z){return _.find(this.dashboards,function(q){return q.id===z})},Ie.prototype.findDashboardByGUID=function(z){return this.dashboardCollectionService.findDashboardByObjectId(z)},Ie.prototype.retrieveDashboardForApp=function(z,q){return _.find(this.dashboards,function(_e){return _e.getUniquePackageId()===z&&_e.contract.originalDashboardObjectId===q})},Ie.prototype.tryUpdateTile=function(z,q,_e){if(z){var Ke=z.getTileContractIndex(q),yt=z.getTileIndex(q);r.fF.assert(function(){return Ke<z.contract.tiles.length},"Contract index out-of-range"),r.fF.assert(function(){return yt<z.tiles.length},"Model index out-of-range"),_e(Ke,yt),z.scheduleDelayedLayout(this.activeDashboard!==z)}},Ie.prototype.updateActiveDashboardModels=function(){this.updateActiveDashboardModelsInternal(this.activeDashboard&&this.activeDashboard.contract)},Ie.prototype.updateActiveDashboardModelsInternal=function(z){return(0,l.__awaiter)(this,void 0,o.J,function(){return(0,l.__generator)(this,function(q){switch(q.label){case 0:return z||(z=this.activeDashboard&&this.activeDashboard.contract),[4,this.modelService.modelsPromise];case 1:return q.sent(),this.activeDashboardModels=(0,se.$b)(z,this.modelService.getModelContracts()),[2]}})})},Ie.prototype.onModelUpdated=function(z,q){this.modelService.findModel(z,q)&&this.updateActiveDashboardModels()},Ie}(),Ft=t(922339),Cr=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr){var Gr=this;this.rootScope=z,this.dashboardDataService=q,this.dashboardHttpService=_e,this.modelConverter=Ke,this.modelMerger=yt,this.modelService=wt,this.promiseFactory=zt,this.reportService=Jt,this.resourcePackageListenerService=qt,this.resourcePackagesService=ur,this.telemetryService=hr,this.workbookService=br,this.dashboardStore=Er,this.globalEventBridge=xr,this.featureSwitchService=Jr,this.publicCustomVisualService=jr,this.globalEventBridge.createChannelSubscriptionManager().subscribe(Ft.NQ,function(qr,ai){return Gr.onDashboardShallowEdit(ai)}).subscribe(Ft.a7,function(qr,ai){return Gr.onDashboardDeepEdit(ai)}).subscribe(Ft.Y3,function(qr,ai){return Gr.addOrUpdateActiveDashboardTiles(ai.dashboardId,ai.tileIds,ai.isDataChange)}).subscribe(Ft.EZ,function(qr,ai){return Gr.dashboardDataService.deleteTile(ai.dashboardId,ai.tileId)})}return Ie.prototype.onTilesAddedOrUpdated=function(z,q){var _e=this.promiseFactory;if(this.dashboardDataService.dropDashboardfromMemoryIfNotActive(z))return _e.resolve(null);this.addOrUpdateActiveDashboardTiles(z,q)},Ie.prototype.onDashboardShallowEdit=function(z){var q=z.dashboards[0],_e=this.dashboardDataService.findDashboard(q.id);_e&&this.modelMerger.mergeDashboardShallow(_e,q)},Ie.prototype.onDashboardDeepEdit=function(z){this.rootScope.$emit(Ar.bB,[z]),this.dashboardDataService.onDashboardTileRefreshFinished(z.dashboards[0].id)},Ie.prototype.addOrUpdateCustomVisualTile=function(z,q,_e){var Ke=this;this.isResourcePackageInCache(z)?this.addOrUpdateTile(q,_e,this.modelService.getModelContracts()):this.resourcePackageListenerService.getAndLoadVisualPlugin(z).then(function(){Ke.addOrUpdateTile(q,_e,Ke.modelService.getModelContracts())})},Ie.prototype.addOrUpdateTile=function(z,q,_e,Ke){var yt=this;z&&(_e=_e||[],this.updateModelsIfRequired(z,q),this.dashboardDataService.tryUpdateTile(z,q.id,function(wt,zt){var Jt=yt.reportService.findReport(q.reportId),qt=null;wt>=0?(z.contract.tiles[wt]=q,zt>=0&&yt.modelMerger.mergeTile(qt=z.tiles[zt],q,_e,null,yt.workbookService.getWorkbookContracts(),yt.reportService.reports)):(qt=Ke||yt.modelConverter.convertTile(q,_e,null,yt.workbookService.getWorkbookContracts()),z.contract.tiles.push(q),z.tiles.push(qt)),qt&&(qt.invalidateLayout(),Jt&&(qt.report=Jt))}))},Ie.prototype.registerAndUpdateTile=function(z,q){var _e=this.dashboardDataService.findDashboard(z);if(q.resourcePackageIds&&q.resourcePackageIds.length>0)for(var Ke=q.resourcePackageIds.length,yt=0;yt<Ke;++yt)this.addOrUpdateCustomVisualTile(q.resourcePackageIds[yt],_e,q);else this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps?this.ensurePublicCVsAndAddOrUpdateTile(_e,q):this.addOrUpdateTile(_e,q,this.modelService.getModelContracts())},Ie.prototype.ensurePublicCVsAndAddOrUpdateTile=function(z,q){var Ke,yt,wt,zt,Jt,_e=this,qt=this.modelConverter.convertTile(q,this.modelService.getModelContracts(),null,this.workbookService.getWorkbookContracts()),ur=qt.type===vr.YU.composite&&(null===(Jt=null===(zt=null===(wt=null===(yt=null===(Ke=qt.config)||void 0===Ke?void 0:Ke.visualContainer)||void 0===yt?void 0:yt.$visualContainer)||void 0===wt?void 0:wt.config)||void 0===zt?void 0:zt.singleVisual)||void 0===Jt?void 0:Jt.visualType);ur?this.publicCustomVisualService.getPublicVisualTypes([ur]).then(function(hr){if(hr[0]){var br=_e.publicCustomVisualService.createPublicResourcePackageByName(ur);return _e.resourcePackageListenerService.loadVisualPlugin([br])}}).finally(function(){_e.addOrUpdateTile(z,q,_e.modelService.getModelContracts(),qt)}):this.addOrUpdateTile(z,q,this.modelService.getModelContracts(),qt)},Ie.prototype.addOrUpdateActiveDashboardTiles=function(z,q,_e){var Ke=this;if(this.dashboardDataService.selectedDashboardTile){0===q.length&&(q=this.dashboardDataService.activeDashboard.tiles.map(function(wt){return wt.id}));var yt=q.indexOf(this.dashboardDataService.selectedDashboardTile.id);if(yt>=0&&(q.splice(yt,1),0===q.length))return this.promiseFactory.resolve(null)}return this.dashboardHttpService.batchGetTiles(z,q,void 0,!0).then(function(wt){var zt=wt.data;if(!_.isEmpty(zt))for(var Jt=0,qt=zt.length;Jt<qt;++Jt)Ke.registerAndUpdateTile(z,zt[Jt]);_e&&Ke.dashboardDataService.onDashboardTileRefreshFinished(z)})},Ie.prototype.updateModelsIfRequired=function(z,q){var _e=this,Ke=z.getTileContractIndex(q.id),yt=-1!==Ke&&2===q.publishState&&1===z.contract.tiles[Ke].publishState;(yt||!z.hasModel(q.modelId))&&this.dashboardHttpService.addDashboardRequestToBatch(this.promiseFactory,z.id,!1,0).done(function(wt){yt&&(_e.modelMerger.mergeDashboardTiles(z,wt),_e.modelMerger.mergeModelContentProviderId(wt.models,wt.packages)),_e.modelMerger.mergeDashboardShallow(z,wt.dashboards[0]),_e.dashboardDataService.updateActiveDashboardModels()})},Ie.prototype.isResourcePackageInCache=function(z){var q=this.resourcePackagesService.getAllPackages();return _.some(q,function(_e){return _e.id===z})},Ie}(),Et=t(12617),Pt=function(){function Ie(){this.collection=new dr,this.modelsMap={}}return Object.defineProperty(Ie.prototype,"models",{get:function(){return this.collection.items},set:function(q){this.collection.setItems(q),this.modelsMap={};for(var _e=0,Ke=q;_e<Ke.length;_e++){var yt=Ke[_e];this.modelsMap[yt.uniqueId]=yt}},enumerable:!1,configurable:!0}),Ie.prototype.getModelContracts=function(){return _.map(this.models,function(z){return z.contract})},Ie.prototype.findModel=function(z,q){return this.modelsMap[Et.H.getUniqueId(z,q)]},Ie.prototype.addModel=function(z){this.collection.addItem(z),this.modelsMap[z.uniqueId]=z},Ie}(),Nt=t(49404),jt=t(725182),Ae=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt){this.telemetryService=z,this.dataSetConverter=q,this.modelHttpService=_e,this.appMetadataService=Ke,this.promiseFactory=yt,this.modelCollectionService=wt,this.permissionService=zt,this.datasetStore=Jt,this.datasetRefreshListener=qt,this.explorableDatasets=[],this.completeUsableModelList=[],this._modelsDeferred=this.promiseFactory.defer(),this.subscribeDataset(),this.subscribeExplorableDatasets()}return Object.defineProperty(Ie.prototype,"models",{get:function(){return this.modelCollectionService.models},set:function(q){this.modelCollectionService.models=q},enumerable:!1,configurable:!0}),Ie.prototype.pushModel=function(z){this.modelCollectionService.addModel(z)},Object.defineProperty(Ie.prototype,"modelsPromise",{get:function(){return this._modelsDeferred.promise},enumerable:!1,configurable:!0}),Ie.prototype.mergeDatasetCollection=function(z){if(!_.isEmpty(z))for(var q=_.keyBy(this.models,"id"),_e=0,Ke=z;_e<Ke.length;_e++){var yt=Ke[_e];q[yt.id]?this.updateContractModel(yt):this.pushModel(this.dataSetConverter.convertModel(yt))}},Ie.prototype.getModelContracts=function(){return this.modelCollectionService.getModelContracts()},Ie.prototype.updateContractModel=function(z){if(z){r.fF.assertValue(z.permissions,"contractModel.permissions");var q=this.findModel(z.id,z.packageId);q&&(this.mergeModel(q,z),this.datasetRefreshListener.applyModelUpdated(q.id,q.packageId))}},Ie.prototype.addContractModel=function(z){if(z||!this.modelExists(z.id,z.packageId)){z.isNew=!0;var q=this.dataSetConverter.convertModel(z);this.addModel(q)}},Ie.prototype.addModel=function(z){!z||this.modelExists(z.id,z.packageId)||this.modelCollectionService.addModel(z)},Ie.prototype.modelExists=function(z,q){return _.findIndex(this.models,function(_e){return _e.id===z&&_e.packageId===q})>-1},Ie.prototype.findModel=function(z,q,_e){var yt,Ke=this.findModels(z);if(!_.isEmpty(Ke))return 1===Ke.length?Ke[0]:null==q||!(yt=this.getModelByPackageId(Ke,q))&&_e?(yt=_.find(Ke,function(wt){return(0,jt.yE)(wt.getPermissions(),7)}))||Ke[0]:yt},Ie.prototype.findModels=function(z,q){var _e=this.userExplorableModels;return q?_.filter(_e,function(Ke){return Ke.id===z&&Ke.packageId===q}):_.filter(_e,function(Ke){return Ke.id===z})},Object.defineProperty(Ie.prototype,"userExplorableModels",{get:function(){return this.completeUsableModelList},enumerable:!1,configurable:!0}),Ie.prototype.getModelByPackageId=function(z,q){return _.find(z,function(_e){return _e.packageId===q})},Ie.prototype.subscribeDataset=function(){var z=this;this.appMetadataService.getAppMetadata().then(function(){z.datasetStore.datasets.subscribe(function(q){var _e=z.modelCollectionService;_e.models=q.map(function(Ke){var yt=Ke.dataset,wt=_e.findModel(yt.id,yt.packageId);return wt?wt.contract!==yt&&z.mergeModel(wt,yt):wt=z.dataSetConverter.convertModel(yt),wt.categories=Ke.categories,wt}),z.completeUsableModelList=_.concat(z.models,z.explorableDatasets),z._modelsDeferred.resolve(z.modelCollectionService.models)})})},Ie.prototype.subscribeExplorableDatasets=function(){var z=this;this.datasetStore.explorableDatasets.subscribe(function(q){var _e=_.keyBy(z.explorableDatasets,function(Ke){return Ke.id});z.explorableDatasets=_.map(q,function(Ke){var yt=_e[Ke.id];return yt?yt.contract!==Ke&&z.mergeModel(yt,Ke):yt=z.dataSetConverter.convertModel(Ke),yt}),z.completeUsableModelList=_.concat(z.models,z.explorableDatasets)})},Ie.prototype.mergeModel=function(z,q){var _e=this;z&&q&&(z.contract=q,z.id=q.id||z.id,z.isNew=q.isNew||z.isNew,z.getPermissionsCallback=function(){return _e.permissionService.getModelEffectivePermissions(q)},z.name=q.name||z.name,z.displayName=q.displayName||z.displayName,z.description=q.description||z.description,z.fileName=q.fileName||z.fileName,z.packageId=q.packageId||z.packageId,z.packageVersion=q.packageVersion||z.packageVersion,z.contentProviderId=q.contentProviderId||z.contentProviderId,z.packagePublishStatus=null!=q.packagePublishStatus?q.packagePublishStatus:z.packagePublishStatus,z.isRefreshInProgress=q.currentRefreshStartingTime&&(0,Nt.ee)(q.currentRefreshStartingTime).getTime()+18e5>Date.now(),z.cloudRlsEnabled=q.cloudRlsEnabled,z.realTimeMode=q.realTimeMode,z.isHidden=z.isHidden&&q.isHidden)},Ie}(),ct=function(){function Ie(){this.collection=new dr,this.packages=[]}return Object.defineProperty(Ie.prototype,"packages",{get:function(){return this.collection.items},set:function(q){this.collection.setItems(q),this.idToPackageMap=_.keyBy(q,function(_e){return _e.id})},enumerable:!1,configurable:!0}),Ie.prototype.findPackage=function(z){return this.idToPackageMap[z]},Ie}(),Dt=function(){function Ie(z,q,_e){this.packageModelConverter=z,this.packageCollectionService=q,this.packageStore=_e,this.initPackages()}return Object.defineProperty(Ie.prototype,"packages",{get:function(){return this.packageCollectionService.packages},enumerable:!1,configurable:!0}),Ie.prototype.findPackage=function(z){return this.packageCollectionService.findPackage(z)},Ie.prototype.initPackages=function(){var z=this;this.packageStore.packages.subscribe(function(q){var _e=q.map(function(Ke){var yt=_.find(z.packages,function(wt){return wt.id===Ke.id});return yt?(yt.contract!==Ke&&z.mergePackage(yt,Ke),yt):z.packageModelConverter.convertPackage(Ke)});z.packageCollectionService.packages=_e})},Ie.prototype.mergePackage=function(z,q){z&&q&&(z.contract=q,z.contentProviderId=q.contentProviderId,z.id=q.id,z.lastRefreshTime=q.lastRefreshTime,z.latestVersion=q.latestVersion,z.name=q.name,z.publishOrRefreshStatus=q.publishOrRefreshStatus,z.version=q.version,z.originalPackageId=q.originalPackageId||z.originalPackageId,z.packageType=q.packageType||z.packageType,z.getPermissionsCallback=function(){return q&&q.permissions})},Ie}(),It=function(){function Ie(){this.collection=new dr}return Object.defineProperty(Ie.prototype,"reports",{get:function(){return this.collection.items},set:function(q){this.collection.setItems(q)},enumerable:!1,configurable:!0}),Ie.prototype.addReport=function(z){this.collection.addItem(z)},Ie}(),$t=function(){function Ie(z,q,_e,Ke,yt,wt,zt){this.telemetryService=z,this.modelConverter=q,this.appMetadataService=_e,this.promiseFactory=Ke,this.reportCollectionService=yt,this.reportStore=wt,this.groupStore=zt,this.reportsDeferred=this.promiseFactory.defer(),this.reportsAfterFolderSwitchDeferred=this.promiseFactory.defer(),this.subscribeReports()}return Ie.prototype.subscribeReports=function(){var z=this;this.appMetadataService.getAppMetadata().then(function(){z.groupStore.selectedFolderId$.subscribe(function(){z.reportsAfterFolderSwitchDeferred.resolve(),z.reportsAfterFolderSwitchDeferred=z.promiseFactory.defer()}),z.reportStore.reports.subscribe(function(q){z.reportCollectionService.reports=q.map(function(_e){var Ke=_.find(z.reportCollectionService.reports,function(yt){return yt.objectId===_e.objectId});return Ke?(z.mergeReport(Ke,_e),Ke):z.modelConverter.convertReport(_e)}),z.reportsDeferred.resolve(z),z.reportsAfterFolderSwitchDeferred.resolve()}),z.reportStore.selectedReport.subscribe(function(q){z.currentActiveReport=q?{id:q.id,displayName:q.displayName,guid:q.objectId,modelId:q.modelId}:null})})},Ie.prototype.ensureReportsInitialization=function(){return this.reportsDeferred.promise},Object.defineProperty(Ie.prototype,"reports",{get:function(){return this.reportCollectionService.reports},set:function(q){this.reportCollectionService.reports=q},enumerable:!1,configurable:!0}),Ie.prototype.getReportContracts=function(){return this.reports.map(function(z){return z.contract})},Ie.prototype.addReport=function(z){this.reportCollectionService.addReport(z),this.reportStore.ensure(z.contract)},Ie.prototype.getReportModels=function(z){var _e,q=this;return z?(this.reportStore.getReportsByGroupId(z).subscribe(function(Ke){_e=Ke.map(function(yt){return q.modelConverter.convertReport(yt)})}),_e):this.reports},Ie.prototype.findReport=function(z,q){return null!=z?_.find(this.getReportModels(q),function(_e){return _e.id===z}):null},Ie.prototype.mergeArtifactOwnerInfo=function(z,q){z.ownerFullname=(0,kt.P)(q.givenName,q.familyName),z.ownerMail=q.emailAddress,q.userObjectId&&(z.ownerUserObjectId=q.userObjectId),q.groupObjectId&&(z.ownerGroupObjectId=q.groupObjectId),z.contract.ownerInfo||(z.contract.ownerInfo=q)},Ie.prototype.mergeReport=function(z,q){z&&q&&(z.contract=q,z.id=q.id||z.id,z.objectId=q.objectId||z.objectId,z.modelId=q.modelId||z.modelId,z.reportUrl=q.reportUrl||z.reportUrl,z.getPermissionsCallback=function(){return q.permissions},z.packagePublishStatus=q.packagePublishStatus||z.packagePublishStatus,z.name=q.name||z.name,z.displayName=q.displayName||z.displayName,z.description=q.description||z.description,z.fileName=q.fileName||z.fileName,z.packageId=q.packageId||z.packageId,z.packageVersion=q.packageVersion||z.packageVersion,z.contentProviderId=q.contentProviderId||z.contentProviderId,z.isHidden=q.isHidden,q.ownerInfo&&this.mergeArtifactOwnerInfo(z,q.ownerInfo))},Ie}(),tr=function(){function Ie(){this.collection=new dr}return Object.defineProperty(Ie.prototype,"workbooks",{get:function(){return this.collection.items},set:function(q){this.collection.setItems(q)},enumerable:!1,configurable:!0}),Ie.prototype.getWorkbookContracts=function(){return _.map(this.workbooks,function(z){return z.contract})},Ie}(),cr=t(350841),pr=function(Ie){return Ie[Ie.NamedRange=0]="NamedRange",Ie[Ie.Parameter=1]="Parameter",Ie[Ie.Table=2]="Table",Ie[Ie.PivotTable=3]="PivotTable",Ie[Ie.Chart=4]="Chart",Ie[Ie.WebExtension=5]="WebExtension",Ie}({}),Ur=function(){function Ie(z,q,_e,Ke,yt){this.workbookStore=yt,this.workbookCollectionService=Ke,this.telemetryService=z,this.workbookHttpService=q,this.promiseFactory=_e,this.wopiDataTTL=new Array,this.deferredWopiData=Array()}return Object.defineProperty(Ie.prototype,"workbooks",{get:function(){return this.workbookCollectionService.workbooks},set:function(q){this.workbookCollectionService.workbooks=q},enumerable:!1,configurable:!0}),Ie.prototype.getWorkbookContracts=function(){return this.workbookCollectionService.getWorkbookContracts()},Ie.prototype.findWorkbook=function(z,q){return q?_.find(this.workbooks,function(_e){return _e.id===z&&_e.packageId===q}):_.find(this.workbooks,function(_e){return _e.id===z&&_e.isOwner()})},Ie.prototype.getWorkbookUniqueId=function(z){return z.uniqueId},Ie.prototype.haveWorkbookEmbedAccessData=function(z){var _e=this.wopiDataTTL[z];return!(!this.deferredWopiData[z]||_e&&!(_e>(new Date).getTime()))},Ie.prototype.getWorkbookEmbedAccessData=function(z,q,_e){var Ke=this;if(_e)var yt=this.telemetryService.startChildEvent(_e,cr.vF);else yt=this.telemetryService.startEvent(cr.vF);if(this.haveWorkbookEmbedAccessData(z))return yt.resolve(),this.deferredWopiData[z].promise;var wt=this.promiseFactory.defer();this.deferredWopiData[z]=wt,this.wopiDataTTL[z]=null;var zt=!1;return this.workbookHttpService.getWorkbookWopiData(z,yt.event).then(function(Jt){if(Jt.data&&Jt.data.accessToken&&Jt.data.url){var qt=Jt.data;Ke.wopiDataTTL[z]=qt.accessTokenTtl,Ke.deferredWopiData[z].resolve(qt),yt.resolve()}else zt=!0},function(){zt=!0}).finally(function(){zt&&(Ke.deferredWopiData[z].reject(),Ke.deferredWopiData[z]=null,yt.reject())}),wt.promise},Ie.prototype.getTileSelectionQuery=function(z,q,_e,Ke){var yt="";return _e===pr.Chart&&Ke&&(yt="Sheets('"+Ke+"')/"),yt+=this.getNamedItemTypeAsString(_e)+"('",z?yt+=z:q&&(yt+=q),encodeURIComponent(yt+"')")},Ie.prototype.encodeImageTileQueryString=function(z){var q=encodeURI(z);return(q=(q=q.replace(/\'/g,"%27")).replace(/\(/g,"%28")).replace(/\)/g,"%29")},Ie.prototype.getNamedItemTypeAsString=function(z){switch(z){case pr.NamedRange:return"Ranges";case pr.Parameter:return"Parameters";case pr.Table:return"Tables";case pr.PivotTable:return"PivotTables";case pr.Chart:return"Charts"}return"Ranges"},Ie.prototype.getWorkbookTilePreviewImageUrl=function(z){var q=this,_e=this.promiseFactory.defer();return this.getWorkbookEmbedAccessData(z.workbookId,z.packageId).then(function(Ke){if(z.$config.workbookTile){var yt=Ke.url.replace(/ExcelJs.ashx/i,"/XlRestInternal.aspx"),wt=q.encodeImageTileQueryString(q.getTileSelectionQuery(z.$config.workbookTile.item,z.$config.workbookTile.activeSelection,z.$config.workbookTile.itemType,z.$config.workbookTile.sheetName));_e.resolve(yt+="&framemode=proxy&wdRestQuery=$format=image&wdRestPart=Model/"+wt+"&access_token="+Ke.accessToken+"&access_token_ttl="+Ke.accessTokenTtl)}else _e.reject()},function(){_e.reject()}),_e.promise},Ie.prototype.getWorkbookTileBestImageUrl=function(z){if(z.hasImages()){var q=z.images,_e=-1,Ke=-1,yt=z.tileModel.layoutPosition,wt=(0,Pe.p2)({colSpan:yt.width,rowSpan:yt.height}),zt=Number.MAX_VALUE,Jt=Number.MIN_VALUE,qt=window.devicePixelRatio;if(wt.width=wt.width*qt,wt.height=wt.height*qt,z.keepOriginalContentSize)return r.fF.assertValue(q[0].imageUrl,"expecting an image URL for a workbook image entry"),Q.b$.getAbsoluteUri(q[0].imageUrl);for(var ur=0;ur<q.length;ur++){q[ur].width>Jt&&(Jt=q[ur].width,Ke=ur);var Er=Math.max(q[ur].width-wt.width,q[ur].height-wt.height);Er>=0&&Er<zt&&(zt=Er,_e=ur)}return-1===_e&&(_e=Ke),r.fF.assertValue(q[_e].imageUrl,"expecting an image URL for a workbook image entry"),Q.b$.getAbsoluteUri(q[_e].imageUrl)}return z.image?"data:image/png;base64,"+z.image:""},Ie.prototype.setModelDynamicImageUrl=function(z){z.dynamicImageUrl=this.getWorkbookTileBestImageUrl(z),z.dynamicImageUrl||(z.dynamicImageUrl=z.previewImageUrl)},Ie}();function Lr(){Wr||(angular.module("powerbi.dataServices",[]),ze(),angular.module("powerbi.dataServices",["powerbi.common","powerbi.visualHost"]).factory("dashboardCollection",[function(){return new pt}]).factory("modelCollection",[function(){return new Pt}]).factory("packageCollection",[function(){return new ct}]).factory("reportCollection",[function(){return new It}]).factory("workbookCollection",[function(){return new tr}]).factory("reportService",["telemetryService","reportModelConverter","appMetadataService","promiseFactory","reportCollection","reportStore","groupStore",function(z,q,_e,Ke,yt,wt,zt){return function(Ie,z,q,_e,Ke,yt,wt){return new $t(Ie,z,q,_e,Ke,yt,wt)}(z,q,_e,Ke,yt,wt,zt)}]).factory("workbookService",["telemetryService","workbookHttpService","promiseFactory","workbookCollection","workbookStore",function(z,q,_e,Ke,yt){return function(Ie,z,q,_e,Ke){return new Ur(Ie,z,q,_e,Ke)}(z,q,_e,Ke,yt)}]).factory("modelService",["telemetryService","datasetModelConverter","modelHttpService","appMetadataService","promiseFactory","modelCollection","permissionService","datasetStore","datasetRefreshListener",function(z,q,_e,Ke,yt,wt,zt,Jt,qt){return function(Ie,z,q,_e,Ke,yt,wt,zt,Jt){return new Ae(Ie,z,q,_e,Ke,yt,wt,zt,Jt)}(z,q,_e,Ke,yt,wt,zt,Jt,qt)}]).factory("dashboardDataService",["dashboardHttpService","groupStore","promiseFactory","dataServiceModelConverter","dataServiceModelMerger","modelService","dashboardCollection","$timeout","dashboardStore","appMetadataService","permissionService","reportService","datasetRefreshListener","workbookService","reportStore",function(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr){return function(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr){return new vt(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr)}(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr)}]).factory("dashboardSyncService",["$rootScope","dashboardDataService","dashboardHttpService","dataServiceModelConverter","dataServiceModelMerger","modelService","promiseFactory","reportService","resourcePackageListenerService","resourcePackagesService","telemetryService","workbookService","dashboardStore","globalEventBridge","featureSwitchService","publicCustomVisualService",function(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr){return function(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr){return new Cr(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr)}(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr)}]).factory("dataServiceModelConverter",["visualHostAuthenticationService","explorationSerializer","featureSwitchService","geocoder","geolocationService","localizationService","moduleLoader","permissionService","promiseFactory","reportModelConverter","telemetryService","themeService","tileConfigUpgraderService","visualHostTooltipServiceFactory","visualPlugin","appModelConverter","$injector","datasetModelConverter","packageModelConverter","azureMapTokenCache","azureMapsEndpoint","geocoderIndexedDB",function(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li){return function(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li){return new At(Ie,z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li)}(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr.create(),(0,lr.f)(Jr,_e),Jr,jr,Gr,qr,ai,ci,vi,li)}]).factory("dataServiceModelMerger",["dataServiceModelConverter","permissionService",function(z,q){var _e=function(Ie,z){return new nr(Ie,z)}(z,q);return z.setModelMerger(_e),_e}]).factory("packageService",["packageModelConverter","packageCollection","packageStore",function(z,q,_e){return function(Ie,z,q){return new Dt(Ie,z,q)}(z,q,_e)}]).factory("appService",["dataServiceModelConverter","appStore","dataServiceModelMerger",function(z,q,_e){return function(Ie,z,q){return new Pr(Ie,z,q)}(z,q,_e)}]),Wr=!0)}var Wr=!1;"undefined"==typeof angular&&(Wr=!0),Lr();var Br=t(267698),Qt=function(){function Ie(z,q,_e){this.rootScope=z,this.timeoutService=q,this.globalEventBridge=_e,this.registeredCallbacks=[],this.timedOutTiles=[],this.tileLoadTimeoutInMilliseconds=2e4,this.initState()}return Ie.prototype.registerLoadingProgressCallback=function(z,q){this.registeredCallbacks.push(z),q&&(this.tileLoadTimeoutInMilliseconds=q)},Ie.prototype.unregisterLoadingProgressCallback=function(z){_.pull(this.registeredCallbacks,z)},Ie.prototype.shouldBeIncluded=function(z){return z.shouldBeIncludedInTelemetryMeasurement},Ie.prototype.startTracking=function(z){var q=this;z&&(this.unsubcribeTileRepeatFinishedEvent=this.rootScope.$on(G.NkG,function(){return q.onDashboardTileRepeatFinishedEvent()}),this.unsubscribeTileVisualLoadedEvent=this.globalEventBridge.createChannelSubscriptionManager().subscribe(Br.GA,function(_e,Ke){_e.stopPropagation(),q.removeTileIdFromWaitlist(Ke),q.cancelVisualLoadTimeout(Ke)}),this.dashboardModel=z,this.dashboardLoadingDeferred=new et.GG)},Ie.prototype.cancelTracking=function(){this.dashboardModel&&this.completeTracking(this.dashboardModel,!0),this.dashboardModel=null},Ie.prototype.dashboardLoadingCompleted=function(){return this.dashboardLoadingDeferred&&this.dashboardLoadingDeferred.promise},Ie.prototype.onDashboardTileRepeatFinishedEvent=function(){var z=this;if(this.dashboardModel){for(var _e=function(qt){if(Ke.shouldBeIncluded(qt)){var ur=qt.id;_.includes(Ke.tileIdsAlreadyLoaded,ur)||(Ke.tileIdsToWait.push(ur),Ke.cancelVisualLoadTimeout(ur),Ke.timeOutMap[ur]=Ke.timeoutService(function(){z.timedOutTiles.push(qt),z.removeTileIdFromWaitlist(ur)},Ke.tileLoadTimeoutInMilliseconds))}},Ke=this,yt=0,wt=this.dashboardModel.tiles;yt<wt.length;yt++)_e(wt[yt]);this.tileRepeatFinishedEventRaised=!0,_.isEmpty(this.tileIdsToWait)&&this.completeTracking(this.dashboardModel,!1)}},Ie.prototype.removeTileIdFromWaitlist=function(z){this.tileRepeatFinishedEventRaised?_.pull(this.tileIdsToWait,z):this.tileIdsAlreadyLoaded.push(z),this.tileRepeatFinishedEventRaised&&_.isEmpty(this.tileIdsToWait)&&this.completeTracking(this.dashboardModel,!1)},Ie.prototype.cancelVisualLoadTimeout=function(z){var q=this.timeOutMap[z];q&&(this.timeoutService.cancel(q),delete this.timeOutMap[z])},Ie.prototype.completeTracking=function(z,q){this.unsubcribeTileRepeatFinishedEvent&&this.unsubcribeTileRepeatFinishedEvent(),this.unsubcribeTileRepeatFinishedEvent&&this.unsubcribeTileRepeatFinishedEvent(),this.unsubscribeTileVisualLoadedEvent&&(this.unsubscribeTileVisualLoadedEvent.unsubscribeAll(),this.unsubscribeTileVisualLoadedEvent=null);for(var _e={model:z,isCancelled:q,timedOutTiles:this.timedOutTiles},Ke=0,yt=this.registeredCallbacks;Ke<yt.length;Ke++)(0,yt[Ke])(_e);this.dashboardLoadingDeferred&&(q?this.dashboardLoadingDeferred.reject("cancelled"):this.dashboardLoadingDeferred.resolve(z.id)),this.initState()},Ie.prototype.initState=function(){this.tileIdsToWait=[],this.tileIdsAlreadyLoaded=[],this.timeOutMap={},this.timedOutTiles=[],this.tileRepeatFinishedEventRaised=!1,this.dashboardLoadingDeferred=null},Ie}(),Ct=function(){function Ie(z,q,_e){this.globalEventBridge=z,this.dashboardDataService=q,this.promiseFactory=_e}return Ie.prototype.selectById=function(z){var q=this.dashboardDataService.selectedDashboardTile;if(!q||!q.isSelected||q.id!==z){var _e=this.dashboardDataService.activeDashboard;if(!_e||!_e.tiles)return void r.fF.assertFail("no active dashboard or tiles");var Ke=_.find(_e.tiles,function(wt){return wt.id===z}),yt=_.find(_e.tiles,function(wt){return wt.objectId===z});if(!Ke&&!yt)return void r.fF.assertFail("no tile matching id ".concat(z));this.select(Ke||yt)}},Ie.prototype.select=function(z){r.fF.assertValue(z,"tile to be selected must not be null");var q=this.dashboardDataService.selectedDashboardTile;q&&(q.isSelected=!1),z.isSelected=!0,this.dashboardDataService.selectedDashboardTile=z},Ie.prototype.getSelected=function(){var z=this.dashboardDataService.selectedDashboardTile;return this.promiseFactory.resolve(z&&z.isSelected?z:void 0)},Ie.prototype.clearSelected=function(){var z=this.dashboardDataService.selectedDashboardTile;null!=z&&(z.isSelected=!1,this.dashboardDataService.selectedDashboardTile=null)},Ie.prototype.scrollToSelectedTile=function(){this.globalEventBridge.publishToChannel(Br.ii)},Ie}(),st=function(){function Ie(z,q){this.dashboardDataService=z,this.promiseFactory=q}return Ie.prototype.isTileSpotlighted=function(z){var q=this.dashboardDataService.activeDashboard;return this.promiseFactory.resolve(!(!q||!q.tiles)&&_.some(q.tiles,function(_e){return _e.hasSpotlight&&_e.id===z}))},Ie.prototype.isLegacySpotlightSet=function(){var z=this.dashboardDataService.activeDashboard;return!(!z||!z.tiles)&&_.some(z.tiles,function(q){return q.hasSpotlight})},Ie.prototype.setSpotlight=function(z){var q=this.dashboardDataService.activeDashboard;if(q&&q.tiles)for(var _e=0,Ke=q.tiles;_e<Ke.length;_e++){var yt=Ke[_e];if(yt.id===z){yt.hasSpotlight=!0;break}}},Ie.prototype.clearSpotlights=function(){var z=this.dashboardDataService.activeDashboard;if(z&&z.tiles)for(var q=0,_e=z.tiles;q<_e.length;q++)_e[q].hasSpotlight=!1},Ie}(),Lt=["powerbi.common","powerbi.dataServices"];function Vt(){Yt||(ze(),Lr(),angular.module("powerbi.dashboard",Lt).factory("dashboardLoadingProgressTracking",["$rootScope","$timeout","globalEventBridge",function(Ie,z,q){return function(Ie,z,q){return new Qt(Ie,z,q)}(Ie,z,q)}]).factory("tileSelectionServiceLegacy",["globalEventBridge","dashboardDataService","promiseFactory",function(Ie,z,q){return function(Ie,z,q){return new Ct(Ie,z,q)}(Ie,z,q)}]).factory("tileSpotlightServiceLegacy",["dashboardDataService","promiseFactory",function(Ie,z){return function(Ie,z){return new st(Ie,z)}(Ie,z)}]),Yt=!0)}window.dashboardDefined=!0;var Yt=!1;"undefined"==typeof angular&&(Yt=!0),Vt();var or=t(251177),Kr={controller:A(function(){function Ie(z,q){var _e=this;this.scope=z,this.services=q,this.imageLoaded=!1,this.scope.$watch(function(){return _e.source},function(Ke){Ke&&!_e.disableAnimation&&(_e.imageLoaded=!1)})}return Ie.createOptions=function(){return{additionalServices:["localizationService"]}},Ie.prototype.onLoad=function(){this.imageLoaded=!0},Ie.prototype.onError=function(){this.scope.$emit(G.bb_,this.services.localizationService.get("Tile_ErrorText"))},Ie}()),bindings:{source:"@",disableAnimation:"<?",altText:"@?"},templateUrl:"components/printableImage/printableImage.html"},Si=t(386341),Bi=t(654218),yi=t(497610),Ai=t(318220),ua=function(){function Ie(z){this.isLayoutLocked=!0,this.willOverrideDisplayPosition=!0,this.gridItemSpacing=12,this.isDynamic=!1,this.tileTypeRowSpanMap={},this.visualTypeRowSpanMap={},this.gridWidth=z-this.gridItemSpacing,this.gridHeight=Math.round(.1111*this.gridWidth),this.gridMinWidthOnResize=this.gridWidth-10,this.gridMinHeightOnResize=this.gridHeight-10,this.gridMaxWidthOnResize=this.gridWidth*(0,W.bq)(),this.gridMaxHeightOnResize=this.gridHeight*(0,W.bq)(),this.tileTypeRowSpanMap[vr.YU.report]=7,this.visualTypeRowSpanMap[Ai.L.card.name]=4,this.visualTypeRowSpanMap[Ai.L.animatedNumber.name]=4,this.visualTypeRowSpanMap[Ai.L.textbox.name]=4}return Ie.prototype.calculateDisplayPositions=function(z){for(var _e=1,Ke=0,yt=(0,se.xT)(_.map(z,function(zt){return{pos:zt.getLayoutPosition(),item:zt}}));Ke<yt.length;Ke++){var wt=yt[Ke];wt.displayCol=1,wt.displayRow=_e,this.calculateDisplaySize(wt),_e+=wt.displaySize.rowSpan}this.removeScale()},Ie.prototype.calculateDisplaySize=function(z){var q=this.getRowSpan(z);z.displaySize={colSpan:1,rowSpan:q}},Ie.prototype.getRowSpan=function(z){var q=z.gridItem,_e=this.tileTypeRowSpanMap[q.type];if(!_e&&q.composite){var Ke=q.composite;null!==Ke&&(_e=this.visualTypeRowSpanMap[Ke.visual.type])}return _e||6},Ie.prototype.removeScale=function(){$(Ar.Gu).removeAttr("style")},Ie}(),ki=t(395519),Pi=t(355607),di=t(20806),Mi=t(921374),Ki=function(){function Ie(z,q){var _e=this,Ke=this.scope=z;this.services=q,Ke.scrollbarsConfig={ignoreOverlay:!1,ignoreMobile:!1},Ke.tileTrackerFn=function(hr){return(0,ki.x8)(hr,Ke.viewModel.objectId)},Ke.useCustomScrollbar=function(){return 0!==Ke.displayLayout&&1===Ke.mobileLayout},Ke.fullScreen=q.fullScreen,Ke.permissionServices=q.permissionService,Ke.showReloadDashboard=!1,Ke.filteredTiles=function(){return _e.filteredTiles()},Ke.removeTileFromMobileView=function(hr){return _e.removeTileFromMobile(hr)},Ke.calculatePrintStyles=function(hr){return _e.calculatePrintStyles(hr)},Ke.canEditTiles=function(){return _e.canEditTiles()},Ke.tileSorter=Ke.tileSorter||function(hr){return hr},Ke.gridLayoutChangeHandler=function(hr){return _e.services.dashboardService.batchUpdateTileSizePosition(_e.scope.viewModel,hr)};var yt=q.rootScope,wt=yt.$on(di.ey2,function(hr,br){return _e.onOpenTile(hr,br)}),zt=Ke.keepDashboardOnLoadFail?_.noop:yt.$on(di.M4y,function(){Ke.showReloadDashboard=!0}),Jt=Ke.$on(di.Dyo,function(hr,br){var Er=q.dashboardDataService.activeDashboard;Er&&q.dashboardService.refreshTileData(Er.id,br)}),qt=function(){switch(Ke.fullScreen.fitStyle){case 1:Ke.scaleDashboard();break;case 2:Ke.scaleDashboard(!0)}};$(q.$window).on("resize",qt);var ur=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(Br.ii,function(){_e.scrollToSelectedTile()});Ke.$on("$destroy",function(){Ke.onDestroy&&Ke.onDestroy(),wt(),Jt(),zt(),ur.unsubscribeAll(),$(q.$window).off("resize",qt)}),Ke.reloadActiveDashboard=function(){return _e.reloadActiveDashboard()},Ke.$watch("viewModel.isLoaded",function(hr){hr&&_e.services.asyncFeatureSwitchService.getFeatureSwitches().then(function(br){br.consumePublicCvsWithoutRps?_e.ensurePublicResourcePackages():_e.acquireTrustedVisuals(Ke.viewModel,q.trustedVisual).then(function(Er){return _e.reloadTrustedVisuals(Er)})})}),Ke.gridLayoutCallbacks={onResize:function(){return _e.services.overlayService.hideAllDropdowns()}}}return Ie.createOptions=function(){return{additionalServices:["$injector","dashboardDataService","dashboardHttpService","dashboardService","errorService","asyncFeatureSwitchService","modelConverter","overlayService","navigation","telemetryService","visualPlugin","$element","lazyProviderModern","localizationService","fullScreen","permissionService","$window","trustedVisual","globalEventBridge","publicCustomVisualService","promiseFactory"],scopedDependencies:["eventBridge"]}},Ie.prototype.calculatePrintStyles=function(z){var _e=this.scope.gridLayoutContainer.containerWidth+40,Ke=this.scope.gridLayoutContainer.containerHeight,yt=B.J8.getPrintTargetViewPort(z),wt=B.J8.calculateScaleFactor({width:_e,height:Ke},yt);return wt<=0?{}:{transform:"scale("+wt+") !important","-webkit-transform":"scale("+wt+") !important",width:_e+"px !important",height:Ke+"px !important",overflow:"visible !important"}},Ie.prototype.ensurePublicResourcePackages=function(){for(var q,_e,Ke,yt,wt,z=this,Jt=[],qt=0,ur=this.scope.viewModel.tiles;qt<ur.length;qt++){var hr=ur[qt],br=hr.type===vr.YU.composite&&(null===(wt=null===(yt=null===(Ke=null===(_e=null===(q=hr.config)||void 0===q?void 0:q.visualContainer)||void 0===_e?void 0:_e.$visualContainer)||void 0===Ke?void 0:Ke.config)||void 0===yt?void 0:yt.singleVisual)||void 0===wt?void 0:wt.visualType);br&&Jt.push(br)}var Er;return this.services.publicCustomVisualService.getPublicVisualTypes(Jt).then(function(xr){return z.services.publicCustomVisualService.createPublicResourcePackagesByName(Er=xr)}).then(function(xr){return z.services.visualPlugin.ensurePlugins(xr)}).catch(function(xr){r.fF.assertFail("failed to load public custom visuals:"+xr)}).finally(function(){z.reloadPublicVisuals(Er)})},Ie.prototype.reloadPublicVisuals=function(z){this.services.globalEventBridge.publishToChannel(Pi.W,{visualTypes:z})},Ie.prototype.reloadTrustedVisuals=function(z){_.isEmpty(z)||(this.services.visualPlugin.ensureTrustedVisualPlugins(z),this.services.globalEventBridge.publishToChannel(Pi.W,{visualTypes:z.map(function(q){return q.name})}))},Ie.prototype.onOpenTile=function(z,q){z&&z.stopPropagation&&z.stopPropagation(),this.scope.$emit(di.pMZ,q,this.scope.viewModel.id),this.services.globalEventBridge.publishToChannel(Mi.fs,q)},Ie.prototype.scrollToSelectedTile=function(){var z=this.services.$element,q=z.find(".dashboardTile.selected");if(q.length>0){var _e=z.offset(),Ke=q.offset();z.animate({scrollTop:Ke.top-_e.top+z.scrollTop(),scrollLeft:Ke.left-_e.left+z.scrollLeft()})}},Ie.prototype.onScaleChanged=function(z){this.services.eventBridge.publishToChannel(Br.OM,z)},Ie.prototype.canEditDashboard=function(z){return z.canEdit&&!this.services.permissionService.isActiveWorkspaceIsReadOnlyLegacy&&!this.services.fullScreen.fullScreenMode},Ie.prototype.canEditTiles=function(){return this.scope.viewModel.canEdit&&!this.scope.permissionServices.isActiveWorkspaceIsReadOnlyLegacy&&!this.scope.fullScreen.fullScreenMode},Ie.prototype.filteredTiles=function(){var z=this.scope.viewModel&&this.scope.viewModel.tiles;if(_.isEmpty(z))return[];this.scope.enableStrategySwap&&this.swapLayoutIfNeeded();var q=this.scope.displayLayout||0;return 0!==q&&(z=_.filter(z,function(_e){return _e.hasLayoutPosition(q)})),this.scope.tileSorter(z)},Ie.prototype.swapLayoutIfNeeded=function(){var z=this.scope.viewModel.gridLayoutService;if(z){var _e=_.some(this.scope.viewModel.tiles,function(Ke){return Ke.hasLayoutDefinition(1)});(z.strategy instanceof ua&&_e||z.strategy.isDynamic&&!_e)&&(this.scope.$emit(G.j7U),this.services.globalEventBridge.publishToChannel(Mi.P))}},Ie.prototype.removeTileFromMobile=function(z){if(r.fF.assertValue(z,"can not remove tile which does not exist"),1===this.scope.displayLayout&&z.gridLayoutContext){var q=[];q.push(z.removeLayoutPosition()),this.services.dashboardService.batchUpdateTileSizePosition(this.scope.viewModel,q)}},Ie.prototype.reloadActiveDashboard=function(){this.scope.showReloadDashboard=!1,this.services.dashboardService.loadDashboard(this.scope.viewModel.id,!0)},Ie.prototype.acquireTrustedVisuals=function(z,q){r.fF.assertValue(z,"dashboardModel"),r.fF.assertValue(q,"trustedVisual");for(var _e=[],Ke=0,yt=z.tiles;Ke<yt.length;Ke++){var wt=yt[Ke],zt=wt.type===vr.YU.composite&&wt.config&&wt.config.visualContainer&&wt.config.visualContainer.$visualContainer.config.singleVisual.visualType;!zt||!q.isTrustedVisual(zt)||_e.push(zt)}return q.getConsentAndLoadVisuals(_e)},Ie}(),ui=t(916789),Hi=function(){function Ie(z,q,_e,Ke,yt,wt,zt){var Jt=this;this.telemetryService=z,this.dashboardLoadingProgressTrackingService=Ke,this.modelService=yt,this.usageMetricsReport=wt,this.scope=zt,this.hasResolved=!1,this.unsubcribeTileRepeatFinishedEvent=zt.$on(G.NkG,function(){return Jt.onDashboardTileRepeatFinishedEvent()}),this.dashboardLoadingProgressCallback=function(qt){Jt.onDashboardLoadingCompleted(qt)},this.dashboardLoadingProgressTrackingService.registerLoadingProgressCallback(this.dashboardLoadingProgressCallback)}return Ie.prototype.recordOpenDashboardEvent=function(z,q,_e,Ke,yt,wt,zt,Jt){if(z&&!this.openDashboardTelemetryEvent&&!this.hasResolved){this.dashboardModel=z;var qt=z.getPermissions();this.openDashboardTelemetryEvent=this.telemetryService.startActivity(this.scope,ui.B6,{hasResourcePackages:!1,hasOnPremiseModel:this.dashboardHasOnPremModel(z,this.modelService.models),compositeTilesCount:0,iframeTilesCount:0,imageTilesCount:0,modelTilesCount:0,ssrsTilesCount:0,workbookTilesCount:0,reportTilesCount:0,workbookTileNoImage:0,otherTileTypes:0,realTimeTilesCount:0,source:this.getDashboardOpenSource(),groupObjectId:_e,isReadonlyGroup:yt,permissions:qt,usageMetricsTilesCount:0,CompoundTileTypesAndCounts:"{}",scrubUserInfo:wt,isB2B:zt,compositeTilesWithSystemErrorCount:0,endorsementStage:Jt,originalDashboardGuid:z.contract&&z.contract.originalDashboardObjectId,appGuid:q,serviceAppObjectId:Ke,dashboardGuid:z.objectId}),z.isLoaded&&_.isEmpty(z.tiles)&&this.resolveOpenDashboardTelemetry(z,!1)}},Object.defineProperty(Ie.prototype,"OpenDashboardTelemetryEvent",{get:function(){return this.openDashboardTelemetryEvent},enumerable:!1,configurable:!0}),Ie.prototype.getDashboardOpenSource=function(){var z=Gt.s.getQueryStringValue("openDashboardSource");return z?ui.ZP[z]||ui.ZP.Invalid:ui.ZP.Normal},Ie.prototype.onDashboardTileRepeatFinishedEvent=function(){if(this.openDashboardTelemetryEvent){for(var q=0,_e=0,Ke=this.dashboardModel.tiles;_e<Ke.length;_e++)Ke[_e].shouldBeIncludedInTelemetryMeasurement&&q++;this.loadDashboardTileTelemetryEvent=this.telemetryService.startChildEvent(this.openDashboardTelemetryEvent.event,ui.qx,{tileCount:q})}},Ie.prototype.onDashboardLoadingCompleted=function(z){for(var q=0,_e=z.timedOutTiles;q<_e.length;q++){var Ke=_e[q];this.telemetryService.logEvent(ui.zl,{visualType:Ke.composite&&Ke.composite.visual&&Ke.composite.visual.type})}this.resolveOpenDashboardTelemetry(z.model,z.isCancelled),this.recordLockedTilesDisplayedEvent(z.model)},Ie.prototype.resolveOpenDashboardTelemetry=function(z,q){if(this.openDashboardTelemetryEvent){var _e=this.countTileTypes(z);if(this.openDashboardTelemetryEvent.event){var Ke=this.openDashboardTelemetryEvent.event.info;Ke&&(Ke.compositeTilesWithSystemErrorCount=_e.compositeWithSystemError,Ke.hasResourcePackages=_e.hasResourcePackages,Ke.compositeTilesCount=_e.composite,Ke.iframeTilesCount=_e.iframe,Ke.imageTilesCount=_e.image,Ke.modelTilesCount=_e.model,Ke.ssrsTilesCount=_e.ssrs,Ke.workbookTilesCount=_e.workbook,Ke.reportTilesCount=_e.report,Ke.workbookTileNoImage=_e.workbookNoImage,Ke.otherTileTypes=_e.unknown,Ke.realTimeTilesCount=_e.realTime,Ke.usageMetricsTilesCount=_e.usageMetrics,Ke.CompoundTileTypesAndCounts=JSON.stringify(_e.CompoundTileTypesAndCounts),q&&(Ke.isCancelled=!0))}this.loadDashboardTileTelemetryEvent&&this.loadDashboardTileTelemetryEvent.resolve(),_e.compositeWithSystemError>0&&_e.compositeWithSystemError===_e.composite?this.openDashboardTelemetryEvent.reject():this.openDashboardTelemetryEvent.resolve(),this.openDashboardTelemetryEvent=null,this.loadDashboardTileTelemetryEvent=null,this.dashboardLoadingProgressTrackingService.unregisterLoadingProgressCallback(this.dashboardLoadingProgressCallback),this.hasResolved=!0,this.unsubcribeTileRepeatFinishedEvent()}},Ie.prototype.countTileTypes=function(z){var q={compositeWithSystemError:0,composite:0,iframe:0,image:0,model:0,realTime:0,ssrs:0,workbook:0,workbookNoImage:0,report:0,unknown:0,hasResourcePackages:!1,usageMetrics:0,CompoundTileTypesAndCounts:{}};if(_.isEmpty(z.tiles))return q;for(var _e=0,Ke=z.tiles;_e<Ke.length;_e++){var yt=Ke[_e];this.incTileTypeCount(yt,q),!q.hasResourcePackages&&yt&&yt.contract&&!_.isEmpty(yt.contract.resourcePackageIds)&&(q.hasResourcePackages=!0)}return q},Ie.prototype.incTileTypeCount=function(z,q){switch(z.type){case vr.YU.composite:q.composite++;var _e=z&&z.composite&&z.composite.errorDetails;_e&&"PowerBI"===_e.source&&q.compositeWithSystemError++,this.usageMetricsReport.fromUsageMetrics(z.report)&&q.usageMetrics++;var Ke=z.config&&z.config.visual&&z.config.visual.visual?z.config.visual.visual:"undefined";q.CompoundTileTypesAndCounts[Ke]||(q.CompoundTileTypesAndCounts[Ke]=0),q.CompoundTileTypesAndCounts[Ke]++;break;case vr.YU.iframe:q.iframe++;break;case vr.YU.image:q.image++;break;case vr.YU.realTime:q.realTime++;break;case vr.YU.model:q.model++;break;case vr.YU.ssrs:q.ssrs++;break;case vr.YU.workbook:z.workbook?z.workbook.hasImages()&&q.workbook++:q.workbookNoImage++;break;case vr.YU.report:q.report++,this.usageMetricsReport.fromUsageMetrics(z.report)&&q.usageMetrics++;break;default:q.unknown++}},Ie.prototype.dashboardHasOnPremModel=function(z,q){var _e=z.contract.modelIds;if(_.isEmpty(_e))return!1;for(var Ke={},yt=0,wt=q;yt<wt.length;yt++){var zt=wt[yt];if(zt.vsName===G.ly2){var Jt=zt.id;null!=Jt&&(Ke[Jt]=Jt)}}for(var qt=0,ur=_e;qt<ur.length;qt++)if(Ke[ur[qt]])return!0;return!1},Ie.prototype.recordLockedTilesDisplayedEvent=function(z){if(!_.isEmpty(z.tiles)){var _e=_.filter(z.tiles,function(Ke){return 20===Ke.errorCode});_.isEmpty(_e)||this.telemetryService.logEvent(ui.Yc,{dashboardObjectId:z.objectId,numberOfLockedTiles:_e.length,numberOfAllTiles:z.tiles.length,objectIdsOfLockedTiles:JSON.stringify(_.map(_e,function(Ke){return Ke.objectId}))})}},Ie}(),Gi=function(){return function(){this.restrict="E",this.templateUrl="views/dashboardWrapper.html",this.scope={viewModel:"=",displayLayout:"<",disablePointerEvents:"<?",mobileLayout:"<?",inEditMobileLayoutMode:"<?",isGroupTransitionDelayed:"<",enableStrategySwap:"<?",tileSorter:"=?",dashboardTileTouchAction:"@",keepDashboardOnLoadFail:"<?",disableKeyboardNav:"<?",hideSpinner:"<?"}}}(),Ni=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr){var Gr=this;this.telemetryService=z,this.gridLayout=q,this.userActivityContextService=_e,this.appService=Ke,this.userInfo=yt,this.timeout=wt,this.folderService=zt,this.dashboardLoadingProgressTrackingService=Jt,this.modelService=qt,this.permissionService=ur,this.usageMetricsReport=hr,this.asyncFeatureSwitchService=br,this.packageService=Er,this.informationProtectionService=xr,this.artifactEndorsementService=Jr,this.globalEventBridge=jr,this.restrict="E",this.templateUrl="views/dashboard.html",this.replace=!0,this.scope={viewModel:"=",displayLayout:"<",disablePointerEvents:"<?",mobileLayout:"<?",inEditMobileLayoutMode:"<?",isGroupTransitionDelayed:"<",enableStrategySwap:"<?",tileSorter:"=?",dashboardTileTouchAction:"@",keepDashboardOnLoadFail:"<?",disableKeyboardNav:"<?",hideSpinner:"<?"},this.controller=A(Ki),this.link=function(qr,ai,ci,vi){var li=-1,mi=!1;qr.dashboardTileTouchAction=_.isEmpty(qr.dashboardTileTouchAction)?"pan-y":qr.dashboardTileTouchAction;var Pa=de.getRefreshAllHandler();qr.scaleDashboard=function(oi){var Wi=qr.gridLayoutContainer.containerWidth+Ie.TileContainerPixelPadding,Oi=qr.gridLayoutContainer.containerHeight,Ua=ai.parent().width(),ha=ai.parent().height(),la=Ie.calculateDashboardScaleFactor(Wi,Oi,Ua,ha,oi);la<=0||(ai.css({transform:"scale("+la+")",width:Wi+"px",height:oi?ha/la+"px":Oi+"px"}).addClass(Ie.DashboardFitToScreenCSSClass),vi.onScaleChanged(la),Pa())};var sa=qr.fullScreen,Ma={onFitStyleChanged:function(){switch(sa.fitStyle){case 1:qr.scaleDashboard();break;case 2:qr.scaleDashboard(!0);break;case 0:ai.removeAttr("style").removeClass(Ie.DashboardFitToScreenCSSClass),vi.onScaleChanged()}},onFullScreenModeChanged:_.noop};sa.subscribe(Ma),qr.$watch("viewModel",function(oi,Wi){var Oi;if(oi&&Wi&&oi.id!==Wi.id){oi.gridLayoutService=Wi.gridLayoutService,oi.gridLayoutService.strategy=new Bi.Q,oi.gridLayoutService.displayLayout=0;var Ua=oi.tiles;if(Ua)for(var ha=0,la=Ua;ha<la.length;ha++){var Ta=la[ha];Ta.gridLayoutContext&&Ta.gridLayoutContext.setActiveLayout(0),Ta.invalidateLayout()}}if(oi){var tn,en=null;Gr.appService&&oi.contract&&(en=(0,Si.$3)(oi,Gr.appService),tn=null===(Oi=oi.contract)||void 0===Oi?void 0:Oi.contentProviderId);var rn=null;if(Gr.packageService&&oi.contract){var sn=_((0,l.__spreadArray)([oi.contract.originalPackageId],oi.contract.packageIds||[],!0)).map(function(ji){return _.get(Gr.packageService.findPackage(ji),"contract")}).groupBy("folderId").value(),an=_.find(Gr.packageService.packages,function(ji){return sn[ji.contract.folderId]&&ji.contract.serviceAppObjectId});rn=an&&an.contract.serviceAppObjectId}Gr.dashboardLoadingProgressTrackingService.cancelTracking(),Gr.telemetryHelper=new Hi(Gr.telemetryService,Gr.userActivityContextService,Gr.timeout,Gr.dashboardLoadingProgressTrackingService,Gr.modelService,Gr.usageMetricsReport,qr),Gr.asyncFeatureSwitchService.getFeatureSwitches().then(function(ji){var $a,Ya,on;ji&&ji.trackUserInfo&&!ji.usageMetricsTrackUserLevelInfoEnabled&&(on=!0),Gr.recordOpenDashboardTelemetry(oi,ji,tn,en,rn,on),Gr.informationProtectionService.logDownstreamUsageInOpenDashboardFlow(oi.id,null===($a=oi.contract)||void 0===$a?void 0:$a.reportIds,null===(Ya=oi.contract)||void 0===Ya?void 0:Ya.modelIds)}),Gr.dashboardLoadingProgressTrackingService.startTracking(oi),Gr.gridLayout&&(oi.gridLayoutService=Gr.gridLayout);var nn=qr.displayLayout||0;r.fF.assert(function(){return _.isNumber(nn)},"Dashboard directive. currentDisplayLayout should be a const enum of powerbi.common.contracts.CanvasLayout"),oi.currentDisplayLayout=nn}mi=!0,window.clearTimeout(li),ai.scrollTop(0).scrollLeft(0).addClass(Ie.TransitioningCSSClass)}),qr.$watch("viewModel.isLoaded",function(oi,Wi){var Oi=Gr.doesModelContainsTilesByLayout(qr.viewModel,qr.displayLayout);oi&&!Wi&&Oi&&qr.$emit(G.NkG)}),qr.onDestroy=function(){var oi;Gr.dashboardLoadingProgressTrackingService.cancelTracking(),sa.unsubscribe(Ma),null===(oi=Gr.artifactEndorsementSubscription)||void 0===oi||oi.unsubscribe()},qr.$on(G.NkG,function(){Gr.globalEventBridge.publishToChannel(Mi.DD),0!==qr.fullScreen.fitStyle&&Ma.onFitStyleChanged(),vi.scrollToSelectedTile(),mi&&(li=window.setTimeout(function(){ai.removeClass(Ie.TransitioningCSSClass)},2e3),mi=!1)})}}return Ie.calculateDashboardScaleFactor=function(z,q,_e,Ke,yt){var wt=_e/z;if(yt)return wt;var zt=Ke/q;return wt<zt?wt:zt},Ie.prototype.doesModelContainsTilesByLayout=function(z,q){return z&&(!z.tiles||void 0===q||0===_.filter(z.tiles,function(_e){return _e.hasLayoutPosition(q)}).length)},Ie.prototype.recordOpenDashboardTelemetry=function(z,q,_e,Ke,yt,wt){var Jt,zt=this;q.artifactEndorsementFeatureUI&&_e&&Ke?(null===(Jt=this.artifactEndorsementSubscription)||void 0===Jt||Jt.unsubscribe(),this.artifactEndorsementSubscription=this.artifactEndorsementService.getArtifactEndorsement(_e,Ke,yi.Bz.App,!1).subscribe(function(qt){var ur=zt.artifactEndorsementService.getArtifactStageString(qt.stage);zt.telemetryHelper.recordOpenDashboardEvent(z,Ke,zt.folderService.activeFolderObjectId,yt,zt.permissionService.isActiveWorkspaceIsReadOnlyLegacy,wt,zt.userInfo.isGuestUser,ur)})):this.telemetryHelper.recordOpenDashboardEvent(z,Ke,this.folderService.activeFolderObjectId,yt,this.permissionService.isActiveWorkspaceIsReadOnlyLegacy,wt,this.userInfo.isGuestUser)},Ie.TransitioningCSSClass="transitioning",Ie.DashboardTransitionDurationMs=150,Ie.DashboardAnimationUITransitionType="transition.fadeIn",Ie.TileContainerPixelPadding=40,Ie.DashboardFitToScreenCSSClass="fitToScreen",Ie}(),Zi=function(){return function(){this.restrict="A",this.scope={onLoad:"&",onError:"&?"},this.link=function(z,q){q.on("load",function(){z.$applyAsync(function(){z.onLoad()})}),z.onError&&q.on("error",function(){z.$applyAsync(function(){z.onError()})}),z.$on(G.ebA,function(){q.off()})}}}(),Qi=t(373542),qi=t(281469),Ri=t(477898),ea=t(796899),ya=function(){function Ie(z,q){var _e=this;this.services=q,this.tileRefreshRetryCount=0,this.unregisterViewModelChanged=function(){return _.noop()},this.unregisterTrustedVisualErrorChanged=function(){return _.noop()},this.scope=z;var Ke=z.viewModel;if(this.visualType=Ke.visual&&Ke.visual.type,Ke.visual&&Ke.contract){var yt=this.services.dashboardDataService.findDashboard(Ke.contract.dashboardId);yt&&(Ke.visual.dashboardId=yt.objectId)}q.trustedVisual.isTrustedVisual(this.visualType)&&(this.onTrustedVisualErrorChanged(),this.unregisterTrustedVisualErrorChanged=q.rootScope.$on(qi.v0,function(){_e.onTrustedVisualErrorChanged()})),Ke.updateVisualInteractivityOptions("true"===z.allowInteractivity),this.onViewModelChanged(),this.unregisterViewModelChanged=z.$watch("viewModel",function(){return _e.onViewModelChanged()}),z.$on(G.ebA,function(){_e.unregisterViewModelChanged(),_e.unregisterTrustedVisualErrorChanged(),_e.services.dashboardThemeService.unsubscribe(_e.themeChangeHandler),_e.reloadEmptyVisualsSubscriptionManager&&_e.reloadEmptyVisualsSubscriptionManager.unsubscribeAll()}),q.eventBridge.createChannelSubscriptionManager().subscribe(Br.OM,function(wt,zt){Ke.calculateLayout(void 0,null,zt),Ke.applyLayout(W.XM.resized)}),this.themeLoaded=!1,this.ensureThemeLoaded()}return Ie.createOptions=function(){return{additionalServices:["dashboardDataService","dashboardThemeService","dataProxy","localizationService","modelConverter","telemetryService","visualPlugin","modelService","featureSwitchService","promiseFactory","resourcePackagesService","approvedResourceService","themeService","trustedVisual","globalEventBridge","managedCustomVisualsService"],scopedDependencies:["resourceLoader","eventBridge"]}},Ie.prototype.$onInit=function(){return(0,l.__awaiter)(this,void 0,o.J,function(){var z;return(0,l.__generator)(this,function(q){switch(q.label){case 0:return[4,this.services.managedCustomVisualsService.isPublicManagedVisualByVisualType(this.visualType)];case 1:return z=q.sent(),this.isCustomVisualTypeDisabled=(0,Ri.jK)(this.services.featureSwitchService,this.visualType,this.services.approvedResourceService,!1,z),(this.isCustomVisualTypeDisabled||(0,Ri.qe)(this.visualType))&&this.validateVisualPluginHandler(this.visualType),[2]}})})},Ie.prototype.readyToRender=function(){return!this.scope.viewModel.isLoading&&this.themeLoaded},Ie.prototype.onViewModelChanged=function(){var z=this,q=this.scope,_e=q.viewModel;if(_e){this.initTileData();var Ke=_e.contract,yt=_e.visual&&_e.visual.type;yt!==this.visualType&&r.fF.assertFail("visualtype should not change in the lifetime of this component!!!");var wt=this.services.modelService.findModel(Ke.modelId,Ke.packageId),zt=!!Ke.queryResultError,Jt=!zt&&_e.isDataStale(wt?wt.lastRefreshEpochTime:void 0);this.shouldRefreshData(zt,Jt)&&(this.tileRefreshRetryCount++,_e.isLoading=!_e.tileData.data,this.scope.$emit(di.Dyo,_e.contract.modelId),_e.setDataLoadEventDelegate(function(){return z.services.telemetryService.startEvent(ui.SB,{tileId:_e.contract.id,modelId:_e.contract.modelId})})),_e.setDependencies(this.services.dataProxy),function(Ie,z,q){var _e=z.convertTileConfig(q.contract);if(_e&&_e.refreshPeriod){var Ke=_e.refreshPeriod;r.fF.assert(function(){return Ke>=6e4},"refresh period cannot be less than MIN_DATA_REFRESH_PERIOD."),Ke<6e4&&(Ke=6e4);var yt=setInterval(function(){return q.refreshData()},Ke);Ie.$on(G.ebA,function(){return clearInterval(yt)})}}(this.scope,this.services.modelConverter,_e),_e.errorText=_e.errorText||this.services.localizationService.get("Tile_ErrorText"),_e.onErrorDelegate=function(){return z.onErrorChanged()},q.allowDeferredRendering=yt&&!this.services.visualPlugin.isLightWeightRenderingVisual(yt),_e.onErrorDelegate(),_e.shouldBeIncludedInTelemetryMeasurement=!(!_e.tileData||!_e.tileData.data||zt)}},Ie.prototype.onErrorChanged=function(){var z=this.scope.viewModel;z&&z.isError?(this.services.telemetryService.logEvent(Qi.UH,{tileType:vr.YU[vr.YU.composite],message:z.errorText}),this.scope.$emit(G.bb_,z.errorText,z.errorDetails)):this.scope.onClearTileError()},Ie.prototype.shouldRefreshData=function(z,q){if(this.tileRefreshRetryCount>=Ie.tileRefreshRetryMaxCount||z)return!1;var _e=this.scope.viewModel;return!(!_e.tileData||!_e.requiresData()||_e.tileDataIsVolatile)&&(!_e.tileData.data||q)},Ie.prototype.initTileData=function(){var z=this.scope.viewModel;if(!z.tileData){var q=this.services;try{z.tileData=q.modelConverter.convertTileData(z.contract)}catch(_e){z.isError=!0,z.errorText=q.localizationService.get("Tile_DsrParseErrorText")}}},Ie.prototype.onVisualDataChanged=function(){this.services.globalEventBridge.publishToChannel(Br.GA,this.scope.viewModel.contract.id)},Ie.prototype.onTrustedVisualErrorChanged=function(){var z=this.scope.viewModel.visual.type;if(this.services.trustedVisual.isTrustedVisual(z)){var q=this.services.trustedVisual.validate(z);q?(this.scope.viewModel.errorDetails=q,this.scope.viewModel.errorText=q.message,this.scope.viewModel.isError=!0):this.scope.viewModel.isError=!1,this.onErrorChanged()}},Ie.prototype.validateVisualPluginHandler=function(z){var q=this;this.services.resourcePackagesService.getPackage(z)&&!this.services.visualPlugin.getPlugin(z)?this.reloadEmptyVisualsSubscriptionManager=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(Pi.W,function(_e,Ke){_.includes(Ke.visualTypes,z)&&(q.reloadEmptyVisualsSubscriptionManager.unsubscribeAll(),q.validateVisualPlugin(z))}):this.validateVisualPlugin(z)},Ie.prototype.validateVisualPlugin=function(z){this.services.visualPlugin.isCustomVisual(z)&&(this.isCustomVisualTypeDisabled?this.showCustomVisualDisabledMessage():(0,Ri.qe)(z)&&!this.services.resourcePackagesService.getPackage(z)&&this.showCustomVisualDeletedMessage())},Ie.prototype.showCustomVisualDisabledMessage=function(){var q,_e,Ke,z=this.services.localizationService,yt=z.get("ContactYourAdministratorForDetails"),wt=this.scope.viewModel,zt=this.services.featureSwitchService.featureSwitches;zt&&zt.customVisualsTenantSwitch&&!zt.customVisualsTenantEnabled?(q=z.get("VisualContainer_CustomVisualDisabledByAdmin"),_e="https://go.microsoft.com/fwlink/?linkid=2100000",Ke=z.get("VisualContainer_CustomVisualDisabledByAdmin_tileDetails")):(q=z.get("VisualContainer_UncertifiedDisabledValue"),_e="https://go.microsoft.com/fwlink/?linkid=2002010&clcid=0x409",Ke=z.get("VisualContainer_UncertifiedDisabledValue_tileDetails")),wt.errorDetails={message:q,displayableErrorInfo:[{errorInfoKey:Ke,errorInfoValue:yt}],hideAdditionalErrorInfo:!0,hideGetHelpLink:!1,forceShowError:!0,helpLink:_e},wt.errorText=q,wt.isError=!0,this.onErrorChanged()},Ie.prototype.showCustomVisualDeletedMessage=function(){var z=this.services.localizationService,q=z.get("CustomVisualsAreNotAvailable"),_e=z.get("ServiceError_CannotLoadVisual"),Ke=z.get("CustomVisualsAreNotAvailable"),yt=this.scope.viewModel;yt.errorDetails={message:q,displayableErrorInfo:[{errorInfoKey:_e,errorInfoValue:Ke}],hideAdditionalErrorInfo:!0,hideGetHelpLink:!1,forceShowError:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},yt.errorText=q,yt.isError=!0,this.onErrorChanged()},Ie.prototype.loadThemeAndBaseTheme=function(){var z=this;ea.P.loadThemeAndBaseTheme(this.services.promiseFactory,this.services.resourceLoader,this.services.themeService,this.services.resourcePackagesService.getAllPackages(),this.scope.viewModel.themeCollection).finally(function(){z.themeLoaded=!0,z.scope.$applyAsync()})},Ie.prototype.ensureThemeLoaded=function(){var z=this,q=this.services.dashboardDataService,_e=this.services.dashboardThemeService;if(q&&q.activeDashboard&&_e&&_e.isDashboardThemeLoaded){var Ke=q.activeDashboard,yt=Ke&&Ke.objectId;_e.isDashboardThemeLoaded(yt)?this.loadThemeAndBaseTheme():(this.themeChangeHandler={onDashboardThemeLoaded:function(zt,Jt){yt===Jt&&!z.themeLoaded&&z.loadThemeAndBaseTheme()},onDashboardThemeChanged:_.noop},_e.subscribe(this.themeChangeHandler))}else this.loadThemeAndBaseTheme()},Ie.tileRefreshRetryMaxCount=1,Ie}(),ga=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/compositeTile.html",this.replace=!0,this.scope={viewModel:"=",allowInteractivity:"@",onClearTileError:"&?"},this.controllerAs="$ctrl",this.controller=A(ya)}}(),Xi=t(528359),Fa=t(935326),wa=t(548556),ta=t(159803),ra=t(629925),xa=function(){function Ie(z,q){var _e=this;this.scope=z,this.services=q,this.unregisterViewModelChanged=function(){return _.noop()};var Ke=z.viewModel;this.isHovered=!1,z.isTileError=!1,z.model=Ke,z.openTile=function(Jt,qt){return _e.openTile(Jt,qt)},z.openNotifications=function(Jt){return _e.openNotifications(Jt)},z.isReadOnly=function(){return _e.isReadOnly()},z.isOpenable=function(Jt){return _e.isOpenable(!0)},z.isNonActionable=function(){return _e.isNonActionable()},z.displayDashboardTileOpenOptions=function(){return _e.displayDashboardTileOpenOptions()},z.setHover=function(Jt){return _e.setHover(Jt)},z.displayDashboardTileShowIcon=function(){return _e.displayDashboardTileShowIcon()},z.viewportContextSelector=z.viewportContextSelector||G.Nbb,z.disableInteractions=!!z.disableInteractions,z.getTileAriaLabel=function(){return _e.getTileAriaLabel()};var yt=Ke.contract;Ke.setDatasetModelAndPackageInfo(this.services.modelService.findModel(yt.modelId,yt.packageId),this.services.packageService.findPackage(yt.packageId));var wt=this.services.rootScope.$on(Ie.Events.DeleteTile,function(Jt,qt){qt===_e.scope.model&&(Jt.stopPropagation&&Jt.stopPropagation(),_e.services.$element.hide())});z.hasSpotlight=function(){return!(!Ke||!Ke.hasSpotlight)},z.isModelTile=Ke&&Ke.model&&Ke.contract&&!Ke.contract.config,z.isWorkbookTile=Ke&&Ke.workbook&&Ke.contract&&"number"==typeof Ke.contract.workbookId,z.exportVisualData=function(Jt){return _e.exportVisualData(Jt)};var zt=this.services.$element;zt.on(v.N8,function(Jt){return _e.onFocusOut(Jt)}),this.setCanExportVisualData(),this.updateReportModel(Ke),z.refreshingPermissions=!!Ke.isLocked,Ke.isLocked&&q.dashboardService.refreshDashboardTilePermissionsUponLoad(q.dashboardDataService.activeDashboard,q.dashboardStore,q.userInfo).finally(function(){z.refreshingPermissions=!1}),this.isReportTile()&&this.setReportTileContext(Ke),z.$on(G.ebA,function(){wt(),_e.unregisterViewModelChanged(),zt.off(v.N8),_e.services.dashboardThemeService.unsubscribe(_e.themeChangeHandler)}),this.setInViewPort(),this.unregisterViewModelChanged=z.$watch("viewModel.composite",function(){return _e.updateTileStyles()}),this.setUpThemeHandlers(),this.updateTileStyles(),this.logEventForRealtimeTile(Ke)}return Ie.createOptions=function(){return{additionalServices:["contentProviderHttpService","telemetryService","$element","$injector","localizationService","reportService","modelService","packageService","workbookService","userNotificationInfo","userNotificationTileFilterService","folderService","navigation","dashboardDataService","userInfo","dashboardService","auditing","platformCapabilities","globalEventBridge","licenseEnforcementService","modernDialogService","$timeout","permissionService","dashboardThemeService","shellCapabilities","dashboardStore"],scopedDependencies:["exportData"]}},Object.defineProperty(Ie.prototype,"sidePaneStoreService",{get:function(){return this.services.$injector.get("sidePaneStoreService")},enumerable:!1,configurable:!0}),Ie.prototype.logEventForRealtimeTile=function(z){z&&z.contractsModel&&(z.contractsModel.realTimeMode||z.contractsModel.pushDataVersion)&&this.services.telemetryService.logEvent(ui.bm,{modelId:z.contractsModel.id,realtimeMode:z.contractsModel.realTimeMode||0,pushdataVersion:z.contractsModel.pushDataVersion||0,controller:"DashboardTileController"})},Ie.prototype.onFocusOut=function(z){var q=this;this.services.$timeout(function(){var _e=document.activeElement;$(_e).hasClass("openTileOptionsBtn")?$(_e).attr("aria-hidden","false"):(0,Xi.y)(q.services.$element)||q.setHover(!1)})},Ie.prototype.setInViewPort=function(){var q=(0,$r.gq)(this.scope.viewModel.contract);q&&(this.scope.inViewport=q.x+q.width<=7&&q.y+q.height<=6)},Ie.prototype.isReadOnly=function(){return!this.scope.canEdit||this.scope.disableInteractions},Ie.prototype.isNonActionable=function(){var z=this.scope.viewModel;return!z||!z.action||!z.action.action||this.scope.disableInteractions},Ie.prototype.setHover=function(z){this.isHovered=z},Ie.prototype.displayDashboardTileOpenOptions=function(){if((0,ta.I$)())return!0;if(this.scope.viewModel.isLocked&&this.isReadOnly())return!1;var z=this.scope.viewModel;return this.scope.inViewport&&(this.isHovered||!this.services.platformCapabilities.supportsMouseover)&&z&&!z.isTemporary&&!this.scope.disableInteractions&&!this.scope.inEditMobileLayoutMode},Ie.prototype.displayDashboardTileShowIcon=function(){return this.scope.disableInteractions},Ie.prototype.isReportTile=function(){var z=this.scope.viewModel;return z&&null!=z.reportTile},Ie.prototype.setCanExportVisualData=function(){var z=this;if(this.services.exportData){var q=this.services.exportData,_e=this.scope.viewModel;if(_e.type!==vr.YU.composite)return void(this.scope.canExport=q.canExportTileData({contract:_e.contract,config:_e.config,visual:_e.composite&&_e.composite.visual,dataSet:_e.datasetModel&&_e.datasetModel.contract,data:_e.composite&&_e.composite.tileData}));var Ke=this.scope.$watch("viewModel.composite.tileData",function(yt){yt&&(z.scope.canExport=q.canExportTileData({contract:_e.contract,config:_e.config,visual:_e.composite&&_e.composite.visual,dataSet:_e.datasetModel&&_e.datasetModel.contract,data:_e.composite&&_e.composite.tileData}),Ke())})}},Ie.prototype.exportVisualData=function(z){z.stopPropagation();var q=this.services,_e=q.licenseEnforcementService;if(!_e.supportsExportData||_e.supportsExportData(!0)){var Ke=this.scope.viewModel,yt=(0,Fa.s)(Ke.config),zt=Ke.contract&&Ke.contract.id,Jt=q.telemetryService.startEvent(wa.$9b,{visualType:yt,source:"Dashboard",isPartialResult:!1,dest:0,isPremiumUser:this.services.userInfo.isPremiumUser,isDrillToDetailsMode:!1,dataType:0});this.services.exportData.exportTileDataToCsv({contract:Ke.contract,config:Ke.config,visual:Ke.composite&&Ke.composite.visual,dataSet:Ke.datasetModel&&Ke.datasetModel.contract}).then(function(qt){Jt.event.info.isPartialResult=qt.isPartialResult,Jt.resolve()},function(qt){Jt.reject({errorCode:qt.errorDetails&&qt.errorDetails.errorType.toString()})}),this.services.auditing.auditEvent(zt,3,11)}},Ie.prototype.getTileAriaLabel=function(){var z=this.scope.viewModel;return z.displayText?z.displayText:z.subDisplayText?z.subDisplayText:this.services.localizationService.get("ArtifactKind_Tile")},Ie.prototype.updateReportModel=function(z){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(q){switch(q.label){case 0:return z&&z.report?[4,this.services.reportService.ensureReportsInitialization()]:[3,2];case 1:q.sent(),z.report=this.services.reportService.findReport(z.report.id),q.label=2;case 2:return[2]}})})},Ie.prototype.setReportTileContext=function(z){return(0,l.__awaiter)(this,void 0,void 0,function(){return(0,l.__generator)(this,function(Ke){switch(Ke.label){case 0:return this.scope.isTileError=z.reportTile.isError,z.report&&z.action.action===G.$Ez?[4,this.services.reportService.ensureReportsInitialization()]:[3,2];case 1:Ke.sent(),this.services.reportService.findReport(z.report.id)||this.services.reportService.addReport(z.report),this.services.modelService.findModel(z.report.modelId)||this.services.modelService.addContractModel(z.contractsModel),Ke.label=2;case 2:return[2]}})})},Ie.prototype.isOpenable=function(z,q){var _e=this.scope.model;if(this.scope.disableInteractions||this.scope.inEditMobileLayoutMode||!z&&_e.isLocked||!z&&_e&&_e.composite&&_e.composite.isError||!z&&this.isReportTile()||this.scope.isTileElementChanging()||_e.isLoading)return!1;if(q)try{var yt=$(q.target);if(yt.is("a")&&!yt.hasClass("dashboardTileLayout"))return!1}catch(wt){}return!0},Ie.prototype.openTile=function(z,q){var _e=this.scope;if(_e.disableInteractions||this.scope.inEditMobileLayoutMode)return q&&q.preventDefault&&q.preventDefault(),!1;q&&q.keyCode&&(z=!0);var Ke=this.isOpenable(z,q);if(Ke)_e.$emit(di.ey2,_e.model),q&&q.stopPropagation&&q.stopPropagation();else if(_e.viewModel.isLocked&&!_e.refreshingPermissions){var yt=this.services.modernDialogService,wt=this.services.localizationService.get("PermissionCenter_PermissionRequired_Title"),zt=this.services.localizationService.get("PermissionCenter_PermissionRequired_Description"),Jt=this.services.localizationService.get("PBI_Button_Label_Close");yt.promptSimpleDialog(wt,zt,{},{url:"//go.microsoft.com/fwlink/?linkid=858549",text:"Generic_LearnMore"},Jt)}return Ke||this.services.globalEventBridge.publishToChannel(Mi.nQ,_e.model),Ke},Ie.prototype.openNotifications=function(z){z&&z.stopPropagation&&z.stopPropagation();var q=this.scope.viewModel.contract.id,Ke=_.filter(this.services.userNotificationTileFilterService.filterNotifications(this.services.userNotificationInfo.userNotifications.notifications,q),function(Jt){return!Jt.seen});if(!_.isEmpty(Ke))for(var yt=0,wt=Ke;yt<wt.length;yt++){var zt=wt[yt];zt.message.filterProperties&&zt.message.filterProperties.UserDataAlertRuleId&&this.services.telemetryService.logEvent(ui._S,{alertId:parseInt(zt.message.filterProperties.UserDataAlertRuleId,10)})}this.services.userNotificationTileFilterService.tileId=q,this.sidePaneStoreService.openNotificationPane()},Ie.prototype.updateTileStyles=function(z){if(this.services.dashboardDataService.activeDashboard){var q=this.scope.viewModel,_e=this.services.dashboardDataService.activeDashboard.objectId,Ke=this.services.dashboardThemeService;if(q.type===vr.YU.composite&&q.composite){var yt=q.composite.themeCollection,wt=yt.customTheme&&yt.customTheme.name;wt&&!Ke.isBuiltInTheme(wt)&&!Ke.isLegacyThemeName(wt)&&!Ke.getTheme(wt)||(z=z||Ke.getDashboardThemeName(_e))&&(q.themeName=z,this.tileStyles=Ke.getTileStyles(z),q.tileStyles=this.tileStyles,q.tileHeaderStyles=_.pick(this.tileStyles,ra.dj),q.tileBackground=_.pick(this.tileStyles,ra.CB),q.composite.setThemeName(q.themeName))}}},Ie.prototype.setUpThemeHandlers=function(){var z=this;this.themeChangeHandler={onDashboardThemeChanged:function(_e){z.updateTileStyles(_e)},onDashboardThemeLoaded:function(_e,Ke){null!=z.services.dashboardDataService.activeDashboard&&Ke===z.services.dashboardDataService.activeDashboard.objectId&&z.updateTileStyles(_e)},onReloadTheme:function(_e){z.updateTileStyles(_e)}},this.services.dashboardThemeService.subscribe(this.themeChangeHandler)},Ie.Events={DeleteTile:"DeleteTile"},Ie}(),ni=function(){function Ie(){this.restrict="E",this.templateUrl="views/tiles/dashboardTile.html",this.controllerAs="$ctrl",this.replace=!0,this.scope={viewModel:"=",canEdit:"<",disableInteractions:"<?",addTileToMobileView:"&?",inEditMobileLayoutMode:"<?",removeTileFromMobileView:"&?",viewportContextSelector:"<?",disableKeyboardNav:"<?"},this.link=function(z,q,_e){var Ke=z.viewModel.report;Ke&&q.attr("data-report-id",Ke.id),z.disablePointerEvents="true"===_e.disablePointerEvents||z.disableInteractions,z.onceInViewport=function(){z.inViewport=!0};var yt=z.$root.$on(Ar.BD,function(ur,hr){var br=z.viewModel.datasetModel;br&&br.id===hr&&q.hide()}),wt=z.$root.$on(Ar.kg,function(ur,hr){var br=z.viewModel.datasetModel;br&&br.id===hr&&q.show()});z.$watch("canEdit",function(ur,hr){q.attr(Ie.DragResizeDisabledAttr,ur?"false":"true")}),z.isTileElementChanging=function(){return q.hasClass("changing")};var zt=z.viewModel,Jt=q.find(".tileContent")[0],qt=function(hr){z.openTile(!1,hr)&&(hr.stopPropagation&&hr.stopPropagation(),hr.cancelBubble=!0)};zt&&!zt.reportTile&&Jt&&Jt.addEventListener("click",qt,!0),z.$on(G.ebA,function(){Jt&&Jt.removeEventListener("click",qt,!0),wt(),yt()})},this.controller=A(xa)}return Ie.DragResizeDisabledAttr="drag-resize-disabled",Ie}(),Ji=t(942983),ba=t(15105),Fi=t(1745),Ca=t(373669),ca=t(156319),Wa=t(647863),da=t(718025),ia=t(70879),_a=t(85920),Ci=t(946631),Va=t(803847),fa=t(926201),Da=function(){function Ie(z,q){var _e=this;this.scope=z,this.services=q,z.reportTilesPopulated=!1,(0,_a.x)(this.scope,this.services.dataSources);var Ke=this.services.viewModeState;Ke.setMode(0),Ke.updateConfig(function(ur){ur.displayOptions.hideNavigationPane=!0,ur.displayOptions.hideOutspaceFormatting=!0});var yt=this.scope.$on(di.gv0,function(){_e.populateReportTiles()}),wt=new Ca.Z;this.services.undoRedo.setStrategy(wt);var zt=this.scope.viewModel,Jt=this.services.eventBridge.createChannelSubscriptionManager();Jt.subscribe(Br.sc,function(){_e.services.globalEventBridge.publishToChannel(Br.GA,zt.contract.id)}).subscribe(Fi.$$f,function(ur,hr){_e.services.globalEventBridge.publishToChannel(Fi.bSZ,hr)}),this.scope.$on("$destroy",function(){yt(),Jt.unsubscribeAll(),_e.services.reportRefresh.destroy()}),this.populateReportTiles().finally(function(){return z.reportTilesPopulated=!0}),this.services.explorationCapabilities.setCapabilities({allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,showAppBar:!1,showTaskPane:!1,showVisualizationPane:!1,showNavContentPane:!0,visualContainerOptions:{showMenu:!1,showPin:!1,showContextMenu:!1,disablePin:!1,hideHeader:!0,useStylableHeader:!0},showBackButtonOnAppBar:!1,analysisVisuals:!0,qna:!0,azureMaps:!0,allowWebUrlVisualLinks:!0,disableCanvasTooltips:!0,disableDrillthroughText:!0,disableEnhancedTooltips:!0})}return Ie.createOptions=function(){return{scopedDependencies:["dataSources","viewModeState","undoRedo","selection","visualPlugin","explorationNavigation","explorationCapabilities","resourceLoader","eventBridge","reportRefresh"],additionalServices:["conceptualSchemaProxy","promiseFactory","localizationService","modelService","reportService","modelConverter","reportTileService","resourcePackagesService","explorationSerializer","featureSwitchService","visualPlugin","telemetryService","trustedVisual","themeService","globalEventBridge","visualTimeSynchronizationService","lazyProviderModern","publicCustomVisualService"]}},Ie.prototype.logEventForRealtimeTile=function(z){z&&(z.realTimeMode||z.pushDataVersion)&&this.services.telemetryService.logEvent(ui.bm,{modelId:z.id,realtimeMode:z.realTimeMode||0,pushdataVersion:z.pushDataVersion||0,controller:"ReportTileController"})},Ie.prototype.reloadTrustedVisuals=function(z){_.isEmpty(z)||(this.services.visualPlugin.ensureTrustedVisualPlugins(z),this.services.globalEventBridge.publishToChannel(Pi.W,{visualTypes:z.map(function(q){return q.name})}))},Ie.prototype.populateExploration=function(z,q,_e,Ke,yt){var wt=this;this.setDataSources(z,q);var Jt=this.services.explorationSerializer.deepCopyExploration(q,{withData:!0,withQuery:!0}),qt=Ie.mapCanvasSize(Jt,_e);this.applySectionParameterFilters(qt,_e,Ke,yt);var ur=Ie.getReferencedResourcePackages(qt,_e);this.services.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps?this.getResourcePackagesToRegister(ur,qt,_e).then(function(hr){wt.resolveExploration(hr,qt,_e),wt.logEventForRealtimeTile(z)}):(this.resolveExploration(ur,qt,_e),(0,ia.j)(q,this.services.trustedVisual).then(function(hr){return wt.reloadTrustedVisuals(hr)}),this.logEventForRealtimeTile(z))},Ie.prototype.resolveExploration=function(z,q,_e){if(_.isEmpty(z))this.resolveExplorationWithoutResourcePackage(q,_e);else{var Ke=this.scope.viewModel;this.services.telemetryService.logEvent(ui.eP,{resourcePackageLength:z.length,tileId:Ke&&Ke.contract?Ke.contract.id:-1,reportTileHasCustomVisual:!0}),this.resolveExplorationWithResourcePackages(z,q,_e)}},Ie.prototype.getResourcePackagesToRegister=function(z,q,_e){return(0,l.__awaiter)(this,void 0,o.J,function(){var Ke,yt,wt,zt,Jt,qt;return(0,l.__generator)(this,function(hr){switch(hr.label){case 0:return Ke=Ie.getReferencedVisualsInSection(q,_e),[4,this.services.publicCustomVisualService.getPublicResourcePackages(_.keys(Ke))];case 1:for(yt=hr.sent(),wt=yt,zt=function(Er){_.find(yt,function(xr){return xr.name===Er.name})||wt.push(Er)},Jt=0,qt=z;Jt<qt.length;Jt++)zt(qt[Jt]);return[2,wt]}})})},Ie.prototype.addODataFilterFromQuery=function(z,q){return(0,l.__awaiter)(this,void 0,M.I,function(){var Ke,yt,wt;return(0,l.__generator)(this,function(Jt){switch(Jt.label){case 0:return[4,this.services.lazyProviderModern.get("@powerbi/ODataFilterParser/OData-Filter-Parser.module#ODataFilterParserModule","odataFilterParserService")];case 1:return[4,Jt.sent().tryGetFilters(q)];case 2:if(Ke=Jt.sent(),_.isEmpty(Ke))return[2];for(z.filters||(z.filters=[]),yt=0,wt=Ke;yt<wt.length;yt++)z.filters.push(wt[yt]);return this.updateExplorationCacheCapabilities(!0,!1),[2]}})})},Ie.prototype.updateExplorationCacheCapabilities=function(z,q){var _e=this.services.explorationCapabilities,Ke=_e.getCapabilities();Ke.visualContainerOptions.disableQueryCacheUpdates=z,void 0!==q&&(Ke.persistentUserStateEnabled=q),_e.setCapabilities(Ke)},Ie.prototype.applySectionParameterFilters=function(z,q,_e,Ke){if(z&&z.sections){var yt=(0,da.oS)(z,q),wt=null!=yt&&z.sections[yt];if(wt){ca.l.mergeExplorationSectionFilters(z,wt);var zt=(0,Wa.SV)(z,_e);ca.l.applySectionParameterFilters(wt,null!=zt&&z.pods[zt],void 0,Ke)}}},Ie.prototype.resolveExplorationWithResourcePackages=function(z,q,_e){var Ke=this;this.services.resourcePackagesService.registerPackages(z),this.services.visualPlugin.ensurePlugins(z,!1).finally(function(){Ke.resolveExplorationWithoutResourcePackage(q,_e)})},Ie.prototype.populateReportTiles=function(){return(0,l.__awaiter)(this,void 0,o.J,function(){var z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr;return(0,l.__generator)(this,function(jr){switch(jr.label){case 0:return(z=this.scope.viewModel).isError=!1,z&&z.contract?(q=z.contract)&&q.type===vr.YU.report?(_e=this.services.modelConverter.convertTileConfig(q),Ke=q.reportId,[4,this.services.reportService.ensureReportsInitialization()]):[2]:[3,8];case 1:if(jr.sent(),yt=this.services.reportService.findReport(Ke),wt=q.sectionId,!yt)return this.setErrorText(),[2];zt=this.services.modelService.findModel(yt.modelId,yt.packageId),jr.label=2;case 2:return jr.trys.push([2,7,,8]),[4,this.services.reportTileService.getExploration(Ke,wt)];case 3:return Jt=jr.sent().exploration,[4,this.initializeExplorationTheme(Jt)];case 4:if(jr.sent(),qt=_e&&_e.reportTile&&_e.reportTile.sectionId,ur=Jt.sections,null==wt&&null!=qt&&null!=ur&&qt<ur.length){if(!(hr=Jt.sections[qt]))return this.setErrorText(),[2];wt=hr.id}return br=null,Er=null,_e&&_e.reportTile&&(br=_e.reportTile.pod,_e.reportTile.filters&&(xr=[],Er=this.services.explorationSerializer.deserializeFilterCollection(this.services.explorationSerializer.parseFilterCollectionConfig(_e.reportTile.filters),xr,!1),r.fF.assert(function(){return _.isEmpty(xr)},"Unexpected errors deserializing report tile filters"))),this.scope.viewModel.odataFilters?[4,this.addODataFilterFromQuery(Jt,this.scope.viewModel.odataFilters)]:[3,6];case 5:jr.sent(),jr.label=6;case 6:return this.populateExploration(zt.contract,Jt,wt,br,Er),[3,8];case 7:return Jr=jr.sent(),(0,St.If)(this.services.telemetryService,rr.TZ,Jr),this.setErrorText(),[3,8];case 8:return[2]}})})},Ie.prototype.initializeExplorationTheme=function(z){return(0,l.__awaiter)(this,void 0,o.J,function(){var q;return(0,l.__generator)(this,function(_e){switch(_e.label){case 0:return q=ea.P.cloneThemeCollection(z.themeCollection),this.services.themeService.isLegacyThemeName(q.customTheme&&q.customTheme.name)&&delete q.customTheme,[4,ea.P.loadThemeAndBaseTheme(this.services.promiseFactory,this.services.resourceLoader,this.services.themeService,z.resourcePackages,q)];case 1:return _e.sent(),[2]}})})},Ie.prototype.resolveExplorationWithoutResourcePackage=function(z,q){var _e=this.scope.viewModel,Ke=z.sections,yt=Ke.length,wt=[];this.services.explorationNavigation.loadExploration(z);for(var zt=0;zt<yt;zt++)Ke[zt].crossFilterSource&&(Ke[zt].crossFilterSource.highlight=void 0),wt[zt]={contract:Ke[zt],selected:!0,displayName:Ke[zt].displayName};if(void 0!==q){var Jt=(0,da.gI)(z,q);if(Jt){this.services.explorationNavigation.goto(Jt);var qt=new Ci.y(Jt),ur=(0,wr.UR)(),hr=Jt.visualContainers.length;for(zt=0;zt<hr;zt++){var br=(0,Va.Dz)(z,qt.contract,Jt.visualContainers[zt],0);br.allowDeferredRendering=!0,br.options=this.services.explorationCapabilities.getCapabilities().visualContainerOptions,ur.push(br)}qt.visualContainers=ur,qt.visualContainerGroups=(0,Va.C)(Jt.visualContainerGroups,ur,0),_e.exploration={contract:z,exploreCanvas:qt,sections:wt},_e.isLoading=(0,Or.r5)(_e.contract),this.services.featureSwitchService.featureSwitches.realTimeRefreshDisabled||this.services.reportRefresh.init(!1),this.services.visualTimeSynchronizationService.setAnchorTimeToNow()}else this.setErrorText()}else this.setErrorText()},Ie.prototype.setDataSources=function(z,q){r.fF.assertValue(z,"model"),r.fF.assertValue(q,"explorationContract");var _e=q.dataSources.withId(z.id);if(!_e){var Ke=Ji.N8;q.dataSources.push(_e={type:G.nKy,id:z.id,name:Ji.N8,dsr:{schemaName:Ji.N8,vsName:z.vsName,dbName:z.dbName,modelId:z.id}});var yt=Ji.eM;q.dataSources.push({type:ba.K,id:q.id,name:yt,extends:Ke,exploration:{schemaName:yt,extends:Ke,getModelExtensions:function(){return q.modelExtensions},getDataSourceVariables:function(){return q.dataSourceVariables}}})}this.services.dataSources.set(q.dataSources)},Ie.prototype.setErrorText=function(){var z=this.scope.viewModel;z.isError=!0,z.errorText=this.services.localizationService.get("ReportTile_DataUnavailable")},Ie.getReferencedResourcePackages=function(z,q){r.fF.assertValue(z,"exploration");var _e=Ie.getReferencedVisualsInSection(z,q);if(!_.isEmpty(_e))return _.filter(z.resourcePackages,function(Ke){return(0,fa.JZ)(Ke)&&_e[Ke.name]})},Ie.getReferencedVisualsInSection=function(z,q){r.fF.assertValue(z,"exploration");var _e=z.sections,Ke={};if(_.isEmpty(_e))return Ke;for(var yt=0,wt=_e;yt<wt.length;yt++){var zt=wt[yt];if(zt.id===q){_.map(zt.visualContainers,function(Jt){var qt=Jt&&Jt.config&&Jt.config.singleVisual&&Jt.config.singleVisual.visualType;_.isEmpty(qt)||(Ke[qt]=!0)});break}}return Ke},Ie.mapCanvasSize=function(z,q){if(z){var _e=(0,da.oS)(z,q);z.sections&&z.sections[_e]&&void 0!==z.sections[_e].size.displayOption&&(z.sections[_e].size.displayOption=1)}return z},Ie}(),Aa=function(){return function(){this.template='<legacy-scoped-root><exploration-scoped-services-bridge><report-tile-inner view-model="viewModel"></report-tile-inner></exploration-scoped-services-bridge></legacy-scoped-root>',this.scope={viewModel:"="}}}(),Li=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/reportTile.html",this.replace=!0,this.scope={viewModel:"="},this.controller=A(Da)}}(),Ea=t(681965),pa=t(279313),ja=t(842263),aa=Br.lH,Vi=function(){function Ie(z,q){var Ke,yt,_e=this;this.activeSubscriptions=[],this.scope=z,this.services=q,this.model=z.viewModel,this.scope.hasSensitivityBanner=!1,this.setSensitivityBannerHeight(),this.globalChannelSubscriptionManager=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(aa,function(br,Er){_e.handleSensitivity(Er)}),this.scope.moduleConfig=pa.W,this.updateTileHref(),this.scope.hasWarning=function(){return _e.hasWarning()},this.scope.shouldShowTileVisual=function(){return _e.shouldShowTileVisual()},this.scope.$watchCollection("viewModel.action",function(){return _e.updateTileHref()});var Jt,wt=this.services.rootScope.$on(Ar.H9,function(br,Er){_e.model.report&&_e.model.report.id===Er&&(_e.model.report=null)}),zt=this.services.userNotificationInfo;zt.registerNotificationsUpdatedListener&&zt.registerNotificationsUpdatedListener(function(){return _e.onNotificationsUpdated()}).then(function(br){Jt=br});var qt=this.services.shellCapabilities;qt.ensureCapabilitiesInitialized().then(function(){_e.showComments=qt.getCapabilities().dashboardSettings.showComments}),this.scope.$on(G.ebA,function(){wt(),Jt&&Jt(),_e.globalChannelSubscriptionManager&&_e.globalChannelSubscriptionManager.unsubscribeAll();var br=_e.scope;br.isError&&br.errorDetails?br.$emit(di.flv,_e.model,br.errorDetails):_e.hasWarning()&&br.$emit(di.flv,_e.model,{message:_e.scope.warning&&_e.scope.warning.tooltip,displayableErrorInfo:[]})}),this.updateModelTileHeaderSize(),this.scope.$root.$on(G.j7U,function(){_e.updateModelTileHeaderSize()}),this.scope.onTileError=function(br,Er){_e.scope.isError=!0,_e.scope.errorText=_e.model.type===vr.YU.image?_e.services.localizationService.get("Tile_ImageErrorText"):br,_e.scope.errorDetails=Er||{message:_e.scope.errorText,displayableErrorInfo:[]},_e.model.resetTileErrors=function(){_e.scope.isError=!1},_e.services.globalEventBridge.publishToChannel(Mi.oS,{tile:_e.model,errorDetails:_e.scope.errorDetails})},this.scope.$on(G.bb_,function(br,Er,xr){_e.scope.onTileError(Er,xr)}),this.scope.onClearTileError=function(){var br=_e.scope.errorDetails;_e.scope.isError&&br&&_e.scope.$emit(di.flv,_e.model,br),_e.model.resetTileErrors&&_e.model.resetTileErrors()},this.services.rootScope.$on(di.aqt,function(br,Er){_e.model.composite&&_.find(Er,function(xr){return _e.scope.viewModel.contract.modelId===xr})&&(_e.scope.isError=!0,_e.scope.errorText=_e.services.localizationService.get("Tile_RLS_NoAccess"),_e.model.composite.tileData.data=null,_e.model.resetTileErrors=function(){var xr;null!==(xr=_e.model.composite.tileData)&&void 0!==xr&&xr.data&&(_e.scope.isError=!1)})}),this.scope.getUnseenCount=function(){return _e.getUnseenCount()},this.scope.getIcons=function(){return _e.getIcons()};var ur={};this.scope.contentStyleWithSensitivity=function(){var br;return!0===_e.scope.hasSensitivityBanner?((br={})[ra.$Z]=_e.scope.viewModel.getTileHeight()+_e.sensitivityBanerHeight+"px",br):ur},this.scope.getWebContentIcon=function(){return _e.getWebContentIcon()},this.scope.onIconClick=function(br,Er){return _e.onIconClick(br,Er)},this.scope.selectTileConversations=function(br){return _e.selectTileConversations(br)},this.scope.showCommentIndicator=function(){return _e.showCommentIndicator()},this.scope.showConversationsToolTip=function(){return _e.showConversationsToolTip()},this.scope.refreshIconsTrigger=!0,this.model.type===vr.YU.image&&(this.scope.altText=this.model.displayText?this.model.displayText:this.services.localizationService.get("Image")),this.scope.realTimeTileModernInputArgs={viewModel:this.scope.viewModel.realTime},this.scope.realTimeTileModernOutputArgs={onTileError:function(Er,xr){return _e.scope.onTileError(Er,xr)},onClearTileError:function(){return _e.scope.onClearTileError()}},this.scope.realTimeTileLazyPath="@powerbi/RealTime/real-time.module#RealTimeModule";var hr=null===(Ke=this.model)||void 0===Ke?void 0:Ke.composite;this.scope.visualType=null===(yt=null==hr?void 0:hr.visual)||void 0===yt?void 0:yt.type,hr&&hr.licenseUIManager&&(this.activeSubscriptions.push(hr.licenseUIManager.shouldDisplayLicenseBlocker$.subscribe(function(br){return _e.scope.shouldDisplayLicenseBlocker=br})),this.activeSubscriptions.push(hr.licenseUIManager.shouldDisplayLicenseEnvironmentBlocker$.subscribe(function(br){return _e.scope.shouldDisplayLicenseEnvironmentBlocker=br})),this.activeSubscriptions.push(hr.licenseUIManager.shouldDisplayFeatureBlockedBanner$.subscribe(function(br){return _e.scope.shouldDisplayFeatureBlockedBanner=br})),this.activeSubscriptions.push(hr.licenseUIManager.shouldStartBannerLeaveAnimation$.subscribe(function(br){return _e.scope.shouldStartBannerLeaveAnimation=br})))}return Ie.createOptions=function(){return{additionalServices:["localizationService","userInfo","visualPlugin","dashboardDataService","flyoutService","modelService","userNotificationInfo","userNotificationTileFilterService","tileDisplay","errorService","gridLayout","licenseEnforcementService","annotationsInterop","telemetryService","shellCapabilities","embedModeService","globalEventBridge"],scopedDependencies:["scriptVisuals"]}},Ie.prototype.$onDestroy=function(){this.activeSubscriptions.forEach(function(z){z&&z.unsubscribe()})},Ie.prototype.onResize=function(){this.setSensitivityBannerHeight()},Ie.prototype.setSensitivityBannerHeight=function(){this.baseSensitivityBannerHeight=window.innerWidth<640?xt.jH:xt.CK},Ie.prototype.handleSensitivity=function(z){z.artifactType===yi.Bz.Tile&&!_.isNil(z.componentId)&&z.componentId===this.scope.viewModel.contract.id&&(this.scope.hasSensitivityBanner=z.hasSensitivity,this.scope.hasExpandSensitivityBanner=z.isBannerExpanded,this.sensitivityBanerHeight=z.isBannerExpanded?xt.FN:this.baseSensitivityBannerHeight,this.scope.viewModel.calculateLayout(void 0,this.sensitivityBanerHeight),this.scope.viewModel.invalidateLayout())},Ie.prototype.updateTileHref=function(){this.model.intraDomainNavigationParameters=null;var z=this.model.action;z.action===G.sVl&&xt.n9.isValidUrl(z.targetUrl,!0)?this.scope.$emit(di.Grw,this.model,z.targetUrl):this.model.href=void 0},Ie.prototype.hasLostReportConnection=function(){var q=this.scope.viewModel,_e=q.action;return q.type===vr.YU.composite&&_e&&!(_e.action&&_e.action===G.RCq)&&(!_e.action||_e.action===G.$Ez&&!q.report)&&"bingSocial"!==q.contract.name&&!q.config.widget},Ie.prototype.hasWarning=function(){var z=this.services.visualPlugin,q=this.services.userInfo,_e=this.scope.viewModel;if(this.scope.isError&&this.services.tileDisplay.isVisualSupportedInErrorState(_e))return this.scope.warning={tooltip:this.services.localizationService.format("DashboardAppBar_TileError_ErrorTooltip",[_e.composite.errorText])},!0;if((0,ki.ok)(this.scope.viewModel,z)){if(this.services.scriptVisuals.shouldBlockScriptVisual(0,_e.report&&_e.report.id)){var wt=q&&!Array.isArray(q)&&this.services.licenseEnforcementService.supportsScriptVisuals();return this.scope.warning={tooltip:wt&&this.services.localizationService.get("Tile_RVis_RefreshDisabled")||this.services.localizationService.get("Tile_RVis_RefreshDisabledForNonPro")},!0}}else{if(this.hasLostReportConnection())return this.scope.warning={tooltip:this.services.localizationService.get("Tile_LoseReportConnection")},!0;if(this.scope.viewModel.errorCode)return this.scope.warning={tooltip:this.model.details.getErrorLocId(this.model.errorCode,this.services.localizationService)},!0}return!1},Ie.prototype.getUnseenCount=function(){var z=this.scope.viewModel.contract.id,q=this.services.userNotificationInfo;return z&&q&&q.userNotifications&&!_.isEmpty(q.userNotifications.notifications)?_.filter(this.services.userNotificationTileFilterService.filterNotifications(q.userNotifications.notifications,z),function(yt){return!yt.seen}).length:0},Ie.prototype.onIconClick=function(z,q){q.stopPropagation(),q.preventDefault();var _e=this.scope;if(null!=z.action)switch(z.action){case 0:this.scope.headerClickTarget({event:q,openNotification:!0});break;case 2:this.services.tileDisplay.onErrorIconClicked({message:z.tooltip()});break;case 1:this.services.tileDisplay.onErrorIconClicked({isError:_e.isError,errorTitle:_e.errorText,errorDetails:_e.errorDetails,message:z.tooltip()});break;default:r.fF.assertFail("Unrecognized/unsupported icon action.")}},Ie.prototype.getIcons=function(){var z=this;if(this.icons)return this.icons;var q={badgeTextSetter:this.getUnseenCount.bind(this),localizationService:this.services.localizationService,showNotifications:function(){return z.getUnseenCount()>0},showWarning:this.hasWarning.bind(this),showWebContent:function(){var Ke=z.scope.viewModel;return Ke&&Ke.type===vr.YU.iframe&&!Ke.isTemporary&&Ke.hasTitle()},showRealTime:function(){var Ke=z.scope.viewModel;return Ke&&Ke.type===vr.YU.realTime},warningToolTipSetter:function(){return z.scope.warning&&z.scope.warning.tooltip}};return this.icons=(0,ja.n)(q),q.showWarning()&&this.services.globalEventBridge.publishToChannel(Mi.oS,{tile:this.model,errorDetails:{message:q.warningToolTipSetter(),displayableErrorInfo:[]}}),this.icons},Ie.prototype.getWebContentIcon=function(){return _.find(this.getIcons(),function(z){return 2===z.action})},Ie.prototype.shouldShowTileVisual=function(){var z=this.services.tileDisplay.getTileDisplayError(this.scope.viewModel);return z&&z.isError?(this.scope.errorText=z.errorTitle,this.scope.errorDetails=z.errorDetails,!1):!this.scope.isError||this.services.tileDisplay.isVisualSupportedInErrorState(this.scope.viewModel)},Ie.prototype.updateModelTileHeaderSize=function(){var z=1;this.services.gridLayout.strategy.isDynamic||this.scope.inEditMobileLayoutMode?z=2:this.scope.largeHeader&&(z=0),this.model.setTileHeaderSize(z)},Ie.prototype.onNotificationsUpdated=function(){this.getUnseenCount()>0&&(this.scope.refreshIconsTrigger=!this.scope.refreshIconsTrigger)},Ie.prototype.selectTileConversations=function(z){z.stopPropagation(),z.preventDefault();var q=this.services;q.annotationsInterop.selectTile(this.scope.viewModel.id),q.flyoutService.expandFlyout(),q.telemetryService.logEvent(Ea.C,{artifactType:"Tile"})},Ie.prototype.showCommentIndicator=function(){var q=this.services.dashboardDataService.activeDashboard;return!!(this.showComments&&q&&q.annotationsEnabled&&this.scope.viewModel.hasConversation)},Ie.prototype.showConversationsToolTip=function(){return this.services.localizationService.format("ShowConversationsToolTip",["tile"])},Ie}(),$i=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/tileWrapper.html",this.controllerAs="$ctrl",this.scope={viewModel:"=",headerClickTarget:"&",inEditMobileLayoutMode:"<?"}}}(),wi=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/tile.html",this.replace=!0,this.scope={viewModel:"=",headerClickTarget:"&",inEditMobileLayoutMode:"<?"},this.controller=A(Vi),this.link=function(z,q,_e,Ke){if(z.disablePointerEvents="true"===_e.disablePointerEvents,z.largeHeader=_e.hasOwnProperty("largeHeader"),z.allowInteractivity=_e.allowInteractivity,z.largeHeader&&z.viewModel.setTileHeaderSize(0),void 0!==window.ResizeObserver){var yt=new ResizeObserver(function(wt,zt){return Ke.onResize()});yt.observe(q[0]),z.$on("$destroy",function(){yt.disconnect()})}}}}(),Na=t(565146),fi=function(){function Ie(z,q){var _e=this;this.scope=z,this.services=q,this.scope.workbookTileUrl=this.workbookTileUrl,this.scope.workbookTileImageUrl=this.workbookTileImageUrl,this.scope.useLiveEwaControl=!!this.services.featureSwitchService.featureSwitches.liveWorkbookTiles;var Ke=this.scope.$watch("viewModel.tileModel.size",function(){return _e.services.workbookService.setModelDynamicImageUrl(_e.scope.viewModel)},!0),yt=this.scope.$watch("viewModel",function(){return _e.services.workbookService.setModelDynamicImageUrl(_e.scope.viewModel)});this.scope.$on("$destroy",function(){Ke(),yt()}),this.initWorkbookTile()}return Ie.createOptions=function(){return{additionalServices:["$sce","workbookService","featureSwitchService"]}},Ie.prototype.constructWorkbookWopiUrl=function(z,q){if(this.scope.viewModel.contract.$config.workbookTile){var _e=z.replace(/ExcelJs.ashx/i,"xlEmbed.aspx");return _e+"&access_token="+q+"&item="+this.scope.viewModel.contract.$config.workbookTile.item+"&action=embedView"}return""},Ie.prototype.shouldPreparePreviewImage=function(){return!this.scope.viewModel.previewImageUrl&&!this.scope.viewModel.image&&!this.scope.viewModel.hasImages()},Ie.prototype.initWorkbookTile=function(){var z=this;this.scope.viewModel.isLoading=!0,this.shouldPreparePreviewImage()&&this.services.workbookService.getWorkbookTilePreviewImageUrl(this.scope.viewModel.contract).then(function(q){var _e=-1===q.indexOf("?")?"?":"&";z.scope.viewModel.previewImageUrl=q+_e+(new Date).getTime(),z.services.workbookService.setModelDynamicImageUrl(z.scope.viewModel),z.scope.onTileImageReady(function(Ke){z.scope.viewModel.isLoading=!1})}),this.scope.useLiveEwaControl&&this.services.workbookService.getWorkbookEmbedAccessData(this.scope.viewModel.contract.workbookId,this.scope.viewModel.contract.packageId).then(function(q){if(q&&(0,Na.HH)(q.url)){var _e=z.constructWorkbookWopiUrl(q.url,q.accessToken);z.scope.workbookTileUrl=z.services.$sce.trustAsResourceUrl(_e)}})},Ie}(),pi=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/workbookTile.html",this.replace=!0,this.scope={viewModel:"=",title:"="},this.controller=A(fi),this.link=function(z,q,_e){z.onTileImageReady=function(Ke){q.find("img.internalWorkbookTileImage").on("load",function(yt){Ke(yt.currentTarget)})}}}}(),hi=t(462549),ri=function(){function Ie(z,q){this.localizationService=q,this.contract=z,this.contentProviderDialogModel=new hi.rg(!1,"Ok",!0,this.localizationService,!0,!0,!1),this.temporaryDashboardMap=null,this.viewMode=0,this.contentProviderDialogModel.confirmButtonText=this.localizationService.get("PBI_Button_Label_OK")}return Object.defineProperty(Ie.prototype,"dashboards",{get:function(){return this._dashboards},set:function(q){this._dashboards=q},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"visibleDashboards",{get:function(){return _.filter(this._dashboards,function(q){return!q.isHidden})},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"models",{get:function(){return this.contract.models},enumerable:!1,configurable:!0}),Ie.prototype.cacheTemporaryDashBoardMapping=function(z,q){this.temporaryDashboardMap={temporaryId:z,resolvedId:q}},Ie.prototype.calculateLayout=function(){if(this._dashboards)for(var z=0,q=this._dashboards;z<q.length;z++)q[z].calculateLayout()},Ie.prototype.applyLayout=function(z){if(this._dashboards)for(var q=0,_e=this._dashboards;q<_e.length;q++)_e[q].applyLayout()},Ie.prototype.findDashboard=function(z){return this.dashboards[this.getDashboardIndex(z)]},Ie.prototype.findDashboardByGUID=function(z){var q=this.dashboards;this.temporaryDashboardMap&&this.temporaryDashboardMap.resolvedId&&this.temporaryDashboardMap.temporaryId&&this.temporaryDashboardMap.temporaryId===z&&(z=this.temporaryDashboardMap.resolvedId);for(var _e=0,Ke=q.length;_e<Ke;_e++)if(q[_e].objectId===z)return q[_e]},Ie.prototype.getDashboardIndex=function(z){for(var q=this.dashboards,_e=0,Ke=q.length;_e<Ke;_e++)if(q[_e].id===z)return _e;return-1},Ie}(),xi=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt){r.fF.assertValue(z,"telemetryService"),r.fF.assertValue(q,"downgradedUrlBuilder"),r.fF.assertValue(_e,"errorService"),r.fF.assertValue(Ke,"visualPlugins"),r.fF.assertValue(yt,"promiseFactory"),r.fF.assertValue(wt,"geolocationService"),r.fF.assertValue(zt,"dataServiceModelConverter"),this.dataServiceModelConverter=zt,this.localizationService=Jt}return Ie.prototype.setModelMerger=function(z){this.modelMerger=z},Ie.prototype.fillReport=function(z,q){this.dataServiceModelConverter.fillReport(z,q)},Ie.prototype.convertReport=function(z){return this.dataServiceModelConverter.convertReport(z)},Ie.prototype.convertModel=function(z){return this.dataServiceModelConverter.convertModel(z)},Ie.prototype.convertDashboardContainerShallow=function(z){var q=new ri(z,this.localizationService);return q.activeViewMode=z.activeViewMode,q.userId=z.userId,q},Ie.prototype.fillDashboardContainerDashboard=function(z){var q=this;if(z.dashboards&&1===z.dashboards.length){var _e=z.packages||[],Ke=z.dashboards[0];Ke.tiles&&Ke.tiles.map(function(yt){q.resolveTilePackage(yt,_e)})}},Ie.prototype.setDashboardHasUpdate=function(z,q){z.hasUpdate=!1;var _e=_.find(q,function(Ke){return Ke.id===z.contract.originalPackageId});_e&&_e.latestVersion&&_e.version!==_e.latestVersion&&(z.hasUpdate=!0)},Ie.prototype.fillDashboardContainerDashboards=function(z,q){q.dashboards&&(z.userId=q.userId,this.fillDashboardContainerDashboardsFromBasicDashboardContainer(z,q))},Ie.prototype.fillDashboardContainerDashboardsFromBasicDashboardContainer=function(z,q){var _e=this;if(q.dashboards){var Ke=q.reports||[],yt=q.workbooks||[],wt=q.models||[],zt=q.packages||[];z.dashboards=q.dashboards.map(function(Jt){var qt=_e.convertDashboard(Jt,wt,Ke,yt);return _e.setDashboardHasUpdate(qt,zt),Jt.id===q.activeDashboardId&&qt.contract.tiles&&qt.contract.tiles.map(function(ur){_e.resolveTilePackage(ur,zt)}),qt})}},Ie.prototype.updateBasicDashboardContainer=function(z){var q=z.dashboards;void 0===z.activeDashboardId&&q&&q.length>0&&(z.activeDashboardId=q[0].id),this.modelMerger.mergeModelContentProviderId(z.models,z.packages)},Ie.prototype.resolveTilePackage=function(z,q){this.dataServiceModelConverter.resolveTilePackage(z,q)},Ie.prototype.getTileReport=function(z,q){return this.dataServiceModelConverter.getTileReport(z,q)},Ie.prototype.convertDashboardContainer=function(z){var q=this.convertDashboardContainerShallow(z);return this.fillDashboardContainerDashboards(q,z),q},Ie.prototype.convertDashboard=function(z,q,_e,Ke){return this.dataServiceModelConverter.convertDashboard(z,q,_e,Ke)},Ie.prototype.fillDashboardChildren=function(z,q,_e,Ke){return this.dataServiceModelConverter.fillDashboardChildren(z,q,_e,Ke)},Ie.prototype.convertTile=function(z,q,_e,Ke){return this.dataServiceModelConverter.convertTile(z,q,_e,Ke)},Ie.prototype.convertCompositeTile=function(z){return this.dataServiceModelConverter.convertCompositeTile(z)},Ie.prototype.convertTileData=function(z){return this.dataServiceModelConverter.convertTileData(z)},Ie.prototype.convertReportTile=function(z){return this.dataServiceModelConverter.convertReportTile(z)},Ie.prototype.convertTileConfig=function(z){return this.dataServiceModelConverter.convertTileConfig(z)},Ie}(),Ra=function(){function Ie(z){this.dataServiceModelMerger=z}return Ie.prototype.mergeDashboard=function(z,q,_e,Ke,yt){this.dataServiceModelMerger.mergeDashboard(z,q,_e,Ke,yt)},Ie.prototype.mergeModelContentProviderId=function(z,q){if(z)for(var _e=0,Ke=z;_e<Ke.length;_e++){var yt=Ke[_e];yt.contentProviderId=yt.contentProviderId||(0,$r.ER)(q,yt.packageId)}},Ie}();function Za(Ie){Ie.put("components/printableImage/printableImage.html",'<img class="image" ng-class="{loaded: $ctrl.imageLoaded, animate: !$ctrl.disableAnimation}" ng-src="{{$ctrl.source}}" referrerPolicy="origin" on-load="$ctrl.onLoad()" on-error="$ctrl.onError()" draggable="false" alt="{{$ctrl.altText}}"/>'),Ie.put("views/dashboard.html",'<div class="dashboard" container-printer calculate-print-styles="calculatePrintStyles" print-container-selector="dashboard"><pbi-data-loader-spinner class="centered" ng-if="!hideSpinner && !viewModel.isLoaded && !isGroupTransitionDelayed && !showReloadDashboard"></pbi-data-loader-spinner><div class="error" ng-if="!viewModel.isLoaded && showReloadDashboard"><i class="glyphicon pbi-glyph-error glyph-large"></i><h3 localize="DashboardTilesLoadError_Title"></h3><span class="tileLoadErrorMessage" localize="DashboardTilesLoadError_Message1" localize-fragments><a fragment-index="0" href="https://support.powerbi.com" target="_blank" localize="DashboardTilesLoadError_Message2"></a><span fragment-index="1" localize="DashboardTilesLoadError_Message3"></span></span> <button class="biButton primary" ng-click="reloadActiveDashboard()" localize="DashboardTilesLoadError_Reload"></button></div><ul class="tileContainer" ng-show="!showReloadDashboard" grid-layout id="dashboard{{viewModel.id}}"><dashboard-tile ng-repeat="tile in filteredTiles() track by tileTrackerFn(tile)" view-model="tile" can-edit="canEditTiles()" disable-keyboard-nav="disableKeyboardNav" disable-pointer-events="{{::disablePointerEvents}}" grid-layout-item grid-layout-container="gridLayoutContainer" ng-repeat-finish-event="dashboardTileRepeatFinished" remove-tile-from-mobile-view="removeTileFromMobileView(tile)" in-edit-mobile-layout-mode="inEditMobileLayoutMode" touch-action="{{dashboardTileTouchAction}}"></dashboard-tile></ul></div>'),Ie.put("views/dashboardWrapper.html",'<dashboard disable-tile-ease-in="disableTileEaseIn" view-model="viewModel" display-layout="displayLayout" disable-pointer-events="disablePointerEvents" mobile-layout="mobileLayout" in-edit-mobile-layout-mode="inEditMobileLayoutMode"></dashboard>'),Ie.put("views/tiles/compositeTile.html",'<div class="compositeTile" ng-class="{ fullLayout: viewModel.config.layoutType === 1 }"><div class="visualTile"><downgraded-visual-modern ng-if="$ctrl.readyToRender()" [view-model]="viewModel.visual" [allow-deferred-rendering]="::allowDeferredRendering" supports-screen-reader="true" (visual-ready)="$ctrl.onVisualDataChanged()"></downgraded-visual-modern></div></div>'),Ie.put("views/tiles/dashboardTile.html",'<li class="dashboardTile baseTile" in-viewport="onceInViewport()" in-viewport-context="{{::viewportContextSelector}}" in-viewport-offset="100%" ng-class="{selected: model.isSelected || hasSpotlight(), readonly: isReadOnly(), nonActionable: isNonActionable(), hasSpotlight: hasSpotlight()}" ng-click="$event.stopPropagation()" accessible-click="openTile(disablePointerEvents, $event)" tabindex="{{disableKeyboardNav && !(model.isSelected || hasSpotlight()) ? -1 : 0}}" ng-mouseenter="setHover(true)" ng-mouseleave="setHover(false)" ng-focus="setHover(true)" ng-attr-aria-label="{{getTileAriaLabel()}}"><dashboard-tile-open-options ng-if="displayDashboardTileOpenOptions()" model="model"></dashboard-tile-open-options><div ng-if="inViewport" class="tileWrapper" ng-switch="viewModel.isLocked"><div ng-switch-when="false" ng-style="viewModel.tileStyles" class="dashboardTileLayout"><section ng-if="::(inEditMobileLayoutMode || displayDashboardTileShowIcon())"> <button ng-click="addTileToMobileView()" class="tileAction pinTile glyphicon pbi-glyph-pinned glyph-small showTileIcon" localize-tooltip="DashboardTile_ToggleVisibility" ng-if="displayDashboardTileShowIcon()"></button> <button ng-click="removeTileFromMobileView()" class="tileAction unpinTile glyphicon pbi-glyph-unpin glyph-small" localize-tooltip="DashboardTile_unpinTile" ng-if="::(!displayDashboardTileShowIcon())"></button></section><a class="urlTile" ng-attr-href="{{viewModel.href}}" ng-attr-target="{{viewModel.hrefTarget}}" rel="noopener noreferrer" draggable="false"><tile view-model="viewModel" in-edit-mobile-layout-mode="inEditMobileLayoutMode" disable-pointer-events="{{::disablePointerEvents}}" header-click-target="openNotification ? openNotifications(event) : openTile(true, event)"></tile></a></div><div ng-switch-when="true" class="permissionLockedTileWrapper"><div class="permissionLockedTileContainer" ng-switch="refreshingPermissions"><loading-tile ng-switch-when="true" [message-key]="\'PermissionCenter_LoadingTile\'"></loading-tile><permission-locked-tile ng-switch-when="false"></permission-locked-tile></div></div></div><div ng-if="viewModel.shouldNewBadgeAppear" class="newBadgeContainer" localize="New_Capitalized"></div></li>'),Ie.put("views/tiles/reportTile.html",'<div class="explorationContainer reportTile"><downgraded-exploration ng-if="reportTilesPopulated && !viewModel.isError" [view-model]="viewModel.exploration" [disable-print]="true"></downgraded-exploration><error-placeholder ng-if="viewModel.isError" [error-text]="viewModel.errorText"></error-placeholder></div>'),Ie.put("views/tiles/tile.html",'<div class="tile baseTile tilePosition" ng-class="{ noTitle: !viewModel.hasTitle(), largeHeader:largeHeader, noSubtitle: !viewModel.hasSubtitle() && viewModel.hasTitle() }"><div class="item-auto" ng-if="::(viewModel.type === 1 && !viewModel.hasTitle())"><div class="webContentCorner"></div> <button class="webContentIcon" localize-tooltip="WebContentWarning_Widget" ng-click="onIconClick(getWebContentIcon(), $event)"><i class="glyphicon pbi-glyph-securityalert glyph-small"></i></button></div><ng-container ng-if="viewModel.composite && viewModel.composite.licenseUIManager"><downgrade-license-blocker ng-if="shouldDisplayLicenseBlocker" visual-type="{{visualType}}" tile-object-id="{{viewModel.contract.objectId}}"></downgrade-license-blocker><downgrade-license-environment-blocker ng-if="shouldDisplayLicenseEnvironmentBlocker" visual-type="{{visualType}}"></downgrade-license-environment-blocker><downgrade-license-banner ng-if="shouldDisplayFeatureBlockedBanner" feature-blocked-tooltip="{{viewModel.composite.licenseUIManager.featureBlockedTooltip}}" [should-start-banner-leave-animation]="shouldStartBannerLeaveAnimation" (is-animation-done)="viewModel.composite.licenseUIManager.clearBanner()" visual-type="{{visualType}}"></downgrade-license-banner></ng-container><header class="flexbox" ng-class="{ sensitivityBanner: (hasSensitivityBanner && !hasExpandSensitivityBanner), sensitivityBannerExpanded: hasExpandSensitivityBanner }"><triggered-recompile trigger="refreshIconsTrigger"> <button ng-repeat="icon in ::getIcons()" class="item-auto {{::icon.itemClass}}" ng-if="::icon.show()" title="{{::icon.tooltip()}}" ng-click="onIconClick(icon, $event)"><i class="glyphicon glyph-small {{::icon.iconClass}}"></i><span class="badge" ng-if="::icon.hasBadge" ng-bind="icon.badgeValueSetter()"></span></button></triggered-recompile><div class="headerText unselectable" ng-click="headerClickTarget({event: $event})"><section ng-class="{ headerTitleWrapper: !showCommentIndicator() }"><div class="displayText" ng-style="viewModel.tileHeaderStyles" ng-bind="viewModel.getDisplayText()" title="{{viewModel.getDisplayText()}}"></div><div class="flexbox subDisplayTextWrapper"><span class="subDisplayText item-auto first-part" ng-style="viewModel.tileHeaderStyles" ng-bind="viewModel.getSubDisplayText()" title="{{viewModel.getSubDisplayText()}}"></span> <span class="subDisplayText item-auto" ng-style="viewModel.tileHeaderStyles" ng-show="viewModel.shouldPlaceBulletSeperator()">\u2022</span><span class="subDisplayText" ng-style="viewModel.tileHeaderStyles" bind-text-and-tooltip="viewModel.lastRefreshTimeInLocaleWithLabel()"></span></div></section> <button class="item-auto commentIndicator" ng-if="showCommentIndicator()" ng-click="selectTileConversations($event)" title="{{showConversationsToolTip()}}"><i class="glyphicon glyph-small pbi-glyph-comment"></i></button></div></header><section><div class="loadingPlaceholder" ng-if="viewModel.isTileLoading"><div class="loadingPlaceholderText glyphicon pbi-glyph-powerbi glyph-large"></div></div><div ng-show="!viewModel.isTileLoading && shouldShowTileVisual()" class="tileBody unselectable" ng-class="::{nonInteractive: disablePointerEvents}" ng-style="contentStyleWithSensitivity()" ng-switch on="::{{viewModel.type}}"><composite-tile view-model="viewModel.composite" ng-switch-when="0" allow-interactivity="{{::allowInteractivity}}" on-clear-tile-error="onClearTileError()"></composite-tile><iframe-tile [view-model]="viewModel.iframe" [embed-code]="viewModel.iframe.embedCode" ng-switch-when="1"></iframe-tile><image-tile [image-url]="viewModel.image.imageUrl" alt-text="{{::altText}}" ng-attr-title="{{viewModel.displayText}}" ng-switch-when="2"></image-tile><model-tile [view-model]="viewModel.model" ng-switch-when="3"></model-tile><ssrs-tile [image-url]="viewModel.ssrs.imageUrl" ng-switch-when="4"></ssrs-tile><workbook-tile view-model="viewModel.workbook" ng-switch-when="5"></workbook-tile><div pbi-lazy-load-contents="moduleConfig" ng-switch-when="6"><report-tile view-model="viewModel.reportTile"></report-tile></div><ng-container ng-switch-when="8"><pbi-lazy-load-modern [module-path]="realTimeTileLazyPath" [component-id]="\'RealTimeTileComponentId\'" [input-args]="realTimeTileModernInputArgs" [output-args]="realTimeTileModernOutputArgs"></pbi-lazy-load-modern></ng-container></div><error-placeholder ng-if="!shouldShowTileVisual()" [error-text]="errorText" [error-details]="errorDetails" [tile-type]="viewModel.type"></error-placeholder></section></div>'),Ie.put("views/tiles/tileWrapper.html",'<tile view-model="viewModel" in-edit-mobile-layout-mode="inEditMobileLayoutMode" header-click-target="headerClickTarget()" disable-pointer-events="{{disablePointerEvents}}" allow-interactivity="{{!!allowInteractivity}}" large-header="largeHeader"></tile>'),Ie.put("views/tiles/workbookTile.html",'<div class="workbookTile" ng-class="{hasTitle: title}" ng-switch="useLiveEwaControl"><iframe ng-src="{{::workbookTileUrl}}" role="presentation" ng-switch-when="true"></iframe><printable-image source="{{viewModel.dynamicImageUrl}}" disable-animation="true" ng-class="{backgroundOriginalSize: viewModel.keepOriginalContentSize}" ng-switch-when="false"></printable-image> <img class="internalWorkbookTileImage" name="internalWorkbookTileImage" ng-src="{{viewModel.previewImageUrl}}" ng-hide="true"/></div>')}var Ka=t(913719),ii=t(160557),Ia=t(138363),na=window,La=window,Ha=function(){function Ie(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li,mi,Di,Pa,sa){var Ma=this;this.rootScope=z,this.navigation=q,this.timeout=_e,this.telemetryService=Ke,this.modelMerger=yt,this.modelConverter=wt,this.dashboardDataService=zt,this.dashboardHttpService=Jt,this.dashboardSyncService=qt,this.promiseFactory=ur,this.reportService=hr,this.viralTenantMergeHelperService=br,this.modelService=Er,this.appMetadataService=xr,this.workbookService=Jr,this.resourcePackagesService=jr,this.userSettingsService=Gr,this.visualPluginService=qr,this.userActivityContextService=ai,this.editableFeatureSwitchService=ci,this.shellCapabilities=vi,this.dashboardStore=li,this.globalEventBridge=mi,this.resourcePackageListenerService=Di,this.$injector=Pa,this.userInfo=sa,this.modelIdsForTileRefresh=[],this.initializeContainer();var oi=this.rootScope.$on(Ar.bB,function(Wi,Oi){return Ma.updateDashboardContainer(Oi)});this.dashboardLoadingPromises={},this.inFlightSyncRequests={},this.rootScope.$on("$destroy",function(){oi()})}return Object.defineProperty(Ie.prototype,"dashboardThemeService",{get:function(){return this._dashboardThemeService||(this._dashboardThemeService=this.$injector.get("dashboardThemeService")),this._dashboardThemeService},enumerable:!1,configurable:!0}),Ie.prototype.addOrUpdateDashboard=function(z){this.modelConverter.fillDashboardContainerDashboard(z),this.registerAndLoadResourcePackages(z)},Ie.prototype.addOrUpdateTile=function(z,q,_e){this.dashboardSyncService.addOrUpdateTile(z,q,_e)},Ie.prototype.batchUpdateTileSizePosition=function(z,q){var _e=this,Ke=this.telemetryService.startEvent(ui.mw,{tilesChanged:q.length}),yt=this.dashboardHttpService.batchUpdateTileSizePosition(this.promiseFactory,z.contract,q,Ke.event);return yt&&yt.then(function(){Ke.resolve(),z&&z.isUsedByContentPack&&_e.rootScope.$emit(di.tyL,z.id,Ka.m.Dashboard)},function(){Ke.reject()}),yt},Ie.prototype.loadDashboard=function(z,q){var _e=this;if(this.dashboardLoadingPromises[z])return this.dashboardLoadingPromises[z];var Ke=this.promiseFactory.defer();this.dashboardLoadingPromises[z]=Ke.promise;var yt=[],wt=0,zt=0;for(wt=0;wt<3;wt++)yt.push(this.timeout(function(){_e.loadDashboardInternal(z,q).then(function(Jt){Ke.resolve(Jt);for(var qt=yt.length,ur=0;ur<qt;ur++)ur!==zt&&_e.timeout.cancel(yt[ur])},function(Jt){zt++>=2&&(Ke.reject(Jt),_e.rootScope.$emit(di.M4y))})},wt*Ie.loadDashboardTimeout));return Ke.promise.finally(function(){return _e.dashboardLoadingPromises[z]=void 0}),Ke.promise},Ie.prototype.loadDashboardInternal=function(z,q){var _e=this,Ke=this.promiseFactory.defer(),yt=this.telemetryService.startEvent(ui.er,{});return this.userActivityContextService.pushParentContext(yt.event),this.dashboardHttpService.getDashboards(this.promiseFactory,[z],q,null).then(function(wt){if(wt.length>0&&wt[0].data){var zt=wt[0],Jt=zt.data;_e.registerAndLoadResourcePackages(Jt).finally(function(){_e.updateDashboardContainer([Jt]);var ur=_e.dashboardDataService.findDashboard(z);Ke.resolve(ur),ur&&(yt.event.info.dashboardGuid=ur.objectId),yt.event.info.pendingRequestCount=zt.pendingRequestCount,yt.resolve(),_e.userActivityContextService.popParentContext(yt.event)})}else{if(_.isEmpty(wt))Ke.reject(),yt.reject();else{var qt=wt[0];Ke.reject(qt),yt.event.info.pendingRequestCount=qt.pendingRequestCount,yt.reject((0,ii.GB)(qt.error))}_e.userActivityContextService.popParentContext(yt.event)}}).catch(function(wt){angular.isArray(wt)&&(wt=wt[0]),Ke.reject(wt),yt.reject({errorCode:wt.errorCode||wt.status}),_e.userActivityContextService.popParentContext(yt.event)}),Ke.promise},Ie.prototype.refreshTileData=function(z,q){var _e=this;if(z>0){if(this.updateModelIdsForTileRefresh(q),_.isEmpty(this.modelIdsForTileRefresh))return;this.refreshTileDataPromise&&(this.timeout.cancel(this.refreshTileDataPromise),this.refreshTileDataPromise=null),this.refreshTileDataPromise=this.timeout(function(){var Ke=_e.dashboardDataService.findDashboard(z),yt=_e.telemetryService.startEvent(ui.Ys,{dashboardGuid:Ke.objectId});_e.dashboardHttpService.refreshTileData(z,_e.modelIdsForTileRefresh,yt.event).then(function(wt){_e.checkRefreshTileResponse(wt.data),_e.dashboardDataService.onDashboardTileRefreshStarted(z),yt.resolve()},function(wt){yt.reject((0,ii.GB)(wt.error))}),_e.modelIdsForTileRefresh=[]},Ie.refreshTileDataDelayMs)}},Ie.prototype.throwErrorOnTileRefrashFailed=function(z){this.rootScope.$emit(di.aqt,z.modelIds)},Ie.prototype.allowQueryRefreshForModel=function(z){var q=_.head(this.modelService.findModels(z));return r.fF.assertValue(q,"Model is not found"),!(!q||1===q.getRefreshDisabledReason())},Ie.prototype.checkRefreshTileResponse=function(z){if(z&&!_.isEmpty(z.tileErrors))for(var q=0,_e=z.tileErrors;q<_e.length;q++){var Ke=_e[q];Ke.errorResponse.error.code===G.Px$&&this.throwErrorOnTileRefrashFailed(Ke)}},Ie.prototype.registerAndLoadResourcePackages=function(z){var q=this.promiseFactory.defer();if(!z)return q.resolve(null),q.promise;var _e=z.resourcePackages;if(_e&&_e.length>0){for(var Ke=[],yt=!1,wt=0,zt=_e;wt<zt.length;wt++){var Jt=zt[wt];if(this.isDashboardThemeResourcePackage(Jt)){if(z.activeDashboardId){var ur=_.find(z.dashboards,function(Er){return Er.id===z.activeDashboardId});Ke.push(this.dashboardThemeService.loadTheme(ur&&ur.objectId,Jt))}}else if(!this.resourcePackagesService.getPackageById(Jt.id)){var br=(0,fa.JZ)(Jt);this.resourcePackagesService.registerPackages([Jt]),br&&(yt=!0,Ke.push(this.visualPluginService.ensurePlugin(Jt,!1)))}}return this.telemetryService.logEvent(ui.N3,{resourcePackageLength:_e?_e.length:0,compositeTileHasCustomVisual:yt}),this.promiseFactory.allSettled(Ke)}return q.resolve(null),q.promise},Ie.prototype.loadDashboardContainer=function(z){var q=this,_e=this.promiseFactory.defer(),Ke=[this.appMetadataService.getAppMetadata(),this.shellCapabilities.ensureCapabilitiesInitialized()];return this.promiseFactory.allSettled(Ke).then(function(yt){var wt=yt[0];if(0===wt.type){var zt=wt.value;q.initializeDashboardContainer(zt),q.registerAndLoadResourcePackages(zt).finally(function(){return _e.resolve()})}else q.dashboardHttpService.getDashboardContainer(z).then(function(Jt){Jt.data.models&&(q.modelService.mergeDatasetCollection(Jt.data.models),q.dashboardDataService.updateActiveDashboardModels()),Jt.data.featureSwitches&&q.editableFeatureSwitchService.registerFeatureSwitches(Jt.data.featureSwitches),q.userSettingsService.getUserSettings().then(function(qt){Jt.data.userSettings=qt.contract}),q.initializeDashboardContainer(Jt.data),q.registerAndLoadResourcePackages(Jt.data).finally(function(){return _e.resolve()})},function(Jt){_e.reject()})}),_e.promise},Ie.prototype.isDashboardThemeResourcePackage=function(z){return z&&1===z.type&&z.items&&1===z.items.length&&(z.items[0].type===Ia.Ut.DashboardTheme||z.items[0].type===Ia.Ut.DashboardBaseTheme)},Ie.prototype.initializeContainer=function(){return(0,l.__awaiter)(this,void 0,o.J,function(){var z;return(0,l.__generator)(this,function(_e){switch(_e.label){case 0:z=this.telemetryService.startEvent(ui.ho,{errorReason:"",userSwitchedGroups:!1,userIsBrowsingArchivedContent:this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()}),La.initializeContainerStartTime&&(z.event.time=La.initializeContainerStartTime.getTime()),_e.label=1;case 1:return _e.trys.push([1,3,,4]),[4,this.loadDashboardContainer(z.event)];case 2:return _e.sent(),this.rootScope.$emit(di.O_c),z.resolve(),[3,4];case 3:return _e.sent(),z.reject(),[3,4];case 4:return[2]}})})},Ie.prototype.markDashboardAsLoaded=function(z){if(z)return z.isLoaded=!0,this.refreshDashboardTilePermissionsUponLoad(z,this.dashboardStore,this.userInfo)},Ie.prototype.updateModelIdsForTileRefresh=function(z){z&&!_.some(this.modelIdsForTileRefresh,function(_e){return _e===z})&&this.allowQueryRefreshForModel(z)&&!_.some(this.modelIdsForTileRefresh,function(_e){return _e===z})&&this.modelIdsForTileRefresh.push(z)},Ie.prototype.initializeDashboardContainer=function(z){na.initialDashboardContainer||(na.initialDashboardContainer=z),this.modelConverter.updateBasicDashboardContainer(z)},Ie.prototype.updateDashboard=function(){var z=this.dashboardDataService.findDashboardByGUID(this.navigation.currentDashboardGUID);z&&!z.isFilled()&&(this.modelConverter.fillDashboardChildren(z,this.reportService.getReportContracts(),this.workbookService.workbooks),z.calculateLayout(),z.applyLayout())},Ie.prototype.updateDashboardContainer=function(z){if(z){for(var q=this.modelConverter,_e=this.modelMerger,Ke=this.dashboardDataService,yt=function(ur,hr){var br=z[ur],Er=br.dashboards[0],xr=wt.dashboardDataService.findDashboard(Er.id);if(xr?(wt.dashboardStore.update(xr.contract,Er),xr.contract=Er,_e.mergeDashboard(xr,Er,br.models,br.reports,br.workbooks)):(xr=q.convertDashboard(Er,br.models,br.reports,br.workbooks),wt.dashboardStore.addOrUpdate(Er)),xr.contract.tiles){var Jr=z[ur].packages||[];xr.contract.tiles.map(function(vi){q.resolveTilePackage(vi,Jr)});for(var jr=0,Gr=xr.tiles;jr<Gr.length;jr++){var qr=Gr[jr];qr.invalidateLayout();var ci=q.getTileReport(qr.contract.reportId,z[ur].reports||[]);ci&&(qr.report=qr.report||new Fr.y(ci),q.fillReport(qr.report,ci))}}wt.markDashboardAsLoaded(xr)},wt=this,zt=0,Jt=z.length;zt<Jt;zt++)yt(zt);this.updateDashboard(),Ke.updateActiveDashboardModels()}},Ie.prototype.refreshDashboardTilePermissionsUponLoad=function(z,q,_e){return(0,l.__awaiter)(this,void 0,void 0,function(){var Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er=this;return(0,l.__generator)(this,function(xr){switch(xr.label){case 0:return r.fF.assert(function(){return z.isLoaded},"dashboard needs to be loaded!"),r.fF.assertValue(z.contract,"dashboard contract missing"),Ke=z.contract&&z.contract.tiles,_.isEmpty(Ke)?[2]:(yt=z.id,(wt=this.inFlightSyncRequests[z.id])?[2,wt.promise]:(zt=20,_e.isUserMetadataRefreshed||!_.some(Ke,function(Jr){return Jr.errorCode===zt})||this.dashboardDataService.dropDashboardfromMemoryIfNotActive(yt)?[2]:(wt=this.inFlightSyncRequests[z.id]=this.promiseFactory.defer(),Jt=function(){delete Er.inFlightSyncRequests[z.id],wt.resolve(null)},[4,_e.userMetadataPromise])));case 1:for(xr.sent(),qt=[],ur=0,hr=Ke||[];ur<hr.length;ur++)(br=hr[ur]).errorCode===zt&&br.id&&qt.push(br.id);return _.isEmpty(qt)||this.dashboardDataService.dropDashboardfromMemoryIfNotActive(yt)?(Jt(),[2]):[4,this.dashboardSyncService.onTilesAddedOrUpdated(yt,qt)];case 2:return xr.sent(),Jt(),[2]}})})},Ie.refreshTileDataDelayMs=500,Ie.loadDashboardTimeout=3e4,Ie}();function Oa(){va||(window.dashboardDefined&&Vt(),angular.module("powerbi.components",[]),angular.module("powerbi.controllers",[]),angular.module("powerbi.directives",[]),angular.module("powerbi.filters",[]),angular.module("powerbi",["powerbi.common","powerbi.common.directives","powerbi.components","powerbi.controllers","powerbi.dashboard","powerbi.directives","powerbi.filters","powerbi.visualHost","powerbi.dataServices","ngSanitize","powerbi.explore"]).config(["$compileProvider",function(z){z.aHrefSanitizationWhitelist(new RegExp(z.aHrefSanitizationWhitelist().source+"|^s*(data):"))}]).factory("modelConverter",["telemetryService","downgradedUrlBuilder","errorService","visualPlugin","promiseFactory","geolocationService","dataServiceModelConverter","localizationService",function(z,q,_e,Ke,yt,wt,zt,Jt){return function(Ie,z,q,_e,Ke,yt,wt,zt){return new xi(Ie,z,q,_e,Ke,yt,wt,zt)}(z,q,_e,Ke,yt,wt,zt,Jt)}]).factory("modelMerger",["modelConverter","dataServiceModelMerger",function(z,q){var _e=new Ra(q);return z.setModelMerger(_e),_e}]).factory("dashboardService",["$rootScope","navigation","$timeout","telemetryService","modelMerger","modelConverter","dashboardDataService","dashboardHttpService","dashboardSyncService","promiseFactory","reportService","viralTenantMergeHelperService","modelService","appMetadataService","workbookService","resourcePackagesService","userSettingsService","visualPlugin","userActivityContextService","editableFeatureSwitchService","shellCapabilities","dashboardStore","globalEventBridge","resourcePackageListenerService","$injector","userInfo",function(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li,mi,Di,Pa,sa){return new Ha(z,q,_e,Ke,yt,wt,zt,Jt,qt,ur,hr,br,Er,xr,Jr,jr,Gr,qr,ai,ci,vi,li,mi,Di,Pa,sa)}]).run(["localizationService","httpService",function(z,q){var _e=window.powerbi;_e.common.localize=z,_e.common.httpService=q,or.e.initialize(z)}]).run(["dataServiceModelMerger",function(z){}]).run(["folderService",function(z){}]).run(["licenseEnforcementService",function(z){}]).run(["$templateCache",Za]),va=!0)}var va=!1;"undefined"==typeof angular&&(va=!0),Oa();var Ja=["self","**"];function Ir(){if(!Dr){ze(),Oa();var Ie=Gt.s.getQueryStringValue("isE2ERun")||Gt.s.getQueryStringValue("isE2ERun2")||!1;angular.module("powerbi.web",["powerbi.common.directives","powerbi","powerbi.controllers","powerbi.directives","powerbi.components","powerbi.filters"]).config(["$compileProvider","$ocLazyLoadProvider",function(q,_e){Ie?_e.config({debug:!0}):q.debugInfoEnabled(!1)}]).config(["pbiLazyLoadProvider",function(q){q.setHostEnv(8)}]).config(["$sceDelegateProvider",function(q){q.resourceUrlWhitelist(Ja)}]).config(["$httpProvider",function(q){q.useApplyAsync(!0)}]).run(["$window","telemetryService","$injector",function(q,_e,Ke){window.alert=function(wt){};var yt=window.onerror||_.noop;window.onerror=(0,St.Ht)(_e,yt,rr.h,rr.C6)}]).factory("$exceptionHandler",["telemetryService","customTraceLoggerService",function(q,_e){return(0,St.F6)(q,_e,rr.Wj)}]),z=[{name:"ContainerPrinter",dependencies:["featureSwitchService","localizationService","globalEventBridge"],blockType:1,consumerHostFlags:8203,factory:j},{name:"BindTextAndTooltip",blockType:1,consumerHostFlags:1165,factory:I},{name:"InViewport",blockType:1,consumerHostFlags:25995,factory:de},{name:"LegacyScopedRoot",blockType:2,consumerHostFlags:2097151,factory:T},{name:"Localize",dependencies:["localizationService"],blockType:1,consumerHostFlags:2097151,factory:le},{name:"LocalizeTooltip",dependencies:["localizationService"],blockType:1,consumerHostFlags:2097151,factory:me},{name:"NgRepeatFinishEvent",dependencies:["$timeout"],blockType:1,consumerHostFlags:2097151,factory:be},{name:"PbiLazyLoadContents",dependencies:["$compile","pbiLazyLoad","moduleLoader"],blockType:1,consumerHostFlags:2097151,factory:Se},{name:"GridLayout",blockType:1,consumerHostFlags:1192,factory:re},{name:"GridLayoutItem",dependencies:["ngZone"],blockType:1,consumerHostFlags:1192,factory:Qe},{name:"TriggeredRecompile",blockType:2,consumerHostFlags:2097151,factory:w}],$e(8,n,{directivesTarget:"powerbi.a11y"}),$e(8,z,{directivesTarget:"powerbi.common.directives",componentsTarget:"powerbi.common.components"}),$e(8,[],{componentsTarget:"powerbi.explore.components",directivesTarget:"powerbi.explore.directives"}),$e(8,[{name:"CompositeTile",blockType:1,consumerHostFlags:168,factory:ga},{name:"Dashboard",dependencies:["telemetryService","gridLayout","userActivityContextService","appService","userInfo","$timeout","folderService","dashboardLoadingProgressTracking","modelService","permissionService","usageMetricsReport","asyncFeatureSwitchService","packageService","informationProtectionService","artifactEndorsementService","globalEventBridge"],blockType:1,consumerHostFlags:168,factory:Ni},{name:"DashboardTile",blockType:1,consumerHostFlags:168,factory:ni},{name:"DashboardWrapper",blockType:1,consumerHostFlags:168,factory:Gi},{name:"OnLoad",blockType:1,consumerHostFlags:168,factory:Zi},{name:"PrintableImage",blockType:2,consumerHostFlags:168,factory:Kr},{name:"ReportTile",blockType:1,consumerHostFlags:168,factory:Aa},{name:"ReportTileInner",blockType:1,consumerHostFlags:168,factory:Li},{name:"Tile",blockType:1,consumerHostFlags:168,factory:wi},{name:"TileWrapper",blockType:1,consumerHostFlags:2097151,factory:$i},{name:"WorkbookTile",dependencies:["networkAvailability","localizationService"],blockType:1,consumerHostFlags:168,factory:pi}],{componentsTarget:"powerbi.components",directivesTarget:"powerbi.directives",filtersTarget:"powerbi.filters"}),Dr=!0}var z}var Dr=!1;"undefined"==typeof angular&&(Dr=!0),Ir()},681965:function(Je,H,t){t.d(H,{C:function(){return s}});var e=t(853811),c="PBI.Annotations.OpenAnnotationsPane",s=e.cx[c]=(0,e.b1)(c)},412154:function(Je,H,t){t.d(H,{BD:function(){return b},Gu:function(){return m},H9:function(){return s},JO:function(){return n},LN:function(){return x},OI:function(){return o},VA:function(){return p},bB:function(){return h},hN:function(){return L},kg:function(){return v},lr:function(){return D},ms:function(){return l},ty:function(){return c},yE:function(){return R}});var e=t(778186),c="contentPackDirty",s="reportDeleted",v="deleteModelFailed",b="deleteModelStarted",h="updateDashboardContainer",p=-1,n="#loading#",l="#error#",o="CannotDeleteModelPublishedToOrganizationalApp",m=".dashboard",x=!1,R="/"+(0,e.Xr)()+"/images/modelPlaceholder.png",D="1.6",L="No visual type"},948261:function(Je,H,t){t.d(H,{O:function(){return c},u:function(){return e}});var e={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function c(){var s;return(s={}).Light={name:"Light",foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},s.Dark={name:"Dark",foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},s["Color-blind friendly"]={name:"Color-blind friendly",background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},s}},419509:function(Je,H,t){t.d(H,{G7:function(){return s},YU:function(){return e},pF:function(){return c}});var e=function(f){return f[f.composite=0]="composite",f[f.iframe=1]="iframe",f[f.image=2]="image",f[f.model=3]="model",f[f.ssrs=4]="ssrs",f[f.workbook=5]="workbook",f[f.report=6]="report",f[f.realTime=8]="realTime",f}({}),c=function(f){return f[f.NamedRange=0]="NamedRange",f[f.Parameter=1]="Parameter",f[f.Table=2]="Table",f[f.PivotTable=3]="PivotTable",f[f.Chart=4]="Chart",f[f.WebExtension=5]="WebExtension",f}({}),s=function(f){return f[f.PowerBIServiceException=0]="PowerBIServiceException",f[f.DSRException=1]="DSRException",f}({})},922339:function(Je,H,t){t.d(H,{EZ:function(){return v},NQ:function(){return e},Y3:function(){return s},a7:function(){return c}});var e={name:"syncServiceDashboardEdited",type:4},c={name:"syncServiceDashboardDeepEdited",type:4},s={name:"syncServiceTilesAddedOrUpdated",type:4},v={name:"syncServiceTileDeleted",type:4}},130740:function(Je,H,t){t.d(H,{_p:function(){return s}});var s={color:"#374649",fontColor:"#FFF"}},913719:function(Je,H,t){t.d(H,{m:function(){return e}});var e=function(c){return c[c.Dashboard=0]="Dashboard",c[c.Report=1]="Report",c[c.Model=2]="Model",c[c.Workbook=3]="Workbook",c}({})},519375:function(Je,H,t){t.d(H,{A:function(){return v}});var e=t(497610),c=t(166851),s=t(572417),v=function(){function b(h){this.contract=h,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=h&&null!=h.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId="".concat(e.ty.Dashboard,"_").concat(this.contract.id)}return b.prototype.getPermissions=function(){var h;return this.getPermissionsCallback&&null!=(h=this.getPermissionsCallback())?h:this.contract&&this.contract.permissions},b.prototype.increaseHitCount=function(){this.hitCount++},Object.defineProperty(b.prototype,"tiles",{get:function(){return this.lazyTiles||(this.lazyTiles=new c.o(function(){return[]})),this.lazyTiles.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this.contract.id},set:function(p){this.contract.id=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"folderId",{get:function(){return this.contract.folderId},set:function(p){this.contract.folderId=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canEdit",{get:function(){return(0,s.cl)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"contentTileType",{get:function(){return e.ty.Dashboard},enumerable:!1,configurable:!0}),b.prototype.isFilled=function(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length},b.prototype.calculateLayout=function(){this.layoutRequired=!1;var h=this.tiles;if(!_.isEmpty(h))for(var p=0,n=h;p<n.length;p++)n[p].calculateLayout()},b.prototype.applyLayout=function(){var h=this.tiles;if(!_.isEmpty(h))for(var p=0,n=h;p<n.length;p++)n[p].applyLayout()},b.prototype.runLayoutIfRequired=function(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},b.prototype.scheduleDelayedLayout=function(h){var p=this;void 0===h&&(h=!1),this.layoutRequired||(this.layoutRequired=!0,h||setTimeout(function(){p.layoutRequired&&(p.calculateLayout(),p.applyLayout())},100))},b.prototype.findTile=function(h){return _.find(this.tiles,function(p){return p.id===h})},b.prototype.findTileByObjectIdOrOriginalObjectId=function(h,p){if(h||p)return _.find(this.tiles,function(n){return!_.isEmpty(h)&&n.contract.objectId===h||!_.isEmpty(p)&&n.contract.originalTileObjectId===p})},b.prototype.getTileIndex=function(h){return _.findIndex(this.tiles,function(p){return p.id===h})},b.prototype.getTileContractIndex=function(h){return _.findIndex(this.contract.tiles,function(p){return p.id===h})},b.prototype.getUniquePackageId=function(){var h=this.contract;return h.originalPackageId?h.originalPackageId:h.packageIds&&1===h.packageIds.length?h.packageIds[0]:void 0},b.prototype.hasModel=function(h){return _.some(this.tiles,function(p){return p.contract.modelId===h})},b.prototype.hasOwnerInfo=function(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)},b}()},371704:function(Je,H,t){t.d(H,{G:function(){return e}});var e=function(){function c(s){this.contract=s}return c.prototype.getPermissions=function(){var s;return this.getPermissionsCallback&&(s=this.getPermissionsCallback()),s||this.contract&&this.contract.permissions},c.prototype.hasUpdate=function(){return this.version&&this.latestVersion&&this.version!==this.latestVersion},c}()},166122:function(Je,H,t){t.d(H,{o:function(){return b}});var e=t(37743),c=t(787941),s=t(690016),f=t(211070),v=window,b=function(){function h(p,n){c.fF.assertAnyValue(p,"datasetInfo"),c.fF.assertAnyValue(n,"definition"),this.datasetInfo=p,this.definition=n}return Object.defineProperty(h.prototype,"databaseName",{get:function(){return this.datasetInfo.databaseName},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"primaryKey",{get:function(){return this.datasetInfo.resourceKey},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"secondaryKey",{get:function(){return this.datasetInfo.resourceKeySecondary},enumerable:!1,configurable:!0}),h.prototype.getPushUrl=function(){var p=window.tenantId,n=window.apiUri;"https://wabi-staging-us-east-redirect.analysis.windows.net"===v.clusterUri&&(n="https://powerbistagingapi.analysis.windows.net"),c.fF.assertValue(n,"apiURI"),c.fF.assertValue(p,"tenantId");var o=s.b$.urlCombine(n,"/beta/"+p+"/datasets/"+this.databaseName+"/rows"),a={};return a.key=this.primaryKey,e.s.addOrUpdateQueryStringToUrl(o,a)},h.createRealTimeDatasetDefinition=function(p,n,l){c.fF.assertValue(p,"modelName"),c.fF.assertValue(l,"schema");var r=l.schema(f.db).entities;c.fF.assert(function(){return r&&1===r.length},"Exactly 1 entity is expected");var o=_.head(r),a=[];return _.map(o.properties,function(i){a.push({name:i.displayName,dataType:h.convertToRealTimeDataType(i.type)})}),{name:p,columns:a,mode:n,tableName:o.name}},h.convertToRealTimeDataType=function(p){switch(c.fF.assertValue(p,"type"),p.primitiveType){case 3:case 4:return 1;case 7:return 2;case 1:return 0;case 5:return 3;default:c.fF.assertFail("Unsupported data type")}},h}()},148886:function(Je,H,t){t.d(H,{b:function(){return f}});var e=t(419509),c=t(243877),s=t(922820);function f(v,b){if(v&&v.type===e.YU.realTime){var h=b.tileModelConverter.convertTileConfig(v);b.tileModelConverter.convertTileLayoutConfig(v);var p=new s.V(v,b.visualPlugin,b.visualPluginOps,b.featureSwitchService,b.geolocationService,b.geocoder,b.promiseFactory,b.moduleLoader,b.telemetryService,b.themeService,b.authenticationService,b.localizationService,b.visualHostTooltipService,b.azureMapTokenCache,b.azureMapsEndpoint,b.geocoderIndexedDB);h&&h.realTimeVisual&&(p.config=h.realTimeVisual),p.displayText=v.displayText,p.subDisplayText=v.subDisplayText;var n=(0,c.gq)(v);return p.size={rowSpan:n.height,colSpan:n.width},p}}},889377:function(Je,H,t){t.d(H,{Gj:function(){return N},NP:function(){return R},O4:function(){return E},qX:function(){return x},r5:function(){return T},r_:function(){return P}});var e=t(415859),c=t(95788),s=t(160046),f=t(749559),v=t(613181),b=t(320569),h=t(318220),p=t(787941),n=t(690016),l=t(668268),r=t(796899),o=t(412154),a=t(419509),i=t(243877),m=t(935326),u=t(456535),V=100;function E(w,I,B){p.fF.assertValue(w,"pinData");var j=function(w,I){var B,j,W,U,k=function(w,I){var B={$visualContainer:w.visualContainer,$modelExtensions:w.modelExtensions,themeCollection:r.P.cloneThemeCollection(w.themeCollection),dataSourceVariables:w.dataSourceVariables};return function(w,I,B,j,W,U,k,Q,te){j&&(w.layoutType=j),B&&(w.elements=B),W&&(w.queryMetadata=W),k&&(w.heading1=k),U&&(w.heading2=U),Q&&(w.heading3=Q),I&&(w.transform=c.F.serializeTransformActions(c.F.serializeDataViewTransformActions(I,te&&te.objects)))}(B,w.dataTransforms,w.elements,w.tileLayoutType,w.queryMetadata,w.tileFilterDetails,w.tileHeading,w.tileSubDisplay,I),B}(w,I),Q={version:o.lr},te=null===(j=null===(B=w.visualContainer.config.singleVisual.vcObjects)||void 0===B?void 0:B.title)||void 0===j?void 0:j.find(function(J){return!J.selector});if(Q.hideTitle=!1===(null===(U=null===(W=null==te?void 0:te.properties)||void 0===W?void 0:W.show)||void 0===U?void 0:U.value),null!=w.realTimeDataWindow){var ee=k;ee.dataWindow=w.realTimeDataWindow,Q.realTimeVisual=ee}else Q.visualContainer=k;return Q}(w,I);w.tileDataType&&(j.tileDataType=w.tileDataType);var W=function(w,I,B,j,W){p.fF.assert(function(){return I===a.YU.composite||I===a.YU.realTime},"Invalid type"),p.fF.assertValue(w,"tileConfig");var U=b.a9,k=b.lZ;(0,m.s)(w)===h.L.card.name&&(U=b.gY,k=b.eg);var Q=B?{modelQuery:{sq:JSON.stringify(B)}}:null,te=(0,i.Pl)({width:U,height:k}),ee={id:++V,type:I,query:Q,$config:w,tileData:j?L(j.data):null,tileDataSet:j,layoutConfig:JSON.stringify(te),$layoutConfig:te},J=w.visualContainer;return J&&(ee.displayText=J.heading1,ee.subDisplayText=J.heading3),W&&(ee.modelId=W.id),ee}(j,null!=w.realTimeDataWindow?a.YU.realTime:a.YU.composite,w.query,w.dataViewSource,B);return W.publishState=2,w.action&&(W.action=JSON.stringify(w.action)),null!=w.utterance&&(W.query.modelQuery.utterance=w.utterance),w.name&&(W.name=w.name),W.reportId=w.reportId,w.modelId&&(W.modelId=w.modelId),w.packageId&&(W.packageId=w.packageId),W.resourcePackageIds=w.resourcePackageIds,W}function P(w,I,B,j,W,U,k,Q,te,ee,J,re){var ne,G={version:o.lr};(Q||te)&&(G.reportTile={pod:Q,filters:te}),ee&&(ne={modelQuery:{utterance:ee}});var Ve=J?J/(2*v.A4):2,Te=re?re/(2*v.lT):2;0===Math.round(Ve)&&(Ve=2),0===Math.round(Te)&&(Ve=2);var Qe=Math.round(b.a9*Ve),He=Math.round(b.lZ*Te);Qe=Qe>(0,f.bq)()?(0,f.bq)():Qe,He=He>(0,f.be)()?(0,f.be)():He;var Ce=(0,i.Pl)({width:Qe,height:He});return{id:++V,type:a.YU.report,displayText:W,subDisplayText:U,action:JSON.stringify(k),reportId:w,sectionId:j,modelId:I,packageId:B,publishState:2,query:ne,config:G?JSON.stringify(G):void 0,$config:G,layoutConfig:JSON.stringify(Ce),$layoutConfig:Ce}}function T(w){return 1===w.publishState}function x(w){return 20===w.errorCode}function R(w,I){var B=[],j=function(w,I){var B=[{id:1,title:I.get("AddWidgetModal_IframeOption_Title"),description:I.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:a.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:1,name:"webContent"}},$layoutConfig:(0,i.Pl)()},disabled:!w,tooltip:w?void 0:I.get("Dashboard_WebContentTiles_Disabled")},{id:2,title:I.get("Image"),description:I.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:a.YU.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:2,name:"image"}},$layoutConfig:(0,i.Pl)()}},{id:3,title:I.get("Textbox"),description:I.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:a.YU.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:0,$visualContainer:{name:n.b$.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:3,name:"textbox"}},$layoutConfig:(0,i.Pl)()}},{id:4,title:I.get("AddWidgetModal_VideoOption_Title"),description:I.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:a.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:4,name:"video"}},$layoutConfig:(0,i.Pl)()}}];return{title:I.get("Add_Widgets_Section_Title"),tiles:B}}(w,I);j&&!_.isEmpty(j.tiles)&&B.push(j);var W=function(w){var I=[];return I.push({id:6,title:w.get("Realtime_TileTitle"),description:w.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:a.YU.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:0,$visualContainer:{name:n.b$.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,i.Pl)({width:b.gY,height:b.eg})}}),{title:w.get("Add_Realtime_Section_Title"),tiles:I}}(I);return W&&!_.isEmpty(W.tiles)&&B.push(W),_.cloneDeep(B)}function L(w){if(void 0!==w)return JSON.stringify(w,function(I,B){return I&&I.charAt&&"$"===I.charAt(0)?void 0:B})}function N(w,I,B,j){if(w){var W=_.cloneDeep(w),U=W.realTimeVisual||W.visualContainer;if(U){if(p.fF.assertValue(I,"Exploration serializer is required when serializing a composite tile"),j)U.visualContainer=I.serializeVisualContainer((te=w.realTimeVisual||w.visualContainer).$visualContainer);else{var k=U.$visualContainer.config.singleVisual,Q=(0,l.NA)(k.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);Q&&(0,u.VC)(Q)&&Q.value&&(U.stylePresetName=Q.value),U.visual=k.visualType,U.columnProperties=k.columnProperties;var te,ee=(te=w.realTimeVisual||w.visualContainer).$visualContainer.config.singleVisual.objects;if(ee){var J=B.capabilities(k.visualType);J&&J.objects&&(U.objects=(0,e.xF)(ee,J.objects,void 0,!0))}var re=w.visualContainer&&te.$visualContainer.config.singleVisual.vcObjects;re&&(U.vcObjects=(0,e.xF)(re,s.XW,void 0,!0)),W.visualContainer&&(W.visual=U,delete W.visualContainer),W.version="0.1"}U.$modelExtensions&&(U.modelExtensions=I.serializeModelExtensions(U.$modelExtensions)),delete U.$visualContainer,delete U.$modelExtensions}return JSON.stringify(W)}}},504159:function(Je,H,t){t.d(H,{N:function(){return o}});var e=t(159803),c=t(787941),s=t(725182),f=t(261374),v=t(690016),b=t(419509),h=t(373542),p=t(243877),n=t(395519),l=t(889377),r=t(32309);function o(i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F){return new a(i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F)}var a=function(){function i(m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F,A){this.geolocationService=m,this.telemetryService=u,this.visualPlugins=V,this.visualPluginOps=d,this.featureSwitchService=S,this.geocoder=g,this.promiseFactory=y,this.moduleLoader=C,this.tileConfigUpgraderService=E,this.explorationSerializer=M,this.themeService=P,this.authenticationService=T,this.localizationService=x,this.visualHostTooltipService=R,this.licenseUIManagerFactory=D,this.azureMapTokenCache=L,this.azureMapsEndpoint=F,this.geocoderIndexedDB=A}return i.prototype.convertCompositeTile=function(m){if(!m||m.type!==b.YU.composite)return null;var V,u=this.convertTileConfig(m);if(this.convertTileLayoutConfig(m),!u||!u.visualContainer)return c.fF.assertFail("Invalid composite tile type"),null;(V=new r.iI(m,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=u.visualContainer,V.displayText=m.displayText,V.subDisplayText=m.subDisplayText;var d=(0,p.gq)(m);if(V.size={rowSpan:d.height,colSpan:d.width},V.isLoading=(0,l.r5)(m),m.queryResultError){V.isError=!0;var S=m.queryResultError;this.telemetryService.logEvent(h.UH,{tileType:b.YU[b.YU.composite],message:(0,f.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,s.BB)(b.G7,S.type),S.errorDetail,S.rootActivityId,m.modelId.toString(),m.id.toString())});var g=(0,n.X7)(S,this.localizationService);g?(V.errorDetails=g,V.errorText=g.message):V.errorText=this.localizationService.get("Tile_ErrorText")}return V},i.prototype.convertTileData=function(m){if(m.tileDataSet)return m.tileDataSet;var u=this.convertTileConfig(m);try{m.tileDataSet=this.parseTileData(m,u.tileDataType)}catch(V){throw this.telemetryService.logEvent(h.UH,{tileType:b.YU[b.YU.composite],message:(0,f.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",V.message,m.modelId.toString(),m.id.toString())}),v.b$.ensureError(V)}return m.tileDataSet},i.prototype.convertTileConfig=function(m){c.fF.assertValue(m,"contract");var u=m.$config;if(!u){var V=(0,v.BL)("Parse tile config");try{var d=(u=m.$config=(0,n.M8)(m.config)).visualContainer||u.realTimeVisual;this.deserializeVisualContainer(d),this.deserializeModelExtensions(d||u.visual),this.tileConfigUpgraderService.upgrade(m.id,u,m.query)}catch(g){c.fF.assertFail("Unable to parse tile config")}finally{V()}}return u},i.prototype.convertTileLayoutConfig=function(m){if(c.fF.assertValue(m,"contract"),!m.$layoutConfig){var u=(0,n.mf)(m);m.$layoutConfig=u,m.layoutConfig=JSON.stringify(u)}return m.$layoutConfig},i.prototype.deserializeVisualContainer=function(m){m&&m.visualContainer&&!m.$visualContainer&&(m.$visualContainer=this.explorationSerializer.deserializeCanvasItem(m.visualContainer))},i.prototype.deserializeModelExtensions=function(m){m&&m.modelExtensions&&!m.$modelExtensions&&(m.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(m.modelExtensions))},i.prototype.parseTileData=function(m,u){var d,V=(0,v.BL)("Parse tile data");try{if(m.tileDataBinaryBase64Encoded){var S=(0,e.Wh)(m.tileDataBinaryBase64Encoded);d=JSON.parse(S)}else m.tileData&&(d=JSON.parse(m.tileData));return{type:u,data:d}}finally{V()}},i}()},32309:function(Je,H,t){t.d(H,{iI:function(){return y}});var e=t(226514),c=t(95788),s=t(85091),f=t(809395),v=t(251177),b=t(776791),h=t(49404),p=t(749559),n=t(320569),l=t(787941),r=t(144900),o=t(145315),a=t(698129),i=t(668268),m=t(373542),u=t(395519),V=t(376705),d=t(456535),y=function(C){function E(M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U){var k=C.call(this,M,P,T)||this;k.featureSwitchService=x,k.geolocationService=R,k.geocoder=D,k.promiseFactory=L,k.moduleLoader=F,k.telemetryService=A,k.themeService=O,k.authenticationService=N,k.localizationService=w,k.visualHostTooltipService=I,k.azureMapTokenCache=B,k.azureMapsEndpoint=j,k.geocoderIndexedDB=W,k.requiresResize=!1,l.fF.assertAnyValue(R,"geolocationService"),U&&(k.licenseUIManager=U.create());var Q={onNotifyLicense:function(ee){return k.onNotifyLicense(ee)},onClearLicenseNotification:function(){return k.onClearLicenseNotification()},onNotifyFeatureBlocked:function(ee){return k.onNotifyFeatureBlocked(ee)}};return k._visual={hostServices:k.createHostServices(U?Q:void 0),themeCollection:{}},k}return(0,e.__extends)(E,C),Object.defineProperty(E.prototype,"type",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"themeCollection",{get:function(){return this._visual&&this._visual.themeCollection},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"heading1",{get:function(){var P=this.config.heading1||"";if(!this.visual)return P;var T,x,R=this.visual.dataTransforms;R&&(T=R.selects);var D=this.visual.data;if(D&&(x=D.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var L=(0,f.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,x,T);if(L.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,a.NA)(L.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var F=(0,a.NA)(L.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==F?this.cachedHeading=F:_.isEmpty(P)&&(P=" ")}}return this.cachedHeading||P},enumerable:!1,configurable:!0}),E.prototype.setThemeName=function(M){this.ensureVisual();var P=this._visual.themeCollection;P.customTheme=P.customTheme||(0,s.Mi)(M,1),P.customTheme.name=M},E.prototype.isDataStale=function(M){if(!M)return!1;var T=(0,h.ee)(this.contract.tileDataUpdatedTime),x=T&&T.getTime();return!!x&&M-x>36e5},E.prototype.setData=function(M,P,T){try{this.ensureVisual(),this._visual.data=M,this._visual.dataTransforms=P,this._visual.type=T,this.clearCache()}catch(x){this.telemetryService.logEvent(m.gc,{visualType:T,source:x.fileName,lineNumber:x.lineNumber,columnNumber:x.columnNumber,stack:x.stack,message:x.message})}},E.prototype.createHostServices=function(M){var P=this;return(0,v.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:function(){return P.azureMapTokenCache.getAzureMapToken()},azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:function(){return!0},onNotifyLicense:M&&M.onNotifyLicense,onClearLicenseNotification:M&&M.onClearLicenseNotification,onNotifyFeatureBlocked:M&&M.onNotifyFeatureBlocked})},E.prototype.ensureVisual=function(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())},Object.defineProperty(E.prototype,"config",{get:function(){return this._config},set:function(P){if(l.fF.assertValue(P,"The tile config must exist while setting it in a composite tile"),this._config=P,this._visual){var T=P.$visualContainer.config.singleVisual,x=T.visualType;this._visual.type=x;var R=(0,i.NA)(T.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=R&&(0,d.VC)(R)&&R.value,this._visual.themeCollection=_.cloneDeep(P.themeCollection);var D,L,F=this.visualPluginService.capabilities(x);F&&(D=F.objects,L=T.objects);var A=(0,b.K)(P.transform);this._visual.dataTransforms=A?c.F.deserializeDataViewTransformActions(A,F):c.F.createTransformActions(P.queryMetadata,P.elements,D,L)}},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tileData",{get:function(){return this._tileData},set:function(P){this._tileData=P,this.readDataView(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"tileDataIsVolatile",{get:function(){return this.contract.tileDataIsVolatile},enumerable:!1,configurable:!0}),E.prototype.refreshData=function(){this.readDataView(!1)},E.prototype.setDependencies=function(M){var P=!this.dataProxy&&this._tileData&&!this.isLoading;C.prototype.setDependencies.call(this,M),P&&this.refreshData()},E.prototype.readDataView=function(M){return(0,e.__awaiter)(this,void 0,r.J,function(){var P,T,x,R,D,L,F,O;return(0,e.__generator)(this,function(w){switch(w.label){case 0:if(P=this._visual.type,this.visual&&!this.requiresData())return this._visual.data={dataView:null},[2];if(l.fF.assertValue(this._tileData,"tileData should be defined."),!(T=this.dataProxy))return[2];if(this.contract.queryResultError&&((x=(0,u.X7)(this.contract.queryResultError,this.localizationService))?(this.isError=!0,this.errorDetails=x,this.errorText=x.message):this.errorText=this.localizationService.get("Tile_ErrorText")),!this._tileData||!this._tileData.data)return this.isLoading=!this.isError,[2];D={type:(R=this._tileData).type,query:{dataSources:null,command:R.data},allowResultFromClientCache:M,perfId:P,kinds:this.pluginOps.dataViewKinds(P)},L=null,this.dataLoadEventDelegate&&(L=this.dataLoadEventDelegate(),this.dataLoadEventDelegate=null),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,T.execute(D)];case 2:return F=w.sent(),O=F.dataReaderResult.error,this._visual.data={dataView:F&&F.dataReaderResult?F.dataReaderResult.dataView:null,dataViewSource:F&&F.dataViewSource?F.dataViewSource:null},this.isError=this.isError||null!=O,L&&(this.isError?L.reject():L.resolve()),[3,4];case 3:return w.sent(),this.isError=!0,L&&L.reject(),[3,4];case 4:return[2]}})})},E.prototype.applyLayout=function(M,P){if(this.requiresResize){if(!P){var T=this.visual;T&&T.visual&&T.visual.update({viewport:T.viewport,dataViews:T.dataViews,suppressAnimations:!0,type:o.EP.Resize,resizeMode:M===p.XM.resized?2:M===p.XM.resizing?1:void 0})}this.requiresResize=!1}},E.prototype.calculateLayout=function(M,P,T){if(void 0===T&&(T=1),M&&((!this.viewport||this.viewport.height!==M.height||this.viewport.width!==M.width)&&(this.requiresResize=!0),this.viewport=M),null!=P&&this.useSmallPlotArea!==P&&(this.useSmallPlotArea=P,this.requiresResize=!0),this.viewport){var x=this.viewport.height,R=this.viewport.width;1===(this._config&&this._config.layoutType)||(x-=this.useSmallPlotArea?V.n:V.Un,R-=V.ho),this._visual&&(this._visual.viewport={height:x,width:R,scale:T})}},E.prototype.canResizeTo=function(M){var P=this._visual&&this._visual.visual;return!!P&&(!P.canResizeTo||P.canResizeTo((0,n.p2)(M)))},E.prototype.getErrorLocId=function(M,P){return""},E.prototype.requiresData=function(){var M=this.visual,P=this.pluginOps;if(M){if(M&&M.type){if(!P)return!0;if(!P.isQueryVisual(M.type))return!1}return!0}},E.prototype.updateVisualInteractivityOptions=function(M){var P=this.visualPluginService.getInteractivityOptions(this._visual.type);void 0!==P.isInteractiveLegend&&(P.isInteractiveLegend=P.isInteractiveLegend&&M),this._visual.interactivityOptions=P},E.prototype.clearCache=function(){this.cachedHeading=void 0},E.prototype.onNotifyLicense=function(M){0!==M&&this.licenseUIManager.displayNotification(M)},E.prototype.onNotifyFeatureBlocked=function(M){this.licenseUIManager.displayFeatureBlockedBanner(M)},E.prototype.onClearLicenseNotification=function(){this.licenseUIManager.clearNotification()},E}(function(){function C(E,M,P){this.useSmallPlotArea=!1,l.fF.assertValue(E,"contract"),l.fF.assertValue(M,"visualPlugins"),l.fF.assertValue(P,"visualPluginOps"),this.contract=E,this.visualPluginService=M,this.pluginOps=P}return Object.defineProperty(C.prototype,"type",{get:function(){return l.fF.assertFail("this is an abstract property!"),null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tileData",{get:function(){return l.fF.assertFail("this is an abstract property!"),null},set:function(M){l.fF.assertFail("this is an abstract property!")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tileDataIsVolatile",{get:function(){return l.fF.assertFail("this is an abstract function!"),!1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isError",{get:function(){return this._isError},set:function(M){this._isError=M,this.onErrorDelegate&&this.onErrorDelegate()},enumerable:!1,configurable:!0}),C.prototype.isDataStale=function(E){return l.fF.assertFail("this is an abstract function!"),!1},Object.defineProperty(C.prototype,"heading1",{get:function(){return this.config.heading1||""},enumerable:!1,configurable:!0}),C.prototype.setDependencies=function(E){this.dataProxy=E},C.prototype.setDataLoadEventDelegate=function(E){this.dataLoadEventDelegate=E},C.prototype.copyDependencies=function(E){E.dataProxy&&this.setDependencies(E.dataProxy)},C}())},480429:function(Je,H,t){t.d(H,{h:function(){return c}});var e=t(320569),c=function(){function s(f){this.contract=f}return s.prototype.canResizeTo=function(f){return f.rowSpan===e.lZ||f.colSpan===e.gY},s.prototype.getErrorLocId=function(f,v){return""},s}()},809942:function(Je,H,t){t.d(H,{n:function(){return s}});var e=t(320569),c=t(690016),s=function(){function f(v){this.contract=v}return Object.defineProperty(f.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(b){this._imageUrl=b,b&&!this.isStatic&&0!==b.indexOf("data:")&&(this._imageUrl=c.b$.getAbsoluteUri(b))},enumerable:!1,configurable:!0}),f.prototype.canResizeTo=function(v){return v.rowSpan===e.lZ||v.colSpan===e.gY},f.prototype.getErrorLocId=function(v,b){return""},f}()},597314:function(Je,H,t){t.d(H,{U:function(){return c}});var e=t(320569),c=function(){function s(f){this.contract=f}return s.prototype.canResizeTo=function(f){return f.rowSpan===e.eg},s.prototype.getErrorLocId=function(f,v){return""},s}()},922820:function(Je,H,t){t.d(H,{V:function(){return r}});var e=t(226514),c=t(982958),s=t(787941),f=t(144900),v=t(725182),b=t(592042),h=t(211070),p=t(243877),n=t(32309),l=t(602756),r=function(o){function a(i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D){var L=o.call(this,i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D)||this;return L._visual=null,L._localizationService=P,L}return(0,e.__extends)(a,o),a.prototype.setModelId=function(i){return(0,e.__awaiter)(this,void 0,f.J,function(){return(0,e.__generator)(this,function(m){switch(m.label){case 0:return s.fF.assertAnyValue(i,"id"),this.contract.modelId=i,[4,this.initialize()];case 1:return m.sent(),[2]}})})},a.prototype.getRealTimeModelId=function(){return(0,e.__awaiter)(this,void 0,f.J,function(){var i,m=this;return(0,e.__generator)(this,function(u){return this.datasetStore?[2,this.datasetStore.findAll((i=this.contract).modelId,!0).then(function(V){if(!_.isEmpty(V)){var d=_.find(V,function(g){return null==i.packageId||g.packageId===i.packageId});return d||(d=_.find(V,function(g){return(0,v.yE)(g.permissions,7)})),d||(d=_.first(V)),{id:d.id,originalModelId:d.originalModelId,tableName:m.getSchemaTableName(),schema:m.getRealTimeConceptualSchema(),packageId:i.packageId}}})]:[2,void 0]})})},a.prototype.setRealTimeModelDependencies=function(i,m,u,V,d){o.prototype.setDependencies.call(this,i),s.fF.assertValue(m,"visualQueryGenerator"),s.fF.assertValue(u,"conceptualSchemaProxy"),s.fF.assertValue(V,"realTimeDataService"),this.visualQueryGenerator=m,this.conceptualSchemaProxy=u,this.realTimeDataService=V,this.datasetStore=d},a.prototype.copyRealTimeModelDependencies=function(i){return(0,e.__awaiter)(this,void 0,f.J,function(){var m;return(0,e.__generator)(this,function(u){switch(u.label){case 0:return s.fF.assertValue(i,"other"),i.schema&&(this.schema=i.schema),i.dataProxy&&i.realTimeDataService&&i.visualQueryGenerator&&i.conceptualSchemaProxy?(this.setRealTimeModelDependencies(i.dataProxy,i.visualQueryGenerator,i.conceptualSchemaProxy,i.realTimeDataService,i.datasetStore),i.onErrorDelegate&&!this.onErrorDelegate&&(this.onErrorDelegate=i.onErrorDelegate),[4,i.getRealTimeModelId()]):[2];case 1:return m=u.sent(),this.realTimeDataService.replaceListener(m,i,this),[2]}})})},a.prototype.onDataChanged=function(){return(0,e.__awaiter)(this,void 0,f.J,function(){var i,m,u,V,d,S=this;return(0,e.__generator)(this,function(g){switch(g.label){case 0:return s.fF.assertValue(this.visualQueryGenerator,"visualQueryGenerator"),s.fF.assertValue(this.dataProxy,"dataProxy"),this.singleVisualConfig?(i=h.PB,(m=this.config)&&m.dataWindow&&(i=m.dataWindow),[4,this.getDatasources()]):[2];case 1:return u=g.sent(),!(V=this.visualQueryGenerator.execute({dataSources:u,schema:this.schema,config:this.singleVisualConfig,additionalFilters:null,dataWindow:i}))||V.error?(d=void 0,V&&V.error&&(d=V.error.getDetails(this._localizationService)),this.onError(d)):this.dataProxy.execute(V.options).then(function(y){S.isError=!1;var C={dataView:y&&y.dataReaderResult?y.dataReaderResult.dataView:null},E=S.lastCategoryValue;try{var M=(0,l.kQ)(C.dataView);if(null!=E&&null!=M&&E.valueOf()>=M.valueOf())return;S.lastCategoryValue=M}catch(P){}S.setData(C,V.transforms,S.config.$visualContainer.config.singleVisual.visualType),S.isLoading=!1},function(y){if(!(y instanceof c.C6)){var C=y&&y.getDetails(S._localizationService);S.onError(C)}}),[2]}})})},a.prototype.onError=function(i){i||(i=(new c.Kd).getDetails(this._localizationService)),this.setErrorDetails(i)},a.prototype.getDatasources=function(){return(0,e.__awaiter)(this,void 0,f.J,function(){var i;return(0,e.__generator)(this,function(m){switch(m.label){case 0:return[4,this.getRealTimeModelId()];case 1:return(i=m.sent())?[2,(0,l.bk)(i.id,i.originalModelId)]:[2,void 0]}})})},Object.defineProperty(a.prototype,"singleVisualConfig",{get:function(){return this.config.$visualContainer.config.singleVisual},set:function(m){s.fF.assertValue(m,"config"),this.config.$visualContainer.config.singleVisual=m,this.onDataChanged()},enumerable:!1,configurable:!0}),a.prototype.isDataStale=function(){return!1},a.prototype.initialize=function(){return(0,e.__awaiter)(this,void 0,f.J,function(){var i,m=this;return(0,e.__generator)(this,function(u){return i=(0,p.gq)(this.contract),this.size={rowSpan:i.height,colSpan:i.width},[2,this.getDatasources().then(function(V){if(V)return m.conceptualSchemaProxy.get(V).then(function(d){return m.fixUpSchema(d),m.schema=d,m.getRealTimeModelId().then(function(S){m.realTimeDataService.subscribe(S,m)})})})]})})},a.prototype.unsubscribe=function(){return(0,e.__awaiter)(this,void 0,f.J,function(){var i=this;return(0,e.__generator)(this,function(m){return[2,this.getRealTimeModelId().then(function(u){if(u&&u.tableName)return i.realTimeDataService.unsubscribe(u,i)})]})})},a.prototype.fixUpSchema=function(i){var m=i.schema(h.db).entities;s.fF.assert(function(){return m&&1===m.length},"Exactly 1 entity is expected.");for(var V=0,d=m[0].properties;V<d.length;V++){var S=d[V];(S.type===b.Ge.fromDescriptor({numeric:!0})||S.type===b.Ge.fromDescriptor({integer:!0}))&&(S.kind=1)}},a.prototype.getSchemaTableName=function(){var i=this.getRealTimeConceptualSchema();if(i){var m=i.entities;return s.fF.assert(function(){return 1===m.length},"Expecting only one entity"),_.head(m).name}},a.prototype.getRealTimeConceptualSchema=function(){if(this.schema)return this.schema.schema(h.db)},a.prototype.setErrorDetails=function(i){s.fF.assertValue(i,"errorDetails should be set"),this.errorDetails=i,this.errorText=i.message,this.isError=!0},a}(n.iI)},257960:function(Je,H,t){t.d(H,{I:function(){return c}});var e=t(320569),c=function(){function s(f){this.contract=f,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}return s.prototype.canResizeTo=function(f){return f.rowSpan===e.lZ||f.colSpan===e.gY},s.prototype.getErrorLocId=function(f,v){return""},s}()},672808:function(Je,H,t){t.d(H,{L:function(){return s}});var e=t(320569),c=t(690016),s=function(){function f(v){this.contract=v}return Object.defineProperty(f.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(b){b&&(this._imageUrl=0!==b.indexOf("data:")?c.b$.getAbsoluteUri(b):b)},enumerable:!1,configurable:!0}),f.prototype.canResizeTo=function(v){return v.rowSpan===e.av||v.colSpan===e.CJ},f.prototype.getErrorLocId=function(v,b){return""},f}()},376705:function(Je,H,t){t.d(H,{$V:function(){return P},CK:function(){return x},FN:function(){return D},Un:function(){return L},X8:function(){return l},_:function(){return i},aN:function(){return T},ho:function(){return F},jH:function(){return R},je:function(){return a},n:function(){return A},n9:function(){return O},ng:function(){return u},xg:function(){return o}});var e=t(338780),c=t(23082),s=t(49404),f=t(883863),v=t(787941),b=t(565146),h=t(419509),p=t(243877),n=t(395519),l=function(U){return U[U.Dashboard=0]="Dashboard",U[U.Report=1]="Report",U[U.RdlReport=2]="RdlReport",U}({});function o(U){return!_.isEmpty(U)&&0===U.toLowerCase().indexOf(V)}function a(U){return!_.isEmpty(U)&&0===U.toLowerCase().indexOf(d)}function i(U){return!_.isEmpty(U)&&0===U.toLowerCase().indexOf(S)}function u(U){return o(U)||a(U)||i(U)||function(U){return!_.isEmpty(U)&&0===U.toLowerCase().indexOf(g)}(U)}var V="/dashboards/",d="/reports/",S="/rdlreports/",g="/workbooks/",P=65,T=55,x=44,R=40,D=64,L=20,F=20,A=8,O=function(){function U(k,Q,te){this.forceOpenCustomLinksInNewTab=te,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=k,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=Q,this.themeName="Light",this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}return Object.defineProperty(U.prototype,"gridLayouts",{get:function(){return this.contract.$layoutConfig.layouts},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"id",{get:function(){return this.contract.id},set:function(Q){this.contract.id=Q},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"details",{get:function(){switch(this.type){case h.YU.composite:return this.composite;case h.YU.iframe:return this.iframe;case h.YU.image:return this.image;case h.YU.model:return this.model;case h.YU.ssrs:return this.ssrs;case h.YU.workbook:return this.workbook;case h.YU.report:return this.reportTile;case h.YU.realTime:return this.realTime;default:return v.fF.assertFail("Invalid tile type"),null}},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"shouldBeIncludedInTelemetryMeasurement",{get:function(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isTemporary",{get:function(){return this.id<=0},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isTileLoading",{get:function(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading},enumerable:!1,configurable:!0}),U.prototype.calculateLayout=function(k,Q){var te=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(k)&&!_.isNil(Q)&&(k=this.currentViewPort),this.compositeTile&&k){var ee=k,J=2===this.tileHeaderSize;if(_.isNil(Q)||_.isNil(this.currentViewPort))J?this.hasTitle()?ee.height-=te:1!==(this.composite&&this.composite.config&&this.composite.config.layoutType)&&(ee.height-=10):this.hasTitle()&&(this.hasSubtitle()?ee.height-=te:ee.height-=te-10),this.currentViewPort=ee;else if(Q>0){var re={width:this.currentViewPort.width,height:this.currentViewPort.height};re.height-=Q,re.height<=0?v.fF.assert(function(){return re.height>0},"ViewPort height is zero or negative"):ee=re}this.compositeTile.calculateLayout(ee,J)}},U.prototype.getTileHeight=function(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0},U.prototype.applyLayout=function(k,Q){this.compositeTile&&this.compositeTile.applyLayout(k,Q)},U.prototype.invalidateLayout=function(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()},U.prototype.tryPopulateLayoutPositionValues=function(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var k=this.gridLayoutContext.getActiveLayout(),te=(0,f.Br)(this.contract.$layoutConfig.layouts).withId(k);return te&&te.position&&(this.layoutPosition=_.cloneDeep(te.position)),!0},U.prototype.applyChanges=function(){if(this.contract&&this.gridLayoutContext){var k=_.cloneDeep(this.layoutPosition);(0,n.bQ)(this.contract.$layoutConfig,k,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}},U.isValidUrl=function(k,Q){return!_.isEmpty(k)&&((0,b.HH)(k,!1)||Q&&u(k))},U.prototype.getDisplayText=function(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""},U.prototype.getSubDisplayText=function(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var k=this.compositeTile.config;if(!this.displayText&&k&&!_.isEmpty(k.heading3))return k.heading3}return""},U.prototype.shouldPlaceBulletSeperator=function(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled},Object.defineProperty(U.prototype,"hrefTarget",{get:function(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"lastRefreshTimeInLocaleString",{get:function(){var Q=(0,s.ee)(this.contract.tileDataUpdatedTime),te="";return Q?te=Q.toLocaleString():this.datasetModel&&(te=this.datasetModel.lastRefreshTimeInLocaleString),te||""},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"formattedTime",{get:function(){var Q;if(this.workbook){var te=this.contract.tilePackage;Q=te?(0,s.ee)(te.lastRefreshTime):null}else Q=(0,s.ee)(this.contract.tileDataUpdatedTime);return Q?this.cachedRefreshTime&&Q.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=Q,this.cachedRefreshString=this.getFormattedDateString(Q)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0},enumerable:!1,configurable:!0}),U.prototype.getFormattedDateString=function(k){var Q=e.IH,te=(0,e.ih)();return te&&Q(k,N,I,!1)?(0,c.WQ)(k,this.localizationService):te&&Q(k,w,B,!0)?(0,e.nK)(this.localizationService.currentLanguageLocale,k):te&&Q(k,w,j,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,e.nK)(this.localizationService.currentLanguageLocale,k)]):te&&Q(k,w,W,!0)?(0,e.u5)(this.localizationService.currentLanguageLocale,k):(0,e.nY)(this.localizationService.currentLanguageLocale,k)},U.prototype.setDatasetModelAndPackageInfo=function(k,Q){k&&(this.datasetModel=k,Q&&(this.datasetModel.packagePublishStatus=Q.publishOrRefreshStatus))},U.prototype.hasTitle=function(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))},U.prototype.hasSubtitle=function(){var k=this.config;return(!k||!k.hideTitle)&&(!_.isEmpty(this.subDisplayText)||k&&k.lastRefreshTimeEnabled)},U.prototype.lastRefreshTimeInLocaleWithLabel=function(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])},U.prototype.setTileHeaderSize=function(k){this.tileHeaderSize!==k&&(this.tileHeaderSize=k,this.invalidateLayout())},Object.defineProperty(U.prototype,"compositeTile",{get:function(){return this.composite||this.realTime},enumerable:!1,configurable:!0}),U.prototype.hasLayoutDefinition=function(k){return!!(0,f.Br)(this.contract.$layoutConfig.layouts).withId(k)},U.prototype.hasLayoutPosition=function(k){return!!(0,p.zS)(this.contract,k)},U.prototype.removeLayoutPosition=function(k){return void 0===k&&(k=1),v.fF.assert(function(){return 0!==k},"Cannot remove position for Master position"),this.hasLayoutDefinition(k)&&(this.addLayout({id:k,position:null},k),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},U.prototype.resetTileLayoutSizeAndPosition=function(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null},U.prototype.removeLayoutDefinition=function(k,Q){return void 0===k&&(k=1),void 0===Q&&(Q=!0),v.fF.assert(function(){return 0!==k},"Cannot remove layout for Master position"),this.hasLayoutDefinition(k)&&(_.remove(this.contract.$layoutConfig.layouts,function(te){return te.id===k}),Q&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},U.prototype.applyLayoutSize=function(k,Q,te){v.fF.assertValue(k,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:k.colSpan,rowSpan:k.rowSpan}),this.applyLayout(Q,te)},U.prototype.getCurrentTileLayoutDescriptor=function(k,Q,te){return(0,n._z)(this.contract,k||this.contract.$layoutConfig,Q,te)},U.prototype.buildLayoutDescriptor=function(){var k=_.cloneDeep(this.layoutPosition),Q=_.cloneDeep(this.contract.$layoutConfig);(0,n.bQ)(Q,k,this.gridLayoutContext.getActiveLayout());var te=this.composite&&this.composite.contract&&this.composite.contract.query,ee=te&&(0,n.HL)(te,k),J=null;return te&&ee&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(ee),J=JSON.stringify(this.composite.contract.query)),(0,n._z)(this.contract,Q,te,J)},U.prototype.addLayout=function(k,Q){return v.fF.assert(function(){return 0!==Q},"Cannot remove position for Master position"),v.fF.assertValue(k,"Cannot update with undefined"),this.removeLayoutDefinition(Q),this.contract.$layoutConfig.layouts.push(k),this.getCurrentTileLayoutDescriptor()},U.prototype.getHeaderSizeByType=function(k){switch(k){case 0:return P;case 2:return 42;default:return 50}},U}(),N="minute",w="day",I=15,B=0,j=1,W=6},749458:function(Je,H,t){t.d(H,{V:function(){return c}});var e=t(320569),c=function(){function s(f,v){this.contract=f,this.tileModel=v}return s.prototype.canResizeTo=function(f){return f.rowSpan===e.lZ||f.colSpan===e.gY},s.prototype.getErrorLocId=function(f,v){var b,h=[];switch(f){case 10:b="WorkbookTile_GeneralError";break;case 11:b="WorkbookTile_FileNotFound";break;case 12:b="WorkbookTile_ObjectNotFound",h=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case 13:b="WorkbookTile_Unauthorized";break;default:return""}return v.format(b,h)},s.prototype.hasImages=function(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0},Object.defineProperty(s.prototype,"images",{get:function(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasWorkbookTileConfig",{get:function(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile},enumerable:!1,configurable:!0}),s}()},922321:function(Je,H,t){t.d(H,{I:function(){return b}});var e=t(226514),c=t(422255),s=t(497610),f=t(10660),v=t(725182),b=function(h){function p(n){var l=h.call(this,void 0===n?0:n.id,1,void 0===n?0:n.packageId)||this;return l.contract=n,l}return(0,e.__extends)(p,h),p.prototype.getPermissions=function(){var n;return this.getPermissionsCallback&&(n=this.getPermissionsCallback()),n||this.contract&&this.contract.permissions},Object.defineProperty(p.prototype,"contentTileType",{get:function(){return s.ty.Workbook},enumerable:!1,configurable:!0}),p.prototype.isOwner=function(){return(0,v.yE)(this.getPermissions(),7)},p.prototype.isPersonalized=function(){var n=this.getPermissions();return(0,v.yE)(n,11)&&!(0,v.yE)(n,7)},p.prototype.isEditable=function(){var n=this.editUrl;return this.isOwner()&&null!=n&&""!==n},Object.defineProperty(p.prototype,"displayNameWithExtension",{get:function(){var l=(0,f.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(l)},enumerable:!1,configurable:!0}),p}(c.H)},373542:function(Je,H,t){t.d(H,{UH:function(){return v},gc:function(){return s}});var e=t(853811),c="PBI.TileDataUpdateException",s=e.cx[c]=(0,e.b1)(c),f="PBI.Dashboard.TileError",v=e.cx[f]=(0,e.b1)(f)},386341:function(Je,H,t){t.d(H,{$3:function(){return b},$O:function(){return h},J0:function(){return r},RC:function(){return n},Xk:function(){return o},aI:function(){return i},ir:function(){return l},jg:function(){return a},tp:function(){return v}});var e=t(177497),c=t(787941),s=t(690016),f=t(466252);function v(m){return m&&5===m.category}function b(m,u){if(m&&m.contract)return function(m,u){if(m){var V=u.getAppInstance(m);return V&&V.providerContract.providerKey}}(m.getUniquePackageId&&m.getUniquePackageId(),u)}function h(m){return m.originalPackageId?m.originalPackageId:m.packageIds&&1===m.packageIds.length?m.packageIds[0]:void 0}function n(m,u){var V=(0,f.N)(m);return V&&V.toLocaleDateString(u.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function l(m){return c.fF.assertValue(m,"AppUtils hasAppLogoImage appModel"),!(m.icon||_.isEmpty(m.iconUrl)&&_.isEmpty(m.localAppLogoImageData))}function r(m,u){if(c.fF.assertValue(m,"AppUtils getAppLogoImageUrl appModel"),c.fF.assertValue(u,"AppUtils getAppLogoImageUrl backendUri"),l(m)){if(m.localAppLogoImageData)return m.localAppLogoImageData;if(m.iconUrl)return s.b$.urlCombine(u,m.iconUrl)}}function o(m,u){if(l(m))return"url(".concat(r(m,u),")")}function a(m){if(!m)return"inherit";var u=(0,e.WV)(m);return.299*u.R+.587*u.G+.144*u.B>125?"#000":"#FFF"}function i(m){if(m)return(0,e.jd)((0,e.WV)(m),.8,.2)}},243877:function(Je,H,t){t.d(H,{As:function(){return n},ER:function(){return s},Pl:function(){return b},V3:function(){return v},gq:function(){return h},jD:function(){return f},zS:function(){return p}});var e=t(883863),c=t(787941);function s(a,i){if(a)for(var m=a.length,u=0;u<m;u++)if(a[u].id===i)return a[u].contentProviderId;return null}function f(a){var i=v(a);if(i&&i.Commands&&i.Commands.length>0){var m=i.Commands[0].SemanticQueryDataShapeCommand;return{defn:m.Query,shape:m.Binding}}return null}function v(a){if(a&&a.modelQuery&&a.modelQuery.sq){var i;try{i=JSON.parse(a.modelQuery.sq)}catch(u){}if(!i)return;var m=null;return function(a){return a.dataQuery&&a.dataQuery.Commands&&a.dataQuery.Commands.length>0}(i)?m=i.dataQuery:function(a){return a.Commands&&a.Commands.length>0}(i)?m=i:function(a){return a.defn}(i)&&(m={Commands:[{SemanticQueryDataShapeCommand:{Query:i.defn,Binding:i.shape}}]}),m}}function b(a){return void 0===a&&(a={}),{layouts:[{id:0,position:a}]}}function h(a){var i=p(a,0);return c.fF.assertValue(i,"masterLayout should always exist on tile"),i}function p(a,i){c.fF.assertValue(a,"tile"),c.fF.assertValue(a.$layoutConfig,"tile.$layoutConfig"),c.fF.assertValue(a.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var u=(0,e.Br)(a.$layoutConfig.layouts).withId(i);return u?u.position:null}function n(a){switch(a){case 0:return"pbix";case 1:return"rdl";default:return"unknown"}}},572417:function(Je,H,t){t.d(H,{$b:function(){return h},cl:function(){return f},nf:function(){return b},xT:function(){return p}});var e=t(49404),c=t(787941);function f(m){return 2==(2&m.permissions)}function b(m){return!!m&&(0,e.KZ)(m)}function h(m,u){var V=[];if(!m)return V;var d=[],S=m.modelIds;if(_.isEmpty(S)||(d=S.slice(0)),_.map(m.tiles,function(M){null!=M.modelId&&d.push(M.modelId)}),_.isEmpty(d))return V;d=_.uniq(d);for(var y=0,C=d.length;y<C;y++){var E=_.filter(u,function(M){return M.id===d[y]});_.isEmpty(E)||V.push(E[0])}return V}function p(m,u){c.fF.assertValue(m,"items");for(var V=_.filter(m,function(G){var ne,X;return(null===(ne=G.pos)||void 0===ne?void 0:ne.x)>0&&(null===(X=G.pos)||void 0===X?void 0:X.y)>0}),d=[],g=_.sortBy(V,function(G){var ne=G.pos;return 1e3*ne.y+ne.x}),y=0,C=g;y<C.length;y++)n(d,(M=C[y].pos).y,M.height);for(var P=[],x=_.sortBy(V,function(G){var ne=G.pos;return 1e3*ne.x+ne.y}),R=0,D=x;R<D.length;R++){var M;n(P,(M=D[R].pos).x,M.width)}for(var L=function(m,u){c.fF.assertValue(m,"rowContexts"),c.fF.assertValue(u,"columnContexts");var d=_.isEmpty(m)?-1/0:_.maxBy(m,function(C){return C.size}).size,S=_.isEmpty(u)?-1/0:_.maxBy(u,function(C){return C.size}).size,g=_.every(m,function(C){return C.size===m[0].size}),y=_.every(u,function(C){return C.size===u[0].size});return r(m,d,g)?0:r(u,S,y)?1:d<=S?0:1}(d,P),F=0===L?d:P,A=0===L?x:g,O=[],N=0,w=0,I=F;w<I.length;w++){for(var B=I[w],j=N+1;j<B.startPosition;j++)O.push(void 0);for(var W=B.startPosition;W<B.startPosition+B.size;W++)O.push(B.startPosition),N=W}for(var U=_.groupBy(A,function(G){return O[(0===L?G.pos.y:G.pos.x)-1]}),k=[],Q=0,te=F;Q<te.length;Q++)k=k.concat(U[(B=te[Q]).startPosition]);var ee=_.map(k,function(G){return G.item});if(u){var J=_.filter(m,function(G){var ne,X;return!((null===(ne=G.pos)||void 0===ne?void 0:ne.x)>0&&(null===(X=G.pos)||void 0===X?void 0:X.y)>0)}),re=_.map(J,function(G){return G.item});ee.push.apply(ee,re)}return ee}function n(m,u,V){c.fF.assertValue(m,"contexts");var S=m[m.length-1];!_.isEmpty(m)&&u>=S.startPosition&&u<S.startPosition+S.size?u+V>S.startPosition+S.size&&(S.size=u+V-S.startPosition):m.push({startPosition:u,size:V})}function r(m,u,V){return m.length>1&&V&&u<=3}},466252:function(Je,H,t){t.d(H,{N:function(){return f}});var e=t(338780),c=t(787941),s=t(690016);function f(v){var b=s.b$.getDateFromWcfJsonString(v,!0);return b||(b=(0,e.Kk)(v)),c.fF.assertValue(b,"could not parse dateTime"),b}},174002:function(Je,H,t){t.d(H,{pg:function(){return f},qC:function(){return s}});var e=t(497610),c=t(725182);function s(b){return!(!b||b.packageType!==e.yR.AppInstance||!b.contentProviderId&&!b.serviceContentProviderId)}function f(b){return(0,c.yE)(b,6)}},935326:function(Je,H,t){function e(c){if(c){var s=c.visualContainer||c.realTimeVisual;if(s&&s.$visualContainer)return s.$visualContainer.config.singleVisual.visualType}}t.d(H,{s:function(){return e}})},395519:function(Je,H,t){t.d(H,{HL:function(){return x},M8:function(){return R},Us:function(){return m},X7:function(){return E},_z:function(){return T},bQ:function(){return P},mf:function(){return M},ok:function(){return d},x8:function(){return y},zy:function(){return u}});var e=t(63931),c=t(160046),s=t(899027),f=t(35801),v=t(776791),b=t(693825),h=t(613181),p=t(883863),n=t(787941),l=t(419509),r=t(889377),o=t(243877),a=t(935326),m=function(){function D(){this.rScriptCount=0,this.pythonScriptCount=0}return Object.defineProperty(D.prototype,"hasScriptVisuals",{get:function(){return this.rScriptCount>0||this.pythonScriptCount>0},enumerable:!1,configurable:!0}),D}();function u(D,L,F,A,O,N,w,I){n.fF.assertValue(L,"singleVisualConfig"),n.fF.assertValue(F,"dataWindow"),n.fF.assertValue(A,"dataModel"),n.fF.assertValue(O,"schema"),n.fF.assertValue(N,"pinVisualService"),n.fF.assertValue(w,"visualPluginService");var B=I.execute({dataSources:D,schema:O,config:L,additionalFilters:null,dataWindow:F}),j=N.getPinData({name:"tile",config:{singleVisual:L},layouts:void 0},0,D,{},null,null,B,O);j.realTimeDataWindow=F;var W=w.capabilities((0,c.s_)(j));return(0,r.O4)(j,W,A)}function d(D,L){return function(D,L){return D&&D.type===l.YU.composite&&L.isScriptVisual((0,a.s)(D.config))}(D,L)||function(D,L){var F=new m,A=D&&D.reportTile&&D.reportTile.exploration&&D.reportTile.exploration.sections;if(!A||D.type!==l.YU.report)return F;for(var O=0,N=A;O<N.length;O++)for(var I=0,B=N[O].contract.visualContainers;I<B.length;I++){var W=(0,f.s)(B[I]);if(W&&L&&L.isScriptVisual(W))switch((0,s.lX)(W)){case 0:F.rScriptCount++;break;case 1:F.pythonScriptCount++}}return F}(D,L).hasScriptVisuals}function y(D,L){return n.fF.assertValue(D,"tile"),"tile_"+D.id+"_dash_"+L}function E(D,L){n.fF.assertValue(D,"getTileErrorDetailsFromQueryResultError: queryResultError");var F=(0,v.K)(D.errorDetail);if(F&&!_.isEmpty(F.DataShapes)){var A=F.DataShapes[0]["odata.error"];if(A)return new e.Ow(A).getDetails(L)}}function M(D){if(n.fF.assertValue(D,"contract"),D.$layoutConfig)return D.$layoutConfig;var L={x:D.col,y:D.row,width:D.colSpan,height:D.rowSpan},F=void 0;if(D.layoutConfig)try{F=JSON.parse(D.layoutConfig),(0,p.Br)(F.layouts).withId(0).position=L}catch(N){n.fF.assertFail("Unable to parse tile layout config")}else F={layouts:[{id:0,position:L}]};return F}function P(D,L,F){var A=(0,p.Br)(D.layouts),O=A.withId(F);O||A.push(O={id:F,position:{}}),O.position=L}function T(D,L,F,A){return{id:D.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(L),query:A?F:null,updatedQuery:A,modelId:D.modelId,objectId:D.objectId}}function x(D,L){var F=(0,o.V3)(D);if(F){for(var A=L.width*h.A4,O=L.height*h.lT,N=!1,w=0,I=F.Commands;w<I.length;w++){var B=I[w],j=B.ScriptVisualCommand;j&&(j.ViewportWidthPx!==A||j.ViewportHeightPx!==O)&&(j.ViewportWidthPx=A,j.ViewportHeightPx=O,B.ScriptVisualCommand=j,N=!0)}if(N)return F}}function R(D){var L=(0,v.K)(D);return null==L&&(L={version:b.aD}),L}},350841:function(Je,H,t){t.d(H,{$J:function(){return s},$Q:function(){return V},Ce:function(){return Qe},Iy:function(){return m},NJ:function(){return S},Ym:function(){return pe},bL:function(){return Ve},hf:function(){return v},jn:function(){return P},kA:function(){return J},oM:function(){return w},qy:function(){return G},rd:function(){return r},s$:function(){return a},vF:function(){return D},v_:function(){return Ce},wc:function(){return B},yp:function(){return x}});var e=t(853811),c="PBI.Dashboard.RenameReport",s=e.cx[c]=(0,e.b1)(c),f="PBI.Dashboard.DeleteReport",v=e.cx[f]=(0,e.b1)(f),b="PBI.Dashboard.InitializeNavigationPaneReports",p=(e.cx[b]=(0,e.b1)(b),"PBI.Dashboard.InitializeNavigationPaneModels"),l=(e.cx[p]=(0,e.b1)(p),"PBI.Dashboard.RenameDataset"),r=e.cx[l]=(0,e.b1)(l),o="PBI.Dashboard.UpdateModelQnaFeatures",a=e.cx[o]=(0,e.b1)(o),i="PBI.Dashboard.UpdateFeaturedQuestions",m=e.cx[i]=(0,e.b1)(i),u="PBI.Dashboard.DeleteDataset",V=e.cx[u]=(0,e.b1)(u),d="PBI.Dashboard.AddUpdateDashboard",S=e.cx[d]=(0,e.b1)(d),g="PBI.Dashboard.InitializeNavigationPaneWorkbooks",C=(e.cx[g]=(0,e.b1)(g),"PBI.Dashboard.UpdateLocalWorkbookNeverShowExplanation"),M=(e.cx[C]=(0,e.b1)(C),"PBI.Dashboard.RenameWorkbook"),P=e.cx[M]=(0,e.b1)(M),T="PBI.Dashboard.RemoveWorkbook",x=e.cx[T]=(0,e.b1)(T),R="PBI.Dashboard.GetWorkbookWopiAccessInformation",D=e.cx[R]=(0,e.b1)(R),L="PBI.Dashboard.WorkbookEmbeddingExternalSuccess",A=(e.cx[L]=(0,e.b1)(L),"PBI.Dashboard.WorkbookEmbeddingExternalFailure"),N=(e.cx[A]=(0,e.b1)(A),"PBI.Dashboard.ImportResourcePackagesOnLoad"),w=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.GetNavigationPanePackage",B=e.cx[I]=(0,e.b1)(I),j="PBI.Permissions.ObjectNotFound",U=(e.cx[j]=(0,e.b1)(j),"PBI.Apps.GetApp"),Q=(e.cx[U]=(0,e.b1)(U),"PBI.Apps.UninstallApp"),ee=(e.cx[Q]=(0,e.b1)(Q),"PBI.TileConfig.UpgradeTileConfig"),J=e.cx[ee]=(0,e.b1)(ee),re="PBI.Permissions.UpdateArtifactVisibility",G=e.cx[re]=(0,e.b1)(re),ne="PBI.Datapool.DeleteDatapool",oe=(e.cx[ne]=(0,e.b1)(ne),"PBI.Datapool.UpdateProperties"),Ve=e.cx[oe]=(0,e.b1)(oe),Te="PBI.Http.RequestThrottled",Qe=e.cx[Te]=(0,e.b1)(Te),He="PBI.Dataset.GetSharedDatasets",Ce=e.cx[He]=(0,e.b1)(He),de="PBI.Dataset.GetReadonlySharedDatasets",pe=e.cx[de]=(0,e.b1)(de),le="PBI.UserInfo.PreviousTenantId";e.cx[le]=(0,e.b1)(le)},655795:function(Je,H,t){function e(c,s,f,v,b,h){var p={filtersNamesAndRestatements:[]};if(!s||_.isEmpty(s.dataFiltersUnmerged))return p;for(var n=v.capabilities(f.visualType),l=0,r=s.dataFiltersUnmerged;l<r.length;l++){var o=r[l];if(!o.isHidden){var a=b.getFilterRestatementForOverlay(o,c,n,null,f);if(!_.isEmpty(a))for(var i=0,m=a;i<m.length;i++){var u=m[i];p.filtersNamesAndRestatements.push({displayName:u.fieldName,qualifiedDisplayName:u.fieldNameToolTip,restatement:u.restatements.join(h.get("ListJoin_Separator"))})}}}return p}t.d(H,{A:function(){return e}})},479199:function(Je,H,t){function e(c){switch(c){case"Binary":return 11;case"Boolean":return 5;case"Currency":return 2;case"Number":return 3;case"Date":return 6;case"DateTime":return 7;case"Time":return 9;case"WholeNumber":return 4;case"Text":return 1}}t.d(H,{F:function(){return e}})},912126:function(Je,H,t){t.d(H,{GM:function(){return b},S8:function(){return l},W5:function(){return v},fV:function(){return p},k2:function(){return s},wx:function(){return h}});var e=t(787941),c=t(324356);function s(a,i){return new f(a,i)}var f=function(){function a(i,m){if(e.fF.assertValue(i,"plugins"),m){var u=function(S){e.fF.assert(function(){return!!_.find(i,function(g){return g.name===m[S].extends})},"plugin extension type '".concat(S,"' extends a plugin '").concat(m[S].extends,"' which doesn't exist")),e.fF.assert(function(){return!_.some(i,function(g){return g.name===m[S].name})},"Cannot register plugin extension type '".concat(S,"'. A plugin with that name already exists."))};for(var V in m)u(V)}this.plugins=i,this.extensions=m||{}}return a.prototype.getPlugin=function(i){return this.plugins[o(i)]},a.prototype.getExtension=function(i){return this.extensions[i]},a}();function v(a,i){return n(a,p(i))}function b(a,i){if(_.isEmpty(a))return[];var m;if(!_.isEmpty(i)){m=[];for(var u=0,V=i;u<V.length;u++){var d=V[u];if(d instanceof c.Wh){var S=d.getTargetEntity();m.push(S.schema)}}m=_.uniq(m)}return n(a,m)}function h(a){return e.fF.assertValue(a,"reference"),o(a.type)}function p(a){if(e.fF.assertAnyValue(a,"query"),a){var i=[];return new r(i).run(a),i}}function n(a,i){for(var m=[],u=0,V=a;u<V.length;u++){var d=V[u];if(_.isEmpty(i)||_.includes(i,d.name)){var S=h(d);_.includes(m,S)||m.push(S)}}return m}function l(a){return _.chain(a).map(function(i){return h(i)}).uniq().value()}var r=function(){function a(i){this.schemas=i}return a.prototype.run=function(i){for(var m=i.from(),u=0,V=m.keys();u<V.length;u++)m.source(V[u]).accept(this,void 0)},a.prototype.visitEntity=function(i){this.visitEntityOrPod(i)},a.prototype.visitPod=function(i){this.visitEntityOrPod(i)},a.prototype.visitSubquery=function(i){this.run(i.subquery)},a.prototype.visitExpr=function(i){},a.prototype.visitEntityOrPod=function(i){e.fF.assertValue(i,"source");var m=i.schema,u=this.schemas;_.includes(u,m)||u.push(m)},a}();function o(a){return a||"dsr"}},454869:function(Je,H,t){t.d(H,{I:function(){return f}});var e=t(883863),c=t(787941),s=t(912126);function f(p,n){return new v(p,n)}var v=function(){function p(n,l){c.fF.assertValue(n,"factory"),c.fF.assertValue(l,"hostServices"),this.factory=n,this.hostServices=l,this.readers={},this.queryGen={},this.schemaReaders={}}return p.prototype.reader=function(n){var l=this;return c.fF.assertAnyValue(n,"typeOrTypes"),this.findSinglePropertyDefinition((0,e.rY)(n),function(r){return r.reader(l.hostServices)},_.noop,this.readers)},p.prototype.readerType=function(n){var l=this;c.fF.assertAnyValue(n,"typeOrTypes");var r=this.resolvePluginProperty((0,e.rY)(n),function(o){return o.reader(l.hostServices)},_.noop,this.readers);return r&&r.type},p.prototype.queryGenerator=function(n){return c.fF.assertAnyValue(n,"typeOrTypes"),this.findSinglePropertyDefinition((0,e.rY)(n),function(l){return l.queryGenerator&&l.queryGenerator()},_.noop,this.queryGen)},p.prototype.queryExtensionLookup=function(n){c.fF.assertAnyValue(n,"referenceOrReferences");var l=(0,e.rY)(n),r=_.chain(l).map(function(i){return(0,s.wx)(i)}).uniq().value(),o=this.findSingleBasePropertyDefinition(r,function(i){return i.queryExtensionProvider&&b(i.name,l,i.queryExtensionProvider)});return function(p,n){if(p||n)return p?function(l,r){return p(l,r,n)}:n}(this.findSingleExtensionPropertyDefinition(r,function(i){return i.queryExtensionProvider&&b(i.name,l,i.queryExtensionProvider)}),o)},p.prototype.schemaReader=function(n){var l=this;return c.fF.assertAnyValue(n,"type"),this.findSinglePropertyDefinition([n],function(r){return r.schemaReader&&r.schemaReader(l.hostServices)},function(r){return r.schemaReader&&r.schemaReader(l.hostServices)},this.schemaReaders)},p.prototype.getCacheKey=function(n){var l=(0,e.rY)(n);return l.length<2?l[0]:"["+l.join(",")+"]"},p.prototype.findSinglePropertyDefinition=function(n,l,r,o){var a=this.getCacheKey(n),i=o[a];if(i)return i;var m=this.resolvePluginProperty(n,l,r,o);return m?o[a]=m.property:void 0},p.prototype.findSingleExtensionPropertyDefinition=function(n,l){for(var r,o,a=0,i=n;a<i.length;a++){var m=i[a],u=this.factory.getPlugin(m);if(u){if(o&&o!==u.name)return;o=u.name}else{var V=this.factory.getExtension(m);if(!V||o&&o!==V.extends)return;o=V.extends;var d=l(V);if(d){if(r&&d!==r)return;r=d}}}return r},p.prototype.findSingleBasePropertyDefinition=function(n,l){for(var r,o,a=0,i=n;a<i.length;a++){var u=this.factory.getPlugin(i[a]);if(u){if(o&&o!==u.name)return;o=u.name;var V=l(u);if(V){if(r&&V!==r)return;r=V}}}return r},p.prototype.resolvePluginProperty=function(n,l,r,o){for(var a,i=0,m=n;i<m.length;i++){var V=this.resolveProperty(m[i],l,r,o);if(!V||a&&V.property!==a.property)return;a=V}return a},p.prototype.resolveProperty=function(n,l,r,o){var a,i;if(o&&(i=o[a=this.getCacheKey(n)]))return{type:n,property:i};var m=this.factory.getPlugin(n);if(m)return(i=l(m))?(o&&(o[a]=i),{type:n,property:i}):void 0;var u=this.factory.getExtension(n);return u?(i=r(u))?(o&&(o[a]=i),{type:n,property:i}):this.resolveProperty(u.extends,l,r,o):void 0},p}();function b(p,n,l){for(var r=[],o=0,a=n;o<a.length;o++){var i=a[o],m=(0,s.wx)(i);m===p&&r.push(i[m])}return l(r)}},159190:function(Je,H,t){t.d(H,{dj:function(){return C},sw:function(){return g},Z7:function(){return y}});var e=t(226514),c=t(474147),s=t(787941),f=t(690016),v=t(324356),b=t(116170),h=t(883863),p=t(292042);function m(A,O){s.fF.assertValue(A,"collection"),s.fF.assertValue(O,"toRemove");var N=A.indexOf(O);s.fF.assert(function(){return N>=0},"the metadata column to be removed should exist in the collection before the removal"),N>=0&&A.splice(N,1)}function u(A,O){s.fF.assertValue(O,"dataViewCategorical");var N=O.categories;if(N)for(var w=0,I=N;w<I.length;w++){var B=I[w];B.values.splice(0),B.identity.splice(0)}var j=O.values;if(j){var W=j.grouped();if(!_.isEmpty(W)){for(var U=W[0],k=A.columns,Q=function(pe){var le=pe.source;if(le.groupName){var me=_.find(k,function(be){return!be.groupName&&be.index===le.index&&be.isMeasure===le.isMeasure});me?(pe.source=me,m(k,le)):delete le.groupName}},te=0,ee=U.values;te<ee.length;te++)Q(ee[te]);var re=[{values:U.values,objects:U.objects}];if(j.grouped=function(){return re},W.length>=2){var G=U.values.length;if(G>0){for(var X=G*(W.length-1),oe=G,Ve=G+X;oe<Ve;oe++)m(k,j[oe].source);j.splice(G,X)}}}for(var Qe=0,He=j;Qe<He.length;Qe++){var Ce=He[Qe];Ce.values.splice(0),delete Ce.identity}}s.fF.assert(function(){return!N||_.every(N,function(de){return _.isEmpty(de.values)&&_.isEmpty(de.identity)})},"values and identity should be cleared in all category columns"),s.fF.assert(function(){return!j||_.every(j.grouped(),function(de){return!de.name&&!de.identity})},"name and identity should be cleared in all series instances"),s.fF.assert(function(){return!j||_.every(j,function(de){return _.isEmpty(de.values)})},"All values in measure columns should be removed")}function d(A,O){if(s.fF.assertValue(A,"values"),s.fF.assertValue(O,"indicesToRemove"),s.fF.assert(function(){return(0,h.JN)(O,!0)},"indicesToRemove is expected to be in descending order"),s.fF.assert(function(){return _.uniq(O).length===O.length},"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(O)){if(s.fF.assert(function(){return 0<=_.last(O)&&_.head(O)<A.length},"elements in indicesToRemove must be valid indices to the values array."),A.length===O.length)return void A.splice(0);for(var N,w=0,I=0,B=O;I<B.length;I++){var j=B[I];void 0===N||N===j+1?(N=j,w++):(A.splice(N,w),N=j,w=1)}s.fF.assertValue(N,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),A.splice(N,w)}}var S=t(450802);function g(A,O){if(s.fF.assertValue(A,"restrictiveFilter"),s.fF.assertValue(O,"baseFilter"),!(0,c.FK)(A,O))return!1;var N=A.condition,w=O.condition;if(N instanceof v.ev&&w instanceof v.ev){var I=F(N),B=F(w);if(I&&B&&(0,c.fS)(I.otherSide,B.otherSide))return(0,f.r3)(D(I.constantValue),D(B.constantValue))}return!1}function y(A,O){s.fF.assertNonEmpty(A,"selects"),s.fF.assertNonEmpty(O,"filters");var N=_.some(O,function(W){return!function(A){return s.fF.assertValue(A,"filter"),!A.target}(W)});if(!N){for(var w=new L(A),I=0,B=O;I<B.length;I++)B[I].condition.accept(w);return w.getClientSideFiltersIfAllSupported()}}function C(A,O){if(s.fF.assertValue(A,"queryDataView"),s.fF.assertAnyValue(O,"clientSideFilters"),!_.isEmpty(O)&&!_.isEmpty(A.metadata.columns)){s.fF.assert(function(){return _.every(O,function(B){return _.some(A.metadata.columns,function(j){return!j.isMeasure&&j.index===M(B)})})},"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var N=A.categorical;if(N){var w=function(A,O){if(s.fF.assertAnyValue(A,"seriesMetadataColumn"),s.fF.assertValue(O,"clientSideFilters"),A){var N=P(O,[A]);if(!_.isEmpty(N))return function(B){if(B.identity)for(var W=B.name,U=0,k=N;U<k.length;U++)if(R(k[U],W))return!0;return!1}}}(N.values&&N.values.source,O),I=function(A,O){s.fF.assertValue(A,"categories"),s.fF.assertValue(O,"clientSideFilters");var N=P(O,_.map(A,function(I){return I.source}));if(!_.isEmpty(N))return function(B,j){for(var W=function(J){if(_.every(j,function(G){return R(J,G.values[B])}))return{value:!0}},U=0,k=N;U<k.length;U++){var te=W(k[U]);if("object"==typeof te)return te.value}return!1}}(N.categories,O);!function(A,O,N,w){s.fF.assertValue(O,"dataViewCategorical"),s.fF.assertAnyValue(N,"categoryRemovalPredicate"),s.fF.assertAnyValue(w,"seriesRemovalPredicate"),w&&function(A,O,N){s.fF.assertValue(O,"dataViewCategorical"),s.fF.assertValue(N,"removalPredicate");var w=O.values&&O.values.grouped();if(!_.isEmpty(w)){var B=function(A,O,N){s.fF.assertAnyValue(A,"seriesMetadataColumn"),s.fF.assertValue(O,"seriesInstances"),s.fF.assertValue(N,"removalPredicate");for(var w=[],I=O.length-1;I>=0;I--)N(O[I],A)&&w.push(I);return w}(O.values&&O.values.source,w,N);!function(A,O,N){if(s.fF.assertValue(O&&O.values&&!_.isEmpty(O.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),s.fF.assertValue(N,"seriesIndicesToRemove"),s.fF.assert(function(){return(0,h.JN)(N,!0)},"seriesIndicesToRemove is expected to be in descending order"),s.fF.assert(function(){return _.uniq(N).length===N.length},"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(N)){var w=O.values,I=w.grouped();if(I.length===N.length)return void u(A,O);var B=I[0].values.length;if(s.fF.assert(function(){return _.every(I,function(te){return te.values.length===B})},"all series instances returned by grouped() are expected to have the same number of measure columns"),B>0)for(var j=A.columns,W=function(ee){var J=ee*B;s.fF.assert(function(){return J+B-1<w.length},"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var re=J,G=J+B;re<G;re++)m(j,w[re].source);w.splice(J,B)},U=0,k=N;U<k.length;U++)W(k[U]);d(I,N),w.grouped=function(){return I}}}(A,O,B)}}(A,O,w),N&&function(A,O,N){s.fF.assertValue(O,"dataViewCategorical"),s.fF.assertValue(N,"removalPredicate");var w=O.categories;if(!_.isEmpty(w)){var I=function(A,O){s.fF.assertNonEmpty(A,"categories"),s.fF.assertValue(O,"removalPredicate");var N=A[0].values.length;s.fF.assert(function(){return _.every(A,function(B){return B.values.length===N})},"Expecting all category columns to have the same number of values.");for(var w=[],I=N-1;I>=0;I--)O(I,A)&&w.push(I);return w}(w,N);!function(A,O,N){if(s.fF.assertValue(O,"dataViewCategorical"),s.fF.assertValue(N,"rowIndicesToRemove"),s.fF.assert(function(){return(0,h.JN)(N,!0)},"rowIndicesToRemove is expected to be in descending order"),s.fF.assert(function(){return _.uniq(N).length===N.length},"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(N)){if((0,p.Ed)(O)===N.length)return void u(A,O);s.fF.assert(function(){return(0,p.Ed)(O)>0},"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var w=O.categories;if(!_.isEmpty(w))for(var I=0,B=w;I<B.length;I++){var j=B[I];d(j.values,N),d(j.identity,N)}var W=O.values;if(!_.isEmpty(W))for(var U=0,k=W;U<k.length;U++)d(k[U].values,N)}}(A,O,I)}}(A,O,N)}(A.metadata,N,I,w)}return A}}function M(A){s.fF.assertValue(A,"clientSideFilter");var O=A.Condition;if(O.Contains)return O.Contains.SelectIndex;s.fF.assertFail("Unknown filter condition type: "+JSON.stringify(O))}function P(A,O){if(s.fF.assertValue(A,"clientSideFilters"),s.fF.assertValue(O,"metadataColumns"),_.isEmpty(A)||_.isEmpty(O))return[];for(var N={},w=0,I=O;w<I.length;w++)N[I[w].index]=!0;return _.filter(A,function(j){var W=M(j);return!!N[W]})}function R(A,O){s.fF.assertValue(A,"filter");var N=!1,w=A.Condition;if(w.Contains)if(s.fF.assert(function(){return w.Contains.LiteralValue===D(w.Contains.LiteralValue)},"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(O)){var I=D(O);N=!(0,f.r3)(I,w.Contains.LiteralValue)}else N=!0;else s.fF.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(w));return N}function D(A){return A&&(0,f.m5)(A)}var L=function(A){function O(N){var w=A.call(this)||this;return s.fF.assertNonEmpty(N,"selects"),w.clientSideFilters=[],w.selects=N,w}return(0,e.__extends)(O,A),O.prototype.visitContains=function(N){if(!this.hasUnsupportedFilter()){var w=!1,I=F(N);if(I){var B=I.constantValue,j=(0,S.p)(this.selects,I.otherSide);if(j>=0&&B){var W={Condition:{Contains:{SelectIndex:j,LiteralValue:D(B)}}};this.clientSideFilters.push(W),w=!0}}w||this.setUnsupportedFilter()}},O.prototype.visitAnd=function(N){this.hasUnsupportedFilter()||(N.left.accept(this),N.right.accept(this))},O.prototype.visitDefault=function(N){this.setUnsupportedFilter()},O.prototype.getClientSideFiltersIfAllSupported=function(){if(!this.hasUnsupportedFilter())return this.clientSideFilters},O.prototype.hasUnsupportedFilter=function(){return void 0===this.clientSideFilters},O.prototype.setUnsupportedFilter=function(){this.clientSideFilters=void 0},O}(b.vq);function F(A){if(A){var O=(0,v.Ls)(A.left);return O?{constantValue:O,otherSide:A.right}:{constantValue:O=(0,v.Ls)(A.right),otherSide:A.left}}}},154369:function(Je,H,t){t.d(H,{DG:function(){return P},P6:function(){return k},Sk:function(){return x},l7:function(){return T},mx:function(){return W}});var e=t(226514),c=t(883863),s=t(787941),f=t(261374),v=t(989516),b=t(726672),h=t(283427),p=t(668268),n=t(499995),l=t(19632),r=t(45696),o=t(734287),a=t(601139),i=t(13106),m=t(880787),u=t(324356),V=t(334048),d=t(983172),S=t(620006),g=t(939141),y=t(592042),C=t(456535),E=t(474147),M=t(158519),P=function(){function ee(J,re,G,ne,X,oe,Ve){this.warningType=J,this.propertyId=re,this.valueExpr=G,this.selector=ne,this.objectDiplayName=X,this.propertyDisplayName=oe,this.expectedValueType=Ve}return ee.prototype.columnNameFromIndex=function(J){},Object.defineProperty(ee.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundObjectQueryExtensionWarningInvalidType";case 2:return"DataBoundObjectQueryExtensionWarningMissingReference";case 0:return void s.fF.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value type.");default:s.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),ee.prototype.getDetails=function(J,re){if(re){var G=[],ne=J.get("NamePattern_Colon"),X=1===this.warningType,Ve=X?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";G.push((0,f.W)(J.get(X?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,o.G)(this.propertyDisplayName,J))),G.push((0,f.W)(ne,J.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,o.G)(this.objectDiplayName,J)));var Te=re(this.valueExpr);return G.push((0,f.W)(ne,J.get("Field_Source"),Te)),X&&this.expectedValueType&&G.push((0,f.W)(ne,J.get("DataBoundExprWarning_ExpectedDataType"),b.L.getPrimitiveValueType(this.expectedValueType,J))),G.push(J.get(Ve)),{message:G.join("\n"),displayableErrorInfo:[]}}s.fF.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")},ee}();function T(ee,J,re,G,ne,X,oe,Ve){return s.fF.assertValue(ee,"queryDefn"),s.fF.assertValue(J,"schema"),s.fF.assertAnyValue(re,"objectDescs"),s.fF.assertAnyValue(G,"queryRefsByRole"),s.fF.assertAnyValue(ne,"projections"),s.fF.assertAnyValue(X,"roleKindByQueryRef"),s.fF.assertAnyValue(oe,"additionalFilters"),R(ee,J,re,G,ne,X,oe,Ve)}function x(ee,J){return!!R(ee,null,J,{},{},{},void 0,void 0)}function R(ee,J,re,G,ne,X,oe,Ve){if(!_.isEmpty(re)){for(var Te=ee.select(),Qe=[],He=[],Ce=[],de=[],le=0,me=re;le<me.length;le++){var be=me[le];be.objects&&be.descriptors&&(0,p.rQ)(be.objects,be.descriptors,pe)}for(var Be=0,Se=Ce;Be<Se.length;Be++)for(var Pe=Se[Be],ue=0,ve=de;ue<ve.length;ue++)if((0,v.fS)(Pe.selector,ve[ue])){D(He,Pe,Te,G);break}for(var ie=[],Fe=[],at=0,We=He;at<We.length;at++){var Oe=We[at],Ze=Oe.selector,Ee=L(Oe,ee,oe,Ve);ee=Ee.queryDefn,Ee.objectDefinitionRewrite&&Fe.push(Ee.objectDefinitionRewrite);var K={queryName:Ee.queryName,selector:Ze};if(_.isEmpty(Oe.targetsQueryName)||(K.relatedProjectionsQueryName=Oe.targetsQueryName),Oe.aggregates&&(K.aggregates=Oe.aggregates),Oe.relatedObjects&&(K.relatedObjects=Oe.relatedObjects),Ze&&!_.isEmpty(Ze.data)&&(K.joinPredicate=0),J){var Ne=d.m.buildExprEvaluationContext(ee.from()),Y=Oe.expr.getMetadata(J,Ne);null!=Y&&Y.format&&(K.format=Y.format)}ie.push(K)}return _.isEmpty(ie)&&_.isEmpty(Qe)?void 0:{queryDefn:ee,warnings:Qe,additionalProjections:ie,objectDefinitionRewrites:Fe}}function pe(ye,rt,it,Ue,De){var Le,Xe,Ge,et=De&&De.properties[rt],he=ye[rt],ce=et.type,Re=null==it?it:(0,v.d9)(it);if(et.rule){if(s.fF.assertValue(et.type.fillRule&&(0,g.gO)(he),"Property rule descriptor is valid only for FillRule properties"),!W(et.rule.conditions,ne,X))return;var ut=function(ee,J,re){var G=ee.inputRole;if(G){var ne=re[G];if(!_.isEmpty(ne)){var X=_.chain(J.select()).filter(function(oe){return _.includes(ne,oe.name)}).map(function(oe){return oe.expr}).value();return X}}}(et.rule,ee,G);if(_.isEmpty(ut))return;s.fF.assert(function(){return 1===_.size(ut)},"Property Rules supports only one input Expr"),it={data:_.map(ut,function(Wt){return(0,l.TZ)(Wt)})},Ge=(0,n.oA)(he,it,Te,ut[0])}else if(ce&&ce.dataBars)it&&it.metadata&&Te.withName(it.metadata)&&(_.isEmpty(it.data)&&((it=_.cloneDeep(it)).data=[(0,r.Ue)()]),Ge=(0,n.oA)(he,it,Te,Te.withName(it.metadata).expr));else{var ae=(0,n.Sz)(ye[rt],it,Te);et.ignoreUnreferenced?(s.fF.assert(function(){return _.isEmpty(ae.references)},"References should be empty"),Ce.push.apply(Ce,ae.expressions)):(Ge=ae.expressions,de.push.apply(de,ae.references.map(function(Wt){return Wt.selector})))}if(!_.isEmpty(Ge)&&(!it||function(ee,J){s.fF.assertValue(ee,"selector");var re=ee.metadata;if(!re)return!0;s.fF.assertNonEmpty(J,"querySelects");for(var G=0,ne=J;G<ne.length;G++)if(ne[G].name===re)return!0}(it,Te))&&void 0!==k(null==it?void 0:it.data,Te,G))for(var we=0,ze=Ge;we<ze.length;we++){var $e=ze[we];if($e.expr){if(J){var ot=d.m.buildExprEvaluationContext(ee.from()),_t=$e.expr.getMetadata(J,ot);if(null==_t||!y.Ge.isCompatibleFromAny(ce,_t.type)){var ke=_t?1:2,dt=_t?y.Ge.fromDescriptor(ce):null,Tt=new P(ke,{objectName:Ue,propertyName:rt},$e.expr,it,De.displayName,et.displayName,dt);Qe.push(Tt);continue}}$e.relatedObjects=((Le={})[Ue]=((Xe={})[rt]=[Re],Xe),Le),D(He,$e,Te,G)}}}}function D(ee,J,re,G){s.fF.assertValue(J,"source");var X=_.find(ee,function(xe){return function(ie,Fe){var at,We;if(!(0,E.fS)(ie.expr,Fe.expr))return!1;var Oe=k(null===(at=ie.selector)||void 0===at?void 0:at.data,re,G),Ze=k(null===(We=Fe.selector)||void 0===We?void 0:We.data,re,G);return _.isEmpty(_.xor(Oe,Ze))}(xe,J)});if(X){var oe=J.targetsQueryName;if(!_.isEmpty(oe)){var Ve=X.targetsQueryName;_.isEmpty(Ve)&&(Ve=X.targetsQueryName=[]),Ve.push.apply(Ve,oe)}var Te=J.aggregates;if(null!=Te){var Qe=X.aggregates;if(Qe){if(Te.min&&(Qe.min=!0),Te.max&&(Qe.max=!0),Te.average&&(Qe.average=!0),Te.median&&(Qe.median=!0),Te.percentiles)if(Qe.percentiles)for(var He=function(ie){_.find(Qe.percentiles,function(Fe){return _.isEqual(ie,Fe)})||Qe.percentiles.push(ie)},Ce=0,de=Te.percentiles;Ce<de.length;Ce++)He(de[Ce]);else Qe.percentiles=Te.percentiles}else X.aggregates=Te}var le=J.relatedObjects;if(null!=le){var me=X.relatedObjects;if(me){var Se,be=void 0,Be=void 0,Pe=void 0;for(be in le){if(Pe)break;for(Be in le[be]){Se=_.first(le[be][Be]),Pe=!0;break}}if(null!=be&&null!=Be){var ue=me[be]=me[be]||{},ve=ue[Be]=ue[Be]||[];_.some(ve,function(xe){return(0,v.fS)(xe,Se)})||ve.push(Se)}}else X.relatedObjects=le}}else ee.push(J)}function L(ee,J,re,G){var Qe,He,ne=ee.aggregates,X=ee.selector,Ve=ee.expr,Te=function(ee,J,re){if(!(0,C.iV)(ee)||!(0,C.t3)(ee.arg)||!(0,C.jv)(ee.arg.source))return ee;var G=ee.arg.source.query;if(!G)return ee;var Ve,ne=J&&J.filterContext;if(_.isEmpty(ne)&&!re)return ee;if(re){var X=re.conditions(),oe=_.some(X,function(He){return 1===(0,a._)(He)});s.fF.assert(function(){return!oe},"additional filters should not contain measure filters")}if(_.isEmpty(ne))Ve=[re];else{var Te=_.map(ne,function(He){return He.filter});Ve=w(Te,re,!0,!1)}var Qe=O(G,Ve);return ee.accept(new j(Qe))}(ee.expr,ee.context,re);if(ne||X&&!_.isEmpty(X.data))return(He=J.selectNameOf(Te))?{queryName:He,queryDefn:J,objectDefinitionRewrite:void 0}:{queryName:(J=J.addSelect(Te)).selectNameOf(Te),queryDefn:J,objectDefinitionRewrite:void 0};J=J.addSelect(Te);var Ce=_.last(J.select());if(s.fF.assert(function(){return(0,E.fS)(Ce.expr,Te)},"Incorrect queryName"),G){var de=new m.F(J);J=de.rewrite(),de.didRewrite&&(Qe={from:Ve,to:(0,u.xA)(Ce.name),selector:ee.selector})}return{queryName:Ce.name,queryDefn:J,objectDefinitionRewrite:Qe}}function O(ee,J){if(function(Te){var Qe=!1,He=Te.from().sources();for(var Ce in He)if((0,S.$r)(He[Ce])){Qe=!0;break}return Qe}(ee))return function(ee,J){if(!i.vQ.willFiltersAffectQuery(ee))return ee;var G,re=i.yl.unmerge(i.yl.fromSQFromAndSQFilters(ee.from(),ee.where()));G=_.isEmpty(re)?J:w(re,i.yl.merge(J),!1,!0);var ne=i.yl.merge(G);return ee.where(ne.where(),ne.from())}(ee,J);var G=ee.from().sources();for(var ne in G){var X=G[ne];if((0,M.y)(X)){var oe=O(X.subquery,J);return G[ne]=new S.vd(oe),ee.from(new S.cL(G))}}}function w(ee,J,re,G){s.fF.assertNonEmpty(ee,"filters should not be empty"),s.fF.assertAnyValue(J,"additionalFilters");for(var ne=[],X=function(ee,J){s.fF.assertNonEmpty(ee,"filters should not be empty"),s.fF.assertAnyValue(J,"additionalFilters");var re=[];J&&re.push({filters:[J],kind:void 0});var G=function(ee){return s.fF.assertNonEmpty(ee,"filters should not be empty"),_.groupBy(ee,function(J){var re=J.conditions();return s.fF.assert(function(){return 1===_.size(re)},"expecting only 1 condition in filter"),(0,a._)(re[0])})}(ee);return G[0]&&re.push({filters:G[0],kind:0}),G[3]&&re.push({filters:G[3],kind:3}),G[2]&&re.push({filters:G[2],kind:2}),G[1]&&re.push({filters:G[1],kind:1}),re}(ee,J),oe=0,Ve=X;oe<Ve.length;oe++){var Te=Ve[oe],Qe=Te.filters;3===Te.kind||1===Te.kind?(1===Te.kind&&re&&(Qe=[B(Te.filters)]),G?(s.fF.assertValue(J,"additionalFilters"),Qe=_.map(Qe,function(He){return(0,i.RD)(He,[J])})):_.isEmpty(ne)||(Qe=_.map(Qe,function(He){return(0,i.RD)(He,ne)})),ne.push.apply(ne,Qe)):ne.push.apply(ne,Qe)}return ne}function B(ee){for(var re,J=i.vQ.create(),G=function(Te){J=J.addSemanticFilter(Te);var Qe=Te.where()[0].target;_.isEmpty(re)||s.fF.assert(function(){return(0,c.s_)(Qe,re,function(He,Ce){return(0,E.fS)(He,Ce)})},"targets should be same between all measure filters"),re=re||Qe||[]},ne=0,X=ee;ne<X.length;ne++)G(X[ne]);return s.fF.assert(function(){return!_.isEmpty(re)},"targets should not be empty for measure filters"),_.forEach(re,function(Ve){J=J.addSelect(Ve)}),i.yl.fromMeasuresQuery(J,re)}var j=function(ee){function J(re){var G=ee.call(this)||this;return G.query=re,G}return(0,e.__extends)(J,ee),J.prototype.visitSubqueryRef=function(re){return(0,u.v5)(this.query,re.getAnnotations())},J}(V.b);function W(ee,J,re){if(!ee)return!0;for(var G=0,ne=ee;G<ne.length;G++){var oe=(0,h.fs)(J,ne[G],re);if(_.isEmpty(oe))return!0}return!1}function k(ee,J,re){if(s.fF.assertValue(J,"querySelects"),s.fF.assertValue(re,"queryRefsByRole"),_.isEmpty(ee))return null;for(var G=[],ne=0,X=ee;ne<X.length;ne++){var oe=X[ne];if((0,v.j9)(oe)){var Ve=Q(re,oe.roles,J);G.push.apply(G,Ve||[])}else(0,v.qm)(oe)?(Ve=Q(re,Object.keys(re),J),G.push.apply(G,Ve||[])):(0,v.QV)(oe)||(0,v.tQ)(oe)?G.push.apply(G,oe.exprs||[]):(0,v.yN)(oe)?G.push(oe.expr):s.fF.assertNever(oe)}if(0!==G.length){for(var Te=[],Qe=0,He=J;Qe<He.length;Qe++){var Ce=He[Qe],de=d.m.indexOfExpr(G,Ce.expr);if(!(de<0)&&(G.splice(de,1),Te.push(Ce.name),0===G.length))break}if(!(G.length>0||0===Te.length))return Te}}function Q(ee,J,re){for(var G=[],ne=0,X=J;ne<X.length;ne++)G.push.apply(G,ee[X[ne]]||[]);var Ve=_.filter(re,function(Te){return _.includes(G,Te.name)});return _.map(Ve,function(Te){return Te.expr})}},886740:function(Je,H,t){t.d(H,{y:function(){return m}});var e=t(456535),c=t(474147),s=t(883863),f=t(787941),v=t(750311),b=function(){function V(d,S){this.strategy=d,this.roles=S}return V.prototype.compileMapping=function(d){f.fF.assertValue(d,"mapping");var S=this.compileMetadata(),g={metadata:S};return d.categorical&&(g.categorical=this.compileCategorical(d.categorical)),d.table&&(g.table=this.compileTable(d.table)),d.single&&(g.single=this.compileSingle(d.single)),d.tree&&(g.tree=this.compileTree(d.tree)),d.matrix&&(g.matrix=this.compileMatrix(d.matrix)),d.scriptResult&&(g.scriptResult=this.compileScriptResult(d.scriptResult,S)),d.usage&&(g.usage=this.compileUsage(d.usage)),g},V.prototype.compileMetadata=function(){return this.strategy.compileMetadata()},V.prototype.compileCategorical=function(d){f.fF.assertValue(d,"mapping");var S={};d.categories&&(S.categories=this.compileRoleMappingWithReduction(d.categories));var g=d.values;if(g){var y=this.compileGrouped(g),C=this.compileList(g),E=this.compileRoleMapping(g);S.values=h(y,C,E)}return d.includeEmptyGroups&&(S.includeEmptyGroups=d.includeEmptyGroups),null!=d.dataVolume&&(S.dataVolume=d.dataVolume),d.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),S},V.prototype.compileTable=function(d){f.fF.assertValue(d,"mapping");var C={rows:h(this.compileRoleMappingWithReduction(d.rows),this.compileListWithReduction(d.rows))};return null!=d.dataVolume&&(C.dataVolume=d.dataVolume),C},V.prototype.compileSingle=function(d){return f.fF.assertValue(d,"mapping"),{role:this.compileRole(d.role)}},V.prototype.compileScriptResult=function(d,S){return f.fF.assertValue(d,"mapping"),{dataInput:this.compileMapping(d.dataInput),script:this.compileScriptDefinition(d.script,S)}},V.prototype.compileScriptDefinition=function(d,S){return this.strategy.compileScriptDefinition(d,S)},V.prototype.compileTree=function(d){f.fF.assertValue(d,"mapping");var S={};return d.nodes&&(S.nodes=this.compileForWithReduction(d.nodes)),d.values&&(S.values=this.compileFor(d.values)),null!=d.dataVolume&&(S.dataVolume=d.dataVolume),S},V.prototype.compileMatrix=function(d){f.fF.assertValue(d,"mapping");var S={};if(d.rows){var g=this.compileForWithReduction(d.rows),y=this.compileListWithCompositeWithReduction(d.rows);S.rows=h(g,y)}return d.columns&&(S.columns=this.compileForWithReduction(d.columns)),d.values&&(g=this.compileRoleMapping(d.values),y=this.compileList(d.values),S.values=h(g,y)),null!=d.dataVolume&&(S.dataVolume=d.dataVolume),d.includeEmptyGroups&&(S.includeEmptyGroups=d.includeEmptyGroups),S},V.prototype.compileUsage=function(d){if(f.fF.assertValue(d,"usage"),d.regression||d.forecast||d.anomalyDetection)return d},V.prototype.compileListWithReduction=function(d){f.fF.assertValue(d,"mapping");var S=this.compileList(d);if(S)return d.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),S},V.prototype.compileList=function(d){var S=this;if(f.fF.assertValue(d,"mapping"),d.select)return{select:_.map(d.select,function(y){return S.compileRoleMapping(y)})}},V.prototype.compileListWithCompositeWithReduction=function(d){f.fF.assertValue(d,"mapping");var S=this.compileListWithComposite(d);if(S){if(d.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),d.values){var g=this.compileRoleMapping(d.values),y=this.compileList(d.values);S.values=h(g,y)}return S}},V.prototype.compileListWithComposite=function(d){var S=this;if(f.fF.assertValue(d,"mapping"),d.select)return{select:_.map(d.select,function(y,C){return S.compileRoleMappingWithComposite(y,0===C)})}},V.prototype.compileGrouped=function(d){var S=this;if(f.fF.assertValue(d,"mapping"),d.group){var C={group:{by:this.compileRole(d.group.by),select:_.map(d.group.select,function(E){return S.compileRoleMapping(E)})}};return d.group.dataReductionAlgorithm&&(C.group.dataReductionAlgorithm=this.compileReduction(d.group.dataReductionAlgorithm)),C}},V.prototype.compileRoleMapping=function(d){return f.fF.assertValue(d,"mapping"),h(this.compileBind(d),this.compileFor(d))},V.prototype.compileRoleMappingWithComposite=function(d,S){return f.fF.assertValue(d,"mapping"),h(this.compileBind(d),this.compileFor(d),this.compileComposite(d,S))},V.prototype.compileRoleMappingWithReduction=function(d){f.fF.assertValue(d,"mapping");var S=this.compileRoleMapping(d),g=this.compileList(d);if(S||g){var y=h(S,g);return y&&d.dataReductionAlgorithm&&(y.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),y}},V.prototype.compileBind=function(d){if(f.fF.assertValue(d,"mapping"),d.bind)return{bind:{to:this.compileRole(d.bind.to,d.bind.aggregates)}}},V.prototype.compileForWithReduction=function(d){f.fF.assertValue(d,"mapping");var S=this.compileFor(d);if(S)return d.dataReductionAlgorithm&&(S.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),S},V.prototype.compileFor=function(d){if(f.fF.assertValue(d,"mapping"),d.for)return{for:{in:this.compileRole(d.for.in)}}},V.prototype.compileComposite=function(d,S){var g=this;if(f.fF.assertValue(d,"mapping"),d.composite){var C={composite:_.map(d.composite,function(E){return g.compileRoleMapping(E)})};return f.fF.assert(function(){return S||!(d.dataReductionAlgorithm&&d.dataReductionAlgorithm.window)||d.synchronized},"window data reduction requires synchronization except in the first mapping"),d.synchronized&&(C.synchronized=d.synchronized),d.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(d.dataReductionAlgorithm)),C}},V.prototype.compileRole=function(d,S){return this.strategy.compileRole(d,S)},V.prototype.compileReduction=function(d){if(f.fF.assertAnyValue(d,"algorithm"),d){var S={};if(d.top&&(S.top={},d.top.count&&(S.top.count=d.top.count)),d.bottom&&(S.bottom={},d.bottom.count&&(S.bottom.count=d.bottom.count)),d.sample&&(S.sample={},d.sample.count&&(S.sample.count=d.sample.count)),d.window&&(S.window={},d.window.count&&(S.window.count=d.window.count)),d.binnedLineSample&&(S.binnedLineSample={},d.binnedLineSample.count&&(S.binnedLineSample.count=d.binnedLineSample.count),d.binnedLineSample.warningCount&&(S.binnedLineSample.warningCount=d.binnedLineSample.warningCount)),d.overlappingPointsSample){var g=d.overlappingPointsSample;S.overlappingPointsSample={},g.count&&(S.overlappingPointsSample.count=g.count);var y=this.getCompiledRoleForCartesianRoleKind(0);y&&(S.overlappingPointsSample.x={role:y});var C=this.getCompiledRoleForCartesianRoleKind(1);C&&(S.overlappingPointsSample.y={role:C})}return d.topNPerLevel&&(S.topNPerLevel={count:d.topNPerLevel.count,fallbackTopCount:d.topNPerLevel.fallbackTopCount}),S}},V.prototype.getCompiledRoleForCartesianRoleKind=function(d){var S=_.filter(this.roles,function(g){return g.cartesianKind===d});if(f.fF.assert(function(){return _.size(S)<=1},"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(S))return this.compileRole(S[0].name)},V}();function h(V,d,S){if(V||d||S)return!V||d||S?V||!d||S?V||d||!S?$.extend(V,d,S):S:d:V}var p=t(698129),n=t(98196),l=t(682324),r=t(351025),o=t(454262),a=t(411916),i=t(983172);function m(V){f.fF.assertValue(V,"options");var d=V.mappings;if(!d)return[];var S=V.roles||[],g=new u(V.queryDefn,V.queryProjections,V.schema,V.objectDescriptors,V.objectDefinitions,V.roles||[],V.featureSwitches,V.transformPluginService),y=new b(g,S);return _.map(d,function(C){return y.compileMapping(C)})}var u=function(){function V(d,S,g,y,C,E,M,P){this.featureSwitches=M,this.transformPluginService=P,f.fF.assertValue(d,"queryDefn"),f.fF.assertValue(S,"queryProjections"),f.fF.assertValue(g,"schema"),f.fF.assertAnyValue(y,"objectDescriptors"),f.fF.assertAnyValue(C,"objectDefinitions"),f.fF.assertValue(E,"roles"),f.fF.assertValue(P,"transformPluginService"),this.queryDefn=d,this.queryProjections=S,this.schema=g,this.objectDescriptors=y,this.objectDefinitions=C,this.roles=E,this.exprEvaluationContext=i.m.buildExprEvaluationContext(this.queryDefn.from())}return V.prototype.compileRole=function(d,S){var g=this;f.fF.assertValue(d,"role");var y,C=this.queryDefn.select(),E=this.queryProjections[d],M=(0,s.rC)(this.roles,d);if(E&&E.all().length>0){var P=!1;M&&(P=(0,a._T)(this.schema,this.queryDefn,this.queryProjections,M.name));var T=this.getScalarKeyRoleItemQueryRef(E);y=_.map(E.all(),function(D){var L=D.queryRef===T,F=C.withName(D.queryRef);return F&&g.createDataViewRoleItem(F,M,P,L,D.hidden)}),_.some(y,function(D){return null==D})&&(f.fF.assertFail("Some projections aren't in the query select"),y=_.filter(y,function(D){return null!=D})),f.fF.assert(function(){return y.filter(function(D){return D.scalarKeyInfo&&D.scalarKeyInfo.hasScalarKey}).length<=1},"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var x={role:d,items:y},R=this.queryProjections[d];return R&&(R.showAll&&(x.showAll=!0),R.activeProjectionRefs&&(x.activeItems=R.activeProjectionRefs)),S&&(x.aggregates=_.cloneDeep(S)),x},V.prototype.getScalarKeyRoleItemQueryRef=function(d){f.fF.assertValue(d,"projections"),f.fF.assertValue(!_.isEmpty(d.all()),"projections.all");var S=d.activeProjectionRefs;return _.isEmpty(S)?d.all()[0].queryRef:_.last(S)},V.prototype.createDataViewRoleItem=function(d,S,g,y,C){var E;f.fF.assertValue(d,"select");var M={queryName:d.name},P=this.tryGetExprType(d.expr);if(P&&(M.type=P),S&&null!=S.joinPredicate)M.joinPredicate=S.joinPredicate;else if((0,e.Im)(d.expr)){var T=this.queryDefn.transforms();if(!_.isEmpty(T))for(var x=!1,R=0,D=T;R<D.length;R++){var F=null===(E=this.transformPluginService.getTransformPlugin(D[R].algorithm))||void 0===E?void 0:E.outputRoles;if(!_.isEmpty(F))for(var A=0,O=F;A<O.length;A++){var N=O[A];if(N.algorithmRole===d.expr.role&&null!=N.joinPredicateBehavior){M.joinPredicate=N.joinPredicateBehavior,x=!0;break}}if(x)break}}return M.scalarKeyInfo={hasScalarKey:g&&y},M.hidden=C,M},V.prototype.tryGetExprType=function(d){f.fF.assertValue(d,"expr");var S=d.getMetadata(this.schema,this.exprEvaluationContext);if(S)return S.type},V.prototype.compileMetadata=function(){for(var d={columns:[]},S=this.queryDefn.orderBy(),g=function(w){var I=_.find(S,function(j){return(0,c.fS)(j.expr,w.expr)}),B=i.m.getParameterMetadata(w.expr,y.schema);d.columns.push({displayName:void 0,queryName:w.name,type:y.tryGetExprType(w.expr),sort:I&&I.direction,parameter:B})},y=this,C=0,E=this.queryDefn.select();C<E.length;C++)g(E[C]);var T=this.objectDefinitions;if(!T||!this.objectDescriptors)return d;var x=(0,n.Me)(T),R=(0,r.X)(),D=(0,v.Ue)();if(_.isEmpty(x.metadataOnce)||(L=this.evaluateMetadataOnceObjects(x.metadataOnce,R,D))&&(d.objects=L),!_.isEmpty(x.metadata))for(var F=0,A=d.columns;F<A.length;F++){var L,O=A[F];(L=this.evaluateMetadataObjects(O,x.metadata,R,D))&&(O.objects=L)}return d},V.prototype.evaluateMetadataOnceObjects=function(d,S,g){for(var y,C,E=new l.Q(this.featureSwitches,g),M=0,P=d;M<P.length;M++){var T=P[M],x=T.selector&&T.selector.id,R=null===(y=T.selector)||void 0===y?void 0:y.order,D=(0,n.PJ)(E,S,this.objectDescriptors,T.objects);D&&(C||(C={}),(0,p.PM)(C,D,x,R))}return C},V.prototype.evaluateMetadataObjects=function(d,S,g,y){for(var C,E=new l.Q(this.featureSwitches,y),M=0,P=S;M<P.length;M++){var T=P[M],x=T.selector;if(x.metadata&&x.metadata===d.queryName){var R=(0,n.PJ)(E,g,this.objectDescriptors,T.objects);R&&(C||(C={}),(0,p.PM)(C,R,x.id,x.order))}}return C},V.prototype.compileScriptDefinition=function(d,S){f.fF.assertValue(d,"mapping");var g=(0,o.Uo)(this.queryProjections,this.queryDefn.select(),this.schema,d,S.objects);return{source:d.source,provider:d.provider,scriptInput:g,scriptSourceDefault:d.scriptSourceDefault,scriptProviderDefault:d.scriptProviderDefault,scriptOutputType:d.scriptOutputType}},V}()},460564:function(Je,H,t){t.d(H,{Az:function(){return b},Ho:function(){return l},KB:function(){return h},fg:function(){return f},p5:function(){return s}});var e=t(693825),c=t(787941),s="*";function f(r,o,a,i,m){return c.fF.assertValue(m,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),v(m[r],o,a,i)||v(m[s],o,a,i)||{objectName:o,propertyName:a}}function v(r,o,a,i){var m=r&&r[o]&&r[o][a];if(m){for(var u=m.currentId;m&&(0,e.lt)(i,m.version);)u=m.previousId,m=m.previous;return u}}function b(r,o,a,i,m,u){return h(r,o,null,a,i,m,u,function(){return!1})===e.aD}function h(r,o,a,i,m,u,V,d){return c.fF.assertValue(r,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,e.Fp)(p(r[s],m,u,o,a,V,d),p(r[i],m,u,o,a,V,d))}function p(r,o,a,i,m,u,V){var d=r&&r[o];return d?(0,e.Fp)(n(d[s],i,m,u,V),n(d[a],i,m,u,V)):e.aD}function n(r,o,a,i,m){if(!r)return e.aD;for(var u=function(g){var y=r[g];if(c.fF.assert(function(){return!g||!(0,e.lt)(y.version,r[g-1].version)},"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,e.lt)(i,y.version))return"break";var C=y.property.matchByContents;return C&&!C(o,a)||y.property.isExprBound&&!m()?void 0:{value:y.version}},V=r.length-1;V>=0;V--){var d=u(V);if("object"==typeof d)return d.value;if("break"===d)break}return e.aD}function l(r,o,a){var i,m,u=r[a];if(u){var V=u[o.objectName];if(V)return _.reduce(V[o.propertyName],function(S,g){return g.property.matchByContents||g.property.isExprBound?S:(0,e.Fp)(S,g.version)},null!==(m=null===(i=V["*"])||void 0===i?void 0:i[0].version)&&void 0!==m?m:e.aD)}return e.aD}},722972:function(Je,H,t){t.d(H,{lr:function(){return s}});var e=t(787941),c=t(238435);function s(o,a){e.fF.assertValue(o,"mappings"),e.fF.assertValue(a,"indicesByName");var i=o.length;if(1===i)return{mapping:o[0]};for(var m,u=[],V=o[0].updateType,d=0;d<i;d++){var S=o[d];if(V=f(S.updateType,V),!S.categorical)return;0===d&&(m={metadata:S.metadata,categorical:{}}),v(m.categorical,S.categorical),u.push(l(a,S.categorical))}return m.updateType=V,{mapping:m,splits:u}}function f(o,a){return null===o||0===o||null===a||0===a?0:o===a?o:1===o||1===a?1:2}function v(o,a){if(a.categories)if(o.categories){var i=function(o,a){if(e.fF.assertValue(o,"target"),e.fF.assertValue(a,"source"),!o&&!a)return!0;if(o&&a){if(!o.categories&&!a.categories)return!0;if(o.categories&&a.categories){var i=o.categories,m=a.categories;return!!h(i.dataReductionAlgorithm,m.dataReductionAlgorithm)&&(i.bind||m.bind?_.isEqual(i.bind,m.bind):i.for||m.for?_.isEqual(i.for,m.for):!i.select&&!m.select||_.isEqual(i.select,m.select))}}return!1}(o,a);e.fF.assert(function(){return i},"target.categories & source.categories must match when multiple mappings are used.")}else o.categories=a.categories;if(null!=a.dataVolume||null!=o.dataVolume){var m=Math.max(a.dataVolume||0,o.dataVolume||0);a.dataVolume=o.dataVolume=m}if(a.dataReductionAlgorithm)if(o.dataReductionAlgorithm){var u=h(a.dataReductionAlgorithm,o.dataReductionAlgorithm);e.fF.assert(function(){return u},"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else o.dataReductionAlgorithm=a.dataReductionAlgorithm;if(a.values){var V=o.values;V||(V=o.values={});var d=a.values,S=d.group;if(function(o,a){(a.bind||a.for)&&(o.select||(o.select=[]),o.select.push(a))}(V,d),n(V,d.select),S){var g=o.values.group;g?n(g,S.select):o.values.group={select:S.select.concat([]),by:S.by,dataReductionAlgorithm:S.dataReductionAlgorithm}}}}function h(o,a){return!o||!a||_.isEqual(o,a)}function n(o,a){var i;a&&(o.select||(o.select=[]),(i=o.select).push.apply(i,a||[]))}function l(o,a){var i={selects:{}},m={visitRole:function(V){return function(o,a,i){e.fF.assertValue(o,"split"),e.fF.assertValue(a,"indicesByName"),e.fF.assertValue(i,"role");var m=i.items;if(!_.isEmpty(i.items))for(var u=[],V=0,d=m;V<d.length;V++){var y=a[d[V].queryName];u[y]||(o.selects[y]=!0,u[y]=!0)}}(i,o,V)}};return(0,c.Sr)(a.categories,m),(0,c.vS)(a.values,m),(0,c.fl)(a.values,m),i}},934068:function(Je,H,t){t.d(H,{fz:function(){return p},v4:function(){return n}});var e=t(883863),c=t(787941),s=t(261374),f=t(690016),v=t(524878),b=t(592042),h=t(516469);function p(A){return c.fF.assertValue(A,"loc"),{kpiGoalFmt:A.get("KpiGoalDisplayName"),kpiStatusFmt:A.get("KpiStatusDisplayName"),kpiTrendFmt:A.get("KpiTrendDisplayName")}}function n(A,O,N,w){var I=new v.ud;I.name=O,I.cubeName=w,I.entities=(0,e.bv)(),A.canEdit&&(A.Capabilities||(A.Capabilities={}),A.Capabilities.CanEdit=A.canEdit),I.capabilities=function(A){return{canEdit:A&&A.CanEdit||!1,discourageQueryAggregateUsage:A&&A.DiscourageQueryAggregateUsage||!1,isExtendable:A&&A.IsExtendable||!1,isQnaEnabled:A&&A.IsQnaEnabled||!1,normalizedFiveStateKpiRange:A&&A.NormalizedFiveStateKpiRange||!1,supportsMedian:A&&A.SupportsMedian||!1,supportsPercentile:A&&A.SupportsPercentile||!1,supportsScopedEval:A&&A.SupportsScopedEval||!1,supportsStringMinMax:A&&A.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:A&&A.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:A&&A.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:A&&!1!==A.SupportsCalculatedColumns||!1,supportsGrouping:A&&!1!==A.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:A&&A.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:A&&A.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:A&&A.SupportsOverlappingPointsSample||!1,supportsQna:A&&A.SupportsQna||!1,supportsInstanceFilters:A&&A.SupportsInstanceFilters||!1,supportsDataSourceVariables:A&&A.SupportsDataSourceVariables||!1,insights:A?L(A.Insights):{},supportsFastRefresh:A&&A.SupportsFastRefresh||!1,supportsSubqueryRegrouping:A&&A.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:A&&A.SupportsTopNPerLevel||!1,supportsExtensionColumns:A&&A.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:A&&A.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:A&&A.SupportsGroupSynchronization||!1,supportsScopedDataReduction:A&&A.SupportsScopedDataReduction||!1,transformCapabilities:F(A&&A.TransformCapabilities),supportChangeDetectionMeasureRefresh:A&&A.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:A&&A.SupportsSparklineData||!1,supportsVisualCalculations:A&&A.SupportsVisualCalculations||!1}}(A.Capabilities);for(var B=0,j=A.Entities;B<j.length;B++)I.entities.push(l(j[B],I.capabilities,N));for(var U=0,k=A.Entities.length;U<k;++U)P(I.entities[U],A.Entities[U],I.entities);return I}function l(A,O,N){for(var w=A.Capabilities,I=A.Source,B={name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,visibility:M(A.Hidden,A.ShowAsVariationsOnly,A.Private),calculated:A.Calculated,queryable:A.Queryable,properties:(0,e.bv)(),hierarchies:(0,e.bv)(),displayFolders:(0,e.bv)(),navigationProperties:(0,e.bv)(),errorMessage:A.ErrorMessage,isDateTable:!0===A.IsDateTable,isCalculationGroup:A.IsCalculationGroup,source:{mode:I&&I.Mode,refreshedTime:I&&I.RefreshedTime,directQuerySourceType:I&&I.DirectQuerySourceType,directQuerySourceName:I&&I.DirectQuerySourceName},capabilities:{canRefresh:!w||!1!==w.CanRefresh,canHaveMeasures:!w||!1!==w.CanHaveMeasures,canEditSource:O.canEdit&&(!w||!1!==w.CanEditSource),canRename:O.canEdit&&(!w||!1!==w.CanRename),canDelete:O.canEdit&&(!w||!1!==w.CanDelete),canEditStorageMode:O.canEdit&&(!w||!1!==w.CanEditStorageMode),supportsClustering:O.canEdit&&(!w||!1!==w.SupportsClustering),supportsBinByCount:O.canEdit&&(!w||!1!==w.SupportsBinByCount),limitOnNumberOfGroups:w&&w.LimitOnNumberOfGroups||null,dataView:w&&w.DataView||null}},j=0,W=A.Properties;j<W.length;j++)B.properties.push(V(W[j]));c.fF.assert(function(){return B.properties.length===A.Properties.length},"Converted schema properties array is not the expected length.");for(var k=0,Q=A.Properties.length;k<Q;++k){var te=B.properties[k],ee=A.Properties[k];c.fF.assertValue(te,"no result property for contract property"),te.canDelete=O.canEdit&&!1!==ee.CanDelete;var J=ee.Column;if(J){var re=te.column=te.column||{};J.Keys&&(re.keys=i(J.Keys,B.properties)),J.OrderBy&&(re.orderBy=i(J.OrderBy,B.properties))}var G=ee.Measure;if(G){var ne=te.measure=te.measure||{};if(ne.canEdit=!1!==G.canEdit,G.FormatBy&&(ne.formatBy=G.FormatBy),G.Kpi){var X=ne.kpi=m(G.Kpi,B.properties,O);u(X.goal,te,1,N),u(X.status,te,0,N),u(X.trend,te,3,N)}G.Template&&(ne.template={name:G.Template.DaxTemplateName}),G.ChangeDetectionMetadata&&(ne.changeDetectionMetadata={refreshInterval:G.ChangeDetectionMetadata.RefreshInterval}),null!=G.DistributiveAggregate&&(ne.distributiveAggregate=G.DistributiveAggregate)}}if(A.Hierarchies)for(var oe=0,Ve=A.Hierarchies;oe<Ve.length;oe++)B.hierarchies.push(o(Ve[oe],B.properties));if(A.DisplayFolders)for(var Qe=0,He=A.DisplayFolders;Qe<He.length;Qe++)B.displayFolders.push(r(He[Qe],B.properties,B.hierarchies));return A.DefaultLabelColumnRef&&(B.defaultLabel=B.properties.withName(A.DefaultLabelColumnRef)),A.DefaultFieldPropertyRefs&&(B.defaultFields=_.map(A.DefaultFieldPropertyRefs,function(de){return B.properties.withName(de)})),B}function r(A,O,N){var w={name:A.Name,displayName:A.DisplayName||A.Name,description:A.Description,properties:(0,e.bv)(),hierarchies:(0,e.bv)(),displayFolders:(0,e.bv)()};if(A.DisplayItems)for(var I=0,B=A.DisplayItems;I<B.length;I++){var j=B[I];j.PropertyRef&&O?w.properties.push(O.withName(j.PropertyRef)):j.HierarchyRef&&N?w.hierarchies.push(N.withName(j.HierarchyRef)):j.DisplayFolder&&w.displayFolders.push(r(j.DisplayFolder,O,N))}return w}function o(A,O){for(var N={name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,hidden:A.Hidden,levels:(0,e.bv)(),canDelete:!1!==A.CanDelete},w=0,I=A.Levels;w<I.length;w++)N.levels.push(a(I[w],O));return N}function a(A,O){return{name:A.Name,displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,column:O.withName(A.Column),canDelete:!1!==A.CanDelete}}function i(A,O){c.fF.assertValue(A,"names"),c.fF.assertValue(O,"properties");for(var N=(0,e.bv)(),w=0,I=A;w<I.length;w++)N.push(O.withName(I[w]));return N}function m(A,O,N){var w=N.normalizedFiveStateKpiRange,I={statusMetadata:{graphic:A.StatusGraphic,normalizedFiveStateKpiRange:w},status:O.withName(A.Status),goal:O.withName(A.Goal),trend:O.withName(A.Trend)};return A.TrendGraphic&&(I.trendMetadata={graphic:A.TrendGraphic,normalizedFiveStateKpiRange:w}),I}function u(A,O,N,w){if(A){var I=O.displayName;switch(N){case 1:I=(0,s.W)(w.kpiGoalFmt,I);break;case 0:I=(0,s.W)(w.kpiStatusFmt,I);break;case 3:I=(0,s.W)(w.kpiTrendFmt,I);break;default:c.fF.assertFail("Unsupported Kpi Type")}A.displayName=I,A.hidden=!1,A.kpiValue=O}}function V(A){return c.fF.assertValue(A,"contract"),{displayName:A.DisplayName||A.Name,stableName:A.StableName,description:A.Description,name:A.Name,type:b.Ge.fromPrimitiveTypeAndCategory(A.DataType,A.DataCategory),column:A.Column?d(A.Column):null,kind:E(A),format:A.FormatString,hidden:A.Hidden,isPrivate:A.Private,queryable:A.Queryable,errorMessage:A.ErrorMessage}}function d(A){c.fF.assertValue(A,"contract");var O={defaultAggregate:A.DefaultAggregate,idOnEntityKey:A.IdOnEntityKey,calculated:A.Calculated,variations:(0,e.bv)(),aggregateBehavior:A.AggregateBehavior};return void 0!==A.DefaultValue&&(O.defaultValue=(0,h.bE)(A.DefaultValue)),O}function S(A,O){return c.fF.assertValue(A,"contract"),c.fF.assertValue(O,"entity"),{kind:null!=A.Kind?A.Kind:0,mappedMParameterNames:A.MappedMParameterNames,supportsMultipleValues:A.SupportsMultipleValues,supportsSelectAll:A.SupportsSelectAll}}function g(A,O){c.fF.assertValue(A,"contract"),c.fF.assertValue(O,"entity");var N={groupedColumns:_.map(A.GroupedColumns,function(w){return w.ColumnRef&&!w.LevelRef?O.properties.withName(w.ColumnRef):w.LevelRef&&!w.ColumnRef?O.hierarchies.withName(w.LevelRef.Hierarchy).levels.withName(w.LevelRef.Level):void c.fF.assertFail("unknown ClientConceptualGroupedColumnContainer")})};return A.BinningMetadata&&(N.binningMetadata=function(A){c.fF.assertValue(A,"contract");var O={};return A.BinSize&&(O.binSize=function(A){return c.fF.assertValue(A,"contract"),{value:A.Value,unit:A.Unit}}(A.BinSize)),O}(A.BinningMetadata)),N}function E(A){return A.Measure?1:0}function M(A,O,N){var w=0;return A&&(w|=1),O&&(w|=2),N&&(w|=4),w}function P(A,O,N){var w,I,B;if(c.fF.assertValue(A,"entity"),c.fF.assertValue(O,"contract"),c.fF.assertValue(N,"entities"),O.NavigationProperties)for(var j=0,W=O.NavigationProperties;j<W.length;j++)A.navigationProperties.push(T(W[j],A,N));if(O.Properties)for(var k=0,Q=O.Properties.length;k<Q;++k){var te=O.Properties[k],ee=te.Column;if(ee&&ee.Variations&&x(A.properties[k].column,ee,A),ee&&ee.GroupingMetadata&&(A.properties[k].column.groupingMetadata=g(ee.GroupingMetadata,A)),ee&&ee.ParameterMetadata){var J=S(ee.ParameterMetadata,A);if(A.properties[k].column.parameterMetadata=J,2===J.kind)for(var re=0,G=A.properties;re<G.length;re++){var ne=G[re];if(null!==(w=null==ne?void 0:ne.column)&&void 0!==w&&w.keys&&1===ne.column.keys.length&&null!=(null===(B=null===(I=ne.column.keys[0].column)||void 0===I?void 0:I.parameterMetadata)||void 0===B?void 0:B.kind)&&2===ne.column.keys[0].column.parameterMetadata.kind){ne.column.parameterMetadata=J;break}}}var X=te.Measure;X&&!_.isEmpty(X.DistributiveBy)&&(A.properties[k].measure.distributiveBy=_.map(X.DistributiveBy,function(oe){return N.withName(oe)}))}}function T(A,O,N){c.fF.assertValue(A,"contract");var w={name:A.Name,isActive:A.Active,sourceColumn:null,targetEntity:N.withName(A.TargetEntity),sourceMultiplicity:A.SourceMultiplicity,targetMultiplicity:A.TargetMultiplicity,behavior:A.Behavior||0,crossFilterDirection:f.b$.valueOrDefault(A.CrossFilterDirection,0)};if(A.SourceColumn){var I=O.properties.withName(A.SourceColumn);I&&(w.sourceColumn=I.column)}return w}function x(A,O,N){c.fF.assertValue(A,"column"),c.fF.assertValue(O,"contract");for(var w=0,I=O.Variations;w<I.length;w++)A.variations.push(R(I[w],N))}function R(A,O){c.fF.assertValue(A,"contract");var N={name:A.Name,isDefault:A.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},w=O;return A.NavigationProperty&&(N.navigationProperty=O.navigationProperties.withName(A.NavigationProperty),w=N.navigationProperty.targetEntity),A.DefaultHierarchy&&(N.defaultHierarchy=w.hierarchies.withName(A.DefaultHierarchy)),A.DefaultProperty&&(N.defaultProperty=w.properties.withName(A.DefaultProperty)),N}function L(A){return A?{supportsDistributionFactors:A.SupportsDistributionFactors||!1,supportsExplainChange:A.SupportsExplainChange||!1,supportsExplore:A.SupportsExplore||!1,supportsKeyDrivers:A.SupportsKeyDrivers||!1,supportsRelatedInsights:A.SupportsRelatedInsights||!1,supportsDecomposition:A.SupportsDecomposition||!1,supportsExplainAnomalies:A.SupportsExplainAnomalies||!1,supportsCompatibleFields:A.SupportsCompatibleFields||!1,supportsQuerySuggestions:A.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:A.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:A.SupportsGenerateSummaries||!1}:{}}function F(A){return A?{supportedTransforms:A.SupportedTransforms}:{supportedTransforms:[]}}},641324:function(Je,H,t){t.d(H,{No:function(){return o},U6:function(){return a}});var e=t(226514),c=t(795120),s=t(160557),f=t(853811),v=t(249484),b=t(787941),h=t(327260),p=t(572643),n=t(419644),l=t(934068);function o(u,V,d,S,g,y,C){return new m(u,V,d,S,g,y,C)}function a(u,V,d,S,g){return new i(u,V,d,S,g)}var i=function(){function u(V,d,S,g,y){this.httpService=V,this.promiseFactory=d,this.uri=S,this.featureSwitches=g,this.preloadConceptualSchemaService=y}return u.prototype.execute=function(V,d){var C,E,M,S=this,g=this.featureSwitches&&this.featureSwitches().telemetryV2,y=this.promiseFactory.defer(g);return d.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(C=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),E=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),M=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(V)===M&&this.uri===E&&C?(C.then(function(P){1!==P.schemas.length||P.schemas[0].modelId!==V.modelIds[0]||P.error?S.httpExecute(V,d,y):((0,v.bF)(S.uri,d.event.info),y.resolve({requestId:S.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:P.schemas}))},function(P){S.httpExecute(V,d,y)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(V,d,y),y.promise},u.prototype.httpExecute=function(V,d,S){var g=this;this.httpService.post(this.uri,V,this.httpService.powerbiRequestOptions(d.event,"GetConceptualSchema")).then(function(y){g.setTelemetryEventInfo(d.event,y),S.resolve({requestId:y.responseRequestId||y.requestId,schemas:y.data.schemas})},function(y){var C=y||{};g.setTelemetryEventInfo(d.event,C),S.reject({requestId:C.responseRequestId||C.requestId,error:C.error,status:C.status,schemas:void 0})})},u.prototype.setTelemetryEventInfo=function(V,d){V.info.clientAndServerRequestIdMatch=(0,v.Cx)(d),V.info.responseRequestId=(0,v.yC)(d),V.info.requestId=d.requestId,(0,v.bF)(this.uri,V.info)},u}(),m=function(){function u(V,d,S,g,y,C,E){this.promiseFactory=V,this.telemetryService=d,this.localeProvider=S,this.conceptualSchemaProxyCommunication=g,this.locOptions=y,this.featureSwitches=C,this.embedModeService=E,b.fF.assertValue(V,"promiseFactory"),b.fF.assertValue(g,"conceptualSchemaProxyCommunication"),b.fF.assertValue(y,"locOptions")}return u.prototype.execute=function(V){var d=this;b.fF.assertValue(V,"options");var S=V.dataSources;b.fF.assertNonEmpty(S,"dataSources");var g=this.featureSwitches&&this.featureSwitches().telemetryV2;if(!S||S.length>1)return this.promiseFactory.reject({},g);var y=this.promiseFactory.defer(g),C=_.map(S,function(x){return x.name}),E={modelIds:_.map(S,function(x){return x.id}),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};S.some(function(x){return x.perspectiveId})&&(E.perspectiveIds=_.map(S,function(x){return x.perspectiveId}));var P=JSON.stringify(E.modelIds);g&&(0,f.Hi)(n.sS,{datasetIds:P});var T=this.telemetryService.startEvent(n.oj,{endPoint:"",datasetIds:P,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription()});return this.conceptualSchemaProxyCommunication.execute(E,T).then(function(x){return d.onSuccess(x,C,y,T)},function(x){return d.onError(x,y,T)}),y.promise},u.prototype.transform=function(V){var d=V;if(!d.data)return{schema:null,error:d.error};var S=d.data;b.fF.assertValue(S,"schemaResponse");var g=S.schemas;b.fF.assertNonEmpty(g,"schemaResponses");var y=d.schemaNames;b.fF.assert(function(){return y.length===g.length},"schemaNames.length === schemaResponsess.length");for(var C={},E=0,M=g.length;E<M;E++){var P=y[E];C[P]=(0,l.v4)(g[E].schema,P,this.locOptions,g[E].cubeName)}return{schema:new p.l({schemas:C})}},u.prototype.onSuccess=function(V,d,S,g){if(_.isEmpty(V.schemas))this.onError(V,S,g);else{for(var y=0,C=V.schemas;y<C.length;y++){var M=C[y].error;if(M){S.reject({data:null,error:{requestId:V.requestId,serviceError:M,clientError:null,ignorable:!0}});var P=(0,s.W2)(M);return P.asErrorCode=M.parameters&&M.parameters.ASErrorCode,void g.reject(P)}}S.resolve({data:V,schemaNames:d,error:null}),g.resolve()}},u.prototype.onError=function(V,d,S){var g=V.error;d.reject({data:null,error:{requestId:V.requestId,clientError:new h.n8(V.error)}}),S.reject((0,s.GB)(g,V.status))},(0,e.__decorate)([(0,c.U)(n.sS),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],u.prototype,"execute",null),u}()},987513:function(Je,H,t){t.d(H,{g:function(){return c},y:function(){return s}});var e=t(787941);function c(f){return e.fF.assertValue(f,"dataQuery"),e.fF.assertNonEmpty(f.Commands,"dataQuery.Commands must not be empty"),e.fF.assertValue(f.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),e.fF.assertValue(f.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),e.fF.assertValue(1===f.Commands.length||2===f.Commands.length&&(f.Commands[1].ScriptVisualCommand||f.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),f.Commands[0].SemanticQueryDataShapeCommand}function s(f){return e.fF.assert(function(){return f&&f.Commands&&f.Commands.length>0},"data query should not be empty"),f.Commands.length>1}},902360:function(Je,H,t){t.d(H,{p:function(){return T}});var e=t(641324),c=t(46997),s=t(226514),f=t(787941),v=t(690016),b=t(324356),h=t(334048),p=t(249679);function l(R){return function(D,L,F){var A={query:D,extensions:void 0,queryRewrites:L},O=new m(L,F);return A.query=D.rewrite(O),A.extensions=O.extensionSchema,A.queryRewrites=O.queryRewrites,A}}var m=function(R){function D(L,F){var A=R.call(this)||this;return A.queryRewrites=L,A.extensionSchema=F,A.existingEntityNames={},A.existingExtensionFieldNames={},f.fF.assertAnyValue(L,"queryRewrites"),f.fF.assertAnyValue(F,"extensionSchema"),A}return(0,s.__extends)(D,R),D.prototype.visitNativeMeasure=function(L){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,v.zE)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:1,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var F=_.find(this.nativeMeasuresTargetEntity.Measures,function(N){return N.DataType===L.dataType&&N.Expression===L.expression});if(F)return(0,b.mv)((0,b.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),F.Name);var A=(0,v.zE)(this.existingExtensionFieldNames,L.proposedName||"NativeMeasure");this.existingExtensionFieldNames[A]=!0;var O=(0,b.mv)((0,b.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),A);return this.nativeMeasuresTargetEntity.Measures.push({Name:A,DataType:L.dataType,Expression:L.expression}),O},D.prototype.visitNativeColumn=function(L){this.ensureSchemaInitialized();var A=L.source.getTargetEntity(),O=_.find(this.extensionSchema.Entities,function(B){return B.Name===A.entity});O||this.extensionSchema.Entities.push(O={Name:A.entity,Extends:A.entity,Columns:[]}),O.Columns||(O.Columns=[]);var N=_.find(O.Columns,function(B){return B.DataType===L.dataType&&B.Expression===L.expression});if(N)return(0,b.Oh)((0,b.nw)(this.extensionSchema.Name,O.Name),N.Name);var w=(0,v.zE)(this.existingExtensionFieldNames,L.proposedName||"NativeColumn");this.existingExtensionFieldNames[w]=!0;var I=(0,b.Oh)((0,b.nw)(this.extensionSchema.Name,O.Name),w);return O.Columns.push({Name:w,DataType:L.dataType,Expression:L.expression,NamingBehavior:1}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:L,replacedExpr:I}}),I},D.prototype.ensureSchemaInitialized=function(){if(!this.schemaInitialized){this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:1,Extends:p.N8},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={};for(var L=0,F=this.extensionSchema.Entities;L<F.length;L++){var A=F[L];if(this.existingEntityNames[A.Name]=!0,A.Measures)for(var O=0,N=A.Measures;O<N.length;O++)this.existingExtensionFieldNames[N[O].Name]=!0;if(A.Columns)for(var I=0,B=A.Columns;I<B.length;I++)this.existingExtensionFieldNames[B[I].Name]=!0}this.schemaInitialized=!0}},D}(h.b),u=t(662950),V=t(820919),d=t(795120),S=t(419644),g=t(509775),y=t(565146),C=t(160557),E=t(249484),M=function(){function R(D,L,F,A,O,N,w,I,B){void 0===B&&(B=!1),this.useSynchronous=!1,f.fF.assertValue(D,"httpService"),f.fF.assertValue(F,"localeProvider"),f.fF.assertValue(L,"telemetryService"),f.fF.assertValue(A,"promiseFactory"),f.fF.assertValue(O,"uri"),this.httpService=D,this.impersonationStateProvider=N,this.promiseFactory=A,this.telemetryService=L,this.localeProvider=F,this.uri=O,this.featureSwitches=w,this.directToMwcConnectionInfoService=I,this.useSynchronous=B}return R.prototype.execute=function(D){for(var L,F,A,O,N,w=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),I=(0,V.u5)(D,this.localeProvider,this.impersonationStateProvider),B=0,j=D.enqueueActivities;B<j.length;B++)j[B].resolve();var U=this.featureSwitches&&this.featureSwitches().telemetryV2,k=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,Q=this.promiseFactory.defer(U),te=D.cacheOptions,ee=D.useSynchronous||this.useSynchronous,J=D.dataSources[0].dbName,re=!1;(!J||D.dataSources.length>1)&&(this.telemetryService.logEvent(g.jj,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),re=!0);var G=this.uri;if(ee||k){var ne={};if(ee&&(ne.synchronous="true"),k){var X=null===(N=null===(O=null===(A=null===(F=null===(L=D.queryOptions)||void 0===L?void 0:L[0])||void 0===F?void 0:F.applicationContext)||void 0===A?void 0:A.Sources)||void 0===O?void 0:O[0])||void 0===N?void 0:N.VisualId;X&&(ne.$httpBodyId=X)}G=(0,y.fS)(G,ne,!0)}var oe=G,Ve=w.authorizationHeaderOverride,Te=I.modelId;if(this.directToMwcConnectionInfoService){var Qe=this.directToMwcConnectionInfoService.checkModelConnectionInfo(Te);!Qe||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||re?this.sendHttpRequest(G,I,w,Q,te,D.queryActivities,ee):this.sendDirectToMwcRequestWithFallbackOnFailure(Qe,G,I,w,Q,Te,oe,Ve,te,J,D.queryActivities,ee)}else this.sendHttpRequest(G,I,w,Q,te,D.queryActivities,ee);return Q.promise},R.prototype.sendDirectToMwcRequestWithFallbackOnFailure=function(D,L,F,A,O,N,w,I,B,j,W,U){var k=this;L=D.capacityUri+"query",A.useMwcTokenAuthorization=!0,A.authorizationHeaderOverride=D.mwcToken;var Q=this.telemetryService.startEvent(S.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:U,cacheOptions:B});A.headers["x-ms-root-activity-id"]=A.headers.RequestId,A.headers["x-ms-parent-activity-id"]=A.headers.RequestId,A.headers["x-ms-workload-resource-moniker"]=j;for(var te=[],ee=0,J=W;ee<J.length;ee++){var G=J[ee].createChildActivity({name:"Query Executing"});G&&te.push(G)}this.httpService.post(L,F,A).then(function(ne){k.attachHttpMetadataToTelemetry(Q.event.info,ne,L),k.attachCacheMetadataToTelemetryDirectToMwc(Q.event,ne);var X=ne.headers("x-ms-mwc-throttling-delay");_.isEmpty(X)||k.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar();for(var oe=0,Ve=te;oe<Ve.length;oe++){var Te=Ve[oe];k.attachHttpMetadataToContextActivity(Te,ne),Te.resolve()}Q.resolve(),O.resolve(k.attachHttpMetadataToResult(ne))},function(ne){k.attachHttpMetadataToTelemetry(Q.event.info,ne,L),k.attachCacheMetadataToTelemetryDirectToMwc(Q.event,ne);for(var X=0,oe=te;X<oe.length;X++){var Ve=oe[X];k.attachHttpMetadataToContextActivity(Ve,ne),Ve.reject()}Q.reject((0,C.GB)(ne.error,ne.status)),k.directToMwcConnectionInfoService.removeModelConnectionInfo(N),A.authorizationHeaderOverride=I,A.useMwcTokenAuthorization=null,k.sendHttpRequest(w,F,A,O,B,W,U)})},R.prototype.sendHttpRequest=function(D,L,F,A,O,N,w){for(var I=this,B=this.telemetryService.startEvent(S.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:w,cacheOptions:O}),j=[],W=0,U=N;W<U.length;W++){var Q=U[W].createChildActivity({name:"Query Executing"});Q&&j.push(Q)}this.httpService.post(D,L,F).then(function(te){I.attachHttpMetadataToTelemetry(B.event.info,te,D);for(var ee=0,J=j;ee<J.length;ee++){var re=J[ee];I.attachHttpMetadataToContextActivity(re,te),re.resolve()}B.resolve(),A.resolve(I.attachHttpMetadataToResult(te))},function(te){I.attachHttpMetadataToTelemetry(B.event.info,te,D);for(var ee=0,J=j;ee<J.length;ee++){var re=J[ee];I.attachHttpMetadataToContextActivity(re,te),re.reject()}B.reject((0,C.GB)(te.error,te.status)),A.reject(I.attachHttpMetadataToResult(te))})},R.prototype.attachHttpMetadataToContextActivity=function(D,L){var F,A,O;D.isRunning()&&L.performanceTimings&&(D.setProperty("transferSize",null===(F=L.performanceTimings)||void 0===F?void 0:F.transferSize),D.setProperty("contentType",L.headers("content-type")),D.setProperty("httpStatus",L.status.toString()),D.setProperty("requestId",L.requestId),D.setProperty("requestStart",null===(A=L.performanceTimings)||void 0===A?void 0:A.requestStart),D.setProperty("responseStart",null===(O=L.performanceTimings)||void 0===O?void 0:O.responseStart),D.setProperty("start",L.performanceTimings.startTime),D.setProperty("end",L.performanceTimings.responseEnd))},R.prototype.attachHttpMetadataToTelemetry=function(D,L,F){D.endPoint=F,D.clientAndServerRequestIdMatch=(0,E.Cx)(L),D.responseRequestId=(0,E.yC)(L),D.requestId=L.requestId,D.status=L.status,L.performanceTimings&&(0,E.eQ)(L.performanceTimings,D)},R.prototype.attachCacheMetadataToTelemetryDirectToMwc=function(D,L){L.data.results&&(D.info.fromCache=_.reduce(L.data.results,function(F,A){return A.fromCache?++F:F},0),D.info.resultCount=L.data.results.length)},R.prototype.attachHttpMetadataToResult=function(D){if(D&&D.data){var L=D.data;return L.requestId=D.responseRequestId||D.requestId,L.httpStatusCode=D.status,L}return{jobIds:null,results:null,requestId:D.responseRequestId||D.requestId,httpStatusCode:D.status}},(0,s.__decorate)([(0,d.U)(S.Zq),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",Object)],R.prototype,"execute",null),R}();function T(R,D){var L=x(D.reader.communication)?function(R,D,L,F,A,O,N,w,I,B){return void 0===B&&(B=!1),new M(R,D,L,F,A,O,N,w,B)}(D.reader.communication.httpService,D.telemetryService,D.localeProvider,D.promiseFactory,D.reader.communication.uri,D.reader.communication.impersinationStateProvider,D.reader.featureSwitches,D.reader.directToMwcConnectionInfoService,0,D.useSynchronous):D.reader.communication,F=x(D.schemaReader.communication)?(0,e.U6)(D.schemaReader.communication.httpService,D.promiseFactory,D.schemaReader.communication.uri,D.reader.featureSwitches,D.schemaReader.preloadConceptualSchemaService):D.schemaReader.communication;R.dsr={name:"dsr",reader:function(N){return new c.i(N,L,D.telemetryService,D.reader.featureSwitches(),D.reader.timeoutService,D.reader.delayedQueryResultResolver,D.reader.preferredMaxConnections,D.queryContextProvider,D.appContextHostDataProvider)},queryGenerator:function(){return(0,u.Zl)(D.reader.featureSwitches())},schemaReader:function(){return(0,e.No)(D.promiseFactory,D.telemetryService,D.localeProvider,F,D.schemaReader.localizationOptions,D.reader.featureSwitches,D.embedModeService)},queryExtensionProvider:l}}function x(R){return _.isPlainObject(R)}},169170:function(Je,H,t){t.d(H,{A1:function(){return f},_8:function(){return v},nc:function(){return b}});var e=t(787941),c=t(592042),s=t(516469),f=function(){function h(){}return h.findAndParseCalculation=function(p,n){var l=this.findCalculation(p,n);if(l)return(0,s.H2)(l.Value)},h.findAndParseCalculationToSQExpr=function(p,n){var l=this.findCalculation(p,n);if(l)return(0,s.bE)(l.Value)},h.findCalculation=function(p,n){e.fF.assertValue(p,"calcs");for(var l=0,r=p.length;l<r;l++){var o=p[l];if(o.Id===n)return o}},h.describeDataType=function(p,n){var l=0;switch(p=p||0){case 2048:l=1;break;case 1:l=3;break;case 3:l=4;break;case 4096:l=5;break;case 20:l=6;break;case 4:l=7;break;case 8:l=9;break;case 67:l=4,e.fF.assert(function(){return!n||"Years"===n},"Unexpected category for Year type."),n="Years";break;case 35:l=4,e.fF.assert(function(){return!n||"Months"===n},"Unexpected category for Month type."),n="Months"}return c.Ge.fromPrimitiveTypeAndCategory(l,n)},h.getTopLevelSecondaryDynamicMember=function(p,n){e.fF.assertValue(p,"DsrV1.DataShape");var l=p.SecondaryHierarchy;return l?n&&n.Secondary?h.getDynamicMember(l,n.Secondary.Groupings,0):h.getDynamicMemberFallback(l):null},h.getTopLevelPrimaryDynamicMember=function(p,n,l){e.fF.assertValue(p,"DsrV1.DataShape");var o,r=p.PrimaryHierarchy;return r?(l&&(o=void 0!==p.Calculations),n&&n.Primary?h.getDynamicMember(r,n.Primary.Groupings,0,o):h.getDynamicMemberFallback(r,o)):null},h.getDynamicMember=function(p,n,l,r){if(e.fF.assertValue(p,"dataShapeMembers"),0===p.length)return null;if(!n||0===n.length)return h.getDynamicMemberFallback(p,r);var o=n[l].Member;if(!o)return h.getDynamicMemberFallback(p,r);for(var a=0,i=p;a<i.length;a++){var m=i[a];if(m.Id===o)return m}return null},h.getDynamicMemberFallback=function(p,n){return 2===p.length?p[1]:void 0===n||!0===n?p[0]:null},h.fillMetadataColumnAggregate=function(p,n,l){void 0===l&&(l=!0),e.fF.assertValue(n,"aggregateMetdata");var r=n.source.aggregates;switch(r||(n.source.aggregates=r={}),n.aggregateKind){case 1:return void(r.subtotal=p);case 2:return void(r.max=p);case 3:return void(r.min=p);case 4:return void(l||(r.single=p));case 5:return e.fF.assert(function(){return"number"==typeof p},"unexpected count calc value"),void(r.count=p);case 6:return void(r.average=p);case 8:return void(r.median=p);case 7:var o=n.aggregate.Percentile,a=r.percentiles;a||(a=r.percentiles=[]);var i={k:o.K,value:p};return null!=o.Exclusive&&(i.exclusive=o.Exclusive),void a.push(i);default:e.fF.assertFail("unknown AggregateKind")}},h.copyAggregates=function(p,n){e.fF.assertValue(p,"source Aggregates"),e.fF.assertValue(n,"target Aggregates"),void 0!==p.subtotal&&(n.subtotal=p.subtotal),void 0!==p.min&&(n.min=p.min),void 0!==p.max&&(n.max=p.max),void 0!==p.minLocal&&(n.minLocal=p.minLocal),void 0!==p.maxLocal&&(n.maxLocal=p.maxLocal),void 0!==p.count&&(n.count=p.count)},h.computeAggIdx=function(p,n,l,r){return p+(r-n)*(l+1)},h}(),v=function(){function h(){}return Object.defineProperty(h.prototype,"name",{get:function(){return"maxLocal"},enumerable:!1,configurable:!0}),h.prototype.update=function(p){if("number"==typeof p&&!isNaN(p)){var n=this.current;this.current=void 0===n?p:Math.max(n,p)}},h.prototype.value=function(){return this.current},h}(),b=function(){function h(){}return Object.defineProperty(h.prototype,"name",{get:function(){return"minLocal"},enumerable:!1,configurable:!0}),h.prototype.update=function(p){if("number"==typeof p&&!isNaN(p)){var n=this.current;this.current=void 0===n?p:Math.min(n||0,p)}},h.prototype.value=function(){return this.current},h}()},63931:function(Je,H,t){t.d(H,{$n:function(){return l},A:function(){return y},Af:function(){return r},HO:function(){return W},KO:function(){return L},Kb:function(){return i},LO:function(){return A},Lp:function(){return V},Lr:function(){return N},Ow:function(){return re},Tw:function(){return B},Z:function(){return U},Z4:function(){return E},ZO:function(){return d},_V:function(){return D},av:function(){return M},bD:function(){return x},bJ:function(){return k},d3:function(){return S},dN:function(){return o},dd:function(){return ee},de:function(){return T},dw:function(){return R},fD:function(){return m},hh:function(){return n},jK:function(){return u},jO:function(){return a},lR:function(){return j},qF:function(){return F},qf:function(){return w},vP:function(){return P},vc:function(){return p},wf:function(){return Q},wy:function(){return I},yB:function(){return g},yC:function(){return O},yz:function(){return C}});var h,e=t(641484),c=t(325333),s=t(787941),f=t(261374),v=t(690016),b=t(326621),p="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",n="DMTS_DatasourceHasNoCredentialError",l="DMTS_OAuthTokenRefreshFailedError",r="DM_GWPipeline_Client_GatewayUnreachable",o="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",a="DMTS_UserLostPermissionToDatasourceError",i="DMTS_UserNotFoundInADGraphError",m="DM_GWPipeline_Gateway_DataSourceAccessError",u="DM_GWPipeline_Gateway_ImpersonationError",V="DM_GWPipeline_Gateway_InvalidMashupConnectionString",d="DM_GWPipeline_Gateway_DatabaseLoginError",S="DM_GWPipeline_Gateway_SqlTimeoutException",g="DM_GWPipeline_Gateway_AdomdTimeoutException",y="DM_GWPipeline_Gateway_InvalidObjectNameException",C="DM_GWPipeline_Gateway_InvalidConnectionCredentials",E="DM_GWPipeline_Gateway_ConnectionBrokenException",M="DM_GWPipeline_Gateway_MemoryError",P="DM_GWPipeline_Gateway_MissingStructureError",T="DM_GWPipeline_Gateway_UnprocessedStructureError",x="DM_GWPipeline_Gateway_ModelLoadError",R="DM_GWPipeline_Gateway_CancellationError",D="DM_GWPipeline_Gateway_CancellationOrTimeoutError",L="DM_GWPipeline_Gateway_QueryExecutionError",F="DM_GWPipeline_Gateway_RecalculationRequiredError",A="DM_GWPipeline_Gateway_TimeoutError",O="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",N="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",w="DM_GWPipeline_Gateway_AdomdConnectError",I="DM_GWPipeline_Gateway_GatewayOverloadedMemory",B="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",j="DM_GWPipeline_Gateway_MashupDataAccessError",W="DM_GWPipeline_Gateway_DatabaseConnectError",U="DM_GWPipeline_Gateway_ServerUnreachable",k="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",Q="rsAccessDenied",te="azure:values",ee=function(G){return G.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",G.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",G.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",G.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",G.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",G.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",G.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",G.ModelUnavailable="ModelUnavailable",G.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",G.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",G.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",G.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",G.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",G.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",G.rsAccessDenied="rsAccessDenied",G.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",G.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",G.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",G.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",G.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",G.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",G.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",G.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",G.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",G.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",G.QueryExtensionMeasureError="QueryExtensionMeasureError",G.NativeVisualCalculationError="NativeVisualCalculationError",G.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",G.DataExtensionMissingResultSet="DataExtensionMissingResultSet",G.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",G.FabricThrottled="FabricThrottled",G.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",G.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",G.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",G.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",G.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",G.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",G.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",G.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",G.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",G.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",G.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",G.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",G.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",G.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",G.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",G.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",G.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",G.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",G.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",G.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",G.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",G.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",G.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",G.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",G.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",G.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",G.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",G.ParameterMappingFilterConflict="ParameterMappingFilterConflict",G.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",G.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",G.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",G}({}),J=((h={})[ee.ComplexSlicerNotAllowedWithMeasures]={localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},h[ee.ComplexHighlightsNotAllowed]={localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},h[ee.CouldNotResolveModelReferencesInSemanticQuery]={localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},h[ee.ExclusivePercentileOutOfRange]={localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},h[ee.InvalidDataShapeNoOutputData]={localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},h[ee.InvalidUnconstrainedJoin]={localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},h[ee.IsRelatedToManyNotSupportedForDetailTable]={localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},h[ee.AA_PowerBIScriptPayloadTooLargeError]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},h[ee.AA_PowerBIScriptResultTooLargeError]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},h[ee.AA_PowerBIScriptReturnedNoImageError]={localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},h[ee.AA_PowerBIScriptRuntimeErrorError]={localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},h[ee.AA_PowerBIScriptTimeoutError]={localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},h[ee.AA_PowerBIRequestsQueueOverflowError]={localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},h[ee.AA_PowerBIScriptRuntimeMaxMemoryError]={localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},h[ee.AA_PowerBIScriptRuntimeMaxDiskIOError]={localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},h[ee.AA_PowerBIScriptMissingDependencyError]={localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},h[ee.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]={localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},h[ee.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]={localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},h[ee.AA_PowerBIScriptMissingSpecificPackageError]={localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},h[ee.ModelMeasuresNotSupportedForDetailTable]={localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},h[ee.ModelUnavailable]={localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},h[ee.NoUniqueKeyForDetailTable]={localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},h[ee.OverlappingKeysOnOppositeHierarchies]={localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},h[ee.rsQueryMemoryLimitExceeded]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},h[ee.rsQueryTimeoutExceeded]={localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},h[ee.rsAccessDenied]={localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},h[ee.UnsupportedDateTimeLiteral]={localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},h[ee.InvalidExtensionDax_UnclosedBracketIdentifier]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},h[ee.InvalidExtensionDax_UnexpectedCloseParenthesis]={localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},h[ee.InvalidFilterComparisonIncompatibleExpressions]={localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},h[ee.InvalidFilterConditionIncompatibleDataType]={localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},h[ee.ExtensionMeasureEmptyExpression]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},h[ee.ExtensionMeasureNameNotUniqueModel]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},h[ee.ExtensionMeasureNameNotUnique]={localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},h[ee.CouldNotResolveModelReferencesInQueryExtensionSchema]={localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},h[ee.QueryExtensionMeasureError]={localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},h[ee.QueryExtensionMeasureUnexpectedEndOfUserInput]={localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},h[ee.NativeVisualCalculationError]={localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},h[ee.NativeVisualCalculationUnexpectedEndOfUserInput]={localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},h[ee.UnsupportedDataSourceVariables]={localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},h[ee.DataExtensionMissingResultSet]={localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},h[ee.ProxyModelChainLimitExceeded]={localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},h[ee.CannotUseMultiColumnFilteringWithMappedColumns]={localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.DifferentMappingsWithinSubqueries]={localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.FilterIncompatibleWithParameter]={localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.FoundMultipleTargetsWithAtLeastOneMapping]={localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.FoundParameterMappingOnUnsupportedFilter]={localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.InTableConditionNotSupportedWithMappedParameters]={localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.InvalidMappedParameterValueExpression]={localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.MappedTargetMustMatchMappedCondition]={localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.MixOfAssignedAndUnassignedColumnsWithinORExpression]={localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.MultipleParameterAssignmentsWithinORUnsupported]={localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.MultipleParameterMappingsUnsupported]={localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.ParameterMappingFilterConflict]={localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]={localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.ParameterMappingsNotSupportedOnHighlights]={localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.SingleValueParameterWithMultipleValues]={localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},h[ee.FabricThrottled]={localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},h),re=function(){function G(ne){this.oDataError=ne,this.oDataCode=this.parseCode()}return Object.defineProperty(G,"maxNumberOfCommaValues",{get:function(){return 9},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"code",{get:function(){return this.oDataCode},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"oDataErrorMessage",{get:function(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"source",{get:function(){switch(this.oDataError.source){case"PowerBI":return"PowerBI";case"External":return"External";case"Unknown":return;case"User":return G.isCodeKnown(this.code)?"User":void 0}s.fF.assertFail("unknown DsrClientError source: ".concat(this.oDataError.source))},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"AdditionalErrorMessages",{get:function(){if(this.oDataError){var X=this.oDataError[te];if(!_.isEmpty(X))for(var oe=0,Ve=X;oe<Ve.length;oe++){var Te=Ve[oe];if(!_.isEmpty(Te.additionalMessages))return Te.additionalMessages}}},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"powerBiErrorDetails",{get:function(){if(this.oDataError){var X=this.oDataError[te];if(!_.isEmpty(X))for(var oe=0,Ve=X;oe<Ve.length;oe++){var Te=Ve[oe];if(!_.isEmpty(Te.powerBiErrorDetails))return Te.powerBiErrorDetails}}},enumerable:!1,configurable:!0}),G.prototype.getDetails=function(ne){var X=this.oDataError[te],oe=null;if(X)for(var Ve=0,Te=X;Ve<Te.length;Ve++){var Qe=Te[Ve];if(Qe.details){oe=Qe.details;break}}var He=G.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,oe,this.AdditionalErrorMessages,ne),Ce=He.displayableErrorInfo[0].errorInfoKey;if(!G.isCodeKnown(this.code)&&oe&&(He.displayableErrorInfo=[]),oe){var de=0===He.displayableErrorInfo.length?Ce:ne.get("DsrError_MoreInfo");He.displayableErrorInfo.push({errorInfoKey:de,errorInfoValue:oe})}return G.isDynamicQueryParameterErrorCode(this.code)&&(He.hideDebugInfo=!0),He},G.getErrorDetailsFromStatusCode=function(ne,X,oe,Ve,Te){var Qe=Te.get("DsrError_Key"),He=Te.get("DsrError_UnknownErrorValue"),Ce=Te.get("DsrError_Message"),de=e.MF,pe=J[ne];pe&&(Qe=pe.localizedTitle?Te.get(pe.localizedTitle):Qe,He=G.getContent(ne,oe,Ve,pe,Te)||He,Ce=pe.localizedMessage?Te.get(pe.localizedMessage):Ce,de=pe.helpLink||de,pe.useODataErrorMessageAsContent&&(He=X||Ce));var me={message:Ce,displayableErrorInfo:[{errorInfoKey:Qe,errorInfoValue:He}],helpLink:de,debugErrorInfo:[]};return!pe&&ne&&me.debugErrorInfo.push({errorInfoKey:c.jK,errorInfoValue:ne}),(!pe||!pe.useODataErrorMessageAsContent)&&X&&me.debugErrorInfo.push({errorInfoKey:c.N6,errorInfoValue:X}),me},G.getContent=function(ne,X,oe,Ve,Te){if(Ve.localizedContentWithAffectedItemsAndPosition||Ve.localizedContentWithAffectedItemsAndPositionAndDetails){var Qe=G.findAdditionalMessageWithAffectedItemsAndPosition(ne,oe);if(Ve.localizedContentWithAffectedItemsAndPositionAndDetails&&X&&Qe)return(0,f.W)(Te.get(Ve.localizedContentWithAffectedItemsAndPositionAndDetails),(0,v.yQ)(Qe.AffectedItems,Te,G.maxNumberOfCommaValues),b.dx.formatValue(Qe.Line),b.dx.formatValue(Qe.Position),X);if(Ve.localizedContentWithAffectedItemsAndPosition&&Qe)return(0,f.W)(Te.get(Ve.localizedContentWithAffectedItemsAndPosition),(0,v.yQ)(Qe.AffectedItems,Te,G.maxNumberOfCommaValues),b.dx.formatValue(Qe.Line),b.dx.formatValue(Qe.Position))}if(Ve.localizedContentWithAffectedItems){var He=G.getAffectedItemsFromStatusCode(ne,oe);if(He.length>0)return(0,f.W)(Te.get(Ve.localizedContentWithAffectedItems),(0,v.yQ)(He,Te,G.maxNumberOfCommaValues))}if(Ve.localizedContent)return Te.get(Ve.localizedContent)},G.findAdditionalMessageWithAffectedItemsAndPosition=function(ne,X){return _.find(X,function(oe){return oe.Code===ne&&!_.isEmpty(oe.AffectedItems)&&null!=oe.Position&&null!=oe.Line})},G.getAffectedItemsFromStatusCode=function(ne,X){for(var oe=0,Ve=X;oe<Ve.length;oe++){var Te=Ve[oe];if(Te.Code===ne)return Te.AffectedItems||[]}return[]},G.prototype.parseCode=function(){var ne=this.oDataError.code,X=this.oDataError[te],oe=[];if(X)for(var Ve=0,Te=X;Ve<Te.length;Ve++){var Qe=Te[Ve];Qe.additionalMessages&&(oe=Qe.additionalMessages)}if(oe.length>0)for(var He=0,Ce=oe;He<Ce.length;He++){var de=Ce[He];if(G.isCodeKnown(de.Code)){ne=de.Code;break}}return ne},G.isCodeKnown=function(ne){return G.isGeneralKnownErrorCode(ne)||G.isDynamicQueryParameterErrorCode(ne)},G.isGeneralKnownErrorCode=function(ne){switch(ne){case ee.ComplexSlicerNotAllowedWithMeasures:case ee.ComplexHighlightsNotAllowed:case ee.ExclusivePercentileOutOfRange:case ee.InvalidDataShapeNoOutputData:case ee.InvalidFilterComparisonIncompatibleExpressions:case ee.InvalidFilterConditionIncompatibleDataType:case ee.InvalidUnconstrainedJoin:case ee.ModelUnavailable:case ee.OverlappingKeysOnOppositeHierarchies:case ee.rsQueryMemoryLimitExceeded:case ee.rsQueryTimeoutExceeded:case ee.CouldNotResolveModelReferencesInSemanticQuery:case ee.QueryExtensionMeasureUnexpectedEndOfUserInput:case ee.NativeVisualCalculationUnexpectedEndOfUserInput:case ee.rsAccessDenied:case ee.NoUniqueKeyForDetailTable:case ee.IsRelatedToManyNotSupportedForDetailTable:case ee.ModelMeasuresNotSupportedForDetailTable:case ee.UnsupportedDateTimeLiteral:case ee.InvalidExtensionDax_UnclosedBracketIdentifier:case ee.InvalidExtensionDax_UnexpectedCloseParenthesis:case ee.ExtensionMeasureEmptyExpression:case ee.ExtensionMeasureNameNotUniqueModel:case ee.ExtensionMeasureNameNotUnique:case ee.CouldNotResolveModelReferencesInQueryExtensionSchema:case ee.QueryExtensionMeasureError:case ee.NativeVisualCalculationError:case ee.UnsupportedDataSourceVariables:case ee.DataExtensionMissingResultSet:case ee.ProxyModelChainLimitExceeded:case ee.FabricThrottled:return!0;default:return!1}},G.isDynamicQueryParameterErrorCode=function(ne){switch(ne){case ee.CannotUseMultiColumnFilteringWithMappedColumns:case ee.DifferentMappingsWithinSubqueries:case ee.FilterIncompatibleWithParameter:case ee.FoundMultipleTargetsWithAtLeastOneMapping:case ee.FoundParameterMappingOnUnsupportedFilter:case ee.InTableConditionNotSupportedWithMappedParameters:case ee.InvalidMappedParameterValueExpression:case ee.MappedTargetMustMatchMappedCondition:case ee.MixOfAssignedAndUnassignedColumnsWithinORExpression:case ee.MultipleParameterAssignmentsWithinORUnsupported:case ee.MultipleParameterMappingsUnsupported:case ee.ParameterMappingFilterConflict:case ee.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case ee.ParameterMappingsNotSupportedOnHighlights:case ee.SingleValueParameterWithMultipleValues:return!0;default:return!1}},G}()},46997:function(Je,H,t){t.d(H,{i:function(){return Pe}});var e=t(787941),c=t(782504),s=t(226514),f=t(235635),v=t(160557),b=t(325333),h=t(327260),p=t(144900),n=t(419644),l=t(179582),r=function(){function ue(ve,xe){this.requestId=ve,this.errorCode=xe}return Object.defineProperty(ue.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),ue.prototype.getDetails=function(ve){return{message:ve.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:ve.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:ve.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:ve.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:b.zd,errorInfoValue:this.code}]}},ue}(),o=function(){function ue(){this._head=new a,this._tail=new a,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}return ue.prototype.insertToHead=function(ve){ve.next=this._head.next,ve.prev=this._head,this._head.next=ve,ve.next.prev=ve,this._length++},ue.prototype.head=function(){if(this._length>0)return this._head.next},ue.prototype.tail=function(){if(this._length>0)return this._tail.prev},ue.prototype.removeFromTail=function(){this._length>0&&this.remove(this._tail.prev)},ue.prototype.remove=function(ve){this._length<=0||void 0===ve.prev||void 0===ve.next||(ve.prev.next=ve.next,ve.next.prev=ve.prev,this._length--)},ue.prototype.length=function(){return this._length},ue}(),a=function(){return function(ve){void 0===ve&&(ve=void 0),this.value=ve}}(),i=function(){function ue(ve){this.cache={},this.capacity=ve,this.linkedList=new o}return ue.prototype.get=function(ve){if(ve in this.cache){var xe=this.cache[ve].value;return null==xe?void 0:xe.value}},ue.prototype.remove=function(ve){this.cache[ve]&&(this.linkedList.remove(this.cache[ve]),delete this.cache[ve])},ue.prototype.put=function(ve,xe){var ie=this;ve in this.cache&&this.remove(ve);var Fe=new u(ve,xe),at=new a(Fe);if(this.cache[ve]=at,this.linkedList.insertToHead(at),this.size()>this.capacity){e.fF.assert(function(){return ie.size()===ie.capacity+1},"cache has exceeded expected maximum capacity");var We=this.linkedList.tail();delete this.cache[We.value.key],this.linkedList.removeFromTail()}},ue.prototype.containsKey=function(ve){return ve in this.cache},ue.prototype.size=function(){return this.keys().length},ue.prototype.keys=function(){return Object.keys(this.cache)},ue.prototype.isFull=function(){return this.size()===this.capacity},ue}(),m=function(){function ue(ve){this.cache={},this.capacity=ve,this.linkedList=new o}return ue.prototype.get=function(ve){if(ve in this.cache){var xe=this.cache[ve];return this.linkedList.remove(xe),this.linkedList.insertToHead(xe),xe.value.value}},ue.prototype.remove=function(ve){ve in this.cache&&(this.linkedList.remove(this.cache[ve]),delete this.cache[ve])},ue.prototype.put=function(ve,xe){var ie=this;ve in this.cache&&this.remove(ve);var Fe=new u(ve,xe),at=new a(Fe);if(this.cache[ve]=at,this.linkedList.insertToHead(at),this.size()>this.capacity){e.fF.assert(function(){return ie.size()===ie.capacity+1},"cache has exceeded expected maximum capacity");var We=this.linkedList.tail();delete this.cache[We.value.key],this.linkedList.removeFromTail()}},ue.prototype.containsKey=function(ve){return ve in this.cache},ue.prototype.size=function(){return this.keys().length},ue.prototype.keys=function(){return Object.keys(this.cache)},ue.prototype.isFull=function(){return this.size()===this.capacity},ue}(),u=function(){return function(ve,xe){this.key=ve,this.value=xe}}(),d=function(){function ue(ve,xe,ie){this.cache=1===(ie||(ie=500),xe)?new m(ie):new i(ie),this.promiseFactory=ve}return ue.prototype.getEntryCount=function(){return this.cache.size()},ue.prototype.hasCacheEntry=function(ve){return e.fF.assertValue(ve,"cacheKey"),!!this.getCacheEntry(ve)},ue.prototype.createCacheEntry=function(ve,xe,ie,Fe,at){var We=this;e.fF.assertValue(ve,"cacheKey");var Oe=this.getCacheEntry(ve);if(ve&&!Oe){var Ze=this.promiseFactory,Ee=this.cache,K=Ze.defer(at),Ne=(0,f.w)(K),Y=Ze.defer(at),ye=(0,f.U)(Y);return this.appendCacheEntryInternal(ve,Oe={promise:ye,refCount:0,context:xe}),Ne.then(function(rt){Oe.updateResult&&(rt=Oe.updateResult(rt)),rt&&ie&&(rt=ie(rt)),Oe.result=Fe?Fe(rt):rt,Y.resolve(rt)},function(rt){return Y.reject(rt)}).finally(function(){delete Oe.updateResult}),ye.finally(function(){Ee.containsKey(ve)&&(delete Ee.get(ve).promise,ye.rejected()&&We.removeCacheEntryInternal(ve))}).catch(function(rt){return Ne.reject(rt)}),{deferred:K,promise:Ne}}},ue.prototype.clearEntry=function(ve,xe){var ie=this.getCacheEntry(ve);if(ie){var Fe=ie.promise;return xe&&Fe?Fe.reject():this.removeCacheEntryInternal(ve),!0}return!1},ue.prototype.clearAllEntries=function(ve){for(var xe=0,ie=this.cache.keys();xe<ie.length;xe++)this.clearEntry(ie[xe],ve)},ue.prototype.bindCacheEntry=function(ve,xe,ie){e.fF.assertValue(ve,"cacheKey");var Fe=this.getCacheEntry(ve);if(void 0!==Fe){var at=this.promiseFactory.defer(ie),We=(0,f.U)(at);if(Fe.result){var Oe=xe?xe(Fe.result):Fe.result;return at.resolve(Oe),We}var Ze=Fe.promise;if(!Ze)return at.reject(void 0),We;Fe.refCount++;var Ee=function(Ne){Fe.refCount--,0===Fe.refCount&&Ze.pending()&&Ze.reject(Ne)};return We.then(function(){return Ee()},function(K){return Ee(K)}),Ze.then(function(K){var Ne=xe?xe(K):K;at.resolve(Ne)},function(K){return at.reject(K)}),We}},ue.prototype.getEntryContext=function(ve){e.fF.assertValue(ve,"cacheKey");var xe=this.getCacheEntry(ve);if(xe)return xe.context},ue.prototype.keys=function(){return this.cache.keys()},ue.prototype.isFull=function(){return this.cache.isFull()},ue.prototype.rewriteAllEntries=function(ve){for(var xe=[],ie=!!ve.rewriteKey,Fe=!!ve.rewriteResult,at=this.cache,We=function(ye){if(ie){var rt=ve.rewriteKey(ye);rt!==ye&&xe.push({oldKey:ye,newKey:rt})}if(Fe){var it=at.get(ye);it&&(it.result&&ve.rewriteResult?it.result=ve.rewriteResult(it.result,ye):it.updateResult=function(Ue){return ve.rewriteResult&&ve.rewriteResult(Ue,ye)||Ue})}},Oe=0,Ze=at.keys();Oe<Ze.length;Oe++)We(Ze[Oe]);for(var K=0,Ne=xe.length;K<Ne;K++)this.changeCacheKey(xe[K].oldKey,xe[K].newKey)},ue.prototype.putCacheResult=function(ve,xe,ie){e.fF.assertValue(ve,"cacheKey");var Fe=this.getCacheEntry(ve);Fe?Fe.result?Fe.result=ie?ie(xe):xe:Fe.updateResult=function(){return xe}:e.fF.assertFail("cannot update no-existing cacheEntry for key '".concat(ve,"' with result '").concat(xe,"'"))},ue.prototype.appendCacheEntryInternal=function(ve,xe){this.cache.containsKey(ve)&&this.removeCacheEntryInternal(ve),this.cache.put(ve,xe)},ue.prototype.removeCacheEntryInternal=function(ve){this.cache.remove(ve)},ue.prototype.changeCacheKey=function(ve,xe){if(!xe)return this.clearEntry(ve,!0);if(this.hasCacheEntry(xe)||!this.hasCacheEntry(ve))return!1;var ie=this.getCacheEntry(ve);return this.removeCacheEntryInternal(ve),this.appendCacheEntryInternal(xe,ie),!0},ue.prototype.getCacheEntry=function(ve){var xe;if(e.fF.assertValue(ve,"cacheKey"),ve&&(xe=this.cache.get(ve))&&(xe.promise||xe.result))return xe},ue}(),S=t(826691),g=t(690016),y=t(159190),C=t(322487),E=t(987513);function M(ue){return e.fF.assert(function(){return ue&&ue.Commands&&ue.Commands.length>0},"data query should not be empty"),(0,E.y)(ue)?P(ue):T(ue.Commands[0].SemanticQueryDataShapeCommand)}function P(ue){if(e.fF.assert(function(){return!ue||(0,E.y)(ue)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ue)return JSON.stringify(ue)}function T(ue){if(ue)return JSON.stringify(ue)}var x=t(288115),R=t(474147),L=g.b$.generateGuid,A=function(){function ue(ve,xe,ie,Fe,at){this.featureSwitches=at,e.fF.assertValue(ve,"promiseFactory"),e.fF.assertValue(ie,"createQuery"),this.createQuery=ie,this.createCancelQuery=Fe,this.promiseFactory=ve,this.cacheByModel={},this.telemetryService=xe}return ue.prototype.ensure=function(ve){var ie,xe=this;e.fF.assertValue(ve,"options"),e.fF.assertValue(ve.command,"options.command");var Fe=ve.command;e.fF.assert(function(){return Fe&&Fe.Commands&&Fe.Commands.length>0},"data query should not be empty");var at=Fe.Commands[0].SemanticQueryDataShapeCommand,We=this.ensureCache(ve.dataSources),Oe=M(Fe);if(We.hasCacheEntry(Oe)){if(ue.allowResultFromClientCacheOrDefault(ve))return this.telemetryService.logEvent(n.s7,{cacheHit:!0,isCacheFull:We.isFull(),entryCount:We.getEntryCount()}),We.bindCacheEntry(Oe,void 0,ve.telemetryV2Enabled);We.clearEntry(Oe)}this.telemetryService.logEvent(n.s7,{cacheHit:!1,isCacheFull:We.isFull(),entryCount:We.getEntryCount()});var Ze=O(Fe,this.featureSwitches,Oe),Ee=this.findEquivalentCache(ve,We,Ze);if(Ee)return Ee;var Ne,K=(0,s.__assign)({},ve);K.queryId=Ze.queryId,K.executionType=0,null!==(ie=this.featureSwitches)&&void 0!==ie&&ie.queryContext&&(Ne=function(it){var Ue=xe.findQueryContext(K);if(!Ue)return it;var De=(0,s.__assign)({},it);return De.queryContext=Ue,De});var Y=We.createCacheEntry(Oe,Ze,Ne,ue.rewriteCachedResult,ve.telemetryV2Enabled);if(Y.promise.catch(function(rt){(0,b.Hx)(rt)||xe.featureSwitches&&xe.featureSwitches.queryCancellation&&xe.createCancelQuery({dataSources:K.dataSources,command:K.command,allowResultFromClientCache:K.allowResultFromClientCache,allowClientSideFilters:K.allowClientSideFilters,cacheResponseOnServer:K.cacheResponseOnServer,ignoreViewportForCache:K.ignoreViewportForCache,cacheOptions:K.cacheOptions,queryId:K.queryId,executionType:1},rt&&rt.queryCancellationSource)}),K.clientCacheOnly)return Y.promise.reject(new b.xs),Y.promise;this.createQuery(K,Y);var ye=We.bindCacheEntry(Oe,void 0,ve.telemetryV2Enabled);return!1===ve.cacheResponseOnClient&&We.clearEntry(Oe),at.Binding&&at.Binding.DataReduction&&(Te(at.Binding.DataReduction.Primary)||Te(at.Binding.DataReduction.Secondary))||ye.then(function(rt){rt&&rt.dsr&&function(ue,ve){if(e.fF.assertValue(ue,"dsr"),(0,c.nZ)(ue)){if(!ve)return!1;for(var xe=(0,x.KI)(ue,void 0).dataShapes(),ie=(0,c.kc)(ue);xe.next();)if(ie&&ie>=1){if(!0!==xe.hasAllData())return!1}else if(!xe.complete()||xe.limitsExceeded()||xe.hasRestartTokens())return!1;return!0}return _.every(ue.DataShapes,function(Fe){return Fe&&Fe.IsComplete&&_.isEmpty(Fe.DataLimitsExceeded)&&!Fe.RestartTokens})}(rt.dsr,xe.featureSwitches&&xe.featureSwitches.dsrV2)&&(Ze.hasAllData=!0)},function(){}),ye},ue.prototype.findQueryContext=function(ve){var xe=ve.applicationContext;if(xe)return e.fF.assert(function(){return 1===_.size(xe.Sources)},"Expected to have 1 ApplicationContextSource"),xe.Sources[0].CustomProperties},ue.prototype.clear=function(ve){var xe=this.getCache(ve);xe&&xe.clearAllEntries()},ue.prototype.rewrite=function(ve,xe){var ie=this,Fe=this.getCache(ve);if(Fe){var at={};xe.rewriteCacheKey&&xe.rewriteDataQueryCacheKey&&(at.rewriteKey=function(We){var Oe=JSON.parse(We),Ze=Fe.getEntryContext(We);if(Ze.compositeDataQuery){var Ee=Oe,K=xe.rewriteDataQueryCacheKey(Ee);if(K&&K!==Ee){var Ne=N(K,ie.featureSwitches);_.assign(Ze,Ne)}}else{var Y=Oe,ye=xe.rewriteCacheKey(Y);ye&&ye!==Y&&(Ne=w(ye,ie.featureSwitches),_.assign(Ze,Ne))}return Ze.key}),xe.rewriteCacheResult&&(at.rewriteResult=function(We){var Oe=We,Ze=xe.rewriteCacheResult({descriptor:Oe.descriptor,dsr:Oe.dsr});return Ze?{descriptor:Ze.descriptor,dsr:Ze.dsr}:{descriptor:Oe.descriptor,dsr:Oe.dsr}}),Fe.rewriteAllEntries(at)}},ue.prototype.put=function(ve,xe,ie){var Fe=this.ensureCache(ve),at=xe,We=M(at);if(Fe.hasCacheEntry(We))Fe.putCacheResult(We,ie,ue.rewriteCachedResult);else{var Oe=O(at,this.featureSwitches,We);Fe.createCacheEntry(We,Oe,void 0,ue.rewriteCachedResult).deferred.resolve(ie)}},ue.allowResultFromClientCacheOrDefault=function(ve){return e.fF.assertValue(ve,"options"),!1!==ve.allowResultFromClientCache},ue.prototype.findEquivalentCache=function(ve,xe,ie){if(e.fF.assertValue(ve,"options"),e.fF.assertValue(xe,"cache"),e.fF.assertValue(ie,"entryContext"),ue.allowResultFromClientCacheOrDefault(ve))if(ie.compositeDataQuery){if(ve.ignoreViewportForCache)for(var ye=0,rt=xe.keys();ye<rt.length;ye++)if((Ne=xe.getEntryContext(rt[ye]))&&Ne.keyWithoutViewport&&Ne.keyWithoutViewport===ie.keyWithoutViewport)return xe.bindCacheEntry(Ne.key,void 0,ve.telemetryV2Enabled)}else{var Fe=ve.command;e.fF.assert(function(){return Fe&&!_.isEmpty(Fe.Commands)},"data query should not be empty");for(var at=Fe.Commands[0].SemanticQueryDataShapeCommand.Binding,We=!!(at&&at.DataReduction&&at.DataReduction.Primary&&at.DataReduction.Primary.TopNPerLevel),Oe=!1,Ze=0,Ee=xe.keys();Ze<Ee.length;Ze++){var Ne;if(Ne=xe.getEntryContext(Ee[Ze])){if(!We&&Ne.hasAllData&&Ne.keyWithoutReduction===ie.keyWithoutReduction)return xe.bindCacheEntry(Ne.key,void 0,ve.telemetryV2Enabled);if(re(xe,Ne,ve,ie,ve.telemetryV2Enabled)){Oe=!0;break}}}Oe&&S.f.information("Reused cache with client side filters")}},ue.prototype.getCache=function(ve){return this.cacheByModel[this.generateModelKey(ve)]},ue.prototype.ensureCache=function(ve){var xe,ie=this.generateModelKey(ve),Fe=this.cacheByModel,at=Fe[ie];return void 0===at&&(at=Fe[ie]=null!==(xe=this.featureSwitches)&&void 0!==xe&&xe.lruCacheEvictionPolicy?new d(this.promiseFactory,1):new d(this.promiseFactory,0)),at},ue.prototype.generateModelKey=function(ve){if(!_.isEmpty(ve))return JSON.stringify(_.map(ve,function(xe){return{dbName:xe.dbName,vsName:xe.vsName,schemaName:xe.schemaName}}))},ue.rewriteCachedResult=function(ve){if(!ve)return ve;var xe=(0,s.__assign)({},ve);return delete xe.metrics,xe.fromClientCache=!0,xe},ue}();function O(ue,ve,xe){return e.fF.assertValue(ue,"dataQuery"),e.fF.assert(function(){return ue&&ue.Commands&&ue.Commands.length>0},"data query should not be empty"),e.fF.assertAnyValue(xe,"cacheKey"),(0,E.y)(ue)?N(ue,ve,xe):(e.fF.assert(function(){return 1===ue.Commands.length},"Expecting a non-empty, non-composite query to have exactly 1 command."),w(ue.Commands[0].SemanticQueryDataShapeCommand,ve,xe))}function N(ue,ve,xe){return e.fF.assertValue(ue,"dataQuery"),e.fF.assert(function(){return(0,E.y)(ue)},"data query should be composite"),e.fF.assertAnyValue(xe,"cacheKey"),e.fF.assert(function(){return!xe||xe===P(ue)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:xe||P(ue),keyWithoutReduction:Q(ue),keyWithoutViewport:te(ue),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:I(ve)}}function w(ue,ve,xe){e.fF.assertAnyValue(ue,"dataShapeCommand"),e.fF.assertAnyValue(xe,"cacheKey"),e.fF.assert(function(){return!xe||xe===T(ue)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var ie=function(ue){if(e.fF.assertAnyValue(ue,"command"),!ue)return!1;var ve=ue.Binding&&ue.Binding.DataReduction,xe=ve&&ve.Primary,ie=ve&&ve.Secondary;return!(!Qe(xe)||!Qe(ie)||Te(xe)||Te(ie))}(ue);return{key:xe||T(ue),keyWithoutReduction:U(ue),keyWithoutViewport:void 0,keyWithoutFilter:ie?k(ue):void 0,queryFilters:ie?ee(ue):void 0,compositeDataQuery:!1,queryId:I(ve)}}function I(ue){return ue&&ue.queryCancellation?L():""}function B(ue){ue&&ue.Binding&&"object"==typeof ue.Binding&&(ue.Binding.DataReduction=void 0,ue.Binding.Limits=void 0)}function U(ue){if(ue){var ve=_.cloneDeep(ue);return B(ve),JSON.stringify(ve)}}function k(ue){if(ue){var ve=_.cloneDeep(ue);return function(ue){ue&&ue.Query&&ue.Query.Where&&(ue.Query.Where=void 0)}(ve),JSON.stringify(ve)}}function Q(ue){if(e.fF.assert(function(){return!ue||(0,E.y)(ue)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ue){var ve=_.cloneDeep(ue);return B(ve.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(ve)}}function te(ue){if(e.fF.assert(function(){return!ue||(0,E.y)(ue)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ue){e.fF.assertValue(ue.Commands,"dataQuery.Commands"),e.fF.assert(function(){return 2===ue.Commands.length},"dataQuery.Commands must have two commands"),e.fF.assertValue(ue.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var ve=_.cloneDeep(ue);return function(ue){ue&&(ue.ViewportHeightPx=void 0,ue.ViewportWidthPx=void 0)}(ve.Commands[1].ScriptVisualCommand),JSON.stringify(ve)}}function ee(ue){e.fF.assertAnyValue(ue,"command");var ve=ue&&ue.Query;if(ve&&!_.isEmpty(ve.Where)){var xe=Ce(ve),ie=xe&&xe.where();if(!_.isEmpty(ie))return ie}}function re(ue,ve,xe,ie,Fe){if(void 0===Fe&&(Fe=!1),e.fF.assert(function(){return A.allowResultFromClientCacheOrDefault(xe)},"QueryCache.allowResultFromClientCacheOrDefault(options)"),e.fF.assertValue(ue,"cache"),e.fF.assertValue(ve,"oldItemContext"),e.fF.assertValue(xe,"newQueryOptions"),e.fF.assertValue(ie,"newItemContext"),xe.allowClientSideFilters){var at=function(ue,ve){if(e.fF.assertValue(ue,"oldItemContext"),e.fF.assertValue(ve,"newItemContext"),!ve.compositeDataQuery&&ve.keyWithoutFilter&&!ue.compositeDataQuery&&ue.keyWithoutFilter&&ue.hasAllData&&ue.keyWithoutFilter===ve.keyWithoutFilter&&function(ue,ve){return e.fF.assertAnyValue(ue,"filters"),e.fF.assertAnyValue(ve,"counterparts"),_.every(ue,function(xe){return _.some(ve,function(ie){return(0,y.sw)(ie,xe)})})}(ne(ue.queryFilters,ve.queryFilters),ve.queryFilters)){var at=ne(ve.queryFilters,ue.queryFilters);if(!_.isEmpty(at))return function(ue,ve){e.fF.assert(function(){return ue&&!ue.compositeDataQuery},"itemContext && !itemContext.compositeDataQuery"),e.fF.assertNonEmpty(ve,"filtersToConvert");var xe=JSON.parse(ue.key),ie=Ce(xe&&xe.Query);if(ie)return e.fF.assert(function(){return _.every(ve,function(at){return(0,R.qV)(ie.where(),at)})},"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,y.Z7)(ie.select(),ve)}(ve,at)}}(ve,ie);if(!_.isEmpty(at))return ue.bindCacheEntry(ve.key,function(We){return function(ue,ve){e.fF.assertValue(ue,"data"),e.fF.assertNonEmpty(ve,"clientSideFilters");var xe=(0,s.__assign)({},ue);return xe.clientSideFilters=ve,xe}(We,at)},Fe)}}function ne(ue,ve){return e.fF.assertAnyValue(ue,"filters"),e.fF.assertAnyValue(ve,"comparants"),_.isEmpty(ve)?ue:_.filter(ue,function(xe){return!(0,R.qV)(ve,xe)})}function Te(ue){return e.fF.assertAnyValue(ue,"algorithm"),ue&&ue.Window&&null!=ue.Window.RestartTokens}function Qe(ue){return e.fF.assertAnyValue(ue,"algorithm"),!ue||!!ue.Window}function Ce(ue){if(e.fF.assertAnyValue(ue,"queryDefinition"),ue&&ue.From&&ue.Select)return C.ib.deserializeQuery(ue)}var de=t(820919),pe=function(ue){function ve(xe){var ie=this;return e.fF.assertValue(xe,"jobId"),(ie=ue.call(this,"DelayedQueryTimeoutError")||this).jobId=xe,ie}return(0,s.__extends)(ve,ue),ve.prototype.getDetails=function(xe){var ie=ue.prototype.getDetails.call(this,xe);return ie.debugErrorInfo=ie.debugErrorInfo||[],ie.debugErrorInfo.push({errorInfoKey:b.nE,errorInfoValue:this.jobId}),ie},ve}(b.mB),le=function(){function ue(){}return ue.prototype.resolveDelayedQuery=function(ve,xe,ie){e.fF.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),ie.reject(new pe(ve))},ue}(),me=function(ue){function ve(xe){var ie=this;return e.fF.assertValue(xe,"requestId"),(ie=ue.call(this,"ExecuteSemanticQueryUnknownError")||this).httpRequestId=xe,ie}return(0,s.__extends)(ve,ue),Object.defineProperty(ve.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),ve.prototype.getDetails=function(xe){var ie=ue.prototype.getDetails.call(this,xe);return ie.debugErrorInfo=ie.debugErrorInfo||[],ie.debugErrorInfo.push({errorInfoKey:b.j,errorInfoValue:this.httpRequestId}),ie},ve}(b.mB),be=function(){function ue(ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=this;this.communication=xe,this.telemetryService=Fe,this.featureSwitches=Oe,this.queryContextProvider=Ze,this.appContextHostDataProvider=Ee,e.fF.assertValue(ve,"host"),e.fF.assertValue(Fe,"telemetryService"),this.promiseFactory=ve.promiseFactory(),this.delayedQueryResultResolver=at||new le,this.batcher=new l.PE(null==We?0:We,function(Ne){for(var Y=0,ye=Ne.length;Y<ye;++Y)K.executeBatch(Ne[Y])},ie,Oe&&Oe.telemetryV2,Oe&&Oe.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(ue,ve,xe,ie,Fe){return e.fF.assertValue(ue,"promiseFactory"),e.fF.assertValue(xe,"createQuery"),new A(ue,ve,xe,function(Ne,Y){K.telemetryService.logEvent(n.hh,{source:Y}),K.enqueueExecution({options:Ne,enqueueActivity:Ne.performanceActivity&&Ne.performanceActivity.isRunning()&&Ne.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:Ne.performanceActivity})},Fe)}(this.promiseFactory,this.telemetryService,function(Ne,Y){var ye,rt={options:Ne,deferred:Y.deferred,execution:Y.promise,enqueueActivity:Ne.performanceActivity&&Ne.performanceActivity.isRunning()&&Ne.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:Ne.performanceActivity};K.setAppContextHostData(rt),null!==(ye=K.featureSwitches)&&void 0!==ye&&ye.queryContext?K.setQueryContext(rt).then(function(){K.enqueueExecution(rt)}):K.enqueueExecution(rt)},0,Oe)}return ue.prototype.setAppContextHostData=function(ve){var xe;if(this.appContextHostDataProvider&&ve.options.applicationContext&&null!==(xe=this.featureSwitches)&&void 0!==xe&&xe.useEnrichedApplicationContext){var ie=ve.options.applicationContext,Fe=this.appContextHostDataProvider.getApplicationContextHostData();ie.Sources[0]=(0,s.__assign)((0,s.__assign)({},ie.Sources[0]),Fe)}},ue.prototype.setQueryContext=function(ve){var xe;return(0,s.__awaiter)(this,void 0,p.J,function(){var ie,Fe;return(0,s.__generator)(this,function(We){switch(We.label){case 0:if(null===(xe=this.featureSwitches)||void 0===xe||!xe.queryContext)return[2];if(!this.queryContextProvider||!ve.options.applicationContext)return[2];e.fF.assert(function(){return 1===_.size(ve.options.applicationContext.Sources)},"Expected to have 1 ApplicationContextSource"),ie=ve.options.applicationContext.Sources[0],We.label=1;case 1:return We.trys.push([1,3,,4]),[4,this.queryContextProvider.generateQueryContext()];case 2:return(Fe=We.sent())?(ie.CustomProperties=(0,s.__assign)((0,s.__assign)({},ie.CustomProperties),Fe),[3,4]):[2];case 3:return We.sent(),[2];case 4:return[2]}})})},ue.prototype.enqueueExecution=function(ve){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(ve)):this.batcher.enqueue(ve)},ue.prototype.execute=function(ve){if(!_.isEmpty(ve.dataSources))return this.queryCache.ensure(ve);var xe=this.promiseFactory.defer(ve.telemetryV2Enabled),ie=(0,f.U)(xe);return xe.resolve(ve.command),ie},ue.prototype.stopCommunication=function(){this.isCommunicationStopped=!0},ue.prototype.resumeCommunication=function(){this.isCommunicationStopped=!1;var ve=this.pausedQueries;if(ve){for(var xe=0,ie=ve.length;xe<ie;xe++){var Fe=ve[xe];Be(Fe)&&this.batcher.enqueue(Fe)}this.pausedQueries=void 0}},ue.prototype.cache=function(){return this.queryCache},ue.prototype.setLocalCacheResult=function(ve,xe){this.queryCache.put(ve.dataSources,ve.command,xe)},ue.prototype.setPreferredMaxConnections=function(ve){this.batcher.setMaxBatches(ve)},ue.prototype.executeBatch=function(ve){var xe=this;e.fF.assertValue(ve,"batch"),e.fF.assert(function(){return ve.queryOptions.length===ve.promises.length},"Queries & promises sizes must match.");var ie=ve.promises;this.communication.execute(ve).then(function(Fe){return xe.onSuccess(Fe,ie)},function(Fe){return xe.onError(Fe,ie)})},ue.prototype.onSuccess=function(ve,xe){e.fF.assertValue(ve,"result"),e.fF.assertValue(xe,"executions"),this.rejectExecutionsForMissingJobs(ve,xe);for(var ie=ve.jobIds,Fe={},at=0,We=xe.length;at<We;++at)Fe[ie[at]]=xe[at];var Oe=ve.results;for(at=0,We=Oe.length;at<We;++at){var Ze=Oe[at],Ee=Ze.result,Ne=Fe[K=Ze.jobId];delete Fe[K];var Y=Ee.data,ye=Ee.error;if(Y)Ne.resolve({descriptor:Y.descriptor,dsr:Y.dsr,metrics:Y.metrics,requestId:ve.requestId,timestamp:Y.timestamp,fromCache:Y.fromCache});else if(ye){var it=new h.sI(ye);it.requestId=ve.requestId,Ne.reject(it)}else Ee.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(Ze.jobId,ve.requestId,Ne)}if(!_.isEmpty(Object.keys(Fe)))for(var K in ye=new r(ve.requestId,"MissingJobResult"),Fe)Fe[K].reject(ye)},ue.prototype.rejectExecutionsForMissingJobs=function(ve,xe){var ie=ve.jobIds.length,Fe=xe.length;if(Fe>ie)for(var at=new r(ve.requestId,"MissingJobId"),We=ie;We<Fe;We++)xe[We].reject(at)},ue.prototype.onError=function(ve,xe){var ie;if(e.fF.assertValue(xe,"executions"),ve&&ve.requestError&&(ie=new h.sI(ve.requestError)),ie)ie.requestId=ve.requestId;else{var Fe=ve.error,at=void 0,We=void 0,Oe=void 0;if(Fe){at=Fe.message,We=Fe.code;var Ze=Fe["pbi.error"]&&Fe["pbi.error"].exceptionCulprit;null!=Ze&&(Oe=(0,v.Qf)(Ze))}ie=ve&&null!=ve.httpStatusCode&&ve.requestId?new b.Gx(ve.httpStatusCode,ve.requestId,We,at,Oe):new me(ve.requestId)}for(var Ee=0,K=xe.length;Ee<K;Ee++)xe[Ee].reject(ie)},ue}();function Be(ue){return!!(0,de.I3)(ue)&&ue.execution.pending()}var Pe=function(){function ue(ve,xe,ie,Fe,at,We,Oe,Ze,Ee){e.fF.assertValue(ve,"host"),this.proxy=new be(ve,xe,at,ie,We,Oe,Fe,Ze,Ee),this.featureSwitches=Fe,this.telemetryService=ie}return ue.prototype.execute=function(ve){return this.proxy.execute(ve)},ue.prototype.transform=function(ve,xe,ie,Fe){return void 0===ve?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,c.ij)(xe,ve,this.featureSwitches,this.telemetryService,ie,Fe)},ue.prototype.stopCommunication=function(){this.proxy.stopCommunication()},ue.prototype.resumeCommunication=function(){this.proxy.resumeCommunication()},Object.defineProperty(ue.prototype,"cache",{get:function(){return this.proxy.cache()},enumerable:!1,configurable:!0}),ue.prototype.setLocalCacheResult=function(ve,xe){this.proxy.setLocalCacheResult(ve,xe)},ue.prototype.setPreferredMaxConnections=function(ve){this.proxy.setPreferredMaxConnections(ve)},ue}()},848625:function(Je,H,t){t.d(H,{x:function(){return b}});var e=t(787941),c=t(261374),s=t(516469),f=t(169170),b=function(){function h(p,n,l){e.fF.assertValue(p,"queryBindingDescriptor"),e.fF.assert(function(){return n&&n.length>0},"Expected a non-empty array of exceeded limits."),this.computeMetadata(p,l,n)}return Object.defineProperty(h.prototype,"code",{get:function(){return"DsrLimitsWarning"},enumerable:!1,configurable:!0}),h.prototype.computeMetadata=function(p,n,l){if(this.limits={},p.Limits){var r=h.getExceededLimitsDetails(p,l),o=p.Limits,a=!!r.Primary,i=!!r.Secondary,m=!!r.Intersection;if(p.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var u=p.Expressions&&p.Expressions.Primary&&p.Expressions.Primary.Groupings?p.Expressions.Primary.Groupings:[],V=p.Expressions&&p.Expressions.Secondary&&p.Expressions.Secondary.Groupings?p.Expressions.Secondary.Groupings:[];a&&i?(this.groupings=u.concat(V),this.limits.Primary=h.getLimitMetadata(o.Primary,n),this.limits.Secondary=h.getLimitMetadata(o.Secondary,n)):a?(this.groupings=u,this.limits.Primary=h.getLimitMetadata(o.Primary,n)):i&&(this.groupings=V,this.limits.Secondary=h.getLimitMetadata(o.Secondary,n)),m&&(this.limits.Intersection=h.getLimitMetadata(o.Intersection,n))}},h.prototype.getDetails=function(p){var n=!!this.limits.Primary,l=!!this.limits.Secondary,r=null,o=-1;return this.hasScriptVisualBinding?r=p.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):n||l?n&&l?(o=this.limits.Primary.Type,r=this.getErrorInfoValue(this.groupings,p.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),p)):r=this.getErrorInfoValue(this.groupings,h.getDetailedMessageFormatForOneColumn(o=n?this.limits.Primary.Type:this.limits.Secondary.Type,p),p):this.limits.Intersection&&(r=h.getDetailedMessageFormatForOneColumn(o=this.limits.Intersection.Type,p)),r||(r=p.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:h.getMessage(o,p),displayableErrorInfo:[{errorInfoKey:h.getKey(o,p),errorInfoValue:r}],helpLink:h.getHelpLink(o)}},h.getExceededLimitsDetails=function(p,n){for(var l=p.Limits,r={},o=0,a=n;o<a.length;o++){var i=a[o];l.Primary&&i.Id===l.Primary.Id?r.Primary=l.Primary:l.Secondary&&i.Id===l.Secondary.Id?r.Secondary=l.Secondary:l.Intersection&&i.Id===l.Intersection.Id&&(r.Intersection=l.Intersection)}return r},h.prototype.getErrorInfoValue=function(p,n,l){if(!p||0===p.length)return null;for(var r=[],o=0,a=p.length;o<a;o++){var m=this.getGroupingNameFromGroupingKeys(p[o]);m&&r.push(m)}var u,V=r.length;return 0===V?null:(u=1===V?r[0]:r.join(l.get("ListJoin_Separator")),(0,c.W)(n,u))},h.prototype.getGroupingNameFromGroupingKeys=function(p){for(var n=p.Keys,l=0,r=n.length;l<r;l++){var o=n[l];if(null!=o.Select)return this.columnNameFromIndex?this.columnNameFromIndex(o.Select):void 0}},h.getMessage=function(p,n){switch(p){case 2:return n.get("DsrLimitWarning_RepresentativeSampleMessage");case 3:case 4:return n.get("DsrLimitWarning_HighDensitySampleMessage");default:return n.get("DsrLimitWarning_TooMuchDataMessage")}},h.getKey=function(p,n){switch(p){case 2:return n.get("DsrLimitWarning_RepresentativeSampleKey");case 3:case 4:return n.get("DsrLimitWarning_HighDensitySampleKey");default:return n.get("DsrLimitWarning_TooMuchDataKey")}},h.getDetailedMessageFormatForOneColumn=function(p,n){switch(p){case 2:return n.get("DsrLimitWarning_RepresentativeSampleVal");case 3:return n.get("DsrLimitWarning_HighDensitySampleVal");case 4:return n.get("DsrLimitWarning_OverlappingPointsDetails");default:return n.get("DsrLimitWarning_TooMuchDataVal")}},h.getHelpLink=function(p){switch(p){case 3:return"https://go.microsoft.com/fwlink/?linkid=848757";case 4:return"https://go.microsoft.com/fwlink/?linkid=853820"}},h.getLimitMetadata=function(p,n){return p.Top?{Type:0,Count:h.getLimitCount(p.Top,n)}:p.Bottom?{Type:1,Count:h.getLimitCount(p.Bottom,n)}:p.Sample?{Type:2,Count:h.getLimitCount(p.Sample,n)}:p.BinnedLineSample?{Type:3,Count:h.getBinnedLineSampleCount(p.BinnedLineSample)}:p.OverlappingPointsSample?{Type:4,Count:h.getLimitCount(p.OverlappingPointsSample,n)}:{Type:-1,Count:null}},h.getLimitCount=function(p,n){if(p.Calc&&n){var l=f.A1.findCalculation(n,p.Calc);if(l){var r=(0,s.H2)(l.Value);if(_.isNumber(r))return r}}return p.Count},h.getBinnedLineSampleCount=function(p){return p.MaxTargetPointCount},h}()},25026:function(Je,H,t){t.d(H,{lp:function(){return v},py:function(){return f},sK:function(){return s}});var e=t(787941);function s(b){if(0===b)return"Warning"}var f={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}},v=function(){function b(h){this.dataShapeMessage=h}return Object.defineProperty(b.prototype,"code",{get:function(){return this.dataShapeMessage.Code},enumerable:!1,configurable:!0}),b.prototype.getDetails=function(h){var p=f[this.dataShapeMessage.Code];return e.fF.assertValue(p,"message to show should be a known message"),{message:h.get(p.localizedMessage),displayableErrorInfo:[{errorInfoKey:h.get(p.localizedTitle),errorInfoValue:h.get(p.localizedContent)}]}},b.prototype.isTransformMessage=function(){var h=f[this.code];return h&&h.isTransformMessage},b}()},786219:function(Je,H,t){t.d(H,{cd:function(){return h},U1:function(){return o},Ei:function(){return p}});var e=t(787941),c=t(324356),s=t(516469),f=t(249679),v=function(){function a(i){e.fF.assertValue(i,"Null RestartIdentities list"),e.fF.assertNonEmpty(i,"Empty RestartIdentities list"),this.restartValuesCount=i.length,this.calcIdToRestartIdentityIndex={};for(var m=0;m<this.restartValuesCount;m++)this.calcIdToRestartIdentityIndex[i[m]]=m}return a.prototype.getRestartValues=function(i){e.fF.assertValue(i,"getRestartValues called with undefined instanceParser");var m=new Array(this.restartValuesCount);for(i.restartCalcs();i.nextCalc();){var u=this.calcIdToRestartIdentityIndex[i.calcId()];void 0!==u&&(m[u]=i.calcValueAsExpr())}return e.fF.assert(function(){return _.every(m,function(V){return!!V})},"Missing calcs for RestartValues"),m},a}(),b=function(){function a(i){this.values=i,this.parsedValues=new Array(i.length),this.parsedValueExprs=new Array(i.length)}return a.prototype.getCalcValue=function(i,m){if(!(i>=this.parsedValues.length)){var u=this.parsedValues[i];return void 0===u&&(u=(0,s.Yt)(this.values[i],m),this.parsedValues[i]=u),u}},a.prototype.getCalcValueExpr=function(i,m,u){if(!(m>=this.parsedValues.length)){var V=this.parsedValueExprs[m];return void 0===V&&(V=(0,s.HL)(i,this.values[m],u),this.parsedValueExprs[m]=V),V}},a}(),h=function(){function a(i){if(i)for(var m in this.resolvedValueDictionaries={},i)this.resolvedValueDictionaries[m]=new b(i[m])}return a.prototype.getCalcValue=function(i,m,u){if(m&&"number"==typeof i){e.fF.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var V=this.resolvedValueDictionaries[m];return e.fF.assertValue(V,"dictionary"),V.getCalcValue(i,u)}},a.prototype.getCalcValueExpr=function(i,m,u,V){if(u&&"number"==typeof m){e.fF.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var d=this.resolvedValueDictionaries[u];return e.fF.assertValue(d,"dictionary"),d.getCalcValueExpr(i,m,V)}},a}();function p(a){var i=a.Select,m=a.Expressions,u=m&&m.Primary,V=u&&u.Groupings,d=u&&u.Synchronization,S=m&&m.Secondary&&m.Secondary.Groupings,g={},y=V&&[],C=S&&[];if(V)for(var E=0,M=V.length;E<M;E++)l(g,V[E],E,y,i);if(S)for(E=0,M=S.length;E<M;E++)C[E]=[],l(g,S[E],E,C,i);var P=0,T=[];if(i&&S)for(E=0;E<i.length;E++){var x=i[E];x&&x.Kind===f.hk.Measure&&null==x.Depth&&null==x.SecondaryDepth&&(T[P++]=E)}var R={intersectionMeasureToSelectIndex:T,secondaryLeafDataMemberId:S&&[],dataMemberIdToMetadata:g,selects:i,maxPrimaryDepth:_.size(V),maxSecondaryDepth:_.size(S),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:y,secondaryDataMemberIdCache:C,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(d){var D=d.length;for(R.primarySynchronizedGroups=new Array(D),E=0;E<D;E++){var L=d[E],F=_.last(L.Groupings);R.primarySynchronizedGroups[E]={groupings:L.Groupings,dataShapeId:L.DataShape,synchronizationIndexCalcId:V[F].SynchronizationIndex,context:n(a,L)}}}return R}function n(a,i){e.fF.assertValue(a.Expressions.Primary,"No primary groupings."),e.fF.assertValue(a,"synchronizedGroup");for(var m=a.Expressions.Primary.Groupings,u=a.Select,V={},d=[],S=i.Groupings,g=0;g<S.length;g++)l(V,m[S[g]].SynchronizedGroup,g,d,u,!0);return{dataMemberIdToMetadata:V,selects:u,maxPrimaryDepth:_.size(S),primaryDataMemberIdCache:d,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function l(a,i,m,u,V,d){var S=u[m]=[],g=function(a,i){for(var m=a.length,u=new Array(m),V=0;V<m;V++)u[V]=o(a[V],a[V].Select,i);return u}(i.Keys,V),y=i.Member;if(y){S.push(y);var C=a[y]={identityFields:g,axisGrouping:i,kind:1,depth:m+1};d?C.forSynchronization=!0:i.SynchronizedGroup&&(C.isSynchronized=!0),i.RestartIdentities&&(C.restartValuesBuilder=new v(i.RestartIdentities))}var E=i.SubtotalMember;E&&(S.push(E),C={identityFields:g,kind:2,depth:m},d?C.forSynchronization=!0:i.SynchronizedGroup&&(C.isSynchronized=!0),a[E]=C)}function o(a,i,m){e.fF.assertValue(a,"key"),e.fF.assertAnyValue(i,"selectIndex"),e.fF.assertValue(m,"selectBindings");var u=a.Source;if(!u){e.fF.assert(function(){return i>=0&&i<_.size(m)},"selectIndex should be within range");var V=m[i].Name;return V?(0,c.xA)(V):void e.fF.assertFail("selectName should be defined")}return(0,c.Oh)((0,c.nw)((0,f._H)(u),u.Entity||u.EntitySet),u.Property)}},782504:function(Je,H,t){t.d(H,{o3:function(){return Ne},kc:function(){return Ze},nZ:function(){return Oe},ij:function(){return Ee}});var e=t(776791),c=t(787941),s=t(16062),f=t(690016),v=t(159190),b=t(419644),h=t(926720),p=t(169170),n=function(){function Ue(De){this.context=De,this.measureValueAggregatorsBySelectIdx=[]}return Ue.prototype.read=function(De,Le){void 0===Le&&(Le=!0);for(var Xe=this.context,et=Xe.selects,he=new Array(et.length),ce=new Array(et.length);De.nextCalc();){var Re=Xe.aggregateCalcMetadata[De.calcId()];Re&&Re.aggregateKind&&(p.A1.fillMetadataColumnAggregate(De.calcValue(),Re,!1),3===Re.aggregateKind&&(he[Re.selectIdx]=!0),2===Re.aggregateKind&&(ce[Re.selectIdx]=!0))}Le&&this.addLocalAggregators(he,ce)},Ue.prototype.addLocalAggregators=function(De,Le){for(var Xe=this.measureValueAggregatorsBySelectIdx,et=this.context.measureSelectIndices,he=et.length,ce=!1,Re=0;Re<he;Re++){var Ge=et[Re];De[Ge]||(ce=!0,Xe[Ge]||(Xe[Ge]=[]),Xe[Ge].push(new p.nc)),Le[Ge]||(ce=!0,Xe[Ge]||(Xe[Ge]=[]),Xe[Ge].push(new p._8))}this.hasLocalAggregators=ce},Ue.prototype.update=function(De,Le){if(this.hasLocalAggregators){var Xe=this.measureValueAggregatorsBySelectIdx[Le];if(Xe)for(var et=0,he=Xe;et<he.length;et++)he[et].update(De)}},Ue.prototype.copyToColumns=function(){for(var De=this.context.measureSelectIndices,Le=De.length,Xe=0;Xe<Le;Xe++){var et=De[Xe],he=this.context.selectIndexToColumn[et],ce=this.measureValueAggregatorsBySelectIdx[et];if(ce&&ce)for(var Re=0,Ge=ce;Re<Ge.length;Re++){var ut=Ge[Re],je=ut.value();void 0!==je&&(he.aggregates||(he.aggregates={}),he.aggregates[ut.name]=je)}}},Ue}(),l=t(19632),r=t(324356),o=function(){function Ue(De,Le){this.context=De,this.calcIdToGroupingKeysIndex={},this.initialize(Le)}return Ue.prototype.initialize=function(De){var Xe,Le=this,et=this.context,he=et.selects,ce=et.dataMemberIdToMetadata[De];this.identityFields=ce.identityFields,this.identityFieldsCount=this.identityFields.length;var Ge=ce.axisGrouping.Keys;c.fF.assert(function(){return Ge.length===Le.identityFieldsCount},"Mismatch in Identity Keys count");for(var ut=0;ut<this.identityFieldsCount;ut++){var je=Ge[ut],ae=void 0;je.Calc?ae=je.Calc:null!=je.Select&&je.Select>=0?ae=ce.forSynchronization?null===(Xe=he[je.Select].Synchronized)||void 0===Xe?void 0:Xe.Value:he[je.Select].Value:c.fF.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[ae]=ut}},Ue.prototype.reset=function(){this.identityParts=new Array(this.identityFieldsCount)},Ue.prototype.addExpr=function(De,Le){var Xe=this.calcIdToGroupingKeysIndex[De],et=this.identityFields[Xe];et&&(this.identityParts[Xe]=(0,r.Dg)(et,Le))},Ue.prototype.getIdentity=function(){for(var Xe,De=this.identityParts,Le=this.identityFieldsCount,et=0;et<Le;et++)Xe=(0,r.xD)(Xe,De[et]);var he=(0,l.TZ)(Xe);return c.fF.assertValue(he,"identity"),he},Ue.prototype.getIdentityFields=function(){return this.identityFields},Ue}(),a=t(249679),m=function(){function Ue(){}return Ue.prototype.run=function(De,Le,Xe){this.metadata=Xe,this.context=De,this.dsrParser=Le,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],Le.reset(),this.aggregator=new n(De);var et=this.dsrParser.dataShapes();et.next();var he={};if(0===De.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var ce=he.values=(0,h.Yv)();this.readMeasuresWithNoGrouping(et,ce)}else{var Re=[],Ge=[];he.categories=Re,this.readSelectsAndCreateCategoryColumns(Re,Ge),ce=void 0,(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(he.values=ce=(0,h.Yv)()),this.readSecondaryAndCreateValueColumns(ce);var ut={};this.readData(et,ce,Ge,ut),void 0!==ut.value&&(he.lastMergeIndex=ut.value)}return he},Ue.isCompatible=function(De){return De.maxPrimaryDepth<=1&&De.maxSecondaryDepth<=1&&!(0===De.maxPrimaryDepth&&De.maxSecondaryDepth>0)&&_.size(De.selects)>0},Ue.prototype.readSelectsAndCreateCategoryColumns=function(De,Le){var Xe=this.context,et=Xe.selectIndexToColumn,he=Xe.selects,ce=he.length,Re=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(he.length),this.intersectionMeasuresSelectIndexMap=new Array(he.length);for(var Ge=!!Re,ut=0;ut<ce;ut++){var je=he[ut];if(je&&je.Value)if(je.Kind===a.hk.Group){if(null!=je.SecondaryDepth){this.seriesSelectIndex=ut;continue}if(null!=je.Depth){c.fF.assert(function(){return null!=Le},"Expected truthy value for identities"),c.fF.assert(function(){return null!=De},"Expected truthy value for categories");var fe={source:et[ut],values:[],identity:Le};De.push(fe),this.selectIndexToCategoryColumn[ut]=fe}}else je.Kind===a.hk.Measure&&(Ge&&null==je.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=ut:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=ut)}},Ue.prototype.readSecondaryAndCreateValueColumns=function(De){var Le=this.dsrParser.dataShapes().secondaryHierarchy();Le?(this.addIntersectionValueColumns(De,Le),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(De)):this.addPrimaryValueColumns(De,!0)},Ue.prototype.addIntersectionValueColumns=function(De,Le){for(var et,Xe=new Array,he=this.context,ce=function(){var ut=Le.id(),je=Le.instances();if(2===he.dataMemberIdToMetadata[ut].kind){for(;je.next(););return"continue"}var ae=he.dataMemberIdToIdentityBuilder[ut];ae||(ae=new o(he,ut),he.dataMemberIdToIdentityBuilder[ut]=ae),et=ae.getIdentityFields();for(var fe=-1;je.next();){fe++,ae.reset();for(var we=void 0,ze=void 0;je.nextCalc();){ze=je.calcId();var $e=Re.context.calcInfo[ze];$e.isGroupKeyButNotSelect||(we=je.calcValue()),$e.forIdentity&&ae.addExpr(ze,je.calcValueAsExpr())}Re.addIntersectionValueColumnsCore(De,Xe,ze,we,fe,ae.getIdentity()),c.fF.assert(function(){return null==je.intersections()},"unexpected secondary intersections"),c.fF.assert(function(){return null==je.members()},"unexpected secondary nested members")}0===De.length&&0===Xe.length&&Re.addIntersectionValueColumnsCore(De,Xe,void 0,void 0,0,void 0),De.grouped=function(){return Xe},De.source=Re.context.selectIndexToColumn[Re.seriesSelectIndex],De.identityFields=et},Re=this;Le.next();)ce()},Ue.prototype.addIntersectionValueColumnsCore=function(De,Le,Xe,et,he,ce){for(var Re,Ge,ut,je=this.context,ae=je.selects,fe=this.intersectionMeasureCount,we=new Array(fe),ze=this.metadata.columns,$e=function(Tt){var Wt=void 0,Kt=ot.intersectionMeasuresSelectIndexMap[Tt];void 0!==et?((Wt=je.createColumns(ze,Kt).column).groupName=et,Wt.rootSource=je.selectIndexToColumn[Kt]):Wt=_.find(ze,function(Mr){return Mr.index===Kt});var Zt=ot.createValueColumn(Wt,ce,Kt,!!ae[Kt].Highlight,!1);De.push(Zt),we[Tt]=Zt;var er=ae[Kt],ar=ot.intersectionValueColumnsMap[he];ar||(ar=ot.intersectionValueColumnsMap[he]={}),ar[er.Value]=Zt;var sr=er.Highlight&&er.Highlight.Value;if(sr&&(ar[sr]=Zt),Wt.formatSource&&Wt.formatSource.formatString){c.fF.assertValue(null===(Re=er.DynamicFormat)||void 0===Re?void 0:Re.Format,"select.DynamicFormat.Format");var gr=ot.createValueColumn(Wt.formatSource.formatString,void 0,Kt,!!ae[Kt].Highlight,!0),mr=ot.intersectionDynamicFormatColumnsMap[he];mr||(mr=ot.intersectionDynamicFormatColumnsMap[he]={}),mr[er.DynamicFormat.Format]=gr,De.push(gr);var Sr=null===(ut=null===(Ge=er.Highlight)||void 0===Ge?void 0:Ge.DynamicFormat)||void 0===ut?void 0:ut.Format;Sr&&(mr[Sr]=gr)}},ot=this,_t=0;_t<fe;_t++)$e(_t);var ke={values:we};void 0!==et&&(ke.name=et),void 0!==ce&&(ke.identity=ce),Le.push(ke)},Ue.prototype.addPrimaryValueColumns=function(De,Le){for(var Xe=new Array,et=this.context,he=et.selects,ce=0;ce<this.primaryMeasureCount;ce++){var Re=this.primaryMeasureSelectIndexMap[ce],Ge=et.selectIndexToColumn[Re],ut=this.createValueColumn(Ge,void 0,Re,!!he[Re].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[Re]=ut,Xe.push(ut),De.push(ut),Ge.formatSource&&Ge.formatSource.formatString){var je=this.createValueColumn(Ge.formatSource.formatString,void 0,Re,!!he[Re].Highlight,!0);this.selectIndexToDynamicFormatColumn[Re]=je,De.push(je),Xe.push(je)}}if(Le&&De){var ae=[{values:Xe}];De.grouped=function(){return ae}}},Ue.prototype.createValueColumn=function(De,Le,Xe,et,he){var ce={source:De,values:[]};if(et&&(ce.highlights=[]),Le&&(ce.identity=Le),!he){var Re=this.selectIndexToValueColumnsMap[Xe];Re||(Re=this.selectIndexToValueColumnsMap[Xe]=[]),Re.push(ce)}return ce},Ue.prototype.readData=function(De,Le,Xe,et){var he=this.context,ce=De.primaryHierarchy();this.aggregator.read(De,0===this.intersectionMeasureCount);for(var Re=function(){var je=ce.id(),ae=he.dataMemberIdToMetadata[je];if(ae){var fe=1===ae.kind,we=he.dataMemberIdToIdentityBuilder[je];!we&&fe&&(we=new o(he,je),he.dataMemberIdToIdentityBuilder[je]=we);for(var ze=ce.instances();ze.next();){for(we&&we.reset(),1===ze.restartFlagKind()&&(et.value=ze.currentIndex());ze.nextCalc();)Ge.readPrimaryHierarchyCalc(ze,we);we&&Xe.push(we.getIdentity()),Ge.parseIntersections(ze),c.fF.assert(function(){return null==ze.members()},"unexpected nested members to parse")}if(fe)for(var $e=we.getIdentityFields(),ot=0;ot<he.selects.length;ot++){var _t=Ge.selectIndexToCategoryColumn[ot];_t&&(_t.identityFields=$e)}}},Ge=this;ce.next();)Re();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()},Ue.prototype.copyAggregatesToValueColumns=function(){for(var De=this.context.measureSelectIndices,Le=this.context.selectIndexToColumn,Xe=De.length,et=0;et<Xe;et++){var he=De[et],ce=Le[he].aggregates;if(ce){var Re=this.selectIndexToPrimaryValueColumn[he];Re&&p.A1.copyAggregates(ce,Re);var Ge=this.selectIndexToValueColumnsMap[he];if(Ge)for(var ut=0,je=Ge;ut<je.length;ut++)p.A1.copyAggregates(ce,je[ut])}}},Ue.prototype.readPrimaryHierarchyCalc=function(De,Le){var Xe=De.calcId(),et=this.context.aggregateCalcMetadata[Xe];if(et&&1===et.aggregateKind)p.A1.fillMetadataColumnAggregate(De.calcValue(),et);else{var he=this.context.calcInfo[Xe];if(he){var ce=De.calcValue();if(he.kind===a.hk.Group)c.fF.assert(function(){return!!Le},"Must have an identity builder when parsing grouping values"),he.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[he.selectIdx].values.push(ce),he.forIdentity&&Le.addExpr(Xe,De.calcValueAsExpr());else if(he.kind===a.hk.Measure){var Re=he.calcKind;1===Re?(this.selectIndexToPrimaryValueColumn[he.selectIdx].values.push(ce),this.aggregator.update(ce,he.selectIdx)):4===Re?this.selectIndexToDynamicFormatColumn[he.selectIdx].values.push(ce):3===Re?this.selectIndexToPrimaryValueColumn[he.selectIdx].highlights.push(ce):6===Re&&this.selectIndexToDynamicFormatColumn[he.selectIdx].highlights.push(ce)}}}},Ue.prototype.parseIntersections=function(De){var Le=De.intersections();if(Le)for(var Xe=this.context.calcInfo,et=0;Le.next();){var he=this.intersectionValueColumnsMap[et],ce=this.intersectionDynamicFormatColumnsMap[et];if(Le.nextCalc()){if(!this.parseIntersectionCalc(Le,he,ce,Xe))continue;for(et++;Le.nextCalc();)this.parseIntersectionCalc(Le,he,ce,Xe)}}},Ue.prototype.parseIntersectionCalc=function(De,Le,Xe,et){var he=De.calcId(),ce=et[he];if(ce)switch(c.fF.assert(function(){return ce.kind===a.hk.Measure},"unexpected select kind found in intersection"),ce.calcKind){case 1:return Le[he].values.push(De.calcValue()),!0;case 3:return Le[he].highlights.push(De.calcValue()),!0;case 4:return Xe[he].values.push(De.calcValue()),!0;case 6:return Xe[he].highlights.push(De.calcValue()),!0;case 2:case 5:return!1}},Ue.prototype.readMeasuresWithNoGrouping=function(De,Le){this.aggregator.read(De),this.aggregator.copyToColumns();var Xe=De.primaryHierarchy();if(Xe.next()){this.addPrimaryValueColumns(Le,!0);for(var et=this.context.calcInfo,he=Xe.instances();he.next();)for(var ce=function(){var ut=he.calcId(),je=et[ut];je&&(c.fF.assert(function(){return null!=je.selectIdx},"expect a selectIdx for all measures when there is no grouping"),1===je.calcKind?Re.selectIndexToPrimaryValueColumn[je.selectIdx].values.push(he.calcValue()):3===je.calcKind?Re.selectIndexToPrimaryValueColumn[je.selectIdx].highlights.push(he.calcValue()):4===je.calcKind?Re.selectIndexToDynamicFormatColumn[je.selectIdx].values.push(he.calcValue()):6===je.calcKind&&Re.selectIndexToDynamicFormatColumn[je.selectIdx].highlights.push(he.calcValue()))},Re=this;he.nextCalc();)ce()}},Ue}(),u=t(299747),V=t(725182),d=t(786219),S=function(){function Ue(De,Le,Xe,et,he){c.fF.assertValue(De,"targets"),c.fF.assert(function(){return null!=Le.Select||null!=Le.ScriptVisualBinding},"descriptor"),this.targets=De,this.descriptor=Le,this.selects=Le.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var ce=Le.Expressions;this._primaryAxisGroupings=ce&&ce.Primary&&ce.Primary.Groupings,this._secondaryAxisGroupings=ce&&ce.Secondary&&ce.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=Xe.dataMemberIdToMetadata,this.maxPrimaryDepth=Xe.maxPrimaryDepth,this.maxSecondaryDepth=Xe.maxSecondaryDepth,this.primarySynchronizedGroups=Xe.primarySynchronizedGroups,this.scopedAggregatesEnabled=et,this.dataShapeParser=he}return Object.defineProperty(Ue.prototype,"primaryAxisGroupings",{get:function(){return this._primaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"secondaryAxisGroupings",{get:function(){return this._secondaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"calcInfo",{get:function(){return this._calcInfo},enumerable:!1,configurable:!0}),Ue.prototype.createContextForPrimarySynchronizedGroup=function(De,Le){var Xe=this,et=new Ue(this.targets,this.descriptor,De.context,this.scopedAggregatesEnabled,Le);return et._primaryAxisGroupings=_.map(De.groupings,function(he){return Xe.primaryAxisGroupings[he].SynchronizedGroup}),et._secondaryAxisGroupings=void 0,et._calcInfo=this._calcInfo,et},Ue.prototype.includes=function(De){return c.fF.assertValue(De,"kind"),(0,V.yE)(this.targets,De)},Ue.prototype.createDataViewMetadataColumns=function(){var De=this,Le=this.selects;if(!_.isEmpty(Le)){var Xe=[],et=Le.length;this.selectIndexToColumnIndex=new Array(et);for(var he=function(we,ze){var $e=Le[we];if(!$e)return"continue";c.fF.assert(function(){return $e.Kind!==a.hk.None},"Expecting every select never to be of SelectKind.None");var ot=ce.createColumns(Xe,we),_t=ot.column,ke=ot.columnIdx,dt=ot.dynamicFormatColumn;ce.selectIndexToColumn[we]=_t,ce.selectIndexToColumnIndex[we]=ke,$e.Kind===a.hk.Measure&&ce.measureSelectIndices.push(we);var Tt=$e.Aggregates;if(Tt)for(var Wt=0,Kt=Tt;Wt<Kt.length;Wt++){var Zt=Kt[Wt],er=ce.getAggregateKind(Zt.Aggregate);ce.createAggregateCalcMetadata(Zt.Ids,er,_t,we,Zt.Aggregate)}var ar=$e.Value;ar&&(ce.calcIdToColumnIndices[ar]||(ce.calcIdToColumnIndices[ar]=[]),ce.calcIdToColumnIndices[ar].push(ke),(null==$e.Depth||null==$e.SecondaryDepth)&&(ce.aggregateCalcMetadata[ar]={source:_t,aggregateKind:4,selectIdx:we})),$e.Kind===a.hk.Measure&&($e.Subtotal&&ce.createAggregateCalcMetadata($e.Subtotal,1,_t,we),$e.SubtotalDynamicFormat&&ce.createAggregateCalcMetadata(_.map($e.SubtotalDynamicFormat,function(sr){return sr&&sr.Format}),1,dt,we),$e.Count&&(c.fF.assert(function(){return _.size($e.Count)<=1},"dataView cannot represent aggregates other than subtotal at different scopes yet"),ce.createAggregateCalcMetadata($e.Count,5,_t,we)),$e.Max&&ce.createAggregateCalcMetadata($e.Max,2,_t,we),$e.Min&&ce.createAggregateCalcMetadata($e.Min,3,_t,we))},ce=this,Re=0,Ge=et;Re<Ge;Re++)he(Re);this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var ut=function(we){_.size(je.calcIdToColumnIndices[we])>1&&(je.calcInfo[we].hasDuplicateColumnIndices=!0,c.fF.assert(function(){return!De.calcInfo[we].isGroupKeyButNotSelect},"calcs which represent group keys cannot have duplicate column indices"))},je=this;for(var ae in this.calcIdToColumnIndices)ut(ae);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),Xe}},Ue.prototype.parseAxisGroupings=function(De){if(De)for(var Le=0,Xe=De;Le<Xe.length;Le++){var et=Xe[Le],he=et.SynchronizedGroup;if(he){this.parseGroupingKeys(he.Keys,!0);var ce=et.SynchronizationIndex;ce&&(this.calcInfo[ce]={kind:a.hk.Measure,calcKind:10})}this.parseGroupingKeys(et.Keys,!1)}},Ue.prototype.parseGroupingKeys=function(De,Le){for(var Xe,et,he=this.calcInfo,ce=this.selects,Re=0,Ge=De;Re<Ge.length;Re++){var ut=Ge[Re],je=ce[ut.Select];null!=je?Le?(c.fF.assertValue(null===(Xe=je.Synchronized)||void 0===Xe?void 0:Xe.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),he[null===(et=je.Synchronized)||void 0===et?void 0:et.Value].forIdentity=!0):he[je.Value].forIdentity=!0:ut.Calc?he[ut.Calc]={kind:a.hk.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:c.fF.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}},Ue.prototype.createAggregateCalcMetadata=function(De,Le,Xe,et,he){for(var ce=0,Re=De;ce<Re.length;ce++){var ut=this.aggregateCalcMetadata[Re[ce]]={source:Xe,aggregateKind:Le,selectIdx:et};he&&(ut.aggregate=he)}},Ue.prototype.getAggregateKind=function(De){return De.Average?6:De.Max?2:De.Min?3:De.Median?8:De.Percentile?7:void 0},Ue.prototype.createColumns=function(De,Le){var Xe=De.length,et=this.createMetadataColumn(Le);De.push(et);var he=this.selects[Le],ce=he.Kind,Re=this.calcInfo;Re[he.Value]={kind:ce,columnIndex:Xe,selectIdx:Le,calcKind:1};var Ge=he.Synchronized;if(Ge&&(c.fF.assert(function(){return ce===a.hk.Group},"Synchronization Auxiliary Select is expected only for Grouping Selects"),c.fF.assertValue(Ge.Value,"Synchronization Auxiliary Select must have a Value"),c.fF.assertValue(Ge.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),Re[Ge.Value]={kind:ce,columnIndex:Xe,selectIdx:Le,calcKind:1},Re[he.Value].isSynchronized=!0),he.Subtotal){c.fF.assert(function(){return ce===a.hk.Measure},"Subtotal SelectKind");for(var ut=0,je=he.Subtotal;ut<je.length;ut++)Re[ae=je[ut]]={columnIndex:Xe,kind:ce,selectIdx:Le,calcKind:2}}if(he.Highlight){c.fF.assert(function(){return ce===a.hk.Measure},"Highlight SelectKind");var fe=he.Highlight.Value;fe&&(Re[fe]={columnIndex:Xe,kind:ce,selectIdx:Le,calcKind:3});var we=he.Highlight.Subtotal;if(we)for(var ze=0,$e=we;ze<$e.length;ze++)Re[ae=$e[ze]]={columnIndex:Xe,kind:ce,selectIdx:Le,calcKind:9}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(he.Aggregates))for(var ot=0,_t=he.Aggregates;ot<_t.length;ot++)if((ke=_t[ot]).Aggregate.Scope)for(var dt=0,Tt=ke.Ids;dt<Tt.length;dt++)Re[Tt[dt]]={columnIndex:Xe,kind:ce,selectIdx:Le,calcKind:7};var Kt=he.Highlight;if(Kt&&!_.isEmpty(Kt.Aggregates))for(var er=0,ar=Kt.Aggregates;er<ar.length;er++){var ke;if((ke=ar[er]).Aggregate.Scope)for(var sr=0,gr=ke.Ids;sr<gr.length;sr++)Re[gr[sr]]={columnIndex:Xe,kind:ce,selectIdx:Le,calcKind:8}}}var mr=this.tryCreateDynamicFormatColumnMetadata(Le,et);if(mr){c.fF.assert(function(){return ce===a.hk.Measure},"Dynamic Format SelectKind");var Sr=Xe+1;if(De.push(mr),Re[he.DynamicFormat.Format]={columnIndex:Sr,kind:a.hk.Measure,selectIdx:Le,calcKind:4},he.SubtotalDynamicFormat)for(var Mr=0,St=he.SubtotalDynamicFormat;Mr<St.length;Mr++){var ae,Gt=(ae=St[Mr])&&ae.Format;Gt&&(Re[Gt]={columnIndex:Sr,kind:a.hk.Measure,selectIdx:Le,calcKind:5})}var rr=he.Highlight&&he.Highlight.DynamicFormat&&he.Highlight.DynamicFormat.Format;rr&&(Re[rr]={columnIndex:Sr,kind:a.hk.Measure,selectIdx:Le,calcKind:6})}return{column:et,columnIdx:Xe,dynamicFormatColumn:mr}},Ue.prototype.createMetadataColumn=function(De){var Le=this.selects[De],Xe={displayName:"",index:De};Le.Format&&(Xe.format=Le.Format),Xe.type=p.A1.describeDataType(Le.Type,Le.DataCategory),Le.Kind===a.hk.Measure&&(Xe.isMeasure=!0);var et=Le.GroupKeys;if(et)for(var he=Xe.identityExprs=new Array(et.length),ce=0;ce<et.length;ce++)he[ce]=(0,d.U1)(et[ce],De,this.selects);return Xe},Ue.prototype.tryCreateDynamicFormatColumnMetadata=function(De,Le){var Xe=this.selects[De];if(Xe.DynamicFormat&&Xe.DynamicFormat.Format){var et={displayName:"",isMeasure:!0};return Le.formatSource={formatString:et},et}},Ue.prototype.createScopedAggregateMetadata=function(){for(var De=this.selects,Xe=this.selectIndexToColumn,et=0,he=De.length;et<he;et++){var ce=De[et];if(ce){var Re=ce.Aggregates,Ge=Xe[et];if(!_.isEmpty(Re))for(var ut=0,je=Re;ut<je.length;ut++)this.createScopedAggregateCalcMetadata(je[ut],Ge);var fe=ce.Highlight;if(fe&&!_.isEmpty(fe.Aggregates))for(var ze=0,$e=fe.Aggregates;ze<$e.length;ze++)this.createScopedAggregateCalcMetadata($e[ze],Ge)}}},Ue.prototype.createScopedAggregateCalcMetadata=function(De,Le){var Xe=De.Aggregate,et=Xe.Scope;if(et){var he=this.selectIndexToColumn,ce=et.PrimaryDepth;c.fF.assert(function(){return void 0===et.SecondaryDepth},"Scoped Aggregates not supports secondary depth for now.");for(var Re=new Array(ce),Ge=this.primaryAxisGroupings,ut=0,je=0;je<ce;je++)for(var fe=0,we=Ge[je].Keys;fe<we.length;fe++){var $e=we[fe].Select;c.fF.assertValue($e,"select");var ot=he[$e];c.fF.assertValue(ot,"inputScopeColumn"),Re[ut++]=ot}for(var _t={column:Le,inputScope:Re,respectInstanceFilters:Xe.RespectInstanceFilters},dt=this.calcInfo,Tt=0,Wt=De.Ids;Tt<Wt.length;Tt++){var Zt=dt[Wt[Tt]];c.fF.assertValue(Zt,"aggregateCalcInfo"),Zt.scopedAggregateCalcMetadata={metadata:_t,aggregateKind:this.getAggregateKind(Xe)}}}},Ue.prototype.fillDataShapeScopeAggregateValues=function(){var De=this.dataShapeParser;if(De){var Le=this.calcInfo;De.reset();var Xe=De.next();c.fF.assert(function(){return Xe},"There must be a DataShape");for(var et=function(){var ce=Le[De.calcId()];if(!ce||!ce.scopedAggregateCalcMetadata)return"continue";var Re=ce.scopedAggregateCalcMetadata,Ge=Re.metadata,ut=Ge.column,je=Ge.inputScope,ae=Ge.respectInstanceFilters,fe={inputScope:je,respectInstanceFilters:ae,values:{},highlight:{}};if(ut.scopedAggregates){var we=_.find(ut.scopedAggregates,function(ot){return Ue.sameScopedAggregatesInputScope(ot.inputScope,je)&&ot.respectInstanceFilters===ae});we?fe=we:ut.scopedAggregates.push(fe)}else ut.scopedAggregates=[fe];var ze=void 0;switch(ce.calcKind){case 7:ze=fe.values;break;case 8:ze=fe.highlight;break;default:c.fF.assertFail("Invalid CalcKind.")}var $e=De.calcValue();switch(Re.aggregateKind){case 3:ze.min=$e;break;case 2:ze.max=$e;break;case 6:ze.avg=$e;break;default:c.fF.assertFail("Invalid scoped aggregate function.")}};De.nextCalc();)et()}},Ue.sameScopedAggregatesInputScope=function(De,Le){if(De===Le)return!0;if(De.length!==Le.length)return!1;for(var Xe=0;Xe<De.length;Xe++)if(De[Xe]!==Le[Xe])return!1;return!0},Ue}(),y=function(){function Ue(De,Le,Xe,et){this.context=De,this.dsrParser=Le,this.metadata=Xe,c.fF.assertValue(De,"context"),c.fF.assertValue(Le,"dsrParser"),c.fF.assertValue(Xe,"metadata"),c.fF.assertNonEmpty(Xe.columns,"metadata.columns"),this.aggregator=new n(De),this.scopedAggregatesEnabled=et}return Ue.prototype.run=function(){var De=this,Le=this.aggregator,Xe=this.dsrParser;Xe.reset();var et=Xe.dataShapes();this.calcInfoCache={};var he=et.next();c.fF.assert(function(){return he},"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(et),c.fF.assert(function(){return De.context.maxPrimaryDepth>0||!_.isEmpty(De.context.measureSelectIndices)},"DSR is not compatible with Matrix"),Le.read(et,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var ce=et.secondaryHierarchy(),Re=this.readHierarchy(1,ce,et),Ge=et.primaryHierarchy(),ut=this.readHierarchy(0,Ge,et);return Le.copyToColumns(),{rows:ut,columns:Re,valueSources:this.valueSources}},Ue.prototype.createHierarchiesLevels=function(){var De=this.context.selects,Le=this.context.maxPrimaryDepth,Xe=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(Le),this.secondaryHierarchyLevels=new Array(Xe);for(var et=0;et<Le;et++)this.primaryHierarchyLevels[et]={sources:[]};for(et=0;et<Xe;et++)this.secondaryHierarchyLevels[et]={sources:[]};var he=this.metadata.columns,ce=he.length,Re=this.columnIndexToZoneIndex=new Array(ce);for(et=0;et<ce;et++){var Ge=he[et],ut=Ge.index;if(null!=ut){var je=De[ut],ae=void 0;je.Kind===a.hk.Group&&(null!=je.Depth?ae=this.primaryHierarchyLevels[je.Depth].sources:null!=je.SecondaryDepth&&(ae=this.secondaryHierarchyLevels[je.SecondaryDepth].sources),c.fF.assertValue(ae,"Grouping Select not belonging to either Hierarchy"),Re[et]=ae.length,ae.push(Ge))}}},Ue.prototype.readHierarchy=function(De,Le,Xe){var et,he,ce=this.valueSources.length;switch(De){case 0:if(he=this.context.maxPrimaryDepth,!(et=this.context.primaryAxisGroupings))return c.fF.assert(function(){return 0===he},"No primary groupings"),c.fF.assert(function(){return ce>0},"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(Le);break;case 1:if(he=this.context.maxSecondaryDepth,!(et=this.context.secondaryAxisGroupings))return c.fF.assert(function(){return 0===he},"No secondary groupings"),0===ce?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:c.fF.assertFail("Unexpected DataShapeHierarchy")}c.fF.assert(function(){return he===_.size(et)},"Groupings-Hierarchy mismatch");var Re={levels:0===De?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};1===De&&ce>1&&Re.levels.push(this.createColumnHierarchyMeasuresLevel());var Ge=this.context.primarySynchronizedGroups;0===De&&Ge&&this.readRowsSynchronizedGroups(Ge,Re,Xe);var ut=this.context;return this.readNodeChildren(ut,ut.calcInfo,this.columnIndexToZoneIndex,ut.dataMemberIdToIdentityBuilder,ut.dataMemberIdToMetadata,Re.root,Le,0,De,ce,this.context.maxSecondaryDepth,Re.levels),!_.isEmpty(Re.root.children)&&!_.isEmpty(Re.synchronizedGroups)&&this.ensureRowNodeSynchronization(Re.root,0),Re},Ue.prototype.readRowsSynchronizedGroups=function(De,Le,Xe){c.fF.assertNonEmpty(De,"No Primary Synchronized Groups"),c.fF.assertValue(Le,"hierarchy");var et=De.length;Le.synchronizedGroups=new Array(et),this.primarySynchronizedGroupByLevel=new Array(Le.levels.length);for(var he=Xe.nestedDataShapes(),ce=function(je){var ae=De[je],fe=ae.groupings;c.fF.assert(function(){return!_.isEmpty(fe)},"Empty synchronized group");var we=he[ae.dataShapeId];c.fF.assertValue(we,"no dataShapeParser for a SynchronizedGroup");var ze=we.next();c.fF.assert(function(){return ze},"Nested DataShape not found");var $e=we.primaryHierarchy();c.fF.assertValue($e,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var ot=Le.synchronizedGroups[je]={levels:new Array,root:{}},_t=0;_t<fe.length;_t++){var ke=fe[_t],dt=ot.levels[_t]=Le.levels[ke];dt.valueSources&&((Le.levels[ke]=(0,u.ED)(dt)).valueSources=dt.valueSources,delete dt.valueSources)}Re.primarySynchronizedGroupByLevel[fe[0]]=ot;for(var Wt=Re.metadata.columns,Kt=new Array(Wt.length),Zt=function(gr){for(var mr=Wt[gr],Sr=0,Mr=ot.levels;Sr<Mr.length;Sr++){var Gt=_.findIndex(Mr[Sr].sources,function(rr){return rr===mr});if(Gt>-1){Kt[gr]=Gt;break}}},er=0;er<Wt.length;er++)Zt(er);var ar=Re.context.createContextForPrimarySynchronizedGroup(ae,we);Re.readNodeChildren(ar,ar.calcInfo,Kt,ar.dataMemberIdToIdentityBuilder,ar.dataMemberIdToMetadata,ot.root,$e,0,0,0,ar.maxSecondaryDepth,ot.levels,{currentIndex:0})},Re=this,Ge=0;Ge<et;Ge++)ce(Ge)},Ue.prototype.readNodeChildren=function(De,Le,Xe,et,he,ce,Re,Ge,ut,je,ae,fe,we){if(Re&&0!==Re.count())for(var ze;Re.next();){var $e=Re.id(),ot=he[$e];if(ot){var _t=2===ot.kind,ke=_t&&0===Ge,dt=void 0,Tt=void 0;_t||((dt=et[$e])||(dt=et[$e]=new o(De,$e)),Tt=dt.getIdentityFields());var Wt=Re.instances();if(!Wt||0===Wt.count())continue;Tt&&(ce.childIdentityFields=Tt),ze||(ze=ce.children=[]);var Kt=this.calcInfoCache[$e];for(null==Kt&&(Kt=this.calcInfoCache[$e]=[]);Wt.next();){var Zt=this.readNode(De,ot,et,he,Le,Xe,Wt,Ge,_t,ke,Kt,ut,je,ae,dt,ot.restartValuesBuilder,fe,we);ze.push(Zt),we&&we.currentIndex++}}}},Ue.prototype.readNode=function(De,Le,Xe,et,he,ce,Re,Ge,ut,je,ae,fe,we,ze,$e,ot,_t,ke){c.fF.assert(function(){return!!$e==!ut},"Unexpected IdentityBuilder"),c.fF.assert(function(){return!(ut&&ot)},"Subtotal nodes should not have RestartValues");var dt=De.aggregateCalcMetadata,Tt={level:Ge};Le.forSynchronization&&(c.fF.assertValue(ke,"undefined synchronizedGroupLeafIndex while parsing Master List"),Tt.synchronizationIndex=ke.currentIndex),1===Re.restartFlagKind()&&(Tt.isMerge=!0),ut?Tt.isSubtotal=!0:$e.reset();for(var Wt=[],Kt=Le.isSynchronized,Zt=function(St){var Gt=Re.calcId(),rr=ae[St];if(!rr){if(!(rr=he[Gt]))return"continue";ae[St]=rr}if(10===rr.calcKind){var Fr=Re.calcValue();return c.fF.assert(function(){return"number"==typeof Fr},"Synchronization Index is expected to be a number"),Tt.synchronizationIndex=Fr,"continue"}var wr=rr.columnIndex;c.fF.assert(function(){return!0===rr.isGroupKeyButNotSelect==(null==wr)},"Unexpected columnIndex");var Vr=ce[wr];c.fF.assert(function(){return!0===rr.isGroupKeyButNotSelect==(null==Vr)},"Unexpected zoneIndex");var Ar=rr.kind,vr=void 0;if(Ar===a.hk.Group){if(!Kt){var $r=Re.calcValueAsExpr();vr=$r.value,rr.isGroupKeyButNotSelect||(Wt[Vr]={value:vr,levelSourceIndex:Vr}),$e.addExpr(Gt,$r)}}else if(Ar===a.hk.Measure){c.fF.assertValue(rr.selectIdx,"Measure Calc ".concat(Gt," on DataMember instances must be related to a Select"));var Qr=er.measuresGroupingScopeBySelectIndex[rr.selectIdx];c.fF.assertValue(Qr,"Calc ".concat(Gt," has an undefined grouping scope")),c.fF.assert(function(){return 0===Qr.secondary},"Calc ".concat(Gt," is grouped by Secondary while appearing on DataMember")),c.fF.assert(function(){return 0===fe},"Measure Calcs cannot appear on Secondary Hierarchy DataMembers");var zr,Or=void 0;0===ze&&Qr.primary===_t.length?(zr=we,null==Tt.values&&(Or=Tt.values={}),Or=Tt.values):(zr=_t[Ge].valueSources[0].length,Tt.nodeValues||(Tt.nodeValues={0:{}}),Or=Tt.nodeValues[0]),c.fF.assert(function(){return Vr<zr},"Measure index out-of-bound");var Xr=Or[Vr];Xr||(Xr=Or[Vr]={},Vr>0&&(Xr.valueSourceIndex=Vr)),vr=Re.calcValue(),er.readNodeValueCalc(Xr,vr,rr),er.scopedAggregatesEnabled&&rr.scopedAggregateCalcMetadata&&er.setScopeAggregateValue(Tt,vr,rr,_t[Ge-1]),je&&(2===rr.calcKind||5===rr.calcKind)&&(c.fF.assertValue(De.aggregateCalcMetadata[Gt],"Grand Total AggregateMetadata is undefined"),p.A1.fillMetadataColumnAggregate(vr,dt[Gt]))}else c.fF.assertFail("Unexpected SelectKind");if(!Kt&&rr.hasDuplicateColumnIndices)for(var Nr=0,Yr=De.calcIdToColumnIndices[Gt];Nr<Yr.length;Nr++){var Zr=ce[Yr[Nr]];Wt[Zr]||(Wt[Zr]={value:vr,levelSourceIndex:Zr})}},er=this,ar=0;Re.nextCalc();ar++)Zt(ar);if(!ut&&!Kt){Tt.levelValues=Wt,Tt.value=Wt[0].value,Tt.identity=$e.getIdentity();var sr=Re.restartKind();sr&&(1===sr?Tt.restartKind=1:2===sr?Tt.restartKind=2:3===sr&&(Tt.restartKind=3),Tt.restartKind&&(c.fF.assertValue(ot,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),Tt.restartValues=ot.getRestartValues(Re)))}var gr=Re.intersections(),mr=Re.members();if(gr)c.fF.assert(function(){return null==mr},"non-leaf node with intersections"),this.readIntersectionsValues(he,ce,we,Tt,gr);else if(mr){if(c.fF.assert(function(){return null==gr},"non-leaf node with intersections"),this.readNodeChildren(De,he,ce,Xe,et,Tt,mr,Ge+1,fe,we,ze,_t,ke),Le.isSynchronized&&!_.isEmpty(Tt.children)){var Sr=Tt.children[0].synchronizationIndex;void 0!==Sr&&(Tt.synchronizationIndex=Sr)}}else 1===fe&&we>1&&(Ge===ze-1||Tt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(Tt);return Tt},Ue.prototype.setScopeAggregateValue=function(De,Le,Xe,et){c.fF.assertValue(De,"node"),c.fF.assert(function(){return void 0!==Le},"calcValue"),c.fF.assertValue(Xe,"calcInfo");var Re,he=Xe.scopedAggregateCalcMetadata,ce=this.findDataViewNodeAggregates(De,he.metadata);switch(Xe.calcKind){case 7:Re=ce.values;break;case 8:Re=ce.highlight;break;default:c.fF.assertFail("Invalid Aggregate CalcInfo.")}switch(he.aggregateKind){case 2:Re.max=Le;break;case 3:Re.min=Le;break;case 6:Re.avg=Le;break;default:c.fF.assertFail("Unexpected DataViewAggregateKind.")}var Ge=he.metadata,ut=et.aggregates;ut?_.some(ut,function(ae){return ae.column===Ge.column&&S.sameScopedAggregatesInputScope(ae.inputScope,Ge.inputScope)&&ae.respectInstanceFilters===Ge.respectInstanceFilters})||ut.push(Ge):et.aggregates=[Ge]},Ue.prototype.findDataViewNodeAggregates=function(De,Le){var et,Xe=De.aggregateValues;return Xe?(et=_.find(Xe,function(he){var ce=he.metadata;return ce.column===Le.column&&S.sameScopedAggregatesInputScope(ce.inputScope,Le.inputScope)&&ce.respectInstanceFilters===Le.respectInstanceFilters}))||Xe.push(et={metadata:Le,values:{},highlight:{}}):De.aggregateValues=[et={metadata:Le,values:{},highlight:{}}],et},Ue.prototype.readIntersectionsValues=function(De,Le,Xe,et,he){if(0!==Xe)for(var ce=et.values={},Re=0;he.next();){for(var Ge=0;Ge<Xe;Ge++){var ut=ce[Xe*Re+Ge]={};Ge>0&&(ut.valueSourceIndex=Ge)}for(;he.nextCalc();){var je=De[he.calcId()];if(je){var ae=Le[je.columnIndex];c.fF.assertValue(ae,"Intersection calculation has no matching column index"),c.fF.assertValue(ut=ce[Xe*Re+ae],"nodeValue not found"),this.readNodeValueCalc(ut,he.calcValue(),je)}}Re++}},Ue.prototype.readNodeValueCalc=function(De,Le,Xe){switch(c.fF.assertValue(De,"nodeValue"),c.fF.assert(function(){return void 0!==Le},"calcValue"),c.fF.assertValue(Xe,"calcInfo"),Xe.calcKind){case 1:case 4:De.value=Le,this.aggregator.update(Le,Xe.selectIdx);break;case 2:case 5:De.value=Le;break;case 3:case 6:case 9:De.highlight=Le;break;case 7:case 8:case 10:break;default:c.fF.assertNever(Xe.calcKind)}},Ue.prototype.createRowHierarchyForNoGroupings=function(De){var Le={level:0,values:{}},Xe={levels:[],root:{children:[Le]}};c.fF.assert(function(){return 1===De.count()},"DSR with no groupings should have one DataMember"),De.next();var et=De.instances();return c.fF.assertValue(et,"instancesParser"),this.readNodeForNoGroupings(Le,et),Xe},Ue.prototype.readNodeForNoGroupings=function(De,Le){c.fF.assert(function(){return 1===Le.count()},"DSR with no groupings should have one Instance");var Xe=this.context.calcInfo,et=this.columnIndexToZoneIndex;Le.next();for(var he=De.values={};Le.nextCalc();){var Re=Xe[Le.calcId()];if(Re){var Ge=et[Re.columnIndex],ut=he[Ge];ut||(ut=he[Ge]={},Ge>0&&(ut.valueSourceIndex=Ge)),this.readNodeValueCalc(ut,Le.calcValue(),Re)}}},Ue.prototype.createColumnHierarchyForNoGroupings=function(){var De=[],Le={};return this.valueSources.length>0&&(De=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(Le)),{levels:De,root:Le}},Ue.prototype.createColumnHierarchyMeasuresLevel=function(){for(var De=this.valueSources.length,Le=new Array(De),Xe=0;Xe<De;Xe++)Le[Xe]=this.valueSources[Xe];return{sources:Le}},Ue.prototype.createColumnHierarchyMeasuresNodes=function(De){for(var Le=null==De.level?0:this.context.maxSecondaryDepth,Xe=this.valueSources.length,et=De.children=new Array(Xe),he=De.isSubtotal,ce=0;ce<Xe;ce++){var Re=et[ce]={level:Le};ce>0&&(Re.levelSourceIndex=ce),he&&(Re.isSubtotal=!0)}},Ue.prototype.readValueSources=function(De){var Le=this,Xe=this.context,et=Xe.selects,he=Xe.measureSelectIndices,ce=he.length,Re=Xe.selectIndexToColumn,Ge=Xe.selectIndexToColumnIndex,ut=this.columnIndexToZoneIndex;c.fF.assertValue(he,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var je={};if(De.calcCount()>0){for(;De.nextCalc();)je[De.calcId()]=!0;De.restartCalcs()}for(var ae=function($e){var ot=he[$e],_t=et[ot];c.fF.assert(function(){return _t.Kind===a.hk.Measure},"Expected a Measure Select"),c.fF.assertValue(_t.Value,"Every Measure Select must have a Calc Id");var ke=Ge[ot],dt=fe.measuresGroupingScopeBySelectIndex[ot]=fe.getMeasureGroupingScope(_t,je[_t.Value]);if(!dt)return"continue";var Tt=dt.primary,Wt=dt.secondary,Kt=void 0;if(Tt===fe.context.maxPrimaryDepth&&Wt===fe.context.maxSecondaryDepth)Kt=fe.valueSources;else{c.fF.assert(function(){return 0===Wt},"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),c.fF.assert(function(){return Tt<=Le.primaryHierarchyLevels.length},"Arbitrary-scope cannot be more specific than inner-most scope");var Zt=fe.primaryHierarchyLevels[Tt-1];Zt.valueSources||(Zt.valueSources={0:[]}),Kt=Zt.valueSources[0]}var er=Re[ot];if(c.fF.assertValue(er,"Measure column not found"),ut[ke]=Kt.length,Kt.push(er),_t.DynamicFormat&&_t.DynamicFormat.Format){var ar=er.formatSource&&er.formatSource.formatString;c.fF.assertValue(ar,"DynamicFormat column not found"),ut[ke+1]=Kt.length,Kt.push(ar)}},fe=this,we=0;we<ce;we++)ae(we)},Ue.prototype.getMeasureGroupingScope=function(De,Le){return null==De.Depth&&null==De.SecondaryDepth?Le?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=De.Depth?De.Depth+1:0,secondary:null!=De.SecondaryDepth?De.SecondaryDepth+1:0}},Ue.prototype.ensureRowNodeSynchronization=function(De,Le){var Xe=this;if(c.fF.assert(function(){return!Xe.isRowLeaf(De)},"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(De)){var et=this.primarySynchronizedGroupByLevel[Le];if(et)return void this.synchronizeNodeChildren(De,et.root);var he=De.children;c.fF.assertNonEmpty(he,"Jagged hierarcy found!");for(var ce=Le+1,Re=0,Ge=he;Re<Ge.length;Re++)this.ensureRowNodeSynchronization(Ge[Re],ce)}},Ue.prototype.synchronizeNodeChildren=function(De,Le){if(!this.isRowLeaf(De)){var Xe=De.level+1,et=Le.children;if(_.isEmpty(et))return void this.ensureRowNodeSynchronization(De,Xe);var he=et.length,ce=De.children||[],Re=new Array(he);De.children=Re;var ut,je,Ge=0;je=null==(ut=Ge<ce.length?ce[Ge]:void 0)?void 0:ut.synchronizationIndex;for(var ae=0;ae<he;ae++){var fe=et[ae],we=fe.synchronizationIndex,ze=this.copyFromMasterNode(fe);ze.level=Xe,Re[ae]=ze,ut&&je===we?(c.fF.assert(function(){return ut.level===Xe},"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(ut,ze),this.synchronizeNodeChildren(ze,fe),Ge++,je=null==(ut=Ge<ce.length?ce[Ge]:void 0)?void 0:ut.synchronizationIndex):void 0===je||we<je?this.isRowLeaf(ze)||(ze.children=[],this.synchronizeNodeChildren(ze,fe)):c.fF.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}},Ue.prototype.copyFromMasterNode=function(De){var Le={};if(Le.synchronizationIndex=De.synchronizationIndex,De.identity&&(Le.identity=De.identity),void 0!==De.value&&(Le.value=De.value),void 0!==De.isSubtotal&&(Le.isSubtotal=De.isSubtotal),De.levelValues){var Xe=De.levelValues.length;Le.levelValues=new Array(Xe);for(var et=0;et<Xe;et++){var he=De.levelValues[et];Le.levelValues[et]={value:he.value,levelSourceIndex:he.levelSourceIndex}}}return void 0!==De.restartKind&&(Le.restartKind=De.restartKind),void 0!==De.restartValues&&(Le.restartValues=De.restartValues),Le},Ue.prototype.copyFromExistingNode=function(De,Le){De.aggregateValues&&(Le.aggregateValues=De.aggregateValues),De.values&&(Le.values=De.values),De.nodeValues&&(Le.nodeValues=De.nodeValues),c.fF.assert(function(){return!(_.isEmpty(De.children)&&!_.isEmpty(Le.children))},"A non-leaf master node matches a leaf node"),De.children&&(Le.children=De.children),De.childIdentityFields&&!Le.childIdentityFields&&(Le.childIdentityFields=De.childIdentityFields)},Ue.prototype.isRowLeaf=function(De){return!(De.level!==this.context.maxPrimaryDepth-1&&!De.isSubtotal||(c.fF.assert(function(){return _.isEmpty(De.children)},"A leaf node should not have children"),0))},Ue}(),E=function(){function Ue(De,Le){this.context=De,this.dsrParser=Le,this.aggregator=new n(De)}return Ue.prototype.run=function(){return this.parseSingle()},Ue.prototype.parseSingle=function(){var De=this.dsrParser;De.reset();var Le=De.dataShapes(),Xe=Le.next();return c.fF.assert(function(){return Xe},"There must be a DataShape"),this.aggregator.read(Le,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(Le.primaryHierarchy()):this.parseSubtotal(Le.primaryHierarchy())},Ue.prototype.parseMeasureValue=function(De){for(c.fF.assert(function(){return 1===De.count()},"call parseMeasureValue only when there's one datamember with no grouping");De.next();)return this.parseInstance(De.instances())},Ue.prototype.parseSubtotal=function(De){for(;De.next();)if(2===this.context.dataMemberIdToMetadata[De.id()].kind)return this.parseInstance(De.instances())},Ue.prototype.parseInstance=function(De){for(var et,he,Le=this.context,Xe=Le.calcInfo;De.next();)for(;De.nextCalc();){var ce=De.calcId(),Re=Xe[ce];if(Re){var Ge=Re.calcKind,ut=2===Ge;(1===Ge||ut)&&(et=De.calcValue(),he=Re.selectIdx,ut&&(c.fF.assertValue(Le.aggregateCalcMetadata[ce],"AggregateCalcMetadata for calc must exist."),p.A1.fillMetadataColumnAggregate(et,Le.aggregateCalcMetadata[ce])))}}if(void 0!==et)return{column:Le.selectIndexToColumn[he],value:et}},Ue.isCompatible=function(De){return 0===De.maxSecondaryDepth&&1===De.measureSelectIndices.length},Ue}(),P=function(){function Ue(De,Le,Xe){this.context=De,this.dsrParser=Le,this.metadata=Xe,c.fF.assertValue(De,"context"),c.fF.assertValue(Le,"dsrParser"),c.fF.assertValue(Xe,"metadata"),this.aggregator=new n(De)}return Ue.prototype.run=function(){if(this.isCompatible()){var Le={columns:this.metadata.columns},Xe=this.dsrParser;Xe.reset();var et=Xe.dataShapes(),he=et.next();c.fF.assert(function(){return he},"There must be a DataShape");var ce=this.aggregator;ce.read(et);var Re=et.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(Le,Re):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(Le,Re):c.fF.assert(function(){return!1},"Upsupported maxPrimaryDepth value"),ce.copyToColumns(),Le}},Ue.prototype.readRows=function(De,Le){var et,ce,Xe=this.context,he=this.getRowCellsCount(Le);for(Le.reset();Le.next();){var Re=Le.id(),Ge=Xe.dataMemberIdToMetadata[Re];if(Ge){var ut=Ge.kind,je=Le.instances(),ae=[];if(1===ut){var fe=Xe.dataMemberIdToIdentityBuilder[Re];fe||(fe=Xe.dataMemberIdToIdentityBuilder[Re]=new o(Xe,Re));var we=Ge.axisGrouping,ze=je.count();et=new Array(ze);for(var $e=new Array(ze),ot=0;je.next();ot++)1===je.restartFlagKind()&&(ce=ot),fe.reset(),et[ot]=this.readRow(je,we,ae,he,fe,!1),$e[ot]=fe.getIdentity();_.isEmpty($e)||(De.identity=$e),De.identityFields=fe.getIdentityFields()}else if(2===ut){if(0===he)continue;for(;je.next();){c.fF.assert(function(){return null==De.totals},"Totals can only be assigned once.");var _t=this.readRow(je,null,ae,he,null,!0),ke=_t.length;for(ot=0;ot<ke;ot++)void 0===_t[ot]&&(_t[ot]=null);De.totals=_t}}else c.fF.assert(function(){return!1},"Unsupported DataMemberKind");De.rows=et,void 0!==ce&&(De.lastMergeIndex=ce)}}},Ue.prototype.readRow=function(De,Le,Xe,et,he,ce){var ut,Re=this.aggregator,Ge=new Array(et),je=0===Xe.length;je&&Le&&(c.fF.assert(function(){return De.calcCount()>0},"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),ut=this.createCalcIdToGroupingIdentityIndexMap(Le),Xe.length=De.calcCount());for(var ae=this.context,fe=ae.aggregateCalcMetadata,we=0;De.nextCalc();we++){var ze=De.calcId();if(je){var $e=ut&&ut[ze],ot=ae.calcInfo[ze],_t=ot&&ot.columnIndex;ot&&(3===ot.calcKind||6===ot.calcKind||9===ot.calcKind)&&(_t=null),Xe[we]={axisGroupingIndex:$e,columnIndex:_t,hasDuplicateColumnIndices:ot&&ot.hasDuplicateColumnIndices,isGroupKeyOnly:null!=$e&&null==_t,selectIndex:ot&&ot.selectIdx,aggregateMetadata:fe[ze]}}var dt=Xe[we];if(null!=dt.columnIndex){var Tt=De.calcValue();if(Ge[dt.columnIndex]=Tt,ce?p.A1.fillMetadataColumnAggregate(Tt,dt.aggregateMetadata):Re.update(Tt,dt.selectIndex),dt.hasDuplicateColumnIndices)for(var Wt=0,Kt=ae.calcIdToColumnIndices[ze];Wt<Kt.length;Wt++){var Zt=Kt[Wt];void 0===Ge[Zt]&&(Ge[Zt]=Tt)}}he&&he.addExpr(ze,De.calcValueAsExpr())}return Ge},Ue.prototype.readRowWithoutGrouping=function(De,Le){if(c.fF.assert(function(){return Le.count()<=1},"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),Le.next()){var Xe=Le.instances(),et=[];if(c.fF.assert(function(){return Xe.count()<=1},"There must be maximum one DataMemberInstance since there is no grouping."),Xe.next()){for(var he=[];Xe.nextCalc();){var ce=Xe.calcId(),Re=this.context.calcInfo[ce];Re&&3!==Re.calcKind&&(he[Re.columnIndex]=Xe.calcValue())}et.push(he)}De.rows=et}},Ue.prototype.getRowCellsCount=function(De){for(De.reset();De.next();){var Le=De.id(),Xe=this.context.dataMemberIdToMetadata[Le];if(Xe&&1===Xe.kind){var et=De.instances();if(et.next()){for(var he=0;et.nextCalc();){var ce=et.calcId(),Re=this.context.calcInfo[ce];Re&&(1===Re.calcKind||2===Re.calcKind)&&(Re.hasDuplicateColumnIndices?he+=_.size(this.context.calcIdToColumnIndices[ce]):he++)}return he}}}return 0},Ue.prototype.createCalcIdToGroupingIdentityIndexMap=function(De){for(var Le={},Xe=De.Keys,et=this.context.selects,he=Xe.length,ce=0;ce<he;ce++){var Re=Xe[ce];Le[Re.Calc||et[Re.Select].Value]=ce}return Le},Ue.prototype.isCompatible=function(){var De=this.context;return 0===De.maxSecondaryDepth&&De.maxPrimaryDepth<=1},Ue}(),x=function(){function Ue(De,Le){this.context=De,this.dsrParser=Le,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new n(De)}return Ue.prototype.run=function(){if(this.isCompatible()){var De={};return this.parseTree(De),{root:De}}},Ue.prototype.parseTree=function(De){var Le=this.dsrParser;Le.reset();var Xe=Le.dataShapes(),et=Xe.next();c.fF.assert(function(){return et},"There must be a DataShape");var he=this.context.maxPrimaryDepth;this.aggregator.read(Xe,1===he),0===he?this.parseDataMembersWithNoGrouping(De,Xe.primaryHierarchy()):this.parseDataMembers(De,Xe.primaryHierarchy(),0),this.parseAggregates(De)},Ue.prototype.parseDataMembers=function(De,Le,Xe){for(;Le.next();){var et=this.context,he=Le.id(),ce=et.dataMemberIdToMetadata[he];if(ce){var Re=Le.instances(),Ge=this.calcIndexToCalcMetadataDictionary[he];switch(Ge||(this.calcIndexToCalcMetadataDictionary[he]=Ge=[]),ce.kind){case 1:var ut=et.dataMemberIdToIdentityBuilder[he];ut||(ut=new o(et,he),et.dataMemberIdToIdentityBuilder[he]=ut);var je=ut.getIdentityFields();je&&(De.childIdentityFields=je),this.parseInstances(De,Re,Ge,ut,!1,Xe);break;case 2:this.parseInstances(De,Re,Ge,null,!0,Xe);break;default:c.fF.assert(function(){return!1},"Unsupported DataMemberKind")}}}},Ue.prototype.parseInstances=function(De,Le,Xe,et,he,ce){var Re=this.context,Ge=this.aggregator,ut=Re.aggregateCalcMetadata,je=De.children;for(he||(c.fF.assertValue(et,"identityBuilder"),!je&&Le.count()>0&&(je=De.children=new Array(Le.count())));Le.next();){var ae=void 0,fe=void 0,we=void 0;he||et.reset();var ze=0===Xe.length;ze&&(Xe.length=Le.calcCount());for(var $e=function(Wt){he&&(ae=De.values),ae||(ae={});var Kt=Le.calcId();ze&&(Xe[Wt]=Re.calcInfo[Kt]);var er=Xe[Wt];if(!er)return"continue";var ar=Le.calcValue(),sr=er.calcKind,gr=er.kind,mr=er.selectIdx;if(he)c.fF.assert(function(){return gr!==a.hk.Group},"subtotal cannot be of grouping kind."),ot.addTreeNodeMeasureValues(ae,mr,sr,ar),0===ce&&p.A1.fillMetadataColumnAggregate(ar,ut[Kt]);else{var Sr=er.isGroupKeyButNotSelect;Sr||ot.addTreeNodeMeasureValues(ae,mr,sr,ar),gr===a.hk.Group?(Sr||(we=ar),et.addExpr(Kt,Le.calcValueAsExpr())):gr===a.hk.Measure&&1===sr&&(fe=ar,c.fF.assertValue(mr,"selectIndex"),Ge.update(ar,mr))}},ot=this,_t=0;Le.nextCalc();_t++)$e(_t);if(he)De.values=ae,1===Le.restartFlagKind()&&(De.isMerge=!0);else{var ke={values:ae,identity:et.getIdentity()};void 0!==we&&(ke.name=we),void 0!==fe&&(ke.value=fe),1===Le.restartFlagKind()&&(ke.isMerge=!0);var dt=Le.members();dt&&this.parseDataMembers(ke,dt,ce+1),je[Le.currentIndex()]=ke}}},Ue.prototype.addTreeNodeMeasureValues=function(De,Le,Xe,et){c.fF.assertValue(Le,"selectIndex");var he=De[Le];switch(!he&&this.isSupportedMeasureType(Xe)&&(he=De[Le]={}),Xe){case 1:he.value=et;break;case 2:he.subtotal=et;break;case 3:he.highlight=et}},Ue.prototype.isSupportedMeasureType=function(De){return 1===De||2===De||3===De},Ue.prototype.parseDataMembersWithNoGrouping=function(De,Le){c.fF.assert(function(){return 1===Le.count()},"There can only be one datamember with no grouping"),Le.next();var Xe=Le.instances();c.fF.assert(function(){return 1===Xe.count()},"There can only be one instance for datamember with no grouping"),Xe.next();for(var et,he=this.context.calcInfo;Xe.nextCalc();){De.values||(De.values=et={});var ce=he[Xe.calcId()];if(ce){var Re=ce.calcKind,Ge=Xe.calcValue();this.addTreeNodeMeasureValues(et,ce.selectIdx,Re,Ge),1===Re&&(De.value=Ge)}}},Ue.prototype.isCompatible=function(){return 0===_.size(this.context.secondaryAxisGroupings)},Ue.prototype.parseAggregates=function(De){var Le=this.context;this.aggregator.copyToColumns();for(var Xe=Le.measureSelectIndices,et=Xe.length,he=0;he<et;he++){var ce=Xe[he],Re=Le.selectIndexToColumn[ce].aggregates,Ge=De.values;if(Re){Ge||(Ge=De.values={});var ut=Ge[ce];ut||(ut=Ge[ce]={}),p.A1.copyAggregates(Re,ut)}}},Ue}(),R=t(848625),D=t(25026),A=t(338780);function O(Ue,De){for(var Le=[],Xe={},et=0,he=Ue;et<he.length;et++){var ce=he[et],Re={id:ce.Id,name:ce.Name,component:ce.Component,pageHidden:void 0,start:(0,A.Kk)(ce.Start).valueOf(),end:ce.End?(0,A.Kk)(ce.End).valueOf():void 0,metrics:ce.Metrics,status:1,rootId:De,parentId:ce.ParentId};ce.ParentId?(Xe[ce.ParentId]||(Xe[ce.ParentId]=[]),Xe[ce.ParentId].push(Re)):Le.push(Re)}return N(Le,Xe),Le}function N(Ue,De){for(var Le=0,Xe=Ue;Le<Xe.length;Le++){var et=Xe[Le];De[et.id]&&(et.children=De[et.id],N(et.children,De))}}var w=t(288115),I=t(226514),B=t(283427),j=t(516469),W=t(63931);function k(Ue,De){if(Ue.metadata.dataReduction={},Ue.categorical){var Le=Ue.metadata.dataReduction.categorical={};De.Primary&&(Le.categories=Q(De.Primary)),De.Secondary&&(Le.values=Q(De.Secondary)),De.Intersection&&(Le.metadata=Q(De.Intersection))}Ue.matrix&&(Le=Ue.metadata.dataReduction.matrix={},De.Primary&&(Le.rows=Q(De.Primary)))}function Q(Ue){switch(Ue.Type){case 3:return{binnedLineSample:{}};case 4:return{overlappingPointsSample:{}};default:return{}}}function ee(Ue,De){c.fF.assertValue(Ue,"node");var Le=Ue.values;Le||(Le=Ue.values={});var Xe=Le[De];return Xe||(Xe=Le[De]={}),Xe}function re(Ue,De,Le,Xe){c.fF.assertValue(Ue,"context"),c.fF.assertValue(Le,"dataShape"),c.fF.assertValue(Xe,"metadata"),c.fF.assert(function(){return Ue.includes(2)},"context.includes(StandardDataViewKinds.Matrix)");var et=(0,f.BL)("DSR.matrix(".concat(Ue.perfId,")")),he=[],ce=[],Re=[];!function(Ue,De,Le,Xe,et){c.fF.assertValue(et,"metadataColumns");for(var he=Ue.selects,ce=0,Re=he.length;ce<Re;ce++){var Ge=he[ce];if(Ge){var ut=ne(Ue,et,ce);if(Ge.Kind===a.hk.Measure)Xe.push(ut);else if(null!=Ge.Depth){var je=De[Ge.Depth];null!=je?je.sources.push(ut):De[Ge.Depth]=G([ut])}else if(null!=Ge.SecondaryDepth){var ae=Le[Ge.SecondaryDepth];null!=ae?ae.sources.push(ut):Le[Ge.SecondaryDepth]=G([ut])}Ge.DynamicFormat&&Ge.DynamicFormat.Format&&(c.fF.assertValue(ut.formatSource&&ut.formatSource.formatString,"metadataColumn.formatSource.formatString"),Xe.push(ut.formatSource.formatString))}}var fe=Xe.length;(fe>1||fe>0&&(0===De.length||0===Le.length))&&Le.push(G(Xe))}(Ue,he,ce,Re,Xe.columns);var Ge=[],ut=function(Ue,De,Le,Xe,et,he){if(!et.SecondaryHierarchy||0===et.SecondaryHierarchy.length){var ce={};return He(ce,Le,0,!1),ce}var Re;Xe&&Xe.Secondary&&(Re=Xe.Secondary.Groupings);var Ge=Ce(Ue,De,et.SecondaryHierarchy,Re,function(ut,je,ae,fe,we){if(we<De.length)if(fe.isSubtotal){var ze=De.length-1,$e=De[ze].sources.length;$e>1&&He(fe,$e,ze,!0)}else c.fF.assert(function(){return we===De.length-1},"We only support one extra level in the column hierarchy (for measures)"),He(fe,De[we].sources.length,we,!1);he.push(Te(fe)),Ue.stats.secondary++});return Ge}(Ue,ce,Re.length,De,Le,Ge),je=function(Ue,De,Le,Xe,et){if(Xe.PrimaryHierarchy&&0!==Xe.PrimaryHierarchy.length){var he;Le&&Le.Primary&&(he=Le.Primary.Groupings);var ce=0,Re=0;Le&&(ce=Qe(Le.Primary),Re=Qe(Le.Secondary));var Ge=_.filter(Ue.selects,function(je){return je&&je.Kind===a.hk.Measure}),ut=Ce(Ue,De,Xe.PrimaryHierarchy,he,function(je,ae,fe,we,ze){(function(Ue,De,Le,Xe,et,he,ce){c.fF.assertValue(Le,"instance"),c.fF.assertValue(Xe,"node"),c.fF.assertValue(et,"intersectionToSecondaryAggIdx");var Re=Le.Intersections,Ge={index:0};if(Re)for(var ut=0,je=Re.length;ut<je;ut++)Re[ut].Calculations&&be(Ue,De,Re[ut].Calculations,Xe,Ge,et[ut],he,ce);else be(Ue,De,Le.Calculations,Xe,Ge,0,he,ce)})(ae,Ge,fe,we,et,ce,Re),je.stats.primary++});return ut}}(Ue,he,De,Le,Ge),we={rows:{root:je,levels:he},columns:{root:ut,levels:ce},valueSources:Re};return et(),we}function G(Ue){c.fF.assertValue(Ue,"metadataColumns");for(var De={sources:[]},Le=0,Xe=Ue.length;Le<Xe;Le++)De.sources.push(Ue[Le]);return De}function ne(Ue,De,Le){c.fF.assertValue(De,"metadataColumns");for(var Xe=0,et=De.length;Xe<et;Xe++){var he=De[Xe];if(he&&he.index===Le&&void 0===he.groupName)return he}return Ue.createColumns(De,Le)}function Te(Ue){return c.fF.assertValue(Ue,"node"),Ue.isSubtotal?Ue.level:Ue.level+1}function Qe(Ue){return c.fF.assertAnyValue(Ue,"axis"),Ue&&Ue.Groupings?Ue.Groupings.length:0}function He(Ue,De,Le,Xe){Ue.children=[];for(var et=0;et<De;et++){var he={level:Le};et>0&&(he.levelSourceIndex=et),Ue.children.push(he),Xe&&(he.isSubtotal=!0)}}function Ce(Ue,De,Le,Xe,et){c.fF.assertValue(Ue,"context");var he={};return de(Ue,De,he,Le,Xe,0,et),he}function de(Ue,De,Le,Xe,et,he,ce){if(c.fF.assertValue(Ue,"context"),c.fF.assertValue(Le,"node"),c.fF.assertValue(he,"depth"),Xe)for(var Re=Ue.selects,Ge=function(Ue,De){c.fF.assertAnyValue(Ue,"levelSources"),c.fF.assertValue(De,"depth");var Le=[],Xe=Ue&&Ue[De]&&Ue[De].sources;if(!_.isEmpty(Xe))for(var et=0,he=Xe.length;et<he;et++){var ce=Xe[et];c.fF.assertValue(ce.index,"pre-condition: sourceMetadataColumn.index is defined"),Le[ce.index]=et}return Le}(De,he),ut=0,je=Xe.length;ut<je;ut++)for(var ae=Xe[ut],fe=0,we=0,ze=ae.Instances.length;we<ze;we++){var $e=ae.Instances[we];if(0===fe&&4===(fe=me(Re,et,he,ae,$e)))break;var ot={level:he};if(Le.children||(Le.children=[]),Le.children.push(ot),1===fe){var _t=le(Re,$e.Calculations,Ge);if(!_.isEmpty(_t)){ot.levelValues=_t;var ke=_.last(_t);ot.value=ke.value,ke.levelSourceIndex>0&&(ot.levelSourceIndex=ke.levelSourceIndex)}}else 3===fe&&(ot.isSubtotal=!0);$e.RestartFlag&&1===$e.RestartFlag&&(ot.isMerge=!0),et&&1===fe&&(Le.childIdentityFields=Ue.readKeys(et,he),ot.identity=Ue.readIdentity(et,$e,he));var dt=$e.Members;dt&&dt.length>0?de(Ue,De,ot,dt,et,he+1,ce):ce&&ce(Ue,fe,$e,ot,he+1)}}function le(Ue,De,Le){c.fF.assertValue(Ue,"selects"),c.fF.assertValue(De,"calculations"),c.fF.assertNonEmpty(Le,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var Xe,et=0,he=Ue.length;et<he;et++){var ce=Ue[et];if(ce&&ce.Value&&ce.Kind===a.hk.Group){var Re=p.A1.findAndParseCalculation(De,ce.Value);void 0!==Re&&(Xe||(Xe=[]),Xe.push({levelSourceIndex:Le[et],value:Re}))}}return Xe}function me(Ue,De,Le,Xe,et){if(c.fF.assertValue(Ue,"selects"),c.fF.assertValue(Xe,"member"),De&&De.length>Le&&null!=Xe.Id){var he=De[Le];if(Xe.Id===he.Member)return 1;if(Xe.Id===he.SubtotalMember)return 3}var ce=et.Calculations;if(ce){for(var Re=!1,Ge=0,ut=Ue.length;Ge<ut;Ge++){var je=Ue[Ge];if(je&&p.A1.findCalculation(ce,je.Value)){if(je.Kind===a.hk.Group)return 1;!Re&&je.Kind===a.hk.Measure&&(Re=!0)}}if(Re)return 2}return 4}function be(Ue,De,Le,Xe,et,he,ce,Re){if(c.fF.assertValue(De,"selects"),c.fF.assertValue(Xe,"node"),Le)for(var Ge={index:0},ut=function(we,ze){var $e=De[we];c.fF.assert(function(){return $e.Kind===a.hk.Measure},"measureSelects is expected to have measure select bindings only");var ot=$e.Highlight,ke=ot&&ot.DynamicFormat&&ot.DynamicFormat.Format;if(Be(Ue,Le,Xe,et,Ge,he,ce,Re,0,$e.Value,ot&&ot.Value,$e.Subtotal),$e.DynamicFormat&&$e.DynamicFormat.Format){var dt=_.map($e.SubtotalDynamicFormat,function(Tt){return Tt&&Tt.Format});Be(Ue,Le,Xe,et,Ge,he,ce,Re,0,$e.DynamicFormat.Format,ke,dt)}},je=0,ae=De.length;je<ae;je++)ut(je)}function Be(Ue,De,Le,Xe,et,he,ce,Re,Ge,ut,je,ae){c.fF.assertValue(et,"measureIndex");var fe=ee(Le,Xe.index),we=null;if(3!==Ue&&(we=p.A1.findAndParseCalculation(De,ut)),null==we){var $e=function(Ue,De,Le,Xe,et,he){if(De){var ce=p.A1.computeAggIdx(Le,Xe,et,he);if(ce<De.length)return p.A1.findAndParseCalculation(Ue,De[ce])}}(De,ae,Te(Le),he,ce,Re);void 0!==$e&&(we=$e)}je&&(fe.highlight=p.A1.findAndParseCalculation(De,je)),fe.value=we,et.index>0&&(fe.valueSourceIndex=et.index),Xe.index++,et.index++}var ue=function(){function Ue(De){c.fF.assertValue(De,"context"),this._context=De}return Ue.prototype.read=function(De,Le,Xe){var et=this;c.fF.assertValue(Le,"dataShape");var he={metadata:{columns:[]}};return Xe.script=(0,f.zb)(function(){if(Le.PrimaryHierarchy&&Le.PrimaryHierarchy.length>0){var ce=Le.PrimaryHierarchy[0];if(ce&&ce.Instances.length>0){var je=p.A1.findCalculation(ce.Instances[0].Calculations,et._context.scriptVisualBinding.PayloadCalculationId||et._context.scriptVisualBinding.ImageCalculationId);if(je){var fe=(0,j.K0)(je.Value);fe&&(he.scriptResult={payloadBase64:fe})}}}}),he},Ue}(),ve=function(){function Ue(De){c.fF.assertValue(De,"context"),this.context=De}return Ue.prototype.read=function(De,Le,Xe){var et=this;c.fF.assertValue(Le,"dataShape");var he=this.context,ce=this.readMetadata(Le.IsComplete),Re={metadata:ce},Ge=he.includes(16),ut=he.includes(1),je=he.includes(4),ae=he.includes(8);if(Ge||ut||je||ae){var fe,we=(0,f.zb)(function(){fe=et.parseTree(ce.columns,De,Le),c.fF.assertValue(fe,"root")});Ge&&(Xe.tree=we+(0,f.zb)(function(){var ze=et.createTree(ce,fe);ze&&(Re.tree=ze)})),ut&&(Xe.categorical=we+(0,f.zb)(function(){var ze=et.categorize(ce,fe);ze&&(Re.categorical=ze)})),je&&(Xe.single=we+(0,f.zb)(function(){var ze=et.createSingleValue(ce,fe);ze&&(Re.single=ze)})),ae&&(Xe.table=we+(0,f.zb)(function(){var ze=et.createTable(ce,fe);ze&&(Re.table=ze)}))}return he.includes(2)&&(Xe.matrix=(0,f.zb)(function(){var ze=re(et.context,De,Le,Re.metadata);ze&&(Re.matrix=ze)})),Re},Ue.prototype.readMetadata=function(De){for(var Le={columns:[]},Xe=this.context,et=Xe.selects,he=0,ce=et.length;he<ce;he++)et[he]?Xe.createColumns(Le.columns,he):Xe.actionHistory|=1;return De||(Le.segment={}),Le},Ue.prototype.parseTree=function(De,Le,Xe){var et=(0,f.BL)("DSR.tree(".concat(this.context.perfId,")")),he={},ce=this.context.selects;this.parseRootAggregates(De,he);var Re=p.A1.getTopLevelPrimaryDynamicMember(Xe,Le,!0);if(Re){var Ge=Xe.PrimaryHierarchy[0];Re!==Ge&&this.parseValues(ce,he,Ue.getFirstInstanceCalcs(Ge));var ut=void 0;Le&&Le.Primary&&(ut=Le.Primary.Groupings),this.parseRecursive(he,Re,ut,0,De)}else _.isEmpty(Xe.PrimaryHierarchy)||this.parseValues(ce,he,Ue.getFirstInstanceCalcs(Xe.PrimaryHierarchy[0]));return et(),he},Ue.prototype.parseRecursive=function(De,Le,Xe,et,he){c.fF.assertValue(De,"node"),c.fF.assertValue(Le,"dynamicMember"),c.fF.assertValue(et,"depth"),c.fF.assertAnyValue(he,"columns");var ut,ce=this.context,Re=Le.Instances,Ge=Re.length;Ge&&(De.children=[],0===et&&(ut=We.create(De,ce))),Xe&&(De.childIdentityFields=ce.readKeys(Xe,et));for(var je=0;je<Ge;je++){var ae=Re[je],fe={};De.children.push(fe),ae.RestartFlag&&1===ae.RestartFlag&&(fe.isMerge=!0),this.parseValues(ce.selects,fe,ae.Calculations,ut),Xe&&(fe.identity=ce.readIdentity(Xe,ae,et));var we=ae.Members;if(this.parseAggregates(ce.selects,fe,ae.Calculations,we,et+1),!_.isEmpty(we)){var ze=p.A1.getDynamicMember(we,Xe,et+1);ze&&this.parseRecursive(fe,ze,Xe,et+1)}}ut&&ut.complete(he)},Ue.getFirstInstanceCalcs=function(De){c.fF.assertValue(De,"member");var Le=De.Instances;return Le.length>0?Le[0].Calculations:null},Ue.prototype.parseRootAggregates=function(De,Le){c.fF.assertValue(De,"columns"),c.fF.assertValue(Le,"node");for(var Xe=0,et=De.length;Xe<et;Xe++){var ce=De[Xe].aggregates;ce&&p.A1.copyAggregates(ce,ee(Le,Xe))}},Ue.prototype.parseAggregates=function(De,Le,Xe,et,he){c.fF.assertValue(De,"selects"),c.fF.assertValue(Le,"node"),c.fF.assertAnyValue(Xe,"calculations"),c.fF.assertAnyValue(et,"allMembers");for(var ce=0,Re=De.length;ce<Re;ce++){var Ge=De[ce];if(Ge){var ut=at(Ge,Xe,et,he);ut&&p.A1.copyAggregates(ut,ee(Le,this.context.selectIndexToColumnIndexMap[ce]))}}},Ue.prototype.parseValues=function(De,Le,Xe,et){if(c.fF.assertValue(De,"selects"),c.fF.assertValue(Le,"node"),c.fF.assertAnyValue(Xe,"calculations"),!_.isEmpty(Xe))for(var he=0,ce=0,Re=De.length;he<Re;he++){var Ge=De[he];if(Ge){if(Ge.Value&&void 0!==(ut=p.A1.findAndParseCalculation(Xe,Ge.Value))&&(Ge.Kind===a.hk.Group?Le.name=ut:(Le.value=ut,et&&et.add(ce,ut)),ee(Le,ce).value=ut),Ge.Highlight){var je=p.A1.findAndParseCalculation(Xe,Ge.Highlight.Value);void 0!==je&&(ee(Le,ce).highlight=je)}if(ce++,Ge.DynamicFormat&&Ge.DynamicFormat.Format){var ut=p.A1.findAndParseCalculation(Xe,Ge.DynamicFormat.Format);ee(Le,ce).value=ut,ce++}}}},Ue.prototype.categorize=function(De,Le){if(c.fF.assertValue(De,"metadata"),!this.canCategorize())return null;for(var he,Xe=(0,f.BL)("DSR.categorical(".concat(this.context.perfId,")")),et={},ce=0,Re=De.columns.length;ce<Re;ce++){var Ge=De.columns[ce];if(void 0!==Ge.index){if(!Ge.isMeasure){he||(he=[]),he.push({columnIndex:ce,metadataColumn:Ge});continue}var ut={source:Ge,values:[]},je=Ge.aggregates;je&&p.A1.copyAggregates(je,ut),et.values||(et.values=(0,h.Yv)()),et.values.push(ut)}}if(he){et.categories=[];for(var ae=void 0,fe=0,we=he.length;fe<we;fe++){var ze=he[fe],$e=Le.children,ot={source:ze.metadataColumn,values:[]};if($e)for(var _t=0,ke=$e.length;_t<ke;_t++){var dt=$e[_t];ot.values.push(dt.values[ze.columnIndex].value),0===fe&&(this.writeCategoricalValues(De,dt,et.values),dt.identity&&(ae||(ae=[]),ae.push(dt.identity))),dt.isMerge&&(et.lastMergeIndex=_t)}ae&&(ot.identity=ae),Le.childIdentityFields&&(ot.identityFields=Le.childIdentityFields),et.categories.push(ot)}}else this.writeCategoricalValues(De,Le,et.values);return Xe(),et},Ue.prototype.canCategorize=function(){for(var Le=this.context.selects,Xe=0,et=Le.length;Xe<et;Xe++){var he=Le[Xe];if(he&&he.Depth>0)return!1}return!0},Ue.prototype.createTree=function(De,Le){var Xe=this.context;if(!(2&Xe.actionHistory||1&Xe.actionHistory))return{root:Le};var et=(0,u.ED)(Le),he=De.columns,ce=Le.values;if(ce){for(var Re={},Ge=0;Ge<he.length;Ge++){var ut=he[Ge];void 0!==ut.index&&void 0!==ce[Ge]&&(Re[ut.index]=ce[Ge])}et.values=Re}var je=Le.children;return je&&(et.children=this.removeFormatSourceFromTreeChildren(he,je)),{root:et}},Ue.prototype.removeFormatSourceFromTreeChildren=function(De,Le){for(var Xe=Le.length,et=_.map(Le,function(ae){return ae}),he=0;he<Xe;he++){var ce=(0,u.ED)(et[he]);et[he]=ce;for(var Re={},Ge=0;Ge<De.length;Ge++){var ut=De[Ge];void 0!==ut.index&&void 0!==et[he].values[Ge]&&(Re[ut.index]=et[he].values[Ge])}et[he].values=Re;var je=et[he].children;je&&(et[he].children=this.removeFormatSourceFromTreeChildren(De,je))}return et},Ue.prototype.createTable=function(De,Le){c.fF.assertValue(De,"metadata");for(var Xe,et=this.context.selects,he=0,ce=et.length;he<ce;he++)if(et[he]){var Ge=et[he].Depth;Ge>=0&&(Xe=Math.max(Ge,Xe||0))}if(Xe>0)return null;var je,we,ut=(0,f.BL)("DSR.table(".concat(this.context.perfId,")")),ae=[],fe=De.columns.length;if(Xe>=0){var ze=Le.children;if(ze){he=0;for(var $e=ze.length;he<$e;he++){var ot=ze[he];this.toTableRow(ot,fe,ae),ot.isMerge&&(je=he),ot.identity&&(we||(we=[]),we.push(ot.identity))}}}else c.fF.assert(function(){return 0===(0,B.Hy)(De.columns)},"groups.length=0"),this.toTableRow(Le,fe,ae);var _t=this.toTotals(Le,fe),ke={rows:ae,columns:De.columns};return we&&(ke.identity=we),Le.childIdentityFields&&(ke.identityFields=Le.childIdentityFields),_t&&(ke.totals=_t),je>=0&&(ke.lastMergeIndex=je),ut(),ke},Ue.prototype.toTableRow=function(De,Le,Xe){for(var et=[],he=0;he<Le;he++){var ce=De.values[he];ce&&et.push(ce.value)}Xe.push(et)},Ue.prototype.toTotals=function(De,Le){var Xe=[],et=De.values,he=!1;if(et)for(var ce=0;ce<Le;ce++){var Re=et[ce],Ge=Re?Re.subtotal:null;he=he||null!=Ge,Xe.push(Ge)}return he?Xe:null},Ue.prototype.writeCategoricalValues=function(De,Le,Xe){for(var et=De.columns,he=0,ce=0,Re=et.length;ce<Re;ce++){var Ge=et[ce];if(Ge.isMeasure&&void 0!==Ge.index){var ut=Le.values[ce];if(ut){var je=Xe[he++];je.values.push(ut.value),void 0!==ut.highlight&&(je.highlights||(je.highlights=[]),je.highlights.push(ut.highlight))}}}},Ue.prototype.createSingleValue=function(De,Le){if(c.fF.assertValue(De,"metadata"),c.fF.assertValue(Le,"root"),Le.values){for(var Xe=De.columns,et=null,he=void 0,ce=0,Re=Xe.length;ce<Re;ce++)if(Xe[ce].isMeasure&&null!=Xe[ce].index){if(et)return null;et=Xe[ce],he=ce}if(!et)return null;var Ge=Le.values[he];if(!Ge)return null;var ut=0===(0,B.Hy)(De.columns)?Ge.value:Ge.subtotal;return void 0===ut?null:{column:et,value:ut}}return null},Ue}(),xe=function(){function Ue(De){c.fF.assertValue(De,"context"),this._context=De,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}return Ue.prototype.read=function(De,Le,Xe){var et=this;c.fF.assertValue(Le,"dataShape");var he=this._context,ce={metadata:this.readMetadata(Le.IsComplete)};return he.includes(1)&&(Xe.categorical=(0,f.zb)(function(){var Re=et.categorize(Le,ce.metadata,De);Re&&(ce.categorical=Re)})),he.includes(2)&&(Xe.matrix=(0,f.zb)(function(){var Re=re(et._context,De,Le,ce.metadata);Re&&(ce.matrix=Re)})),ce},Ue.prototype.readMetadata=function(De){for(var Le={columns:[]},Xe=this._context,et=Xe.selects,he=function(je,ae){var fe=et[je];if(!fe)return"continue";if(fe.Kind===a.hk.Measure)return 0===fe.Depth?ce._primaryMeasureSelects.push(fe):ce._measureSelects.push(fe),"continue";c.fF.assert(function(){return fe.Kind===a.hk.Group},"Unexpected Select.Kind");var we=Xe.createColumns(Le.columns,je);fe.SecondaryDepth>=0?(ce._secondarySelects.push(fe),ce._secondaryDepth=Math.max(ce._secondaryDepth||0,fe.SecondaryDepth),ce._seriesColumn=we):0===fe.Depth&&ce._categoriesMetadata.push({select:fe,column:we})},ce=this,Re=0,Ge=et.length;Re<Ge;Re++)he(Re);return De||(Le.segment={}),Le},Ue.prototype.categorize=function(De,Le,Xe){if(c.fF.assertValue(De,"dataShape"),c.fF.assertValue(Le,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var he,ce,et=(0,f.BL)("DSR.categorical(".concat(this._context.perfId,", secondary)"));Xe&&(Xe.Primary&&(he=Xe.Primary.Groupings),Xe.Secondary&&(ce=Xe.Secondary.Groupings));var Re=p.A1.getTopLevelSecondaryDynamicMember(De,Xe),Ge=this.readColumnsFromSecondary(Re,Le,ce,De.Calculations),ut=p.A1.getTopLevelPrimaryDynamicMember(De,Xe),je=this.readCategoriesAndValues(ut,Le,Ge,he),ae={categories:je.categories,values:Ge};return void 0!==je.lastMergeIndex&&(ae.lastMergeIndex=je.lastMergeIndex),et(),ae},Ue.prototype.readColumnsFromSecondary=function(De,Le,Xe,et){c.fF.assertValue(De,"secondaryMember"),c.fF.assertValue(Le,"metadata");var he,ce=this._context;Xe&&(he=ce.readKeys(Xe,0));var Re=[],Ge=ce.selects,ut=this._measureSelects.length,je=[],ae=De.Instances,fe=ae.length;if(fe)for(var we=0;we<fe;we++){var ze=ae[we],$e=ze.Calculations,ot=void 0;Xe&&(ot=ce.readIdentity(Xe,ze,0));for(var _t=0,ke=this._secondarySelects.length;_t<ke;_t++){for(var Tt=p.A1.findAndParseCalculation($e,this._secondarySelects[_t].Value),Wt=[],Kt=0;Kt<ut;Kt++){var er=Ge.indexOf(Zt=this._measureSelects[Kt]),ar=ce.createColumns(Le.columns,er,!0);void 0!==Tt&&(ar.groupName=Tt);var sr={source:ar,values:[]};ot&&(sr.identity=ot),this.addColumnAggregates(et,Zt,sr),Re.push(sr),Wt.push(sr)}je.push({identity:ot,name:Tt,values:Wt})}}else{for(Kt=0;Kt<ut;Kt++){var Zt;er=Ge.indexOf(Zt=this._measureSelects[Kt]),ar=ce.createColumns(Le.columns,er),this.addColumnAggregates(et,Zt,sr={source:ar,values:[]}),Re.push(sr)}je.push({values:(0,I.__spreadArray)([],Re||[],!0)})}Kt=0;for(var gr=this._primaryMeasureSelects.length;Kt<gr;Kt++)er=Ge.indexOf(this._primaryMeasureSelects[Kt]),ar=ce.createColumns(Le.columns,er),Re.push(sr={source:ar,values:[]});he&&(Re.identityFields=he);var Sr=this._seriesColumn;return Sr&&(Re.source=Sr),Re.grouped=function(){return je},Re},Ue.prototype.addColumnAggregates=function(De,Le,Xe){De&&(Le.Max&&(Xe.max=p.A1.findAndParseCalculation(De,Le.Max[0])),Le.Min&&(Xe.min=p.A1.findAndParseCalculation(De,Le.Min[0])))},Ue.prototype.readCategoriesAndValues=function(De,Le,Xe,et){c.fF.assertValue(De,"primaryMember"),c.fF.assertValue(Xe,"values");for(var Ge,he=[],ce=this._categoriesMetadata,Re=ce.length,ut=this._context,je=0;je<Re;je++)he.push(ae={source:ce[je].column,values:[]}),et&&(Ge||(Ge=[]),ae.identity=Ge,ae.identityFields=ut.readKeys(et,0));for(var ze,fe=De.Instances,we=this._primaryMeasureSelects,$e=(je=0,fe.length);je<$e;je++){var ot=fe[je];1===ot.RestartFlag&&(ze=je);for(var _t=0;_t<Re;_t++){var ae;(ae=he[_t]).values.push(p.A1.findAndParseCalculation(ot.Calculations,ce[_t].select.Value))}Ge&&Ge.push(ut.readIdentity(et,ot,0));for(var ke=ot.Intersections,dt=0,Tt=0,Wt=ke.length;Tt<Wt;Tt++)for(var Kt=ke[Tt].Calculations,Zt=0,er=this._measureSelects.length;Zt<er;Zt++)if(void 0!==(sr=p.A1.findAndParseCalculation(Kt,(ar=this._measureSelects[Zt]).Value))&&((gr=Xe[dt++]).values.push(sr),ar.Highlight)){gr.highlights||(gr.highlights=[]);var mr=p.A1.findAndParseCalculation(Kt,ar.Highlight.Value);gr.highlights.push(mr)}for(Tt=0,Wt=we.length;Tt<Wt;Tt++){var ar,gr,sr=p.A1.findAndParseCalculation(Kt=ot.Calculations,(ar=we[Tt]).Value);if((gr=Xe[dt++]).values.push(sr),ar.Highlight){gr.highlights||(gr.highlights=[]);var Sr=p.A1.findAndParseCalculation(Kt,ar.Highlight.Value);gr.highlights.push(Sr)}}}return{categories:he,lastMergeIndex:ze}},Ue}(),ie=function(){function Ue(De,Le,Xe,et){c.fF.assertValue(De,"targets"),c.fF.assert(function(){return null!=Le.Select||null!=Le.ScriptVisualBinding},"descriptor"),c.fF.assertAnyValue(Xe,"perfId"),c.fF.assertValue(et,"aggregateReader"),this.targets=De,this.selects=Le.Select,this.scriptVisualBinding=Le.ScriptVisualBinding,this.perfId=Xe||"",this.stats={id:Xe||void 0,primary:0,secondary:0},this.aggregateReader=et,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}return Ue.prototype.createColumns=function(De,Le,Xe){var he=this.columnMetadata(Le,De.length,Xe);De.push(he);var Re=this.tryCreatingDynamicFormatColumnMetadata(Le,De.length,he);return Re&&De.push(Re),he},Ue.prototype.columnMetadata=function(De,Le,Xe){c.fF.assertValue(De,"selectIndex"),c.fF.assertAnyValue(Xe,"suppressAggregates");var et=this.selects[De];c.fF.assertValue(et,"select");var he={displayName:"",index:De};if(et.Format&&(he.format=et.Format),he.type=p.A1.describeDataType(et.Type,et.DataCategory),et.Kind===a.hk.Measure&&(he.isMeasure=!0),!Xe){var ce=this.aggregateReader.compute(et,Le);ce&&(he.aggregates=ce)}var Re=et.GroupKeys;if(Re)for(var Ge=he.identityExprs=[],ut=0,je=Re;ut<je.length;ut++){var fe=this.convertKey(je[ut]);Ge.push(fe)}return this.selectIndexToColumnIndexMap[De]=Le,he},Ue.prototype.tryCreatingDynamicFormatColumnMetadata=function(De,Le,Xe,et){var he=this.selects[De];if(he.DynamicFormat&&he.DynamicFormat.Format){var ce={displayName:"",isMeasure:!0};Xe.formatSource={formatString:ce};var Re={Kind:a.hk.Measure,Subtotal:_.map(he.SubtotalDynamicFormat,function(ut){return ut&&ut.Format})};if(!et){var Ge=this.aggregateReader.compute(Re,Le);Ge&&(ce.aggregates=Ge)}return this.actionHistory|=2,ce}},Ue.prototype.readIdentity=function(De,Le,Xe){c.fF.assertValue(De,"axisGroupings"),c.fF.assertValue(Xe,"depth");for(var he,et=this.readKeys(De,Xe),ce=De[Xe].Keys,Re=0,Ge=ce.length;Re<Ge;Re++){var ut=ce[Re],ae=p.A1.findAndParseCalculationToSQExpr(Le.Calculations,ut.Calc||this.selects[ut.Select].Value),fe=(0,r.Dg)(et[Re],ae);he=(0,r.xD)(he,fe)}return(0,l.TZ)(he)},Ue.prototype.readKeys=function(De,Le){c.fF.assertValue(De,"axisGroupings"),c.fF.assertValue(Le,"depth");var Xe=this.getAxisCache(De),et=Xe.exprs[Le];if(void 0===et){et=Xe.exprs[Le]=[];for(var he=De[Le].Keys,ce=0,Re=he.length;ce<Re;ce++)et.push(this.convertKey(he[ce]))}return et},Ue.prototype.includes=function(De){return c.fF.assertValue(De,"kind"),(0,V.yE)(this.targets,De)},Ue.prototype.getAxisCache=function(De){c.fF.assertValue(De,"axisGroupings");for(var Le=this.cacheItems,Xe=0,et=Le.length;Xe<et;Xe++){var he=Le[Xe];if(he.axisGroupings===De)return he}var ce={axisGroupings:De,exprs:[]};return Le.push(ce),ce},Ue.prototype.convertKey=function(De){c.fF.assertValue(De,"key");var Le=De.Source;return(0,r.Oh)((0,r.nw)((0,a._H)(Le),Le.Entity||Le.EntitySet),Le.Property)},Ue}(),Fe=function(){function Ue(De,Le){c.fF.assert(function(){return null!=De.Select||null!=De.ScriptVisualBinding},"descriptor"),c.fF.assertValue(Le,"dataShape"),this.dataShape=Le}return Ue.prototype.compute=function(De,Le,Xe){c.fF.assertValue(Le,"columnIndex");var et=this.cache;if(et){var he=et[Le];if(he)return he}if(De){et||(this.cache=et={});var ce=this.dataShape,Re=at(De,ce.Calculations,ce.PrimaryHierarchy,0);return Xe&&!Re&&(Re={}),et[Le]=Re,Re}},Ue.prototype.updateAggregates=function(De,Le,Xe,et){c.fF.assertValue(De,"select"),c.fF.assertValue(Le,"columnIndex"),c.fF.assertValue(Xe,"name"),c.fF.assertAnyValue(et,"value");var he=this.compute(De,Le,!0);if(he)return he[Xe]=et,he},Ue}();function at(Ue,De,Le,Xe){c.fF.assertValue(Ue,"select"),c.fF.assertAnyValue(De,"calculations"),c.fF.assertAnyValue(Le,"allMembers"),c.fF.assertValue(Xe,"depth");var et=!_.isEmpty(Le)&&ve.getFirstInstanceCalcs(Le[0]);if(!_.isEmpty(De)||!_.isEmpty(et)){var he;if(!_.isEmpty(et)&&Ue.Subtotal&&(ce=Ue.Subtotal[Xe])&&void 0!==(Re=p.A1.findAndParseCalculation(et,ce))&&(he||(he={}),he.subtotal=Re),!_.isEmpty(De)){Ue.Max&&(ce=Ue.Max[Xe])&&void 0!==(Re=p.A1.findAndParseCalculation(De,ce))&&(he||(he={}),he.max=Re),Ue.Min&&(ce=Ue.Min[Xe])&&void 0!==(Re=p.A1.findAndParseCalculation(De,ce))&&(he||(he={}),he.min=Re),Ue.Count&&(ce=Ue.Count[Xe])&&void 0!==(Re=p.A1.findAndParseCalculation(De,ce))&&(he||(he={}),he.count=Re);var Ge=Ue.Aggregates;if(Ge)for(var ut=0,je=Ge;ut<je.length;ut++){var ce,Re,ae=je[ut],fe=ae.Aggregate;if((ce=ae.Ids[Xe])&&void 0!==(Re=p.A1.findAndParseCalculation(De,ce))){var we=fe.Percentile;if(we){var ze={k:we.K,value:Re};we.Exclusive&&(ze.exclusive=we.Exclusive),he||(he={});var $e=he.percentiles;$e||($e=he.percentiles=[]),$e.push(ze)}else fe.Average?(he||(he={}),he.average=Re):fe.Median&&(he||(he={}),he.median=Re)}}0===Xe&&(ce=Ue.Value)&&void 0!==(Re=p.A1.findAndParseCalculation(De,ce))&&(he||(he={}),he.single=Re)}return he}}var We=function(){function Ue(De,Le,Xe,et){c.fF.assertValue(De,"node"),c.fF.assertValue(Le,"aggregateReader"),c.fF.assertValue(et,"aggregators"),this.node=De,this.aggregateReader=Le,this.selects=Xe,this.aggregators=et}return Ue.create=function(De,Le){for(var Xe=De.values,et=Le.selects,he=!1,ce={},Re=0,Ge=0,ut=et.length;Re<ut;Re++){var je=et[Re];if(je){if(je.Kind!==a.hk.Measure){Ge++;continue}var fe=void 0,we=void 0;if(Xe&&(we=Xe[Ge])){if(fe=[],void 0===we.min&&fe.push(new p.nc),void 0===we.max&&fe.push(new p._8),0===fe.length){Ge++;continue}}else fe=[new p.nc,new p._8];ce[Ge]=fe,he=!0,Ge++,je.DynamicFormat&&je.DynamicFormat.Format&&Ge++}}if(he)return new Ue(De,Le.aggregateReader,Le.selects,ce)},Ue.prototype.add=function(De,Le){var Xe=this.aggregators[De];if(Xe)for(var et=0,he=Xe.length;et<he;et++)Xe[et].update(Le)},Ue.prototype.complete=function(De){c.fF.assertValue(De,"columns");for(var Le=this.aggregators,Xe=this.node,et=this.aggregateReader,he=0,ce=0,Re=this.selects.length;he<Re;he++){var Ge=this.selects[he];if(Ge){var ut=Le[ce];if(!ut){ce++;continue}for(var je=0,ae=ut.length;je<ae;je++){var fe=ut[je],we=fe.value();if(void 0!==we){var ze=fe.name;ee(Xe,ce)[ze]=we,De[ce].aggregates=et.updateAggregates(Ge,ce,ze,we)}}ce++,Ge&&Ge.DynamicFormat&&Ge.DynamicFormat.Format&&ce++}}},Ue}();function Oe(Ue){if(c.fF.assertAnyValue(Ue,"dsr"),2===Ue.Version)return!0}function Ze(Ue){return c.fF.assertAnyValue(Ue,"dsr"),Ue.MinorVersion}function Ee(Ue,De,Le,Xe,et,he){if(c.fF.assertValue(De,"arg"),!De)return null;var ce;De.data&&(De=De.data),he&&he.isRunning()&&(ce=he.createChildActivity({name:"Parse Query Result"}));var Re={},Ge=De,ut=(0,s.z)();_.isString(De)&&(Re.dsrLength=De.length,Re.jsonParse=(0,f.zb)(function(){Ge=JSON.parse(De)}),ce&&ce.setProperty("metrics",{jsonParse:Re.jsonParse}));var je=function(Ue,De,Le,Xe,et,he,ce,Re,Ge,ut,je,ae,fe,we,ze){if(!Le)return null;var $e,ot;if(Re||(Re={}),4&Ue&&(Ue|=8),Oe(Le)){if(ot="dsr2-read",performance&&performance.mark&&performance.mark(ot+"-start"),Re.mode="V2",1!==_.size(Le.DS))return null;var _t=(0,d.Ei)(De),ke=(0,w.KI)(Le,_t);$e=function(Ue,De,Le,Xe,et){var he={columns:Ue.createDataViewMetadataColumns()},ce={dataView:{metadata:he}};if(function(Ue,De){Ue.reset();var Le=Ue.dataShapes();c.fF.assert(function(){return 1===Le.count()},"DSR has multiple DataShapes"),Le.next(),Le.complete()||(De.dataView.metadata.segment={},De.restartToken=Le.restartTokens())}(De,ce),Ue.includes(2)){var Re,Ge=(0,f.zb)(function(){Re=function(Ue,De,Le,Xe){return new y(Ue,De,Le,Xe).run()}(Ue,De,he,et),Re&&(ce.dataView.matrix=Re,De.lockCache())});Re&&(Le.matrix=Ge)}if(Ue.includes(1)){var ut,je=(0,f.zb)(function(){ut=function(Ue,De,Le,Xe){if(m.isCompatible(Ue))return(new m).run(Ue,De,Le)}(Ue,De,he),ut&&(ce.dataView.categorical=ut,De.lockCache())});ut&&(Le.categorical=je)}if(Ue.includes(8)){var ae,fe=(0,f.zb)(function(){ae=function(Ue,De,Le){return new P(Ue,De,Le).run()}(Ue,De,he),ae&&(ce.dataView.table=ae,De.lockCache())});ae&&(Le.table=fe)}if(Ue.includes(16)){var we,ze=(0,f.zb)(function(){we=function(Ue,De){return new x(Ue,De).run()}(Ue,De),we&&(ce.dataView.tree=we,De.lockCache())});we&&(Le.tree=ze)}if(Ue.includes(4)){var $e,ot=(0,f.zb)(function(){$e=function(Ue,De){if(E.isCompatible(Ue))return new E(Ue,De).run()}(Ue,De),$e&&(ce.dataView.single=$e)});$e&&(Le.single=ot)}return ce}(new S(Ue,De,_t,we,ke.dataShapes()),ke,Re,0,we),ke.reset();var Tt=ke.dataShapes(),Wt=Tt.next();if(c.fF.assert(function(){return Wt},"There must be a DataShape"),Tt.limitsExceeded()){$e.warnings||($e.warnings=[]);var Kt=new R.x(De,function(Ue){for(var De=Ue.limits(),Le=De.count(),Xe=new Array(Le),et=0;et<Le;et++)De.next(),Xe[et]={Id:De.id()};return Xe}(Tt),function(Ue){for(var De=new Array(Ue.calcCount()),Le=0;Ue.nextCalc();Le++)De[Le]={Id:Ue.calcId(),Value:Ue.calcValue()};return De}(Tt));$e.warnings.push(Kt),k($e.dataView,Kt.limits)}(function(Ue,De){var Le=Ue.messages();if(Le)for(;Le.next();)D.py[Le.code()]&&Le.severity()===(0,D.sK)(0)&&(De.warnings||(De.warnings=[]),De.warnings.push(Le.dsrMessage()))})(Tt,$e),$e.dataView&&!_.isEmpty(he)&&((0,v.dj)($e.dataView,he),$e.disallowPersisting=!0)}else ot="dsr1-read",performance&&performance.mark&&performance.mark(ot+"-start"),Re.mode="V1Old",$e=function(Ue,De,Le,Xe,et,he,ce){if(c.fF.assertValue(Ue,"targets"),c.fF.assertAnyValue(De,"descriptor"),c.fF.assertValue(Le,"dsr"),c.fF.assertAnyValue(he,"clientSideFilters"),!function(Ue){return Ue&&1===_.size(Ue.DataShapes)}(Le))return null;var Re=Le.DataShapes[0];if(Re["odata.error"]){var ut=new W.Ow(Re["odata.error"]);return et&&(ut.requestId=et),{error:ut}}var ae=new ie(Ue,De,ce,new Fe(De,Re)),fe=function(Ue){if(c.fF.assertValue(Ue,"context"),null!=Ue.scriptVisualBinding)return new ue(Ue);for(var De=0,Le=0,Xe=Ue.selects,et=0,he=Xe.length;et<he;et++){var ce=Xe[et];ce&&(null!=ce.Depth&&(De=Math.max(De,ce.Depth+1)),null!=ce.SecondaryDepth&&(Le=Math.max(Le,ce.SecondaryDepth+1)))}return Le>=1&&1===De?new xe(Ue):new ve(Ue)}(ae).read(De.Expressions,Re,Xe),we={dataView:fe};if(Re.RestartTokens&&(we.restartToken=Re.RestartTokens),Re.DataLimitsExceeded&&Re.DataLimitsExceeded.length>0){we.warnings||(we.warnings=[]);var ze=new R.x(De,Re.DataLimitsExceeded,Re.Calculations);we.warnings.push(ze),k(fe,ze.limits)}if(Re.DataShapeMessages&&Re.DataShapeMessages.length>0)for(var $e=0,ot=Re.DataShapeMessages;$e<ot.length;$e++){var _t=ot[$e];D.py[_t.Code]&&_t.Severity===(0,D.sK)(0)&&(we.warnings||(we.warnings=[]),we.warnings.push(new D.lp(_t)))}return we.dataView&&!_.isEmpty(he)&&((0,v.dj)(we.dataView,he),we.disallowPersisting=!0),c.fF.log("DSR.stats",ae.stats),we}(Ue,De,Le,Re,et,he,ce);return $e&&($e.timestamp=je,$e.fromCache=ae,fe&&!$e.fromCache&&($e.performanceActivities=O(fe.Events,ze&&ze.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(ot+"-end"),performance.measure&&performance.measure(ot,ot+"-start",ot+"-end")),Re.total=(0,s.z)()-ut,Ge&&Ge.logEvent(b.h1,{jsonparse:Re.jsonParse,categorical:Re.categorical,table:Re.table,tree:Re.tree,matrix:Re.matrix,single:Re.single,script:Re.script,total:Re.total,mode:Re.mode,targetDataView:Ue,dsrLength:Re.dsrLength,id:ce}),$e}(Ue,Ge.descriptor,Ge.dsr,0,Ge.requestId,Ge.clientSideFilters,et,Re,Xe,ut,Ge.timestamp,Ge.fromCache,Ge.metrics,Le.scopedAggregates,he);if(null!=Le&&Le.queryContext){var ae=Ge.queryContext;ae&&(je.queryContext=ae)}return ce&&ce.resolve(),je}function Ne(Ue){if(c.fF.assertAnyValue(Ue,"dataViewSource"),!Ue)return!1;var De=Ue.data;return _.isString(De)&&(De=(0,e.K)(De)),!_.isEmpty(De)&&function(Ue){if(Ue)if(Oe(Ue)){for(var De=(0,w.KI)(Ue,void 0).dataShapes();De.next();)if(De.hasRestartTokens())return!0}else for(var Xe=0,et=Ue.DataShapes;Xe<et.length;Xe++)if(!_.isEmpty(et[Xe].RestartTokens))return!0;return!1}(De.dsr)}},179582:function(Je,H,t){t.d(H,{PE:function(){return p},xV:function(){return r}});var e=t(787941),c=t(932178),s=t(383052),f=t(520907),v=t(820919),p=function(){function o(a,i,m,u,V){this.addVisualIdToQueryDataAsHttpBodyId=V,this.preferredMaxBatchesConfigured=a>0,this.maxBatches=this.preferredMaxBatchesConfigured?a:4,this.queryExecuteCallback=i,this.pending=[],this.timeoutService=m,this.telemetryV2Enabled=u,this.useHttp2QueryDataEnabled=c.M.browserSupportsHttp2()}return o.prototype.enqueue=function(a){var i=this;if(!function(o,a){var i=a.options;if(1===i.executionType){e.fF.assertValue(i.queryId,"queryId");var m=_.findIndex(o,function(u){return u.options.queryId===i.queryId});if(m>-1)return e.fF.assert(function(){return o[m].execution.rejected()},"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,a))return this.pending.push(a),this.currentBatchDeferred||(this.currentBatchDeferred=a.options.telemetryV2Enabled?new s.GG(!0):$.Deferred(),this.timeoutService.setTimeout(-1,this.telemetryV2Enabled).promise.then(function(){var V=i.createBatches();i.clearPending(),i.queryExecuteCallback(V),i.currentBatchDeferred.resolve(),i.currentBatchDeferred=void 0})),a.options.telemetryV2Enabled?this.currentBatchDeferred.promise:this.currentBatchDeferred.promise()},o.prototype.clearPending=function(){this.pending=[]},o.prototype.setMaxBatches=function(a){this.maxBatches=a,this.preferredMaxBatchesConfigured=a>0},o.prototype.createBatches=function(){var a=[],i=this.sortQueriesByDataSource(),m=this.maxBatches,u=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(i,function(g){return _.some(g.dataSources,function(y){return y.isLimitedParallelQueryModel})})||(m=20,u=!0)),i.length>=m)for(var d=0,S=i.length;d<S;++d)a.push(this.createBatchFromDataSourceGroup(i[d]));else a=this.splitDataSourcesIntoBatches(i,m);return u&&_.forEach(a,function(g){return g.useSynchronous=!0}),a},o.prototype.sortQueriesByDataSource=function(){var i,a=this;i=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,function(V){return null===(y=null===(g=null===(S=null==(d=V.options)?void 0:d.applicationContext)||void 0===S?void 0:S.Sources)||void 0===g?void 0:g[0])||void 0===y?void 0:y.VisualId;var d,S,g,y}):{"":this.pending};var u=[];return _.forEach(i,function(V){var d=[];_.forEach(V,function(S){if(!function(o){return!!(0,v.I3)(o)&&o.execution.rejected()}(S)){var g=a.findDataSourceGroup(S.options.dataSources,d,S.options.cacheResponseOnServer);g?g.queuedExecutions.push(S):d.push({dataSources:S.options.dataSources,queuedExecutions:[S],cacheResponseOnServer:S.options.cacheResponseOnServer,cacheOptions:S.options.cacheOptions})}}),u.push.apply(u,d)}),u},o.prototype.findDataSourceGroup=function(a,i,m){for(var u=0,V=i.length;u<V;++u){var d=i[u];if((0,f.fS)(a,d.dataSources)&&d.cacheResponseOnServer===m)return d}return null},o.prototype.createBatchFromDataSourceGroup=function(a){for(var i=[],m=[],u=[],V=a.queuedExecutions,d=[],S=[],g=function(M,P){var T=V[M],x=V[M].options,R=V[M].enqueueActivity;(0,v.I3)(T)?(i.push(x),u.push(T.deferred),R&&d.push(R),V[M].queryActivity&&S.push(V[M].queryActivity)):(e.fF.assert(function(){return 1===x.executionType},"Only CancelQuery executions are not rejectable."),m.push(x))},y=0,C=V.length;y<C;++y)g(y);return{dataSources:a.dataSources,queryOptions:i,cancelQueryOptions:m,promises:u,cacheOptions:a.cacheOptions,cacheResponseOnServer:a.cacheResponseOnServer,enqueueActivities:d,queryActivities:S}},o.prototype.splitDataSourcesIntoBatches=function(a,i){for(var m=[],u=0,V=a.length;u<V;++u)m.push(this.createBatchFromDataSourceGroup(a[u]));return this.splitBatches(m,i)},o.prototype.splitBatches=function(a,i){for(var m=a.slice();m.length<i;){for(var u=void 0,V=0,d=m.length;V<d;++V){var S=m[V];S.queryOptions.length>1&&(!u||u.queryOptions.length<S.queryOptions.length)&&(u=S)}if(!u)return m;m.push(this.splitBatch(u)),u=null}return m},o.prototype.splitBatch=function(a){var i=a.queryOptions.length,m=a.queryOptions.splice(i/2),u=a.promises.splice(i/2),V=a.enqueueActivities.splice(i/2),d=a.queryActivities.splice(i/2),S=a.cancelQueryOptions.length,g=[];return S&&(g=a.cancelQueryOptions.splice(S/2)),{dataSources:a.dataSources,queryOptions:m,promises:u,cacheOptions:a.cacheOptions,cacheResponseOnServer:a.cacheResponseOnServer,cancelQueryOptions:g,enqueueActivities:V,queryActivities:d}},o}();function r(o,a,i,m,u){return{queryOptions:_.map(o,function(V){return{command:V,dataSources:a}}),cancelQueryOptions:[],cacheOptions:i,dataSources:a,cacheResponseOnServer:m,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:u}}},820919:function(Je,H,t){t.d(H,{I3:function(){return b},K4:function(){return s},u5:function(){return c}});var e=t(787941);function c(h,p,n){var l=_.map(h.queryOptions,function(m){var u=m.command,d={Query:u,CacheKey:m.cacheResponseOnServer?JSON.stringify(u):void 0,CacheOptions:h.cacheOptions,QueryId:m.queryId};return m.applicationContext&&(d.ApplicationContext=m.applicationContext),1===m.requestPriority&&(d.RequestPriority=1),d}),r=_.map(h.cancelQueryOptions,function(m){return{QueryId:m.queryId}}),o=function(h){return e.fF.assertNonEmpty(h,"dataSources"),e.fF.assert(function(){return 1===h.length},"dataSources.length === 1"),_.head(h)}(h.dataSources),a={version:f,queries:l,cancelQueries:r,modelId:o.modelId,userPreferredLocale:p.getUserPreferredLocale()};if(n&&n.impersonating){var i=n.getImpersonationState();i.modelId===a.modelId&&_.extend(a,i)}return a}function s(h){return _.some(h.queries,function(p){return _.some(p.Query.Commands,function(n){var l;return null===(l=n.SemanticQueryDataShapeCommand)||void 0===l?void 0:l.Extension})})}var f="1.0.0";function b(h){return null!=h&&void 0!==h.deferred&&void 0!==h.execution}},249679:function(Je,H,t){t.d(H,{N8:function(){return e},_H:function(){return c},hk:function(){return s}});var e=void 0;function c(f){return f.Schema||e}var s=function(f){return f[f.None=0]="None",f[f.Group=1]="Group",f[f.Measure=2]="Measure",f}({})},522802:function(Je,H,t){t.d(H,{$z:function(){return s},cm:function(){return l}});var e=t(226514),c=t(787941);function s(r,o){!function(r,o,a){if(c.fF.assertValue(o,"visitor"),r){o.visitDescriptor(r,a);var i=r.Select;if(i&&i.length)for(var m=0,u=i.length;m<u;m++)o.visitSelect(i[m],a);var V=r.Expressions;V&&function(r,o,a){c.fF.assertValue(r,"expressions"),o.visitExpressions(r,a),c.fF.assertValue(r.Primary,"Primary"),b(r.Primary,o,a);var i=r.Secondary;i&&b(i,o,a)}(V,o,a)}}(r,o,void 0)}function b(r,o,a){c.fF.assertValue(r,"axis"),o.visitDataShapeExpressionsAxis(r,a);var i=r.Groupings;c.fF.assertValue(i,"groupings");for(var m=0,u=i.length;m<u;m++)h(i[m],o,a)}function h(r,o,a){c.fF.assertValue(r,"grouping"),o.visitDataShapeExpressionsAxisGrouping(r,a);var i=r.Keys;c.fF.assertValue(i,"keys");for(var m=0,u=i.length;m<u;m++)p(i[m],o,a)}function p(r,o,a){c.fF.assertValue(r,"groupingKey"),o.visitDataShapeExpressionsAxisGroupingKey(r,a),c.fF.assertValue(r.Source,"Source"),o.visitConceptualPropertyReference(r.Source,a)}var l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return(0,e.__extends)(o,r),o}(function(){function r(){}return r.prototype.visitDescriptor=function(o,a){},r.prototype.visitSelect=function(o,a){},r.prototype.visitExpressions=function(o,a){},r.prototype.visitDataShapeExpressionsAxis=function(o,a){},r.prototype.visitDataShapeExpressionsAxisGrouping=function(o,a){},r.prototype.visitDataShapeExpressionsAxisGroupingKey=function(o,a){},r.prototype.visitConceptualPropertyReference=function(o,a){},r}())},171986:function(Je,H,t){t.d(H,{Q:function(){return f}});var e=t(883863),c=t(787941),s=t(249679),f=function(){function v(b,h){c.fF.assertValue(b,"metadata"),c.fF.assertValue(b.Select,"metadata.Select"),c.fF.assertValue(h,"binding"),h.ScriptVisualBinding||(c.fF.assertValue(h.Select,"binding.Select"),c.fF.assert(function(){return b.Select.length<=h.Select.length},"Metadata should have the same number or fewer select items as Binding.")),this._metadata=b,this._binding=h}return v.prototype.getSelectRestatements=function(){return this.getRestatements()},v.prototype.getGroupRestatements=function(){return this.getRestatements(s.hk.Group)},v.prototype.getMeasureRestatements=function(){return this.getRestatements(s.hk.Measure)},v.prototype.getFilterRestatements=function(){var b=this._metadata.Filters;if(_.isEmpty(b))return null;for(var h=[],p=0,n=b.length;p<n;p++){var l=b[p];h.push(l?l.Restatement:"")}return(0,e.rm)(h)},v.prototype.getRestatements=function(b){var h=this._metadata,p=this._binding,n=[];if(!p.ScriptVisualBinding)for(var l=0,r=h.Select.length;l<r;l++){var o=p.Select[l];o&&(void 0===b||o.Kind===b)&&n.push(h.Select[l].Restatement||"")}return(0,e.rm)(n)},v}()},662950:function(Je,H,t){t.d(H,{Zl:function(){return ve},cd:function(){return Ze},Jz:function(){return Ue}});var e=t(226514),c=t(456535),s=t(474147),f=t(883863),v=t(787941),b=t(870817),h=t(238435),p=t(474505),n=t(838592),l=t(454262),r=t(601139),o=t(13106),a=t(324356),i=t(334048),m=t(154369);function u(je){v.fF.assertValue(je,"mapping"),je.categorical&&function(je){if(v.fF.assertValue(je,"categorical"),!je.dataReductionAlgorithm){je.categories&&y(je.categories);var ae=je.values;ae&&ae.group&&function(je){v.fF.assertValue(je,"mapping"),v.fF.assertValue(je.group,"mapping.group"),je.group.dataReductionAlgorithm||(je.group.dataReductionAlgorithm={top:{}})}(ae)}}(je.categorical),je.table&&function(je){v.fF.assertValue(je,"table"),je.rows&&y(je.rows)}(je.table),je.matrix&&function(je){v.fF.assertValue(je,"matrix"),je.rows&&y(je.rows),je.columns&&y(je.columns)}(je.matrix)}function y(je){v.fF.assertValue(je,"mapping"),!je.dataReductionAlgorithm&&!function(je){var ae=je.select;return!!ae&&_.some(ae,function(fe){return!!fe.dataReductionAlgorithm})}(je)&&(je.dataReductionAlgorithm={top:{}})}var P=t(620006),T=t(322487);function x(je,ae){if(v.fF.assertValue(je,"expansionState"),v.fF.assert(function(){return ae>=0},"lastActiveLevelIndex >= 0"),!_.isEmpty(je.levels)&&0!==ae){v.fF.assertValue(je.root,"expansionState.root");var fe=D(je.root,-1,ae,je.levels);if(fe){for(var we=new Array(fe.depth),ze=new P.cL(null),$e=0;$e<fe.depth;$e++)we[$e]=R(je.levels[$e],ze);var ot=[];return T.ib.serializeFrom(ze,ot),{From:ot,Levels:we,Instances:fe.instance}}}}function R(je,ae){return v.fF.assertValue(je,"level"),{Expressions:_.map(je.identityKeys,function(ze){var $e=o.cX.rewrite(ze,ae,ae);return T.ib.serializeExprWithRef($e)}),Default:je.isCollapsed?0:1}}function D(je,ae,fe,we){v.fF.assertValue(je,"node");var ze=-1===ae,$e=ae+1===fe,ot=!ze&&!!we[ae].isCollapsed;if(je.isToggled||!(ot||$e||_.isEmpty(je.children))){var dt,_t=!ze&&!ot&&je.isToggled,Tt=0;if(!$e&&!_.isEmpty(je.children)&&!_t){dt=[];for(var Wt=0,Kt=je.children;Wt<Kt.length;Wt++){var Zt=Kt[Wt];v.fF.assertNonEmpty(Zt.identityValues,"child.identityValues");var er=D(Zt,ae+1,fe,we);er&&(Tt=Math.max(Tt,er.depth+1),dt.push(er.instance))}}if(je.isToggled||!_.isEmpty(dt)){var ar={};return _.isEmpty(je.identityValues)||(ar.Values=_.map(je.identityValues,function(sr){return T.ib.serializeExpr(sr)})),_.isEmpty(dt)||(ar.Children=dt),{depth:Tt,instance:ar}}}}function L(je){if(je&&je.root){var ae=F(je.root),fe=A(ae),we=new P.cL(null);v.fF.assert(function(){return fe<=_.size(je.levels)},"Missing levels in window expansion state");var ze=_.take(je.levels,fe),$e=_.map(ze,function(_t){return function(je,ae){v.fF.assertValue(je,"Level must be defined");var fe=_.map(je.identityKeys,function(we){var ze=o.cX.rewrite(we,ae,ae);return T.ib.serializeExprWithRef(ze)});return{Expressions:fe,Default:0}}(_t,we)}),ot=[];return T.ib.serializeFrom(we,ot),{From:ot,Levels:$e,WindowInstances:ae}}}function F(je){return v.fF.assertValue(je,"Window expansion instance is not defined"),{Values:_.map(je.identityValues,function(ae){return T.ib.serializeExpr(ae)}),WindowExpansionInstanceWindowValue:_.map(je.windowValues,function(ae){return{Values:_.map(ae.restartValues,function(fe){return T.ib.serializeExpr(fe)}),WindowStartKind:ae.windowKind}}),Children:_.map(je.children,function(ae){return F(ae)})}}function A(je){return!je||_.isEmpty(je.Children)?0:Math.max.apply(Math,_.map(je.Children,function(ae){return A(ae)}))+1}var N=t(450802);function j(je,ae){v.fF.assertValue(je,"item"),v.fF.assertValue(ae,"newExpr"),je.query=je.query.addSelect(ae);var fe=je.query.select(),we=(0,N.p)(fe,ae),ze=fe[we],$e=je.additionalProjections;return $e||($e=je.additionalProjections=[]),$e.push({queryName:ze.name,selector:null}),{index:we,expr:ae,queryName:ze.name}}var U=function(){function je(){this.queryReferencesByRole={}}return je.findActive=function(ae){var fe=new je;return(0,h.oF)(ae,fe),fe.queryReferencesByRole},je.prototype.visitRole=function(ae){var fe=ae.items;_.isEmpty(ae.activeItems)||(fe=_.filter(fe,function(we){return _.includes(ae.activeItems,we.queryName)})),this.queryReferencesByRole[ae.role]=_.map(fe,function(we){return we.queryName})},je}(),k=t(722972),Q=t(520907);function te(je,ae,fe){var we,ze=[],$e=je.select(),ot=null===(we=$e.withName(ae))||void 0===we?void 0:we.expr;v.fF.assertValue(ot,"Attempting to duplicate a non-existing Select");var _t=je.addSelect(ot),ke=_t.select();v.fF.assert(function(){return ke.length===$e.length+1},"Expected a Select to have ben added");var dt=ke.length-1,Tt=ke[dt];v.fF.assert(function(){return!$e.withName(Tt.name)},"this code assumes that the newly added select is always the last element in updatedSelectClause");var Wt=ae,Kt=Tt.name;return ze.push({selectExprAdded:{selectIndex:dt,namedSQExpr:Tt}}),void 0!==fe&&ze.push({projectionQueryRefChanged:{role:fe,oldQueryRef:Wt,newInternalQueryRef:Kt}}),{rewriteRecords:ze,newQuery:_t,newQueryName:Kt}}function G(je,ae,fe,we){if(je.queryName!==ae.queryName)return!1;var ze=(0,m.P6)(je.selector.data,fe,we),$e=(0,m.P6)(ae.selector.data,fe,we),ot=_.xor(ze,$e);return!_.isEmpty(ot)}function X(je,ae,fe,we){var ze=fe.queryName,$e=je[ze];$e||($e=je[ze]={categoryAndValueGroup:[],categoryOnly:[]});var ot={roleName:ae,roleItem:fe};we?$e.categoryAndValueGroup.push(ot):$e.categoryOnly.push(ot)}function oe(je,ae){v.fF.assertValue(je,"roles"),v.fF.assertValue(ae,"role");for(var fe={for:{in:ae}},we=0,ze=je;we<ze.length;we++)if((0,Q.fS)(ze[we],fe))return;je.push(fe)}var Ve=t(45696),Te=function(){function je(){}return je.prototype.conflictsWith=function(ae){if(this.getQueryName()!==ae.getQueryName())return!1;var fe=_.xor(this.getScopeRefs(),ae.getScopeRefs());return!_.isEmpty(fe)},je}(),Qe=function(je){function ae(fe,we,ze){var ot,_t,$e=this;($e=je.call(this)||this).additionalProjection=fe;var dt=fe.aggregates&&_.isEmpty(null===(ot=fe.selector)||void 0===ot?void 0:ot.data)?[(0,Ve.Ue)()]:null===(_t=fe.selector)||void 0===_t?void 0:_t.data;return $e.scopeRefs=(0,m.P6)(dt,we,ze),$e}return(0,e.__extends)(ae,je),ae.prototype.getQueryName=function(){return this.additionalProjection.queryName},ae.prototype.getScopeRefs=function(){return this.scopeRefs},ae.prototype.updateQueryName=function(fe){this.additionalProjection.queryName=fe},ae.prototype.getRoleName=function(){},ae}(Te),He=function(je){function ae(fe,we,ze){var $e=je.call(this)||this;return $e.roleItem=fe,$e.roleName=we,$e.scopeRefs=ze,$e}return(0,e.__extends)(ae,je),ae.prototype.getQueryName=function(){return this.roleItem.queryName},ae.prototype.getScopeRefs=function(){return this.scopeRefs},ae.prototype.getRoleName=function(){return this.roleName},ae.prototype.updateQueryName=function(fe){this.roleItem.queryName=fe},ae}(Te);function pe(je,ae){var fe,we=ae.queryRewrites||[],$e=te(ae.query,je.getQueryName(),null===(fe=je.getRoleName)||void 0===fe?void 0:fe.call(je));return je.updateQueryName($e.newQueryName),we.push.apply(we,$e.rewriteRecords),{query:$e.newQuery,queryRewrites:we,mappings:ae.mappings,additionalProjections:ae.additionalProjections}}var me=function(){function je(ae){this.expectedContext=ae,this.scopeRefs=[],this.queryRefsByRole={}}return je.prototype.visitRole=function(ae,fe){if(fe===this.expectedContext)for(var we=(0,p.Xw)(ae),ze=this.queryRefsByRole[ae.role]=[],$e=0,ot=we;$e<ot.length;$e++){var _t=ot[$e];this.scopeRefs.push(_t.queryName),ze.push(_t.queryName)}},je}(),be=function(){function je(ae,fe){this.scopeRefs=ae,this.expectedContext=fe,this.rolesMeasures=[]}return je.prototype.visitRole=function(ae,fe){if(fe===this.expectedContext)for(var ze=0,$e=(0,p.Xw)(ae);ze<$e.length;ze++)this.rolesMeasures.push(new He($e[ze],ae.role,this.scopeRefs))},je}(),Be=t(39326),Se=t(374952),Pe=function(){function je(ae){this.selects=ae,this.referencedItems=new Set}return je.prototype.withRestartToken=function(ae){return this},je.prototype.withPrimaryWindowExpansion=function(ae){return this},je.prototype.withDataVolume=function(ae){return this},je.prototype.withIncludeEmptyGroups=function(ae){return this},je.prototype.withHighlightFilter=function(ae){return this},je.prototype.withGroupBy=function(ae){return this},je.prototype.withPrimaryGrouping=function(ae,fe,we,ze,$e,ot){var _t,ke;return ae=this.filterItems(ae,fe,ot),_.isEmpty(ae)||(this.rows=null!==(_t=this.rows)&&void 0!==_t?_t:[],$e&&(ke=_.last(this.rows)),ke||(ke=this.createAxisGroup(),this.rows.push(ke)),this.updateAxisGroup(ke,ae)),this},je.prototype.withPrimaryGroupingNestedByRole=function(ae,fe,we,ze,$e,ot,_t){return this.isRoleSupportHierachryGrouping(_t)?this.withPrimaryGroupingNested(ae,fe,we,ze,ot):this.withPrimaryGrouping(ae,fe,we,ze,$e,ot)},je.prototype.isRoleSupportHierachryGrouping=function(ae){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(ae)},je.prototype.withPrimaryExpansion=function(ae){return this},je.prototype.withPrimarySynchronization=function(ae){return this},je.prototype.withPrimaryGroupingNested=function(ae,fe,we,ze,$e){var ot=this;return ae=this.filterItems(ae,fe,$e),_.isEmpty(ae)||_.each(ae,function(_t){return ot.withPrimaryGrouping([_t],fe,we,ze,!1,$e)}),this},je.prototype.withSecondaryGrouping=function(ae,fe,we,ze,$e){var ot;if(ae=this.filterItems(ae,fe,$e),_.isEmpty(ae))return this;this.columns=null!==(ot=this.columns)&&void 0!==ot?ot:[];var _t=this.createAxisGroup();return this.columns.push(_t),this.updateAxisGroup(_t,ae),this},je.prototype.withSecondaryGroupingNestedByRole=function(ae,fe,we,ze,$e,ot){return this.isRoleSupportHierachryGrouping(ot)?this.withSecondaryGroupingNested(ae,fe,we,ze,$e):this.withSecondaryGrouping(ae,fe,we,ze,$e)},je.prototype.withSecondaryExpansion=function(ae){return this},je.prototype.withSecondaryGroupingNested=function(ae,fe,we,ze,$e){var ot=this;return ae=this.filterItems(ae,fe,$e),_.isEmpty(ae)||_.each(ae,function(_t){return ot.withSecondaryGrouping([_t],fe,we,ze,$e)}),this},je.prototype.withCurrentInnermostGrouping=function(ae,fe,we){return this},je.prototype.withCurrentInnermostPrimaryGrouping=function(ae,fe,we,ze){return this},je.prototype.withPrimaryDataReduction=function(ae){return this},je.prototype.withScopedDataReduction=function(ae,fe){return this},je.prototype.withSecondaryDataReduction=function(ae){return this},je.prototype.withIntersectionDataReduction=function(ae){return this},je.prototype.withTopLevelAggregates=function(ae){return this},je.prototype.withAdditionalProjections=function(ae){return this},je.prototype.withRolesWithHierarchicalGroupingSupport=function(ae){return v.fF.assertAnyValue(ae,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(ae)||(this.rolesWithHierarchicalGroupingSupport=ae),this},je.prototype.toQueryShape=function(ae){var fe=[],we=this.createAxis("rows",this.rows);we&&fe.push(we);var ze=this.createAxis("columns",this.columns);return ze&&fe.push(ze),_.isEmpty(fe)?void 0:fe},je.prototype.createAxis=function(ae,fe){if(this.removeEmptyAxisGroups(fe),!_.isEmpty(fe))return{Name:ae,Groups:fe}},je.prototype.removeEmptyAxisGroups=function(ae){_.isEmpty(ae)||_.remove(ae,function(fe){return _.isEmpty(fe.Keys)})},je.prototype.createAxisGroup=function(){return{Keys:[],Subtotal:!0}},je.prototype.updateAxisGroup=function(ae,fe){for(var we=0,ze=fe;we<ze.length;we++){var $e=ze[we];if(!this.referencedItems.has($e.queryName)){var ot=(0,f.rC)(this.selects,$e.queryName);(0,Se.k)(ot.expr)||(this.referencedItems.add($e.queryName),ae.Keys.push(T.ib.serializeExprWithRef(ot.expr)))}}},je.prototype.filterItems=function(ae,fe,we){if(v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"activeProjection"),_.isEmpty(fe)||_.isEmpty(ae))return ae;var ze=ae.findIndex(function(ot){return ot.queryName===fe[0]});return ae.slice(ze)||(we?[]:ae)},je}(),ue=t(425158);function ve(je){return new ie(T.ib,je)}var ie=function(){function je(ae,fe){v.fF.assertValue(ae,"serializer"),this.serializer=ae,this.featureSwitches=fe}return je.prototype.execute=function(ae){var fe=this.executeForQueryOnlyImpl(ae);if(!fe||!fe.dataShapeBinding&&fe.mergedQueries&&fe.mergedQueries.mapping&&2===fe.mergedQueries.mapping.updateType)return{command:void 0};var we=fe.mergedQueries,ze=fe.dataShapeBinding,$e=fe.query;this.adjustIntersectionDataReduction(ze,we.mapping,$e,ae.highVolumeOverride),_.isEmpty($e.groupBy())||this.applyDataReductionForGroupByQuery(ze,$e);var ot=fe.mergedQueries&&fe.mergedQueries.mapping&&1===fe.mergedQueries.mapping.updateType&&_.isEmpty(ae.additionalProjections);return{command:this.createDataQuery($e,fe.queryExtensionSchema,ae.dataSourceVariables,ze,fe.compiledDataViewMappings,ae.dataWindow,ae.executionMetricsKinds,ae.anchorTime,fe.visualShape),splits:we.splits,queryRewrites:fe.queryRewrites,deferred:ot,isPivoted:null==ze?void 0:ze.isPivoted}},je.prototype.executeForQueryOnly=function(ae){var fe=this.executeForQueryOnlyImpl(ae);return fe&&fe.query},je.prototype.produceIdentities=function(ae,fe){var we=new Be.H;return ae.accept(we,fe)},je.prototype.executeForQueryOnlyImpl=function(ae){v.fF.assertValue(ae,"options");var Tt,fe=(0,ue.Go)(ae.mappings),we=this.prepareQuery(ae.query,fe,ae.additionalProjections),ze=we.query,$e=we.mappings,ot=we.queryRewrites,_t=we.additionalProjections,ke=Ue(ze),dt=(0,k.lr)(fe,ke);!function(je){v.fF.assertValue(je,"mappings");for(var ae=je.length,fe=0;fe<ae;fe++)u(je[fe])}(ae.mappings),ae.highVolumeOverride&&(Tt=6),dt.mapping.categorical&&function(je,ae){var fe=function(){function ze($e){this.indicesByName=$e}return ze.prototype.visitRole=function($e,ot){var _t=this;if(!_.isEmpty($e.items)){for(var ke,dt=0,Tt=$e.items;dt<Tt.length;dt++){var Wt=Tt[dt];Wt.scalarKeyInfo&&null!=Wt.scalarKeyInfo.scalarKeyQueryName&&(v.fF.assert(function(){return null==ke},"Only a single role item with a scalar key is supported."),ke=Wt.scalarKeyInfo.scalarKeyQueryName)}ke&&(v.fF.assert(function(){return null==_t.primaryScalarKey},"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[ke])}},ze}(),we=new fe(ae);(0,h.oF)(je,we),null!=we.primaryScalarKey&&(0,h.oF)(je,{visitRole:function(){},visitReduction:function($e){$e.binnedLineSample&&($e.binnedLineSample.primaryScalarKey=we.primaryScalarKey)}})}(dt.mapping,ke);var Kt,Zt,Wt=function(je,ae,fe,we,ze,$e,ot,_t,ke,dt,Tt,Wt,Kt,Zt,er,ar,sr){var St,gr=$e;if($e)for(var mr=0,Sr=ce([fe],we);mr<Sr.length;mr++)gr=gr.rewrite(Sr[mr]);return $e&&(St=[je.serializeFilter(gr)]),function(je,ae,fe,we,ze,$e,ot,_t,ke,dt,Tt,Wt,Kt,Zt,er,ar,sr){return Ze(function(){return new he(je,fe,Tt,Zt,er,ar)},je,ae,fe,we,ze,$e,ot,_t,ke,dt,Wt,Kt,sr)}(ae,fe,we,ze,St,ot,_t,ke,dt,je,Tt,Wt,Kt,Zt,er,ar,sr)}(this.serializer,ke,dt.mapping,ze.select(),_t,ae.highlightFilter,ae.restartToken,ze.groupBy(),Tt,ae.expansionStates,ae.keepProjectionOrder,ae.noDefaultProjections,ae.windowExpansion,this.featureSwitches,ae.disableHidden,ae.enableAllSubtotal,ae.enableHierarchicalGrouping?ae.rolesWithHierarchicalGroupingSupport:[]);if((0,n.AR)(Wt,$e,dt.mapping,ze.select(),3,Tt),this.queryHasMeasureFilter(ze)&&Wt&&(this.processTargetsForMeasureFilters(ze,$e,Wt),ze=this.adjustQueryMeasureFilters(ze,Wt)),ze.hasVisualCalculations()&&(Kt=function(je,ae,fe,we,ze,$e,ot,_t,ke,dt,Tt,Wt){return Ze(function(){return new Pe(we)},ae,fe,we,ze,[],$e,ot,_t,ke,je,dt,Tt,Wt)}(this.serializer,ke,dt.mapping,ze.select(),_t,ae.restartToken,ze.groupBy(),Tt,ae.expansionStates,ae.noDefaultProjections,ae.windowExpansion,ae.rolesWithHierarchicalGroupingSupport)),ae.queryExtensionLookup){var er=ae.queryExtensionLookup(ze,ot);ze=er.query,Zt=er.extensions,ot=er.queryRewrites}return{query:ze,queryExtensionSchema:Zt,mergedQueries:dt,dataShapeBinding:Wt,compiledDataViewMappings:$e,queryRewrites:ot,visualShape:Kt}},je.prototype.hasAmbiguousEqualitySemantics=function(ae){return v.fF.assertValue(ae,"value"),(0,s.fS)(ae,(0,a.O7)(!1))||(0,s.fS)(ae,(0,a.cA)(0))},je.prototype.prepareQuery=function(ae,fe,we){v.fF.assertValue(ae,"query"),v.fF.assertValue(fe,"mappings"),v.fF.assertAnyValue(we,"additionalProjections");for(var ze=0,$e=ce(fe,ae.select());ze<$e.length;ze++)ae=ae.rewrite($e[ze]);var _t=this.rewriteQuery(ae,fe,we);return _t.query=function(je){v.fF.assertValue(je,"query");for(var fe,ae=je.select(),we=ae.length-1;we>=0;we--)(0,c.VC)(ae[we].expr)&&(ae.splice(we,1),fe=!0);return fe?je.select(ae):je}(_t.query),_t},je.prototype.rewriteQuery=function(ae,fe,we){v.fF.assertValue(fe,"mappings");var ze={query:ae,mappings:fe,additionalProjections:we};return function(je,ae){void 0===ae&&(ae=!1),v.fF.assertValue(je,"rewrittenQuery");var fe=[],we=function(je){if(v.fF.assertNonEmpty(je,"mappings"),!(je.length>1)&&je[0].matrix){var ae=je[0].matrix,fe=new me("MatrixRowsGroup");(0,h.Ay)(ae.rows,fe);var we=new me("MatrixColumnsGroup");(0,h.yL)(ae.columns,we);var ze=(0,e.__spreadArray)((0,e.__spreadArray)([],fe.scopeRefs,!0),we.scopeRefs,!0),$e=new be(ze,"MatrixIntersection");(0,h.hw)(ae.values,$e);var ot=new be(fe.scopeRefs,"MatrixRowsScopedValue");return(0,h.Ay)(ae.rows,ot),{groupingRefsByRole:(0,e.__assign)((0,e.__assign)({},fe.queryRefsByRole),we.queryRefsByRole),roleItemsInfo:(0,e.__spreadArray)((0,e.__spreadArray)([],$e.rolesMeasures,!0),ot.rolesMeasures,!0)}}v.fF.assert(function(){return je.length<=1||null==je[0].matrix&&null==je[1].matrix},"Not expected having two mappings with matrix")}(je.mappings);if(!we)return je;if(fe.push.apply(fe,we.roleItemsInfo),ae&&!_.isEmpty(je.additionalProjections))for(var ze=je.query.select(),$e=0,ot=je.additionalProjections;$e<ot.length;$e++)fe.push(new Qe(ot[$e],ze,we.groupingRefsByRole));return _.isEmpty(fe)||(je=function(je,ae){for(var fe=0;fe<je.length;fe++)for(var we=je[fe],ze=0;ze<fe;ze++)we.conflictsWith(je[ze])&&(ae=pe(we,ae));return ae}(fe,je)),je}(ze=function(je){v.fF.assertValue(je,"item");var ae=je.mappings;if(1!==ae.length)return je;var fe=function(je){var ae,fe;if(v.fF.assertValue(je,"mapping"),(0,h.oF)(je,{visitRole:function(ze){if(ze.aggregates&&!_.isEmpty(ze.items)){ae||(ae={},fe=[]);for(var $e=0,ot=ze.items;$e<ot.length;$e++)ae[ot[$e].queryName]=ze.aggregates;fe.push(ze)}}}),ae)return{queryNames:ae,roles:fe}}(ae[0]);if(!fe)return je;var we=je.queryRewrites;return we||(we=je.queryRewrites=[]),function(je,ae,fe){v.fF.assertValue(je,"item"),v.fF.assertValue(ae,"aggregatedQueryNames"),v.fF.assertValue(fe,"queryRewrites");var we=je.query.select();for(var ze in ae){var $e=we.withName(ze).expr,ot=ae[ze],_t={};ot.min&&(_t.min=j(je,(0,a.m_)($e,3))),ot.max&&(_t.max=j(je,(0,a.m_)($e,4))),fe.push({aggregatesAdded:{originalQueryRef:ze,aggregates:_t}})}}(je,fe.queryNames,we),function(je){v.fF.assertValue(je,"aggregatedColumns");for(var ae=je.queryNames,fe=0,we=je.roles;fe<we.length;fe++){var ze=we[fe];v.fF.assertValue(ze.items,"role.items"),_.remove(ze.items,function($e){return ae[$e.queryName]})}}(fe),je}(ze=function(je){v.fF.assertValue(je,"item");var ae=je.mappings.length;if(1===ae)return je;if(ae>1){var fe=function(je){var ae=je.query,fe=je.mappings,we=je.additionalProjections,ze=je.queryRewrites;v.fF.assertValue(ae,"query"),v.fF.assertNonEmpty(fe,"mappings");for(var $e=[],ot=[],_t={by:null,select:[]},ke={categories:{select:$e},values:{group:_t,select:ot}},dt={},Tt=function(wr){if(!wr.categorical)return{value:void 0};var Vr=wr.categorical;(function(je,ae,fe,we,ze){var ot,$e=je.values;$e&&((0,h.Sr)(je.categories,{visitRole:function(ke){oe(fe,ke)}}),(0,h.vS)($e,{visitRole:function(ke){if(ze.by=ke,ke.items)for(var dt=0,Tt=ke.items;dt<Tt.length;dt++)X(ae,ke.role,Tt[dt],!0),ot=!0}}),(0,h.fl)($e,{visitRole:function(ke,dt){if(oe("CategoricalValueGroup"===dt?ze.select:we,ke),ke.items)for(var Wt=0,Kt=ke.items;Wt<Kt.length;Wt++)X(ae,ke.role,Kt[Wt],ot)}}))})(Vr,dt,$e,ot,_t),v.fF.assert(function(){return null==ke.dataVolume||null==Vr.dataVolume||Vr.dataVolume===ke.dataVolume},"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=Vr.dataVolume&&null==ke.dataVolume&&(ke.dataVolume=Vr.dataVolume)},Wt=0,Kt=fe;Wt<Kt.length;Wt++){var er=Tt(Kt[Wt]);if("object"==typeof er)return er.value}var ar=ze?(0,e.__spreadArray)([],ze,!0):[],sr=ae;for(var gr in dt){var mr=dt[gr];if(!_.isEmpty(mr.categoryAndValueGroup)&&!_.isEmpty(mr.categoryOnly))for(var Sr=0,Mr=mr.categoryAndValueGroup;Sr<Mr.length;Sr++){var St=Mr[Sr],Gt=St.roleItem,rr=te(sr,Gt.queryName,St.roleName);Gt.queryName=rr.newQueryName,sr=rr.newQuery,ar.push.apply(ar,rr.rewriteRecords)}}return{query:sr,mappings:[{metadata:fe[0].metadata,categorical:ke}],queryRewrites:_.isEmpty(ar)?void 0:ar,additionalProjections:we}}(je);return fe=function(je){var ae;if(_.isEmpty(je.additionalProjections))return je;var fe=je.query,we=je.mappings,ze=je.queryRewrites,$e=(0,e.__spreadArray)([],je.additionalProjections,!0);v.fF.assertValue(fe,"query"),v.fF.assert(function(){return 1===we.length},"Mappings should have been merged already");for(var ot=U.findActive(we[0]),_t=ze?(0,e.__spreadArray)([],ze,!0):[],ke=fe,dt=0;dt<$e.length-1;dt++)for(var Tt=$e[dt],Wt=dt+1;Wt<$e.length;Wt++){var Kt=$e[Wt];if(G(Tt,Kt,ke.select(),ot)){var Zt=te(ke,Kt.queryName);ke=Zt.newQuery,_t.push.apply(_t,null!==(ae=Zt.rewriteRecords)&&void 0!==ae?ae:[]),$e[Wt]=(0,e.__assign)((0,e.__assign)({},Kt),{queryName:Zt.newQueryName})}}return{query:ke,mappings:we,queryRewrites:_.isEmpty(_t)?void 0:_t,additionalProjections:$e}}(fe),fe}}(ze)),!0)},je.prototype.adjustIntersectionDataReduction=function(ae,fe,we,ze){if(fe.categorical){var $e=fe.categorical;if($e.dataReductionAlgorithm)if(ae.DataReduction&&ae.DataReduction.Intersection)v.fF.assert(function(){return!(ae.Secondary&&!ae.Primary)},"Should never have only a Secondary axis"),ae.Primary&&!ae.Secondary&&(v.fF.assert(function(){return!ae.DataReduction.Primary},"Should not have both Primary and Intersection data reduction"),ae.DataReduction.Primary=ae.DataReduction.Intersection,ae.DataReduction.Intersection=void 0);else{var ot=ae.Primary&&(!ae.DataReduction||!ae.DataReduction.Primary),_t=ae.Secondary&&(!ae.DataReduction||!ae.DataReduction.Secondary);if(!ot&&!_t)return;ae.DataReduction||(ae.DataReduction={DataVolume:$e.dataVolume||(ze?6:3)}),ot&&(ae.DataReduction.Primary=(0,b.P)($e.dataReductionAlgorithm,we.select())),_t&&(ae.DataReduction.Secondary=(0,b.P)($e.dataReductionAlgorithm,we.select()))}}},je.prototype.applyDataReductionForGroupByQuery=function(ae,fe){ae.DataReduction={},ae.DataReduction.Primary=(0,b.P)({top:{count:1e3}},fe.select())},je.prototype.generateScriptVisualCommand=function(ae,fe){v.fF.assertValue(ae,"dataViewMappings");var we=(0,l.Hc)(ae);if(we||(we=(0,l.QB)(ae)),!we)return null;var ze={Version:0,Script:we.source,RenderingEngine:we.provider,ScriptOutputType:we.outputType};fe&&fe.height&&fe.width&&(ze.ViewportWidthPx=fe.width,ze.ViewportHeightPx=fe.height);var $e=(0,l.oy)(ae);return $e&&$e.script.scriptInput&&(ze.ScriptInput=$e.script.scriptInput),{ScriptVisualCommand:ze}},je.prototype.queryHasMeasureFilter=function(ae){for(var fe=0,we=ae.where();fe<we.length;fe++)if(1===(0,r._)(we[fe].condition))return!0;return!1},je.prototype.removeExprFromTargetExprs=function(ae,fe){for(var we=0,ze=ae;we<ze.length;we++){var ot=ze[we].target;if(null!=ot)for(var _t=0,ke=ot.length;_t<ke;_t++)(0,s.fS)(ot[_t],fe)&&ot.splice(_t,1)}},je.prototype.processTargetsForMeasureFilters=function(ae,fe,we){var ze=this;v.fF.assertValue(ae,"query"),v.fF.assertValue(fe,"mappings"),v.fF.assertAnyValue(we,"binding");for(var $e=this.getProjectedSelectIndexMap(we),ot=0,_t=fe;ot<_t.length;ot++)(0,h.oF)(_t[ot],{visitRole:function(Tt){var Wt=Tt.activeItems,Kt=Tt.items;if(Wt&&!_.isEmpty(Wt)&&!_.isEmpty(Kt))for(var Zt=_.findIndex(Kt,function(Sr){return _.includes(Wt,Sr.queryName)}),er=0;er<Zt;er++){var ar=Kt[er].queryName,sr=ae.select(),gr=(0,f.g2)(sr,ar);if(!$e[gr]){var mr=sr[gr].expr;ze.removeExprFromTargetExprs(ae.where(),mr)}}}})},je.prototype.adjustQueryMeasureFilters=function(ae,fe){var we=ae.where(),ze=[],$e=[];if(_.isEmpty(fe.Primary.Groupings)||_.isEmpty(fe.Primary.Groupings[0].Projections)||!_.isEmpty(fe.Secondary))return ae;for(var ot=ae.select(),ke=0,dt=fe.Primary.Groupings[0].Projections;ke<dt.length;ke++)if(!(0,Se.k)(ot[dt[ke]].expr))return ae;for(var Kt=0,Zt=we;Kt<Zt.length;Kt++){var er=Zt[Kt];_.isEmpty(er.target)?$e.push(er):ze.push(er)}if(_.isEmpty(ze))return ae;var ar=o.vQ.createWith({from:ae.from(),select:ae.select(),orderBy:ae.orderBy(),top:ae.top(),transforms:ae.transforms(),groupBy:ae.groupBy(),where:$e}),sr=o.yl.fromMeasureFilters(ae,ze,fe);return ar.addSemanticFilter(sr)},je.prototype.getProjectedSelectIndexMap=function(ae){return v.fF.assertAnyValue(ae,"binding"),ae?_.chain([ae.Primary,ae.Secondary]).filter(function(we){return we&&!_.isEmpty(we.Groupings)}).map(function(we){return we.Groupings}).flatten().filter(function(we){return!_.isEmpty(we.Projections)}).map(function(we){return we.Projections}).flatten().reduce(function(we,ze){return we[ze]=!0,we},{}).value():{}},je.prototype.createDataQuery=function(ae,fe,we,ze,$e,ot,_t,ke,dt){var Tt={Query:this.serializer.serializeQuery(ae),Binding:ze,AnchorTime:ke};fe&&(Tt.Extension=fe),we&&(Tt.DataSourceVariables=we),_t&&(Tt.ExecutionMetricsKind=_t);var Kt={Commands:[{SemanticQueryDataShapeCommand:Tt}]},Zt=this.generateScriptVisualCommand($e,ot);return Zt&&Kt.Commands.push(Zt),_.isEmpty(dt)||(Tt.Query.VisualShape=dt),Kt},je}();function Ze(je,ae,fe,we,ze,$e,ot,_t,ke,dt,Tt,Wt,Kt,Zt){v.fF.assertValue(ae,"indicesByName"),v.fF.assertValue(fe,"mapping"),v.fF.assertValue(we,"querySelects"),v.fF.assertAnyValue(ze,"additionalProjections"),v.fF.assertAnyValue($e,"highlightFilter"),v.fF.assertAnyValue(ot,"restartToken"),v.fF.assertAnyValue(_t,"queryGroupBy"),v.fF.assertAnyValue(ke,"highVolumeOverride"),v.fF.assertAnyValue(dt,"expansionStates"),v.fF.assertAnyValue(Tt,"serializer");var er=je();if(er.withRestartToken(ot).withHighlightFilter($e).withAdditionalProjections(ze).withRolesWithHierarchicalGroupingSupport(Zt),fe.table?er=er.withGroupBy(_t):v.fF.assert(function(){return _.isEmpty(_t)},"GroupBy should only be used with table mapping."),2!==fe.updateType)if(fe.categorical)!function(je,ae,fe){v.fF.assertValue(je,"builder"),v.fF.assertValue(ae,"mapping"),(0,h.Sr)(ae.categories,{visitRole:function(ze){je.withPrimaryGroupingNestedByRole(ze.items,ze.activeItems,ze.showAll,ze.subtotalType,!0,fe,ze.role)},visitReduction:function(ze){je.withPrimaryDataReduction(ze)}}),(0,h.vS)(ae.values,{visitRole:function(ze){je.withSecondaryGroupingNestedByRole(ze.items,ze.activeItems,ze.showAll,ze.subtotalType,fe,ze.role)},visitReduction:function(ze){je.withSecondaryDataReduction(ze)}}),(0,h.fl)(ae.values,{visitRole:function(ze,$e){je.withCurrentInnermostPrimaryGrouping(ze.items,ze.showAll,ze.subtotalType,"CategoricalValueGroup"!==$e)}}),je.withIntersectionDataReduction(ae.dataReductionAlgorithm).withDataVolume(ae.dataVolume).withIncludeEmptyGroups(ae.includeEmptyGroups)}(er,fe.categorical,Wt);else if(fe.table)!function(je,ae){v.fF.assertValue(je,"builder"),v.fF.assertValue(ae,"mapping"),(0,h.vV)(ae,{visitRole:function(we){je.withPrimaryGroupingNestedByRole(we.items,we.activeItems,we.showAll,we.subtotalType,!0,!1,we.role)},visitReduction:function(we){je.withPrimaryDataReduction(we)}}),je.withDataVolume(ae.dataVolume)}(er,fe.table);else if(fe.matrix)!function(je,ae,fe,we,ze){v.fF.assertValue(je,"builder"),v.fF.assertValue(ae,"mapping");var $e=new rt(je,we);(0,h.Ay)(ae.rows,$e),v.fF.assert(function(){return!fe||fe.length<=1},"Expected max one expansion state");var ot=function(je,ae,fe,we,ze){if(null!=je&&(v.fF.assertValue(je,"items"),v.fF.assertAnyValue(ae,"activeProjections"),!(_.isEmpty(we)||_.isEmpty(ae)&&ze))){var $e=_.find(we,function(ke){return _.isEqual(ke.roles,fe)});if(v.fF.assertValue($e,"Expansion state should have been found since only 1 is supported"),!_.isEmpty($e.levels))return je=_.uniqBy(je,function(ke){return ke.queryName}),ae=_.uniq(ae),x($e,(_.isEmpty(ae)?je.length:ae.length)-1)}}($e.primaryRoleItems,$e.primaryActiveRoleItems,$e.primaryRoles,fe,we);ot&&je.withPrimaryExpansion(ot),ze&&je.withPrimaryWindowExpansion(ze),(0,h.yL)(ae.columns,{visitRole:function(ke){je.withSecondaryGroupingNested(ke.items,ke.activeItems,ke.showAll,ke.subtotalType,we)},visitReduction:function(ke){je.withSecondaryDataReduction(ke)}}),(0,h.hw)(ae.values,{visitRole:function(ke){je.withCurrentInnermostGrouping(ke.items,ke.showAll,ke.subtotalType)}}),je.withDataVolume(ae.dataVolume),je.withIncludeEmptyGroups(ae.includeEmptyGroups)}(er,fe.matrix,dt,Wt,Kt);else if(fe.tree)!function(je,ae,fe){v.fF.assertValue(je,"builder"),v.fF.assertValue(ae,"mapping"),(0,h.Dt)(ae.nodes,{visitRole:function(ze){je.withPrimaryGroupingNested(ze.items,ze.activeItems,ze.showAll,ze.subtotalType,fe)},visitReduction:function(ze){je.withPrimaryDataReduction(ze)}}),(0,h.nA)(ae.values,{visitRole:function(ze){je.withCurrentInnermostPrimaryGrouping(ze.items,ze.showAll,ze.subtotalType)}}),je.withDataVolume(ae.dataVolume)}(er,fe.tree,Wt);else if(fe.scriptResult)return Ze(je,ae,fe.scriptResult.dataInput,we,ze);return ke&&er.withDataVolume(ke),er.withTopLevelAggregates(fe.scopedAggregates),er.toQueryShape(fe)}var rt=function(){function je(ae,fe){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=ae,this.noDefaultProjections=fe}return je.prototype.visitRole=function(ae,fe){var we,ze;if("MatrixRowsScopedValue"===fe)this.builder.withCurrentInnermostPrimaryGrouping(ae.items,ae.showAll,ae.subtotalType,!0);else if(this.inComposite){var $e=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(ae.items,ae.activeItems,ae.showAll,ae.subtotalType,$e,this.noDefaultProjections,ae.role)}else this.builder.withPrimaryGroupingNested(ae.items,ae.activeItems,ae.showAll,ae.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(ae.role),(we=this.primaryRoleItems).push.apply(we,ae.items||[]),_.isEmpty(ae.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),(ze=this.primaryActiveRoleItems).push.apply(ze,ae.activeItems||[]))},je.prototype.visitReduction=function(ae){this.builder.withPrimaryDataReduction(ae)},je.prototype.enterComposite=function(ae){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount},je.prototype.exitComposite=function(ae){if(this.inComposite=!1,this.startedCompositeNest=!1,ae.dataReductionAlgorithm||ae.synchronized){var fe=this.compositeGroupingIndexStart,we=this.builder.primaryGroupingCount;if(fe<we){var ze=_.range(fe,we);ae.synchronized&&this.builder.withPrimarySynchronization({Groupings:ze}),ae.dataReductionAlgorithm&&this.builder.withScopedDataReduction(ae.dataReductionAlgorithm,{Primary:ze})}}},je}();function Ue(je){v.fF.assertValue(je,"query");for(var ae={},fe=je.select(),we=je.groupBy(),ze=0,$e=fe.length;ze<$e;ze++)ae[fe[ze].name]=ze;for(ze=0,$e=we.length;ze<$e;ze++)ae[we[ze].name]=ze;return ae}function De(je,ae){if(v.fF.assertValue(je,"projectionIdx"),v.fF.assertAnyValue(ae,"axis"),ae)for(var fe=0,we=ae.Groupings;fe<we.length;fe++)if(_.includes(we[fe].Projections,je))return!0}function Xe(je){v.fF.assertValue(je,"percentile");var ae={K:je.k};return je.exclusive&&(ae.Exclusive=je.exclusive),{Percentile:ae}}var he=function(){function je(ae,fe,we,ze,$e,ot){this.disableHidden=$e,this.enableAllSubtotal=ot,v.fF.assertValue(ae,"indicesByName"),v.fF.assertValue(fe,"querySelects"),this.indicesByName=ae,this.querySelects=fe,this.reduction={DataVolume:3},this.joinPredicateBehaviors=[],this.insertProjection=we?f.Gz:f.yg,this.featureSwitches=ze||{},this.hiddenProjections=[]}return Object.defineProperty(je.prototype,"primaryGroupingCount",{get:function(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0},enumerable:!1,configurable:!0}),je.prototype.withRestartToken=function(ae){return v.fF.assertAnyValue(ae,"restartToken"),this.restartToken=ae,this},je.prototype.withPrimaryWindowExpansion=function(ae){return v.fF.assertAnyValue(ae,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=function(je){return L(je)}(ae)),this},je.prototype.withDataVolume=function(ae){return v.fF.assertAnyValue(ae,"dataVolume"),null==ae||(this.reduction.DataVolume=ae),this},je.prototype.withIncludeEmptyGroups=function(ae){return v.fF.assertAnyValue(ae,"value"),this.includeEmptyGroups=ae,this},je.prototype.withHighlightFilter=function(ae){return v.fF.assertAnyValue(ae,"value"),this.highlightFilter=ae,this},je.prototype.withGroupBy=function(ae){return v.fF.assertAnyValue(ae,"queryGroupBy"),_.isEmpty(ae)||(this.groupByNames=_.map(ae,function(fe){return fe.name})),this},je.prototype.withPrimaryGrouping=function(ae,fe,we,ze,$e,ot){var ke,_t=this;if(v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType"),v.fF.assert(function(){return!_t.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),ae=this.filterItems(ae,fe,ot),_.isEmpty(ae))return this;this.primary?$e?ke=_.last(this.primary.Groupings):this.primary.Groupings.push(ke={Projections:[]}):this.primary={Groupings:[ke={Projections:[]}]},this.updateGrouping(ke,ae,we,ze);var dt=this.getAggregatesForRoleItems(ae);return this.applyTopLevelAggregates(dt),this},je.prototype.withPrimaryExpansion=function(ae){return v.fF.assertAnyValue(ae,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=ae,this},je.prototype.withPrimarySynchronization=function(ae){return v.fF.assertValue(ae,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(ae),this},je.prototype.ensurePrimaryAxis=function(){this.primary||(this.primary={Groupings:[]})},je.prototype.ensureSecondaryAxis=function(){this.secondary||(this.secondary={Groupings:[]})},je.prototype.withPrimaryGroupingNested=function(ae,fe,we,ze,$e){var ot=this;return v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType"),v.fF.assert(function(){return!ot.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),ae=this.filterItems(ae,fe,$e),_.isEmpty(ae)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,ae,we,ze))},je.prototype.withSecondaryGrouping=function(ae,fe,we,ze,$e){if(v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType"),ae=this.filterItems(ae,fe,$e),_.isEmpty(ae))return this;var ot;if(this.primary){var _t=_.last(this.primary.Groupings);this.containsAll(_t,ae)?ot=_t:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(ot={Projections:[]}))}else this.primary={Groupings:[ot={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(ot,ae,we,ze);var ke=this.getAggregatesForRoleItems(ae);return this.applyTopLevelAggregates(ke),this},je.prototype.withSecondaryExpansion=function(ae){return v.fF.assertAnyValue(ae,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=ae,this},je.prototype.withSecondaryGroupingNested=function(ae,fe,we,ze,$e){return v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType"),ae=this.filterItems(ae,fe,$e),_.isEmpty(ae)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),ot=this.secondary.Groupings):(this.primary={Groupings:ot=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(ot,ae,we,ze));var ot},je.prototype.withCurrentInnermostGrouping=function(ae,fe,we){return v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"showAll"),v.fF.assertAnyValue(we,"roleSubtotalType"),ae=this.filterItems(ae,null,!1),_.isEmpty(ae)||(this.secondary&&(ze=_.last(this.secondary.Groupings)),this.addValuesToGrouping(ae,fe,we,ze)),this;var ze},je.prototype.withCurrentInnermostPrimaryGrouping=function(ae,fe,we,ze){if(v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"showAll"),v.fF.assertAnyValue(we,"roleSubtotalType"),ae=this.filterItems(ae,null,!1),_.isEmpty(ae))return this;if(this.addValuesToGrouping(ae,fe,we),ze){this.primaryOnlyProjections=this.primaryOnlyProjections||[];for(var $e=0,ot=ae;$e<ot.length;$e++)this.primaryOnlyProjections.push(this.indicesByName[ot[$e].queryName])}return this},je.prototype.addValuesToGrouping=function(ae,fe,we,ze){ze||(ze=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(ze,ae,fe,we);var $e=this.getAggregatesForRoleItems(ae);this.applyTopLevelAggregates($e)},je.prototype.ensureInnermostPrimaryGrouping=function(){var ae;return this.primary?ae=_.last(this.primary.Groupings):this.primary={Groupings:[ae={Projections:[]}]},ae},je.prototype.withPrimaryDataReduction=function(ae){return ae&&this.primary?(this.reduction.Primary=(0,b.P)(ae,this.querySelects),this):this},je.prototype.withScopedDataReduction=function(ae,fe){return ae?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:fe,Algorithm:(0,b.P)(ae,this.querySelects)}),this):this},je.prototype.withSecondaryDataReduction=function(ae){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(ae);if(!ae||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var we=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(ae,{Secondary:we}),this}return this.reduction.Secondary=(0,b.P)(ae,this.querySelects),this},je.prototype.withIntersectionDataReduction=function(ae){return ae?this.reduction.Primary||this.reduction.Secondary?(v.fF.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):ae.binnedLineSample?(this.reduction.Intersection=(0,b.P)(ae,this.querySelects),this):this:this},je.prototype.withTopLevelAggregates=function(ae){var fe=this;if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(ae))return this;var ze=this.convertDataViewMappingAggregate(ae,function(ot){return fe.toAggregateScope(ot,fe.primary.Groupings,0)}),$e=this.getDataShapeBindingAggregates(ze);return this.applyTopLevelAggregates($e),this},je.prototype.toAggregateScope=function(ae,fe,we){v.fF.assertValue(ae,"scopeAsQueryNames"),v.fF.assertValue(fe,"primaryGroupings");for(var ze=0,$e=this.querySelects,ot=0,_t=fe;ot<_t.length;ot++){var ke=_t[ot];if(!_.isEmpty(ke.ShowItemsWithNoData))return;for(var Tt=function(sr){var gr=$e[sr];if((0,Se.k)(gr.expr))return"continue";var mr=gr.name;return ae.some(function(Sr){return Sr===mr})?void 0:ze>we?{value:{PrimaryDepth:ze}}:{value:void 0}},Wt=0,Kt=ke.Projections;Wt<Kt.length;Wt++){var er=Tt(Kt[Wt]);if("object"==typeof er)return er.value}ze++}if(ze>we)return{PrimaryDepth:ze}},je.prototype.updateScopeAggregatesForGroupings=function(ae,fe){var we=this;if(this.featureSwitches.scopedAggregates&&fe&&ae)for(var $e=0,ot=0,_t=fe;ot<_t.length;ot++){var ke=_t[ot],dt=ke.aggregates&&ke.aggregates.filter(p.u5);if(!_.isEmpty(dt)){var Tt=this.convertDataViewMappingAggregate(dt,function(Kt){return we.toAggregateScope(Kt,ae,$e+1)}),Wt=this.getDataShapeBindingAggregates(Tt);_.isEmpty(Wt)||(ae[$e].Aggregates=Wt),$e++}}},je.prototype.getDataShapeBindingAggregates=function(){for(var ae=[],fe=0;fe<arguments.length;fe++)ae[fe]=arguments[fe];for(var we={},ze=0,$e=ae;ze<$e.length;ze++){var ot=$e[ze];_.forEach(ot,function(_t,ke){for(var dt=we[ke]=we[ke]||[],Tt=function(ar){dt.some(function(sr){return _.isEqual(sr,ar)})||dt.push(ar)},Wt=0,Kt=_t;Wt<Kt.length;Wt++)Tt(Kt[Wt])})}return _.map(we,function(_t,ke){return{Select:+ke,Aggregations:_t}})},je.prototype.updateGrouping=function(ae,fe,we,ze){v.fF.assertValue(ae,"grouping"),v.fF.assertNonEmpty(fe,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType"),this.addProjections(ae.Projections,fe);var $e=this.indicesByName;if(we){ae.ShowItemsWithNoData||(ae.ShowItemsWithNoData=[]);for(var ot=0,_t=fe;ot<_t.length;ot++)this.insertProjection(ae.ShowItemsWithNoData,$e[_t[ot].queryName])}for(var dt=fe[0].subtotalType,Tt=1,Wt=fe.length;Tt<Wt;Tt++)if(fe[Tt].subtotalType!==dt){dt=void 0;break}var Kt=function(je){switch(je){case 1:return 1;case 2:return 2;case 0:return}}(null!=dt?dt:ze);null!=Kt?ae.Subtotal=Kt:this.enableAllSubtotal&&(ae.Subtotal=2);var Zt=this.groupByNames;Zt&&(ae.GroupBy=_.map(Zt,function(er){return $e[er]}))},je.prototype.withNested=function(ae,fe,we,ze){v.fF.assertValue(ae,"groupings"),v.fF.assertValue(fe,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(ze,"roleSubtotalType");for(var $e=0,ot=fe;$e<ot.length;$e++){var ke={Projections:[]};this.updateGrouping(ke,[ot[$e]],we,ze),ae.push(ke)}this.updateScopeAggregatesForGroupings(ae,fe);var dt=this.getAggregatesForRoleItems(fe);return this.applyTopLevelAggregates(dt),this},je.prototype.filterItems=function(ae,fe,we){if(v.fF.assertAnyValue(ae,"items"),v.fF.assertAnyValue(fe,"activeProjection"),!_.isEmpty(ae)){ae=_.uniqBy(ae,function(Wt){return Wt.queryName});var $e,ze=this.indicesByName;fe&&($e=[]);for(var ot=0,_t=ae.length;ot<_t;ot++){var ke=ae[ot],dt=null,Tt=fe&&!_.isEmpty(fe)&&!_.includes(fe,ke.queryName);null==ze[ke.queryName]?dt=ot-1:(Tt||this.isReferenced(ke))&&(dt=ot),null==dt?$e&&$e.push(ke):$e||($e=dt<0?[]:(0,f.w6)(ae,0,dt))}return $e||(we?[]:ae)}},je.prototype.isReferenced=function(ae){v.fF.assertValue(ae,"item");var fe=this.indicesByName[ae.queryName];return De(fe,this.primary)||De(fe,this.secondary)||_.includes(this.projections,fe)},je.prototype.containsAll=function(ae,fe){v.fF.assertValue(ae,"grouping"),v.fF.assertValue(fe,"items");for(var we=ae.Projections,ze=this.indicesByName,$e=0,ot=fe;$e<ot.length;$e++)if(!_.includes(we,ze[ot[$e].queryName]))return!1;return!0},je.prototype.addProjections=function(ae,fe){v.fF.assertValue(ae,"projections"),v.fF.assertValue(fe,"items");for(var we=this.indicesByName,ze=0,$e=fe;ze<$e.length;ze++){var ot=$e[ze],_t=we[ot.queryName];ot.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:ot.queryName}}),this.insertProjection(ae,_t),this.addJoinPredicateBehavior(_t,ot.joinPredicate)}},je.prototype.addJoinPredicateBehavior=function(ae,fe){this.joinPredicateBehaviors[ae]?void 0===fe&&(this.joinPredicateBehaviors[ae].behavior=fe):this.joinPredicateBehaviors[ae]={behavior:fe}},je.prototype.withRolesWithHierarchicalGroupingSupport=function(ae){return v.fF.assertAnyValue(ae,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(ae)||(this.rolesWithHierarchicalGroupingSupport=ae),this},je.prototype.withPrimaryGroupingNestedByRole=function(ae,fe,we,ze,$e,ot,_t){return this.isRoleSupportHierachryGrouping(_t)?this.withPrimaryGroupingNested(ae,fe,we,ze,ot):this.withPrimaryGrouping(ae,fe,we,ze,$e,ot)},je.prototype.isRoleSupportHierachryGrouping=function(ae){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(ae)},je.prototype.withSecondaryGroupingNestedByRole=function(ae,fe,we,ze,$e,ot){return this.isRoleSupportHierachryGrouping(ot)?this.withSecondaryGroupingNested(ae,fe,we,ze,$e):this.withSecondaryGrouping(ae,fe,we,ze,$e)},je.prototype.withAdditionalProjections=function(ae){return v.fF.assertAnyValue(ae,"additionalProjections"),_.isEmpty(ae)||(this.additionalProjections=ae),this},je.prototype.applyAdditional=function(ae){var we,fe=this,ze=this.querySelects,$e=this.additionalProjections,ot=U.findActive(ae);if(!_.isEmpty($e))for(var _t=this.primary,ke=this.secondary,dt=this.projections,Tt=function(sr){var gr=(0,m.P6)(null===(we=sr.selector)||void 0===we?void 0:we.data,ze,ot);v.fF.assert(function(){return void 0!==gr},"scopeRefs !== undefined");var mr=Wt.indicesByName[sr.queryName],Sr=Wt.convertProjectionAggregates(mr,sr.aggregates);if(Sr&&Wt.applyTopLevelAggregates([Sr]),null===gr)return sr.aggregates||(dt||(Wt.projections=dt=[]),Wt.insertProjection(dt,mr),Wt.addJoinPredicateBehavior(mr,sr.joinPredicate)),"continue";var Mr=_.map(gr,function(vr){return fe.indicesByName[vr]}),St=ke&&!_.isEmpty(ke.Groupings),Gt=!!ae.categorical&&St&&Wt.featureSwitches.categoricalSecondaryCF,rr=Gt?ke:_t,Fr=Gt?_t:ke,wr=Mr.length,Vr=_t&&Wt.addAdditional(mr,Mr,rr);Vr&&St&&rr===_t&&Wt.addSuppressedProjection(_.last(ke.Groupings),mr);var Ar=Mr.length;Vr||(Vr=St&&Wt.addAdditional(mr,Mr,Fr))&&Fr===_t&&wr===Ar&&Wt.addSuppressedProjection(_.last(ke.Groupings),mr),Vr&&Wt.addJoinPredicateBehavior(mr,sr.joinPredicate)},Wt=this,Kt=0,Zt=$e;Kt<Zt.length;Kt++)Tt(Zt[Kt])},je.prototype.addAdditional=function(ae,fe,we){v.fF.assertValue(ae,"projectionIdx"),v.fF.assertNonEmpty(fe,"remainingScopeRefs"),v.fF.assertValue(we,"axis"),v.fF.assertNonEmpty(we.Groupings,"groupings");for(var ot,ze=we.Groupings,$e=!1,_t=0;_t<ze.length;_t++)if(ot=ze[_t],$e)this.addSuppressedProjection(ot,ae);else if(_.remove(fe,function(ke){return _.includes(ot.Projections,ke)}),0===fe.length){if(!this.isProjectingOnNonLeafGrouping(_t,we))return this.insertProjection(_.last(ze).Projections,ae),!0;this.insertProjection(ot.Projections,ae),$e=!0}return $e},je.prototype.isProjectingOnNonLeafGrouping=function(ae,fe){v.fF.assertValue(fe,"axis"),v.fF.assertNonEmpty(fe.Groupings,"groupings"),v.fF.assert(function(){return ae>=0&&ae<fe.Groupings.length},"out-of-bound projection target");var ze=fe.Groupings.length;return!(ae===ze-1||2!==ze||!fe.Synchronization)},je.prototype.addSuppressedProjection=function(ae,fe){v.fF.assertValue(ae,"grouping"),ae.SuppressedProjections||(ae.SuppressedProjections=[]),this.insertProjection(ae.SuppressedProjections,fe)},je.prototype.applyTopLevelAggregates=function(ae){var fe;_.isEmpty(ae)||(this.aggregates||(this.aggregates=[]),(fe=this.aggregates).push.apply(fe,ae))},je.prototype.getAggregatesForRoleItems=function(ae){for(var fe=[],we=0,ze=ae;we<ze.length;we++){var $e=ze[we];$e.aggregates&&fe.push(this.convertDataViewMappingAggregate($e.aggregates,$e.queryName))}if(!_.isEmpty(fe))return this.getDataShapeBindingAggregates.apply(this,fe)},je.prototype.convertDataViewMappingAggregate=function(ae,fe){var we,ze;_.isFunction(fe)?v.fF.assertValue(ze=fe,"Need `getAggregateScope` when aggregates are scoped"):we=this.indicesByName[fe];for(var $e={},ot=function(Kt){var Zt=void 0,er=void 0;if((0,p.u5)(Kt)){if(!(ze&&(Zt=Kt.queryName?_t.indicesByName[Kt.queryName]:we,er=Kt.scope&&ze(Kt.scope))))return"continue"}else Zt=we;v.fF.assertValue(Zt,"aggregate must provide a queryName or a defaultQueryName must be provided");var ar=$e[Zt]=$e[Zt]||[],sr=!!er||void 0;v.fF.assert(function(){return Kt.min||Kt.max||Kt.average},"Aggregates must aggregate"),Kt.min&&ar.push({Scope:er,RespectInstanceFilters:sr,Min:{}}),Kt.max&&ar.push({Scope:er,RespectInstanceFilters:sr,Max:{}}),Kt.average&&ar.push({Scope:er,RespectInstanceFilters:sr,Average:{}})},_t=this,ke=0,dt=ae;ke<dt.length;ke++)ot(dt[ke]);return _.isEmpty($e)?void 0:$e},je.prototype.convertProjectionAggregates=function(ae,fe){if(v.fF.assertValue(ae,"projectionIdx"),v.fF.assertAnyValue(fe,"aggregates"),fe){var we=[],ze={Select:ae,Aggregations:we};if(fe.min&&we.push({Min:{}}),fe.max&&we.push({Max:{}}),fe.average&&we.push({Average:{}}),fe.median&&we.push({Median:{}}),fe.percentiles)for(var $e=0,ot=fe.percentiles;$e<ot.length;$e++)we.push(Xe(ot[$e]));return v.fF.assert(function(){return!_.isEmpty(ze.Aggregations)},"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),ze}},je.prototype.suppressProjectionsIfNeeded=function(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary)for(var ae=_.last(this.secondary.Groupings),fe=0,we=this.primaryOnlyProjections;fe<we.length;fe++)this.addSuppressedProjection(ae,we[fe])},je.prototype.toQueryShape=function(ae){var fe;this.applyAdditional(ae),this.suppressProjectionsIfNeeded();var we=this.primary,ze=this.projections;if(!we){if(!ze)return;we={Groupings:[{Projections:ze}]},ze=null}var $e=this.restartToken;if($e){var ot=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=$e,ot=!0),this.reduction.Scoped){for(var _t=0,ke=this.reduction.Scoped;_t<ke.length;_t++){var dt=ke[_t];dt.Algorithm.Window&&(v.fF.assert(function(){return!ot},"Only 1 scoped window is allowed at this time"),dt.Algorithm.Window.RestartTokens=$e,dt.Algorithm.Window.RestartMatchingBehavior=1,ot=!0)}v.fF.assert(function(){return ot},"A restartToken was present but it wasn't assigned to any window.")}}var Tt={Primary:we};this.secondary&&(Tt.Secondary=this.secondary),ze&&(Tt.Projections=ze),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(Tt.DataReduction=this.reduction),this.includeEmptyGroups&&(Tt.IncludeEmptyGroups=this.includeEmptyGroups);var Wt=this.aggregates;Wt&&(Tt.Aggregates=Wt);for(var Kt=[],Zt=0;Zt<this.joinPredicateBehaviors.length;Zt++)if(this.joinPredicateBehaviors[Zt]&&0===this.joinPredicateBehaviors[Zt].behavior){var er=null===(fe=this.querySelects[Zt])||void 0===fe?void 0:fe.expr;(!er||!(0,c.jX)(er))&&Kt.push(Zt)}return _.isEmpty(Kt)||(Tt.SuppressedJoinPredicates=Kt),!this.disableHidden&&!_.isEmpty(this.hiddenProjections)&&(Tt.HiddenProjections=this.hiddenProjections),Tt.Version=1,this.highlightFilter&&(Tt.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(Tt.isPivoted=this.pivotedSecondaryToPrimary),Tt},je}();function ce(je,ae){return[new Re,new ut(je,ae),new Ge]}var Re=function(je){function ae(){return null!==je&&je.apply(this,arguments)||this}return(0,e.__extends)(ae,je),ae.prototype.visitScopedEval=function(fe){return _.isEmpty(fe.scope)?fe:(0,a.ed)(fe.expression,_.filter(fe.scope,function(we){return!(0,c.DB)(we)}))},ae}(i.b),Ge=function(je){function ae(){return null!==je&&je.apply(this,arguments)||this}return(0,e.__extends)(ae,je),ae.prototype.visitGroupRef=function(fe){return new a.Wh(fe.source,fe.ref)},ae}(i.b),ut=function(je){function ae(fe,we){var ze=je.call(this)||this;return ze.mappings=fe,ze.selects=we,ze}return(0,e.__extends)(ae,je),ae.prototype.visitScopedEval=function(fe){for(var we=[],ze=!1,$e=0,ot=fe.scope;$e<ot.length;$e++){var _t=ot[$e];if((0,c.yL)(_t)){ze=!0;for(var ke=0,dt=this.mappings;ke<dt.length;ke++){var Kt=U.findActive(dt[ke])[_t.role];if(Kt)for(var Zt=function(Sr){var Mr=_.find(er.selects,function(St){return St.name===Sr});Mr&&we.push(Mr.expr)},er=this,ar=0,sr=Kt;ar<sr.length;ar++)Zt(sr[ar])}}else we.push(_t)}return ze?(0,a.ed)(fe.expression,_.uniqBy(we,function(mr){return T.ib.serializeExpr(mr)})):fe},ae}(i.b)},288115:function(Je,H,t){t.d(H,{KI:function(){return n}});var e=t(226514),c=t(787941),s=t(324356),f=t(516469),v=t(169170),b=t(25026),h=t(786219),p=function(){function M(P){this.elements=P,this.currentIndex=-1}return M.prototype.reset=function(P){var T=this;this.currentIndex=-1,P&&(c.fF.assert(function(){return T.elements!==P},"Resetting with same elements"),this.elements=P)},M.prototype.count=function(){return _.size(this.elements)},M.prototype.current=function(){var P=this;return c.fF.assert(function(){return P.currentIndex>=0},"Invalid Iterator index"),this.elements[this.currentIndex]},M.prototype.done=function(){return this.currentIndex===_.size(this.elements)-1},M.prototype.next=function(){return!this.done()&&(this.currentIndex++,!0)},M.prototype.index=function(){return this.currentIndex},M}();function n(M,P){return new l(M,P)}var l=function(){function M(P,T){this.dsrParserContext=T,c.fF.assertValue(P,"dsr"),c.fF.assertAnyValue(T,"dsrParserContext"),this.parser=new a(P.DS,this.dsrParserContext)}return M.prototype.dataShapes=function(){return this.parser},M.prototype.reset=function(){this.parser.reset()},M.prototype.lockCache=function(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)},M}(),r=function(){function M(P){this.calculationContainerKind=P,this.nullValuesHandler=new g,this.repeatedValuesHandler=new y}return M.prototype.initialize=function(P,T){this.lastContainerCalculations=T,this.repeatedValuesHandler.initialize(P&&P.R,T),this.nullValuesHandler.initialize(P&&P.\u00d8)},M.prototype.getCurrentCalc=function(P,T,x,R){var L,D=this;return c.fF.assert(function(){return P>=0},"unexpected position input"),x?void 0!==(L=this.repeatedValuesHandler.tryRead(P))?L:void 0!==(L=this.nullValuesHandler.tryRead(P))?(this.lastContainerCalculations[P]=null,L):(T?T.next()&&(L=T.current(),this.lastContainerCalculations[P]=L):(c.fF.assert(function(){return!!R},"Unexpected calcId"),void 0===(L=x[R])&&(L=null),this.lastContainerCalculations[P]=L),L):(c.fF.assert(function(){return 3===D.calculationContainerKind},"Unexpected Empty DataShape/DataMemberInstance as calc container"),null)},M}(),o=function(){function M(P,T,x){this.context=P,this.calcMetadataCacheKey=x,this.baseCalculationParser=new r(T)}return M.prototype.setCalculations=function(P){c.fF.assertAnyValue(P,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=P;var T=this.context;if(T){var x=this.calcMetadataCacheKey,R=P.S;R&&(this.metadata=R,x&&!T.locked&&(T.memberInstanceCalcMetadataCache[x]=R),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(R.length))),T.instancesCalcCache[x]&&(this.lastContainerCalculations=T.instancesCalcCache[x]),this.baseCalculationParser.initialize(P,this.lastContainerCalculations);var D=P.C;(R=this.getCalcMetadata())?this.calcMetadataIt=new p(R):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(D)>0?new p(D):void 0}},M.prototype.restartCalcs=function(){c.fF.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),c.fF.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue},M.prototype.nextCalc=function(){var P=!1,T=this.calcMetadataIt;return T&&((P=T.next()||P)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(T.index(),this.calcIt,this.calculationContainer,this.calcId())),T.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),P||!1},M.prototype.calcId=function(){return this.metadata[this.calcMetadataIt.index()].N},M.prototype.getCalcMetadata=function(){var P=this.metadata;return P||(P=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),P},M.prototype.calcValue=function(){var P=this.metadata[this.calcMetadataIt.index()],T=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,P.DN,P.T);return void 0===T&&(T=(0,f.Yt)(this.dsrCalcValue,P.T)),T},M.prototype.calcValueAsExpr=function(){var P=this;c.fF.assert(function(){return void 0!==P.dsrCalcValue},"Unexpected parsedCalcValue");var T=this.calcMetadataIt.current(),x=this.calcValue(),R=this.context.valueDictionaryHandler.getCalcValueExpr(x,this.dsrCalcValue,T.DN,T.T);return R||(R=(0,f.HL)(x,this.dsrCalcValue,T.T)),R},M.prototype.calcCount=function(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0},M}(),a=function(M){function P(T,x,R){var D=M.call(this,x,1)||this;return D.parserContext=x,D.rootDataShape=R,c.fF.assertValue(T,"dataShapes"),c.fF.assertAnyValue(x,"parserContext"),D.it=new p(T),D}return(0,e.__extends)(P,M),P.prototype.reset=function(){this.it.reset()},P.prototype.index=function(){return this.it.index()},P.prototype.count=function(){return this.it.count()},P.prototype.next=function(){var T;this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var x=this.it.next();if(x){var R=this.it.current();this.setCalculations(R),this.context&&(this.context.valueDictionaryHandler=new h.cd(R.ValueDicts||(null===(T=this.rootDataShape)||void 0===T?void 0:T.ValueDicts)))}return x},P.prototype.id=function(){return this.it.current().N},P.prototype.nestedDataShapes=function(){c.fF.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var T=this.it.current(),x=T.DS;if(!_.isArray(x)||x.length<1)return{};for(var R={},D=function(w){var I=_.find(x,function(B){return B.N===w.dataShapeId});c.fF.assertValue(I,"No DataShape with ID "+w.dataShapeId),I&&(R[I.N]=new P([I],w.context,L.rootDataShape||T))},L=this,F=0,A=this.context.primarySynchronizedGroups;F<A.length;F++)D(A[F]);return R},P.prototype.primaryHierarchy=function(){var T=this;if(c.fF.assert(function(){return null!=T.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var x=this.it.current().PH;this.primaryHierarchyParser=x&&new u(x,this.parserContext,0,0)}return this.primaryHierarchyParser},P.prototype.secondaryHierarchy=function(){var T=this;if(c.fF.assert(function(){return null!=T.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var x=this.it.current().SH;this.secondaryHierarchyParser=x&&new u(x,this.parserContext,1,0)}return this.secondaryHierarchyParser},P.prototype.messages=function(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new m(this.it.current().Msg)),this.messageParser},P.prototype.hasRestartTokens=function(){return _.size(this.restartTokens())>0},P.prototype.restartTokens=function(){var T=this.it.current(),x=T.DW;return _.isEmpty(x)?T.RT:(c.fF.assert(function(){return 1===x.length},"Multiple data windows are not yet handled"),x[0].RT)},P.prototype.complete=function(){var T=this.it.current(),x=T.DW;return _.isEmpty(x)?T.IC:(c.fF.assert(function(){return 1===x.length},"Multiple data windows are not yet handled"),x[0].IC)},P.prototype.hasAllData=function(){return this.it.current().HAD},P.prototype.limitsExceeded=function(){return _.size(this.it.current().DLEx)>0},P.prototype.limits=function(){return this.limitsParser||(this.limitsParser=new i(this.it.current().DLEx)),this.limitsParser},P}(o),i=function(){function M(P){c.fF.assertValue(P,"limits"),this.it=new p(P)}return M.prototype.next=function(){return this.it.next()},M.prototype.id=function(){return this.it.current().N},M.prototype.count=function(){return this.it.count()},M}(),m=function(){function M(P){c.fF.assertValue(P,"dataShapeMessage"),this.it=new p(P)}return M.prototype.next=function(){return this.it.next()},M.prototype.code=function(){return this.it.current().Code},M.prototype.severity=function(){return this.it.current().Severity},M.prototype.dsrMessage=function(){return new b.lp(this.it.current())},M}(),u=function(){function M(P,T,x,R){this.context=T,this.hierarchy=x,this.depth=R,c.fF.assertValue(P,"dataMembers"),this.it=new p(P)}return M.prototype.count=function(){return this.it.count()},M.prototype.reset=function(){this.it.reset(),this.dataMemberId=void 0},M.prototype.next=function(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var P=this.it.next();if(P){var T=this.dataMemberIdCache();if(_.size(T)>0)for(var x=this.it.current(),R=0,D=T[this.depth];R<D.length;R++){var L=D[R];x[L]&&(this.dataMemberId=L)}if(void 0===this.dataMemberId){var F=Object.keys(this.it.current());1===_.size(F)?this.dataMemberId=F[0]:c.fF.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return P},M.prototype.id=function(){return this.dataMemberId},M.prototype.dataMemberIdCache=function(){return 0===this.hierarchy?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache},M.prototype.instances=function(){if(!this.instancesParser){var P=this.it.current()[this.dataMemberId];this.instancesParser=P&&new V(P,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser},M}(),V=function(M){function P(T,x,R,D,L){var F=M.call(this,x,2,R)||this;return F.parentDataMemberId=R,F.hierarchy=D,F.depth=L,c.fF.assertValue(T,"instances"),F.it=new p(T),F}return(0,e.__extends)(P,M),P.prototype.next=function(){var T=this,x=this.it.next();if(x){var R=this.it.current();!this.context.locked&&!R.M&&1===this.hierarchy&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(R),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,c.fF.assert(function(){return 1!==T.hierarchy||!R.Intersections},"secondary hierarchy should not have any intersections")}return x},P.prototype.count=function(){return this.it.count()},P.prototype.currentIndex=function(){return this.it.index()},P.prototype.intersections=function(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var T=this.it.current().X;return this.intersectionParser=T&&new d(T,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser},P.prototype.restartFlagKind=function(){return this.it.current().RF},P.prototype.restartKind=function(){return this.it.current().RK},P.prototype.members=function(){if(!this.dataMemberIt){var T=this.it.current().M;this.dataMemberIt=T&&new u(T,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt},P}(o),d=function(){function M(P,T,x){this.context=T,this.parentDataMemberId=x,c.fF.assertValue(P,"intersections"),this.it=new p(null),this.reset(P),this.baseCalculationParser=new r(3),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var R=T.dataMemberIdToMetadata[x];this.primaryMemberIsGroupMember=1===R.kind,this.primaryDataMemberDepth=R.depth,c.fF.assertValue(T.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=T.intersectionCalcMetadataCache[x],!this.calcMetadataCache&&!T.locked&&(this.calcMetadataCache=T.intersectionCalcMetadataCache[x]=new Array(this.expectedIntersectionCount))}return M.prototype.reset=function(P){this.it.reset(P),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=P.length>0},M.prototype.next=function(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var P=this.it.next();return P&&this.initialize(this.it.current()),P}if(this.hasIntersectionElements){var T=void 0;if((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((T=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=T.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)return T||(T=this.it.current()),this.initialize(T),!0}return this.initialize(),!0},M.prototype.setIntersectionId=function(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]},M.prototype.resetCalcIt=function(P){var T=P&&P.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=T?new p(T):void 0},M.prototype.initialize=function(P){var T=this;if(c.fF.assert(function(){return T.logicalIntersectionIndex>=0},"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(P),P){var x=P.S;if(x&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=x.length),c.fF.assert(function(){return null==T.calcMetadataCache[T.logicalIntersectionIndex]},"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=x;for(var R=this.context.calcIdToCalcMetadata,D=0,L=x;D<L.length;D++)R[L[D].N]=x}}this.calculationContainer=P;var A=this.context.lastIntersectionCalcCache[this.intersectionId];!A&&this.intersectionId&&(A=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(P,A);var O=this.getCalcMetadata();O&&(this.currentCalcMetadata=O,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))},M.prototype.restartCalcs=function(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc},M.prototype.nextCalc=function(){var P=++this.currentCalcIndex;return P<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(P,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)},M.prototype.calcId=function(){return this.currentCalcMetadata[this.currentCalcIndex].N},M.prototype.getCalcMetadata=function(){var P=this;c.fF.assert(function(){return P.logicalIntersectionIndex>=0},"getCalcMetadata can return metadata only for valid logical intersection");var T=this.calcMetadataCache[this.logicalIntersectionIndex];if(!T&&!this.context.locked){var x=this.getExpectedCalcId();x&&(T=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[x])}return T},M.prototype.getExpectedCalcId=function(){if(0!==this.intersectionMeasureCount){var P=this.context,T=P.dataMemberIdToMetadata[P.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],D=P.selects[this.currentCalcIndex<0?P.intersectionMeasureToSelectIndex[0]:P.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(1===T.kind&&this.primaryMemberIsGroupMember)return D.Value;if(D.Subtotal){var L=v.A1.computeAggIdx(this.primaryDataMemberDepth,T.depth,P.maxPrimaryDepth,P.maxSecondaryDepth);return D.Subtotal.length>L&&D.Subtotal[L]}}},M.prototype.calcValue=function(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null},M.prototype.parseCalcValue=function(P){var T=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],x=this.context.valueDictionaryHandler.getCalcValue(P,T.DN,T.T);return void 0===x&&(x=(0,f.Yt)(P,T.T)),x},M.prototype.calcValueAsExpr=function(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var P=this.calcValue();return null===P?(0,s.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],P)}return(0,s.IF)()},M.prototype.parseCalcValueExpr=function(P,T){var x=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],R=this.context.valueDictionaryHandler.getCalcValueExpr(T,P,x.DN,x.T);return void 0===R&&(R=(0,f.HL)(T,P,x.T)),R},M.prototype.calcCount=function(){return this.calcIt?this.calcIt.count():0},M}(),S=function(){function M(){}return M.prototype.initialize=function(P){this.value=P,this.overflowValue=P>M.MaxSignedNumberFor32Bits?function(M){var P=M.toString(2),T=P.substr(0,P.length-31);return parseInt(T,2)}(P):0},M.prototype.hasBitAtPosition=function(P){if(c.fF.assert(function(){return P>=0},"expected positive integer for position"),P>52)return!1;if(this.value>0){var T=0,x=this.value;return P<31?T=1<<P:(T=1<<P-31,x=this.overflowValue),(x&T)>0}},M.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,M}(),g=function(){function M(){this.bitSequenceHandler=new S}return M.prototype.initialize=function(P){this.bitSequenceHandler.initialize(P)},M.prototype.tryRead=function(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return null},M}(),y=function(){function M(){this.bitSequenceHandler=new S}return M.prototype.initialize=function(P,T){this.bitSequenceHandler.initialize(P),this.lastContainerCalculations=T},M.prototype.tryRead=function(P){if(this.bitSequenceHandler.hasBitAtPosition(P))return this.lastContainerCalculations[P]},M}()},39326:function(Je,H,t){t.d(H,{H:function(){return v}});var e=t(226514),c=t(787941),s=t(324356),v=function(b){function h(){return null!==b&&b.apply(this,arguments)||this}return(0,e.__extends)(h,b),h.prototype.visitColumnRef=function(p,n){if(p.hasGroupOnKeys(n)){var l=p.getConceptualProperty(n),r=p.getTargetEntity();return _.map(l.column.keys,function(o){return(0,s.Oh)(r,o.name)})}return[p]},h.prototype.visitHierarchyLevel=function(p,n){var l=p.arg.getTargetEntity();if(!l)return[p];if(p.arg instanceof s.jE){var r=void 0,o=l.schema,a=p.arg;if(a.arg instanceof s.c7){var i=a.arg,m=n.schema(o).findTargetEntityOfVariation(l.entity,i.property,i.name);if(!m)return[p];r=(0,s.nw)(o,m.name)}else r=l,c.fF.assert(function(){return a.arg instanceof s.PN},".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var u=n.schema(o).findHierarchyLevel(r.entity,a.hierarchy,p.level);return this.visitColumnRef((0,s.Oh)(r,u.column.name),n)}return[p]},h.prototype.visitGroupRef=function(p,n){return this.visitColumnRef(p,n)},h.prototype.visitDefault=function(p){return c.fF.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[p]},h}(t(116170).Ml)},336667:function(Je,H,t){t.d(H,{r:function(){return s}});var e=t(787941),c="noQueryName",s=function(){function f(v,b,h,p){this.deepestNodeLevelInPath=-1,this.measures=b||[],this.dataMap=v||null,this.nodeIsCollapsed=null!=h?h:null,this.nodeIndexes=null!=p?p:[]}return f.prototype.withCategory=function(v,b,h){var p,n;return void 0===h&&(h=!1),v&&v.source&&v.identity&&v.identity[b]&&(p=v.identity[b],n=v.source.queryName||c),this.addItemToDataMap(n,p),this},f.prototype.withSeries=function(v,b,h){var p,n;return void 0===h&&(h=!1),v&&v.source&&b&&(p=b.identity,n=v.source.queryName||c),this.addItemToDataMap(n,p),this},f.prototype.withMeasure=function(v){return this.measures.push(v),this},f.prototype.withMatrixNode=function(v,b,h){if(void 0===h&&(h=!1),!v)return this;var p,n,r=v.level;return v.identity&&b&&b[r]&&b[r].sources&&b[r].sources[0]&&(p=v.identity,n=b[r].sources[0].queryName||c),this.addItemToDataMap(n,p,v.isCollapsed,r,v.nodeIndex),this},f.prototype.withTable=function(v,b,h){var p,n;return void 0===h&&(h=!1),v&&v.identity&&null!=b&&(n=(p=v.identity[b])?JSON.stringify(p):c),this.addItemToDataMap(n,p),this},f.prototype.equals=function(v){var b=v;return!!(this.compareMeasures(this.measures,b.measures)&&this.compareMetadata(this.getSelector(),b.getSelector())&&this.compareMetadata(b.getSelector(),this.getSelector()))},f.prototype.createSelectionId=function(v){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this},f.prototype.getKey=function(){return this.key},f.prototype.includes=function(v,b){void 0===b&&(b=!1);var h=v;return!!(!this.dataMap&&this.compareMeasures(this.measures,h.measures)||this.dataMap&&h.dataMap&&this.compareMetadata(this.getSelector(),h.getSelector()))},f.prototype.hasIdentity=function(){return!!this.dataMap},f.prototype.compareMeasures=function(v,b){if(v.length!==b.length)return!1;for(var h=0,p=b;h<p.length;h++)if(-1===v.indexOf(p[h]))return!1;return!0},f.prototype.compareMetadata=function(v,b){if(!v.data&&b.data||v.data&&!b.data)return!1;if(!v.data&&!b.data)return!0;for(var h=function(a){if(!b.data.some(function(i){return JSON.stringify(i)===JSON.stringify(a)}))return{value:!1}},p=0,n=v.data;p<n.length;p++){var r=h(n[p]);if("object"==typeof r)return r.value}return!0},f.prototype.addItemToDataMap=function(v,b,h,p,n){if(b){this.dataMap||(this.dataMap={});var l=this.dataMap,r=l[v];if(null==r)return l[v]=[b],null!=h&&null!=p&&p>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=h,this.deepestNodeLevelInPath=p),void(null!=n&&this.nodeIndexes.push(n));r.push(b)}},f.prototype.getSelector=function(){var v=this,b={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){b.data=[];var h=function(r){e.fF.assert(function(){return v.dataMap[r].length<=1},"dataMap can only have one selector per column"),b.data.push(p.dataMap[r][0])},p=this;for(var n in this.dataMap)h(n)}return b},f.prototype.getSelectorsByColumn=function(){return null},f}()},516469:function(Je,H,t){t.d(H,{H2:function(){return n},HL:function(){return a},K0:function(){return r},Yt:function(){return o},bE:function(){return l}});var e=t(338780),c=t(787941),s=t(289135),f=t(324356),v=t(592042),b=/''/g,h="base64'",p=/\.000'$/;function n(u){return i(u)}function l(u){return i(u,!0)}function r(u){return u&&_.startsWith(u,h)?u.substring(h.length,u.length-1):null}function o(u,V){if(c.fF.assert(function(){return void 0!==u},"Undefined dsrValue indicates a DSR parsing bug"),null===u)return null;switch(V){case 4:return c.fF.assert(function(){return"string"==typeof u||"number"==typeof u},"Expected only string or number values for type ".concat(V)),"number"==typeof u?u:parseInt(u,10);case 2:case 3:return c.fF.assert(function(){return"string"==typeof u||"number"==typeof u},"Expected only string or number values for type ".concat(V)),"number"==typeof u?u:m(u);case 7:case 6:if(c.fF.assert(function(){return"string"==typeof u||"number"==typeof u},"Expected only string or number values for type ".concat(V)),"number"==typeof u){c.fF.assert(function(){return u>=0},"Expected positive miliseconds since UNIX epoch for type ".concat(V));var d=new Date(u),S=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),g=new Date(d.getTime()+6e4*S.getTimezoneOffset());return g.epochTimeStamp=u,g}var y=(0,e.Kk)(u);return y&&(0,s.Fg)(y);case 1:return c.fF.assert(function(){return"string"==typeof u},"Expected only string values for type ".concat(V)),u;case 5:return c.fF.assert(function(){return"number"==typeof u||"boolean"==typeof u},"Expected number or boolean values for type ".concat(V)),"number"==typeof u?1===u:u;case 13:return c.fF.assert(function(){return"string"==typeof u||"boolean"==typeof u},"Expected only string or boolean values for type ".concat(V)),i(u);default:c.fF.assertFail("unsupported dsrValue for type ".concat(V))}}function a(u,V,d){if(null===u)return(0,f.IF)();switch(d){case 4:return"number"==typeof V?(0,f.cA)(+u):(0,f.f7)(260,+u,V.toString());case 2:return"number"==typeof V?(0,f.gH)(+u):(0,f.f7)(258,+u,V.toString());case 3:return"number"==typeof V?(0,f.tx)(+u):(0,f.f7)(259,+u,V.toString());case 7:case 6:return"number"==typeof V?new f.jz(v.Ge.fromExtendedType(519),u):(0,f.f7)(519,u,V.toString());case 1:return(0,f.fL)(u.toString());case 5:return(0,f.O7)(!!u);case 13:return i(V,!0);default:c.fF.assertFail("unsupported dsrValue for type ".concat(d))}}function i(u,V){var d=typeof u;if("string"===d){if(_.endsWith(u,"L")){var S=parseInt(u,10);return V?(0,f.cA)(S,u):S}if(_.endsWith(u,"D")){var g=m(u);return V?(0,f.tx)(g,u):g}if(_.endsWith(u,"M")){var y=m(u);return V?(0,f.gH)(y,u):y}if(_.endsWith(u,"'")){if("'"===u.charAt(0)){var C=u.substring(1,u.length-1).replace(b,"'");return V?(0,f.fL)(C,u):C}if(0===u.indexOf("datetime'")){var E=u.replace(p,"'"),M=u.substring(9,E.length-1),P=(0,e.Kk)(M);return V?(0,f.CQ)(P,E):P}}if("null"===u)return V?(0,f.IF)():null;if("true"===u)return!V||(0,f.O7)(!0);if("false"===u)return!!V&&(0,f.O7)(!1)}return"boolean"===d?V?(0,f.O7)(u):u:null===u?V?(0,f.IF)():null:u}function m(u){var V=parseFloat(u);return isNaN(V)?parseFloat(u.replace("INF","Infinity")):V}},64681:function(Je,H,t){t.d(H,{Db:function(){return r},Tq:function(){return o},Ui:function(){return a},dq:function(){return l},if:function(){return i},vH:function(){return n}});var e=t(226514),c=t(456535),s=t(787941),f=t(44615),v=t(597098),b=t(324356),h=t(334048),p=t(983172);function n(g){s.fF.assertValue(g,"changes");for(var y=[],C=0,E=g.length;C<E;C++){var M=g[C];M.measureMove&&y.push(l(M.measureMove)),M.entityRename&&y.push(r(M.entityRename)),M.propertyRename&&y.push(o(M.propertyRename)),M.hierarchyLevelRename&&y.push(a(M.hierarchyLevelRename))}return y}function l(g){return s.fF.assertValue(g,"measureMove"),new u(g)}function r(g){return s.fF.assertValue(g,"entityRename"),new m(g)}function o(g){return s.fF.assertValue(g,"propertyRename"),new V(g)}function a(g){return s.fF.assertValue(g,"hierarchyLevelRename"),new d(g)}function i(g){return s.fF.assertValue(g,"setSchemaMeasure"),new S(g)}var m=function(g){function y(C){var E=this;return s.fF.assertValue(C,"change"),(E=g.call(this)||this).change=C,E}return(0,e.__extends)(y,g),y.prototype.visitColumnRef=function(C){if(s.fF.assertValue(C,"expr"),(0,c.Lk)(C.source)||(0,c.jv)(C.source)){var E=C.source.accept(this);return E!==C.source?new b.Wh(E,C.ref):C}return C},y.prototype.visitEntity=function(C){var E=this.change;return C.schema===E.schema&&C.entity===E.before?new b.PN(C.schema,E.after,C.variable):C},y.prototype.visitSubqueryRef=function(C){if(s.fF.assertValue(C,"expr"),C.query){var E=C.query.rewrite(this);return E!==C.query?new b.wb(E):C}return C},y}(h.b),u=function(g){function y(C){var E=this;return s.fF.assertValue(C,"change"),(E=g.call(this)||this).change=C,E}return(0,e.__extends)(y,g),y.prototype.visitMeasureRef=function(C){var E=this.change,M=(0,f.Um)((0,v.Q)(C));if(s.fF.assertValue(M,"fieldPattern"),M.schema===E.schema&&M.entity===E.source&&C.ref===E.property){var P=new b.PN(M.schema,E.destination);return new b.UY(P,E.property)}return C},y.prototype.visitSubqueryRef=function(C){if(C.query){var E=C.query.rewrite(this);return E!==C.query?new b.wb(E):C}return C},y}(h.b),V=function(g){function y(C){var E=this;return s.fF.assertValue(C,"change"),(E=g.call(this)||this).change=C,E}return(0,e.__extends)(y,g),y.prototype.visitColumnRef=function(C){if(s.fF.assertValue(C,"expr"),(0,c.jv)(C.source)){var E=C.source.accept(this);return E!==C.source?new b.Wh(E,C.ref):C}if((0,c.PA)(C.source))return C;var M=this.change;return this.matches(M,C)?new b.Wh(C.source,M.after):C},y.prototype.visitMeasureRef=function(C){var E=this.change;return this.matches(E,C)?new b.UY(C.source,E.after):C},y.prototype.visitGroupRef=function(C){var E=this,M=C,P=this.change;this.matches(P,C)&&(M=new b.qg(P.after,C.source,C.groupedExprs));var T=_.map(C.groupedExprs,function(x){return x.accept(E)});return p.m.sequenceEqual(T,C.groupedExprs)||(M=new b.qg(M.ref,M.source,T)),M},y.prototype.visitHierarchy=function(C){s.fF.assertValue(C,"expr"),s.fF.assertValue(C.arg,"expr.arg");var E=C.arg.accept(this);if(E!==C.arg)return new b.jE(E,C.hierarchy);var M=this.change;return this.hierarchyMatches(M,C)?new b.jE(C.arg,M.after):C},y.prototype.visitPropertyVariationSource=function(C){s.fF.assertValue(C,"expr");var E=this.change;return this.variationMatches(E,C)?new b.c7(C.arg,C.name,E.after):C},y.prototype.visitSubqueryRef=function(C){if(s.fF.assertValue(C,"expr"),C.query){var E=C.query.rewrite(this);return E!==C.query?new b.wb(E):C}return C},y.prototype.variationMatches=function(C,E){s.fF.assertValue(C,"change"),s.fF.assertValue(E,"expr");var M=E.arg;return s.fF.assert(function(){return M instanceof b.PN},"entityExpr"),M.schema===C.schema&&M.entity===C.entity&&E.property===C.before},y.prototype.hierarchyMatches=function(C,E){s.fF.assertValue(C,"change"),s.fF.assertValue(E,"expr");var M=E.arg;if((0,c.Lk)(M))return"Hierarchy"===C.objectType&&M.schema===C.schema&&M.entity===C.entity&&E.hierarchy===C.before},y.prototype.matches=function(C,E){s.fF.assertValue(C,"change"),s.fF.assertValue(E,"expr");var M=(0,f.Um)((0,v.Q)(E));return s.fF.assertValue(M,"fieldPattern"),M.schema===C.schema&&M.entity===C.entity&&E.ref===C.before},y}(h.b),d=function(g){function y(C){var E=this;return s.fF.assertValue(C,"change"),(E=g.call(this)||this).change=C,E}return(0,e.__extends)(y,g),y.prototype.visitHierarchyLevel=function(C){s.fF.assertValue(C,"expr"),s.fF.assertValue(C.arg,"expr.arg");var E=this.change;return this.matches(E,C)?new b.vD(C.arg,E.after):C},y.prototype.matches=function(C,E){s.fF.assertValue(C,"change"),s.fF.assertValue(E,"expr");var M=(0,v.Q)(E);if(s.fF.assertValue(M,"fieldPattern"),!M.columnHierarchyLevelVariation){var P=(0,f.Um)(M);s.fF.assertValue(P,"fieldEntityPattern");var T=E.arg;return s.fF.assertValue(T,"hierarchyExpr"),P.schema===C.schema&&P.entity===C.entity&&T.hierarchy===C.hierarchy&&E.level===C.before}},y}(h.b),S=function(g){function y(C){var E=this;return s.fF.assertValue(C,"change"),(E=g.call(this)||this).change=C,E}return(0,e.__extends)(y,g),y.prototype.visitMeasureRef=function(C){var E=this.change,M=(0,f.Um)((0,v.Q)(C));if(s.fF.assertValue(M,"fieldPattern"),M.schema!==E.schema&&M.entity===E.entity&&C.ref===E.name){var P=new b.PN(E.schema,E.entity);return new b.UY(P,E.name)}return C},y}(h.b)},760285:function(Je,H,t){t.d(H,{L:function(){return e}});var e=function(c){return c[c.Version0=0]="Version0",c[c.Version1=1]="Version1",c[c.Version2=2]="Version2",c}({})},91159:function(Je,H,t){t.d(H,{r:function(){return r}});var e=t(226514),c=t(787941),s=t(327260),f=t(144900),v=t(725182),b=t(572643),h=t(912126),p=t(419644);function r(i,m,u,V,d){return new o(i,m,u,V,d)}var o=function(){function i(m,u,V,d,S){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],c.fF.assertValue(m,"promiseFactory"),c.fF.assertValue(u,"dataReaderProvider"),c.fF.assertValue(V,"featureSwitchService"),this.promiseFactory=m,this.dataReaderProvider=u,this.featureSwitchService=V,this.telemetryService=d,this.validator=S,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}return i.prototype.get=function(m,u){var V=this;c.fF.assertNonEmpty(m,"dataSources");var d=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!m)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},d);var S=this.generateSchemaKey(m),g=this.mergedConceptualSchemaCache[S];if(this.isSchemaPaused(g))return this.promiseFactory.reject(this.getPauseReason(g),d);if(g&&g.promise)return u&&u.setProperty("isConceptualSchemaCached",!0),g.promise;var y=this.promiseFactory.defer(d),C={deferred:y,promise:y.promise};this.mergedConceptualSchemaCache[S]=C,C.promise.then(function(){return delete C.deferred},function(){return delete V.mergedConceptualSchemaCache[S]});var E=[],M=a(m),P=function(D){var L=M[D],F=T.generateSchemaKey(L),A=T.individualConceptualSchemaCache[F];if(T.isSchemaPaused(A))return E.push(T.promiseFactory.reject(T.getPauseReason(A),d)),"continue";if(A)return E.push(A.promise),"continue";var O=T.promiseFactory.defer(d),N=O.promise;E.push(N),T.individualConceptualSchemaCache[F]={deferred:O,promise:N},N.finally(function(){V.individualConceptualSchemaCache[F]&&delete V.individualConceptualSchemaCache[F].deferred});var w=T.dataReaderProvider.schemaReader(D);if(!w)return c.fF.assertFail("No schema reader exists for data source type: ".concat(D)),O.reject({clientError:{code:"SchemaReaderUndefined"}}),"continue";w.execute({dataSources:L}).then(function(I){return V.onSuccess(w,I,F,O)},function(I){return V.onError(w,I,F,O)})},T=this;for(var x in M)P(x);return this.promiseFactory.all(E,d).then(function(R){var D=b.l.merge(R);V.validator&&V.validator.validate(D),C.result=D,y.resolve(D)}).catch(function(R){y.reject(R)}),C.promise},i.prototype.getWithWireContract=function(m){var u=this;return m&&_.uniqBy(m,function(V){return(0,h.wx)(V)}).length>1?(c.fF.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(m).then(function(V){var d=u.individualConceptualSchemaCache[u.generateSchemaKey(m)];if(d)return{data:d.data,contract:V}})},i.prototype.getLatestCapabilities=function(m,u){var V=a(m);for(var d in V){var g=this.generateSchemaKey(V[d]),y=this.individualConceptualSchemaCache[g];if(y&&y.result){var C=y.result.schema(u);if(C)return C.capabilities}}},i.prototype.clearCache=function(m,u){var V=this;if(!u)return this.rejectPendingDeferred(m),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var d=a(u);for(var S in d){var g=d[S],y=this.generateSchemaKey(g),C=JSON.stringify(_.map(g,function(E){return E.id}));this.telemetryService.logEvent(p.I7,{datasetIds:C,requestId:m&&m.requestId,reason:m&&m.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,y,function(E){V.rejectPendingDeferred(m,E),delete V.individualConceptualSchemaCache[E]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,y,function(E){delete V.mergedConceptualSchemaCache[E]})}},i.prototype.stopCommunication=function(m,u){var V,d,S={clientError:m};if(u){var g=a(u);for(var y in g)V=this.generateSchemaKey(g[y]),(d=this.individualConceptualSchemaCache[V])||(this.individualConceptualSchemaCache[V]=d={}),d.pauseReason=S,this.rejectPendingDeferred(S,V)}else this.pauseAllSchemasReason=S||{clientError:null},this.rejectPendingDeferred(S);for(var M=0,P=this.stopCommunicationHandlers;M<P.length;M++)(0,P[M])()},i.prototype.resumeCommunication=function(m){var V,u=this;m?V=_.map(a(m),function(P){return u.generateSchemaKey(P)}):(this.pauseAllSchemasReason=void 0,V=Object.keys(this.individualConceptualSchemaCache));for(var d=0,S=V;d<S.length;d++){var g=S[d];this.isSchemaPaused(this.individualConceptualSchemaCache[g])&&(delete this.individualConceptualSchemaCache[g],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,g,function(P){return delete u.mergedConceptualSchemaCache[P]}))}for(var C=0,E=this.resumeCommunicationHandlers;C<E.length;C++)(0,E[C])()},i.prototype.registerStopCommunicationHandlers=function(m){var u=this;return this.stopCommunicationHandlers.push(m),function(){return _.pull(u.stopCommunicationHandlers,m)}},i.prototype.registerResumeCommunicationHandlers=function(m){var u=this;return this.resumeCommunicationHandlers.push(m),function(){return _.pull(u.resumeCommunicationHandlers,m)}},i.prototype.isEmpty=function(m){return(0,e.__awaiter)(this,void 0,f.J,function(){var u,V=this;return(0,e.__generator)(this,function(d){switch(d.label){case 0:return[4,this.get(m)];case 1:return u=d.sent(),[2,_.every(u.schemas,function(S){return _.isEmpty(S.entities)||V.isSystemEntity(S.entities)})]}})})},i.prototype.isSystemEntity=function(m){return _.every(m,function(u){return(0,v.yE)(u.visibility,4)||(0,v.yE)(u.visibility,2)})},i.prototype.isSchemaPaused=function(m){return!!this.pauseAllSchemasReason||m&&!m.promise},i.prototype.getPauseReason=function(m){return m&&m.pauseReason?m.pauseReason:this.pauseAllSchemasReason},i.prototype.rejectPendingDeferred=function(m,u){var V,d;for(var S in u?(V={})[u]=null:V=this.individualConceptualSchemaCache,V)(d=this.individualConceptualSchemaCache[S])&&(d.deferred&&d.deferred.reject(m),delete d.promise,delete d.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,S,function(g,y){y.deferred&&y.deferred.reject(m),delete y.promise,delete y.deferred}))},i.prototype.onSuccess=function(m,u,V,d){var S=m.transform(u);if(S.error)this.onErrorCore(S,V,d);else{var g=this.individualConceptualSchemaCache[V];g&&(g.result=S.schema,g.data=u.data);var y=this.tryGetAdditionalIndividualCacheKey(V,S);y&&(this.individualConceptualSchemaCache[y]=g),d.resolve(S.schema)}},i.prototype.onError=function(m,u,V,d){var S=m.transform(u);this.onErrorCore(S,V,d)},i.prototype.onErrorCore=function(m,u,V){var d=this;delete this.individualConceptualSchemaCache[u],m.error&&m.error.serviceError&&(m.error.clientError=new s.sI(m.error.serviceError),m.error.clientError.requestId=m.error.requestId),V.reject(m.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,u,function(S){delete d.mergedConceptualSchemaCache[S]})},i.prototype.tryGetAdditionalIndividualCacheKey=function(m,u){var V=u.schema.schemas;if(V){c.fF.assert(function(){return 1===V.length},"schemas should be length 1");var d=V[0];if(d.cubeName){var S=JSON.parse(m);c.fF.assert(function(){return 1===S.length},"key is length 1");var g=S[0];if(c.fF.assert(function(){return d.name===g.name},"names should be same"),!g.perspectiveId)return g.perspectiveId=d.cubeName,this.generateSchemaKey([g])}}},i.prototype.forSchemasContainingKey=function(m,u,V){for(var S=0,g=JSON.parse(u);S<g.length;S++){var y=g[S];for(var C in m)for(var M=0,P=JSON.parse(C);M<P.length;M++){var T=P[M];y.id===T.id&&y.name===T.name&&y.type===T.type&&V(C,m[C])}}},i.prototype.generateSchemaKey=function(m){return c.fF.assertValue(m,"dataSources"),JSON.stringify(_.chain(m).map(function(u){return{id:u.id,name:u.name,type:(0,h.wx)(u),perspectiveId:u.perspectiveId}}).orderBy(["type","name","id","perspectiveId"]).value())},i}();function a(i){return _.groupBy(i,function(m){return(0,h.wx)(m)})}},563233:function(Je,H,t){t.d(H,{Az:function(){return n},Fu:function(){return h},M2:function(){return p}});var e=t(235635),c=t(325333),s=t(787941),f=t(520907),v=t(419644),b=t(982958);function h(i,m){return!(!i.query||!m.query)&&i.type===m.type&&i.kinds===m.kinds&&i.perfId===m.perfId&&i.query.allowResultFromClientCache===m.query.allowResultFromClientCache&&i.query.allowClientSideFilters===m.query.allowClientSideFilters&&i.query.cacheResponseOnServer===m.query.cacheResponseOnServer&&i.query.ignoreViewportForCache===m.query.ignoreViewportForCache&&(0,f.fS)(i.query.cacheOptions,m.query.cacheOptions)&&(0,f.fS)(i.query.command,m.query.command)&&(0,f.fS)(i.query.dataSources,m.query.dataSources)}function p(i,m,u){return new r(i,m,u)}var n=function(m,u,V,d){return new o(m,u,V)},r=function(){function i(m,u,V){this.promiseFactory=m,this.dataReaderProvider=u,this.dataReaders={},this.telemetryService=V}return i.prototype.execute=function(m){return s.fF.assertValue(m,"options"),this.getReader(m.type).execute(m.query,m.kinds,m.perfId)},i.prototype.getReader=function(m){var u=this.dataReaders[m];if(u)return u;var V=this.dataReaderProvider.reader(m);return s.fF.assertValue(V,"Could not find data reader for type: ".concat(m)),this.dataReaders[m]=new a(m,V,this.promiseFactory,this.telemetryService)},i.prototype.stopCommunication=function(m){this.getReader(m).stopCommunication()},i.prototype.resumeCommunication=function(m){this.getReader(m).resumeCommunication()},i.prototype.clearCache=function(m,u){this.getReader(m).clearCache(u)},i.prototype.rewriteCacheEntries=function(m,u,V){this.getReader(m).rewriteCacheEntries(u,V)},i.prototype.setLocalCacheResult=function(m,u){return this.getReader(m.type).setLocalCacheResult(m.query,u)},i}(),o=function(){function i(m,u,V){this.proxy=m,this.promiseFactory=u,this.timeoutService=V}return i.prototype.execute=function(m){var u=this,V=this.lastExecute;if(V&&V.promise.pending()){if(h(m,V.query)){var d=(0,e.U)(V.deferred);return d.matchesLastExecuteQuery=!0,d}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new c.hC("NewQuery"))}var S=m&&m.query&&m.query.telemetryV2Enabled,g=this.promiseFactory.defer(S),y=(0,e.U)(g),C=this.lastExecute={query:m,deferred:g,promise:y,ended:!1};return this.queuedExecution||(this.queuedExecution=!0,this.timeoutService.setTimeout(!0===m.isColdLoad?-1:0,S).promise.then(function(){u.queuedExecution=!1;var T=u.lastExecute;if(T&&!T.ended){var x=u.proxy.execute(T.query);x.then(function(R){T.ended?T.deferred.reject():T.deferred.resolve(R)},function(R){return T.deferred.reject(R)}),T.promise.catch(function(R){return x.reject(R)})}}).catch(function(){})),y.finally(function(){C.ended=!0,C===u.lastExecute&&(u.lastExecute=void 0)}).catch(function(){}),y},i.prototype.cancelQuery=function(m){var u=this.lastExecute;u&&u.promise.pending()&&(u.ended=!0,u.promise.reject("PausedQuery"===m?new c.xs:new c.hC(m)))},i}(),a=function(){function i(m,u,V,d){s.fF.assertAnyValue(m,"pluginName"),s.fF.assertValue(u,"reader"),s.fF.assertValue(V,"promiseFactory"),s.fF.assertValue(d,"telemetryService"),this.name=m,this.reader=u,this.promiseFactory=V,this.telemetryService=d}return i.prototype.execute=function(m,u,V){var d=this;s.fF.assertValue(m,"options"),s.fF.assertAnyValue(V,"perfId");var S=this.promiseFactory.defer(m.telemetryV2Enabled),g=this.reader;if(g.execute){var y=g.execute(m,V);y.then(function(E){if(E){var M=d.transform(E,u,V,m.performanceActivity),P=M.error;if(M.performanceActivities&&P&&(P.performanceActivities=M.performanceActivities),P)return S.reject(P),void d.telemetryService.logEvent(v.zT,{requestId:E.requestId,isError:!0,errorSource:"PowerBI",errorCode:P.code});S.resolve({dataReaderResult:M,dataViewSource:{data:E}})}else S.reject(new b.C6),d.telemetryService.logEvent(v.zT,{isError:!0,errorSource:"PowerBI",errorCode:"DataProxy_EmptyData"})},function(E){S.reject(E),(!E||!E.ignorable)&&d.telemetryService.logEvent(v.zT,{requestId:null==E?void 0:E.requestId,isError:!0,errorSource:"PowerBI",errorCode:E?E.code:"DataProxy_ProviderError"})}).catch(function(E){S.reject(E)});var C=(0,e.U)(S);return C.catch(function(E){E=E||new b._W,y.reject(E)}),C}return m.command?S.resolve({dataReaderResult:this.transform(m.command,u,V)}):S.reject(),(0,e.U)(S)},i.prototype.stopCommunication=function(){var m=this.reader;m.stopCommunication&&m.stopCommunication()},i.prototype.resumeCommunication=function(){var m=this.reader;m.resumeCommunication&&m.resumeCommunication()},i.prototype.clearCache=function(m){var u=this.reader.cache;u&&u.clear(m)},i.prototype.rewriteCacheEntries=function(m,u){var V=this.reader.cache;V&&V.rewrite(m,u)},i.prototype.setLocalCacheResult=function(m,u){var V=this.reader;V.setLocalCacheResult&&V.setLocalCacheResult(m,u)},i.prototype.transform=function(m,u,V,d){var S=this.reader;if(S.transform)return S.transform(m,u||31,V,d);var g={metadata:{columns:[]}};return g[this.name]=m,{dataView:g}},i}()},982958:function(Je,H,t){t.d(H,{C6:function(){return v},Kd:function(){return f},_W:function(){return b},qc:function(){return s}});var e=t(509775),c=t(325333),s=function(){function h(p){this.innerError=p,this.code="QueryPipelineError",this.eventFactory=e.mN,this.ignorable=!(null==p||!p.ignorable)}return h.prototype.getDetails=function(p){return{message:"",displayableErrorInfo:[]}},h}(),f=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"FailedRealTimeUpdate"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(p){return{message:p.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:p.get("Realtime_UpdateFailedKey"),errorInfoValue:p.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},h}(),v=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"EmptyData"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(p){return{message:p.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:p.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:p.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},h}(),b=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"InvalidDataResponse"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(p){return{message:p.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:p.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:p.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:c.zd,errorInfoValue:this.code}]}},h}()},790866:function(Je,H,t){t.d(H,{ON:function(){return r},Om:function(){return h},aU:function(){return o}});var e=t(787941),c=t(725182),s=t(989516),f=t(232225),v=t(19632),b=t(448711),h=function(){function m(){}return m.getDataPointsDescription=function(u,V){if(u&&!_.isEmpty(V)){for(var d=this.getDataViewKind(u),S=[],g=0,y=V;g<y.length;g++){var C=y[g],E=this.query([u],C,d,[],!0),M=(0,s.tV)(C);S.push({selector:M,values:E})}return S}},m.getDataViewKind=function(u){var V=0;if(u.matrix)V=2;else if(u.table)V=8;else{if(!u.categorical)return void e.fF.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");V=1}return V},m.query=function(u,V,d,S,g){if(_.isEmpty(u)||!V)return[];var C,y=(0,s.gU)(V);if(_.some(y,function(A){return!(0,s.yN)(A)}))return[];C=S&&!g?S:V.metadata;var E=[];if((0,c.yE)(d,8))for(var M=0,P=u;M<P.length;M++){var T=P[M],x=new l(V,C,g);a(T.table,x),E.push.apply(E,x.valueDetails||[])}else if((0,c.yE)(d,1))for(var R=0,D=u;R<D.length;R++)o(T=D[R],x=new p(V,C,g)),E.push.apply(E,x.valueDetails||[]);else if((0,c.yE)(d,2))for(var L=0,F=u;L<F.length;L++)T=F[L],x=new n(V),i(T.matrix,x),E.push.apply(E,x.valueDetails||[]);return E},m}(),p=function(){function m(u,V,d){this.ignoreQueryName=d,this.requestedValues=V,this.identities=(0,s.gU)(u),this.valueDetails=[]}return m.prototype.visitCategoryColumns=function(u,V){if(!_.isEmpty(u))for(var d=function(M){if(S.ignoreQueryName||_.includes(S.requestedValues,M.source.queryName))for(var P=0;P<M.identity.length;P++){var T=M.identity[P];if(_.includes(S.identities,T)){var x=_.find(V.columns,function(R){return R.index===M.source.index});S.valueDetails.push({identity:T,value:M.values[P],expr:x.expr,formattedValue:(0,b.WU)(M.values[P],M.source.format)});break}}},S=this,g=0,y=u;g<y.length;g++)d(y[g])},m.prototype.visitValueColumnGroups=function(u,V){if(!_.isEmpty(u)&&V&&(this.ignoreQueryName||_.includes(this.requestedValues,V.queryName)))for(var d=0,S=u;d<S.length;d++){var g=S[d];if(_.includes(this.identities,g.identity))return void this.valueDetails.push({value:g.name,formattedValue:(0,b.WU)(g.name,V.format),expr:V.expr,identity:g.identity})}},m.prototype.visitValueColumn=function(u){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,u.source.queryName)},m.prototype.visitValue=function(u,V,d,S,g){r(this.identities,V.data)||this.valueDetails.push({expr:d.expr,value:u,formattedValue:(0,b.WU)(u,d.format),identity:_.head(V.data)})},m}(),n=function(){function m(u){this.valueDetails=[],this.identitiesToSearch=(0,s.gU)(u)}return m.prototype.visitHierarchy=function(u){for(var V=u.root;V&&V.children&&this.identitiesToSearch.length>0;)V=this.searchNode(V,u.levels)},m.prototype.searchNode=function(u,V){for(var d=0,S=this.identitiesToSearch;d<S.length;d++)for(var g=S[d],y=0,C=u.children;y<C.length;y++){var E=C[y];if(E.identity===g){var M=E.levelValues,P=V[E.level||0];if(!_.isEmpty(M))for(var T=0,x=M;T<x.length;T++){var R=x[T],D=P.sources[R.levelSourceIndex||0];this.valueDetails.push({expr:D.expr,identity:g,value:R.value,formattedValue:(0,b.WU)(R.value,D.format)})}return _.remove(this.identitiesToSearch,g),E}}},m}(),l=function(){function m(u,V,d){this.ignoreQueryName=d,this.requestedValues=V,this.identities=(0,s.gU)(u),this.valueDetails=[],this.requestedColumnsIndices=[]}return m.prototype.visitColumn=function(u,V){(this.ignoreQueryName||u.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,u.queryName)))&&this.requestedColumnsIndices.push(V)},m.prototype.visitRow=function(u,V){if(e.fF.assertAnyValue(u.rows[V],"A row for this rowIndex does not exist"),!u.identity||!r(this.identities,[u.identity[V]]))for(var S=0,g=this.requestedColumnsIndices;S<g.length;S++){var y=g[S],C=u.rows[V][y],E=u.columns[y];this.valueDetails.push({expr:E.expr,value:C,formattedValue:(0,b.WU)(C,E.format),identity:u.identity&&u.identity[V]})}},m}();function r(m,u){if(m)for(var V=function(E){if(!_.some(u,function(M){return(0,v.fS)(E,M)}))return{value:!0}},d=0,S=m;d<S.length;d++){var y=V(S[d]);if("object"==typeof y)return y.value}return!1}function o(m,u){var V=m.categorical;if(e.fF.assertAnyValue(u,"visitor should be defined"),V&&!_.isEmpty(V.values)){var d=(0,f.zq)(V);u.visitCategoryColumns(d,m.metadata);var S=_.head(V.categories),g=S&&_.clone(S.identity),y=V.values.grouped();u.visitValueColumnGroups(y,V.values.source);for(var C=0,E=y;C<E.length;C++)for(var M=E[C],P=M.identity,T=0,x=M.values;T<x.length;T++){var R=x[T];if(u.visitValueColumn(R))for(var D=Object.keys(R.values),L=0;L<D.length;L++){var A=R.values[D[L]],N={data:g?[g[L]]:[],metadata:R.source.queryName};P&&N.data.push(P),u.visitValue(A,N,R.source,V.categories,L)}}}}function a(m,u){if(e.fF.assertAnyValue(u,"visitor should be defined"),m&&!_.isEmpty(m.rows)){for(var V=m.columns,d=0;d<V.length;d++)u.visitColumn(V[d],d);for(var S=0;S<m.rows.length;S++)u.visitRow(m,S)}}function i(m,u){m.rows&&u.visitHierarchy(m.rows),m.columns&&u.visitHierarchy(m.columns)}},152200:function(Je,H,t){t.d(H,{D:function(){return f},m:function(){return s}});var e=t(19632),c=t(322487);function s(v){return{scopeId:c.ib.serializeExpr(v.expr)}}function f(v){if(v.scopeId){var b=c.ib.deserializeExpr(v.scopeId);if(b)return(0,e.TZ)(b)}}},258323:function(Je,H,t){t.d(H,{m8:function(){return l},mc:function(){return r},qC:function(){return b},vB:function(){return h}});var e=t(787941),c=t(734287),s=t(149362),f=t(592042),v={get:function(S){return S},getOptional:function(S){return S},format:function(S){return S}};function b(d,S){e.fF.assertValue(d,"objectDescriptors");var g={};for(var y in d)g[y]=p(d[y],S||v);return g}function h(d){e.fF.assertValue(d,"wireObjectDescriptors");var S={};for(var g in d)S[g]=n(d[g]);return S}function p(d,S){if(d){var g={properties:{}};for(var y in d.displayName&&(g.displayName=(0,c.G)(d.displayName,S)),d.description&&(g.description=(0,c.G)(d.description,S)),d.properties)g.properties[y]=l(d.properties[y],S);return g}}function n(d){var S={properties:{}};for(var g in d.displayName&&(S.displayName=(0,c.V)(d.displayName)),d.description&&(S.description=(0,c.V)(d.description)),d.properties)S.properties[g]=r(d.properties[g]);return S}function l(d,S){var g={type:o(d.type,S)};return d.rule&&(g.rule=d.rule),d.displayName&&(g.displayName=(0,c.G)(d.displayName,S)),d.description&&(g.description=(0,c.G)(d.description,S)),d.placeHolderText&&(g.placeHolderText=(0,c.G)(d.placeHolderText,S)),g}function r(d){var S={type:a(d.type)};return d.displayName&&(S.displayName=(0,c.V)(d.displayName)),d.description&&(S.description=(0,c.V)(d.description)),d.placeHolderText&&(S.placeHolderText=(0,c.V)(d.placeHolderText)),d.rule&&(S.rule=d.rule),S}function o(d,S){var g=f.Ge.fromDescriptor(d);return g&&g.enum?{enumeration:m(g.enum,S)}:null!=g&&g.flagsEnum?{flagsEnumeration:m(g.flagsEnum,S)}:d}function a(d){return f.Ge.fromDescriptor(d)?function(d){var S;if(d.enumeration)S={enumeration:u(d.enumeration)};else if(d.flagsEnumeration)S={flagsEnumeration:u(d.flagsEnumeration)};else for(var y in S={},d)S[y]=d[y];return S}(d):d}function m(d,S){return _.map(d.members(),function(g){return function(d,S){return{displayName:(0,c.G)(d.displayName,S),value:d.value}}(g,S)})}function u(d){return(0,s.i)(d)}},415859:function(Je,H,t){t.d(H,{PU:function(){return oe},wN:function(){return B},kO:function(){return I},OT:function(){return K},L1:function(){return te},UU:function(){return j},JF:function(){return ee},iz:function(){return k},kg:function(){return G},un:function(){return x},CA:function(){return D},kS:function(){return F},B6:function(){return Ze},W7:function(){return it},xF:function(){return Fe},Vg:function(){return Ee},UZ:function(){return We},OR:function(){return W},U9:function(){return Oe},bI:function(){return U},kW:function(){return Ne}});var N,e=t(299747),c=t(883863),s=t(787941),f=t(826691),v=t(369138),b=t(989516),h=t(668268),p=t(389521),n=t(755397),l=t(799863),r=t(45696),o=t(13106),a=t(324356),i=t(813297),m=t(60495),u=t(950870),V=t(592042),d=t(152200),S=t(266983),g=t(890795),y=t(322487),C=V.Ge.fromDescriptor({bool:!0}),E=V.Ge.fromDescriptor({numeric:!0}),M=V.Ge.fromDescriptor({text:!0}),P={fill:{solid:{color:!0}}};function x(ke,dt){var Tt=ke&&ke[dt];if(Tt){for(var Wt,Kt=0,Zt=Tt.length;Kt<Zt;Kt++){var er=Tt[Kt];if(null==er.selector){Wt=er;break}}if(Wt)return Wt.properties}}function D(ke){return ke&&"ExprContext"===ke.propertyDefinitionKind}function F(ke){return _.isArray(ke)&&!!ke[0].dataMap}function I(ke,dt,Tt,Wt){if(void 0===Wt&&(Wt="objects"),null!=ke)if(!_.isEmpty(ke)||(0,e.Jx)(ke)){var Kt=dt();if(Kt)Tt[Wt]=B(ke,Kt);else{var er,Zt=!1;Object.defineProperty(Tt,Wt,{enumerable:!0,get:function(){return Zt||(Zt=!0,er=B(ke,dt())),er},set:function(sr){Zt=!0,er=sr}})}}else Tt[Wt]={};else Tt[Wt]=void 0}function B(ke,dt){if(s.fF.assertAnyValue(ke,"input"),s.fF.assertAnyValue(dt,"descriptors"),ke){!N&&!dt&&(N=!0,f.f.error("deserializeObjects called with no descriptors - ",!0));var Tt={};for(var Wt in ke){var Kt=void 0;if(!dt||(Kt=dt[Wt]))for(var Zt=ke[Wt],er=Tt[Wt]=[],ar=0,sr=Zt.length;ar<sr;ar++)er.push(Q(Zt[ar],Kt,!dt))}return Tt}}function j(ke){if(ke)return _.map(ke,te)}function W(ke){if(ke)return _.map(ke,We)}function U(ke){if(ke)return{category:ke.categoryString,underlyingType:ke.extendedType}}function k(ke){if(ke)return new V.Ge(ke.underlyingType,ke.category)}function Q(ke,dt,Tt){if(s.fF.assertAnyValue(ke,"input"),s.fF.assertAnyValue(dt,"descriptor"),ke){var Wt={properties:X(ke.properties,dt?dt.properties:null,Tt)},Kt=te(ke.selector);return Kt&&(Wt.selector=Kt),Wt}}function te(ke){if(s.fF.assertAnyValue(ke,"input"),null===ke)return null;if(ke){var dt={};return ke.data&&(dt.data=_.chain(ke.data).map(function(Tt){return ne(Tt)}).filter(function(Tt){return null!=Tt}).value()),ke.metadata&&(dt.metadata=ke.metadata),ke.id&&(dt.id=ke.id),void 0!==ke.highlightMatching&&(dt.highlightMatching=ke.highlightMatching),null!=ke.order&&(dt.order=ke.order),dt}}function ee(ke){if(s.fF.assertAnyValue(ke,"input"),ke){var dt={};if(ke.dataMap)for(var Tt in dt.dataMap={},ke.dataMap)dt.dataMap[Tt]=_.chain(ke.dataMap[Tt]).map(function(Wt){return ne(Wt)}).filter(function(Wt){return null!=Wt}).value();return ke.metadata&&(dt.metadata=ke.metadata),ke.id&&(dt.id=ke.id),dt}}function J(ke,dt,Tt){ke.decomposedIdentities&&(dt.decomposedIdentities=Tt(ke.decomposedIdentities)),ke.queryNames&&(dt.queryNames=ke.queryNames),ke.queryNameMap&&(dt.queryNameMap=ke.queryNameMap),ke.metadata&&(dt.metadata=ke.metadata),ke.id&&(dt.id=ke.id)}function G(ke){if(ke)return _.map(ke,function(dt){return{objectName:dt.objectName,selectorsByColumn:ee(dt.selectorsByColumn)}})}function ne(ke){return s.fF.assertValue(ke,"input"),ke.scopeId?(0,d.D)(ke):ke.wildcard?(0,l.ms)(_.map(ke.wildcard,y.ib.deserializeExpr)):ke.roles?(0,p.Yp)(ke.roles):ke.total?(0,n.ms)(_.map(ke.total,y.ib.deserializeExpr)):ke.dataViewWildcard?(0,r.Ue)(ke.dataViewWildcard.matchingOption):void 0}function X(ke,dt,Tt){if(s.fF.assertAnyValue(ke,"input"),s.fF.assertAnyValue(dt,"propertyDescriptors"),ke){var Wt={};for(var Kt in ke){var Zt=oe(ke[Kt],dt?dt[Kt]:null,Tt);void 0!==Zt&&(Wt[Kt]=Zt)}return Wt}}function oe(ke,dt,Tt){if(s.fF.assertAnyValue(ke,"input"),s.fF.assertAnyValue(dt,"propertyDescriptor"),dt){var Wt=ot(dt.type);return D(ke)?{propertyDefinitionKind:"ExprWithContext",value:Ve(ke.value,Wt.value),context:Qe(ke.context)}:function(ke,dt){return!!dt.value}(0,Wt)?Ve(ke,Wt.value):Te(ke,Wt.structural)}if(Tt&&ke){if(D(ke))return{propertyDefinitionKind:"ExprWithContext",value:y.ib.deserializeExpr(ke.value.expr),context:Qe(ke.context)};if(ke.expr)return y.ib.deserializeExpr(ke.expr);if(ke.solid)return Te(ke,P);if(ke.filter)return y.ib.deserializeFilter(ke.filter)}}function Ve(ke,dt){if(s.fF.assertValue(dt,"type"),void 0!==dt.primitiveType&&ke.expr)return y.ib.deserializeExpr(ke.expr)}function Te(ke,dt){if(s.fF.assertValue(dt,"type"),dt.fill&&dt.fill.solid&&dt.fill.solid.color&&ke)return ke.solid&&ke.solid.color?{solid:{color:Ve(ke.solid.color,V.Ge.fromPrimitiveTypeAndCategory(1))}}:void 0;if(dt.fillRule){var Kt=_t(ke,Ve);if(Kt)return Kt}var Zt=ke;return dt.filter&&Zt&&Zt.filter?y.ib.deserializeFilter(Zt.filter):dt.image&&Zt&&Zt.image?function(ke){s.fF.assertValue(ke,"input");var dt={name:Ve(ke.name,M),url:Ve(ke.url,V.Ge.fromDescriptor(i.z))};return ke.scaling&&(dt.scaling=Ve(ke.scaling,M)),dt}(Zt.image):dt.geoJson&&Zt&&Zt.geoJson?function(ke){return s.fF.assertValue(ke,"input"),{type:Ve(ke.type,M),name:Ve(ke.name,M),content:Ve(ke.content,M)}}(Zt.geoJson):dt.paragraphs&&ke?function(ke){return s.fF.assertValue(ke,"input"),_.map(ke,function(dt){var Tt={textRuns:_.map(dt.textRuns,function(Wt){return(0,m.Y0)(Wt)?pe(Wt):(0,m.Zm)(Wt)?function(ke){var dt={cases:_.map(ke.cases,function(Tt){var Wt={pattern:Ve(Tt.pattern,M),textRuns:_.map(Tt.textRuns,function(Kt){return pe(Kt)})};return Wt}),defaultCase:{textRuns:_.map(ke.defaultCase.textRuns,function(Tt){return pe(Tt)})},expression:be(ke.expression)};return dt}(Wt):void 0})};return dt.horizontalTextAlignment&&(Tt.horizontalTextAlignment=dt.horizontalTextAlignment),dt.listType&&(Tt.listType=dt.listType),dt.indent&&(Tt.indent=dt.indent),Tt})}(ke):dt.queryTransform&&ke?function(ke){return s.fF.assertValue(ke,"input"),{algorithm:ke.algorithm,parameters:_.map(ke.parameters,function(Tt){return{name:Tt.Name,expr:y.ib.deserializeExpr(Tt)}})}}(ke):dt.dataBars&&ke?function(ke){return s.fF.assertValue(ke,"input"),{minValue:ke.minValue?Ve(ke.minValue,E):void 0,maxValue:ke.maxValue?Ve(ke.maxValue,E):void 0,positiveColor:Te(ke.positiveColor,P),negativeColor:Te(ke.negativeColor,P),axisColor:Te(ke.axisColor,P),reverseDirection:Ve(ke.reverseDirection,C),hideText:Ve(ke.hideText,C)}}(ke):dt.icon&&ke&&"Icon"===ke.kind?function(ke){s.fF.assertValue(ke,"input");var dt={kind:"Icon"};return ke.layout&&(dt.layout=Ve(ke.layout,M)),ke.verticalAlignment&&(dt.verticalAlignment=Ve(ke.verticalAlignment,C)),ke.value&&(dt.value=Ve(ke.value,M)),dt}(ke):dt.exprList&&ke&&"ExprList"===ke.kind?function(ke){s.fF.assertValue(ke,"input");var dt={exprs:[],kind:"ExprList"};return dt.exprs=_.map(ke.exprs,function(Tt){return y.ib.deserializeExpr(Tt.expr)}),dt}(ke):dt.errorRange&&ke&&"ErrorRange"===ke.kind?function(ke){s.fF.assertValue(ke,"input");var dt={kind:"ErrorRange"};if(ke.explicit)dt.explicit={isRelative:y.ib.deserializeExpr((Tt=ke.explicit).isRelative.expr)},Tt.lowerBound&&(dt.explicit.lowerBound=y.ib.deserializeExpr(Tt.lowerBound.expr)),Tt.upperBound&&(dt.explicit.upperBound=y.ib.deserializeExpr(Tt.upperBound.expr));else if(ke.symmetricalExplicit)dt.symmetricalExplicit={delta:y.ib.deserializeExpr((Tt=ke.symmetricalExplicit).delta.expr)};else if(ke.standardDeviation)dt.standardDeviation={value:y.ib.deserializeExpr((Tt=ke.standardDeviation).value.expr),multiplier:y.ib.deserializeExpr(Tt.multiplier.expr)};else if(ke.percentage)dt.percentage={lowerBoundDelta:y.ib.deserializeExpr((Tt=ke.percentage).lowerBoundDelta.expr),upperBoundDelta:y.ib.deserializeExpr(Tt.upperBoundDelta.expr)};else if(ke.percentile){var Tt;s.fF.assertValue((Tt=ke.percentile).lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),s.fF.assertValue(Tt.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),dt.percentile={lowerBound:y.ib.deserializeExpr(Tt.lowerBound.expr),upperBound:y.ib.deserializeExpr(Tt.upperBound.expr)}}return dt}(ke):dt.qnaVisualLink&&ke?function(ke){s.fF.assertValue(ke,"input");var dt={};return ke.suggestedUtterances&&(dt.suggestedUtterances=_.map(ke.suggestedUtterances,function(Tt){return{utterance:Tt.Utterance}})),_.isEmpty(dt)?void 0:dt}(ke):dt.itemLocation&&ke&&"ItemLocation"===ke.kind?function(ke){if(s.fF.assertValue(ke,"input"),ke.byReference){var dt={kind:"ItemLocation",byReference:{itemId:Ve(ke.byReference.itemId,M)}};return null!=ke.byReference.workspaceId&&(dt.byReference.workspaceId=Ve(ke.byReference.workspaceId,M)),null!=ke.byReference.folderId&&(dt.byReference.folderId=Ve(ke.byReference.folderId,M)),dt}}(ke):void s.fF.assertFail("Deserializing a structural type failed")}function Qe(ke){s.fF.assertValue(ke,"input");var dt={};return _.isEmpty(ke.filterContext)||(dt.filterContext=_.map(ke.filterContext,function(Tt){return{filter:y.ib.deserializeFilter(Tt.filter),metadata:Tt.metadata?(0,g.hE)(Tt.metadata):void 0}})),dt}function pe(ke){var dt={value:le(ke.value)};return ke.textStyle&&(dt.textStyle=ke.textStyle),ke.url&&(dt.url=ke.url),ke.mentionEmail&&(dt.mentionEmail=ke.mentionEmail),dt}function le(ke){var dt;if(_.isString(ke))dt=ke;else if(!(dt=Ve(ke,M))){var Tt=ke;(0,u.U)(Tt)&&(dt=Tt)}return dt}function be(ke){var dt;if(!(dt=Ve(ke,M))){var Tt=ke;(0,u.U)(Tt)&&(dt=Tt)}return dt}function Fe(ke,dt,Tt,Wt){if(s.fF.assertAnyValue(ke,"contract"),s.fF.assertAnyValue(dt,"descriptors"),ke){var Kt={};for(var Zt in ke){var er=void 0;if(!dt||(er=dt[Zt]))for(var ar=ke[Zt],sr=Kt[Zt]=[],gr=0,mr=ar.length;gr<mr;gr++)sr.push(at(ar[gr],er,!dt,Tt,Wt))}return Kt}}function at(ke,dt,Tt,Wt,Kt){if(s.fF.assertAnyValue(ke,"contract"),s.fF.assertAnyValue(dt,"descriptor"),ke){var Zt=function(ke,dt,Tt,Wt,Kt){if(s.fF.assertAnyValue(ke,"contract"),s.fF.assertAnyValue(dt,"descriptors"),ke){var Zt={};for(var er in ke){var ar=dt?dt[er]:null;if(!(Kt&&null!=ar&&ar.transient||!Tt&&!ar)){var sr=it(ke[er],ar,Tt,Wt);void 0===sr?s.fF.assertFail("DataViewObjectSerializer: failed to serialize property: "+er+" due to malformed property value."):Zt[er]=sr}}return Zt}}(ke.properties,dt?dt.properties:null,Tt,Wt,Kt);if(Zt){var er={properties:Zt},ar=We(ke.selector);return ar&&(er.selector=ar),er}}}function We(ke){if(s.fF.assertAnyValue(ke,"contract"),null===ke)return null;if(ke){var dt={};return ke.data&&(dt.data=_.chain(ke.data).map(function(Tt){return Y(Tt)}).filter(function(Tt){return null!=Tt}).value()),ke.metadata&&(dt.metadata=ke.metadata),ke.id&&(dt.id=ke.id),void 0!==ke.highlightMatching&&(dt.highlightMatching=ke.highlightMatching),null!=ke.order&&(dt.order=ke.order),dt}}function Oe(ke){if(s.fF.assertAnyValue(ke,"contract"),ke){var dt={};if(ke.dataMap)for(var Tt in dt.dataMap={},ke.dataMap){var Wt=(0,c.rY)(ke.dataMap[Tt]);dt.dataMap[Tt]=_.chain(Wt).map(function(Kt){return Y(Kt)}).filter(function(Kt){return null!=Kt}).value()}return ke.metadata&&(dt.metadata=ke.metadata),ke.id&&(dt.id=ke.id),dt}}function Ze(ke){if(s.fF.assertAnyValue(ke,"contract"),ke){var dt={};return J(ke,dt,S.Rs),dt}}function Ee(ke,dt){return dt?Ze((0,v.od)(ke)):_.map(ke,function(Wt){return Oe(Wt)})}function K(ke){if(function(ke){return!_.isArray(ke)&&!!ke.decomposedIdentities}(ke)){var dt=function(ke){if(s.fF.assertAnyValue(ke,"input"),ke){var dt={};return J(ke,dt,S.H9),dt}}(ke);return(0,v.k4)(dt)}return _.map(ke,function(Tt){return ee(Tt)})}function Ne(ke){if(ke)return _.map(ke,function(dt){return{objectName:dt.objectName,selectorsByColumn:Oe(dt.selectorsByColumn)}})}function Y(ke){return s.fF.assertValue(ke,"contract"),(0,b.yN)(ke)&&ke.expr?(0,d.m)(ke):(0,b.QV)(ke)&&ke.exprs?{wildcard:_.map(ke.exprs,function(dt){return y.ib.serializeExpr(dt)})}:(0,b.j9)(ke)&&ke.roles?{roles:ke.roles}:(0,b.tQ)(ke)&&ke.exprs?{total:_.map(ke.exprs,function(dt){return y.ib.serializeExpr(dt)})}:(0,b.qm)(ke)?{dataViewWildcard:ye(ke)}:void s.fF.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function ye(ke){return{matchingOption:ke.matchingOption}}function it(ke,dt,Tt,Wt){if(s.fF.assertAnyValue(ke,"contract"),s.fF.assertAnyValue(dt,"descriptor"),dt){var Kt=ot(dt.type);return(0,h.er)(ke)?{propertyDefinitionKind:"ExprContext",value:Ue(ke.value,Kt.value),context:Le(ke.context,Wt)}:Kt.value?Ue(ke,Kt.value):De(ke,Kt.structural)}if(Tt&&ke){if((0,h.er)(ke))return{propertyDefinitionKind:"ExprContext",value:{expr:y.ib.serializeExpr(ke.value)},context:Le(ke.context,Wt)};if(ke instanceof a.Il)return{expr:y.ib.serializeExpr(ke)};if(ke instanceof o.yl)return{filter:y.ib.serializeFilter(ke)};if(ke.solid)return De(ke,P)}}function Ue(ke,dt){if(s.fF.assertValue(dt,"type"),void 0!==dt.primitiveType&&ke instanceof a.Il)return{expr:y.ib.serializeExpr(ke,!0)}}function De(ke,dt){if(s.fF.assertValue(dt,"type"),ke){if(dt.fill&&dt.fill.solid&&dt.fill.solid.color)return{solid:{color:Ue(ke.solid.color,M)}};if(dt.fillRule){var Kt=_t(ke,Ue);if(Kt)return Kt}if(dt.filter)return{filter:y.ib.serializeFilter(ke)};if(dt.image)return{image:Xe(ke)};if(dt.geoJson)return{geoJson:et(ke)};if(dt.paragraphs)return function(ke){return s.fF.assertValue(ke,"definition"),_.map(ke,function(dt){var Tt={textRuns:_.map(dt.textRuns,function(Wt){return(0,m.IM)(Wt)?ce(Wt):(0,m.Kt)(Wt)?{cases:_.map(Wt.cases,function(Zt){return{pattern:Ue(Zt.pattern,M),textRuns:_.map(Zt.textRuns,function(ar){return ce(ar)})}}),defaultCase:{textRuns:_.map(Wt.defaultCase.textRuns,function(Zt){return ce(Zt)})},expression:Ge(Wt.expression)}:void 0})};return dt.horizontalTextAlignment&&(Tt.horizontalTextAlignment=dt.horizontalTextAlignment),dt.listType&&(Tt.listType=dt.listType),dt.indent&&(Tt.indent=dt.indent),Tt})}(ke);if(dt.queryTransform)return function(ke){return{algorithm:ke.algorithm,parameters:_.map(ke.parameters,function(dt){var Tt=y.ib.serializeExpr(dt.expr);return Tt.Name=dt.name,Tt})}}(ke);if(dt.dataBars)return function(ke){return{minValue:Ue(ke.minValue,E),maxValue:Ue(ke.maxValue,E),positiveColor:De(ke.positiveColor,P),negativeColor:De(ke.negativeColor,P),axisColor:De(ke.axisColor,P),reverseDirection:Ue(ke.reverseDirection,C),hideText:Ue(ke.hideText,C)}}(ke);if(dt.icon&&"Icon"===ke.kind)return function(ke){var dt={kind:"Icon"};return ke.layout&&(dt.layout=Ue(ke.layout,M)),ke.verticalAlignment&&(dt.verticalAlignment=Ue(ke.verticalAlignment,C)),ke.value&&(dt.value=Ue(ke.value,M)),dt}(ke);if(dt.exprList&&"ExprList"===ke.kind)return function(ke){s.fF.assertValue(ke,"input");var dt={exprs:[],kind:"ExprList"};return dt.exprs=_.map(ke.exprs,function(Tt){return Ue(Tt,M)}),dt}(ke);if(dt.errorRange&&"ErrorRange"===ke.kind)return function(ke){s.fF.assertValue(ke,"input");var dt={kind:"ErrorRange"};if(ke.explicit)dt.explicit={isRelative:Ue((Tt=ke.explicit).isRelative,C)},Tt.lowerBound&&(dt.explicit.lowerBound=Ue(Tt.lowerBound,E)),Tt.upperBound&&(dt.explicit.upperBound=Ue(Tt.upperBound,E));else if(ke.symmetricalExplicit)dt.symmetricalExplicit={delta:Ue((Tt=ke.symmetricalExplicit).delta,E)};else if(ke.standardDeviation)dt.standardDeviation={value:Ue((Tt=ke.standardDeviation).value,E),multiplier:Ue(Tt.multiplier,E)};else if(ke.percentage)dt.percentage={lowerBoundDelta:Ue((Tt=ke.percentage).lowerBoundDelta,E),upperBoundDelta:Ue(Tt.upperBoundDelta,E)};else if(ke.percentile){var Tt;dt.percentile={lowerBound:Ue((Tt=ke.percentile).lowerBound,E),upperBound:Ue(Tt.upperBound,E)}}return dt}(ke);if(dt.qnaVisualLink)return function(ke){s.fF.assertValue(ke,"input");var dt={};if(ke.suggestedUtterances){dt.suggestedUtterances=_.map(ke.suggestedUtterances,function(Wt){return{Version:"1.0",Utterance:Wt.utterance}})}return _.isEmpty(dt)?void 0:dt}(ke);if(dt.itemLocation)return function(ke){if(s.fF.assertValue(ke,"input"),ke.byReference){var dt=ke.byReference,Tt={kind:"ItemLocation",byReference:{itemId:Ue(dt.itemId,M)}};return null!=dt.workspaceId&&(Tt.byReference.workspaceId=Ue(dt.workspaceId,M)),null!=dt.folderId&&(Tt.byReference.folderId=Ue(dt.folderId,M)),Tt}}(ke);s.fF.assertFail("Serializing a structural type failed")}}function Le(ke,dt){s.fF.assertValue(ke,"contract");var Tt={};return _.isEmpty(ke.filterContext)||(Tt.filterContext=_.map(ke.filterContext,function(Wt){return{filter:y.ib.serializeFilter(Wt.filter),metadata:Wt.metadata?(0,g.Qe)(Wt.metadata,dt):void 0}})),Tt}function Xe(ke){s.fF.assertValue(ke,"definition");var dt={name:Ue(ke.name,M),url:Ue(ke.url,V.Ge.fromDescriptor(i.z))};return ke.scaling&&(dt.scaling=Ue(ke.scaling,M)),dt}function et(ke){return s.fF.assertValue(ke,"definition"),{type:Ue(ke.type,M),name:Ue(ke.name,M),content:Ue(ke.content,M)}}function ce(ke){var dt={value:Re(ke.value)};return ke.textStyle&&(dt.textStyle=ke.textStyle),ke.url&&(dt.url=ke.url),ke.mentionEmail&&(dt.mentionEmail=ke.mentionEmail),dt}function Re(ke){var dt;return ke instanceof a.Il?dt=Ue(ke,M):_.isString(ke)||(0,u.U)(ke)?dt=ke:s.fF.assertNever(ke),dt}function Ge(ke){var dt;return ke instanceof a.Il?dt=Ue(ke,M):(0,u.U)(ke)?dt=ke:s.fF.assertNever(ke),dt}function ot(ke){s.fF.assertValue(ke,"typeDescriptor");var dt=V.Ge.fromDescriptor(ke);return 0!==dt.primitiveType?{value:dt}:{structural:ke}}function _t(ke,dt){if(ke.linearGradient2){var Wt={min:{color:dt((Tt=ke.linearGradient2).min.color,V.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:dt(Tt.max.color,V.Ge.fromPrimitiveTypeAndCategory(1))}};return Tt.min.value&&(Wt.min.value=dt(Tt.min.value,V.Ge.fromPrimitiveTypeAndCategory(3))),Tt.max.value&&(Wt.max.value=dt(Tt.max.value,V.Ge.fromPrimitiveTypeAndCategory(3))),Tt.nullColoringStrategy&&(Wt.nullColoringStrategy={strategy:dt(Tt.nullColoringStrategy.strategy,V.Ge.fromPrimitiveTypeAndCategory(1))},Tt.nullColoringStrategy.color&&(Wt.nullColoringStrategy.color=dt(Tt.nullColoringStrategy.color,V.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient2:Wt}}var Tt;return ke.linearGradient3?(Wt={min:{color:dt((Tt=ke.linearGradient3).min.color,V.Ge.fromPrimitiveTypeAndCategory(1))},mid:{color:dt(Tt.mid.color,V.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:dt(Tt.max.color,V.Ge.fromPrimitiveTypeAndCategory(1))}},Tt.min.value&&(Wt.min.value=dt(Tt.min.value,V.Ge.fromPrimitiveTypeAndCategory(3))),Tt.mid.value&&(Wt.mid.value=dt(Tt.mid.value,V.Ge.fromPrimitiveTypeAndCategory(3))),Tt.max.value&&(Wt.max.value=dt(Tt.max.value,V.Ge.fromPrimitiveTypeAndCategory(3))),Tt.nullColoringStrategy&&(Wt.nullColoringStrategy={strategy:dt(Tt.nullColoringStrategy.strategy,V.Ge.fromPrimitiveTypeAndCategory(1))},Tt.nullColoringStrategy.color&&(Wt.nullColoringStrategy.color=dt(Tt.nullColoringStrategy.color,V.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient3:Wt}):null}},95788:function(Je,H,t){t.d(H,{F:function(){return o}});var e=t(226514),c=t(787941),s=t(524878),f=t(668268),v=t(620108),b=t(324356),h=t(592042),p=t(415859),l=t(962210),r=t(322487),o=function(){function a(){}return a.deserializeDataViewSelectTransforms=function(i){return c.fF.assertValue(i,"input"),function(a){if(a)for(var i=0,m=a;i<m.length;i++){var u=m[i];u.kpiStatusGraphic&&(u.kpi={graphic:u.kpiStatusGraphic})}}(i),_.map(i,function(m){var u={displayName:m.displayName,format:m.format,kpi:m.kpi,queryName:m.queryName,roles:m.roles,sort:m.sort,sortOrder:m.sortOrder,type:(0,p.iz)(m.type)};return m.expr&&(u.expr=r.ib.deserializeExpr(m.expr)),m.aggregateSources&&(u.aggregateSources=m.aggregateSources),m.relatedSelects&&(u.relatedSelects=m.relatedSelects),m.relatedObjects&&(u.relatedObjects=m.relatedObjects),u})},a.serializeDataViewSelectTransforms=function(i){return c.fF.assertValue(i,"input"),_.map(i,function(m){var u={displayName:m.displayName,format:m.format,kpi:m.kpi,queryName:m.queryName,roles:m.roles,sort:m.sort,sortOrder:m.sortOrder,type:(0,p.bI)(m.type)};return m.expr&&(u.expr=r.ib.serializeExpr(m.expr)),m.aggregateSources&&(u.aggregateSources=m.aggregateSources),m.relatedSelects&&(u.relatedSelects=m.relatedSelects),m.relatedObjects&&(u.relatedObjects=m.relatedObjects),u})},a.serializeDataViewTransformActions=function(i,m){c.fF.assertAnyValue(m,"objectDescriptors");var u={objects:(i=i||{}).objects,projectionOrdering:i.roles&&i.roles.ordering,projectionActiveItems:i.roles&&i.roles.activeItems,splits:i.splits,queryMetadata:null,visualElements:null};return i&&i.objects&&(u.objects=(0,p.xF)(i.objects,m,void 0,!1)),i&&i.selects&&(u.selects=a.serializeDataViewSelectTransforms(i.selects)),i&&!_.isEmpty(i.expansionStates)&&(u.expansionStates=(0,l.hI)(i.expansionStates)),u},a.deserializeDataViewTransformActions=function(i,m){var u=m&&m.objects;c.fF.assertValue(i,"actions"),c.fF.assertAnyValue(u,"objectDescriptors");var V=i.objects?(0,p.wN)(i.objects,u):null,d=a.createTransformActions(i.queryMetadata,i.visualElements,u,V)||{},S=i&&i.projectionActiveItems;return _.isEmpty(S)||this.upgradeActiveItemsIfNeeded(S),d.roles={ordering:i.projectionOrdering,activeItems:S},d.splits=i.splits,i.selects&&(d.selects=a.deserializeDataViewSelectTransforms(i.selects)),i.expansionStates&&(d.expansionStates=(0,l.bX)(i.expansionStates,{supportsMerge:m&&m.expandCollapse&&m.expandCollapse.supportsMerge,canCollapseRoot:m&&m.noDefaultProjections,collapseParentAfterRemovingChildLevel:m&&m.expandCollapse&&m.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(d),d},a.isStringArray=function(i){return _.isString(i[0])},a.upgradeActiveItemsIfNeeded=function(i){for(var m in i){var u=i[m],V=void 0;!_.isEmpty(u)&&this.isStringArray(u)&&(V=_.map(u,function(S){return{queryRef:S}})),i[m]=V||u}},a.upgradeComboChartFromCY16SU04AndPrior=function(i){var m;c.fF.assertValue(i,"transformActions");var d=i.roles&&i.roles.ordering;if(d){var S=d.Y&&1===d.Y.length&&_.includes(d.Y2,d.Y[0])?d.Y[0]:void 0;if(void 0!==S){var g=i.splits&&2===i.splits.length&&!i.splits[0].selects[S]&&i.splits[1].selects[S]?i.splits[0]:void 0;if(g){var y=_.chain(Object.keys(g.selects)).filter(function(T){return g.selects[T]}).map(function(T){return parseInt(T,10)}).maxBy(function(T){return T}).value();if(y!==Number.NEGATIVE_INFINITY&&i.selects&&i.selects.length===y){var E=i.selects[S];if(E&&E.roles.Y&&E.roles.Y2){delete E.roles.Y;var P=(0,e.__assign)({},E);P.roles=((m={}).Y=!0,m),P.queryName=E.queryName,i.selects[y]=P,i.roles.ordering.Y=[y]}}}}}},a.serializeTransformActions=function(i){return JSON.stringify(i)},a.createTransformActions=function(i,m,u,V){if(c.fF.assertAnyValue(i,"queryMetadata"),c.fF.assertAnyValue(m,"visualElements"),c.fF.assertAnyValue(u,"objectDescs"),c.fF.assertAnyValue(V,"objectDefns"),i&&!_.isEmpty(i.Select)||!_.isEmpty(m)||V){var d={};if(i){var S=i.Select;if(S)for(var g=d.selects=[],y=function(R,D){var L=S[R];if(!L)return g.push(null),"continue";var F=C.toTransformSelect(L,R);if(g.push(F),F.format&&u){c.fF.assert(function(){return!!F.queryName},"selectTransform.queryName should be defined (or defaulted).");var A=(0,v.$v)(u);A&&(V||(V={}),(0,f.sO)(V,A,{metadata:F.queryName},(0,b.fL)(F.format)))}},C=this,E=0,M=S.length;E<M;E++)y(E)}if(m){var P=(m=_.unionBy(m,function(x){return JSON.stringify(x)})).length;for(P>1&&(d.splits=[]),E=0;E<P;E++){var T=m[E];T.Settings&&0===E&&(V=this.upgradeSettingsToObjects(T.Settings,V)),T.DataRoles&&(d.selects||(d.selects=[]),d.roles||(d.roles={ordering:{}}),this.populateDataRoles(T.DataRoles,d.selects,d.roles.ordering)),d.splits&&d.splits.push(this.populateSplit(T.DataRoles))}}return V&&(d.objects=V),d}},a.toTransformSelect=function(i,m){c.fF.assertValue(i,"select");var u={};return i.Restatement&&(u.displayName=i.Restatement),i.Name?u.queryName=i.Name:u.queryName||(u.queryName="$select"+m),i.Format&&(u.format=i.Format),i.Type&&(u.type=this.describeDataType(i.Type,(0,s.lb)(i.DataCategory))),i.kpi&&(u.kpi=i.kpi),i.kpiStatusGraphic&&(u.kpi={graphic:i.kpiStatusGraphic}),u},a.describeDataType=function(i,m){var u=0;switch(i=i||0){case 2048:u=1;break;case 1:u=3;break;case 3:u=4;break;case 4096:u=5;break;case 20:u=6;break;case 4:u=7;break;case 8:u=9;break;case 67:u=4,c.fF.assert(function(){return!m||"Year"===m},"Unexpected category for Year type."),m="Year";break;case 35:u=4,c.fF.assert(function(){return!m||"Month"===m},"Unexpected category for Month type."),m="Month"}return h.Ge.fromPrimitiveTypeAndCategory(u,m)},a.populateDataRoles=function(i,m,u){c.fF.assertValue(i,"roles"),c.fF.assertValue(m,"selects"),c.fF.assertValue(u,"projectionOrdering");for(var V=0,d=i.length;V<d;V++){var S=i[V],g=S.Projection,y=S.Name,C=m[g];void 0===C&&(this.fillArray(m,g),C=m[g]={});var E=C.roles;void 0===C.roles&&(E=C.roles={}),E[y]=!0;var M=u[y];void 0===M&&(M=u[y]=[]),M.push(g)}},a.fillArray=function(i,m){c.fF.assertValue(i,"selects"),c.fF.assertValue(m,"length");for(var u=i.length;u<m;u++)i[u]={}},a.populateSplit=function(i){c.fF.assertAnyValue(i,"roles");var m={},u={selects:m};if(i)for(var V=0,d=i.length;V<d;V++)m[i[V].Projection]=!0;return u},a.upgradeSettingsToObjects=function(i,m){if(i){var u;for(u in m||(m={}),i){var V=i[u],d=u,S=V,g="general";switch(u){case"hasScalarCategoryAxis":g="categoryAxis",d="axisType",S=(0,b.fL)(V?"Scalar":"Categorical");break;case"Totals":d="totals",S=(0,b.O7)(!!V);break;case"textboxSettings":d="paragraphs",V&&V.paragraphs&&(S=V.paragraphs);break;case"VisualType1":d="visualType1",S=(0,b.fL)(V);break;case"VisualType2":d="visualType2",S=(0,b.fL)(V);break;case"imageVisualSettings":d="imageUrl",V&&V.imageUrl&&(S=(0,b.fL)(V.imageUrl));break;default:continue}this.setObjectDefinition(m,g,d,S)}return m}},a.setObjectDefinition=function(i,m,u,V){c.fF.assertValue(i,"objects"),c.fF.assertValue(m,"objectName"),c.fF.assertValue(u,"propertyName");var d=i[m];void 0===d&&(d=i[m]=[]);var S=d[0];void 0===S&&(S=d[0]={properties:{}}),S.properties[u]=V},a}()},266983:function(Je,H,t){t.d(H,{H9:function(){return f},LF:function(){return h},QW:function(){return b},Rs:function(){return n}});var e=t(787941),c=t(322487),s=t(456535);function f(l){for(var r=[],a=0,i=l.values;a<i.length;a++){for(var u=[],V=0,d=i[a];V<d.length;V++){var g=_.mapValues(d[V],function(y){return _.map(y,function(C){return c.ib.deserializeExpr(C)})});u.push(g)}r.push(u)}return{values:r,columns:_.map(l.columns,function(y){return v(y)})}}function v(l){var r={};if(l.left&&l.right)return r.left=v(l.left),r.right=v(l.right),r;if(l.value){var o=c.ib.deserializeExpr(l.value);return(0,s.Lk)(o)||(0,s.kb)(o)||(0,s.t3)(o)||(0,s.iV)(o)?r.value=o:e.fF.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),r}e.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function b(l){if(e.fF.assertAnyValue(l,"input"),l){var r={expressions:_.map(l.expressions,function(o){return c.ib.deserializeExpr(o)})};return l.decomposedIdentities&&(r.decomposedIdentities=f(l.decomposedIdentities)),l.valueMap&&(r.valueMap=l.valueMap),l.jsonFilter&&(r.jsonFilter=l.jsonFilter),r}}function h(l){if(e.fF.assertAnyValue(l,"contract"),l){var r={expressions:_.map(l.expressions,function(o){return c.ib.serializeExpr(o)})};return l.decomposedIdentities&&(r.decomposedIdentities=n(l.decomposedIdentities)),l.valueMap&&(r.valueMap=l.valueMap),l.jsonFilter&&(r.jsonFilter=l.jsonFilter),r}}function p(l){var r={};return l.left&&l.right?(r.left=p(l.left),r.right=p(l.right),r):l.value?(r.value=c.ib.serializeExpr(l.value),r):void e.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function n(l){if(e.fF.assertAnyValue(l,"contract"),l){for(var r=[],a=0,i=l.values;a<i.length;a++){for(var u=[],V=0,d=i[a];V<d.length;V++){var g=_.mapValues(d[V],function(y){return _.map(y,function(C){return c.ib.serializeExpr(C)})});u.push(g)}r.push(u)}return{values:r,columns:_.map(l.columns,function(y){return p(y)})}}}},718706:function(Je,H,t){t.d(H,{dq:function(){return f},kE:function(){return s},pW:function(){return v},vX:function(){return c}});var e=t(152200);function c(b){if(b&&!(b.length<1)){for(var h=[],p=0,n=b;p<n.length;p++){var l=n[p];if(l.identity&&l.identity.expr){var r=(0,e.m)(l.identity);r&&h.push({id:r,displayName:l.displayName})}}return h}}function s(b){if(b&&!(b.length<1)){for(var h=[],p=0,n=b;p<n.length;p++){var l=n[p];if(l.id){var r=(0,e.D)(l.id);r&&h.push({identity:r,displayName:l.displayName})}}return h}}function f(b){if(b&&!(b.length<1)){for(var h=[],p=0,n=b;p<n.length;p++){var l=n[p];if(!_.isEmpty(l.identities)){var r=_.map(l.identities,function(o){return(0,e.m)(o)});r&&h.push({identities:r,valueMap:l.valueMap})}}return h}}function v(b){if(b&&!(b.length<1)){for(var h=[],p=0,n=b;p<n.length;p++){var l=n[p];if(!_.isEmpty(l.identities)){var r=_.map(l.identities,function(o){return(0,e.D)(o)});r&&h.push({identities:r,valueMap:l.valueMap})}}return h}}},962210:function(Je,H,t){t.d(H,{bX:function(){return p},hI:function(){return f}});var e=t(787941),c=t(353705),s=t(322487);function f(r){return _.filter(_.map(r,function(o){return function(r){if(e.fF.assertValue(r,"expansionState"),e.fF.assertValue(!_.isEmpty(r.roles),"expansionState.roles"),(0,c.of)(r)||(0,c.iA)(r)){var o={roles:r.roles};return _.isEmpty(r.levels)||(e.fF.assertValue(r.root,"expansionState.root"),o.levels=_.map(r.levels,function(a){return function(r){if(e.fF.assertAnyValue(r,"level"),r){e.fF.assertNonEmpty(r.queryRefs,"level.queryRefs");var o={queryRefs:_.clone(r.queryRefs)};return r.isCollapsed&&(o.isCollapsed=!0),r.identityKeys&&(o.identityKeys=_.map(r.identityKeys,function(a){return s.ib.serializeExpr(a)})),r.isPinned&&(o.isPinned=r.isPinned),r.isLocked&&(o.isLocked=r.isLocked),r.AIInformation&&(o.AIInformation=_.cloneDeep(r.AIInformation)),o}}(a)}),o.root=h(r.root)),o}}(o)}),function(o){return o})}function h(r){e.fF.assertValue(r,"node");var o={identityValues:r.identityValues?_.map(r.identityValues,function(V){return s.ib.serializeExpr(V)}):null};if(r.isToggled&&(o.isToggled=!0),!_.isEmpty(r.children)){o.children=[];for(var a=function(d){e.fF.assert(function(){return!_.isEmpty(d.identityValues)},"child.identityValues");var S=h(d);o.children.push(S)},i=0,m=r.children;i<m.length;i++)a(m[i])}return o}function p(r,o){if(r){for(var a=[],i=function(S){if(!S)return"continue";e.fF.assert(function(){return!_.isEmpty(S.roles)},"serializedHierarchy.roles");var g=new c.cb(S.roles,o);_.isEmpty(S.levels)||(e.fF.assertValue(S.root,"serializedHierarchy.root"),g.levels=_.map(S.levels,function(y){return function(r){var o={queryRefs:_.clone(r.queryRefs),isCollapsed:!!r.isCollapsed,toggledNodes:[],isPinned:r.isPinned,isLocked:r.isLocked,AIInformation:_.cloneDeep(r.AIInformation)};return r.identityKeys&&(o.identityKeys=_.map(r.identityKeys,function(a){return s.ib.deserializeExpr(a)})),o}(y)}),g.root=l(S.root,-1,null,g.levels,!!o.canCollapseRoot)),a.push(g)},m=0,u=r;m<u.length;m++)i(u[m]);return a}}function l(r,o,a,i,m){e.fF.assertValue(r,"serializedNode");var u={identityValues:r.identityValues?_.map(r.identityValues,function(d){return s.ib.deserializeExpr(d)}):null,parent:a,children:[]};if(r.isToggled&&(u.isToggled=!0,o>=0?i[o].toggledNodes.push(u):e.fF.assert(function(){return m},"Collapse to root capability not enabled")),!_.isEmpty(r.children)){var V=o+1;u.children=_.map(r.children,function(d){return l(d,V,u,i,m)})}return u}},890795:function(Je,H,t){t.d(H,{Qe:function(){return p},R6:function(){return a},_q:function(){return r},hE:function(){return n}});var e=t(787941),c=t(369138),s=t(266983),f=t(718706),v=t(322487);function p(i,m){var u;if(e.fF.assertValue(i,"input"),!_.isEmpty(i.expressions)){if(m){var V=(0,c.s0)(i);u=(0,s.LF)(V)}else u=function(i){if(e.fF.assertValue(i,"input"),!_.isEmpty(i.expressions)){var m={expressions:_.map(i.expressions,function(u){return v.ib.serializeExpr(u)})};return _.isEmpty(i.cachedValueItems)||(m.cachedValueItems=(0,f.dq)(i.cachedValueItems)),i.jsonFilter&&(m.jsonFilter=i.jsonFilter),m}}(i);return u}}function n(i){if(e.fF.assertValue(i,"input"),!_.isEmpty(i.expressions)){if(function(i){return!!i.decomposedIdentities}(i)){var m=(0,s.QW)(i);return(0,c.Ns)(m)}return r(i)}}function r(i){if(e.fF.assertValue(i,"input"),!_.isEmpty(i.expressions)){var m={expressions:_.map(i.expressions,function(u){return v.ib.deserializeExpr(u)})};return _.isEmpty(i.cachedValueItems)||(m.cachedValueItems=(0,f.pW)(i.cachedValueItems)),i.jsonFilter&&(m.jsonFilter=i.jsonFilter),m}}function a(i){return!!i.cachedValueItems}},322487:function(Je,H,t){t.d(H,{ib:function(){return a}});var e=t(158519),c=t(338780),s=t(787941),f=t(690016),v=t(601139),b=t(324356),h=t(620006),p=t(516469),n=t(13106),l=function(){function he(ce){s.fF.assertValue(ce,"from"),this.clauses={from:ce,select:[]}}return he.prototype.addWhere=function(ce){s.fF.assertValue(ce,"filter");var Re=this.clauses;Re.where||(Re.where=[]),Re.where.push(ce)},he.prototype.addWheres=function(ce){s.fF.assertValue(ce,"filters");var Re=this.clauses;Re.where||(Re.where=[]);for(var Ge=0,ut=ce;Ge<ut.length;Ge++)Re.where.push(ut[Ge])},he.prototype.addOrderBy=function(ce){s.fF.assertValue(ce,"sort");var Re=this.clauses;Re.orderBy||(Re.orderBy=[]),Re.orderBy.push(ce)},he.prototype.addSelect=function(ce){s.fF.assertValue(ce,"select"),this.clauses.select.push(ce)},he.prototype.addGroupBy=function(ce){s.fF.assertValue(ce,"groupBy");var Re=this.clauses;Re.groupBy||(Re.groupBy=[]),Re.groupBy.push(ce)},he.prototype.addTransform=function(ce){s.fF.assertValue(ce,"transformItem");var Re=this.clauses;Re.transforms||(Re.transforms=[]),Re.transforms.push(ce)},he.prototype.setTop=function(ce){this.clauses.top=ce},he.prototype.toQuery=function(){return n.vQ.createWith(this.clauses,!0)},he.prototype.toFilter=function(){var ce=this.clauses;if(s.fF.assert(function(){return!ce.orderBy&&0===ce.select.length},"toFilter must not have orderBy/select specified."),ce.from&&ce.where)return new n.yl(ce.from,ce.where)},he}(),r=t(760285),o=t(174197),a=function(){function he(){}return he.serializeQuery=function(ce,Re,Ge){void 0===Re&&(Re=!1),void 0===Ge&&(Ge=!1),s.fF.assertValue(ce,"query");var ut=[],je=ce.from();this.serializeFrom(je,ut);var fe,ae=this.serializeQueryFilters(ce.where(),u.create,!1),we=ce.transforms();if(!_.isEmpty(we)){fe=[];for(var ze=0,$e=we;ze<$e.length;ze++){var ot=$e[ze],_t=_.map(ot.input.parameters,function(Sr){return u.createNamed(Sr,Re)}),ke={Name:ot.name,Algorithm:ot.algorithm,Input:{Parameters:_t},Output:void 0};if(ot.input.table){var dt=this.serializeTransformTableColumns(ot.input.table.columns);ke.Input.Table={Name:ot.input.table.name,Columns:dt}}if(ot.output&&ot.output.table){var Tt=this.serializeTransformTableColumns(ot.output.table.columns);ke.Output={Table:{Name:ot.output.table.name,Columns:Tt}}}fe.push(ke)}}for(var Wt=this.serializeSortDefinitions(ce.orderBy(),Re),Kt=[],Zt=ce.select(),er=0,ar=Zt.length;er<ar;er++)Kt.push(u.createNamed(Zt[er],Re,Ge));var sr,gr=ce.groupBy();if(gr&&gr.length)for(sr=[],er=0,ar=gr.length;er<ar;er++)sr.push(u.createNamed(gr[er],Re));var mr={Version:r.L.Version2,From:ut,Select:Kt};return ae&&(mr.Where=ae),fe&&(mr.Transform=fe),Wt&&(mr.OrderBy=Wt),sr&&(mr.GroupBy=sr),ce.top()&&(mr.Top=ce.top()),mr},he.serializeSortDefinitions=function(ce,Re){var Ge;if(ce&&ce.length){Ge=[];for(var ut=0,je=ce.length;ut<je;ut++){var ae=ce[ut];Ge.push({Direction:ae.direction,Expression:u.create(ae.expr,Re)})}}return Ge},he.tryDeserializeQuery=function(ce){var Re;try{Re=this.deserializeQuery(ce)}catch(Ge){}if(Re&&!this.isMalformed(Re))return Re},he.isMalformed=function(ce){for(var Re=0,Ge=ce.select();Re<Ge.length;Re++)if(!Ge[Re].expr)return!0;return!1},he.serializeQueryFilters=function(ce,Re,Ge){var ut;if(!_.isEmpty(ce)){ut=[];for(var je=0,ae=ce;je<ae.length;je++){var fe=ae[je],we={Condition:Re(fe.condition,Ge)};if(!_.isEmpty(fe.target)){we.Target=[];for(var ze=0,$e=fe.target;ze<$e.length;ze++)we.Target.push(Re($e[ze],Ge))}fe.annotations&&(we.Annotations=fe.annotations),ut.push(we)}}return ut},he.deserializeQuery=function(ce){s.fF.assertValue(ce,"contract");var Re=ce.Version?ce.Version:r.L.Version0,Ge=Re<r.L.Version1,ut=i.from(ce.From),je=new l(ut),ae=ce.Where;if(ae)for(var fe=0,we=ae.length;fe<we;fe++){var ze=i.filter(ae[fe],ut);ze&&(Ge&&(ze=V.Upgrade(Re,ze)),je.addWhere(ze))}var $e=ce.Transform,ot=ut;if(!_.isEmpty($e)){for(var _t={},dt=0,Tt=ut.keys();dt<Tt.length;dt++){var Wt=Tt[dt];_t[Wt]=ut.source(Wt)}for(fe=0,we=$e.length;fe<we;fe++){var Kt;$e[fe].Input&&$e[fe].Input.Table&&(_t[Kt=$e[fe].Input.Table.Name]=new h.SX(void 0,Kt)),$e[fe].Output&&$e[fe].Output.Table&&(_t[Kt=$e[fe].Output.Table.Name]=new h.SX(void 0,Kt))}for(ot=new h.cL(_t),fe=0,we=$e.length;fe<we;fe++)je.addTransform(i.transform($e[fe],ot))}var Zt=ce.OrderBy;if(Zt)for(fe=0,we=Zt.length;fe<we;fe++)je.addOrderBy(i.sort(Zt[fe],ut));var er=ce.Select,ar={};for(fe=0,we=er.length;fe<we;fe++)je.addSelect(i.select(er[fe],ar,ot));var sr=ce.GroupBy;if(sr){var gr={};for(fe=0,we=sr.length;fe<we;fe++)je.addGroupBy(i.groupBy(sr[fe],gr,ut))}return ce.Top&&je.setTop(ce.Top),je.toQuery()},he.deserializeSortDefinitions=function(ce,Re){return _.isEmpty(ce)?[]:_.map(ce,function(Ge){return i.sort(Ge,Re)})},he.serializeFilter=function(ce){var Re=[],Ge=ce.from();this.serializeFrom(Ge,Re);var ut=this.serializeQueryFilters(ce.where(),u.create,!1);return{Version:r.L.Version2,From:Re,Where:ut}},he.serializeFrom=function(ce,Re){for(var Ge=ce.keys(),ut=new m(ce),je=0,ae=Ge.length;je<ae;je++)Re.push(ce.source(Ge[je]).accept(ut,je))},he.deserializeFrom=function(ce){return i.from(ce)},he.deserializeFilter=function(ce,Re){s.fF.assertValue(ce,"contract");var Ge=ce.Version?ce.Version:r.L.Version0,ut=Ge<r.L.Version1,je=i.from(ce.From),ae=new l(je),fe=ce.Where;if(fe)for(var we=0,ze=fe.length;we<ze;we++){var $e=i.filter(fe[we],je);$e?(ut&&($e=V.Upgrade(Ge,$e)),ae.addWhere($e)):Re&&(_.isEmpty(Re.RemovedIndexes)&&(Re.RemovedIndexes=[]),Re.RemovedIndexes.push(we))}return ae.toFilter()},he.serializeExpr=function(ce,Re){return void 0===Re&&(Re=!1),s.fF.assertValue(ce,"contract"),s.fF.assertValue(Re,"serializeAnnotations"),u.create(ce,!0,Re)},he.serializeExprWithRef=function(ce,Re){return void 0===Re&&(Re=!1),s.fF.assertValue(ce,"contract"),s.fF.assertValue(Re,"serializeAnnotations"),u.create(ce,!1,Re)},he.deserializeExpr=function(ce){return s.fF.assertValue(ce,"input"),S(ce)},he.deserializeExprWithRef=function(ce,Re){return s.fF.assertValue(ce,"input"),d(ce,Re)},he.serializeTransformTableColumns=function(ce){return s.fF.assertValue(ce,"columns"),_.map(ce,function(Re){var Ge={Expression:u.createNamed(Re.expression)};return Re.role&&(Ge.Role=Re.role),Ge})},he}(),i=function(){function he(){}return he.from=function(ce){s.fF.assertValue(ce,"contract");var Re={};if(ce)for(var Ge=0,ut=ce.length;Ge<ut;Ge++){var je=ce[Ge];switch(je.Type){case 2:Re[je.Name]=je.Expression.Subquery?new h.vd(a.deserializeQuery(je.Expression.Subquery.Query)):new h.Qo(C(je.Expression));break;case 1:Re[je.Name]=new h.QS(je.Schema,je.Entity);break;default:Re[je.Name]=new h.SX(je.Schema,je.Entity)}}return new h.cL(Re)},he.filter=function(ce,Re){s.fF.assertValue(ce,"contract");var Ge=Re?d(ce.Condition,Re):S(ce.Condition);if(Ge){var ut={condition:Ge};if(ce.Target){ut.target=[];for(var je=0,ae=ce.Target;je<ae.length;je++){var fe=ae[je],we=Re?d(fe,Re):S(fe);if(!we)return;ut.target.push(we)}}return ce.Annotations&&(ut.annotations=ce.Annotations),ut}},he.sort=function(ce,Re){return s.fF.assertValue(ce,"contract"),{direction:ce.Direction,expr:d(ce.Expression,Re)}},he.select=function(ce,Re,Ge){return he.toNamedQueryExpression(ce,Re,Ge)},he.groupBy=function(ce,Re,Ge){return he.toNamedQueryExpression(ce,Re,Ge)},he.transform=function(ce,Re){var Ge=_.map(ce.Input.Parameters,function(fe){return he.toNamedQueryExpression(fe,{},Re)}),ut={name:ce.Name,algorithm:ce.Algorithm,input:{parameters:Ge},output:{}};if(ce.Input.Table){var je=this.deserializeTransformTableColumns(ce.Input.Table.Columns,Re);ut.input.table={name:ce.Input.Table.Name,columns:je}}if(ce.Output&&ce.Output.Table){var ae=this.deserializeTransformTableColumns(ce.Output.Table.Columns,Re);ut.output.table={name:ce.Output.Table.Name,columns:ae}}return ut},he.toNamedQueryExpression=function(ce,Re,Ge){s.fF.assertValue(ce,"contract"),s.fF.assertValue(Ge,"from");var ut=d(ce,Ge),je=ce.Name||(0,f.zE)(Re,(0,o.L)(ut));Re[je]=!0;var ae={name:je,expr:ut};return ce.NativeReferenceName&&(ae.nativeReferenceName=ce.NativeReferenceName),ae},he.deserializeTransformTableColumns=function(ce,Re){s.fF.assertValue(ce,"columns");var Ge={};return _.map(ce,function(ut){return{role:ut.Role,expression:he.toNamedQueryExpression(ut.Expression,Ge,Re)}})},he}(),m=function(){function he(ce){this.from=ce}return he.prototype.visitEntity=function(ce,Re){return{Name:this.from.keys()[Re],Entity:ce.entity,Schema:ce.schema,Type:0}},he.prototype.visitPod=function(ce,Re){return{Name:this.from.keys()[Re],Entity:ce.pod,Schema:ce.schema,Type:1}},he.prototype.visitSubquery=function(ce,Re){return{Name:this.from.keys()[Re],Expression:{Subquery:{Query:a.serializeQuery(ce.subquery)}},Type:2}},he.prototype.visitExpr=function(ce,Re){return{Name:this.from.keys()[Re],Expression:a.serializeExpr(ce.expr),Type:2}},he}(),u=function(){function he(ce,Re){this.standalone=ce,this.serializeAnnotations=Re}return he.getInstance=function(ce,Re){ce||(ce=!1),Re||(Re=!1);var Ge=[+ce,+Re].reduce(function(je,ae){return je<<1|ae}),ut=he.instances[Ge];return ut||(ut=new he(ce,Re)),ut},he.create=function(ce,Re,Ge){return void 0===Re&&(Re=!1),void 0===Ge&&(Ge=!1),ce.accept(he.getInstance(Re,Ge))},he.createNamed=function(ce,Re,Ge){void 0===Re&&(Re=!1),void 0===Ge&&(Ge=!1);var ut=he.getInstance(Re,Ge),je=ce.expr.accept(ut);return ce.name&&(je.Name=ce.name),ce.nativeReferenceName&&(je.NativeReferenceName=ce.nativeReferenceName),je},he.prototype.visitColumnRef=function(ce){return this.addAnnotations(ce,{Column:{Expression:ce.source.accept(this),Property:ce.ref}})},he.prototype.visitMeasureRef=function(ce){return this.addAnnotations(ce,{Measure:{Expression:ce.source.accept(this),Property:ce.ref}})},he.prototype.visitNativeMeasure=function(ce){var Re={Language:ce.language,Expression:ce.expression,DataType:ce.dataType};ce.proposedName&&(Re.ProposedName=ce.proposedName),ce.format&&(Re.Format=ce.format);var Ge=ce.expressionContentCache;return!Ge||!Ge.dependencies&&null==Ge.unrecognizedIdentifiers?{NativeMeasure:Re}:(Re.ExpressionContentCache={},Ge.dependencies&&(Re.ExpressionContentCache.Dependencies=this.serializeAll(Ge.dependencies)),null!=Ge.unrecognizedIdentifiers&&(Re.ExpressionContentCache.UnrecognizedIdentifiers=Ge.unrecognizedIdentifiers),this.addAnnotations(ce,{NativeMeasure:Re}))},he.prototype.visitNativeColumn=function(ce){var Re={Language:ce.language,Expression:ce.expression,DataType:ce.dataType,Source:ce.source.accept(this)};ce.proposedName&&(Re.ProposedName=ce.proposedName),ce.format&&(Re.Format=ce.format);var Ge=ce.expressionContentCache;return!Ge||!Ge.dependencies&&null==Ge.unrecognizedIdentifiers||(Re.ExpressionContentCache={},Ge.dependencies&&(Re.ExpressionContentCache.Dependencies=this.serializeAll(Ge.dependencies)),null!=Ge.unrecognizedIdentifiers&&(Re.ExpressionContentCache.UnrecognizedIdentifiers=Ge.unrecognizedIdentifiers)),this.addAnnotations(ce,{NativeColumn:Re})},he.prototype.visitAggr=function(ce){if(!_.isNil(ce.includeAllTypes))switch(ce.func){case 3:return this.addAnnotations(ce,{Min:{Expression:ce.arg.accept(this),IncludeAllTypes:ce.includeAllTypes}});case 4:return this.addAnnotations(ce,{Max:{Expression:ce.arg.accept(this),IncludeAllTypes:ce.includeAllTypes}})}return this.addAnnotations(ce,{Aggregation:{Expression:ce.arg.accept(this),Function:ce.func}})},he.prototype.visitPercentile=function(ce){var Re=this.addAnnotations(ce,{Percentile:{Expression:ce.arg.accept(this),K:ce.k}});return ce.exclusive&&(Re.Percentile.Exclusive=ce.exclusive),Re},he.prototype.visitRangePercent=function(ce){return this.addAnnotations(ce,{RangePercent:{Min:ce.min.accept(this),Max:ce.max.accept(this),Percent:ce.percent}})},he.prototype.visitHierarchy=function(ce){return this.addAnnotations(ce,{Hierarchy:{Expression:ce.arg.accept(this),Hierarchy:ce.hierarchy}})},he.prototype.visitPropertyVariationSource=function(ce){var Re=ce.arg.accept(this);return this.addAnnotations(ce,{PropertyVariationSource:{Expression:{SourceRef:Re.SourceRef},Name:ce.name,Property:ce.property}})},he.prototype.visitHierarchyLevel=function(ce){return this.addAnnotations(ce,{HierarchyLevel:{Expression:ce.arg.accept(this),Level:ce.level}})},he.prototype.visitSelectRef=function(ce){return s.fF.assert(function(){return void 0===ce.attributeKind||null==ce.attributeKind},"Serialization of expr.attributeKind is not supported."),this.addAnnotations(ce,{SelectRef:{ExpressionName:ce.expressionName}})},he.prototype.visitBetween=function(ce){return this.addAnnotations(ce,{Between:{Expression:ce.arg.accept(this),LowerBound:ce.lower.accept(this),UpperBound:ce.upper.accept(this)}})},he.prototype.visitIn=function(ce){var Re=this.serializeAll(ce.args),Ge=ce.values;if(Ge){for(var ut=[],je=0,ae=Ge.length;je<ae;je++)ut.push(this.serializeAll(Ge[je]));return this.addAnnotations(ce,{In:{Expressions:Re,Values:ut}})}return this.addAnnotations(ce,{In:{Expressions:this.serializeAll(ce.args),Table:ce.table.accept(this)}})},he.prototype.visitEntity=function(ce){var Re;return s.fF.assertValue(ce,"expr"),this.standalone?Re={Schema:ce.schema,Entity:ce.entity}:(s.fF.assertValue(ce.variable,"expr.variable"),Re={Source:ce.variable}),this.addAnnotations(ce,{SourceRef:Re})},he.prototype.visitSubqueryRef=function(ce){return s.fF.assertValue(ce,"expr"),ce.variable&&!ce.query?this.addAnnotations(ce,{SourceRef:{Source:ce.variable}}):this.standalone?this.addAnnotations(ce,{Subquery:{Query:a.serializeQuery(ce.query,!1,this.serializeAnnotations)}}):void s.fF.assertFail("The inlined subquery is only expected to be there in standalone mode.")},he.prototype.visitNamedQueryRef=function(ce){return this.standalone?this.addAnnotations(ce,{NamedQueryReference:{Name:ce.queryName}}):(s.fF.assertValue(ce.variable,"expr.variable"),this.addAnnotations(ce,{SourceRef:{Source:ce.variable}}))},he.prototype.visitAnd=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{And:{Left:ce.left.accept(this),Right:ce.right.accept(this)}})},he.prototype.visitOr=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Or:{Left:ce.left.accept(this),Right:ce.right.accept(this)}})},he.prototype.visitCompare=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Comparison:{ComparisonKind:ce.comparison,Left:ce.left.accept(this),Right:ce.right.accept(this)}})},he.prototype.visitConditional=function(ce){var Re=this;s.fF.assertValue(ce,"expr");var Ge=this.addAnnotations(ce,{Conditional:{Cases:_.map(ce.cases,function(je){return Re.visitCase(je)})}}),ut=ce.defaultValue;return ut&&(Ge.Conditional.DefaultValue=ut.accept(this)),Ge},he.prototype.visitCase=function(ce){return{Condition:ce.condition.accept(this),Value:ce.value.accept(this)}},he.prototype.visitContains=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Contains:{Left:ce.left.accept(this),Right:ce.right.accept(this)}})},he.prototype.visitDateAdd=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{DateAdd:{Expression:ce.arg.accept(this),Amount:ce.amount,TimeUnit:ce.unit}})},he.prototype.visitDateSpan=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{DateSpan:{Expression:ce.arg.accept(this),TimeUnit:ce.unit}})},he.prototype.visitExists=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Exists:{Expression:ce.arg.accept(this)}})},he.prototype.visitNot=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Not:{Expression:ce.arg.accept(this)}})},he.prototype.visitNow=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Now:{}})},he.prototype.visitDefaultValue=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{DefaultValue:{}})},he.prototype.visitAnyValue=function(ce){s.fF.assertValue(ce,"expr");var Re={};return null!=ce.defaultValueOverridesAncestors&&(Re.DefaultValueOverridesAncestors=ce.defaultValueOverridesAncestors),this.addAnnotations(ce,{AnyValue:Re})},he.prototype.visitFillRule=function(ce){s.fF.assertValue(ce,"expr");var Re={},Ge=ce.rule;return Ge.linearGradient2&&(Re.linearGradient2=this.visitLinearGradient2(Ge.linearGradient2)),Ge.linearGradient3&&(Re.linearGradient3=this.visitLinearGradient3(Ge.linearGradient3)),this.addAnnotations(ce,{FillRule:{Input:ce.input.accept(this),FillRule:Re}})},he.prototype.visitLinearGradient2=function(ce){s.fF.assertValue(ce,"visitLinearGradient2 - gradient");var Re={min:this.visitRuleStop(ce.min),max:this.visitRuleStop(ce.max)},Ge=this.visitNullColoringStrategy(ce.nullColoringStrategy);return Ge&&(Re.nullColoringStrategy=Ge),Re},he.prototype.visitLinearGradient3=function(ce){s.fF.assertValue(ce,"visitLinearGradient3 - gradient");var Re={min:this.visitRuleStop(ce.min),mid:this.visitRuleStop(ce.mid),max:this.visitRuleStop(ce.max)},Ge=this.visitNullColoringStrategy(ce.nullColoringStrategy);return Ge&&(Re.nullColoringStrategy=Ge),Re},he.prototype.visitRuleStop=function(ce){s.fF.assertValue(ce,"stop");var Re={color:ce.color.accept(this)};return ce.value&&(Re.value=ce.value.accept(this)),Re},he.prototype.visitNullColoringStrategy=function(ce){if(ce){s.fF.assertValue(ce.strategy,"visitNullColoringStrategy - input.strategy");var Re={strategy:ce.strategy.accept(this)};return ce.color&&(Re.color=ce.color.accept(this)),Re}},he.prototype.visitThemeDataColor=function(ce){return this.addAnnotations(ce,{ThemeDataColor:{ColorId:ce.colorId,Percent:ce.percent}})},he.prototype.visitStartsWith=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{StartsWith:{Left:ce.left.accept(this),Right:ce.right.accept(this)}})},he.prototype.visitGroupRef=function(ce){var Re=this;return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{GroupRef:{Expression:ce.source.accept(this),Property:ce.ref,GroupedColumns:_.map(ce.groupedExprs,function(Ge){return Ge.accept(Re)})}})},he.prototype.visitConstant=function(ce){switch(s.fF.assertValue(ce,"expr"),ce.type.primitiveType){case 5:case 7:case 2:case 4:case 3:case 0:case 1:return this.addAnnotations(ce,{Literal:{Value:ce.valueEncoded}});default:s.fF.assertFail("Unrecognized kind: "+ce.type.primitiveType)}},he.prototype.visitArithmetic=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{Arithmetic:{Left:ce.left.accept(this),Right:ce.right.accept(this),Operator:ce.operator}})},he.prototype.visitFloor=function(ce){s.fF.assertValue(ce,"expr");var Re=this.addAnnotations(ce,{Floor:{Expression:ce.arg.accept(this),Size:ce.size}});return null!=ce.timeUnit&&(Re.Floor.TimeUnit=ce.timeUnit),Re},he.prototype.visitResourcePackageItem=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{ResourcePackageItem:{PackageName:ce.packageName,PackageType:ce.packageType,ItemName:ce.itemName}})},he.prototype.visitScopedEval=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{ScopedEval:{Expression:ce.expression.accept(this),Scope:this.serializeAll(ce.scope)}})},he.prototype.visitFilteredEval=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{FilteredEval:{Expression:ce.expression.accept(this),Filters:a.serializeQueryFilters(ce.filters,he.create,this.standalone)}})},he.prototype.visitWithRef=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{WithRef:{ExpressionName:ce.expressionName}})},he.prototype.visitTransformTableRef=function(ce){return this.addAnnotations(ce,{TransformTableRef:{Source:ce.source}})},he.prototype.visitTransformOutputRoleRef=function(ce){return this.addAnnotations(ce,{TransformOutputRoleRef:{Role:ce.role,Transform:ce.transform}})},he.prototype.visitRoleRef=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{RoleRef:{Role:ce.role}})},he.prototype.visitSummaryValueRef=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{SummaryValueRef:{Name:ce.name}})},he.prototype.visitAllRolesRef=function(ce){return s.fF.assertValue(ce,"expr"),this.addAnnotations(ce,{AllRolesRef:{}})},he.prototype.visitDiscretize=function(ce){return this.addAnnotations(ce,{Discretize:{Expression:ce.source.accept(this),Count:ce.count}})},he.prototype.visitMember=function(ce){return this.addAnnotations(ce,{Member:{Expression:ce.source.accept(this),Member:ce.member}})},he.prototype.visitSparklineData=function(ce){var Re={SparklineData:{Measure:ce.measure.accept(this),Groupings:this.serializeAll(ce.grouping),PointsPerSparkline:ce.pointsPerSparkline}};return ce.scalarKey&&(Re.SparklineData.ScalarKey=ce.scalarKey.accept(this)),ce.includeMinGroupingInterval&&(Re.SparklineData.IncludeMinGroupingInterval=ce.includeMinGroupingInterval),Re},he.prototype.serializeAll=function(ce){for(var Re=[],Ge=0,ut=ce.length;Ge<ut;Ge++)Re.push(ce[Ge].accept(this));return Re},he.prototype.visitNativeVisualCalc=function(ce,Re){return this.addAnnotations(ce,{NativeVisualCalculation:{Language:ce.language,Expression:ce.expression,Name:ce.name}})},he.prototype.addAnnotations=function(ce,Re){if(this.serializeAnnotations){var Ge=ce.getAnnotations();Ge&&(Re.Annotations=Ge)}return Re},he.instances=[],he}(),V=function(){function he(){}return he.Upgrade=function(ce,Re){if(!Re||!Re.condition)return null;var Ge=(0,v._)(Re.condition);return ce===r.L.Version0&&2!==Ge?{condition:Re.condition}:Re},he}();function d(he,ce){return s.fF.assertValue(he,"contract"),function(he,ce){if(he.Column){var Re=d(he.Column.Expression,ce);if(Re)return(0,b.Oh)(Re,he.Column.Property,he.Annotations)}}(he,ce)||function(he,ce){if(he.Measure){var Re=d(he.Measure.Expression,ce);if(Re)return(0,b.mv)(Re,he.Measure.Property,he.Annotations)}}(he,ce)||function(he,ce){if(he.NativeMeasure){var Re=void 0;return he.NativeMeasure.ExpressionContentCache&&(Re={unrecognizedIdentifiers:he.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:g(he.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==he.NativeMeasure.Language&&s.fF.assertFail("QueryNativeMeasure is using unexpected language: "+he.NativeMeasure.Language),(0,b.PB)(he.NativeMeasure.Language,he.NativeMeasure.Expression,he.NativeMeasure.DataType,he.NativeMeasure.ProposedName,Re,he.NativeMeasure.Format,he.Annotations)}}(he)||function(he,ce){if(he.NativeColumn){var Re=void 0;if(he.NativeColumn.ExpressionContentCache&&(Re={unrecognizedIdentifiers:he.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:g(he.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==he.NativeColumn.Language)return void s.fF.assertFail("QueryNativeColumn is using unexpected language: "+he.NativeColumn.Language);if(!he.NativeColumn.Source)return void s.fF.assertFail("QueryNativeColumn should have a source");var Ge=d(he.NativeColumn.Source,ce);return(0,b.sl)(he.NativeColumn.Language,he.NativeColumn.Expression,he.NativeColumn.DataType,Ge,he.NativeColumn.ProposedName,Re,he.NativeColumn.Format,he.Annotations)}}(he,ce)||function(he,ce){if(he.SourceRef){if(!ce){var je=he.SourceRef;return(0,b.nw)(je.Schema,je.Entity,void 0,he.Annotations)}var Ge=he.SourceRef.Source,ut=ce.source(Ge);if(ut)return(0,h.$r)(ut)?(0,b.nw)(ut.schema,ut.entity,Ge,he.Annotations):(0,h.Yg)(ut)?(0,b.nw)(ut.schema,ut.pod,Ge):(0,e.y)(ut)?(0,b.v5)(Ge,he.Annotations):(s.fF.assert(function(){return(0,h.Ms)(ut)},"Expected an ExpressionSource"),ut.expr.as(Ge))}}(he,ce)||function(he,ce){if(he.Aggregation){var Re=d(he.Aggregation.Expression,ce);if(Re)return(0,b.m_)(Re,he.Aggregation.Function,void 0,he.Annotations)}}(he,ce)||function(he,ce){if(he.Min){var Re=d(he.Min.Expression,ce);if(Re)return(0,b.m_)(Re,3,he.Min.IncludeAllTypes,he.Annotations)}}(he,ce)||function(he,ce){if(he.Max){var Re=d(he.Max.Expression,ce);if(Re)return(0,b.m_)(Re,4,he.Max.IncludeAllTypes,he.Annotations)}}(he,ce)||function(he,ce){if(he.SelectRef)return(0,b.xA)(he.SelectRef.ExpressionName,void 0,he.Annotations)}(he)||function(he,ce){if(he.Percentile){var Re=d(he.Percentile.Expression,ce);if(Re)return(0,b.Pe)(Re,he.Percentile.K,he.Percentile.Exclusive||!1,he.Annotations)}}(he,ce)||function(he,ce){if(he.RangePercent){var Re=d(he.RangePercent.Min,ce),Ge=d(he.RangePercent.Max,ce);if(Re&&Ge)return(0,b.Mj)(Re,Ge,he.RangePercent.Percent,he.Annotations)}}(he,ce)||function(he,ce){if(he.Arithmetic){var Re=d(he.Arithmetic.Left,ce),Ge=d(he.Arithmetic.Right,ce);if(Re&&Ge)return(0,b.Y8)(Re,Ge,he.Arithmetic.Operator,he.Annotations)}}(he,ce)||function(he,ce){if(he.Floor){var Re=d(he.Floor.Expression,ce);if(Re)return(0,b.GW)(Re,he.Floor.Size,he.Floor.TimeUnit,he.Annotations)}}(he,ce)||function(he,ce){if(he.Discretize){var Re=d(he.Discretize.Expression,ce);if(Re)return(0,b.h5)(Re,he.Discretize.Count,he.Annotations)}}(he,ce)||function(he,ce){if(he.Member){var Re=d(he.Member.Expression,ce);if(Re)return(0,b.fP)(Re,he.Member.Member,he.Annotations)}}(he,ce)||function(he,ce){if(he.Hierarchy){var Re=d(he.Hierarchy.Expression,ce);if(Re)return(0,b.bT)(Re,he.Hierarchy.Hierarchy,he.Annotations)}}(he,ce)||function(he,ce){if(he.HierarchyLevel){var Re=d(he.HierarchyLevel.Expression,ce);if(Re)return(0,b.os)(Re,he.HierarchyLevel.Level,he.Annotations)}}(he,ce)||function(he,ce){if(he.PropertyVariationSource){var Re=d(he.PropertyVariationSource.Expression,ce);if(Re)return(0,b.yU)(Re,he.PropertyVariationSource.Name,he.PropertyVariationSource.Property,he.Annotations)}}(he,ce)||function(he,ce){if(he.And){var Re=d(he.And.Left,ce),Ge=d(he.And.Right,ce);if(Re&&Ge)return(0,b.xD)(Re,Ge,he.Annotations)}}(he,ce)||function(he,ce){if(he.Between){var Re=d(he.Between.Expression,ce),Ge=d(he.Between.LowerBound,ce),ut=d(he.Between.UpperBound,ce);if(Re&&Ge&&ut)return(0,b.vX)(Re,Ge,ut,he.Annotations)}}(he,ce)||function(he,ce){if(he.In){if(he.In.Values)return(0,b.Sh)(g(he.In.Expressions,ce),_.map(he.In.Values,function(Ge){return g(Ge,ce)}));var Re=d(he.In.Table,ce);if(Re)return(0,b.dY)(g(he.In.Expressions,ce),Re,he.Annotations)}}(he,ce)||function(he,ce){if(he.Or){var Re=d(he.Or.Left,ce),Ge=d(he.Or.Right,ce);if(Re&&Ge)return(0,b.or)(Re,Ge,he.Annotations)}}(he,ce)||function(he,ce){if(he.Contains){var Re=d(he.Contains.Left,ce),Ge=d(he.Contains.Right,ce);if(Re&&Ge)return(0,b.r3)(Re,Ge,he.Annotations)}}(he,ce)||function(he,ce){if(he.Comparison){var Re=d(he.Comparison.Left,ce),Ge=d(he.Comparison.Right,ce);if(Re&&Ge)return(0,b.qu)(he.Comparison.ComparisonKind,Re,Ge,he.Annotations)}}(he,ce)||function(he,ce){if(he.Conditional){for(var Re=he.Conditional.Cases,Ge=Re.length,ut=new Array(Ge),je=0;je<Ge;je++){var ae=ne(Re[je]);if(!ae){ut=void 0;break}ut[je]=ae}if(he.Conditional.DefaultValue){var fe=d(he.Conditional.DefaultValue);if(ut&&fe)return(0,b.u7)(ut,fe,he.Annotations)}else if(ut)return(0,b.u7)(ut,void 0,he.Annotations)}}(he)||function(he,ce){if(he.DateAdd){var Re=d(he.DateAdd.Expression,ce);if(Re)return(0,b.sO)(he.DateAdd.TimeUnit,he.DateAdd.Amount,Re,he.Annotations)}}(he,ce)||function(he,ce){if(he.DateSpan){var Re=d(he.DateSpan.Expression,ce);if(Re)return(0,b.uQ)(he.DateSpan.TimeUnit,Re,he.Annotations)}}(he,ce)||function(he,ce){if(he.Exists){var Re=d(he.Exists.Expression,ce);if(Re)return(0,b.Gg)(Re,he.Annotations)}}(he,ce)||function(he,ce){if(he.Not){var Re=d(he.Not.Expression,ce);if(Re)return(0,b.ff)(Re,he.Annotations)}}(he,ce)||function(he){if(he.Now)return(0,b.zO)(he.Annotations)}(he)||function(he){if(he.DefaultValue)return(0,b.LS)(he.Annotations)}(he)||function(he){if(he.AnyValue)return(0,b.n7)(he.AnyValue.DefaultValueOverridesAncestors,he.Annotations)}(he)||function(he,ce){if(he.StartsWith){var Re=d(he.StartsWith.Left,ce),Ge=d(he.StartsWith.Right,ce);if(Re&&Ge)return(0,b.Ny)(Re,Ge,he.Annotations)}}(he,ce)||function(he,ce){if(he.FillRule){var Re=d(he.FillRule.Input,ce),Ge=he.FillRule,ut={},je=Ge.FillRule.linearGradient2,ae=Ge.FillRule.linearGradient3;if(je)ut.linearGradient2={min:ve(je.min,ce),max:ve(je.max,ce)},(fe=xe(je.nullColoringStrategy,ce))&&(ut.linearGradient2.nullColoringStrategy=fe);else if(ae){var fe;ut.linearGradient3={min:ve(ae.min,ce),mid:ve(ae.mid,ce),max:ve(ae.max,ce)},(fe=xe(ae.nullColoringStrategy,ce))&&(ut.linearGradient3.nullColoringStrategy=fe)}return(0,b.x5)(Re,ut,he.Annotations)}}(he,ce)||function(he){if(he.ThemeDataColor)return(0,b.e7)(he.ThemeDataColor.ColorId,he.ThemeDataColor.Percent,he.Annotations)}(he)||function(he,ce){if(he.ResourcePackageItem)return(0,b.nF)(he.ResourcePackageItem.PackageName,he.ResourcePackageItem.PackageType,he.ResourcePackageItem.ItemName,he.Annotations)}(he)||function(he,ce){if(he.ScopedEval){var Re=d(he.ScopedEval.Expression,ce);if(Re)return(0,b.ed)(Re,g(he.ScopedEval.Scope,ce),he.Annotations)}}(he,ce)||function(he,ce){if(he.FilteredEval){var Re=d(he.FilteredEval.Expression,ce);return(0,b.Xw)(Re,_.map(he.FilteredEval.Filters,function(Ge){return i.filter(Ge,ce)}),he.Annotations)}}(he,ce)||function(he,ce){if(he.WithRef)return(0,b.Oe)(he.WithRef.ExpressionName,he.Annotations)}(he)||function(he,ce){if(he.TransformTableRef)return(0,b.GB)(he.TransformTableRef.Source,he.Annotations)}(he)||function(he,ce){if(he.TransformOutputRoleRef)return(0,b.hu)(he.TransformOutputRoleRef.Role,he.TransformOutputRoleRef.Transform,he.Annotations)}(he)||function(he){if(he.Literal)return(0,p.bE)(he.Literal.Value)}(he)||function(he,ce){if(he.GroupRef){var Re=d(he.GroupRef.Expression,ce),Ge=_.map(he.GroupRef.GroupedColumns,function(ut){return d(ut,ce)});if(Re&&!_.isEmpty(Ge))return(0,b.Wp)(he.GroupRef.Property,Re,Ge,he.Annotations)}}(he,ce)||function(he){if(he.RoleRef)return(0,b.Wu)(he.RoleRef.Role,he.Annotations)}(he)||function(he){if(he.AllRolesRef)return(0,b.lI)(he.Annotations)}(he)||function(he){if(he.NamedQueryReference)return(0,b.kD)(he.NamedQueryReference.Name,void 0,he.Annotations)}(he)||function(he){if(he.Subquery)return(0,b.v5)(a.deserializeQuery(he.Subquery.Query),he.Annotations)}(he)||function(he){return function(he){if(he.Boolean)return(0,b.O7)(he.Boolean.Value,he.Annotations)}(he)||Fe(he)||function(he){if(he.DateTimeSecond){var ce=Ne(he.DateTimeSecond);return(0,b.uQ)(5,(0,b.CQ)(ce),he.Annotations)}}(he)||Fe(he)||function(he){if(he.Decimal)return(0,b.gH)(he.Decimal.Value,void 0,he.Annotations)}(he)||function(he){if(he.Integer)return(0,b.cA)(he.Integer.Value,void 0,he.Annotations)}(he)||function(he){if(he.Null)return(0,b.IF)()}(he)||function(he){if(he.Number)return(0,p.bE)(he.Number.Value)}(he)||function(he){if(he.String)return(0,b.fL)(he.String.Value,void 0,he.Annotations)}(he)}(he)||function(he){if(he.SummaryValueRef)return(0,b.bO)(he.SummaryValueRef.Name,he.Annotations)}(he)||function(he,ce){var Re=he.SparklineData;if(Re)return(0,b.Zy)(d(Re.Measure,ce),g(Re.Groupings,ce),Re.ScalarKey?d(he.SparklineData.ScalarKey,ce):void 0,Re.PointsPerSparkline,Re.IncludeMinGroupingInterval)}(he,ce)||function(he,ce){var Re=he.NativeVisualCalculation;if(Re)return(0,b.YU)(Re.Name,Re.Expression,he.Annotations)}(he)}function S(he){return d(he,null)}function g(he,ce){for(var Re=[],Ge=0,ut=he.length;Ge<ut;Ge++)Re.push(d(he[Ge],ce));return Re}function C(he){return S(he)}function ne(he){if(he){var ce=d(he.Condition),Re=d(he.Value);if(ce&&Re)return{condition:ce,value:Re}}}function ve(he,ce){if(he){var Re={color:d(he.color,ce)};return he.value&&(Re.value=d(he.value,ce)),Re}}function xe(he,ce){if(he){var Re={strategy:d(he.strategy,ce)};return he.color&&(Re.color=d(he.color,ce)),Re}}function Fe(he){var ce=he.DateTime||he.Date;if(ce){var Re=Ne(ce);if(Re)return(0,b.CQ)(Re,void 0,he.Annotations)}}function Ne(he){return s.fF.assertValue(he,"contract"),(0,c.TX)(he.Value)}},364113:function(Je,H,t){t.d(H,{d:function(){return e}});var e="tabular"},496662:function(Je,H,t){t.d(H,{Ov:function(){return v},Rk:function(){return b}});var e=t(338780),c=t(787941),s=t(289135),f=t(211070);function v(){return new r}function b(o){var a=[];for(var i in o=p(o))if(o.hasOwnProperty(i)){var m=o[i],u=void 0;if(!m)continue;_.isDate(m)||null!=h(m.toString().substr(0,26))?u={dateTime:!0}:isNaN(+m)?_.isString(m)&&(u={text:!0}):u={numeric:!0},u&&a.push({name:i,type:u})}return a}function h(o){var a=null,i=+o;if(isNaN(i)){var d=(0,e.Kk)(o.toString());d&&(a=(0,s.Fg)(d))}else{var m=new Date;m.setDate(m.getDate()-l);var u=m.getTime();(m=new Date).setDate(m.getDate()+l);var V=m.getTime();i<u&&(i*=1e3),i>u&&i<V&&(a=(0,s.tU)(i))}return a}function p(o){try{return n(o)}catch(a){c.fF.assertFail("Failed to flatten JSON object")}return o}function n(o,a,i){return a||(a={}),_.isObject(o)?_.forOwn(o,function(m,u){n(m,a,i?i+"."+u:u)}):a[i]=o,a}var l=7,r=function(){function o(){this.clear()}return o.prototype.add=function(a){c.fF.assertValue(a,"data");var i=this.getKey(a.modelId,a.name);return this.tabularDataMap[i]=a,i},o.prototype.get=function(a){return c.fF.assertValue(a,"key"),this.tabularDataMap[a]},o.prototype.remove=function(a){c.fF.assertValue(a,"key"),delete this.tabularDataMap[a]},o.prototype.clear=function(){this.tabularDataMap={}},o.prototype.getKey=function(a,i){return c.fF.assertValue(a,"modelId"),c.fF.assertValue(i,"tableName"),a+"_"+i},o.prototype.mergeRows=function(a,i,m,u){c.fF.assertValue(a,"modelId");var V=this.getKey(a,i),d=this.get(V);if(!d||!d.rowGroups){var S={modelId:a,name:i,rowGroups:m,lastVersion:u,columns:d&&d.columns};return this.constructColumnsMetadataIfNeeded(S),this.fixUpValues(S.rowGroups,S.columns),void this.add(S)}var g=[],y=d.rowGroups||[],C=m||[];for(this.fixUpValues(C,d.columns);!_.isEmpty(y)||!_.isEmpty(C);){var E=_.head(y),M=_.head(C);E&&!M?(this.appendRow(g,E,u),y.shift()):!E&&M?(this.appendRow(g,M,u),C.shift()):E.version<M.version?(this.appendRow(g,E,u),y.shift()):M&&(C.shift(),E.version===M.version&&y.shift(),this.appendRow(g,M,u))}d.rowGroups=g,d.lastVersion=u},o.prototype.constructColumnsMetadataIfNeeded=function(a){if(c.fF.assertValue(a,"tabularData"),!a.columns){var i=_.last(a.rowGroups);if(i){var m=_.last(i.rows);m&&(a.columns=b(m))}}},o.prototype.fixUpValues=function(a,i){if(!_.isEmpty(a)){for(var m={},u={},V=0,d=i;V<d.length;V++){var S=d[V];m[S.name]=S.type&&S.type.dateTime,u[S.name]=S.type&&S.type.numeric}for(var g=0,y=a;g<y.length;g++){var C=y[g];if(C.rows)for(var E=0;E<C.rows.length;E++){var M=C.rows[E]=p(C.rows[E]);for(var P in M)if(M.hasOwnProperty(P)){var T=M[P];if(T)if(m[P]){var x=h(T);x&&(M[P]=x)}else if(u[P]){var R=parseFloat(T.toString());isNaN(R)||(M[P]=R)}}}}}},o.prototype.appendRow=function(a,i,m){c.fF.assertValue(a,"rows"),c.fF.assertValue(i,"row"),c.fF.assert(function(){return m>0},"Invalid version"),!(m-i.version>f.cm)&&a.push(i)},o}()},699341:function(Je,H,t){t.d(H,{Q:function(){return n},q:function(){return l}});var e=t(235635),c=t(787941),s=t(238435),f=t(654558),v=t(19632),b=t(324356),h=t(592042);function n(r){var o=_.indexOf(r,".");return o<0||o>=r.length-1?r:r.substr(o+1)}var l=function(){function r(o,a){c.fF.assertValue(o,"host"),c.fF.assertValue(a,"tabularData"),this.promiseFactory=o.promiseFactory(),this.tabularDataCache=a,this.columnToIndexMap={}}return r.prototype.execute=function(o){c.fF.assertValue(o,"options");var a=_.head(o.dataSources),m=this.buildDataView(o.command,a.modelId),u=this.promiseFactory.defer();return u.resolve(m),(0,e.w)(u)},r.prototype.transform=function(o,a,i){return null==o?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:o}},r.prototype.buildDataView=function(o,a){var i=this;c.fF.assertValue(o,"command"),c.fF.assertValue(a,"modelId");var m=o.mappings[0],u=this.tabularDataCache,V=u.get(u.getKey(a,o.tableName));c.fF.assertValue(V,"tabularData");var d=r.getLastVersion(V)-o.dataWindow;if(V.rowGroups){var S=o&&_.head(o.Commands);if(S){var g=S.SemanticQueryDataShapeCommand;g&&g.Query&&g.Query.Select&&g.Query.Select.map(function(E,M){i.columnToIndexMap[n(E.Name)]=M})}var y=this.filterTabularDataRowGroups(V.rowGroups,d),C=this.createDataView({rowGroups:y,columns:V.columns,modelId:V.modelId,name:V.name},m);return o.dataWindow&&(C.metadata.objects={categoryAxis:{duration:o.dataWindow}}),C}},r.prototype.filterTabularDataRowGroups=function(o,a){return c.fF.assertValue(o,"rowGroups"),c.fF.assertValue(a,"cutOff"),_.filter(o,function(i){return i.version>=a})},r.prototype.createDataView=function(o,a){c.fF.assertValue(o,"tabularData"),c.fF.assertValue(a,"mapping");var i={metadata:{columns:[]}},m=this.extractColumns(a),u=[];if(a.categorical){var V=this.getCategoricalDataViewInfo(m.categorical,o);i.categorical=V.dataView,_.isEmpty(i.categorical.values)&&(i.categorical.values=void 0),u.push.apply(u,V.columns||[])}if(a.table){var d=this.getSingleDataViewInfo(m.table,o);i.single=d.dataView;var S=d.columns[0];null==_.find(u,S)&&u.push(S)}return i.metadata.columns=u,i},r.prototype.getCategoricalDataViewInfo=function(o,a){c.fF.assertValue(o,"categoricalColumns"),c.fF.assertValue(a,"tabularData");var i=(0,f.h)();if(!_.isEmpty(o.categories)){var m=this.getCategoryColumnOption(o.categories,a);i.withCategory(m)}var u=this.getValueColumnOptions(o.categories,o.values,a);_.isEmpty(o.groupedValues)||o.groupedValues===o.categories?i.withValues({columns:u}):this.addGroupValues(o,a,i,u);var V=i.build();return{dataView:V.categorical,columns:V.metadata.columns}},r.prototype.addGroupValues=function(o,a,i,m){c.fF.assertValue(o,"categoricalColumns"),c.fF.assertValue(a,"tabularData"),c.fF.assertValue(o.groupedValues,"groupedValues"),c.fF.assertValue(m,"valueColumnOption");for(var u=n(o.groupedValues),V=this.getCategoryColumnOption(u,a),d=this.extractColumnValues(u,a),S=r.getUniqueValues(d),g=this.getValueToIndicesMap(d),y={},E=0,M=o.values;E<M.length;E++)for(var T=n(M[E]),x=this.extractColumnValues(T,a),R=0,D=S;R<D.length;R++){var F=r.valueToString(D[R]);null==y[F]&&(y[F]=[]);var O=_.at(x,g[F]);y[F].push({values:O})}var N=_.values(y);_.isEmpty(N)||i.withGroupedValues({groupColumn:V,valueColumns:m,data:N})},r.prototype.getValueToIndicesMap=function(o){for(var a={},i=0,m=o.length;i<m;i++){var u=r.valueToString(o[i]),V=a[u];V?V.push(i):a[u]=[i]}return a},r.prototype.getSingleDataViewInfo=function(o,a){c.fF.assertValue(o,"singleColumn"),c.fF.assertValue(a,"tabularData");var i=this.getColumnMetadataAndValues(o,a);return{dataView:{value:i.values[i.values.length-1],column:i.metadataColumn},columns:[i.metadataColumn]}},r.prototype.extractColumns=function(o){c.fF.assertValue(o,"mapping");var a=function(C,E){var M=C.items;if(M)for(var P=0,T=M;P<T.length;P++)E.push(T[P].queryName)},i={},m=o.categorical;if(m){var u=[];(0,s.Sr)(m.categories,{visitRole:function(C){a(C,u)}});var V=[];(0,s.fl)(m.values,{visitRole:function(C){a(C,V)}});var d=[];(0,s.vS)(m.values,{visitRole:function(C){a(C,d)}}),c.fF.assert(function(){return d.length<=1},"grouped values length should be <= 1"),c.fF.assert(function(){return u.length<=1},"grouped values length should be <= 1"),i.categorical={categories:u[0],groupedValues:d[0],values:V}}var S=o.table;if(S){var g=[];(0,s.vV)(S,{visitRole:function(C){a(C,g)}}),c.fF.assert(function(){return 1===g.length},"The length of the single column should be one"),i.table=g[0]}return i},r.prototype.getCategoryColumnOption=function(o,a){c.fF.assertValue(o,"columnNames"),c.fF.assertValue(a,"tabularData");var i=this.getColumnMetadataAndValues(o,a),m=r.getUniqueValues(i.values),u=(0,b.Oh)((0,b.nw)(null,a.name),o),V=_.map(m,function(d){return(0,v.TZ)((0,b.Dg)(u,(0,b.fL)(d.toString())))});return{source:i.metadataColumn,values:m,identityFrom:{fields:[u],identities:V}}},r.prototype.getValueColumnOptions=function(o,a,i){c.fF.assertAnyValue(o,"categoryColumnName"),c.fF.assertValue(a,"columnNames"),c.fF.assertValue(i,"tabularData");for(var m=[],u=0,V=a;u<V.length;u++){var S=this.getColumnMetadataAndValues(V[u],i,o),g=S.values;!o&&!_.isEmpty(g)&&(g=[_.last(g)]);var y={source:S.metadataColumn,values:g,minLocal:_.min(g),maxLocal:_.max(g)};m.push(y)}return m},r.prototype.getColumnMetadataAndValues=function(o,a,i){c.fF.assertValue(o,"columnName"),c.fF.assertValue(a,"tabularData"),c.fF.assertAnyValue(i,"categoryColumnName");var d,m=a.columns,u=n(o),V=this.columnToIndexMap[u];if(c.fF.assert(function(){return V>=0},"The column name should exist in tabular columns"),i){var S=n(i);d=this.extractUniqueColumnValues(u,a,S)}else d=this.extractColumnValues(u,a);var g=_.find(m,function(C){return C.name===u});return{metadataColumn:r.createMetadataColumn(u,V,h.Ge.fromDescriptor(g.type)),values:d}},r.prototype.extractColumnValues=function(o,a){c.fF.assertValue(o,"columnName"),c.fF.assertValue(a,"tabularData");for(var m=[],u=0,V=a.rowGroups;u<V.length;u++)for(var S=0,g=V[u].rows;S<g.length;S++)m.push(g[S][o]);return m},r.prototype.extractUniqueColumnValues=function(o,a,i){c.fF.assertValue(o,"columnName"),c.fF.assertValue(a,"tabularData"),c.fF.assertValue(i,"categoryName");for(var u={},V=0,d=a.rowGroups;V<d.length;V++)for(var g=0,y=d[V].rows;g<y.length;g++){var C=y[g];u[r.valueToString(C[i])]=C[o]}return _.values(u)},r.getLastVersion=function(o){if(c.fF.assertValue(o,"tabularData"),_.isEmpty(o.rowGroups))return o.lastVersion?o.lastVersion:Number.NEGATIVE_INFINITY;var a=Number.NEGATIVE_INFINITY;if(!o.rowGroups)return a;for(var i=0,m=o.rowGroups;i<m.length;i++){var u=m[i];u.version>a&&(a=u.version)}return a},r.createMetadataColumn=function(o,a,i){c.fF.assertValue(o,"name"),c.fF.assertValue(a,"columnIndex");var m={displayName:o,queryName:o,index:a,isMeasure:!1};return null!=i&&(m.type=i,m.isMeasure=!!i.numeric),m},r.getUniqueValues=function(o){return _.uniqBy(o,function(a){return r.valueToString(a)})},r.valueToString=function(o){return _.isDate(o)?o.getTime().toString():o?o.toString():""},r}()},118073:function(Je,H,t){t.d(H,{Z:function(){return f}});var e=t(787941),c=t(983172),s=t(322487);function f(){return new v(s.ib)}var v=function(){function b(h){e.fF.assertValue(h,"serializer"),this.serializer=h}return b.prototype.execute=function(h){e.fF.assertValue(h,"options");var p=h.query;e.fF.assertValue(p,"query");var l={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(p),Binding:null}},r=c.m.getActiveTablesNames(p);e.fF.assertValue(1===r.length,"Exactly 1 entity is expected");var o=r[0];return e.fF.assertValue(o,"entity"),{command:{dataWindow:h.dataWindow,tableName:o,mappings:h.mappings,Commands:[l]}}},b.prototype.produceIdentities=function(h,p){return e.fF.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[h]},b}()},419644:function(Je,H,t){t.d(H,{I7:function(){return r},Zq:function(){return c},h1:function(){return m},hh:function(){return v},oj:function(){return n},s7:function(){return h},sS:function(){return p},vP:function(){return s},zT:function(){return a}});var e=t(853811),c="PBI.Data.QueryData",s=e.cx[c]=(0,e.b1)(c),f="PBI.Data.QueryCancellation",v=e.cx[f]=(0,e.b1)(f,{logRatio:1e-4}),b="PBI.Data.ClientCacheHit",h=e.cx[b]=(0,e.b1)(b,{logRatio:1e-4}),p="PBI.Data.GetConceptualSchema",n=e.cx[p]=(0,e.b1)(p),l="PBI.Data.ClearConceptualSchemaCache",r=e.cx[l]=(0,e.b1)(l),o="PBI.Data.ExecuteQuery",a=e.cx[o]=(0,e.b1)(o),i="PBI.Data.DsrToDataView",m=e.cx[i]=(0,e.b1)(i,{logRatio:1e-4})},362892:function(Je,H,t){t.d(H,{S:function(){return c}});var e=t(718301);function c(){return new s}var s=function(){function f(){this.plugins=e.Gr}return f.prototype.getTransformPlugin=function(v){if(v)return this.plugins[v]},f}()},718301:function(Je,H,t){t.d(H,{Gr:function(){return r},Xp:function(){return s}});var c,e=t(145315),s="SampleAndDetectAnomaly",v={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},b=_.mapValues(v,function(o){return"anomalyDetection."+o}),h=_.mapValues(v,function(o){return o+"Role"}),r=((c={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:0}},{name:"Y",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:e.DW.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:e.DW.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:e.DW.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:e.DW.Grouping}]}})[s]={name:s,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:0}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:b.ExpectedValue,algorithmRole:h.ExpectedValue,columnName:v.ExpectedValue,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.ExpectedLow,algorithmRole:h.ExpectedLow,columnName:v.ExpectedLow,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.ExpectedHigh,algorithmRole:h.ExpectedHigh,columnName:v.ExpectedHigh,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.RawScore,algorithmRole:h.RawScore,columnName:v.RawScore,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.Anomaly,algorithmRole:h.Anomaly,columnName:v.Anomaly,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.BatchStart,algorithmRole:h.BatchStart,columnName:v.BatchStart,kind:e.DW.Measure,joinPredicateBehavior:0},{name:b.BatchEnd,algorithmRole:h.BatchEnd,columnName:v.BatchEnd,kind:e.DW.Measure,joinPredicateBehavior:0}]},c)},599481:function(Je,H,t){t.d(H,{tc:function(){return b},cu:function(){return o},X9:function(){return l},GB:function(){return n}});var e=t(180951),c=t(587318),s=t(853811),f="PBI.Settings.EsriSaveModel",v=s.cx[f]=(0,s.b1)(f);function b(u,V,d){return void 0===d&&(d=!0),{automaticallyImport:d,sandboxProperties:[2,1,0,3],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:function(){return{message:V.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:1,displayableErrorInfo:[],helpLink:e.ep}}}},visualTypeOptions:h(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return u.reject(c.VT)}},consentPersistencyProvider:{loadConsent:function(){return u.reject(c.VT)},saveConsent:function(g){return u.reject(c.VT)}}}}}function h(){return{class:c.Jo,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function p(u){return{blockedInCluster:function(){return!u.featureSwitches.esriEnabled},blockedInTenant:function(){return!u.featureSwitches.esriVisualEnabled},blockedInHost:_.stubFalse}}function n(u,V,d,S,g,y,C,E){void 0===E&&(E=!0);var M=p(d);return{automaticallyImport:E,sandboxProperties:[2,1,0,3],providers:{blocker:M,validator:i(M,C,S)},visualTypeOptions:h(),registerVisualConsentOptions:r(u,V,g,y)}}function l(u,V,d){void 0===d&&(d=!0);var S=p(u);return{automaticallyImport:d,sandboxProperties:[2,1,0,3],providers:{blocker:S,validator:i(S,void 0,V)},visualTypeOptions:h()}}function r(u,V,d,S){return{consentDialogProvider:m(u,V),consentPersistencyProvider:a(u,d,S)}}function o(u,V,d,S,g,y,C){void 0===C&&(C=!0);var E=p(V);return{automaticallyImport:C,sandboxProperties:[2,1,0,3],providers:{blocker:E,validator:i(E,S,d)},visualTypeOptions:h(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return u.reject("Esri consent dialog is not supported in Mobile scenario.")}},consentPersistencyProvider:a(u,g,y)}}}function a(u,V,d){return{loadConsent:function(){var g=u.defer();return V.esriVisualEnabled.subscribe(function(y){g.resolve(y)}),g.promise},saveConsent:function(g){var y=d.startEvent(v,{esriEnabled:g});return V.setEsriVisualEnabled(g,y),u.resolve(g)}}}function i(u,V,d){return{getErrorDetails:function(){var g;if(u.blockedInTenant()?g="SettingsEsri_OrganizationHasDisabled":V&&!V.hasConsent(c.Jo)&&(g="VisualContainer_EsriNotConsented"),g)return{message:d.get(g),errorType:1,displayableErrorInfo:[],helpLink:e.ep}}}}function m(u,V){return{showConsentDialog:function(){var S=u.defer();return V.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(function(y){return y.afterClosed().subscribe(function(C){return S.resolve(C)})}),S.promise}}}},48574:function(Je,H,t){t.d(H,{O:function(){return e},T:function(){return c}});var e={name:"saveExploration",type:3},c={name:"saveAsExploration",type:3}},927813:function(Je,H,t){t.d(H,{GB:function(){return h}});var e=t(63931),c=t(518304),s=t(325333),f=t(509838),v=[e.qf,e.Af,e.dw,e._V,e.Z4,e.fD,e.jK,e.yz,e.lR,e.LO,e.yC,e.Lr,e.de,e.hh,f.hR,e.vc,e.$n,e.Kb,e.jO,c.K0,c.td,c.gn,c.IJ,e.wf,f.ts,c.tk,"HttpStatusCode = -1","HttpStatusCode = 401","GroupNotAccessible",s.qw.Code,"ActivityLimitReached"],b=[];function h(l){return{errorCode:n(l),errorSource:p(l)}}function p(l){var r=l&&l.clientError,o=n(l);return _.includes(v,o)?"User":_.includes(b,o)?"External":r&&null!=r.source?r.source:"PowerBI"}function n(l){return l&&l.serviceError&&l.serviceError.errorCode||l&&l.clientError&&l.clientError.code||c.Kj}},871780:function(Je,H,t){t.d(H,{d:function(){return c}});var c={type:2,name:"topNFilterOrderByUpdate"}},989797:function(Je,H,t){t.d(H,{hM:function(){return o},oX:function(){return r}});var e=t(226514),c=t(505876),s=t(156319),f=t(809395),v=t(318220),b=t(787941),h=t(668268),p=t(983172),n=t(374952),l=t(340215),r=function(i){return i[i.Card=0]="Card",i[i.Pane=1]="Pane",i}({}),o=function(i){function m(u,V,d){var S=i.call(this,u,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:u.type})||this;return S.localizationService=d,S.isInvalidForMappedColumn=!1,S.id=m.counter++,S.restatement="",S.displayName="",S.containerScope=V,S.howCreated=0,S.isLinkedAsAggregation=!1,S.filterCapabilities=s.l.getFilterCapabilities(u),S.containerType=r.Pane,S}return(0,e.__extends)(m,i),m.prototype.setServices=function(u,V,d){b.fF.assertAnyValue(u,"visualHostServices can be null or undefined."),this.visualHostServices=u,this.visualPlugin=V,this.viewModeState=d},m.prototype.isInvalid=function(){return this.invalid},m.prototype.clearDQPWarning=function(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)},m.prototype.isInvalidCardType=function(){return this.cardType&&this.cardType.invalid},m.prototype.setContainerType=function(u){this.containerType=u},Object.defineProperty(m.prototype,"filterContainerType",{get:function(){return this.containerType},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isVisualFilter",{get:function(){return this.containerScope&&0===this.containerScope.scopeType},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasDefaultValue",{get:function(){return this.defaultValue&&(1===this.howCreated||5===this.howCreated)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isLinkField",{get:function(){return 5===this.howCreated&&!this.contract.isTransient},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canToggleLinkAsAggregation",{get:function(){return this.isLinkField&&!this.isMeasure},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canDeleteManually",{get:function(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canClearManually",{get:function(){return this.filterCapabilities.canClear},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasRestatement",{get:function(){return""!==this.restatement&&null!=this.restatement},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canHideManually",{get:function(){return this.filterCapabilities.canHide},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canLockManually",{get:function(){return this.filterCapabilities.canLock},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canRenameManually",{get:function(){return this.filterCapabilities.canRename},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canSortManually",{get:function(){return this.filterCapabilities.canSort},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canExpandManually",{get:function(){return this.filterCapabilities.canEdit&&s.l.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)},enumerable:!1,configurable:!0}),m.prototype.getFilterContainerScope=function(){return this.containerScope},m.prototype.setRestatement=function(u){this.contract.type===this.readOnlyState.type&&(this.restatement=u)},m.prototype.clearRestatement=function(){this.restatement=""},m.prototype.getRestatement=function(){return this.restatement},m.prototype.updateFilterCardStyle=function(u,V){V&&(this.style=s.l.getFilterCardStyle(u&&u.evaluatedObjects,!!this.contract.filter,V,this.filterCardStyleArguments))},Object.defineProperty(m.prototype,"checkboxAndApplyColor",{get:function(){return this.style&&this.style.checkboxAndApplyColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"borderColor",{get:function(){return this.style&&this.style.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"backgroundColor",{get:function(){return this.style&&this.style.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"foregroundColor",{get:function(){return this.style&&this.style.foregroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxBorderColor",{get:function(){return this.style&&this.style.inputBoxBorderColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxBackgroundColor",{get:function(){return this.style&&this.style.inputBoxBackgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxForegroundColor",{get:function(){return this.style&&this.style.inputBoxForegroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontSize",{get:function(){return this.style&&this.style.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontFamily",{get:function(){return this.style&&this.style.fontFamily},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"visualContainer",{get:function(){if(this.isVisualFilter)return this.containerScope.container},enumerable:!1,configurable:!0}),m.prototype.isFilterLocked=function(){return this.contract.isLockedInViewMode},m.prototype.isFilterHidden=function(){return this.contract.isHiddenInViewMode},m.prototype.isFilterExpanded=function(){return this.readOnlyState.expanded},m.prototype.updateFilterProperties=function(u,V,d){if(this.contract.expression){var S=this.contract.expression;this.isMeasure=(0,n.k)(S),this.discourageAggregation=p.m.discourageAggregation(S,u),this.valueType=s.l.getValueType(S,u),this.formatter=s.l.getFormatter(S,u),this.defaultValue=p.m.getDefaultValue(S,u),this.parameterMetadata=p.m.getConceptualParameterMetadata(S,u),5===this.howCreated&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var C=(0,h.NA)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=C&&C.value}var E=this.containerScope.container;this.hasGroupingScope=E&&(0,f.e4)(E,u),this.invalid=!_.isEmpty(s.l.validate(this.contract,u,d)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,u),this.invalid=this.isInvalidForMappedColumn),this.disabled=s.l.shouldDisableFilter(this.contract,u,E,d,V)},m.prototype.hasInvalidFiltersForMParameters=function(u,V){var d,S=null===(d=null==u?void 0:u.filter)||void 0===d?void 0:d.conditions();if(!S)return!1;for(var g=0,y=S;g<y.length;g++)if(!p.m.checkExprForValidMParameters(y[g],V))return!0;return!1},m.prototype.switchType=function(u){this.readOnlyState.type=u},m.prototype.canVisualize=function(){var u=this.contract;return u.expression&&u.type!==c.vA.Passthrough&&!this.isMeasure},m.prototype.updateViewStateCore=function(u){var V=this.contract;b.fF.assertValue(u.type,"Expected type to be defined for filter contract.");var d=!this.invalid;if(u.disabled=this.disabled,u.expanded=!0===V.expanded&&d,u.invalid=!d,_.some(this.availableTypes,function(y){return y.type===c.vA.Categorical})&&!u.visual&&V.config){var S=V.config.singleVisual;S&&this.visualHostServices&&this.visualPlugin&&(u.visual={viewport:m.DefaultVisualViewPort,type:v.L.filterSlicer.name,dataTransforms:{objects:S.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}u.canToggleSingleSelect=!(5===this.howCreated&&!this.contract.isTransient||this.contract.isTransient||u.disabled||!u.expanded||!u.visual||!u.visual.data)},m.prototype.updateAvailableTypes=function(){var u=this.localizationService,V=this.readOnlyState.type;if(V!==c.vA.Passthrough){var d=[];(function(i,m){return i&&!i.bool&&!m})(this.valueType,this.isLinkField)&&d.push({type:c.vA.Advanced,label:u.get("FilterPane_Advanced")}),this.isMeasure||(d.push({type:c.vA.Categorical,label:u.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(d.push({type:c.vA.RelativeDate,label:u.get("FilterPane_RelativeDate")}),d.push({type:c.vA.RelativeTime,label:u.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&d.push({type:c.vA.TopN,label:u.get("FilterPane_TopN")})),this.availableTypes=d,this.hiddenTypes=[],this.updateCardType(V)}else this.availableTypes=[]},m.prototype.updateCardType=function(u){var V=this.availableTypes;this.readOnlyState.type=u,this.cardType=_.find(V,function(d){return d.type===u}),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,function(d){return d.type===u}),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:c.vA.Categorical,label:this.localizationService.get("FilterPane_Basic")})},m.prototype.isSingleSelectDisabled=function(){return this.disableSelectionModeToggle||!this.viewModeState||0===this.viewModeState.getMode()},m.prototype.getDisplayName=function(){return this.contract.displayName?this.contract.displayName:this.displayName},m.prototype.updateIsLinkedAsAggregation=function(u){this.isLinkedAsAggregation=u},m.prototype.getInputPlaceholder=function(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""},m.prototype.isMappedToMParameter=function(){return this.parameterMetadata&&1===this.parameterMetadata.kind},m.prototype.supportsMultipleValues=function(){var u;return!(null===(u=this.parameterMetadata)||void 0===u||!u.supportsMultipleValues)},m.prototype.supportsSelectAll=function(){var u;return!(null===(u=this.parameterMetadata)||void 0===u||!u.supportsSelectAll)},m.DefaultVisualViewPort={width:146,height:180,scale:1},m.counter=0,m}(l.j)},10102:function(Je,H,t){t.d(H,{fw:function(){return S},l7:function(){return g}});var e=t(226514),c=t(505876),s=t(156319),f=t(787941),v=t(261374),b=t(648887),h=t(448711),p=t(44615),n=t(597098),l=t(184776),r=t(211763),o=t(138030),a=t(982414),i=t(670196),m=t(483582),V=t(989797),d=t(971028);function S(L,F,A,O,N,w,I,B,j){var W;switch(f.fF.assertValue(L,"contract"),f.fF.assertValue(L.expression||L.filter||L.type===c.vA.Include||L.type===c.vA.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),f.fF.assert(function(){return!L.isTransient||!!L.filter},"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),L.type){case c.vA.TopN:W=T(L,B,O,F,A,I,j);break;case c.vA.Advanced:case c.vA.Categorical:W=P(L,B,O,F,A,I,j);break;case c.vA.RelativeTime:W=x(b.wj.Time,L,B,O,F,A,I,j,!1);break;case c.vA.RelativeDate:W=x(b.wj.Date,L,B,O,F,A,I,j,!1);break;case c.vA.Passthrough:W=M(L,B,O,F,A,j,I);break;case c.vA.Include:case c.vA.Exclude:W=E(L,O,F,A,I);break;default:W=T(L,B,O,F,A,I,j)||x(b.wj.Time,L,B,O,F,A,I,j,!0)||x(b.wj.Date,L,B,O,F,A,I,j,!0)||P(L,B,O,F,A,I,j)||E(L,O,F,A,I)||M(L,B,O,F,A,j,I)}return f.fF.assertValue(W,"Expected to convert contract to FilterViewModel"),f.fF.assertValue(L.type,"Expected filter contract type to be assigned"),W.howCreated=L.howCreated,W.updateFilterProperties(F,N,w),W}function g(L,F){var A;if(L.filter){var O=L.filter.conditions();f.fF.assert(function(){return 1===O.length},"There should be exactly 1 filter expression.");var N=O[0];N&&(A=new m.L(F).fromFilterExpr(N,null,L.expression))}return!A&&L.expression&&(A=new i.d(L.expression,F)),A}function y(L,F,A,O,N,w,I){var B=(0,n.Q)(L);return A.getDisplayName(L,F,O,N,0===I?w:void 0,{includeVariationSource:!0})||(B?(0,p._6)(B):void 0)}function C(L,F,A,O,N,w,I){var B=A.getQualifiedDisplayName(L,F,N);return 5===I||6===I||2===I?B=O.format("FilterCard_Transient_Drill",[B]):7===I?B=O.format("FilterCard_Transient_URL",[B]):w&&(B=O.format("FilterCard_Transient",[B])),B}function E(L,F,A,O,N){var w=new a.v(A,O);if(!L.filter)return L.type?new V.hM(L,F,N):void 0;var I=L.filter.conditions();if(!(_.isEmpty(I)||I.length>1)&&(I[0].accept(w),w.dataPoints.length>0)){L.type=w.isExclude?c.vA.Exclude:c.vA.Include;var j=new V.hM(L,F,N);return j.displayName=s.l.getDisplayNameForIncludeExcludeFilters(N,L.type,w.dataPoints.length),j}}function M(L,F,A,O,N,w,I){f.fF.assert(function(){return null==L.type||L.type===c.vA.Passthrough},"Filter contract matches FilterType.Passthrough, but has differing type property: "+L.type),null==L.type&&(L.type=c.vA.Passthrough);var B=new V.hM(L,A,I),j=L.restatement;if((!j||""===j)&&L.filter){f.fF.assert(function(){return 1===_.size(L.filter.where())},"expecting only 1 filter in passthrough filters");var W={includeFieldNamesInFilter:!0};if(j=N.getFilterRestatement(L.filter,O,F,W),B.tooltip=N.getQualifiedFilterRestatement(L.filter,O,F,W),_.isEmpty(j)){var U=(0,l.J_)(L.filter);if(!_.isEmpty(U)){var J,k=I.get("ListJoin_Separator"),Q=void 0,te=void 0,ee=void 0;w&&(J=w.columnProperties);var re=U.fieldsBeingFiltered.map(function(Ve){var Te=w&&w.query&&w.query.defn.selectNameOf(Ve);return N.getDisplayName(Ve,O,F,Te,J)}).join(k),G=U.fieldsBeingFiltered.map(function(Ve){return N.getQualifiedDisplayName(Ve,O,F,W)}).join(k);if(U.isSubquery&&U.itemCount){f.fF.assert(function(){return 1===A.scopeType&&5===L.howCreated},"Subqueries are expected to be only within section and drillthrough context.");var ne=(0,h.WU)(U.itemCount);if(U.orderByField){var X=w&&w.query&&w.query.defn.selectNameOf(U.orderByField),oe=N.getDisplayName(U.orderByField,O,F,X,J);ee=U.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",Q=[ne,re,oe],te=[ne,G,oe]}}else Q=[re],te=[G],ee=U.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";j=v.W.apply(void 0,(0,e.__spreadArray)([I.get(ee)],Q||[],!1)),B.tooltip=v.W.apply(void 0,(0,e.__spreadArray)([I.get(ee)],te||[],!1))}}}return B.setRestatement(j),B}function P(L,F,A,O,N,w,I,B){var j=g(L,w);if(j){L.expression||(L.expression=j.field),f.fF.assert(function(){return null==L.type||L.type===c.vA.Categorical||L.type===c.vA.Visual||L.type===c.vA.Advanced},"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+L.type),null==L.type&&(L.filter?L.type=s.l.getFilterType(j.field,j.supportsCategorical):(f.fF.assert(function(){return!L.isTransient},"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),L.type=(0,d.NV)(L.expression,O,L.howCreated))),null==L.type&&(L.type=c.vA.Categorical);var k,Q,W=L.expression,U=new V.hM(L,A,w);return I&&(k=I.query&&I.query.defn.selectNameOf(W),Q=I.columnProperties),U.displayName=y(W,O,N,F,k,Q,A.scopeType),U.tooltip=C(W,O,N,w,F,L.isTransient,L.howCreated),U}}function T(L,F,A,O,N,w,I){if(0===A.scopeType&&5!==L.howCreated){var B=(0,o.J_)(L.filter);return B&&R(L,c.vA.TopN,B.fieldBeingFiltered),D(L,c.vA.TopN,A,O,N,w,F,I)}}function x(L,F,A,O,N,w,I,B,j){var W=function(L){switch(L){case b.wj.Time:return c.vA.RelativeTime;case b.wj.Date:return c.vA.RelativeDate;default:return f.fF.assertFail("Unsupported RelativeFilterType"),null}}(L),U=(0,r.pi)(F.filter,L);if(U){if(U.options&&U.options.anchorDate&&j)return;R(F,W,U.field)}return D(F,W,O,N,w,I,A,B)}function R(L,F,A){f.fF.assert(function(){return null==L.type||L.type===F},"Filter contract matches FilterType."+F+" but has differing type property: "+L.type),L.type=F,L.expression=A}function D(L,F,A,O,N,w,I,B){if(L.type===F&&L.expression){var j=new V.hM(L,A,w),W=B&&B.query?B.query.defn.selectNameOf(L.expression):void 0;return j.displayName=y(L.expression,O,N,I,W,B?B.columnProperties:void 0,A.scopeType),j.tooltip=C(L.expression,O,N,w,I,L.isTransient,L.howCreated),j}}},249276:function(Je,H,t){t.d(H,{$l:function(){return f},De:function(){return a},H:function(){return u},Il:function(){return x},Kp:function(){return T},Kx:function(){return ee},LG:function(){return P},LQ:function(){return l},Ll:function(){return k},Lu:function(){return ne},Rz:function(){return o},T9:function(){return b},TY:function(){return n},V1:function(){return W},X:function(){return re},Y:function(){return G},Y1:function(){return B},Y4:function(){return F},Z0:function(){return m},Zp:function(){return Te},b4:function(){return w},di:function(){return j},e4:function(){return v},es:function(){return R},f4:function(){return Ve},hz:function(){return p},i$:function(){return J},iR:function(){return Q},jA:function(){return S},jv:function(){return I},k8:function(){return D},mn:function(){return g},ns:function(){return L},oU:function(){return X},ph:function(){return r},rR:function(){return h},tV:function(){return O},ve:function(){return s},xh:function(){return U},yD:function(){return M}});var s="calloutValue",f="categoryAxis",v="categoryLabels",b="conditionalFormatting",h="dataBars",p="dataPoint",n="dropShadow",l="general",r="gradient",o="labels",a="legend",m="personalizeVisual",u="stylePreset",S="totals",g="valueAxis",M="visualTooltip",P="zoom",T="applyToAllPages",x="color",R="dynamicLabelValue",D="flagsSelection",L="innerPadding",F="numericSelection",O="revertToDefault",w="secShow",I="secShowAxisTitle",B="selection",j="show",W="showAxisTitle",U="showDynamicLabels",k="showGradientLegend",Q="slider",ee="textarea",J="transparency",re="x",G="y",ne="width",X="height",Ve="allowBinnedLineSample",Te="allowOverlappingPointsSample"},221491:function(Je,H,t){t.d(H,{u:function(){return f}});var e=t(226514),c=t(787941),s=t(144900),f=function(){function v(b,h){void 0===h&&(h=!1),this.localizationService=b,this.showIcons=h,this.allCommands=[]}return v.prototype.getItems=function(){return this.menuItems},v.prototype.getCommandByIndex=function(b){return this.allCommands[b]},v.prototype.createItems=function(b){return(0,e.__awaiter)(this,void 0,s.J,function(){var h,p;return(0,e.__generator)(this,function(n){switch(n.label){case 0:return[4,this.createMenuItemsFromCommands(b,h=[])];case 1:return p=n.sent(),_.isEmpty(p)?[2,this.createNoAvailableActionsMenu()]:(this.allCommands=h,[2,{items:p}])}})})},v.prototype.createNoAvailableActionsMenu=function(){var b=[],h=this.localizationService.get("VisualContainer_ContextMenu_NoAvailableActions"),p=this.createMenuItem(null,h,null);return p.disabled=!0,b.push(p),{items:b}},v.prototype.createMenuItemsFromCommands=function(b,h){return void 0===h&&(h=[]),(0,e.__awaiter)(this,void 0,s.J,function(){var p,n,l,r,o,a,i,m,u,V,d;return(0,e.__generator)(this,function(S){switch(S.label){case 0:if(_.isEmpty(b))return[2];p=[],n=0,l=b,S.label=1;case 1:return n<l.length?[4,(r=l[n]).isVisible()]:[3,11];case 2:return S.sent()?(1===r.separatorPosition&&(c.fF.assert(function(){return p.length>0},"There is no point to adding a separator as the first item."),c.fF.assert(function(){return 1!==p[p.length-1].type},"Adjacent separators are not allowed."),d=this.createItemSeparator(),p.push(d)),o=void 0,a=void 0,r.getToolTip?[4,r.getToolTip(this.localizationService)]:[3,4]):[3,10];case 3:a=S.sent(),S.label=4;case 4:return(m=r.isDisabled)?[4,r.isDisabled()]:[3,6];case 5:m=S.sent(),S.label=6;case 6:return(i=m)?[3,9]:[4,r.getChildren()];case 7:return u=S.sent(),[4,this.createMenuItemsFromCommands(u,h)];case 8:o=S.sent(),S.label=9;case 9:h.push(r),V=this.createMenuItem(h.length-1,r.title(this.localizationService),i,o,r.glyph,r.selected,r.customIcon,a),p.push(V),2===r.separatorPosition&&(d=this.createItemSeparator(),p.push(d)),S.label=10;case 10:return n++,[3,1];case 11:return[2,p]}})})},v.prototype.createMenuItem=function(b,h,p,n,l,r,o,a){return{type:0,key:b,text:h,children:n,icon:l,selected:r,customIcon:o,showIcon:this.showIcons,disabled:p,tooltip:a}},v.prototype.createItemSeparator=function(){return{type:1,checked:!1}},v}()},281469:function(Je,H,t){t.d(H,{$j:function(){return C},BB:function(){return n},Co:function(){return P},D5:function(){return h},Dw:function(){return l},K5:function(){return i},LQ:function(){return r},U2:function(){return V},VA:function(){return T},W1:function(){return b},X5:function(){return u},Y9:function(){return a},Yb:function(){return m},aW:function(){return R},hu:function(){return p},jk:function(){return M},kV:function(){return x},qD:function(){return y},v0:function(){return c},xk:function(){return o}});var c="trustedVisualConsentStateChanged",b=9,h=20,p=10,n=20,l=30,r=300,o=300,a=150,i=150,m=500,u=15,V={x:1,y:1},y=8,C=50,M=558,P=324,T=18,x=180,R=3600},718025:function(Je,H,t){t.d(H,{H$:function(){return u},MY:function(){return n},Vk:function(){return o},Yk:function(){return v},aV:function(){return m},gI:function(){return l},hH:function(){return p},m$:function(){return h},oD:function(){return i},oS:function(){return r},uH:function(){return a}});var e=t(90117),c=t(273139),s=t(883863),f=t(787941);function v(V,d){var S=(0,e.yG)(d),g=(0,e.yG)(V);f.fF.assert(function(){return S.length===g.length},"permanent section count is out of sync");for(var y=S.length-1;y>=0;y--){var C=S[y],E=g[y];C.id=E.id,C.objectId=E.objectId,b(C.visualContainerGroups,E.visualContainerGroups)}}function b(V,d){for(var S=function(C){var E=V[C],M=d[C];E.id=M.id,f.fF.assert(function(){return(0,c.q4)(E)===(0,c.q4)(M)},"visualContainerGroups items must be in sync"),(0,c.q4)(E)&&(0,c.q4)(M)&&b(E.children,M.children)},g=V.length-1;g>=0;g--)S(g)}function h(V,d){if(V&&V.sections){var g=_.findIndex(V.sections,function(y){return y.name===d});if(-1!==g)return g}}function p(V,d){var S;return d&&(S=h(V,d)),null==S&&_.isNumber(V.activeSectionIndex)&&(S=V.activeSectionIndex),(null==S||!_.inRange(S,0,V.sections.length))&&(S=0),S}function n(V,d){return V&&V.sections?_.findIndex(V.sections,function(y){return y===d}):-1}function l(V,d){return V&&V.sections?(0,s.Jq)(V.sections,d):null}function r(V,d){return V&&V.sections?_.findIndex(V.sections,function(y){return y.id===d}):-1}function o(V,d){for(var S=1,g=d.format("Explore_Section_Page",[S.toFixed()]);_.findLastIndex(V,function(y){return y.displayName===g})>=0;)g=d.format("Explore_Section_Page",[(++S).toFixed()]);return g}function a(V,d){for(var g=0,y=V.sections;g<y.length;g++){var C=y[g];C.displayName||(C.displayName=o(V.sections,d))}}function i(V){return _.filter(V,function(d){return!m(d)})}function m(V){return!!(1&V.visibility)}function u(V){return!!(1&V.type)}},867030:function(Je,H,t){t.d(H,{$o:function(){return s},Y6:function(){return v},u3:function(){return f}});var e=t(322487),c=t(107585);function s(o,a,i){o.addEventListener("drop",function(m){var u=v(m);u&&a(m,u,b(o,m))}),o.addEventListener("dragover",function(m){(function(o){return!function(o){return o.dataTransfer.types.includes("buildfieldwell")}(o)})(m)&&(i&&function(o,a){switch(a){case 0:p(o.previousElementSibling,c.Hq.class),p(o,c.Hq.class),p(o.nextElementSibling,c.Hq.class);break;case 2:p(o.previousElementSibling,c.at.class),p(o,c._r.class),p(o.nextElementSibling,c.Hq.class);break;case 3:p(o.previousElementSibling,c.Hq.class),p(o,c.at.class),p(o.nextElementSibling,c._r.class);break;case 1:p(o.previousElementSibling,c.Hq.class),p(o,c.BN.class),p(o.nextElementSibling,c.Hq.class);break;default:n(o)}}(o,i(b(o,m))),m.preventDefault())}),i&&(o.addEventListener("dragleave",function(){return n(o)}),o.addEventListener("dragexit",function(){return n(o)}),o.addEventListener("dragend",function(){return n(o)}))}function f(o){o.removeAllListeners("drop"),o.removeAllListeners("dragover"),o.removeAllListeners("dragleave"),o.removeAllListeners("dragexit"),o.removeAllListeners("dragend")}function v(o,a){void 0===a&&(a=!0),a&&(o.stopPropagation(),o.preventDefault());var i=o.dataTransfer.getData("pbi-tree-node");if(i){var m=JSON.parse(i).fieldExpr;if(m)return e.ib.deserializeExpr(m)}}function b(o,a){var i=o.getBoundingClientRect(),m=0;return(m|=i.top+i.height/2>a.pageY?1:4)|(i.left+i.width/2>a.pageX?8:2)}function p(o,a){!o||o.classList.contains(a)||(o.classList.remove(c.at.class),o.classList.remove(c.Hq.class),o.classList.remove(c._r.class),o.classList.remove(c.BN.class),o.classList.add(a))}function n(o){p(o.previousElementSibling,c.Hq.class),p(o,c.Hq.class),p(o.nextElementSibling,c.Hq.class)}},625971:function(Je,H,t){t.d(H,{K:function(){return c}});var e=t(226514);function c(s,f){var v=function(p){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];return f.run(p,s,n)},b={getLocalizedString:function(p){for(var n=[],l=1;l<arguments.length;l++)n[l-1]=arguments[l];return s.getLocalizedString.apply(s,(0,e.__spreadArray)([p],n||[],!1))},tooltips:function(){return s.tooltips()},getSectionsMetadata$:function(){return s.getSectionsMetadata$()},getBookmarksMetadata$:function(){return s.getBookmarksMetadata$()},getSubSelectionService:function(){return s.getSubSelectionService()},alertScreenReader:function(p){return v(s.alertScreenReader,p)},alertWithDebounce:function(p,n){return v(s.alertWithDebounce,p,n)},requestFocus:function(p){return v(s.requestFocus,p)},onDragStart:function(p){return v(s.onDragStart,p)},getVisualLinkProperties:function(){return v(s.getVisualLinkProperties)},canSelect:function(p){return v(s.canSelect,p)},onSelecting:function(p){return v(s.onSelecting,p)},onSelect:function(p){return v(s.onSelect,p)},onSwitchFocusModeState:function(p){return v(s.onSwitchFocusModeState,p)},canExpandCollapse:function(p){return v(s.canExpandCollapse,p)},setNodeExpansionState:function(p){return v(s.setNodeExpansionState,p)},setLevelExpansionState:function(p){return v(s.setLevelExpansionState,p)},onContextMenu:function(p){return v(s.onContextMenu,p)},loadMoreData:function(){return v(s.loadMoreData)},loadWindow:function(p){return v(s.loadWindow,p)},setShouldDeferData:function(p){return v(s.setShouldDeferData,p)},persistProperties:function(p,n){return v(s.persistProperties,p,n)},onCustomSort:function(p){return v(s.onCustomSort,p)},getViewMode:function(){return v(s.getViewMode)},getEditMode:function(){return v(s.getEditMode)},setWarnings:function(p){return v(s.setWarnings,p)},getWarnings$:function(){return v(s.getWarnings$)},setToolbar:function(p,n){return v(s.setToolbar,p,n)},shouldRetainSelection:function(){return v(s.shouldRetainSelection)},geocoder:function(){return v(s.geocoder)},geolocation:function(){return v(s.geolocation)},locale:function(){return v(s.locale)},promiseFactory:function(){return v(s.promiseFactory)},ignoreDefaultFilter:function(){return v(s.ignoreDefaultFilter)},getIdentityDisplayNames:function(p){return v(s.getIdentityDisplayNames,p)},setIdentityDisplayNames:function(p){return v(s.setIdentityDisplayNames,p)},dropdown:function(){return v(s.dropdown)},telemetry:function(){return v(s.telemetry)},authenticationService:function(){return v(s.authenticationService)},localStorageService:function(){return v(s.localStorageService)},eventService:function(){return v(s.eventService)},licenseManagerService:function(){return v(s.licenseManagerService)},loader:function(){return v(s.loader)},getUIComponentFactory:function(){return v(s.getUIComponentFactory)},applyJsonFilter:function(p,n,l,r){return v(s.applyJsonFilter,p,n,l,r)},applyIdentityFilter:function(p,n,l,r){return v(s.applyIdentityFilter,p,n,l,r)},launchUrl:function(p){return v(s.launchUrl,p)},instanceId:s.instanceId,refreshHostData:function(){return v(s.refreshHostData)},decompositionService:function(){return v(s.decompositionService)},getJSONFilter:function(p,n){return v(s.getJSONFilter,p,n)},visualCapabilitiesChanged:function(){return v(s.visualCapabilitiesChanged)},onHyperlinkClick:function(p,n){return v(s.onHyperlinkClick,p,n)},visualTimeSynchronization:function(){return v(s.visualTimeSynchronization)},setFilterExpressionMetadata:function(p){return v(s.setFilterExpressionMetadata,p)},getFilterExpressionMetadata:function(){return v(s.getFilterExpressionMetadata)},isVisualEnabled:function(){return v(s.isVisualEnabled)},dataMultiSelectMode:function(){return v(s.dataMultiSelectMode)},networkAvailability:function(){return v(s.networkAvailability)},downloadService:function(){return v(s.downloadService)},setAriaMetadata:function(p){return v(s.setAriaMetadata,p)},artifactService:function(){return v(s.artifactService)},onNotifyLicense:function(p){return v(s.onNotifyLicense,p)},onClearLicenseNotification:function(){return v(s.onClearLicenseNotification)},onNotifyFeatureBlocked:function(p){return v(s.onNotifyFeatureBlocked,p)},webAccessService:function(){return v(s.webAccessService)},drill:function(p){return v(s.drill,p)},getAzureMapToken:function(){return v(s.getAzureMapToken)},acquireAADTokenService:function(){return s.acquireAADTokenService()},localStorageV2Service:function(){return s.localStorageV2Service()},aiNarrativesService:function(){return v(s.aiNarrativesService)},azureMapsEndpoint:function(){return s.azureMapsEndpoint()},geocoderIndexedDB:function(){return s.geocoderIndexedDB()},triggerUpdate:function(){return v(s.triggerUpdate)},isScreenshotWorkload:function(){return s.isScreenshotWorkload()},setCanDrill:function(p){return v(s.setCanDrill,p)},dateTimeFormatService:function(){return s.dateTimeFormatService()},visualExportService:function(){return v(s.visualExportService)},visualHostSubSelectionService:function(){return s.visualHostSubSelectionService()}};return s.isSelected&&s.isSelected$&&(b.isSelected=function(){return s.isSelected()},b.isSelected$=function(){return s.isSelected$()}),b}},982414:function(Je,H,t){t.d(H,{v:function(){return b}});var e=t(226514),c=t(156319),s=t(787941),f=t(448711),b=function(h){function p(n,l,r){var o=h.call(this)||this;return o.schema=n,o.displayName=l,o.metadata=r,o.dataPoints=[],o.isExclude=!1,o}return(0,e.__extends)(p,h),p.prototype.visitNot=function(n){this.isExclude=!0,n.arg.accept(this)},p.prototype.visitOr=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitIn=function(n){var l,r=this;if(!_.isEmpty(n.values)){for(var o=[],a=n.args,i=_.map(a,function(g){return r.displayName.getDisplayName(g,r.schema,null,null,null,{includeVariationSource:!0})}),m=function(y){s.fF.assert(function(){return a.length===y.length},"Columns can't be different from values");var C=i,E=_.map(y,function(P){return P.value}),M=c.l.findValuesInFilterCache(a,y,u.metadata);M&&(C=_.map(M.columns,function(P){return r.displayName.getDisplayName(P,r.schema,null,null,null,{includeVariationSource:!0})}),E=M.values),o.push({columns:a,values:y,text:p.getDataPointText(C,E)})},u=this,V=0,d=n.values;V<d.length;V++)m(d[V]);(l=this.dataPoints).push.apply(l,o||[])}},p.getDataPointText=function(n,l){var r="";s.fF.assert(function(){return n.length>0},"getDataPointText columns cant be empty"),s.fF.assert(function(){return n.length===l.length},"getDataPointText columns and values should have the same length");for(var o=0;o<n.length;o++){var i=n[o];r+=(0,f.WU)(l[o])+" ("+i+") + "}return r.slice(0,r.length-3)},p}(t(116170).vq)},801561:function(Je,H,t){t.d(H,{V:function(){return f}});var e=t(226514),c=t(787941),s=t(144900),f=function(){function v(b,h,p,n,l,r,o){this.defaultTitleKey=b,this.selectors=h,this.glyph=p,this.commandDisplayOption=n,this.selected=l,this.customIcon=r,this.separatorPosition=o,c.fF.assert(function(){return _.isEmpty(h)||!_.some(h,function(a){return _.isEmpty(a)})}),this.selectors=_.compact(h)}return v.prototype.title=function(b){return b&&this.defaultTitleKey?b.get(this.defaultTitleKey):this.defaultTitleKey},v.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(b){return[2]})})},v.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(b){return[2,2!==this.commandDisplayOption]})})},v.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(b){return[2,1===this.commandDisplayOption]})})},v.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(b){return[2,null]})})},v.prototype.getTelemetryInfo=function(){return this.defaultTitleKey},v.prototype.announceSelectionState=function(b,h){if(b){var p=b.getLocalizedString(this.getSelectionStateStringKey(h));b.alertScreenReader(p)}},v.prototype.getSelectionStateStringKey=function(b){return b?"FieldListProperty_Selected":"FieldListProperty_Unselected"},v}()},128519:function(Je,H,t){t.d(H,{V:function(){return l}});var e=t(528359),c=t(273139),s=t(1745),f=t(555161),v=t(172881),b=t(787941),h=t(608014),p=t(548556),n=t(226278);function l(o,a,i,m,u,V,d,S,g,y,C){return new r(o,a,m,u,V,d,S,g,y,C)}var r=function(){function o(a,i,m,u,V,d,S,g,y,C){this.clipboardService=a,this.selectionService=i,this.viewModeState=m,this.undoRedoService=u,this.visualAuthoring=V,this.eventBridge=d,this.visibilityService=S,this.formFactor=g,this.layoutAuthoring=y,this.telemetryService=C,b.fF.assertValue(a,"clipboard"),b.fF.assertValue(i,"selection"),b.fF.assertValue(m,"viewModeState"),b.fF.assertValue(u,"undoRedoService"),b.fF.assertValue(V,"visualAuthoring"),b.fF.assertValue(S,"visibilityService"),this.debouncedLogScanKeyEvent=_.debounce(this.logScanKeyEvent,o.DebounceWait)}return o.prototype.getVisualInteractivityDisabled=function(){return this.visualInteractivityDisabled},o.prototype.setVisualInteractivityDisabled=function(a){this.visualInteractivityDisabled=!!a},o.prototype.onKeyDown=function(a,i){if(this.debouncedLogScanKeyEvent(a),this.isSaveEvent(a))return this.onSave(),this.preventStopAndReturnFalse(a);if(this.isClearEvent(a))return this.onClear(),this.preventStopAndReturnFalse(a);if(this.isMatrixViewEvent(a))return this.onMatrixViewEvent(),this.preventStopAndReturnFalse(a);var m=this.formFactor.getCurrentLayoutCapabilities();if(0===this.viewModeState.getMode())return m.canPassUnhandledKeysToSelectedVisual()?this.allowSelectedVisualContainerToHandle(a,i):void 0;if(this.isDeleteEvent(a)&&!this.isFocusedOnTextElement()&&!this.visibilityService.get())return m.canRemoveVisualFromLayout()?this.onRemoveFromLayout(a,i):m.canDelete()&&this.onDelete(a,i),this.preventStopAndReturnFalse(a);var u=a.which;if(this.isCtrlOrMeta(a)&&!this.isFocusedOnTextElement()){var V=!_.isEmpty(this.selectionService.getSelectedElements());switch(u){case 65:return this.onSelectAll(a,i),this.preventStopAndReturnFalse(a);case 67:return!m.canCutCopyPaste()||!V||(this.onCopy(a),this.preventStopAndReturnFalse(a));case 88:return!m.canCutCopyPaste()||!V||(this.onCut(a),this.preventStopAndReturnFalse(a));case 86:return m.canCutCopyPaste()&&this.onPaste(a),this.preventStopAndReturnFalse(a);case 89:return this.onRedo(),this.preventStopAndReturnFalse(a);case 90:return this.onUndo(),this.preventStopAndReturnFalse(a);case 191:return this.onShowQna(),this.preventStopAndReturnFalse(a);case 40:return!a.shiftKey||(this.onApplyAllSlicers(),this.preventStopAndReturnFalse(a));case 71:return a.shiftKey?this.onUnGroup():this.onGroup(),this.preventStopAndReturnFalse(a);case 77:return this.onMergeGroup(),this.preventStopAndReturnFalse(a)}}return m.canPassUnhandledKeysToSelectedVisual()?this.allowSelectedVisualContainerToHandle(a,i):void 0},o.prototype.logScanKeyEvent=function(a){0===this.viewModeState.getMode()&&!this.isFocusedOnTextElement()&&!a.ctrlKey&&!a.metaKey&&!a.altKey&&_.includes(h.wx,a.keyCode)&&this.telemetryService.logEvent(p.K2L)},o.prototype.isFocusedOnTextElement=function(){var a=document.activeElement;return v.M.isElementContentEditable(a)||v.M.isTextElement(a)},o.prototype.allowSelectedVisualContainerToHandle=function(a,i){if(!this.visualInteractivityDisabled&&(0,e.y)(".visualContainer")){var m=f.UP.getSelectedVisual(this.selectionService);if(m){var u=(0,n.FK)(i.visualContainers,m);if(u)return u.handleKeyDown(a)}}},o.prototype.preventStopAndReturnFalse=function(a){return a&&(a.preventDefault(),a.stopPropagation()),!1},o.prototype.onApplyAllSlicers=function(){this.eventBridge.publishToChannel(s.FRm)},o.prototype.onUndo=function(){this.undoRedoService.undo()},o.prototype.onRedo=function(){this.undoRedoService.redo()},o.prototype.onCopy=function(a){this.canCopyOrCut()&&this.clipboardService.copy()},o.prototype.onCut=function(a){this.canCopyOrCut()&&this.clipboardService.cut()},o.prototype.onPaste=function(a){this.clipboardService.paste()},o.prototype.onRemoveFromLayout=function(a,i){this.layoutAuthoring.removeLayoutFromSelectedVisuals(i)},o.prototype.onDelete=function(a,i){var m=this;this.undoRedoService.register("CanvasKeyDelete",function(){m.visualAuthoring.deleteSelectedVisuals(i)})},o.prototype.onSelectAll=function(a,i){var m;m=i.visualContainerGroups?_.map(i.visualContainerGroups,function(u){return u.contract}):_.map(i.visualContainers,function(u){return u.contract}),f.UP.selectCanvasItems(m,this.selectionService)},o.prototype.onSave=function(){this.eventBridge.publishToChannel(s._$U)},o.prototype.onClear=function(){this.eventBridge.publishToChannel(s.Wqo)},o.prototype.onShowQna=function(){this.eventBridge.publishToChannel(s.j3G,{creationSource:7})},o.prototype.onGroup=function(){this.layoutAuthoring.groupCanvasItems(f.UP.getSelectedCanvasItems(this.selectionService))},o.prototype.onUnGroup=function(){var a=this,i=f.UP.getSelectedCanvasItems(this.selectionService);_.forEach(i,function(m){var u=(0,c.q4)(m)?m:m.parentGroup;u&&a.layoutAuthoring.ungroupCanvasItems(u)})},o.prototype.onMergeGroup=function(){this.layoutAuthoring.canMergeCanvasItems()&&this.layoutAuthoring.mergeCanvasItemContainers(f.UP.getSelectedCanvasItems(this.selectionService))},o.prototype.onMatrixViewEvent=function(){this.viewModeState.canEnterMatrixView()?this.viewModeState.enterMatrixView():this.viewModeState.canExitMatrixView()&&this.viewModeState.exitMatrixView()},o.prototype.isSaveEvent=function(a){return this.isOnlyCtrlOrMeta(a)&&83===a.which},o.prototype.isDeleteEvent=function(a){return!a.ctrlKey&&46===a.which},o.prototype.canCopyOrCut=function(){return!this.visibilityService.get()},o.prototype.isClearEvent=function(a){return a.altKey&&a.shiftKey&&82===a.which},o.prototype.isMatrixViewEvent=function(a){return this.isCtrlOrMeta(a)&&a.shiftKey&&122===a.which},o.prototype.isCtrlOrMeta=function(a){var i=a.ctrlKey,m=a.metaKey;return a&&(i&&!m||!i&&m)},o.prototype.isOnlyCtrlOrMeta=function(a){return this.isCtrlOrMeta(a)&&!a.altKey&&!a.shiftKey},o.DebounceWait=100,o}()},337594:function(Je,H,t){t.d(H,{o:function(){return c}});var e=t(1745);function c(f,v,b,h,p,n,l){return new s(f,v,h,p,n,l)}var s=function(){function f(v,b,h,p,n,l){this.eventBridge=v,this.explorationNavigation=b,this.formFactorProvider=h,this.visibility=p,this.viewModeState=n,this.overlayService=l,this.displayAreaScale=1,this.wallpaperScale=1}return f.prototype.setDisplayAreaScaleFactor=function(v){this.displayAreaScale=v,this.eventBridge.publishToChannel(e.JXP,v)},f.prototype.setWallpaperScaleFactor=function(v){this.wallpaperScale=v},f.prototype.getDisplayAreaScaleFactor=function(){return this.displayAreaScale},f.prototype.getWallpaperScaleFactor=function(){return this.wallpaperScale},f.prototype.getDisplayOption=function(){if(1===this.formFactorProvider.getCurrentLayout()&&1===this.viewModeState.getMode()||null!=this.canvasZoom)return 3;if(this.visibility.get())return 0;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var h=this.explorationNavigation.getCurrentSection();return h?h.size.displayOption:void 0},f.prototype.setDisplayOption=function(v){var b=this.explorationNavigation.getCurrentSection();b&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),b.size.displayOption=v)},f.prototype.setCanvasZoom=function(v){this.overlayService.hideAllDropdowns(),this.canvasZoom=v},f.prototype.getCanvasZoom=function(){return this.canvasZoom},f}()},351942:function(Je,H,t){t.d(H,{V:function(){return a}});var e=t(456535),c=t(1745),s=t(555161),f=t(156319),v=t(285262),b=t(809395),h=t(883863),p=t(787941),n=t(690016),l=t(145315),o=(t(324356),t(718025));function a(){var i=f.l,m=s.UP,V=n.b$,d=function(){function g(y,C,E,M,P){this.sourceSection=y,this.sourceVisualContainer=C,this.targetSection=E,this.targetVisualContainer=M,this.navigationState=P}return g.prototype.toSnapshot=function(y){var C=this;if(y.getCurrentSection()===this.targetSection){var E=y.getCurrentExploration(),M=(0,o.MY)(E,this.sourceSection),P=(0,o.MY)(E,this.targetSection);return{sourceSectionIndex:M,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,function(R){return R===C.sourceVisualContainer}),targetSectionIndex:P,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,function(R){return R===C.targetVisualContainer})}}},g.fromSnapshot=function(y,C){if(y){var E=C.getCurrentExploration(),M=E.sections[y.sourceSectionIndex],P=M.visualContainers[y.sourceVisualIndex],T=E.sections[y.targetSectionIndex],x=T.visualContainers[y.targetVisualIndex];return p.fF.assertValue(M,"sourceSection"),p.fF.assertValue(P,"sourceVisual"),p.fF.assertValue(T,"targetSection"),p.fF.assertValue(x,"targetVisual"),p.fF.assert(function(){return C.getCurrentSection()===T},"expected to be on the drill to details section"),new g(M,P,T,x,0)}},g}(),S=function(){function g(y,C,E,M,P,T,x,R,D,L){var F=this;this.conceptualSchemaProxy=y,this.visualAuthoringOperations=C,this.undoRedo=E,this.selectionService=M,this.explorationNavigationService=P,this.explorationSerializer=T,this.visibility=x,this.eventBridge=R,this.filterGenerator=D,this.visualPluginService=L,this.eventBridge.createChannelSubscriptionManager().subscribe(c.wAN,function(){return F.onSectionChanged()}).subscribe(c.y5h,function(){return F.onPopOutModeChanged()}).subscribe(c.SVs,function(A,O){return F.clearContext()})}return g.prototype.drillToDetails=function(y,C,E){var M=this;if(!_.isEmpty(y)){var P=_.head(y);if(P&&!_.isEmpty(P.metadata)){var T=(0,b.Xf)(C);if(T&&T.defn){if(_.isEmpty(P.dataMap)){if(!T.projections)return;var x=(0,b.d$)(C,this.visualPluginService),R=_(x).filter(function(F){return F.kind!==l.DW.Measure}).map(function(F){return F.name}).value();for(var D in T.projections)if(!_.isEmpty(T.projections[D])&&_.includes(R,D))return}var L=T.defn.select().withName(_.head(P.metadata));!L||!(0,e.iV)(L.expr)||this.conceptualSchemaProxy.get(E).then(function(F){var A=M.visualAuthoringOperations.drillToDetails(V.generateGuid(),F,[L.expr],y,C);A&&(M.addCrossFilters(C,M.explorationNavigationService.getCurrentSection(),A,!1,F),M.drillToDetailsCore(y,C,A))},function(){return _.noop})}}}},g.prototype.generateDetailsTable=function(y,C,E,M){var P=this.mockVisualContainer(y),T=this.visualAuthoringOperations.drillToDetails(V.generateGuid(),C,E,null,P,M);if(T)return T.config.singleVisual},g.prototype.clear=function(){var y=this;if(this.drillToDetailsContext){p.fF.assert(function(){return 0===y.drillToDetailsContext.navigationState},"expected to be in show details mode"),this.drillToDetailsContext.navigationState=1;var C=(0,o.MY)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);p.fF.assert(function(){return C>=0},"source section not found"),this.eventBridge.publishToChannel(c.$4A,{index:C})}},g.prototype.getContext=function(){return this.drillToDetailsContext},g.prototype.setContext=function(y){var C=this;p.fF.assert(function(){return null!=y},"attempting to set a null context for drill to details service"),p.fF.assert(function(){return null==C.drillToDetailsContext},"overriding existing drill to details context"),p.fF.assert(function(){return 0===y.navigationState},"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=y},g.prototype.clearContext=function(){this.drillToDetailsContext=null},g.prototype.hasContext=function(){return!!this.drillToDetailsContext},g.prototype.getDetailsTableTargetMeasures=function(y){var C=this.mockVisualContainer(y),E=(0,b.Xf)(C);if(E&&E.defn){var M=(0,b.d$)(C,this.visualPluginService);if(!_.isEmpty(M)){for(var T=[],x=0,R=_(M).filter(function(I){return(I.kind===l.DW.Measure||I.kind===l.DW.GroupingOrMeasure)&&0!==I.joinPredicate}).map(function(I){return I.name}).value();x<R.length;x++){var L=E.projections[R[x]];if(!_.isEmpty(L))for(var A=0,O=L.all();A<O.length;A++){var N=O[A],w=E.defn.select().withName(N.queryRef);if(w&&(0,e.iV)(w.expr))return[w.expr];w&&(0,e.kb)(w.expr)&&T.push(w.expr)}}return T}}},g.prototype.mockVisualContainer=function(y){var C={name:V.generateGuid(),config:{singleVisual:y},layouts:(0,h.UR)(),filters:[]};return C.layouts.push({id:0,position:{x:0,y:0,width:0,height:0}}),C},g.prototype.onSectionChanged=function(){var y=this;if(this.drillToDetailsContext){var C=this.explorationNavigationService.getCurrentSection();switch(p.fF.assert(function(){return null!=C},"currentSection"),this.drillToDetailsContext.navigationState){case 0:p.fF.assert(function(){return C===y.drillToDetailsContext.targetSection},"expected to navigate to target section"),window.setTimeout(function(){m.selectCanvasItem(y.drillToDetailsContext.targetVisualContainer,y.selectionService),y.visibility.set(y.drillToDetailsContext.targetVisualContainer,1)},0);break;case 1:p.fF.assert(function(){return C===y.drillToDetailsContext.sourceSection},"expected to navigate to source section");var E=this.explorationNavigationService.getCurrentExploration(),M=(0,o.MY)(E,this.drillToDetailsContext.targetSection);p.fF.assert(function(){return M>=0},"target section not found");var P=(0,o.MY)(E,this.drillToDetailsContext.sourceSection),T=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(c.F$x,{targetSectionIndex:M}),window.setTimeout(function(){(0,o.MY)(y.explorationNavigationService.getCurrentExploration(),y.explorationNavigationService.getCurrentSection())===P&&m.selectCanvasItem(T,y.selectionService),y.undoRedo.clear()},0);break;default:p.fF.assertFail("unknown drill to details navigationState")}}},g.prototype.onPopOutModeChanged=function(){var y=this;if(this.drillToDetailsContext){var C=this.explorationNavigationService.getCurrentSection();p.fF.assert(function(){return null!=C},"currentSection"),C!==this.drillToDetailsContext.sourceSection&&(p.fF.assert(function(){return C===y.drillToDetailsContext.targetSection},"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}},g.prototype.drillToDetailsCore=function(y,C,E){var M=this.explorationNavigationService.getCurrentSection();if(M){var P=this.explorationNavigationService.getAllSections(),T=this.explorationSerializer.serializePage(M,1),x=this.explorationSerializer.deserializePage(T),R={name:"Drill to Details",displayName:"Drill to Details",filters:x.filters,size:x.size,visualContainers:[E],visualContainerGroups:[E],transient:!0};(0,v.gs)(R,P),this.drillToDetailsContext=new d(M,C,R,E,0),this.eventBridge.publishToChannel(c.x1m,R)}},g.prototype.addCrossFilters=function(y,C,E,M,P){var T=this.filterGenerator.getVisualContainerCrossFilters(C,y,P);if(T.dataFilters)for(var x=0,R=T.dataFilters;x<R.length;x++)this.addVisualFilters(E,R[x],P,!1);if(M){p.fF.assertValue(T.highlightFilters,"highlight filter");for(var L=0,F=T.highlightFilters;L<F.length;L++)this.addVisualFilters(E,F[L],P,!1)}},g.prototype.addVisualFilters=function(y,C,E,M){if(C&&C.filter){var P=i.convertFilterData(C,y.filters,0);i.add(y,P)}},g}();return{create:function(y,C,E,M,P,T,x,R,D,L){return new S(y,L,M,P,T,C,x,R,D,E)},createContext:function(y,C,E,M,P){return new d(y,C,E,M,P)},snapshotToContext:d.fromSnapshot}}},564467:function(Je,H,t){t.d(H,{Bo:function(){return f},nR:function(){return c},o4:function(){return e},q7:function(){return s}});var e={type:2,name:"visualCustomCommand"},c={type:2,name:"preparePersonalVisuals"},s={type:2,name:"copyVisualAsImage"},f={type:2,name:"VisualContainerAdded"}},990745:function(Je,H,t){function e(s,f){return new c(s,f)}t.d(H,{L:function(){return e}});var c=function(){function s(f,v){var b=!v||v.featureSwitches.contentAuthoringUIEnabled,h=!!f&&!!f.isGuestUser,n=h&&!(v&&v.featureSwitches.elevatedGuestsTenantEnabled),l=!(!f||void 0===f.userLicense)&&"Free"===f.userLicense();this.options={shouldSetFocus:!v||!v.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:n||!b,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:n||!b,disableSharePointEmbed:h,disableSecurePublishToWeb:h||!b,disableQRGeneration:h,disableSaveAs:n||l,disableSwitchMode:n||!b,disableAnalyzeInExcel:h,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!v&&v.featureSwitches.onObject}}return s.prototype.setCapabilities=function(f){_.merge(this.options,f)},s.prototype.getCapabilities=function(){return this.options},s}()},87055:function(Je,H,t){t.d(H,{D:function(){return l}});var e=t(1745),c=t(809395),s=t(955307),f=t(535909),v=t(787941),b=t(718025),h=t(548556),p=t(803847),n={updateUrl:!0,action:e.UBn.Unknown};function l(o,a,i,m,u,V,d,S){return new r(o,a,i,m,u,V,d,S)}var r=function(){function o(a,i,m,u,V,d,S,g){this.contextActivityService=a,this.eventBridge=i,this.selection=m,this.formFactor=u,this.telemetryService=V,this.explorationActivity=d,this.sectionsSubject=S,this.currentSectionSubject=g,v.fF.assertValue(i,"eventBridge"),v.fF.assertValue(m,"selection"),v.fF.assertValue(u,"formFactor"),this.history=[],this.sections$=S.asObservable(),this.currentSection$=g.asObservable(),d.registerExplorationNavigationService(this)}return o.prototype.registerExplorationViewModel=function(a){this.getViewModel=a},o.prototype.updateActiveSection=function(a){var i=this,m=this.getViewModel();v.fF.assertValue(m,"explorationContainer viewModel has not been initialized in explorationNavigationService");var u=m.exploration.contract;if(v.fF.assertValue(u,"exploration"),v.fF.assert(function(){return a.targetSectionIndex>=0&&a.targetSectionIndex<u.sections.length},"targetSectionIndex is out of range."),a.forceUpdate||u.activeSectionIndex!==a.targetSectionIndex){var V=null==a.clearSelection||a.clearSelection,d=a.targetSectionIndex>-1&&a.targetSectionIndex<u.sections.length,S=this.exploration.sections[a.targetSectionIndex],g=S.objectId,y=S.displayName;if(this.contextActivityService.upsertExplorationProperties({reportPageId:g,reportPageName:y}),a.parentContextActivity&&a.parentContextActivity.isRunning()&&(a.parentContextActivity.setProperty("reportPageId",g),a.parentContextActivity.setProperty("reportPageName",y)),this.changeReportPageActivity&&this.changeReportPageActivity.isRunning()&&this.changeReportPageActivity.cancel(),!this.changeReportPageActivity||!this.changeReportPageActivity.isRunning()){var C={name:"Change Report Page"};this.changeReportPageActivity=a.parentContextActivity?(0,s.zK)(a.parentContextActivity)&&a.parentContextActivity.isRunning()?a.parentContextActivity.createChildActivity(C):a.parentContextActivity:this.contextActivityService.createActivity(C)}var E=(0,c.a8)(S),M=Object.keys(E).reduce(function(P,T){return"__hidden"!==T?P+E[T]:P},0);this.changeReportPageActivity.isRunning()&&(this.changeReportPageActivity.setProperty("visualTypesAndCount",JSON.stringify(E)),this.changeReportPageActivity.setProperty("totalVisibleVisualCount",M)),a.parentContextActivity&&a.parentContextActivity.isRunning()&&(a.parentContextActivity.setProperty("visualTypesAndCount",JSON.stringify(E)),a.parentContextActivity.setProperty("totalVisibleVisualCount",M)),this.explorationActivity.changeSection(function(P){var T=i.getCurrentSection();if(a.suppressHistory||T&&!T.transient&&i.history.push({name:T.name}),d){i.selection&&!1!==V&&!_.isEmpty(i.selection.getSelectedElements())&&i.selection.clearSelection();var x=m.exploration.sections;if(!_.isEmpty(x))for(var R=x.length-1;R>=0;--R)x[R].selected=R===a.targetSectionIndex;m.sectionStatus.currentSectionNumber=a.targetSectionIndex;var D=u.sections[a.targetSectionIndex],L=null!=a.canvasLayout?a.canvasLayout:i.formFactor.getCurrentLayout();if(m.exploration.exploreCanvas=(0,p.T8)(u,D,L,a.currentZone),(null==a.clearCrossFilter||a.clearCrossFilter)&&T&&T.crossFilterSource&&(T.crossFilterSource.highlight=void 0),D){var A=P.event.info;A.width=D.size.width,A.height=D.size.height,A.displayOption=D.size.displayOption}i.goto(D,{action:a.navigationAction,newReport:a.newReport,parentActivity:P,parentContextActivity:i.changeReportPageActivity,isInitialUpdateSection:a.isInitialUpdateSection})}},function(){return i.telemetryService.startChildActivity(a.parentActivity&&a.parentActivity.event,h.Hn8,{targetSectionIndex:a.targetSectionIndex,forceUpdate:a.forceUpdate,suppressHistory:a.suppressHistory,canvasLayout:a.canvasLayout,clearSelection:V,isCancelled:!1,sectionGuid:d&&u.sections[a.targetSectionIndex].objectId})},this.changeReportPageActivity)}},o.prototype.updateExplorationActiveSectionIndex=function(a){v.fF.assertValue(a,"args"),v.fF.assertValue(a.exploration,"exploration"),v.fF.assertValue(a.section,"section");var i=a.exploration,m=(0,b.m$)(i,a.section);if(!(null!=m&&i&&i.sections&&i.sections[m].transient||(i.activeSectionIndex=m,a.suppressTelemetry))){var u=i.sections[m];this.telemetryService.logChildEvent(a.parentActivity&&a.parentActivity.event,h.Hvk,{reportId:i.reportId,reportGuid:a.reportGUID,sectionIndex:m,sectionGuid:u?u.objectId:void 0,groupObjectId:a.groupObjectId,isReadonlyGroup:a.isReadonlyGroup,permissions:a.reportPermissions,scrubUserInfo:a.scrubUserInfo,newReport:a.newReport,originalReportGuid:i.report?i.report.originalReportObjectId:void 0,originalGroupObjectId:i.report&&i.report.ownerInfo?i.report.ownerInfo.groupObjectId:void 0})}},o.prototype.goto=function(a,i){var m;v.fF.assertValue(a,"section"),this.updateSectionViewSession(),i&&i.parentContextActivity&&this.telemetryData&&(i.parentContextActivity.setProperty("reportPageViewSessionId",this.telemetryData.exsid),i.parentContextActivity.setProperty("isInitialUpdateSection",!!i.isInitialUpdateSection)),i=i?_.merge({},n,i):n,this.currentSection=a,this.currentSectionSubject.next(a),this.raiseEvent(),i.updateUrl&&this.eventBridge.publishToChannel(e.yVh,{name:a.name,displayName:a.displayName,action:i.action,newReport:i.newReport,parentActivity:i.parentActivity,parentContextActivity:i.parentContextActivity,isInitialUpdateSection:i.isInitialUpdateSection}),null!==(m=this.changeReportPageActivity)&&void 0!==m&&m.isRunning()&&this.changeReportPageActivity.setProperty("pageCreationInfo",this.getPageCreationInfo(a))},o.prototype.back=function(a){if(!_.isEmpty(this.history)){var i=this.history.pop(),m=_.findIndex(this.exploration.sections,function(u){return u.name===i.name});m<0||this.updateActiveSection({targetSectionIndex:m,forceUpdate:!1,suppressHistory:!0,parentActivity:a})}},o.prototype.loadExploration=function(a,i){if(this.telemetryData=void 0,this.exploration=a,this.currentZone=a&&i,a&&a.sections&&a.activeSectionIndex>=0){var m=a.sections[a.activeSectionIndex];this.currentSection=m,this.currentSectionSubject.next(m)}this.emitUpdatedSections(),this.raiseExplorationLoadedEvent(a)},o.prototype.startExplorationSession=function(a){a&&void 0===a.exid&&(a.exid=f.q.generateShortId(5)),this.telemetryData=a},o.prototype.updateExplorationTelemetryData=function(a){this.telemetryData||(this.telemetryData={}),_.assign(this.telemetryData,a)},o.prototype.getExplorationTelemetryData=function(){return this.telemetryData},o.prototype.getCurrentSection=function(){if(this.currentSection)return this.currentSection;var a=this.exploration;return a&&_.inRange(a.activeSectionIndex,0,a.sections.length)?a.sections[a.activeSectionIndex]:void 0},o.prototype.getSectionByName=function(a){return _.find(this.exploration.sections,function(i){return i.name===a})},o.prototype.getAllSections=function(){return this.exploration&&this.exploration.sections},o.prototype.getAllVisualContainers=function(a){return this.exploration&&this.exploration.sections?this.exploration.sections.reduce(a?function(i,m){return i.concat(m.visualContainers.filter(function(u){return u.config.singleVisual.visualType===a}))}:function(i,m){return i.concat(m.visualContainers)},[]):[]},o.prototype.getCurrentExploration=function(){return this.exploration},o.prototype.getCurrentExploreCanvas=function(){return v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().exploration.exploreCanvas},o.prototype.showExplorationMask=function(){v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!0},o.prototype.hideExplorationMask=function(){v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!1},o.prototype.getCurrentZone=function(){return this.currentZone},o.prototype.emitUpdatedSections=function(){this.sectionsSubject.next(this.getAllSections())},o.prototype.raiseEvent=function(){this.eventBridge.publishToChannel(e.wAN)},o.prototype.raiseExplorationLoadedEvent=function(a){this.eventBridge.publishToChannel(e.LE3,a)},o.prototype.updateSectionViewSession=function(){if(this.telemetryData){var a=f.q.generateShortId(5);this.telemetryData.exsid=a,this.contextActivityService.upsertExplorationProperties({reportPageViewSessionId:a})}},o.prototype.getPageCreationInfo=function(a){for(var i,m=new Set,u=0,V=a.visualContainers;u<V.length;u++){var d=V[u];d.howCreated&&m.add(d.howCreated)}return{sectionCreationType:null!==(i=a.howCreated)&&void 0!==i?i:"Default",visualCreationTypes:m}},o}()},84048:function(Je,H,t){t.d(H,{RH:function(){return L}});var e=t(226514),c=t(26526),s=t(918537),f=function(){function O(){}return O.prototype.bindEvents=function(N,w,I){var B=this,j=N.paths;if(!_.isEmpty(j))for(var W=0,U=j;W<U.length;W++){var k=U[W];k&&k.on("contextmenu",function(){return B.handleContextMenu(w)})}},O.prototype.renderSelection=function(N){},O.prototype.handleContextMenu=function(N){var w=(0,s.bt)(),I=d3.event;I.preventDefault(),(0,c.n)(I),(0,s.kW)(function(B){N.handleContextMenu(B,w)})},O}(),v=t(847444),b=t(691203),h=t(854479),p=t(318220),n=t(787941),l=t(299747),r=t(847069),o=t(731479),a=t(123694),i=t(780760),m=t(926201),u=t(832867),V=t(734287),d=t(341),S=t(266419),P=t(823344),T=t(497593),x=t(145315),R="dataViewer",D=function(){function O(N){this.visualSandbox=N}return O.prototype.reloadAdapter=function(N){var w=this;if(void 0===N&&(N=!1),this.dataViewShowing){if(N)return;this.toggleDataview(!1)}if(!r.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var B=this.buildErrorMessage({message:this.host.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(B),this.setCustomizeQuery(),void this.setCapabilities()}var j=r.DU.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(j+"status").done(function(W){if(W&&(!N||w.lastUpdateStatus!==W)){if(w.lastUpdateStatus=W,"error"===W){var U=w.buildErrorMessage({message:w.host.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:w.host.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:w.host.getLocalizedString("LearnMore"),type:"repair"});return w.container.html(U),w.setCustomizeQuery(),void w.setCapabilities()}$.getJSON(j+"pbiviz.json").done(function(k){if(n.fF.assertValue(k.capabilities,"DebugVisual - pbiviz capabilities missing"),n.fF.assertValue(k.visual&&k.visual.guid,"DebugVisual - pbiviz visual guid missing"),k.capabilities&&k.visual&&k.visual.guid){w.visualGuid!==k.visual.guid&&(w.visualGuid=k.visual.guid);var Q=w.host.locale();k=Q?(0,P.zQ)(k,Q):k;var te=(0,S.S)(k,Q);(0,T.L)(te),p.L[te.name]=te,w.setCustomizeQuery(te.customizeQuery),w.setCapabilities(te.capabilities),w.loadVisual(te)}})}}).fail(function(){w.toggleAutoReload(!1);var W=w.buildErrorMessage({message:w.host.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:w.host.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:w.host.getLocalizedString("LearnMore"),type:"error"});w.container.html(W),w.setCustomizeQuery(),w.setCapabilities()}).always(function(){w.statusLoading=!1}))},O.prototype.loadVisual=function(N){var w=this,I=N.name!==R;this.promiseFactory=this.host.promiseFactory(),this.visualContainer.attr("class","visual-"+N.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject();var B=this.adapterPromise=(0,d.z)({visualPlugin:N,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:I},visualSandbox:this.visualSandbox,isDebugVisual:!0});this.adapter&&this.adapter.destroy(),B.then(function(j){if(w.adapter=j,w.sandbox=w.adapter.sandbox,j.init&&j.init(w.visualInitOptions),j.update&&w.lastUpdateOptions){var W=w.lastUpdateOptions;W.type=x.EP.All,j.update(W)}})},O.prototype.toggleAutoReload=function(N){var w=this;this.autoReloadInterval&&!0!==N?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==N&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=setInterval(function(){return w.reloadAdapter(!0)},O.autoReloadPollTime))},O.prototype.toggleDataview=function(N){this.dataViewShowing&&!0!==N?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==N&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(p.L[R]))},O.prototype.flatten=function(N){if(N instanceof Array){for(var w=[],I=0,B=N.length;I<B;I++)w[I]=this.flatten(N[I]);return w}if("object"==typeof N){for(I in w={},I=void 0,N)w[I]=this.flatten(N[I]);return w}return N},O.prototype.createAndClickAnchorTagWithJsonData=function(N){var w=document.createElement("a");w.href="data:"+N,w.download="dataViews.json",w.click()},O.prototype.exportDataViews=function(){var N=this.flatten(this.lastUpdateOptions.dataViews),w="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(N));this.createAndClickAnchorTagWithJsonData(w)},O.prototype.createRefreshBtn=function(){var N=this,w=this.host.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),I=this.refreshBtn=$('<i title="'.concat(w,'" class="controlBtn glyphicon pbi-glyph-refresh"></i>'));return I.on("click",function(){return N.reloadAdapter()}),I},O.prototype.createAutoRefreshBtn=function(){var N=this,w=this.host.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),I=this.autoRefreshBtn=$('<i title="'.concat(w,'" class="controlBtn glyphicon pbi-glyph-circle-play"></i>'));return I.on("click",function(){return N.toggleAutoReload()}),I},O.prototype.createDataBtn=function(){var N=this,w=this.host.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),I=this.dataBtn=$('<i title="'.concat(w,'" class="controlBtn glyphicon pbi-glyph-seedata"></i>'));return I.on("click",function(){return N.toggleDataview()}),I},O.prototype.createHelpBtn=function(){var N=this.host.getLocalizedString("DebugVisual_Help_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2245690",'" target="_blank"><i title="').concat(N,'" class="controlBtn glyphicon pbi-glyph-question"></i></a>'))},O.prototype.createSmilyBtn=function(){var N=this.host.getLocalizedString("DebugVisual_Feedback_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2247381",'" target="_blank"><i title="').concat(N,'" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>'))},O.prototype.createExportDataViewsBtn=function(){var N=this,w=this.host.getLocalizedString("DebugVisual_Export_Data_Button_Title"),I=$('<i title="'.concat(w,'" class="controlBtn glyphicon pbi-glyph-export"></i>'));return I.on("click",function(){return N.exportDataViews()}),I},O.prototype.buildControls=function(){var N=$('<div class="debugVisual-controlsContainer"></div>');return N.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),N},O.prototype.buildErrorMessage=function(N){return _.template(O.errorMessageTemplate)(N)},O.prototype.setCapabilities=function(N){void 0===N&&(N=O.defaultCapabilities),!_.isEqual(N,p.L.debugVisual.capabilities)&&(p.L.debugVisual.capabilities=N,this.host.visualCapabilitiesChanged())},O.prototype.setCustomizeQuery=function(N){void 0===N&&(N=function(I){return null}),p.L.debugVisual.customizeQuery=N},O.prototype.init=function(N){this.host=N.host;var w=this.container=$('<div class="debugVisualContainer"></div>'),I=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,w.append(I),N.element.append(w),(this.visualInitOptions=N).element=I,this.host.setToolbar(this.buildControls()),this.reloadAdapter()},O.prototype.update=function(N){if(this.visualContainer){if(N.viewport){this.visualInitOptions.viewport=N.viewport;var I=N.viewport.width;this.visualContainer.height(N.viewport.height).width(I)}this.lastUpdateOptions=N,this.adapter&&this.adapter.update&&this.adapter.update(N)}},O.prototype.enumerateObjectInstances=function(N){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(N):[]},O.prototype.enumerateObjectInstancesAsync=function(N){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(N):this.promiseFactory.resolve(this.enumerateObjectInstances(N))},O.prototype.enumerateObjectRepetitionAsync=function(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])},O.prototype.getFormattingModel=function(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()},O.prototype.getFormattingModelAsync=function(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},O.prototype.getSubSelectionStyles=function(N){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(N)},O.prototype.getSubSelectionStylesAsync=function(N){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(N):this.promiseFactory.resolve(this.getSubSelectionStyles(N))},O.prototype.getSubSelectionShortcuts=function(N,w){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(N,w)},O.prototype.getSubSelectionShortcutsAsync=function(N,w){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(N,w):this.promiseFactory.resolve(this.getSubSelectionShortcuts(N,w))},O.prototype.getSubSelectables=function(N){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(N)},O.prototype.getSubSelectablesAsync=function(N){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(N):this.promiseFactory.resolve(this.getSubSelectables(N))},O.prototype.onClearSelection=function(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()},O.prototype.onRestoreSelection=function(N){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(N)},O.prototype.destroy=function(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null},O.prototype.visualHasMethod=function(N){var w;return null===(w=this.adapter)||void 0===w?void 0:w.visualHasMethod(N)},O.capabilities=O.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:x.DW.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},O.autoReloadPollTime=300,O.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',O}();function L(O,N,w,I,B){return new F(O,w,N,new A(O,I,B))}(0,u.G)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,V.V)("DebugVisual_ToolTip"),capabilities:D.capabilities,create:function(){return new D},createES6:function(){return Promise.resolve(new D)},customizeQuery:function(N){return null},systemVisual:!0});var F=function(){function O(N,w,I,B){var j=this;this.asyncFeatureSwitchService=N,this.resourceLoader=w,this.promiseFactory=I,n.fF.assertValue(N,"asyncFeatureSwitchService"),n.fF.assertValue(I,"promiseFactory"),this.resourceLoader=w,this.promiseFactory=I,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new a.ZM,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(W){return B=B||new A(N),j.getConvertibleCoreVisualTypeNames(W)}).then(function(W){for(var U in j.globalConvertibleVisualTypes=W,p.L)j.storage.loadPlugin(U,B.getPlugin(U))})}return O.prototype.getConvertibleCoreVisualTypeNames=function(N){var w=[p.L.barChart.name,p.L.columnChart.name,p.L.clusteredBarChart.name,p.L.clusteredColumnChart.name,p.L.hundredPercentStackedBarChart.name,p.L.hundredPercentStackedColumnChart.name,p.L.lineChart.name,p.L.areaChart.name,p.L.stackedAreaChart.name,p.L.lineStackedColumnComboChart.name,p.L.lineClusteredColumnComboChart.name,p.L.ribbonChart.name,p.L.waterfallChart.name,p.L.funnel.name,p.L.scatterChart.name,p.L.pieChart.name,p.L.donutChart.name,p.L.treemap.name,p.L.map.name,p.L.filledMap.name];N&&N.shapeMapVisualEnabled&&w.push(p.L.shapeMap.name),(!N||!N.hideAzureMapVisual)&&w.push(p.L.azureMap.name),w.push.apply(w,[p.L.gauge.name,p.L.card.name,p.L.multiRowCard.name,p.L.kpi.name,p.L.slicer.name]),N&&N.pivotTableVisualEnabled?(w.push(p.L.tableEx.name),w.push(p.L.pivotTable.name)):(w.push(p.L.table.name),w.push(p.L.matrix.name)),N&&N.scriptVisualEnabled&&N.scriptVisualAuthoringEnabled&&(w.push(p.L.scriptVisual.name),w.push(p.L.pythonVisual.name)),N&&N.keyDrivers&&w.push(p.L.keyDriversVisual.name),w.push(p.L.decompositionTreeVisual.name),N&&N.qnaVisual&&w.push(p.L.qnaVisual.name),N&&N.daxTransformEnabled&&!(N.aiNarrativesSingleEntryPoint&&N.aiNarrativesVisual)&&w.push(p.L.textbox.name),N&&N.aiNarrativesVisual&&w.push(p.L.aiNarratives.name),N&&N.scorecardVisual&&w.push(p.L.scorecard.name),N&&N.rdlNativeVisual&&w.push(p.L.rdlVisual.name),N&&N.newCard&&w.push(p.L.cardVisual.name),N&&N.buttonSlicer&&N.buttonSlicerAuthoring&&w.push(p.L.advancedSlicerVisual.name),r.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&w.push("debugVisual");var B=this.promiseFactory.defer();return B.resolve(w),B.promise},O.prototype.getNonConvertibleCoreVisualTypeNames=function(){return[p.L.actionButton.name,p.L.bookmarkNavigator.name,p.L.image.name,p.L.textbox.name,p.L.pageNavigator.name,p.L.shape.name]},O.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},O.prototype.getConvertibleVisuals=function(){for(var N=this,w=[],I=0,B=this.globalConvertibleVisualTypes;I<B.length;I++){var j=B[I];this.storage.hasPlugin(j)&&!_.includes(w,j)&&w.push(j)}for(var W=0,U=this.trustedConvertibleVisualTypes;W<U.length;W++){var k=U[W];this.storage.hasPlugin(k)&&!_.includes(w,k)&&w.push(k)}for(var Q=0,te=this.customConvertibleVisualTypes;Q<te.length;Q++){var ee=te[Q];this.storage.hasPlugin(ee)&&!_.includes(w,ee)&&w.push(ee)}return w.map(function(J){return N.storage.getLoadedPlugin(J)})},O.prototype.getConvertibleVisualsAsync=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return[4,this.ensureBuiltInPlugins()];case 1:return N.sent(),[2,this.getConvertibleVisuals()]}})})},O.prototype.getCoreVisualTypes=function(){var N=(0,e.__spreadArray)((0,e.__spreadArray)([],this.getNonConvertibleCoreVisualTypeNames(),!0),this.globalConvertibleVisualTypes,!0);return _.uniq(N)},O.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},O.prototype.ensureTrustedVisualPlugins=function(N){(0,a.Os)(this.storage,N);for(var w=0,I=N;w<I.length;w++)this.addTrustedConvertibleVisualType(I[w].name)},O.prototype.ensurePlugins=function(N,w){var I=this;n.fF.assertValue(this.promiseFactory,"promiseFactory");var B=[];if(N&&N.length)for(var j=function(ee){if((0,m.JZ)(ee)){var J=W.ensurePlugin(ee,w).then(function(){return I.addCustomConvertibleVisualType(ee.name)});B.push(J)}},W=this,U=0,k=N;U<k.length;U++)j(k[U]);return this.promiseFactory.allSettled(B)},O.prototype.ensurePlugin=function(N,w){return(0,a.wl)(this.storage,this.promiseFactory,this.resourceLoader,N,w)},O.prototype.addTrustedConvertibleVisualType=function(N){this.trustedConvertibleVisualTypes.indexOf(N)<0&&this.trustedConvertibleVisualTypes.push(N)},O.prototype.addCustomConvertibleVisualType=function(N){this.customConvertibleVisualTypes.indexOf(N)<0&&this.customConvertibleVisualTypes.push(N)},O.prototype.capabilities=function(N){var w=this.getPlugin(N);return w?w.capabilities:void 0},O.prototype.removeAllCustomVisuals=function(){for(var N=0,w=this.customConvertibleVisualTypes;N<w.length;N++)this.storage.unloadPlugin(w[N]);this.customConvertibleVisualTypes=[]},O.prototype.removePlugin=function(N){this.getPlugin(N)&&(this.storage.unloadPlugin(N),_.remove(this.customConvertibleVisualTypes,function(I){return I===N}))},O.prototype.getTelemetryHostInformation=function(){return{name:"Exploration"}},O.prototype.isCustomVisual=function(N){return(0,o.vh)(this.getPlugin(N),N)},O.prototype.isScriptVisual=function(N){return(0,o.ww)(this.getPlugin(N))},O.prototype.isScriptVisualQueryable=function(N){return(0,o.Se)(N,this.asyncFeatureSwitchService.featureSwitches)},O.prototype.isLightWeightRenderingVisual=function(N){return(0,o.vt)(this.getPlugin(N))},O.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!0}},O.prototype.getCustomizeConvertTo=function(N,w){var I=this.getPlugin(w);return I.getCustomizeConvertTo?I.getCustomizeConvertTo(N,w,this.asyncFeatureSwitchService.featureSwitches):void 0},O.prototype.loadPluginByNameIfAny=function(N){if(!this.getPlugin(N)){if(this.storage.hasPlugin(N))return void this.storage.loadPlugin(N);p.L[N]&&this.storage.loadPlugin(N,p.L[N])}},O.prototype.getPlugin=function(N){return this.storage.getLoadedPlugin(N)},O.prototype.getStorage=function(){return this.storage},O}(),A=function(){function O(N,w,I){this.featureSwitchService=N,this.mapControlFactory=w,this.visualSandbox=I,n.fF.assertValue(N,"featureSwitchService")}return O.prototype.getPlugin=function(N){var I,w=this,B=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},j=function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(N){case p.L.barChart.name:return(0,i.i8)(p.L.barChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:6,isScrollable:!0,dataPointLassoSelect:!0,animator:new U,tooltipsEnabled:!0,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.card.name:return(0,i.i8)(p.L.card,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("cardModule").then(t.bind(t,870930))];case 1:return[2,(0,U.sent().createCard)({isScrollable:!0,animator:new v.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:B})]}})})});case p.L.cardVisual.name:return(0,i.i8)(p.L.cardVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,97040))];case 1:return[2,new(0,U.sent().CardVisual)({isScrollable:!0,animator:new v.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:B})]}})})});case p.L.clusteredBarChart.name:return(0,i.i8)(p.L.clusteredBarChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:5,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.clusteredColumnChart.name:return(0,i.i8)(p.L.clusteredColumnChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:3,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.columnChart.name:return(0,i.i8)(p.L.columnChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:4,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.donutChart.name:return(0,i.i8)(p.L.donutChart,function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return W=Q.sent().DonutChart,[4,t.e("donutChartAnimator").then(t.bind(t,730410))];case 2:return U=Q.sent().WebDonutChartAnimator,[4,t.e("donutChartBehaviors").then(t.bind(t,683557))];case 3:return k=Q.sent().DonutChartWebBehavior,[2,new W({animator:new U,isScrollable:!0,tooltipsEnabled:!0,behavior:new k})]}})})});case p.L.funnel.name:return(0,i.i8)(p.L.funnel,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,819239))];case 1:return W=Q.sent().FunnelChart,[4,t.e("funnelChartAnimator").then(t.bind(t,333898))];case 2:return U=Q.sent().WebFunnelAnimator,[4,t.e("funnelBehaviors").then(t.bind(t,368871))];case 3:return k=Q.sent().FunnelWebBehavior,[2,new W({animator:new U,behavior:new k,tooltipsEnabled:!0})]}})})});case p.L.gauge.name:return(0,i.i8)(p.L.gauge,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("gauge").then(t.bind(t,80168))];case 1:return[2,new(0,U.sent().Gauge)({animator:new v.r5,tooltipsEnabled:!0,behavior:new f},B)]}})})});case p.L.kpi.name:return(0,i.i8)(p.L.kpi,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("kpiStatusWithHistory").then(t.bind(t,966035))];case 1:return[2,new(0,U.sent().KPIStatusWithHistory)({interactivityEnabled:!0,featureSwitches:B})]}})})});case p.L.hundredPercentStackedBarChart.name:return(0,i.i8)(p.L.hundredPercentStackedBarChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:7,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.hundredPercentStackedColumnChart.name:return(0,i.i8)(p.L.hundredPercentStackedColumnChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:8,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.lineChart.name:return(0,i.i8)(p.L.lineChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=Q.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 2:return U=Q.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,410059))];case 3:return k=Q.sent().LineChartWebBehaviorFactory,[2,new W({chartType:0,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new U([new k],B),featureSwitches:B})]}})})});case p.L.areaChart.name:return(0,i.i8)(p.L.areaChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=Q.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 2:return U=Q.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,410059))];case 3:return k=Q.sent().LineChartWebBehaviorFactory,[2,new W({chartType:1,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new U([new k],B),featureSwitches:B})]}})})});case p.L.stackedAreaChart.name:return(0,i.i8)(p.L.stackedAreaChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=Q.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 2:return U=Q.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,410059))];case 3:return k=Q.sent().LineChartWebBehaviorFactory,[2,new W({chartType:2,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new U([new k],B),featureSwitches:B})]}})})});case p.L.lineClusteredColumnComboChart.name:return(0,i.i8)(p.L.lineClusteredColumnComboChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q,te;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=ee.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=ee.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=ee.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=ee.sent().ColumnChartWebBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,410059))];case 5:return te=ee.sent().LineChartWebBehaviorFactory,[2,new W({chartType:12,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q,new te],B),featureSwitches:B})]}})})});case p.L.lineStackedColumnComboChart.name:return(0,i.i8)(p.L.lineStackedColumnComboChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q,te;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=ee.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=ee.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=ee.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=ee.sent().ColumnChartWebBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,410059))];case 5:return te=ee.sent().LineChartWebBehaviorFactory,[2,new W({chartType:13,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q,new te],B),featureSwitches:B})]}})})});case p.L.multiRowCard.name:return(0,i.i8)(p.L.multiRowCard,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U;return(0,e.__generator)(this,function(k){switch(k.label){case 0:return[4,t.e("multiRowCard").then(t.bind(t,748511))];case 1:return W=k.sent().MultiRowCard,[4,t.e("multiRowCardBehavior").then(t.bind(t,810328))];case 2:return U=k.sent().MultiRowCardBehavior,[2,new W({interactivityEnabled:!0,behavior:new U})]}})})});case p.L.pieChart.name:return(0,i.i8)(p.L.pieChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return W=Q.sent().DonutChart,[4,t.e("donutChartAnimator").then(t.bind(t,730410))];case 2:return U=Q.sent().WebDonutChartAnimator,[4,t.e("donutChartBehaviors").then(t.bind(t,683557))];case 3:return k=Q.sent().DonutChartWebBehavior,[2,new W({sliceWidthRatio:0,animator:new U,isScrollable:!0,tooltipsEnabled:!0,behavior:new k})]}})})});case p.L.ribbonChart.name:return(0,i.i8)(p.L.ribbonChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=te.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return U=te.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 3:return k=te.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,456399))];case 4:return Q=te.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:9,isScrollable:!0,tooltipsEnabled:!0,animator:new U,behaviorFactory:new k([new Q],B),featureSwitches:B})]}})})});case p.L.scatterChart.name:return(0,i.i8)(p.L.scatterChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=Q.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 2:return U=Q.sent().CartesianChartBehaviorFactory,[4,t.e("scatterChartBehaviors").then(t.bind(t,414431))];case 3:return k=Q.sent().ScatterChartWebBehaviorFactory,[2,new W({chartType:10,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new U([new k],B),featureSwitches:B})]}})})});case p.L.treemap.name:return(0,i.i8)(p.L.treemap,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("treemap").then(t.bind(t,80062))];case 1:return W=Q.sent().Treemap,[4,t.e("treemapAnimator").then(t.bind(t,328630))];case 2:return U=Q.sent().WebTreemapAnimator,[4,t.e("treemapBehaviors").then(t.bind(t,754113))];case 3:return k=Q.sent().TreemapWebBehavior,[2,new W({animator:new U,isScrollable:!0,behavior:new k,tooltipsEnabled:!0,cartesianConditionalFormatting:B.cartesianConditionalFormatting,dataPointLassoSelect:!0})]}})})});case p.L.filterSlicer.name:return(0,i.i8)(p.L.filterSlicer,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("slicer").then(t.bind(t,817174))];case 1:return[2,new(0,U.sent().Slicer)({lockKeyboardNavigation:!1,featureSwitches:B})]}})})});case p.L.accessibleTable.name:return(0,i.i8)(p.L.accessibleTable,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("accessibleTable").then(t.bind(t,528621))];case 1:return[2,new(0,U.sent().AccessibleTable)]}})})});case p.L.waterfallChart.name:return(0,i.i8)(p.L.waterfallChart,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U,k;return(0,e.__generator)(this,function(Q){switch(Q.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return W=Q.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,997877))];case 2:return U=Q.sent().CartesianChartBehaviorFactory,[4,t.e("waterfallChart.behavior").then(t.bind(t,436508))];case 3:return k=Q.sent().WaterfallChartWebBehaviorFactory,[2,new W({chartType:11,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new U([new k],B),featureSwitches:B})]}})})});case p.L.map.name:return(0,i.i8)(p.L.map,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U;return(0,e.__generator)(this,function(k){switch(k.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return W=k.sent().Map,[4,t.e("mapBehaviors").then(t.bind(t,394301))];case 2:return U=k.sent().MapBehavior,[2,new W({behavior:new U,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case p.L.filledMap.name:return(0,i.i8)(p.L.filledMap,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U;return(0,e.__generator)(this,function(k){switch(k.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return W=k.sent().Map,[4,t.e("mapBehaviors").then(t.bind(t,394301))];case 2:return U=k.sent().MapBehavior,[2,new W({filledMap:!0,behavior:new U,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:B&&B.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case p.L.azureMap.name:return(0,i.i8)(p.L.azureMap,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U;return(0,e.__generator)(this,function(k){switch(k.label){case 0:return[4,t.e("azureMap").then(t.bind(t,720748))];case 1:return W=k.sent().AzureMap,[4,t.e("azureMapBehaviors").then(t.bind(t,61897))];case 2:return U=k.sent().AzureMapBehavior,[2,new W({behavior:new U,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case p.L.shape.name:return(0,i.i8)(p.L.shape,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("shape").then(t.bind(t,425658))];case 1:return[2,new(0,U.sent().Shape)]}})})});case p.L.actionButton.name:return(0,i.i8)(p.L.actionButton,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("actionButton").then(t.bind(t,555972))];case 1:return[2,new(0,U.sent().ActionButton)]}})})});case p.L.shapeMap.name:return(0,i.i8)(p.L.shapeMap,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){var W,U;return(0,e.__generator)(this,function(k){switch(k.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,693363))];case 1:return W=k.sent().ShapeMap,[4,t.e("shapeMapBehaviors").then(t.bind(t,926448))];case 2:return U=k.sent().ShapeMapBehavior,[2,new W({behavior:new U,tooltipsEnabled:!0})]}})})});case p.L.slicer.name:return(0,i.i8)(p.L.slicer,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("slicer").then(t.bind(t,817174))];case 1:return[2,new(0,U.sent().Slicer)({featureSwitches:B,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})]}})})});case p.L.advancedSlicerVisual.name:return(0,i.i8)(p.L.advancedSlicerVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("advancedSlicer").then(t.bind(t,184624))];case 1:return[2,(0,U.sent().createAdvancedSlicer)({featureSwitches:B,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})]}})})});case p.L.matrix.name:return(0,i.i8)(p.L.matrix,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("matrix").then(t.bind(t,50039))];case 1:return[2,new(0,U.sent().Matrix)]}})})});case p.L.table.name:return(0,i.i8)(p.L.table,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("table").then(t.bind(t,180939))];case 1:return[2,new(0,U.sent().Table)]}})})});case p.L.pivotTable.name:return(0,i.i8)(p.L.pivotTable,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,911025))];case 1:return[2,new(0,U.sent().PivotTable)((0,b.DH)(),B)]}})})});case p.L.tableEx.name:return(0,i.i8)(p.L.tableEx,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("tableEx").then(t.bind(t,453890))];case 1:return[2,new(0,U.sent().TableEx)((0,h.DH)(),B)]}})})});case p.L.scriptVisual.name:return(0,i.i8)(p.L.scriptVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,378791))];case 1:return[2,new(0,U.sent().ScriptVisual)]}})})});case p.L.pythonVisual.name:return(0,i.i8)(p.L.pythonVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,378791))];case 1:return[2,new(0,U.sent().ScriptVisual)]}})})});case null===(I=p.L.debugVisual)||void 0===I?void 0:I.name:return(0,i.i8)(p.L.debugVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(W){return[2,new D(this.visualSandbox)]})})});case p.L.textbox.name:return(0,i.i8)(p.L.textbox,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("textbox").then(t.bind(t,772849))];case 1:return[2,new(0,U.sent().Textbox)({supportsNarrativeExpressions:B.daxTransformEnabled,supportsFormattingChangeIndication:!0})]}})})});case p.L.keyDriversVisual.name:return(0,i.i8)(p.L.keyDriversVisual,function(W){return W.module.createAnalysisVisual()},B,void 0);case p.L.decompositionTreeVisual.name:return(0,i.i8)(p.L.decompositionTreeVisual,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,231966))];case 1:return[2,new(0,U.sent().DecompositionTree)]}})})});case p.L.qnaVisual.name:return(0,i.i8)(p.L.qnaVisual,function(W){return W.module.createQnaVisual()},B,void 0);case p.L.aiNarratives.name:return(0,i.i8)(p.L.aiNarratives,j,B,function(){return(0,e.__awaiter)(w,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,t.e("aiNarratives").then(t.bind(t,722734))];case 1:return[2,new(0,U.sent().AINarratives)]}})})});default:return(0,l.ED)(p.L[N])}},O}()},754504:function(Je,H,t){function e(){return new c(150,150)}t.d(H,{Z:function(){return e}});var c=function(){function s(f,v){this.emptySpaceMinWidth=f,this.emptySpaceMinHeight=v}return s.prototype.getEmptySpaces=function(f,v){for(var b=this.getNonOverlapingRects(f,v),p=[],n=0,l=this.filterWithMinimumWidth(b);n<l.length;n++){var o=this.extendRect(l[n],b);o.height>=this.emptySpaceMinHeight&&p.push(o)}return p},s.prototype.getNonOverlapingRects=function(f,v){if(!v.length)return[];for(var b=[f],h=0,p=v;h<p.length;h++){for(var n=p[h],l=[],r=0,o=b;r<o.length;r++)l=l.concat(this.splitRectangleOnIntersection(o[r],n));b=l}return b},s.prototype.getIntersectingRectangle=function(f,v){var b=Math.max(f.x,v.x),h=Math.min(f.x+f.width,v.x+v.width),p=Math.max(f.y,v.y),n=Math.min(f.y+f.height,v.y+v.height);return b<=h&&p<=n?{x:b,y:p,width:h-b,height:n-p}:null},s.prototype.extendRect=function(f,v){for(var h,b=!1,p=0,n=v;p<n.length;p++){var l=n[p];if(l!==f){var r=!1,o=!1;if(this.doIntersect(l,f)&&(r=l.y+l.height===f.y,o=l.y===f.y+f.height),!(l.width<f.width))if(o)(i=this.getIntersectingRectangle(a={x:f.x,y:f.y,width:f.width,height:f.height+l.height},l))&&i.width===a.width&&(b=!0,h=a);else if(r){var a,i;(i=this.getIntersectingRectangle(a={x:f.x,y:l.y,width:f.width,height:f.height+l.height},l))&&i.width===a.width&&(b=!0,h=a)}}}return b?this.extendRect(h,v):f},s.prototype.doIntersect=function(f,v){return!(v.x>f.x+f.width||v.x+v.width<f.x||v.y>f.y+f.height||v.y+v.height<f.y)},s.prototype.filterWithArea=function(f){for(var v=[],b=0,h=f;b<h.length;b++){var p=h[b];p.width>0&&p.height>0&&v.push(p)}return v},s.prototype.filterWithMinimumWidth=function(f){for(var v=[],b=0,h=f;b<h.length;b++){var p=h[b];p.width>=this.emptySpaceMinWidth&&v.push(p)}return v},s.prototype.splitRectangleOnIntersection=function(f,v){var b=this.getIntersectingRectangle(f,v);return b?this.filterWithArea([{x:f.x,y:f.y,width:f.width,height:b.y-f.y},{x:f.x,y:b.y+b.height,width:f.width,height:f.y+f.height-(b.y+b.height)},{x:f.x,y:b.y,width:b.x-f.x,height:b.height},{x:b.x+b.width,y:b.y,width:f.x+f.width-(b.x+b.width),height:b.height}]):[f]},s}()},987260:function(Je,H,t){t.d(H,{d:function(){return a}});var e=t(226514),c=t(787941),s=t(144900),f=t(734287),v=t(44615),b=t(597098),h=t(374952),p=t(548556),n=function(){return function(u,V,d){for(var S=[],g=3;g<arguments.length;g++)S[g-3]=arguments[g];c.fF.assertValue(V,"nameResourceKey"),c.fF.assertValue(d,"locService"),this.kind=u,this.name=d.format(V,S)}}(),l=function(m){function u(V){return m.call(this,void 0,"ShowValueAs_Calculation_None",V)||this}return(0,e.__extends)(u,m),u}(n),r=function(m){function u(V){return m.call(this,0,"ShowValueAs_Calculation_PercentOfGrandTotal",V)||this}return(0,e.__extends)(u,m),u}(n),o=function(m){function u(V,d,S){var g=m.call(this,1,"ShowValueAs_Calculation_PercentOfRoleTotal",V,S)||this;return g.roles=d,g}return(0,e.__extends)(u,m),u}(n);function a(m,u,V,d,S){return new i(m,V,d,S)}var i=function(){function m(u,V,d,S){this.localizationService=u,this.telemetryService=V,this.visualAuthoring=d,this.visualPlugin=S}return m.prototype.createShowValueAsMenuItems=function(u,V,d){c.fF.assertValue(u,"expr"),c.fF.assertValue(V,"schema"),c.fF.assertValue(d,"visualType");var S=(0,v.J1)((0,b.Q)(u));if(!V.schema(S).capabilities.supportsScopedEval)return[];var g=[];if(this.aggregateSupportsShowValueAs(u,V)){var y=new l(this.localizationService);g.push(this.showValueAsMenuItemBuilder(y));var C=new r(this.localizationService);g.push(this.showValueAsMenuItemBuilder(C));var E=this.visualPlugin.capabilities(d),M=E&&E.dataRoleTotals;if(!_.isEmpty(M))for(var P=0,T=M;P<T.length;P++){var x=T[P],R=new o(this.localizationService,x.roles,(0,f.G)(x.displayName,this.localizationService));g.push(this.showValueAsMenuItemBuilder(R))}}return g},m.prototype.applyShowValueAs=function(u,V,d){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(g){switch(g.label){case 0:return c.fF.assertValue(u,"context"),c.fF.assertValue(V,"original"),c.fF.assertValue(d,"target"),[4,this.visualAuthoring.applyShowValueAs(u,V,d)];case 1:return g.sent()&&this.telemetryService.logEvent(p.iZX,{original:this.showValueAsKindToTelemetryId(V.kind),target:this.showValueAsKindToTelemetryId(d.kind)}),[2]}})})},m.prototype.showValueAsMenuItemBuilder=function(u){var V={type:0};return V.key={action:32,showValueAs:u},V.text=u.name,V},m.prototype.aggregateSupportsShowValueAs=function(u,V){var d=u.getMetadata(V);return d&&d.type&&d.type.numeric&&(0,h.k)(u)},m.prototype.showValueAsKindToTelemetryId=function(u){switch(u){case void 0:return"None";case 0:return"PercentOfGrandTotal";case 1:return"PercentOfRoleTotal"}c.fF.assertFail("Could not convert showValueAsKind "+u+" to a telemetry ID")},m}()},134990:function(Je,H,t){t.d(H,{$G:function(){return U},HK:function(){return re},IX:function(){return W},J_:function(){return He},TM:function(){return te},Ue:function(){return P},XU:function(){return N},Yd:function(){return L},Ys:function(){return oe},ab:function(){return M},dl:function(){return Te},eA:function(){return E},ft:function(){return Ce},gI:function(){return pe},gM:function(){return ee},il:function(){return de},oT:function(){return x},of:function(){return D},ok:function(){return R},tZ:function(){return Be},uF:function(){return j},x0:function(){return Q}});var e=t(226514),c=t(456535),s=t(273139),f=t(1745),v=t(555161),b=t(809395),h=t(35801),p=t(735006),n=t(787941),l=t(144900),r=t(725182),o=t(989516),a=t(281469),i=t(548556),m=t(226278),u=t(483981),V=t(564467),d=t(801561),S=t(665147),g=t(55152),y=t(318220),C=window,E=function(Se){function Pe(ue){var ve=Se.call(this,ue.titleKey)||this;return ve.visualCommandConfig=ue,ve}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.visualCommandConfig.executeFn()]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.visualCommandConfig.isVisibleFn()]})})},Pe}(d.V),M=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K){var Ne=Se.call(this,Ee||"DrillDown",ve,"pbi-glyph-drilldowndisabled",K&&K.drill)||this;return Ne.visualContainer=ue,Ne.roles=xe,Ne.dataSources=ie,Ne.drill=Fe,Ne.visualAuthoring=at,Ne.runningVisual=We,Ne.contextActivityService=Oe,Ne.source=Ze,Ne}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return ue=le(this.visualContainer.name,this.contextActivityService,"DrillDown",this.source),_.isEmpty(this.selectors)?(n.fF.assertFail("No selectors are available for drilling."),ue.reject(),[2]):(n.fF.assertValue(this.dataSources,"dataSources service is not provided."),n.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),[4,this.visualAuthoring.drillDown(this.selectors,this.visualContainer,this.dataSources.get(),_.head(this.roles))]);case 1:return xe.sent()?ue.resolve():ue.reject(),[2]}})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie;return(0,e.__generator)(this,function(Fe){switch(Fe.label){case 0:return(ue=_.isEmpty(this.selectors))?[3,2]:[4,Se.prototype.isVisible.call(this)];case 1:ue=!Fe.sent(),Fe.label=2;case 2:return ue?[2,!1]:(ve=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),xe=(0,r.yE)(ve,4),ie=(0,r.yE)(ve,2),[2,xe||ie])}})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return ve=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(xe=ve)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:xe=ie.sent(),ie.label=2;case 2:return[2,xe]}})})},Pe}(d.V),P=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,Ze||"DrillUp",void 0,"pbi-glyph-drillup",Ee&&Ee.drill)||this;return K.visualContainer=ue,K.roles=xe,K.drill=ie,K.visualAuthoring=Fe,K.runningVisual=at,K.contextActivityService=We,K.source=Oe,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"DrillUp",this.source),this.visualAuthoring.drillUp(_.head(this.roles),this.visualContainer),ue.resolve(),[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return xe.sent()?(ue=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,r.yE)(ue,1)]):[2,!1]}})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return ve=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(xe=ve)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:xe=ie.sent(),ie.label=2;case 2:return[2,xe]}})})},Pe}(d.V),T=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze){var Ee=Se.call(this,ue,void 0,void 0,Ze&&Ze.drill)||this;return Ee.visualContainer=ve,Ee.roles=xe,Ee.drillDirection=ie,Ee.visualAuthoring=Fe,Ee.runningVisual=at,Ee.contextActivityService=We,Ee.source=Oe,Ee}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"DrillDownLevel"===this.defaultTitleKey?"DrillDownLevelUngrouped":"DrillDownLevelGrouped",this.source),this.visualAuthoring.drillDownLevel(_.head(this.roles),this.visualContainer,this.drillDirection),ue.resolve(),[2]})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return ve=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(xe=ve)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:xe=ie.sent(),ie.label=2;case 2:return[2,xe]}})})},Pe}(d.V),x=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"DrillDownLevel",ue,ve,3,xe,Fe,at,We,Oe)||this;return Ze.drill=ie,Ze.runningVisual=Fe,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return xe.sent()?(ue=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,r.yE)(ue,4)]):[2,!1]}})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return ve=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(xe=ve)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:xe=ie.sent(),ie.label=2;case 2:return[2,xe]}})})},Pe}(T),R=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"DrillDownLevelGrouped",ue,ve,2,xe,Fe,at,We,Oe)||this;return Ze.drill=ie,Ze.runningVisual=Fe,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return xe.sent()?(ue=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,r.yE)(ue,2)]):[2,!1]}})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return ve=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(xe=ve)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:xe=ie.sent(),ie.label=2;case 2:return[2,xe]}})})},Pe}(T),D=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,"DataPointTable_Show",xe,void 0,Ee&&Ee.drill)||this;return K.visualContainer=ue,K.explorationCapabilities=ve,K.drill=ie,K.dataSources=Fe,K.drillToDetails=at,K.runningVisual=We,K.contextActivityService=Oe,K.source=Ze,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){return ue=le(this.visualContainer.name,this.contextActivityService,"DrillToDetails",this.source),_.isEmpty(this.selectors)?(n.fF.assertFail("No selectors are available for drilling."),ue.reject(),[2]):(n.fF.assertValue(this.dataSources,"dataSources service is not provided."),n.fF.assertValue(this.drillToDetails,"drillToDetails service is not provided."),ve=this.dataSources.get(),this.drillToDetails.drillToDetails(this.selectors,this.visualContainer,ve),ue.resolve(),[2])})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return(ue=_.isEmpty(this.selectors))?[3,2]:[4,Se.prototype.isVisible.call(this)];case 1:ue=!ie.sent(),ie.label=2;case 2:return ue||this.explorationCapabilities.getCapabilities().disallowDrillToDetails?[2,!1]:[2,this.drill.canDrillToDetails(this.visualContainer,this.selectors)]}})})},Pe.prototype.isDisabled=function(){var ue;return(0,e.__awaiter)(this,void 0,l.J,function(){var xe,ie;return(0,e.__generator)(this,function(Fe){switch(Fe.label){case 0:return(0,b.iv)(this.visualContainer)?[2,!0]:(xe=!(null===(ue=this.runningVisual)||void 0===ue||!ue.getErrorInfo()),(ie=xe)?[3,2]:[4,Se.prototype.isDisabled.call(this)]);case 1:ie=Fe.sent(),Fe.label=2;case 2:return[2,ie]}})})},Pe}(d.V),L=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,xe?"Collapse":"Expand",ie,void 0,Ee&&Ee.expandCollapse)||this;return K.allowedActions=ve,K.isCollapse=xe,K.roles=Fe,K.nodeIndex=at,K.childCommands=[new F(ue,K.isCollapse,K.allowedActions,K.selectors,K.roles,K.nodeIndex,We,Oe,Ze,Ee),new A(ue,K.isCollapse,K.allowedActions,K.selectors,K.roles,K.nodeIndex,We,Oe,Ze,Ee),new O(ue,K.isCollapse,K.allowedActions,K.selectors,K.roles,K.nodeIndex,We,Oe,Ze,Ee)],K}return(0,e.__extends)(Pe,Se),Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return this.isCollapse?[4,Se.prototype.isDisabled.call(this)]:[3,2];case 1:return[2,ue.sent()||!(this.allowedActions.collapseHierarchy||this.allowedActions.collapseLevel||this.allowedActions.collapseNode)];case 2:return[4,Se.prototype.isDisabled.call(this)];case 3:return[2,ue.sent()||!(this.allowedActions.expandHierarchy||this.allowedActions.expandLevel||this.allowedActions.expandNode)]}})})},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.childCommands]})})},Pe}(d.V),F=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,"ExpandCollapseNode",ie,void 0,Ee&&Ee.expandCollapse)||this;return K.visualContainer=ue,K.isCollapse=ve,K.allowedActions=xe,K.roles=Fe,K.nodeIndex=at,K.handlers=We,K.contextActivityService=Oe,K.source=Ze,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertNonEmpty(this.roles,"empty roles"),n.fF.assertNonEmpty(this.selectors,"empty selectors"),n.fF.assertValue(this.handlers&&this.handlers.onSetNodeExpansionState,"handler is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseNode",this.source),this.handlers.onSetNodeExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ue.resolve(),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||(this.isCollapse?!this.allowedActions.collapseNode:!this.allowedActions.expandNode)]}})})},Pe}(d.V),A=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,"ExpandCollapseLevel",ie,void 0,Ee&&Ee.expandCollapse)||this;return K.visualContainer=ue,K.isCollapse=ve,K.allowedActions=xe,K.roles=Fe,K.nodeIndex=at,K.handlers=We,K.contextActivityService=Oe,K.source=Ze,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertNonEmpty(this.roles,"empty roles"),n.fF.assertNonEmpty(this.selectors,"empty selectors"),n.fF.assertValue(this.handlers&&this.handlers.onSetLevelExpansionState,"handler is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseLevel",this.source),this.handlers.onSetLevelExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ue.resolve(),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||this.isCollapse?!this.allowedActions.collapseLevel:!this.allowedActions.expandLevel]}})})},Pe}(d.V),O=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,"All",ie,void 0,Ee&&Ee.expandCollapse)||this;return K.visualContainer=ue,K.isCollapse=ve,K.allowedActions=xe,K.roles=Fe,K.nodeIndex=at,K.handlers=We,K.contextActivityService=Oe,K.source=Ze,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertNonEmpty(this.roles,"empty roles"),n.fF.assertNonEmpty(this.selectors,"empty selectors"),n.fF.assertValue(this.handlers&&this.handlers.onSetHierarchyExpansionState,"handler is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"ExpandCollapseHierarchy",this.source),this.handlers.onSetHierarchyExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ue.resolve(),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||this.isCollapse?!this.allowedActions.collapseHierarchy:!this.allowedActions.expandHierarchy]}})})},Pe}(d.V),N=function(Se){function Pe(ue,ve,xe,ie,Fe,at){var We=Se.call(this,"Group_Action",void 0,void 0,at&&at.groupVisualContainers)||this;return We.container=ue,We.selection=ve,We.viewModeState=ie,We.explorationSettings=Fe,We.childCommands=[new w(We.selection,xe,at),new B(We.container,xe,at),new I(We.selection,xe,at)],We}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ue=!(this.explorationSettings&&this.explorationSettings.useStylableVisualContainerHeader))?[3,2]:[4,Se.prototype.isVisible.call(this)];case 1:ue=!ve.sent(),ve.label=2;case 2:return ue?[2,!1]:[2,1===this.viewModeState.getMode()]}})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return ue=(0,s.q4)(this.container)||!!this.container.parentGroup,(ve=!v.UP.hasMultipleVisualContainerSelection(this.selection)&&!ue)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:ve=xe.sent(),xe.label=2;case 2:return[2,ve]}})})},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.childCommands]})})},Pe}(d.V),w=function(Se){function Pe(ue,ve,xe){var ie=Se.call(this,"Group_Action",void 0,void 0,xe&&xe.groupVisualContainers)||this;return ie.selection=ue,ie.layoutAuthoring=ve,ie}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return this.layoutAuthoring.groupCanvasItems(v.UP.getSelectedCanvasItems(this.selection)),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie,Fe;return(0,e.__generator)(this,function(at){switch(at.label){case 0:return ue=!1,(ve=v.UP.getSelectedCanvasItems(this.selection)).length>1&&(xe=ve[0].parentGroup,ue=_.every(ve,function(We){return We.parentGroup===xe}),ie=(0,m.N$)(ve),ue=ue&&ie<a.D5),(Fe=!ue)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:Fe=at.sent(),at.label=2;case 2:return[2,Fe]}})})},Pe}(d.V),I=function(Se){function Pe(ue,ve,xe){var ie=Se.call(this,"Merge",void 0,void 0,xe&&xe.groupVisualContainers)||this;return ie.selection=ue,ie.layoutAuthoring=ve,ie}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return this.layoutAuthoring.mergeCanvasItemContainers(v.UP.getSelectedCanvasItems(this.selection)),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return ue=this.layoutAuthoring.canMergeCanvasItems(),(ve=!ue)?[3,2]:[4,Se.prototype.isDisabled.call(this)];case 1:ve=xe.sent(),xe.label=2;case 2:return[2,ve]}})})},Pe}(d.V),B=function(Se){function Pe(ue,ve,xe){var ie=Se.call(this,"Ungroup",void 0,void 0,xe&&xe.groupVisualContainers)||this;return ie.container=ue,ie.layoutAuthoring=ve,ie}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return(ue=(0,s.q4)(this.container)?this.container:this.container.parentGroup)&&this.layoutAuthoring.ungroupCanvasItems(ue),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return ue=(0,s.q4)(this.container)||!!this.container.parentGroup,[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ve.sent()||!ue]}})})},Pe}(d.V),j=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K){var Ne=Se.call(this,"Summarize",void 0,void 0,We&&We.summarize)||this;return Ne.itemContainer=ue,Ne.explorationNavigation=ve,Ne.pluginOps=xe,Ne.selection=ie,Ne.visualAuthoring=Fe,Ne.viewModeState=at,Ne.runningVisualService=Oe,Ne.contextActivityService=Ze,Ne.source=Ee,Ne.featureSwitchService=K,Ne}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie;return(0,e.__generator)(this,function(Fe){return(0,s.Vz)(this.itemContainer)&&(ue=le(this.itemContainer.name,this.contextActivityService,"SummarizeVisualContainer",this.source)),ve=this.getSelectedSummarizableVisuals(),xe=this.explorationNavigation.getCurrentExploreCanvas(),ie=this.explorationNavigation.getAllSections(),this.featureSwitchService.featureSwitches.aiNarrativesVisual&&this.featureSwitchService.featureSwitches.aiNarrativesSingleEntryPoint?this.visualAuthoring.addEmptyVisualContainer(ie,xe,y.L.aiNarratives.name,void 0,!0,ve):this.visualAuthoring.addVisualContainerTextbox(ie,xe,void 0,!0,ve),null==ue||ue.resolve(),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,_.isEmpty(this.getSelectedSummarizableVisuals())]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return[2,ve.sent()&&1===this.viewModeState.getMode()]}})})},Pe.prototype.getSelectedSummarizableVisuals=function(){var ue=this,ve=v.UP.getSelectedVisualContainers(this.selection);return _.filter(ve,function(xe){var ie=ue.runningVisualService.getVisual(xe);return!(!_.isEmpty(ie&&ie.getErrorInfo())||(null==ie?void 0:ie.getHasPendingChanges()))&&ue.pluginOps.canSummarizeVisual((0,h.s)(xe))&&!(0,b.iv)(xe)&&!(0,b.tL)(xe)&&!(0,b.J6)(xe.config.singleVisual)})},Pe.prototype.getToolTip=function(ue){return(0,e.__awaiter)(this,void 0,l.J,function(){var xe,ie,Fe;return(0,e.__generator)(this,function(at){switch(at.label){case 0:return[4,this.isDisabled()];case 1:return at.sent()?(xe=v.UP.getSelectedVisualContainers(this.selection),ie=xe.some(function(We){return(0,b.iv)(We)}),Fe=xe.some(function(We){return(0,b.tL)(We)}),ie?[2,ue.get("Summarize_Disabled_For_VC")]:Fe?[2,ue.get("Summarize_Disabled_For_Hidden_Projections")]:[2]):[2]}})})},Pe}(d.V),W=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){void 0===Oe&&(Oe=!1);var K=Se.call(this,"VisualTable_Show",void 0,Oe?"itemIcon glyphicon pbi-glyph-seedata glyph-small":void 0,Ee&&Ee.seeData)||this;return K.visualContainer=ue,K.explorationCapabilities=ve,K.drill=xe,K.visibility=ie,K.pluginOps=Fe,K.contextActivityService=at,K.source=We,K.viewModeState=Ze,K}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){return n.fF.assertValue(this.visibility,"visibility service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"SeeData",this.source),ve=2,this.viewModeState&&this.viewModeState.getConfig().displayOptions.showVisualAccessibleData&&(ve=8),this.visibility.set(this.visualContainer,ve),ue.resolve(),[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return xe.sent()?this.explorationCapabilities.getCapabilities().disallowSeeData?[2,!1]:[2,this.visualContainer&&2!==this.visualContainer.visibility&&this.drill.canSeeData(this.visualContainer)&&!this.pluginOps.isAnalysisVisual((0,h.s)(this.visualContainer))]:[2,!1]}})})},Pe}(d.V),U=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"Group_Data_Action",ve,void 0,Oe&&Oe.createGroup)||this;return Ze.visualContainer=ue,Ze.conceptualSchemaProxy=xe,Ze.dataSources=ie,Ze.featureSwitchService=Fe,Ze.groupAuthoring=at,Ze.promiseFactory=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:if(this.pendingGroupOperation)return[2];this.pendingGroupOperation=!0,n.fF.assertValue(this.dataSources,"dataSources service is not provided."),n.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),ue=this.dataSources.get(),xe.label=1;case 1:return xe.trys.push([1,,4,5]),[4,this.conceptualSchemaProxy.get(ue)];case 2:return ve=xe.sent(),n.fF.assertValue(this.groupAuthoring,"groupAuthoring service is not provided."),[4,this.groupAuthoring.visual.group(this.visualContainer,this.selectors,!0,ue,ve)];case 3:return xe.sent(),[3,5];case 4:return this.pendingGroupOperation=!1,[7];case 5:return[2]}})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie,at;return(0,e.__generator)(this,function(We){switch(We.label){case 0:return(ue=!this.featureSwitchService.featureSwitches.enableGroupAuthoring)?[3,2]:[4,Se.prototype.isVisible.call(this)];case 1:ue=!We.sent(),We.label=2;case 2:return ue?[2,!1]:(ve=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ve)]:[2,!1];case 3:return xe=We.sent(),ie=xe.schema(void 0),at=!1!==(ie&&ie.capabilities&&ie.capabilities.supportsGrouping)&&this.groupAuthoring.visual.canGroup(this.visualContainer,this.selectors,xe),[2,this.promiseFactory.resolve(at)]}})})},Pe}(d.V),k=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne){var Y=Se.call(this,ue,xe,void 0,Ne&&Ne.includeExclude)||this;return Y.visualContainer=ve,Y.filterCreationKind=ie,Y.conceptualSchemaProxy=Fe,Y.dataSources=at,Y.includeExcludeService=We,Y.promiseFactory=Oe,Y.dataView=Ze,Y.contextActivityService=Ee,Y.source=K,Y}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return n.fF.assertValue(this.includeExcludeService,"includeExclude service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,3===this.filterCreationKind?"Include":"Exclude",this.source),this.includeExcludeService.setFilter(this.filterCreationKind,this.selectors,this.visualContainer,this.dataView),ue.resolve(),[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return ie.sent()&&(0,o.Yw)(this.selectors)&&(ue=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ue)]:[2,this.promiseFactory.resolve(!1)];case 2:return ve=ie.sent(),null!=this.selectors[0].dataMap?(xe=this.includeExcludeService.isIncludeExcludeSupported(this.visualContainer,ve,this.selectors),[2,this.promiseFactory.resolve(xe)]):[2,this.promiseFactory.resolve(!1)]}})})},Pe}(d.V),Q=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K){return Se.call(this,"VisualContainer_ContextMenu_Include",ue,ve,3,xe,ie,at,We,Ee,Oe,Ze,K)||this}return(0,e.__extends)(Pe,Se),Pe}(k),te=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K){return Se.call(this,"VisualContainer_ContextMenu_Exclude",ue,ve,4,xe,ie,at,We,Ee,Oe,Ze,K)||this}return(0,e.__extends)(Pe,Se),Pe.prototype.isDisabled=function(){var ue,ve,xe;return(0,e.__awaiter)(this,void 0,l.J,function(){var ie,Fe,at,We;return(0,e.__generator)(this,function(Oe){switch(Oe.label){case 0:if(ie=null===(ve=null===(ue=this.dataView)||void 0===ue?void 0:ue.metadata)||void 0===ve?void 0:ve.columns)for(Fe=0,at=ie;Fe<at.length;Fe++)if(1===(null===(xe=null==(We=at[Fe])?void 0:We.parameter)||void 0===xe?void 0:xe.kind))return[2,this.promiseFactory.resolve(!0)];return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,Oe.sent()]}})})},Pe.prototype.getToolTip=function(ue){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return[4,this.isDisabled()];case 1:return xe.sent()?[2,this.promiseFactory.resolve(ue.get("DQP_Disabled_Operator"))]:[2,this.promiseFactory.resolve(ue.get("VisualContainer_ContextMenu_Exclude"))]}})})},Pe}(k),ee=function(Se){function Pe(ue,ve,xe,ie,Fe){var at=Se.call(this,"Slicer_Clear",void 0,void 0,Fe&&Fe.clearSelection)||this;return at.visualContainer=ue,at.runningVisual=ve,at.contextActivityService=xe,at.source=ie,at}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){var ue,ve;return(0,e.__awaiter)(this,void 0,l.J,function(){var xe;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return ie.sent()&&null!==(ue=this.runningVisual)&&void 0!==ue&&ue.getSelectedDatapoints&&(xe=null===(ve=this.runningVisual)||void 0===ve?void 0:ve.getSelectedDatapoints())?[2,!_.isEmpty(xe)]:[2,!1]}})})},Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return ue=le(this.visualContainer.name,this.contextActivityService,"ClearSelection",this.source),this.runningVisual.clearSelectedDatapoints(),ue.resolve(),[2]})})},Pe}(d.V),J=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We){var Oe=Se.call(this,ue,void 0,void 0,We&&We.copy)||this;return Oe.viewModel=ve,Oe.eventBridge=xe,Oe.hasMetadata=ie,Oe.useModernClipboard=Fe,Oe.telemetryService=at,Oe}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return this.telemetryService.logEvent(i.hbA,{visualType:this.viewModel.name,hasMetadata:this.hasMetadata,entryPoint:"ContextMenu"}),this.eventBridge.publishToChannel(V.q7,{visual:this.viewModel,hasMetadata:this.hasMetadata,useModernClipboard:this.useModernClipboard}),[2]})})},Pe}(d.V),re=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne,Y,ye,rt){var it=Se.call(this,"Copy",void 0,void 0,rt&&rt.copy)||this;if(it.visualContainer=ue,it.clipboard=ve,it.featureSwitchService=xe,it.copyVisualImageService=ie,it.telemetryService=Fe,it.visualContainerCopyService=at,it.explorationCapabilities=We,it.explorationNavigation=Oe,it.visibility=Ze,it.viewModeState=Ee,it.args=K,it.eventBridge=Ne,it.contextActivityService=Y,it.source=ye,it.childCommands=[],it.copyPasteService=(0,p.Ue)(),K.copyArgs&&(K.copyArgs.singleValue||K.copyArgs.grid)&&(it.childCommands.push(new G("Visual_CopyValue",it.visualContainer.contract,it.copyPasteService,it.telemetryService,it.args.copyArgs.singleValue,it.contextActivityService,it.source)),it.childCommands.push(new ne("Visual_CopySelection",it.visualContainer.contract,it.copyPasteService,it.telemetryService,it.args.copyArgs.grid,it.contextActivityService,it.source))),it.visibility.get()||0!==it.viewModeState.getMode()&&it.childCommands.push(new X(it.visualContainer.contract,"Visual_CopyVisual",it.clipboard,it.contextActivityService,it.source)),(it.featureSwitchService.featureSwitches.copyPasteMenuImage||it.featureSwitchService.featureSwitches.copyPasteMenuMetadata)&&null!=it.explorationNavigation.getCurrentExploration().reportId){var De=(0,h.s)(ue.contract);n.fF.assertValue(ie,"copyVisualImage service is not provided."),n.fF.assertValue(at,"visualContainerCopy service is not provided."),it.copyVisualImageService.canCopy(De)&&it.visualContainerCopyService.showCopyVisualImageOption(ue,it.visualContainerCopyService.getActiveSection(),"ContextMenu")&&(it.featureSwitchService.featureSwitches.copyPasteMenuImage&&it.childCommands.push(new J("Image",it.visualContainer,it.eventBridge,!1,it.explorationCapabilities.getCapabilities().useModernClipboard,it.telemetryService)),it.featureSwitchService.featureSwitches.copyPasteMenuMetadata&&it.childCommands.push(new J("Image_WithCaption",it.visualContainer,it.eventBridge,!0,it.explorationCapabilities.getCapabilities().useModernClipboard,it.telemetryService)))}return it}return(0,e.__extends)(Pe,Se),Object.defineProperty(Pe.prototype,"commandsCount",{get:function(){return this.childCommands.length},enumerable:!1,configurable:!0}),Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.childCommands]})})},Pe}(d.V),G=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,ue,void 0,void 0,Oe&&Oe.copy)||this;return Ze.visualContainer=ve,Ze.copyPasteService=xe,Ze.telemetryService=ie,Ze.valueCallback=Fe,Ze.contextActivityService=at,Ze.source=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||null===this.valueCallback||!("string"==typeof this.valueCallback||"function"==typeof this.valueCallback)]}})})},Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){return ue=le(this.visualContainer.name,this.contextActivityService,"CopyValue",this.source),ve=(0,h.s)(this.visualContainer),this.copyPasteService.copyText(this.valueCallback,this.telemetryService,ve),ue.resolve(),[2]})})},Pe}(d.V),ne=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,ue,void 0,void 0,Oe&&Oe.copy)||this;return Ze.visualContainer=ve,Ze.copyPasteService=xe,Ze.telemetryService=ie,Ze.valueCallback=Fe,Ze.contextActivityService=at,Ze.source=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isDisabled.call(this)];case 1:return[2,ue.sent()||null===this.valueCallback||"function"!=typeof this.valueCallback]}})})},Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){return ue=le(this.visualContainer.name,this.contextActivityService,"CopySelection",this.source),ve=(0,h.s)(this.visualContainer),this.copyPasteService.copyGrid(this.valueCallback,this.telemetryService,ve),ue.resolve(),[2]})})},Pe}(d.V),X=function(Se){function Pe(ue,ve,xe,ie,Fe,at){var We=Se.call(this,ve,void 0,void 0,at&&at.copy)||this;return We.visualContainer=ue,We.clipboard=xe,We.contextActivityService=ie,We.source=Fe,We}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){return ue=le(this.visualContainer.name,this.contextActivityService,"CopyVisual",this.source),this.clipboard.copy(),ue.resolve(),[2]})})},Pe}(d.V),oe=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne,Y,ye,rt){var it=Se.call(this,"VisualContainer_ContextMenu_Analyze",ve,void 0,null==rt?void 0:rt.insightsAnalysis)||this;return it.visualContainer=ue,it.position=xe,it.conceptualSchemaProxy=ie,it.dataSources=Fe,it.eventBridge=at,it.explorationCapabilities=We,it.explorationNavigation=Oe,it.lazyScoped=Ze,it.viewModeState=Ee,it.queryHandler=K,it.analysisType=Ne,it.contextActivityService=Y,it.source=ye,it.displayOverride=rt,it}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,ie,Fe;return(0,e.__generator)(this,function(We){switch(We.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return We.sent()&&(ue=this.dataSources.get())&&(ve=this.explorationCapabilities.getCapabilities())&&ve.insights?[4,this.lazyScoped.get(g.jU)]:[2,!1];case 2:return We.sent().getState()?[2,!1]:[4,this.conceptualSchemaProxy.get(ue)];case 3:return ie=We.sent(),[4,this.getAnalysisOptions(ie)];case 4:return Fe=We.sent(),[2,!_.isEmpty(Fe)]}})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return(0,b.J6)(this.visualContainer.config.singleVisual)||this.shouldDisableBecauseOfVisualCalc()?[2,!0]:[2,Se.prototype.isDisabled.call(this)]})})},Pe.prototype.getToolTip=function(ue){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ve){return this.shouldDisableBecauseOfVisualCalc()?[2,ue.get("VisualContainer_ContextMenu_Analyze_Disabled_For_VC")]:[2]})})},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie,Fe,at,Oe;return(0,e.__generator)(this,function(Ze){switch(Ze.label){case 0:return(ue=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ue)]:[2,void 0];case 1:return ve=Ze.sent(),[4,this.getAnalysisOptions(ve)];case 2:if(xe=Ze.sent(),!_.isEmpty(xe)){for(ie=[],Fe=0,at=xe;Fe<at.length;Fe++)Oe=new Ve(this.selectors,this.visualContainer,this.position,at[Fe],this.dataSources,this.eventBridge,this.explorationNavigation,this.viewModeState,this.lazyScoped,this.contextActivityService,this.source,this.displayOverride),ie.push(Oe);return[2,ie]}return[2,null]}})})},Pe.prototype.getAnalysisOptions=function(ue){return(0,e.__awaiter)(this,void 0,l.J,function(){var ve,xe;return(0,e.__generator)(this,function(Fe){switch(Fe.label){case 0:return[4,this.lazyScoped.get(g.wn)];case 1:return ve=Fe.sent(),[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})];case 2:return null==(xe=Fe.sent())?[2]:[2,ve.getOptions(this.visualContainer,xe.filterContext,this.selectors,ue,this.analysisType)]}})})},Pe.prototype.shouldDisableBecauseOfVisualCalc=function(){return this.selectors.some(function(ue){var ve;return null===(ve=ue.valueDetails)||void 0===ve?void 0:ve.some(function(xe){return(0,c.jX)(xe.expr)})})},Pe}(d.V),Ve=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne){var Y=Se.call(this,null,ue,void 0,Ne&&Ne.insightsAnalysis)||this;return Y.visualContainer=ve,Y.position=xe,Y.insightsAnalysisData=ie,Y.dataSources=Fe,Y.eventBridge=at,Y.explorationNavigation=We,Y.viewModeState=Oe,Y.lazyScoped=Ze,Y.contextActivityService=Ee,Y.source=K,Y}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return n.fF.assertValue(this.insightsAnalysisData,"expect insightsAnalysisData to be defined."),n.fF.assertValue(this.explorationNavigation,"explorationNavigation service is not provided."),n.fF.assertValue(this.dataSources,"dataSources service is not provided."),n.fF.assertValue(this.viewModeState,"viewModeState service is not provided."),n.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"Analyze",this.source),[4,this.lazyScoped.get(g.aq)];case 1:return ve=xe.sent(),this.insightsAnalysisData.useInsightsPane?[4,ve.showInsightsFor(this.insightsAnalysisData)]:[3,3];case 2:return xe.sent(),[3,5];case 3:return[4,ve.launch(this.insightsAnalysisData,this.position)];case 4:xe.sent(),xe.label=5;case 5:return ue.resolve(),[2]}})})},Pe.prototype.title=function(ue){return ue&&this.defaultTitleKey?ue.get(this.defaultTitleKey):this.insightsAnalysisData.question},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,null]})})},Pe}(d.V),Te=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne,Y){var ye=Se.call(this,Ne||"Drillthrough",ve,"pbi-glyph-drillthrough",Y&&Y.drillthrough)||this;return ye.visualContainer=ue,ye.drillthroughEntryPoint=xe,ye.drill=ie,ye.explorationNavigation=Fe,ye.lazyScoped=at,ye.pluginOps=We,ye.queryHandler=Oe,ye.telemetryService=Ze,ye.contextActivityService=Ee,ye.source=K,ye.displayOverride=Y,ye}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe=this;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return(ue=_.isEmpty(this.selectors))?[3,2]:[4,Se.prototype.isVisible.call(this)];case 1:ue=!ie.sent(),ie.label=2;case 2:return ue?[2,!1]:this.drill.canDrillthrough(this.visualContainer)?(n.fF.assert(function(){return void 0===xe.children},"children should not be set yet"),ve=this,[4,this.getChildren()]):[3,4];case 3:return ve.children=ie.sent(),[2,!_.isEmpty(this.children)];case 4:return[2,!1]}})})},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve,xe,ie,at,Oe=this;return(0,e.__generator)(this,function(Ze){switch(Ze.label){case 0:return void 0!==this.children?[2,this.children]:(ue=this.drillthroughEntryPoint,ve=this.explorationNavigation.getCurrentSection(),xe=(0,h.s)(this.visualContainer),_.isEmpty(this.selectors)||_.isEmpty(ve.name)||!this.pluginOps.isQueryVisual(xe)?[2,[]]:[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})]);case 1:return ie=Ze.sent(),n.fF.assertValue(ie,"query should be defined"),null==ie?[2]:[4,this.lazyScoped.get(g.AB)];case 2:return[4,Ze.sent().getDrillthroughActions(ve.name,this.visualContainer,this.selectors,ie.filterContext)];case 3:return at=Ze.sent(),[2,_.map(at,function(Ee){return new Qe(Oe.visualContainer,Ee,ue,Oe.lazyScoped,Oe.telemetryService,Oe.contextActivityService,Oe.source,Oe.displayOverride)})]}})})},Pe}(d.V),Qe=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"Drillthrough",void 0,void 0,Oe&&Oe.drillthrough)||this;return Ze.visualContainer=ue,Ze.drillthroughActionData=ve,Ze.drillthroughEntryPoint=xe,Ze.lazyScoped=ie,Ze.telemetryService=Fe,Ze.contextActivityService=at,Ze.source=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(xe){switch(xe.label){case 0:return n.fF.assertValue(this.drillthroughActionData,"expect drillthroughActionData to be defined."),n.fF.assertValue(this.drillthroughEntryPoint,"expect drillthroughEntryPoint to be defined."),n.fF.assertValue(this.lazyScoped,"lazyScoped service is not provided."),n.fF.assertValue(this.telemetryService,"telemetryService service is not provided."),ue=le(this.visualContainer.name,this.contextActivityService,"DrillThrough",this.source),[4,this.lazyScoped.get(g.AB)];case 1:return xe.sent().applyDrillthroughState(this.drillthroughActionData,!0),ue.resolve(),this.telemetryService.logEvent(i.$xe,{entryPoint:this.drillthroughEntryPoint,toExternalReport:!!this.drillthroughActionData.targetReportGuid}),[2]}})})},Pe.prototype.title=function(ue){return this.drillthroughActionData.reportDisplayName?this.drillthroughActionData.sectionDisplayName+" ["+this.drillthroughActionData.reportDisplayName+"]":this.drillthroughActionData.sectionDisplayName},Pe}(d.V),He=function(Se){function Pe(ue,ve,xe){var ie=Se.call(this,null,void 0,void 0,ve&&ve.extensions)||this;return ie.groupTitle=ue,ie.menuLocation=xe,ie.children=[],ie}return(0,e.__extends)(Pe,Se),Pe.prototype.title=function(ue){return this.groupTitle},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.children]})})},Pe.prototype.addChild=function(ue){this.children.push(ue)},Object.defineProperty(Pe.prototype,"isEmpty",{get:function(){return 0===this.children.length},enumerable:!1,configurable:!0}),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,Se.prototype.isVisible&&!this.isEmpty]})})},Pe}(d.V),Ce=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K){var Ne=Se.call(this,null,ve,void 0,K&&K.extensions,void 0,Ze)||this;return Ne.visualContainer=ue,Ne.commandName=xe,Ne.commandTitle=ie,Ne.eventBridge=Fe,Ne.explorationExtensibilityService=at,Ne.contextActivityService=We,Ne.source=Oe,Ne.visualContainerDataSelectionService=Ee,n.fF.assertValue(xe,"commandName is not provided."),Ne}return(0,e.__extends)(Pe,Se),Pe.prototype.title=function(ue){return this.commandTitle},Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,ve;return(0,e.__generator)(this,function(xe){return ue=le(this.visualContainer.name,this.contextActivityService,"ExtensionCommand",this.source),ve=this.getDataPointsDescriptions(),this.explorationExtensibilityService.executeCustomCommand(this.eventBridge,this.visualContainer,this.commandName,ve),ue.resolve(),[2]})})},Pe.prototype.getDataPointsDescriptions=function(){var ue=[];if(this.visualContainerDataSelectionService&&!_.isEmpty(this.selectors))for(var ve=0,xe=this.selectors;ve<xe.length;ve++){var ie=xe[ve],Fe=this.visualContainerDataSelectionService.getSelectedValues(ie);ue.push({selector:ie,values:Fe})}return ue},Pe}(d.V),de=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"Format",void 0,void 0,Oe&&Oe.turnOnFormatMode)||this;return Ze.featureSwitchService=ue,Ze.panesVisibilityService=ve,Ze.viewModeState=xe,Ze.container=ie,Ze.selectionService=Fe,Ze.visualPlugin=at,Ze.visualPluginOps=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return[2,ue.sent()&&this.featureSwitchService.featureSwitches.onObject&&1===this.viewModeState.getMode()]}})})},Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue,xe=this;return(0,e.__generator)(this,function(ie){return ue=v.UP.getSelectedVisualContainers(this.selectionService),_.find(ue,function(Fe){return Fe.name===xe.container.name})||this.selectionService.selectElement({id:this.container.id,canvasItem:this.container},0),this.viewModeState.setFormatMode(!0,"Context Menu"),this.panesVisibilityService.isPaneVisible("format")||this.panesVisibilityService.togglePaneVisibility("format"),[2]})})},Pe.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,(0,u.LR)(this.visualPlugin,this.visualPluginOps,this.container)]})})},Pe}(d.V),pe=function(Se){function Pe(ue,ve,xe,ie,Fe,at){var We=Se.call(this,"NewVisualCalc",void 0,void 0,at&&at.seeData)||this;return We.visualContainer=ue,We.contextActivityService=ve,We.source=xe,We.visualCalcEagerService=ie,We.viewModeState=Fe,We}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return ue=le(this.visualContainer.name,this.contextActivityService,"CreateVisualCalculation",this.source),[4,this.visualCalcEagerService.enterVisualCalcMode(this.visualContainer,void 0)];case 1:return ve.sent(),ue.resolve(),[2]}})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){switch(ue.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return ue.sent()?1!==this.viewModeState.getMode()?[2,!1]:[4,this.visualCalcEagerService.canSupportVisualCalc(this.visualContainer)]:[2,!1];case 2:return[2,ue.sent()]}})})},Pe}(d.V);function le(Se,Pe,ue,ve){return Pe.createActivity({name:"VisualAction",visualName:Se,data:{action:ue,source:ve}})}var me=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We){var Oe=Se.call(this,"Sharing_Visual_LinkToVisual",void 0,"pbi-glyph-link",We&&We.shareVisual)||this;return Oe.eventBridge=ue,Oe.explorationCapabilities=ve,Oe.menuOptions=xe,Oe.source=ie,Oe.viewModeState=Fe,Oe.visualContainer=at,Oe}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return this.eventBridge.publishToChannel(f.wCO,{visual:this.visualContainer,source:this.source}),[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ue=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,Se.prototype.isVisible.call(this)]:[3,2];case 1:ue=ve.sent(),ve.label=2;case 2:return[2,ue&&this.menuOptions.canShareVisual]}})})},Pe}(d.V),be=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe){var Ze=Se.call(this,"Storytelling_Export_Open_In_PowerPoint",void 0,"pbi-glyph-powerpoint",Oe&&Oe.shareVisual)||this;return Ze.eventBridge=ue,Ze.explorationCapabilities=ve,Ze.menuOptions=xe,Ze.source=ie,Ze.viewModeState=Fe,Ze.visualContainer=at,Ze.featureSwitchService=We,Ze}return(0,e.__extends)(Pe,Se),Pe.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return this.eventBridge.publishToChannel(f.gsN,{visual:this.visualContainer,source:this.source}),[2]})})},Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ue=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,Se.prototype.isVisible.call(this)]:[3,2];case 1:ue=ve.sent(),ve.label=2;case 2:return[2,ue&&this.featureSwitchService.featureSwitches.storytellingTenantEnabled&&C.exportToPPTLiveEnabled&&this.menuOptions.canShareVisual]}})})},Pe}(d.V),Be=function(Se){function Pe(ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee){var K=Se.call(this,"Share",void 0,"VisualHeader"===We?"pbi-glyph-share":void 0,Ee&&Ee.shareVisual)||this;return K.childCommands=[new me(ue,ve,Fe,We,xe,Oe.contract,Ee),new S.dc(Oe,ie,ue,Fe,at,We,Ee),new be(ue,ve,Fe,We,xe,Oe.contract,Ze,Ee)],K}return(0,e.__extends)(Pe,Se),Pe.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){var ue;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return[4,Se.prototype.isVisible.call(this)];case 1:return(ue=ve.sent())?[4,window.Promise.all(this.childCommands.map(function(xe){return xe.isVisible()}))]:[3,3];case 2:ue=ve.sent().some(function(xe){return xe}),ve.label=3;case 3:return[2,ue]}})})},Pe.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,l.J,function(){return(0,e.__generator)(this,function(ue){return[2,this.childCommands]})})},Pe}(d.V)},626563:function(Je,H,t){t.d(H,{R:function(){return f}});var e=t(790866),c=t(35801),s=t(809395);function f(b,h){return new v(b,h)}var v=function(){function b(h,p){this.visualContainer=h,this.visualPluginOps=p}return b.prototype.getSelectedValues=function(h){if(h.valueDetails){var p=this.filterThroughValueDetails(h.valueDetails,h.metadata);return this.amendIdentityToValueDetails(h,p)}var l=(0,c.s)(this.visualContainer.contract),r=(0,s.Xf)(this.visualContainer.contract),o=this.visualPluginOps.dataViewKinds(l,r);return e.Om.query(this.getDataViews(),h,o)},b.prototype.filterThroughValueDetails=function(h,p){return p?_.filter(h,function(n){return _.includes(p,n.queryName)}):h},b.prototype.amendIdentityToValueDetails=function(h,p){for(var n=[],l=0,r=p;l<r.length;l++){var o=r[l];n.push({queryName:o.queryName,identity:o.identity||h.dataMap&&_.values(h.dataMap)[0][0],expr:o.expr,value:o.value,formattedValue:o.formattedValue})}return n},b.prototype.getDataViews=function(){var h=this.visualContainer&&this.visualContainer.getRunningVisual();return h&&h.getDataViews()},b}()},430126:function(Je,H,t){t.d(H,{Q:function(){return h}});var e=t(226514),c=t(273139),s=t(787941),f=t(144900),v=t(134990),b=t(665147);function h(n,l,r,o,a,i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U){return new p(n,l,r,o,a,i,V,d,S,m,g,R,y,C,E,u,L,F,P,D,x,M,T,A,O,N,w,I,B,j,W,U)}var p=function(){function n(l,r,o,a,i,m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U,k){this.conceptualSchemaProxy=l,this.contextActivityService=r,this.clipboard=o,this.dataSources=a,this.drill=i,this.expandCollapse=m,this.eventBridge=u,this.explorationCapabilities=V,this.explorationNavigation=d,this.explorationExtensibility=S,this.featureSwitchService=g,this.filterGenerator=y,this.groupAuthoring=C,this.includeExcludeService=E,this.lazyScoped=M,this.drillToDetails=P,this.panesVisibilityService=T,this.pluginOps=x,this.promiseFactory=R,this.telemetryService=D,this.viewModeState=L,this.visibility=F,this.visualAuthoring=A,this.overlayService=O,this.undoRedo=N,this.visualPlugin=w,this.selection=I,this.layoutAuthoring=B,this.runningVisualService=j,this.copyVisualImageService=W,this.visualCalcEagerService=U,this.visualContainerCopyService=k}return n.prototype.createDrillthroughCommands=function(l,r,o){var a=this.explorationExtensibility.getCommandsDisplayOptions(l.name);return new v.dl(l,r,"ModeOn",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,o,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,a)},n.prototype.createOptionsCommands=function(l,r,o){var a=this;s.fF.assert(function(){return null!==a.explorationNavigation.getCurrentExploration()},"Exploration cannot be null while creating visual container option commands.");var i=this.explorationNavigation.getCurrentExploration().settings,m=this.explorationExtensibility.getCommandsDisplayOptions(l.contract.name),u=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,r,this.contextActivityService,"VisualHeader",l,this.featureSwitchService,m)]:[],!0),this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&this.featureSwitchService.featureSwitches.tridentProductReflex&&this.featureSwitchService.featureSwitches.reflexPBIArtifact?[new b.pq(l,this.selection,this.panesVisibilityService,this.featureSwitchService,this.explorationCapabilities,this.contextActivityService,this.telemetryService,"VisualHeader",m)]:[],!0),[new b.eY(l,this.eventBridge,r,this.contextActivityService,"VisualHeader",m)],!1),this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[]:[new b.dc(l,this.visibility,this.eventBridge,r,this.contextActivityService,"VisualHeader",m)],!0),[new b.Vj(l,this.filterGenerator,this.overlayService,this.undoRedo,this.visualAuthoring,this.visualPlugin,r,this.contextActivityService,"VisualHeader",m),new b.ky(l,this.eventBridge,this.overlayService,r,this.contextActivityService,"VisualHeader",m),new b.Ol(l,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.featureSwitchService,this.filterGenerator,this.overlayService,r,i,this.contextActivityService,"VisualHeader",m),new v.IX(l.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"VisualHeader",!0,this.viewModeState,m),new b.Qz(l,this.eventBridge,this.undoRedo,r,this.contextActivityService,"VisualHeader",m),new b.ig(l,this.eventBridge,r,this.contextActivityService,"VisualHeader",m),new b.qr(l,this.visibility,r,this.contextActivityService,"VisualHeader",m),new b.GB(l,r,this.lazyScoped,this.telemetryService,this.contextActivityService,"VisualHeader",m)],!1),this.getSortCommands(l,r,m),!0),[new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,l.contract,this.selection,this.visualPlugin,this.pluginOps,m)],!1);return this.getCustomCommands(u,1,l.contract,o,void 0,m)},n.prototype.getSortCommands=function(l,r,o){if(_.isEmpty(r.sortSetting.sortGroups))return[];var a=r.sortSetting.sortGroups;if(1===a.length&&a[0].isDefaultGroup){var i=a[0];return[new b.BM(l,this.eventBridge,this.overlayService,r,i,this.contextActivityService,"VisualHeader",o),new b.cN(l,this.eventBridge,this.overlayService,r,i,this.contextActivityService,"VisualHeader",o),new b.JS(l,this.eventBridge,this.overlayService,r,this.contextActivityService,"VisualHeader",o)]}for(var m=[],u=0,V=a;u<V.length;u++){var S=new b.pr(l,this.eventBridge,this.overlayService,r,V[u],this.contextActivityService,"VisualHeader",o);m.push(S)}return m},n.prototype.createNonQueryCommands=function(l,r){var o=this.explorationExtensibility.getCommandsDisplayOptions(l.name),a=this.explorationNavigation.getCurrentExploration().settings,i=(0,e.__spreadArray)((0,e.__spreadArray)([],(0,c.q4)(l.contract)?[]:[new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,e.__assign)((0,e.__assign)({},r),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",l,this.featureSwitchService,o)],!0),[new v.XU(l.contract,this.selection,this.layoutAuthoring,this.viewModeState,a,o)],!1);return this.featureSwitchService.featureSwitches.daxTransformEnabled&&i.push(new v.uF(l.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,o,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),this.featureSwitchService.featureSwitches.onObject&&i.push(new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,l.contract,this.selection,this.visualPlugin,this.pluginOps,o)),i},n.prototype.createCommands=function(l,r,o,a,i,m,u,V){return(0,e.__awaiter)(this,void 0,f.J,function(){var d,S,g,y,C,E,M,P,T,x,R,D,L,F;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return s.fF.assertValue(r,"args"),!i||(0,c.q4)(l.contract)?[2,this.createNonQueryCommands(l,m)]:(d=l,S=this.runningVisualService.getVisual(l.contract),g=r.data,y=r.dataRoles,C=r.nodeIndex,E=r.position,M=[],P=this.explorationExtensibility.getCommandsDisplayOptions(d.name),T=this.explorationNavigation.getCurrentExploration().settings,M.push(new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,e.__assign)((0,e.__assign)({},m),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",d,this.featureSwitchService,P)),[4,this.conceptualSchemaProxy.get(this.dataSources.get())]);case 1:if(x=O.sent().schema(void 0),this.expandCollapse.isSupported(x&&x.capabilities,l.contract,y)&&this.expandCollapse.isEnabled(l.contract,y)&&(R=this.expandCollapse.getAllowedActions(l.contract,y,g))&&(M.push(new v.Yd(d.contract,R,!1,g,y,C,a,this.contextActivityService,"ContextMenu",P)),M.push(new v.Yd(d.contract,R,!0,g,y,C,a,this.contextActivityService,"ContextMenu",P))),M.push(new v.ab(l.contract,g,y,this.dataSources,this.drill,this.visualAuthoring,S,this.contextActivityService,"ContextMenu",void 0,P),new v.of(l.contract,this.explorationCapabilities,g,this.drill,this.dataSources,this.drillToDetails,S,this.contextActivityService,"ContextMenu",P),new v.IX(l.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"ContextMenu",void 0,this.viewModeState,P),new v.gI(l.contract,this.contextActivityService,"ContextMenu",this.visualCalcEagerService,this.viewModeState,P),new v.oT(l.contract,y,this.visualAuthoring,this.drill,S,this.contextActivityService,"ContextMenu",P),new v.ok(l.contract,y,this.visualAuthoring,this.drill,S,this.contextActivityService,"ContextMenu",P),new v.Ue(l.contract,g,y,this.drill,this.visualAuthoring,S,this.contextActivityService,"ContextMenu",void 0,P),new v.$G(l.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.groupAuthoring,this.promiseFactory,P),new v.x0(l.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",V,P),new v.TM(l.contract,g,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",V,P),new v.dl(l.contract,g,"ContextMenu",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,o,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,P),new v.Ys(l.contract,g,E,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.explorationCapabilities,this.explorationNavigation,this.lazyScoped,this.viewModeState,o,void 0,this.contextActivityService,"ContextMenu",P),new v.XU(l.contract,this.selection,this.layoutAuthoring,this.viewModeState,T,P),new v.gM(d.contract,S,this.contextActivityService,"ContextMenu",P)),this.featureSwitchService.featureSwitches.daxTransformEnabled&&M.push(new v.uF(d.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,P,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),(D=new v.HK(d,this.clipboard,this.featureSwitchService,this.copyVisualImageService,this.telemetryService,this.visualContainerCopyService,this.explorationCapabilities,this.explorationNavigation,this.visibility,this.viewModeState,r,this.eventBridge,this.contextActivityService,"ContextMenu",P)).commandsCount>0&&(this.featureSwitchService.featureSwitches.copyPasteMenuImage||this.featureSwitchService.featureSwitches.copyPasteMenuMetadata?M.unshift(D):M.push(D)),this.featureSwitchService.featureSwitches.onObject&&M.push(new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,l.contract,this.selection,this.visualPlugin,this.pluginOps,P)),r.visualCommandConfigs)for(L=0,F=r.visualCommandConfigs;L<F.length;L++)M.push(new v.eA(F[L]));return[2,this.getCustomCommands(M,0,d.contract,g,u,P)]}})})},n.prototype.getCustomCommands=function(l,r,o,a,i,m){var V,u=this,d={};return null===(V=this.explorationExtensibility.getGroups())||void 0===V||V.forEach(function(S){d[S.name]=new v.J_(S.title,m,S.menuLocation)}),this.getCommandExtensions(o,r).forEach(function(S){var g=u.getCommandMenuExtension(S,r);s.fF.assert(function(){return!!g},"extensionPoint shouldn't be null");var y=new v.ft(o,a,S.name,g.title||S.title,u.eventBridge,u.explorationExtensibility,u.contextActivityService,"ContextMenu",g.icon||S.icon,i,m),C=g.groupName&&d[g.groupName];C?(C.isEmpty&&(1===C.menuLocation?l.unshift(C):l.push(C)),C.addChild(y)):1===g.menuLocation?l.unshift(y):l.push(y)}),l},n.prototype.getCommandMenuExtension=function(l,r){var o=l&&l.extend;switch(r){case 0:return o&&o.visualContextMenu;case 1:return o&&o.visualOptionsMenu;default:s.fF.assertNever(r)}},n.prototype.getCommandExtensions=function(l,r){var o=this,a=this.explorationExtensibility.getCommandExtensions()||[];switch(l&&(a=a.filter(function(i){return o.visualMenuShouldHaveCommand(l,i)})),r){case 0:return a.filter(function(i){return i.extend&&i.extend.visualContextMenu});case 1:return a.filter(function(i){return i.extend&&i.extend.visualOptionsMenu});default:s.fF.assertNever(r)}},n.prototype.visualMenuShouldHaveCommand=function(l,r){return!r.visuals||r.visuals.some(function(o){return o===l.name})},n}()},665147:function(Je,H,t){t.d(H,{BM:function(){return C},GB:function(){return x},JS:function(){return M},Ol:function(){return o},Qz:function(){return u},Vj:function(){return r},cN:function(){return E},dc:function(){return g},eY:function(){return a},ig:function(){return d},ky:function(){return m},pq:function(){return i},pr:function(){return P},qr:function(){return S}});var e=t(226514),c=t(1745),s=t(555161),f=t(809395),v=t(35801),b=t(787941),h=t(144900),p=t(668268),n=t(548556),l=t(801561),r=function(D){function L(F,A,O,N,w,I,B,j,W,U){var k=D.call(this,"Slicer_SearchBox_Text",void 0,"itemIcon glyphicon pbi-glyph-search glyph-small",U&&U.search)||this;return k.visualContainer=F,k.filterGenerator=A,k.overlayService=O,k.undoRedo=N,k.visualAuthoring=w,k.visualPlugin=I,k.menuOptions=B,k.contextActivityService=j,k.source=W,k.selected=k.isSearchOn,k}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.overlayService,"overlay service is not provided."),b.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),b.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"ToggleSearch",this.source),this.visualAuthoring.toggleSlicerVisualSearch(this.visualContainer.contract,this.filterGenerator,this.visualPlugin),this.overlayService.hideAllDropdowns(),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSearchOn),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canSearch&&D.prototype.isVisible.call(this)]})})},Object.defineProperty(L.prototype,"isSearchOn",{get:function(){var A=this.visualContainer.contract.config.singleVisual;if(!A||!A.objects)return!1;var O=(0,f.cj)(this.visualContainer.contract,this.visualPlugin);if(!O)return!1;var N=this.filterGenerator.tryGetSelfFilterEnabledProperty(O);if(!N)return!1;var w=(0,p.NA)(A.objects,N,null);return w&&w.value||!1},enumerable:!1,configurable:!0}),L}(l.V),o=function(D){function L(F,A,O,N,w,I,B,j,W,U,k,Q){var te=D.call(this,"ExportData_MenuItem",void 0,"itemIcon glyphicon pbi-glyph-export glyph-small",Q&&Q.exportData)||this;return te.visualContainer=F,te.conceptualSchemaProxy=A,te.dataSources=O,te.eventBridge=N,te.featureSwitchService=w,te.filterGenerator=I,te.overlayService=B,te.menuOptions=j,te.explorationSettings=W,te.contextActivityService=U,te.source=k,te}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A,O,N,w,I,B;return(0,e.__generator)(this,function(j){switch(j.label){case 0:b.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),b.fF.assertValue(this.dataSources,"dataSources service is not provided."),b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),b.fF.assertValue(this.overlayService,"overlay service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"ExportVisualData",this.source),A=this.visualContainer.getRunningVisual(),N=null!=(O=this.visualContainer.visualTitle)?O.text:"",w=this.dataSources.get(),j.label=1;case 1:return j.trys.push([1,3,4,5]),[4,this.conceptualSchemaProxy.get(w)];case 2:return I=j.sent(),this.eventBridge.publishToChannel(c.Diu,{visualData:{data:A.getData(),dataTransforms:A.getDataTransforms()},visualContainer:this.visualContainer.contract,visualTitle:N,additionalFilters:this.visualContainer.hostServices.getFilters(this.filterGenerator,I)}),[3,5];case 3:return B=j.sent(),b.fF.log(B),[3,5];case 4:return this.overlayService.hideAllDropdowns(),F.resolve(),[7];case 5:return[2]}})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canExport&&D.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){switch(F.label){case 0:return[4,D.prototype.isDisabled.call(this)];case 1:return[2,F.sent()||this.explorationSettings&&this.explorationSettings.exportDataMode&&2===this.explorationSettings.exportDataMode||this.menuOptions.exportDataDenied||this.featureSwitchService.featureSwitches.disableExportDataOnVisualError&&this.visualHasError()||!!this.visualContainer.visualPausedWarning||(0,f.iv)(this.visualContainer.contract)||(0,f.tL)(this.visualContainer.contract)]}})})},L.prototype.visualHasError=function(){return!!this.visualContainer.errorInfo},L.prototype.getToolTip=function(F){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return[4,this.isDisabled()];case 1:return N.sent()?this.menuOptions.exportDataDenied?[2,F.get("ExportData_DeniedTooltip")]:(0,f.iv)(this.visualContainer.contract)||(0,f.tL)(this.visualContainer.contract)?[2,F.get("ExportData_DisabledTooltip_For_VC_Hidden")]:this.visualHasError()?[2,F.get("VisualContainer_ExportDataDisabled_VisualError_Tooltip")]:[2,F.get("VisualContainer_ExportDataDisabled_Tooltip")]:[2,null]}})})},L}(l.V),a=function(D){function L(F,A,O,N,w,I){var B=D.call(this,"AddComment",void 0,"itemIcon glyphicon glyph-small pbi-glyph-comment",I&&I.addComment)||this;return B.visualContainer=F,B.eventBridge=A,B.menuOptions=O,B.contextActivityService=N,B.source=w,B}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"AddCommentVisual",this.source),this.eventBridge.publishToChannel(c.v3I,{visualContainerId:this.visualContainer.id}),F.resolve(),[2]})})},L.prototype.isVisible=function(){return this.menuOptions.canAddComment&&D.prototype.isVisible.call(this)},L}(l.V),i=function(D){function L(F,A,O,N,w,I,B,j,W){var U=D.call(this,"ReportAppBar_Alerts",void 0,"itemIcon glyphicon glyph-small pbi-glyph-bell",W&&W.reflexTrigger)||this;return U.visualContainer=F,U.selection=A,U.paneVisibilityService=O,U.featureSwitchService=N,U.explorationCapabilitiesService=w,U.contextActivityService=I,U.telemetryService=B,U.source=j,U}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return F=R(this.visualContainer.name,this.contextActivityService,"ReflexTriggerAction",this.source),s.UP.selectCanvasItem(this.visualContainer.contract,this.selection),this.paneVisibilityService.isPaneVisible("reflex")||(this.paneVisibilityService.togglePaneVisibility("reflex"),this.telemetryService.logEvent(n.RfG,{visualType:this.visualContainer.getVisualType(),visualName:this.visualContainer.name})),F.resolve(),[2]})})},L.prototype.isVisible=function(){var F;return(0,e.__awaiter)(this,void 0,h.J,function(){var A,O;return(0,e.__generator)(this,function(N){return A=(null===(F=this.featureSwitchService.featureSwitches)||void 0===F?void 0:F.projectTridentOverall)||!!/trident=(1|true)/.test(location.search),O=this.explorationCapabilitiesService.getCapabilities(),[2,!!this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&!!this.featureSwitchService.featureSwitches.tridentProductReflex&&!!this.featureSwitchService.featureSwitches.reflexPBIArtifact&&A&&!0===O.reflex&&D.prototype.isVisible.call(this)]})})},L}(l.V),m=function(D){function L(F,A,O,N,w,I,B){var j=D.call(this,"Edit_ToolTip",void 0,"itemIcon glyphicon pbi-glyph-edit glyph-mini",B&&B.enterAdvancedEditMode)||this;return j.visualContainer=F,j.eventBridge=A,j.overlayService=O,j.menuOptions=N,j.contextActivityService=w,j.source=I,j}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"EnterAdvancedEditMode",this.source),this.eventBridge.publishToChannel(c.OKC,{editMode:1,visualContainer:this.visualContainer.contract}),this.overlayService.hideAllDropdowns(),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canEdit&&D.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,!!this.visualContainer.visualPausedWarning||D.prototype.isDisabled.call(this)]})})},L}(l.V),u=function(D){function L(F,A,O,N,w,I,B){var j=D.call(this,"Remove_visual",void 0,"itemIcon glyphicon pbi-glyph-close glyph-mini",B&&B.removeVisual)||this;return j.visualContainer=F,j.eventBridge=A,j.undoRedo=O,j.menuOptions=N,j.contextActivityService=w,j.source=I,j}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A=this;return(0,e.__generator)(this,function(O){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),b.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"DeleteVisualContainer",this.source),this.undoRedo.register("DeleteVisualContainer",function(){A.eventBridge.publishToChannel(c.Un,A.visualContainer.contract)}),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canDelete&&D.prototype.isVisible.call(this)]})})},L}(l.V),d=function(D){function L(F,A,O,N,w,I){return D.call(this,"Visual_Cluster_FindGroups","itemIcon glyphicon pbi-glyph-scatter glyph-small",F,A,O,N,w,I)||this}return(0,e.__extends)(L,D),L}(function(D){function L(F,A,O,N,w,I,B,j){var W=D.call(this,F,void 0,A,j&&j.clusters)||this;return W.visualContainer=O,W.eventBridge=N,W.menuOptions=w,W.contextActivityService=I,W.source=B,W}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"ClustersSpatial",this.source),this.eventBridge.publishToChannel(c.zdm,{visualContainer:this.visualContainer.contract}),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canCluster&&D.prototype.isVisible.call(this)]})})},L}(l.V)),S=function(D){function L(F,A,O,N,w,I){var B=D.call(this,"Spotlight",void 0,"itemIcon glyphicon pbi-glyph-flashlight glyph-small",I&&I.spotlight)||this;return B.visualContainer=F,B.visibility=A,B.menuOptions=O,B.contextActivityService=N,B.source=w,B.selected=B.isSpotlightOn,B}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.visibility,"visibility service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"ToggleSpotlight",this.source),4===this.visualContainer.contract.visibility?this.visibility.clear():this.visibility.set(this.visualContainer.contract,4),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSpotlightOn),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canSpotlight&&D.prototype.isVisible.call(this)]})})},Object.defineProperty(L.prototype,"isSpotlightOn",{get:function(){return 4===this.visualContainer.contract.visibility},enumerable:!1,configurable:!0}),L}(l.V),g=function(D){function L(F,A,O,N,w,I,B){var j=D.call(this,"ChatInTeams",void 0,"itemIcon glyphicon glyph-small pbi-glyph-teamslogo",B&&B.shareToTeams)||this;return j.visualContainer=F,j.visibility=A,j.eventBridge=O,j.menuOptions=N,j.contextActivityService=w,j.source=I,j}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),b.fF.assertValue(this.visibility,"visibility service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"ShareToTeamsVisual",this.source),this.visibility.set(this.visualContainer.contract,4),this.eventBridge.publishToChannel(c.CVC),F.resolve(),[2]})})},L.prototype.isVisible=function(){return this.menuOptions.canShareToTeams&&D.prototype.isVisible.call(this)},L}(l.V),y=function(D){function L(F,A,O,N,w,I,B,j,W,U,k,Q){var te=D.call(this,F,void 0,A,k&&k.sort,void 0,void 0,Q)||this;return te.sortDirection=O,te.visualContainer=N,te.eventBridge=w,te.overlayService=I,te.menuOptions=B,te.sortGroup=j,te.contextActivityService=W,te.source=U,te.selected=te.isHighlighted,te}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A;return(0,e.__generator)(this,function(N){return b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"Sort",this.source),this.overlayService.hideAllDropdowns(),A=this.getSortByField(),this.eventBridge.publishToChannel(c.up$,{visualContainer:this.visualContainer.contract,sortableField:A,sortDirection:this.sortDirection,sortGroup:this.sortGroup}),F.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canSort&&D.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){switch(F.label){case 0:return[4,D.prototype.isDisabled.call(this)];case 1:return[2,F.sent()||void 0===this.getSortByField()]}})})},Object.defineProperty(L.prototype,"activeSortableField",{get:function(){return _.find(this.sortGroup.fields,function(A){return A.active})},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isHighlighted",{get:function(){return void 0!==this.activeSortableField&&this.activeSortableField.sortDirection===this.sortDirection},enumerable:!1,configurable:!0}),L.prototype.getSortByField=function(){if(this.sortGroup.fields)return 1===_.size(this.sortGroup.fields)?this.sortGroup.fields[0]:this.activeSortableField},L}(l.V),C=function(D){function L(F,A,O,N,w,I,B,j,W){return D.call(this,"Sort_Desc","itemIcon glyphicon pbi-glyph-ztoa glyph-small",2,F,A,O,N,w,I,B,j,W)||this}return(0,e.__extends)(L,D),L}(y),E=function(D){function L(F,A,O,N,w,I,B,j){return D.call(this,"Sort_Asc","itemIcon glyphicon pbi-glyph-atoz glyph-small",1,F,A,O,N,w,I,B,j)||this}return(0,e.__extends)(L,D),L}(y),M=function(D){function L(F,A,O,N,w,I,B){var j=D.call(this,"MobileFooter_SortBy",void 0,void 0,B&&B.sort)||this;return j.visualContainer=F,j.eventBridge=A,j.overlayService=O,j.menuOptions=N,j.contextActivityService=w,j.source=I,j.displayOverride=B,j}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){switch(A.label){case 0:return(F=this.menuOptions.canSort)?[4,D.prototype.isVisible.call(this)]:[3,2];case 1:F=A.sent(),A.label=2;case 2:return F?[2,_.size(this.menuOptions.sortSetting.sortableFields)>1]:[2,!1]}})})},L.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A,O,w=this;return(0,e.__generator)(this,function(I){return F=this.menuOptions.sortSetting.sortableFields,A=1===this.visualContainer.readOnlyState.actualSortDirection?"Sort_Asc":"Sort_Desc",O=_.some(this.menuOptions.sortSetting.sortableFields,function(B){return B.active}),[2,_.map(F,function(B){return new T(w.visualContainer,B,O?A:void 0,w.eventBridge,w.overlayService,w.contextActivityService,w.source,w.displayOverride)})]})})},L}(l.V),P=function(D){function L(F,A,O,N,w,I,B,j){var W=D.call(this,"Sort_Group"+w.displayName,void 0,void 0,j&&j.sort)||this;return W.visualContainer=F,W.eventBridge=A,W.overlayService=O,W.menuOptions=N,W.sortGroup=w,W.contextActivityService=I,W.source=B,W.displayOverride=j,W}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2]})})},L.prototype.title=function(F){return F.format("Sort_Group",F.get(this.sortGroup.displayName))},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(A){switch(A.label){case 0:return(F=this.menuOptions.canSort)?[4,D.prototype.isVisible.call(this)]:[3,2];case 1:F=A.sent(),A.label=2;case 2:return F?[2,!0]:[2,!1]}})})},L.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A,O,N;return(0,e.__generator)(this,function(B){for(F=[],A=0,O=this.sortGroup.fields;A<O.length;A++)F.push(new T(this.visualContainer,N=O[A],1===N.sortDirection?"Sort_Asc":"Sort_Desc",this.eventBridge,this.overlayService,this.contextActivityService,this.source,this.displayOverride));return F.push(new C(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride,1),new E(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride)),[2,F]})})},L}(l.V),T=function(D){function L(F,A,O,N,w,I,B,j){var W=D.call(this,A.displayName,void 0,void 0,j&&j.sort)||this;return W.visualContainer=F,W.sortField=A,W.sortDirectionKey=O,W.eventBridge=N,W.overlayService=w,W.contextActivityService=I,W.source=B,W.selected=W.sortField.active,W}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F;return(0,e.__generator)(this,function(O){return b.fF.assertValue(this.sortField,"expect sortField to be defined."),b.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),F=R(this.visualContainer.name,this.contextActivityService,"SortBy",this.source),this.overlayService.hideAllDropdowns(),this.eventBridge.publishToChannel(c.zgs,{sortableField:this.sortField,sortDirection:this.visualContainer.readOnlyState.actualSortDirection,visualContainer:this.visualContainer.contract}),F.resolve(),[2]})})},L.prototype.title=function(F){return this.sortField.displayName},L.prototype.getToolTip=function(F){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(A){return this.sortDirectionKey?[2,this.sortField.displayName+", "+F.get(this.sortDirectionKey)]:[2,this.title(F)]})})},L}(l.V),x=function(D){function L(F,A,O,N,w,I,B){var j=D.call(this,"AutomatedInsights_AppBar_GetInsights",void 0,"itemIcon glyphicon pbi-glyph-insight glyph-small",B&&B.insightsAnalysis)||this;return j.visualContainer=F,j.menuOptions=A,j.lazyScoped=O,j.telemetryService=N,j.contextActivityService=w,j.source=I,j}return(0,e.__extends)(L,D),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return this.telemetryService.logEvent(n.Jab,{visualType:(0,v.s)(this.visualContainer.contract),visualName:this.visualContainer.contract.name}),F=R(this.visualContainer.name,this.contextActivityService,"GetAutomatedInsights",this.source),[4,this.lazyScoped.get("automatedInsightsQuery")];case 1:return A=O.sent(),b.fF.assertValue(A,"GetInsightsCommand automatedInsightsQuery"),A.showAutomatedInsights({entryPoint:"VisualOptionsMenu",queryOptions:{summarySelectionOptions:{visualsToSummarize:[this.visualContainer.contract]},updateProcessingState:!0},enforcePremiumLicensing:!0,viewOnlyNoteworthy:!1}),F.resolve(),[2]}})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(F){return[2,this.menuOptions.canGetInsights&&D.prototype.isVisible.call(this)]})})},L}(l.V);function R(D,L,F,A){return L.createActivity({name:"VisualAction",visualName:D,data:{action:F,source:A}})}},251177:function(Je,H,t){t.d(H,{e:function(){return l},q:function(){return r}});var e=t(226514),c=t(630326),s=t(823542),f=t(643068),v=t(1010),b=t(787941),h=t(448711),p=t(967908),n={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},l=function(){function o(a){this.services=a,this.instanceId=void 0}return o.initialize=function(a){b.fF.assertValue(a,"localize"),!o.initialized&&(o.initialized=!0,(0,h.X0)(o.createLocaleOptions(a)),v.I6.localizationOptions=o.createTooltipLocaleOptions(a),(0,p.iZ)(o.createDataViewTransformLocalizationOptions(a)))},o.createLocaleOptions=function(a){return b.fF.assertValue(a,"localize"),{null:a.get("NullValue"),true:a.get("BooleanTrue"),false:a.get("BooleanFalse"),NaN:a.get("NaNValue"),infinity:a.get("InfinityValue"),negativeInfinity:a.get("NegativeInfinityValue"),beautify:function(m){return o.beautify(a,m)},describe:function(m){return o.describeUnit(a,m)},restatementComma:a.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:a.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:a.get("Generic_Or")}},o.createTooltipLocaleOptions=function(a){return{highlightedValueDisplayName:a.get(v.I6.highlightedValueDisplayNameResorceKey)}},o.createDataViewTransformLocalizationOptions=function(a){return{quarterPrefix:a.get(f.mG)}},o.prototype.getLocalizedString=function(a){for(var i,m=[],u=1;u<arguments.length;u++)m[u-1]=arguments[u];return(i=this.services.localizationService).format.apply(i,(0,e.__spreadArray)([a],m||[],!1))},o.prototype.requestFocus=function(a){c.IK.focus(a)},o.prototype.alertScreenReader=function(a){},o.prototype.alertWithDebounce=function(a,i){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(a,i)},o.prototype.onDragStart=function(){},o.prototype.getVisualLinkProperties=function(){},o.prototype.canSelect=function(){return!1},o.prototype.onSelecting=function(){},o.prototype.onSelect=function(){},o.prototype.onSwitchFocusModeState=function(){},o.prototype.canExpandCollapse=function(a){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(a)},o.prototype.setNodeExpansionState=function(a){},o.prototype.setLevelExpansionState=function(a){},o.prototype.setCanDrill=function(a){},o.prototype.onContextMenu=function(){},o.prototype.loadMoreData=function(){},o.prototype.loadWindow=function(a){},o.prototype.setShouldDeferData=function(){},o.prototype.persistProperties=function(a){},o.prototype.onCustomSort=function(a){},o.prototype.getViewMode=function(){return 0},o.prototype.getEditMode=function(){return 0},o.prototype.setWarnings=function(a){},o.prototype.getWarnings$=function(){},o.prototype.setToolbar=function(a){},o.prototype.shouldRetainSelection=function(){return!1},o.prototype.geocoder=function(){return this.services.geocoder},o.prototype.geolocation=function(){return this.services.geolocation},o.prototype.locale=function(){return(0,s.uD)()},o.prototype.promiseFactory=function(){return this.services.promiseFactory},o.prototype.ignoreDefaultFilter=function(){return!1},o.prototype.getIdentityDisplayNames=function(a){},o.prototype.setIdentityDisplayNames=function(a){},o.prototype.setFilterExpressionMetadata=function(){},o.prototype.getFilterExpressionMetadata=function(){},o.prototype.decompositionService=function(){},o.prototype.dropdown=function(){},o.prototype.tooltips=function(){return this.services.visualHostTooltipService},o.prototype.telemetry=function(){},o.prototype.authenticationService=function(){return this.services.authenticationService},o.prototype.localStorageService=function(){},o.prototype.acquireAADTokenService=function(){},o.prototype.eventService=function(){},o.prototype.licenseManagerService=function(){},o.prototype.drill=function(a){},o.prototype.loader=function(){return this.services.moduleLoader},o.prototype.getUIComponentFactory=function(){},o.prototype.applyJsonFilter=function(a,i,m,u){},o.prototype.applyIdentityFilter=function(a,i,m,u){},o.prototype.launchUrl=function(a){},o.prototype.refreshHostData=function(){},o.prototype.getJSONFilter=function(a,i){return this.promiseFactory().reject()},o.prototype.onHyperlinkClick=function(a,i){},o.prototype.visualTimeSynchronization=function(){},o.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},o.prototype.dataMultiSelectMode=function(){return 0},o.prototype.networkAvailability=function(){},o.prototype.downloadService=function(){},o.prototype.setAriaMetadata=function(a){},o.prototype.artifactService=function(){},o.prototype.getSectionsMetadata$=function(){},o.prototype.getBookmarksMetadata$=function(){},o.prototype.visualExportService=function(){},o.prototype.onNotifyLicense=function(a){this.services.onNotifyLicense&&this.services.onNotifyLicense(a)},o.prototype.onClearLicenseNotification=function(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()},o.prototype.onNotifyFeatureBlocked=function(a){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(a)},o.prototype.getSubSelectionService=function(){},o.prototype.webAccessService=function(){},o.prototype.getAzureMapToken=function(){return this.services.getAzureMapToken()},o.prototype.azureMapsEndpoint=function(){return this.services.azureMapsEndpoint},o.prototype.geocoderIndexedDB=function(){return this.services.geocoderIndexedDB},o.prototype.triggerUpdate=function(){},o.prototype.isScreenshotWorkload=function(){return!1},o.prototype.localStorageV2Service=function(){},o.prototype.aiNarrativesService=function(){},o.prototype.dateTimeFormatService=function(){},o.prototype.visualHostSubSelectionService=function(){},o.beautify=function(a,i){var m=n[i];return m?((0,h.J6)(m),a.getOptional(m)||i):i},o.describeUnit=function(a,i){var m=-1===i?"Auto":i.toString(),u=a.getOptional("DisplayUnitSystem_E"+m+"_Title"),V=i<=0?"{0}":a.getOptional("DisplayUnitSystem_E"+m+"_LabelFormat");if(u||V)return{title:u,format:V}},o}();function r(o){return new l(o)}},94041:function(Je,H,t){t.d(H,{w:function(){return o}});var e=t(226514),c=t(276937),s=t(809395),f=t(787941),v=t(144900),b=t(668268),h=t(620108),p=t(13106),l=(t(324356),t(334048)),r=t(474147);function o(){var a=h.MD,i=p.yl,u=l.b,d=function(){function y(C,E,M,P,T,x,R,D,L){this.explorationStateManager=C,this.explorationNavigation=E,this.explorationSerializer=M,this.featureSwitchService=P,this.visualPlugin=T,this.conceptualSchemaProxy=x,this.dataSources=R,this.displayNameService=D,this.visualAuthoringOperations=L}return y.prototype.generateUniqueGroupName=function(C,E,M){var T,P=this.getVisualSyncField(E);T=P?this.displayNameService.getDisplayName(P,C,this.visualPlugin.capabilities(E.visualType)):"Group",f.fF.assert(function(){return!_.isEmpty(T)},"expected preferred name for group");for(var x=T,R=1;x in M;)x=T+R++;return x},y.prototype.syncFilterState=function(C,E){return(0,e.__awaiter)(this,void 0,v.J,function(){var M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U,k,Q;return(0,e.__generator)(this,function(te){switch(te.label){case 0:return this.canSyncVisual(M=C.config.singleVisual)&&M.syncGroup?(P=this.getOtherSectionsInSyncGroup(M),_.isEmpty(P)?[2]:[4,this.conceptualSchemaProxy.get(this.dataSources.get())]):[2];case 1:for(T=te.sent(),x=this.explorationStateManager.captureFilterState(M),E=E&&M.syncGroup.filterChanges,R=this.visualPlugin.capabilities(M.visualType),D={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},L=a(R.objects),F=L&&(0,b.NA)(x.objects.merge,L,null),A=[],O=0,N=P;O<N.length;O++)for((0,s.Dl)((w=N[O]).section),I=0,B=w.visualContainers;I<B.length;I++){if(j=B[I],W=E&&this.syncFilters(j,C.filters),U=x,F){if(k=(0,b.NA)(j.config.singleVisual.objects,L,null),Q=this.replaceSemanticFilterField(C.config.singleVisual.query.defn,F,j.config.singleVisual.query.defn,k,T),F&&!Q){W&&this.visualAuthoringOperations.notifyVisualContainers([j]);continue}Q!==F&&((U=(0,c.Ay)(U,this.visualPlugin,this.featureSwitchService)).cachedFilterDisplayItems=void 0,U.filterExpressionMetadata=void 0,(0,b.sO)(U.objects.merge,L,null,Q))}D.targetVisualNames.push(j.name),A.push({visual:j,state:U,impacted:W})}return _.isEmpty(A)||this.explorationStateManager.applyFilterState(A,T),[2]}})})},y.prototype.syncVisualFiltersState=function(C,E){void 0===E&&(E=!0),f.fF.assertValue(C,"syncVisualFilterState - sourceVisual should be defined"),f.fF.assertValue(C.config,"syncVisualFilterState - sourceVisual config should be defined");var M=C.config.singleVisual,P=[];if(this.canSyncVisual(M)&&M.syncGroup.filterChanges){for(var x=0,R=this.getOtherSectionsInSyncGroup(M);x<R.length;x++){var D=R[x];if(!_.isEmpty(D.visualContainers))for(var L=0,F=D.visualContainers;L<F.length;L++){var A=F[L];this.syncFilters(A,C.filters)&&P.push(A)}}E&&this.visualAuthoringOperations.notifyVisualContainers(P)}},y.prototype.syncFilters=function(C,E){var M=_.isEmpty(E);if(C.config.singleVisual.syncGroup.filterChanges){if(M&&!_.isEmpty(C.filters))return C.filters=[],!0;if(!M){var P=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(E),[],!0);return C.filters=P,!0}}return!1},y.prototype.getVisualsAffectByFieldChanges=function(C){var E=C.config.singleVisual;return this.canSyncVisual(E)&&E.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(E),function(M){return M.config.singleVisual.syncGroup.fieldChanges}):[]},y.prototype.canSyncVisual=function(C){if(!C.syncGroup)return!1;var E=this.visualPlugin.capabilities(C.visualType),M=E&&E.supportsSynchronizingFilterState;return f.fF.assert(function(){return M},"Visual has a sync group, but does not support syncing"),M},y.prototype.getOtherVisualsInSyncGroup=function(C){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(C))},y.prototype.getVisualsInSectionsSyncGroup=function(C){for(var E=[],M=0,P=C;M<P.length;M++)E.push.apply(E,P[M].visualContainers||[]);return E},y.prototype.getOtherSectionsInSyncGroup=function(C){if(!C.syncGroup)return[];if(!C.syncGroup.groupName)return f.fF.assertFail("expected non-empty group name"),[];for(var M=[],P=0,T=this.explorationNavigation.getCurrentExploration().sections;P<T.length;P++){var x=T[P],R=_.filter(x.visualContainers,function(D){var L=D.config.singleVisual;return L!==C&&L.syncGroup&&L.syncGroup.groupName===C.syncGroup.groupName&&L.visualType===C.visualType});_.isEmpty(R)||M.push({section:x,visualContainers:R})}return M},y.prototype.getVisualSyncField=function(C){var E=C.query.defn.select();return f.fF.assertValue(E,"fields can't be null"),0===E.length?(f.fF.assertFail("Expected sync group visual to have at least one field"),null):E[0].expr},y.prototype.replaceSemanticFilterField=function(C,E,M,P,T){if(!E)return E;var x=C.select(),R=M.select();if(x.length===R.length){if(x.length>1)return _.differenceWith(x,R,function(w,I){return(0,r.fS)(w.expr,I.expr)}).length?void 0:E;if(1!==x.length)return void f.fF.assertFail("Expected single select in source and target queries");if((0,r.fS)(x[0].expr,R[0].expr))return E;var L=S.extract(E);if(!L)return void f.fF.assertFail("could not extract a single field from the source filter expression");if(!P){var F=E.conditions();if(1!==F.length)return void f.fF.assertFail("expected single condition");var A=R[0].expr.getKeyColumns(T);if(1!==A.length)return void f.fF.assertFail("can only sync slicers on single-key columns when syncing across different fields");var O=g.replaceCondition(F[0],L,A[0]);return i.fromSQExpr(O)}var N=S.extract(P);return N?g.replace(E,L,N):void f.fF.assertFail("expected incoming and target fields for SemanticFilter rewrite")}},y}(),S=function(y){function C(){return y.call(this)||this}return(0,e.__extends)(C,y),C.extract=function(E){var M=new C;return E.rewrite(M),M.foundSingleField&&M.fieldExpr},C.prototype.visitHierarchyLevel=function(E){return this.setFieldExpr(E),E},C.prototype.visitColumnRef=function(E){return this.setFieldExpr(E),E},C.prototype.setFieldExpr=function(E){if(!this.fieldExpr)return this.fieldExpr=E,void(this.foundSingleField=!0);(0,r.fS)(this.fieldExpr,E)||(this.foundSingleField=!1,f.fF.assertFail("found multiple fields in SemanticFilter"))},C}(u),g=function(y){function C(E,M){var P=y.call(this)||this;return P.before=E,P.after=M,P}return(0,e.__extends)(C,y),C.replace=function(E,M,P){if((0,r.fS)(M,P))return E;var T=new C(M,P);return E.rewrite(T)},C.replaceCondition=function(E,M,P){if((0,r.fS)(M,P))return E;var T=new C(M,P);return E.accept(T)},C.prototype.visitColumnRef=function(E){if((0,r.fS)(E,this.before))return this.after},C}(l.b);return{create:function(y,C,E,M,P,T,x,R,D){return new d(y,C,E,M,P,T,x,R,D)}}}},548556:function(Je,H,t){t.d(H,{$9b:function(){return ar},$FE:function(){return v},$Zr:function(){return ye},$xe:function(){return nr},A2J:function(){return Ee},AS5:function(){return ua},Aog:function(){return Ce},BKg:function(){return ui},CDV:function(){return G},Dbt:function(){return Rr},EuU:function(){return Ei},FQA:function(){return Z},F_y:function(){return Hr},GDm:function(){return Yi},Gk2:function(){return Pe},H95:function(){return Dt},Hbu:function(){return zr},HgC:function(){return D},Hn8:function(){return Ae},Htt:function(){return ct},Hvk:function(){return Sr},Im5:function(){return Wr},JBw:function(){return Bi},Jab:function(){return Mi},K2L:function(){return Pi},KC9:function(){return O},LMe:function(){return Ar},LPp:function(){return ir},Lfd:function(){return ae},Ly$:function(){return J},LyQ:function(){return Ai},MMo:function(){return kr},Mjo:function(){return ut},N15:function(){return st},Nsy:function(){return Qt},Og1:function(){return a},OvK:function(){return Vt},Piu:function(){return Qe},Pro:function(){return pr},Q5S:function(){return n},QBi:function(){return Oe},Qkf:function(){return tr},RU3:function(){return Ve},RfG:function(){return qi},SuX:function(){return rr},T7R:function(){return St},Tei:function(){return or},V1H:function(){return pe},V3X:function(){return Be},WZm:function(){return Et},X7L:function(){return P},X9Z:function(){return Ur},XON:function(){return $r},XfB:function(){return vt},YBT:function(){return ve},_rP:function(){return me},a6h:function(){return F},amt:function(){return $t},b3D:function(){return Kr},bCE:function(){return Ct},eru:function(){return gr},f5P:function(){return It},fbs:function(){return jt},fg8:function(){return B},gEB:function(){return dr},gOc:function(){return m},hbA:function(){return Gi},heC:function(){return h},iZX:function(){return ie},ig4:function(){return Pr},j5C:function(){return X},jOG:function(){return w},jkG:function(){return Zi},jvW:function(){return Nr},knl:function(){return Re},l$8:function(){return r},lJ4:function(){return k},l_t:function(){return Pt},lm7:function(){return gi},mC$:function(){return S},m_M:function(){return pt},my7:function(){return y},q1S:function(){return Xe},rJV:function(){return wr},spf:function(){return W},uEy:function(){return V},u_F:function(){return he},vLR:function(){return x},zae:function(){return ei},zb_:function(){return E},zu$:function(){return te}});var e=t(853811),c="PBI.EX.NewExploration",f=(e.cx[c]=(0,e.b1)(c),"PBI.EX.RefreshReport"),v=e.cx[f]=(0,e.b1)(f),b="PBI.EX.SaveExploration",h=e.cx[b]=(0,e.b1)(b),p="PBI.EX.InteractionVisualConversion",n=e.cx[p]=(0,e.b1)(p),l="PBI.EX.InteractionExpand",r=e.cx[l]=(0,e.b1)(l,{logExpAssignment:!0}),o="PBI.EX.InteractionDrill",a=e.cx[o]=(0,e.b1)(o,{logExpAssignment:!0}),i="PBI.EX.DrillToDetails",m=e.cx[i]=(0,e.b1)(i,{logExpAssignment:!0}),u="PBI.EX.AddFilter",V=e.cx[u]=(0,e.b1)(u),d="PBI.EX.ClearFilter",S=e.cx[d]=(0,e.b1)(d,{logExpAssignment:!0}),g="PBI.EX.RemoveFilter",y=e.cx[g]=(0,e.b1)(g),C="PBI.EX.HideFilter",E=e.cx[C]=(0,e.b1)(C),M="PBI.EX.LockFilter",P=e.cx[M]=(0,e.b1)(M),T="PBI.EX.TogglePaneExpanded",x=e.cx[T]=(0,e.b1)(T),R="PBI.EX.ToggleFilterCardExpanded",D=e.cx[R]=(0,e.b1)(R),L="PBI.EX.ToggleFilterCardSort",F=e.cx[L]=(0,e.b1)(L),A="PBI.EX.FilterPaneAdvancedFilterApplied",O=e.cx[A]=(0,e.b1)(A),N="PBI.EX.FilterPaneTopNFilterApplied",w=e.cx[N]=(0,e.b1)(N),I="PBI.EX.FilterPaneRelativeDateFilterApplied",B=e.cx[I]=(0,e.b1)(I),j="PBI.EX.FilterPaneRelativeTimeFilterApplied",W=e.cx[j]=(0,e.b1)(j),U="PBI.EX.FilterPaneBasicFilterChanged",k=e.cx[U]=(0,e.b1)(U,{logExpAssignment:!0}),Q="PBI.EX.FilterPaneFilterDefaultRestored",te=e.cx[Q]=(0,e.b1)(Q),ee="PBI.EX.FilterPaneFilterCleared",J=e.cx[ee]=(0,e.b1)(ee,{logExpAssignment:!0}),re="PBI.EX.FilterPaneFilterDeleted",G=e.cx[re]=(0,e.b1)(re),ne="PBI.EX.FilterPaneInteraction",X=e.cx[ne]=(0,e.b1)(ne,{logExpAssignment:!0}),oe="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",Ve=e.cx[oe]=(0,e.b1)(oe,{logExpAssignment:!0}),Te="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",Qe=e.cx[Te]=(0,e.b1)(Te),He="PBI.EX.ImprovedFilterExperience.ShowRestatement",Ce=e.cx[He]=(0,e.b1)(He,{logExpAssignment:!0}),de="PBI.EX.LoadFilterError",pe=e.cx[de]=(0,e.b1)(de),le="PBI.EX.CreateVisual",me=e.cx[le]=(0,e.b1)(le,{logExpAssignment:!0}),be="PBI.EX.AddField",Be=e.cx[be]=(0,e.b1)(be),Se="PBI.EX.ResolveParameters",Pe=e.cx[Se]=(0,e.b1)(Se,{logRatio:.001}),ue="PBI.EX.SwitchQueryParameter",ve=e.cx[ue]=(0,e.b1)(ue),xe="PBI.EX.ChangeQuickCalc",ie=e.cx[xe]=(0,e.b1)(xe),Fe="PBI.EX.SetConditionalFormatting",We=(e.cx[Fe]=(0,e.b1)(Fe),"PBI.EX.SetDataBars"),Oe=e.cx[We]=(0,e.b1)(We),Ze="PBI.EX.ExplorationRefresh",Ee=e.cx[Ze]=(0,e.b1)(Ze),K="PBI.EX.SnapshotEmbedCreate",Y=(e.cx[K]=(0,e.b1)(K),"PBI.EX.PublicEmbedCreate"),ye=e.cx[Y]=(0,e.b1)(Y),rt="PBI.EX.SnapshotEmbedDelete",Ue=(e.cx[rt]=(0,e.b1)(rt),"PBI.EX.SnapshotEmbedUpdate"),Le=(e.cx[Ue]=(0,e.b1)(Ue),"PBI.EX.ImportCustomViz"),Xe=e.cx[Le]=(0,e.b1)(Le),et="PBI.EX.CdnVisualOverride",he=e.cx[et]=(0,e.b1)(et),ce="PBI.EX.DeleteCustomViz",Re=e.cx[ce]=(0,e.b1)(ce),Ge="PBI.EX.EnableCustomViz",ut=e.cx[Ge]=(0,e.b1)(Ge),je="PBI.EX.VisualRelationshipOverride",ae=e.cx[je]=(0,e.b1)(je),fe="PBI.EX.CodePaneUserRunScript",ze=(e.cx[fe]=(0,e.b1)(fe),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),ot=(e.cx[ze]=(0,e.b1)(ze),"PBI.EX.CodePaneUserOpenOptionsDialog"),ke=(e.cx[ot]=(0,e.b1)(ot),"PBI.EX.CodePaneLaunchExternalIDEFailed"),Tt=(e.cx[ke]=(0,e.b1)(ke),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),Kt=(e.cx[Tt]=(0,e.b1)(Tt),"PBI.EX.CodePaneShowWarning"),er=(e.cx[Kt]=(0,e.b1)(Kt),"PBI.EX.ExportVisualData"),ar=e.cx[er]=(0,e.b1)(er,{logExpAssignment:!0}),sr="PBI.EX.LoadReportWithScriptVis",gr=e.cx[sr]=(0,e.b1)(sr),mr="PBI.ExploreHost.ChangeReportPage",Sr=e.cx[mr]=(0,e.b1)(mr),Mr="PBI.EX.RemoveMobileCanvasVisuals",St=e.cx[Mr]=(0,e.b1)(Mr),Gt="PBI.EX.LoadReportContainer",rr=e.cx[Gt]=(0,e.b1)(Gt),Fr="PBI.EX.LoadReportContainerDatasetMissing",wr=e.cx[Fr]=(0,e.b1)(Fr),Vr="PBI.EX.InitExploration",Ar=e.cx[Vr]=(0,e.b1)(Vr),vr="PBI.EX.LoadExplorationVisuals",$r=e.cx[vr]=(0,e.b1)(vr,{defaultTimeoutSec:60,logExpAssignment:!0}),Qr="PBI.EX.VisualContainerChanged",zr=e.cx[Qr]=(0,e.b1)(Qr,{logRatio:0}),Or="PBI.EX.RenderExplorationVisual",ei=e.cx[Or]=(0,e.b1)(Or,{logRatio:.01}),Xr="PBI.EX.FetchExploration",Nr=e.cx[Xr]=(0,e.b1)(Xr),Yr="PBI.EX.ChangeCanvasLayout",Hr=e.cx[Yr]=(0,e.b1)(Yr),Zr="PBI.EX.Clustering.AddClustering",ht=(e.cx[Zr]=(0,e.b1)(Zr),"PBI.EX.Clustering.EditClustering"),lt=(e.cx[ht]=(0,e.b1)(ht),"PBI.EX.QuickMeasures.OpenDialog"),mt=(e.cx[lt]=(0,e.b1)(lt),"PBI.EX.QuickMeasures.DialogResult"),At=(e.cx[mt]=(0,e.b1)(mt),"PBI.EX.QuickMeasures.OnMeasureChange"),Ht=(e.cx[At]=(0,e.b1)(At),"PBI.EX.Drillthrough.GotoTarget"),nr=e.cx[Ht]=(0,e.b1)(Ht,{logExpAssignment:!0}),lr="PBI.EX.Drillthrough.FilterUpdate",dr=e.cx[lr]=(0,e.b1)(lr),fr="PBI.EX.RefreshHostData",Pr=e.cx[fr]=(0,e.b1)(fr),yr="PBI.EX.BookmarkAdd",Rr=e.cx[yr]=(0,e.b1)(yr),Mt="PBI.EX.BookmarkUpdate",pt=e.cx[Mt]=(0,e.b1)(Mt),se="PBI.EX.BookmarkDelete",Z=e.cx[se]=(0,e.b1)(se),Ye="PBI.EX.BookmarkPlay",vt=e.cx[Ye]=(0,e.b1)(Ye),Ft="PBI.EX.BookmarkApply",ir=e.cx[Ft]=(0,e.b1)(Ft),Cr="PBI.EX.Bookmark.LoadError",Et=e.cx[Cr]=(0,e.b1)(Cr),qe="PBI.EX.CopyPasteSyncGroup",Pt=e.cx[qe]=(0,e.b1)(qe),Nt="PBI.EX.CustomDateTableValidationResult",jt=e.cx[Nt]=(0,e.b1)(Nt),Xt="PBI.EX.UpdateActiveSection",Ae=e.cx[Xt]=(0,e.b1)(Xt,{defaultTimeoutSec:10}),tt="PBI.EX.VisualContainerApplyUpdate",ct=e.cx[tt]=(0,e.b1)(tt,{logRatio:0}),bt="PBI.EX.VisualDataChanged",Dt=e.cx[bt]=(0,e.b1)(bt,{logRatio:0}),Rt="PBI.EX.ApplySlicer",It=e.cx[Rt]=(0,e.b1)(Rt,{logExpAssignment:!0}),Ut="PBI.EX.ApplyAllClicked",$t=e.cx[Ut]=(0,e.b1)(Ut),Ot="PBI.EX.SelectDataPoint",tr=e.cx[Ot]=(0,e.b1)(Ot,{logExpAssignment:!0}),cr="PBI.EX.RefreshSingleVisual",pr=e.cx[cr]=(0,e.b1)(cr),_r="PBI.EX.PerformanceAnalyzerRefreshReport",Ur=e.cx[_r]=(0,e.b1)(_r),Lr="PBI.EX.PerformanceAnalyzerExportLogs",Wr=e.cx[Lr]=(0,e.b1)(Lr),Br="PBI.EX.PerformanceAnalyzerCopyQueries",kr=e.cx[Br]=(0,e.b1)(Br),ti="PBI.EX.PerformanceAnalyzerRunDaxyQuery",Qt=e.cx[ti]=(0,e.b1)(ti),Me="PBI.EX.PerformanceAnalyzerStopRecording",Ct=e.cx[Me]=(0,e.b1)(Me),Bt="PBI.EX.ThemeDialogClosed",st=e.cx[Bt]=(0,e.b1)(Bt),Lt="PBI.Settings.FavoriteResourcePackages",Vt=e.cx[Lt]=(0,e.b1)(Lt),Yt="PBI.Settings.VisualPane",or=e.cx[Yt]=(0,e.b1)(Yt),Tr="PBI.Settings.OutOfBoxVisuals",Kr=e.cx[Tr]=(0,e.b1)(Tr),Si="PBI.EX.DrillthroughButtonClicked",Bi=e.cx[Si]=(0,e.b1)(Si),yi="PBI.EX.SmallMultiplesFirstField",Ai=e.cx[yi]=(0,e.b1)(yi),Ui="PBI.EX.AnalyticsLoadSchemaError",gi=e.cx[Ui]=(0,e.b1)(Ui),si="PBI.EX.ExecuteActionCommands",Ei=e.cx[si]=(0,e.b1)(si),zi="PBI.EX.UndefinedTooltipStyleInActionBar",Yi=e.cx[zi]=(0,e.b1)(zi),bi="PBI.EX.ActionBarShown",ua=e.cx[bi]=(0,e.b1)(bi),ki="PBI.EX.ScanModeKeyPressed",Pi=e.cx[ki]=(0,e.b1)(ki),di="PBI.EX.GetInsightsMenuCommand",Mi=e.cx[di]=(0,e.b1)(di),Ki="PBI.Sparklines.Delete",ui=e.cx[Ki]=(0,e.b1)(Ki),Hi="PBI.CopyVisualImage.EntryPoint",Gi=e.cx[Hi]=(0,e.b1)(Hi),Ni="PBI.EX.FontsReadyVisualUpdateTriggered",Zi=e.cx[Ni]=(0,e.b1)(Ni,{logRatio:.01}),Qi="PBI.Reflex.OpenTriggerActionFromVisual",qi=e.cx[Qi]=(0,e.b1)(Qi)},11011:function(Je,H,t){t.d(H,{s:function(){return u}});var e=t(942983),c=t(989416),s=t(1745),f=t(972817),v=t(298801),b=t(674810),h=t(629925),p=t(787941),n=t(826691),l=t(129035),r=t(668268),o=t(431325),a=t(281469),i=t(456535),m=t(474147),u=function(){function V(){}return V.setScrollWidth=function(d){this.scrollWidth=d},V.fitToWidth=function(d,S,g,y,C,E,M){void 0===E&&(E=!1),null!=d.canvasOptions.overrideSectionAlignment&&(M=d.canvasOptions.overrideSectionAlignment);var P=S.get(0).getBoundingClientRect(),x=this.findParentElement(S,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),R=S.find(".displayAreaViewport").get(0).getBoundingClientRect();if(P.width>R.width){var D=P.width-R.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-D)>.01&&n.f.error("Multiple scroll bar widths detected, ".concat(this.scrollWidth," -> ").concat(D)),this.scrollWidth=D}var L=C.getConfig(),F=2*e.UL,A=P.width-F,O=P.height-F,N=this.getFitToWidthScaledSize(d,A,y),w=S.find(this.DisplayAreaNameSelector.selector),I=1===d.viewModel.canvasLayout;N.height<=O&&!I?(d.canvasViewStyle=2,S.css(h.hK,h.fw).css(h.Rg,h.fw),this.positionElement(w,R,N,M,!0,L.displayOptions.forceCenteredVerticalAlignment)):(N=this.getFitToWidthScaledSize(d,A=P.width-(F=L.displayOptions.scaleBackgroundImageToWidth?e.UL/2+(this.scrollWidth||0):3*e.UL/2+(this.scrollWidth||8)),y,I?e.U+e.KB:0),d.canvasViewStyle=1,S.css(h.hK,h.fw).css(h.Rg,h.K),this.clearElementPosition(w));var B=A/d.viewModel.width,W=this.getWallpaperScale(x,d.viewModel.width,d.viewModel.height,d.canvasOptions.scrollbarOffset,0);if(g.setDisplayAreaScaleFactor(B),g.setWallpaperScaleFactor(W),this.updateCanvasSize(d,N.width,N.height),w.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(d)),this.setElementSize(w,N),!E&&!L.displayOptions.preserveScrollPositionOnResize){var U=!1,k=d.fitToWidthScrollPosition;if(k){var Q=d.viewModel&&d.viewModel.contract;Q&&Q.name===k.sectionName&&Q.size&&Q.size.width===k.sectionSize.width&&Q.size.height===k.sectionSize.height&&(U=!0,S[0].scrollTo({top:k.relativeScroll*B,left:0,behavior:"instant"})),U||(d.fitToWidthScrollPosition=void 0)}U||S[0].scrollTo({top:0,left:0,behavior:"instant"})}},V.getWallpaperScale=function(d,S,g,y,C,E,M){if(0===C)return(d.width-y)/S;var T=g;return E&&M&&(T=E.getConfig().displayOptions.hideTileMenu?d.height:d.height-M),T/g},V.getFitToWidthScaledSize=function(d,S,g,y){void 0===y&&(y=0);var C=S/d.viewModel.width,E=S,M=d.viewModel.height*C+g;if(d.adjustScaleForLayout){var P=d.adjustScaleForLayout({x:C,y:C});if(P.x!==C||P.y!==C){var T=Math.min(P.x,P.y),x=T/C;E*=x,M=(M-g)*x+g,C=T}}return y>0&&(M+=y),{width:E,height:M}},V.fitToPage=function(d,S,g,y,C,E){var M=y.getConfig();null!=d.canvasOptions.overrideSectionAlignment&&(E=d.canvasOptions.overrideSectionAlignment);var T=this.findParentElement(S,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),x=d.outerViewport.width/d.viewModel.width,R=this.getFitToPageScaleY(d,y,C),D=Math.min(x,R),F=this.getWallpaperScale(T,d.viewModel.width,d.viewModel.height,d.canvasOptions.scrollbarOffset,D===x?0:1,y,C);if(d.adjustScaleForLayout){var A=d.adjustScaleForLayout({x:D,y:D});(A.x!==D||A.y!==D)&&(D=Math.min(A.x,A.y))}g.setDisplayAreaScaleFactor(D),g.setWallpaperScaleFactor(F),M.displayOptions.preserveScrollPositionOnResize||S.scrollTop(0).scrollLeft(0);var O=d.viewModel.width*D,N=d.viewModel.height*D+C;d.canvasViewStyle=0,d.canvasViewStyle|=4,S.css(h.hK,h.fw).css(h.Rg,h.fw),this.updateCanvasSize(d,O,N);var w=S.find(this.DisplayAreaNameSelector.selector);w.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(d));var I={width:O,height:N};this.setElementSize(w,I),this.positionElement(w,d.outerViewport,I,E,!1)},V.getFitToPageScaleY=function(d,S,g){var C=S.getConfig().displayOptions.hideTileMenu?d.outerViewport.height:d.outerViewport.height-g;return(C-=this.getCanvasOutlineSize(d,S))/d.viewModel.height},V.findParentElement=function(d,S){if(d)return d.hasClass(S.class)?d:this.findParentElement(d.parent(),S)},V.getVerticalAlignmentSetting=function(d,S,g){var y=d.viewModel&&d.viewModel.contract&&d.viewModel.contract.evaluatedObjects&&d.viewModel.contract.evaluatedObjects.displayArea&&d.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&d.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(y)return c.ab[y];var C=g.getCurrentExploration(),E=C&&C.evaluatedObjects&&C.evaluatedObjects.section&&C.evaluatedObjects.section.verticalAlignment&&C.evaluatedObjects.section.verticalAlignment.toString();return E?c.ab[E]:void 0},V.positionElement=function(d,S,g,y,C,E){var P=null!=S.height&&null!=g.height?(S.height-(E?e.U:0)-g.height)/2:void 0,T=null!=S.width&&null!=g.width?(S.width-g.width)/2:void 0,x={position:"absolute",left:null!=T?"".concat(T,"px"):""};y===c.ab.Top?_.extend(x,{top:null!=P?"".concat(C?e.UL:0,"px"):""}):_.extend(x,{top:null!=P?"".concat(P,"px"):""}),d.css(x)},V.setElementSize=function(d,S){d.css({height:"".concat(S.height,"px"),width:"".concat(S.width,"px")})},V.clearElementPosition=function(d){d.css({position:"",top:"",left:""})},V.clearElementSize=function(d){d.css({height:"",width:""})},V.fitToScreen=function(d,S,g,y){var C=S.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(C),this.clearElementSize(C),d.canvasViewStyle=8,g.setDisplayAreaScaleFactor(1),g.setWallpaperScaleFactor(1),this.updateCanvasSize(d,d.outerViewport.width,d.outerViewport.height),S.css(h.hK,h.fw).css(h.Rg,h.fw),C.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(d))},V.getCanvasActualSize=function(d,S,g){var y=V.getAutoLayoutVisualVCHeader(S,g),C=d.size;return{height:C.height+y,width:C.width}},V.displayInActualSize=function(d,S,g,y,C,E,M){void 0===M&&(M=1),null!=d.canvasOptions.overrideSectionAlignment&&(E=d.canvasOptions.overrideSectionAlignment);var P=S.find(this.DisplayAreaNameSelector.selector),T=d.isCanvasBackdropVisible();d.canvasViewStyle=0;var x=d.viewModel.width*M,R=d.viewModel.height*M+C,D={width:T?a.Co:x,height:T?a.jk:R};D.width>d.outerViewport.width?(d.canvasViewStyle|=512,S.css(h.hK,h.At)):(d.canvasViewStyle|=256,S.css(h.hK,h.fw)),D.height>d.outerViewport.height?(d.canvasViewStyle|=128,S.css(h.Rg,h.At)):(d.canvasViewStyle|=64,S.css(h.Rg,h.fw));var L=d.canvasViewStyle;this.positionElement(P,d.outerViewport,{width:256&L?D.width:void 0,height:64&L?D.height:void 0},E,!0),d.canvasViewStyle|=256&L&&64&L?32:16,this.setElementSize(P,D),y.setDisplayAreaScaleFactor(M),y.setWallpaperScaleFactor(M),this.updateCanvasSize(d,x,R);var A=this.convertDisplayOptionToStyle(d);P.attr("class",this.DisplayAreaNameSelector.class+" "+A),T&&(p.fF.assertValue(g,"canvasBackdrop should exist (hasBackdrop() returned true)"),g.attr("class",this.CanvasBackdropSelector.class+" "+A))},V.displayInActualSizeTopLeft=function(d,S,g,y){var C=S.find(this.DisplayAreaNameSelector.selector);d.canvasViewStyle=0,d.canvasViewStyle|=512,d.canvasViewStyle|=128,d.canvasViewStyle|=16,S.css(h.hK,d.viewModel.width>=d.outerViewport.width?h.At:h.fw),S.css(h.Rg,d.viewModel.height>=d.outerViewport.height?h.At:h.fw),g.setDisplayAreaScaleFactor(1),g.setWallpaperScaleFactor(1);var E=d.viewModel.width,M=d.viewModel.height+y;C.css({width:E+"px",height:M+"px"}),this.updateCanvasSize(d,E,M),C.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(d))},V.updateCanvasSize=function(d,S,g){var y={width:S,height:g};y.width>0&&y.height>0&&(d.size=y)},V.updateAndApplyBackground=function(d,S,g,y,C,E,M,P,T,x,R,D,L){var F;p.fF.assertValue(P,"promiseFactory");var I,B,j,W,U,A=x.getConfig(),O=A.displayOptions.hideOutspaceFormatting,N=1===x.getMode()&&!S.isCanvasBackdropVisible(),w=!!L.get();switch(d){case 1:j=S.outspace=S.outspace||{},B="outspace",I=S.outspaceBackground,W=(0,e.e3)(),U=T.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case 2:j=S.background=S.background||{},B="background",I=S.canvasBackground,W=(0,e.tL)(),U=T.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:p.fF.assertNever(d)}if(U){p.fF.assertValue(j,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var k=y&&y[B],Q=j.image;w?(j.color=e.tb,j.transparency=0,j.image=null):k?(j.color=(0,l.y)(k,"color",e.tb),j.transparency=(0,l.N)(k,"transparency",e.nW),j.image=k.image):this.setDefaultBackgroundProperties(j,W);var te=j.image;(null==te?void 0:te.name)!==(null==Q?void 0:Q.name)&&(null===(F=S.backgroundImageChanging)||void 0===F||F.call(S,d));var J=(0,r.my)(S.viewModel.contract.objects,B,null),re=J&&J.properties.image;re&&(0,i.MI)(re.url)?this.setImageFromPackage(S,I,j,te,re.url,J,E,M,P,D,N,R,O,d,w):this.setImage(I,j,te,te?te.url:"",w,D,N,R,O,d,S)}else this.setDefaultBackgroundProperties(j,W),this.setImage(I,W,null,"",w,D,N,R,O,d,S);2===d&&g.css(x&&A.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,f.cD)(j.color,(100-j.transparency)/100)}:{"background-color":""})},V.setDefaultBackgroundProperties=function(d,S){d.color=S.color,d.image=S.image,d.transparency=S.transparency},V.setImage=function(d,S,g,y,C,E,M,P,T,x,R){var D,L=g&&g.scaling,F=C?1:(100-S.transparency)/100,A=g&&y;if(A!==d.imageSource&&(d.imageSource=A,null===(D=R.backgroundImageChanged)||void 0===D||D.call(R,x)),d.imageFitClass=L,d.imageStyle=L===b.mJ?{transform:"scale("+E.getWallpaperScaleFactor()+")"}:{},d.backgroundStyle||(d.backgroundStyle={}),d.backgroundStyle.opacity=F,d.backgroundStyle["background-color"]=T&&1===x?"transparent":(0,f.cD)(S.color),2===x){var O=v.v.getThemeColor(P,"foregroundNeutralSecondary");d.displayAreaStyle||(d.displayAreaStyle={}),d.displayAreaStyle["box-shadow"]=T?"0 0 0":"0 0 10px rgba(200,200,200,".concat(F,")"),d.displayAreaStyle.outline=M&&F<=.5?"2px dotted ".concat(O):"none",d.imageStyle=L===b.mJ?{transform:"scale("+E.getDisplayAreaScaleFactor()+")"}:{}}},V.setImageFromPackage=function(d,S,g,y,C,E,M,P,T,x,R,D,L,F,A){var O=this;void 0===L&&(L=!1),p.fF.assertValue(T,"promiseFactory");var N=P.getCurrentExploration();if(N){var w=d.viewModel.contract;(0,o.yl)(C,N.resourcePackages,M,T).then(function(I){var B=E.properties.image;w===d.viewModel.contract&&B&&(0,m.fS)(B.url,C)&&O.setImage(S,g,y,I.value||"",A,x,R,D,L,F,d)})}},V.setDisplayAreaBackground=function(d,S,g){if(S&&S.outspace)d.canvasBackground.displayAreaStyle&&delete d.canvasBackground.displayAreaStyle["background-color"];else{d.canvasBackground.displayAreaStyle||(d.canvasBackground.displayAreaStyle={});var C=v.v.getThemeColor(g,"background");d.canvasBackground.displayAreaStyle["background-color"]=C}},V.convertDisplayOptionToStyle=function(d){var S="";return d.useResponsiveLayout&&(S+=" responsive"),d.disableAnimations&&(S+=" disableAnimations"),8==(8&d.canvasViewStyle)&&(S+=" fitToScreen"),4==(4&d.canvasViewStyle)&&(S+=" fitToPage"),1==(1&d.canvasViewStyle)&&(S+=" fitToWidthOrigin"),2==(2&d.canvasViewStyle)&&(S+=" fitToWidthCentered"),256==(256&d.canvasViewStyle)&&(S+=" actualSizeAlignCenter"),512==(512&d.canvasViewStyle)&&(S+=" actualSizeAlignLeft"),64==(64&d.canvasViewStyle)&&(S+=" actualSizeAlignMiddle"),128==(128&d.canvasViewStyle)&&(S+=" actualSizeAlignTop"),32==(32&d.canvasViewStyle)&&(S+=" actualSizeCentered"),16==(16&d.canvasViewStyle)&&(S+=" actualSizeOrigin"),S.trim()},V.getAutoLayoutVisualVCHeader=function(d,S){return S&&S.getCapabilities().visualContainerOptions.useStylableHeader||d&&d.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:a.BB},V.getCanvasOutlineSize=function(d,S){if(1===S.getMode()){var g=d.background&&d.background.transparency;if(g&&g>=a.$j)return a.qD}return 0},V.applyFitOption=function(d,S,g,y,C,E){if(d.viewModel&&d.viewModel.contract){var M=S.find(this.DisplayAreaContainerNameSelector.selector),P=this.findParentElement(S,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),T=g.canvasScale.getDisplayOption();2!==T&&(d.fitToWidthScrollPosition=void 0);var x=d.viewModel.contract.name,R=d.lastApplyFitContext;R&&(T!==R.displayOption||x!==R.sectionName)&&M[0].scrollTo({top:0,left:0,behavior:"instant"}),d.lastApplyFitContext={displayOption:T,sectionName:x};var D=this.getAutoLayoutVisualVCHeader(g.formFactor,g.explorationCapabilities);switch(T){case 2:this.fitToWidth(d,M,g.canvasScale,D,g.viewModeState,E,y);break;case 1:this.fitToPage(d,M,g.canvasScale,g.viewModeState,D,y);break;case 3:this.displayInActualSize(d,M,P,g.canvasScale,D,y,C);break;case 4:this.displayInActualSizeTopLeft(d,M,g.canvasScale,D);break;default:this.fitToScreen(d,M,g.canvasScale,D)}g.eventBridge.publishToChannel(s.ubE)}},V.storeOverflowValuesAndChange=function(d,S){this.currentOverflowXCSSValue=d.css(h.hK),this.currentOverflowYCSSValue=d.css(h.Rg),d.css(h.hK,S),d.css(h.Rg,S)},V.restoreOverflowValues=function(d){d.css(h.hK,this.currentOverflowXCSSValue),d.css(h.Rg,this.currentOverflowYCSSValue)},V.visualPositionToRect=function(d){return{left:d.x,top:d.y,width:d.width,height:d.height}},V.rectToVisualPosition=function(d){return{x:d.left,y:d.top,width:d.width,height:d.height}},V.isCortanaPageSize=function(d){return!1},V.DisplayAreaNameSelector=(0,h.CH)("displayArea"),V.DisplayAreaContainerNameSelector=(0,h.CH)("displayAreaContainer"),V.VisualContainerHostSelector=(0,h.CH)("visualContainerHost"),V.OutspaceContainerSelector=(0,h.CH)("outspaceContainer"),V.OutspaceImageSelector=(0,h.CH)("outspaceImage"),V.VisualBackgroundContainerSelector=(0,h.CH)("visualBackgroundContainer"),V.VisualBackgroundImageSelector=(0,h.CH)("visualBackgroundImage"),V.DefaultVisualPosition={x:100,y:100,width:300,height:300},V.CanvasBackdropSelector=(0,h.CH)("canvasBackdrop"),V.ExploreCanvasSelector=(0,h.CH)("exploreCanvas"),V.currentOverflowXCSSValue="",V.currentOverflowYCSSValue="",V}()},568656:function(Je,H,t){t.d(H,{L0:function(){return b},vW:function(){return v},x_:function(){return p},zo:function(){return f},zq:function(){return h}});var e=t(456535),c=t(668268),s=t(249276);function f(n,l,r){var o=r&&r[n],a=s.di;if(o)return o.hasOwnProperty(a)&&!o[a];var i=(0,c.NA)(l,{objectName:n,propertyName:a},null);return void 0!==i&&(0,e.VC)(i)&&!i.value}function v(n,l,r){var o={x:n.x*l.x,y:n.y*l.y,z:n.z,width:n.width*l.x,height:n.height*l.y,angle:n.angle,tabOrder:n.tabOrder};if(!0===r){var a=Math.round(o.x),i=Math.round(o.y),m=Math.round(o.x+o.width),u=Math.round(o.y+o.height);o={x:a,y:i,z:o.z,width:m-a,height:u-i,angle:n.angle,tabOrder:n.tabOrder}}return o}function b(n,l){return{x:n.x/l.x,y:n.y/l.y,z:n.z,width:n.width/l.x,height:n.height/l.y,angle:n.angle,tabOrder:n.tabOrder}}function h(n,l){return{left:n.left*l.x,top:n.top*l.y,width:n.width*l.x,height:n.height*l.y}}function p(n,l){return{left:n.left/l.x,top:n.top/l.y,width:n.width/l.x,height:n.height/l.y}}},226278:function(Je,H,t){t.d(H,{Dg:function(){return le},F2:function(){return N},FK:function(){return P},JQ:function(){return re},Mt:function(){return J},N$:function(){return D},P:function(){return Ve},SQ:function(){return w},V3:function(){return M},Vg:function(){return I},Xf:function(){return W},Xt:function(){return be},bt:function(){return pe},cV:function(){return me},e2:function(){return F},eR:function(){return T},gO:function(){return O},lJ:function(){return de},lN:function(){return ne},nG:function(){return R},yC:function(){return Ce},yz:function(){return x},zT:function(){return Q}});var e=t(226514),c=t(942983),s=t(505876),f=t(273139),v=t(792253),b=t(555161),h=t(67093),p=t(57018),n=t(809395),l=t(35801),r=t(670663),o=t(883863),a=t(787941),i=t(299747),m=t(932178),u=t(144900),V=t(668268),d=t(967908),S=t(548556),g=t(803847),y=t(767024),C=t(149292);function M(Be,Se){var Pe=b.UP.getSelectedCanvasItems(Se);return T(Be.visualContainerGroups,Pe)}function P(Be,Se){for(var Pe=0,ue=Be;Pe<ue.length;Pe++){var ve=ue[Pe];if(ve.contract===Se)return ve}}function T(Be,Se){for(var Pe={},ue=0,ve=Se;ue<ve.length;ue++)Pe[ve[ue].name]=!0;var ie=[];(0,y.Iw)(Be,function(at){Pe[at.name]&&ie.push(at)});var Fe=function(We){return _.findIndex(Se,function(Oe){return Oe.name===We.name})};return ie.sort(function(at,We){return Fe(at)-Fe(We)}),ie}function x(Be,Se){a.fF.assert(function(){return Be.length===Se.length},"lists of viewModels and contracts should be the same length");for(var Pe=function(Fe){var at=(0,r.sE)(Fe.name,Se);if(!at)return a.fF.assertValue(at,"contract with the same name should exist"),"continue";(0,y.q4)(Fe)&&(0,f.q4)(at)&&(Fe.contract!==at&&(a.fF.assert(function(){return Fe.contract.name===at.name},"should be the same contract with same name"),Fe.contract=at),x(Fe.children,at.children))},ue=0,ve=Be;ue<ve.length;ue++)Pe(ve[ue])}function R(Be,Se){if(Se.parentGroup)for(var Pe=Se.parentGroup;Pe;){var ue=Pe.position;Be.left+=ue.x,Be.top+=ue.y,Pe=Pe.parentGroup}return Be}function D(Be){var Se=0;if(_.isEmpty(Be))return Se;if(Be[0].parentGroup)for(var Pe=Be[0].parentGroup;Pe;)Se++,Pe=Pe.parentGroup;return L(Be,Se)}function L(Be,Se){for(var Pe=++Se,ue=0,ve=Be;ue<ve.length;ue++){var xe=ve[ue];(0,f.q4)(xe)&&(Pe=Math.max(L(xe.children,Se),Pe))}return Pe}function F(Be,Se,Pe,ue,ve){var xe;ue.hideAllDropdowns(),(0,C.n)(Be);var ie=m.M.isCtrlOrMeta(Be),Fe=b.UP.isCanvasItemSelected(Se.contract,Pe);if(ie&&Fe&&b.UP.getSelectedCanvasItems(Pe).length>1)b.UP.unselectCanvasItem(Se.contract,Pe);else{if(!ve){var at=N(Se);return at.parentGroup&&at.parentGroup.isSelected&&b.UP.unselectCanvasItem(at.parentGroup.contract,Pe),b.UP.selectCanvasItem(at.contract,Pe,(0,m.D)(Be)),void(null===(xe=function(Be,Se){return $(Be).parents('[name="'.concat(Se,'"]:first'))[0]}(Be.currentTarget,at.contract.name))||void 0===xe||xe.focus())}b.UP.selectCanvasItem(Se.contract,Pe,(0,m.D)(Be))}}function O(Be,Se,Pe){if(Be.parentGroup)if(Se){var ve=N(Be);ve!==Be&&(0,n.vz)(Se,ve.name,Pe)}else for(var ue=Be.parentGroup;ue;)(0,n.vz)(Se,ue.name,Pe),ue=ue.parentGroup}function N(Be,Se){void 0===Se&&(Se=!1);for(var Pe=Be.parentGroup,ue=Be;Pe;){if(Pe.isSelected||Pe.isChildSelected){Se&&Pe.isSelected&&(ue=Pe);break}ue=Pe,Pe=Pe.parentGroup}return ue}function w(Be,Se){b.UP.isCanvasItemSelected(Be,Se)||b.UP.selectCanvasItem(Be,Se)}function I(Be,Se,Pe,ue){void 0===ue&&(ue=!0);var ve=[];return te(Se.getSelectedElements(),ue,function(ie){if((0,f.q4)(ie))ve.push(Be.serializeVisualContainerGroup(ie));else{var Fe=function(Be,Se){return Be.filters?function(Be,Se){var Pe=(0,o.UU)(Be.filters,function(ue){return function(Be,Se){var Pe=Be.filter;if((Be.type===s.vA.Include||Be.type===s.vA.Exclude)&&Pe){var ue=Pe.rewrite(Se);if(ue!==Pe)return(0,i.ED)(Be,function(ve){return ve.filter=ue})}return Be}(ue,Se)});return Pe!==Be.filters?(0,i.ED)(Be,function(ue){return ue.filters=Pe}):Be}(Be,new p.L(Se)):Be}(ie,Pe);ve.push(Be.serializeVisualContainer(Fe))}}),ve}function W(Be,Se,Pe,ue,ve,xe){var ie=Be.objects,Fe=ve.getVisualObjects(ue,Pe,void 0,Se);Fe&&(ie=(0,V.d9)(ie||{}),(0,V.l7)(ie,Fe));var at=ve.getVisualStyle(ue),We=(0,d.G3)(ie,Se,at,xe.featureSwitches);Be.evaluatedObjects=We.dataViewObjects}function Q(Be,Se,Pe){void 0===Pe&&(Pe=!0);var ue={};return te(Be.getSelectedElements(),Pe,function(ie){var Fe;(0,f.Vz)(Fe=ie)&&(0,h.WP)(Fe.config.singleVisual.objects,void 0,Se,ue)}),ue}function te(Be,Se,Pe){if(!_.isEmpty(Be)){for(var ue=Se&&[],ve=0,xe=Be;ve<xe.length;ve++){var Fe=xe[ve].canvasItem;Fe&&(Se&&(0,f.q4)(Fe)?ue.push(Fe):Pe(Fe))}Se&&!_.isEmpty(ue)&&(0,f.Iw)(ue,function(at){return Pe(at)})}}function J(Be,Se,Pe,ue,ve,xe,ie,Fe,at,We){return _.first(re([Be],Se,Pe,ue,ve,xe,ie,Fe,at,We))}function re(Be,Se,Pe,ue,ve,xe,ie,Fe,at,We){var Oe,Ze;if(Be){var Ee={},K=!!ie,Ne=Pe.size,Y=We?Pe.visualContainerGroups:Pe.visualContainers,ye=_.flatMap(Se.sections,function($e){return We?$e.visualContainerGroups:$e.visualContainers}),rt=[],it=ve.getCurrentLayout();(0,f.Iw)(Y,function($e){if(null==$e.parentGroup){var ot=$e.layouts.withId(it);rt.push(ot.position)}}),(0,f.Iw)(ye,function($e){Ee[$e.name]=!0});var Ue=ue.deserializeCanvasItems(Be,!0,We,function(){var $e=(0,n.vr)(Ee);return a.fF.assert(function(){return!Ee[$e]},"New name already exists"),Ee[$e]=!0,$e});if(Ue){var De=Ue.visualContainerGroups,Le=Ue.visualContainers,Xe=function(Be,Se,Pe,ue){var ve=Ve(Be,Se),xe=_.orderBy(Pe,function(ie){return ie.config.layouts[Se].position.z},["asc"]);return xe.reduce(function(ie,Fe){var at,We=Fe.config,Oe=We.name,Ee=!!We.parentGroupName;return(0,e.__assign)((0,e.__assign)({},ie),((at={})[Oe]=Ee&&ue?null:ve++,at))},{})}(Y,it,Be,We),et=function(Be,Se,Pe){var ue=function(Be,Se){var Pe=0,ue=0;if(_.isEmpty(Be))return{pos:Pe,neg:ue};for(var ve=0,xe=Be;ve<xe.length;ve++){var Fe=xe[ve].layouts.withId(Se),at=Fe&&Fe.position,We=at&&null!=at.tabOrder?at.tabOrder:void 0;null!=We&&(Pe=Math.max(Pe,We),ue=Math.min(ue,We))}return{pos:Pe+1,neg:ue-1}}(Be,Se),ve=_.orderBy(Pe,function(xe){return xe.config.layouts[Se].position.tabOrder},["asc"]);return ve.reduce(function(xe,ie){var Fe,at=ie.config,We=at.name,Ee=at.layouts[Se].position,K=Ee.tabOrder>=0;return(0,e.__assign)((0,e.__assign)({},xe),((Fe={})[We]=null!=Ee.tabOrder?K?ue.pos++:ue.neg--:null,Fe))},{})}(Pe.visualContainers,it,Be),he=(0,o.UR)(),ce=[],Re=function(ot){var dt=ot.prevName,Tt=null!=ot.parentGroup,Wt=ot.layouts.withId(it),Kt=Wt.position;if(a.fF.assert(function(){return We||(0,f.Vz)(ot)},"Should not be processing groups when grouping is disabled"),(!Tt||!We)&&(dt&&!_.isNil(Xe[dt])&&(Kt.z=Xe[dt]),ce.push(ot)),dt&&!_.isNil(et[dt])&&null!=Kt.tabOrder&&(0,f.Vz)(ot)&&(Kt.tabOrder=et[dt]),!Tt){for(;2!==G(Kt,Ne)&&oe(Kt,rt);)Kt.x+=10,Kt.y+=10;rt.push(Kt)}if(ot.layouts=(0,o.Br)([Wt]),K&&(0,f.Vz)(ot)){var Zt=(0,g.Dz)(Se,Pe,ot,it);he.push(Zt)}};if(We)(0,f.Iw)(De,function($e){return Re($e)});else for(var Ge=0,ut=Le;Ge<ut.length;Ge++)Re(ut[Ge]);if((Oe=Pe.visualContainers).push.apply(Oe,Le||[]),K&&(Ze=ie.visualContainers).push.apply(Ze,he||[]),We){if(Pe.visualContainerGroups=r.IH.apply(void 0,(0,e.__spreadArray)([Pe.visualContainerGroups],De||[],!1)),K){var ae=(0,g.C)(De,he,it);ie.visualContainerGroups=r.IH.apply(void 0,(0,e.__spreadArray)([ie.visualContainerGroups],ae||[],!1))}}else Pe.visualContainerGroups=r.IH.apply(void 0,(0,e.__spreadArray)([Pe.visualContainerGroups],Le||[],!1)),K&&(ie.visualContainerGroups=r.IH.apply(void 0,(0,e.__spreadArray)([ie.visualContainerGroups],he||[],!1)));if(xe.publishVisualContainerAddedEvent(),Fe&&b.UP.selectCanvasItems(ce,Fe,!0),at)for(var fe=0,we=ce;fe<we.length;fe++){var ze=we[fe];(0,f.Vz)(ze)&&at.applyFilterOutput(ze)}return ce}}}function G(Be,Se){var Pe=Se.width||0,ue=Se.height||0,ve=0;return Be.x+Be.width>Pe&&(Be.x=Math.max(Pe-Be.width,0),ve++),Be.y+Be.height>ue&&(Be.y=Math.max(ue-Be.height,0),ve++),ve}function ne(Be,Se,Pe,ue,ve,xe){var ie;return(0,e.__awaiter)(this,void 0,u.J,function(){var Fe;return(0,e.__generator)(this,function(at){switch(at.label){case 0:return Be.expr?[3,1]:(Fe=ve.addEmptyVisualContainer(Se,Pe,Be.visualType,Be.position,Be.shouldSummarize),[3,3]);case 1:return[4,ve.addVisualContainer({expr:Be.expr,visualType:Be.visualType,targetRole:Be.targetRole,dataSources:ue,allowAggregate:null===(ie=Be.allowAggregate)||void 0===ie||ie,shouldSummarize:Be.shouldSummarize},Se,Pe)];case 2:Fe=at.sent(),at.label=3;case 3:return xe.logEvent(S._rP,{source:X(Be.telemetrySource),visualType:(0,l.s)(Fe),visualName:Fe.name}),[2,Fe]}})})}function X(Be){switch(Be){case 0:return"CheckboxTickedInFieldList";case 3:return"DraggedToFieldWell";case 1:return"DraggedToCanvas";case 2:return"VisualTypeIconClicked";case 4:return"InsertVisualButton";case 5:return"WhatIfParameterControl";case 8:return"QnaAppBar";case 6:return"QnaDoubleClick";case 7:return"QnaKeyboardShortcut";case 9:return"FieldParameterControl";case 10:return"CanvasBackgroundContextMenu";case 11:return"AssistedCreation";case 12:return"Copilot";default:a.fF.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function oe(Be,Se){return a.fF.assertValue(Be,"position"),_.some(Se,function(Pe){return Be.x===Pe.x&&Be.y===Pe.y})}function Ve(Be,Se){return _.isEmpty(Be)?0:_.chain(Be).map(function(ue){var ve=ue.layouts.withId(Se),xe=ve&&ve.position;return xe&&xe.z||0}).max().value()+1}function Ce(Be,Se,Pe){if(!Be||_.isEmpty(Be.visualContainers))return 0;var ue=Se?v.yM:v.ox;return _.forEach(Be.visualContainers,function(ve){var xe=ve.layouts.withId(Pe),ie=xe&&xe.position;if(ie&&ie.tabOrder){var Fe=ie.tabOrder;ue=Se?Math.max(ue,Fe):Math.min(ue,Fe)}}),ue+(Se?1:-1)}function de(Be,Se,Pe){for(var ue=0,ve=0,xe=0,ie=0,Fe=null,at=0,We=0,Oe=Pe.length;We<Oe;We++)if(at=We,(Ze=Pe[We])===Be){var K=(Ee=Ze.parentGroup)&&Ee.layouts.withId(Se);Ee=K?Ee:void 0,Fe=(0,n.hP)(pe(Ze,Se),Se,Ee);break}if(Fe){Pe.splice(at,1);for(var Ne=0,Y=Pe;Ne<Y.length;Ne++){var Ze,Ee;K=(Ee=(Ze=Y[Ne]).parentGroup)&&Ee.layouts.withId(Se),Ee=K?Ee:void 0;var ye=(0,n.hP)(pe(Ze,Se),Se,Ee),rt=Fe.x-ye.x;ue=ue<rt?rt:ue,ve=ve<(rt=ye.y+ye.height-(Fe.y+Fe.height))?rt:ve,xe=xe<(rt=Fe.y-ye.y)?rt:xe,ie=ie<(rt=ye.x+ye.width-(Fe.x+Fe.width))?rt:ie}return{top:0-(xe>0?xe/Fe.height:0),left:0-(ue>0?ue/Fe.width:0),bottom:1+(ve>0?ve/Fe.height:0),right:1+(ie>0?ie/Fe.width:0)}}}function pe(Be,Se){var Pe=Be.layouts.withId(Se);return a.fF.assertValue(Pe,"Can't find a visual layout for the current form factor."),Pe&&Pe.position}function le(Be){for(var Pe={},ue=0,ve=b.UP.getSelectedCanvasItems(Be);ue<ve.length;ue++){var xe=ve[ue],ie=xe.parentGroup?xe.parentGroup.name:"root";Pe[ie]=Pe[ie]||[],Pe[ie].push(xe)}return Pe}function me(Be,Se){return _.filter(Be,function(ue){var ve=pe(ue,0).tabOrder;return Se?void 0===ve||ve>=0:ve&&ve<0})}function be(Be){var Se=Be.getCurrentSection();return Se&&Se.evaluatedObjects&&Se.evaluatedObjects.outspacePane&&Se.evaluatedObjects.outspacePane.width||c.vg}},287625:function(Je,H,t){t.d(H,{CZ:function(){return o},IA:function(){return n},MM:function(){return i},QZ:function(){return l},XB:function(){return r},_1:function(){return a},vX:function(){return v},xK:function(){return b},yY:function(){return h},zB:function(){return p}});var e=t(210683),c=t(787941),s=t(324356),f=t(655981);function v(m){return{solid:{color:b(m,(0,e.d9)())}}}function b(m,u){c.fF.assertValue(u,"gradientSettings");var d,g,y,V={color:(0,s.$_)(u.minColor,"minColor")},S=u.minValue;if(null!=S&&(d=(0,s.tx)(S)),u.diverging){g={color:(0,s.$_)(u.midColor,"midColor")};var C=u.midValue;null!=C&&(y=(0,s.tx)(C))}var M,E={color:(0,s.$_)(u.maxColor,"maxColor")},P=u.maxValue;null!=P&&(M=(0,s.tx)(P));var D,T=u.nullStrategy,x=u.nullColor,R={};return D=u.diverging?R.linearGradient3={min:V,mid:g,max:E}:R.linearGradient2={min:V,max:E},d&&(D.min.value=d),y&&(D.mid.value=y),M&&(D.max.value=M),T&&(D.nullColoringStrategy={strategy:(0,s.fL)(T)},T===f.Sx&&(D.nullColoringStrategy.color=(0,s.$_)(x,"nullColor"))),(0,s.x5)(m,R)}function h(m,u,V){var d;switch(V){case"number":d={condition:(0,s.qu)(3,m,(0,s.tx)(0)),value:(0,s.fL)(u)};break;case"text":d={condition:(0,s.qu)(0,m,(0,s.fL)("")),value:(0,s.fL)(u)};break;default:c.fF.assertNever(V)}return{solid:{color:(0,s.u7)([d])}}}var p="CircleHigh",n="Before",l="Top";function r(m,u){switch(void 0===u&&(u="number"),u){case"number":return{kind:"Icon",value:(0,s.u7)([o(m,67,100,!0,(0,s.fL)("CircleHigh")),o(m,33,67,!1,(0,s.fL)("SignMedium")),o(m,0,33,!1,(0,s.fL)("SignLow"))]),layout:(0,s.fL)(n),verticalAlignment:(0,s.fL)(l)};case"text":return{kind:"Icon",value:(0,s.u7)([a(m,(0,s.fL)("CircleHigh")),a(m,(0,s.fL)("SignMedium")),a(m,(0,s.fL)("SignLow"))]),layout:(0,s.fL)(n),verticalAlignment:(0,s.fL)(l)};default:c.fF.assertNever(u)}}function o(m,u,V,d,S){var g,y;return u>0&&(g=(0,s.qu)(2,m,s.LE.overRangeOf(m,u/100))),V<100&&(y=(0,s.qu)(d?4:3,m,s.LE.overRangeOf(m,V/100))),{condition:g&&y?(0,s.xD)(g,y):g||y,value:S}}function a(m,u){return{condition:(0,s.qu)(0,m,(0,s.fL)("")),value:u}}function i(m,u,V,d,S){var g,y;return null!==u&&(g=(0,s.qu)(2,m,(0,s.tx)(u))),null!==V&&(y=(0,s.qu)(d?4:3,m,(0,s.tx)(V))),{condition:g&&y?(0,s.xD)(g,y):g||y,value:S}}},810429:function(Je,H,t){t.d(H,{L6:function(){return n},aI:function(){return p},ac:function(){return o},dw:function(){return i},uz:function(){return r}});var e=t(29436),c=t(177497),s=t(787941),f=t(324356),v=t(615419),b=t(592042),h={reverseDirection:!1,hideText:!1};function p(u,V){return s.fF.assertValue(u,"visual"),s.fF.assertValue(V,"repetition"),n(a(u.objects,V))}function n(u){if(!u)return h;var V,d=u.minValue;d&&(V=d.value);var S,g=u.maxValue;return g&&(S=g.value),{minValue:V,maxValue:S,positiveColor:l(u.positiveColor),negativeColor:l(u.negativeColor),axisColor:l(u.axisColor),reverseDirection:u.reverseDirection.value,hideText:u.hideText.value}}function l(u){var V=u.solid.color;return(0,c.A7)(V.value)?{solid:{color:V.value}}:null}function r(){return o(h,b.Ge.fromPrimitiveTypeAndCategory(12))}function o(u,V){var d,S;return s.fF.assertValue(u,"dataBars"),s.fF.assertValue(V,"valueType"),void 0!==u.minValue&&(d=m(u.minValue,V)),void 0!==u.maxValue&&(S=m(u.maxValue,V)),{minValue:d,maxValue:S,positiveColor:(0,v.EV)(u.positiveColor&&u.positiveColor.solid.color,"maxColor"),negativeColor:(0,v.EV)(u.negativeColor&&u.negativeColor.solid.color,"minColor"),axisColor:(0,v.EV)(u.axisColor&&u.axisColor.solid.color,"foreground"),reverseDirection:(0,f.O7)(u.reverseDirection),hideText:(0,f.O7)(u.hideText)}}function a(u,V){return s.fF.assertValue(V,"objectRepetition"),(0,e.OT)(u,V)}function i(u,V){return s.fF.assertValue(V,"objectRepetition"),void 0!==a(u,V)}function m(u,V){if(s.fF.assert(function(){return V.integer||V.numeric},"databars only supports numeric SQExprs"),V.integer){var d=Math.round(u);return(0,f.cA)(d)}return 2===V.primitiveType?(0,f.gH)(u):(s.fF.assert(function(){return 259===V.extendedType},"Unexpected data type."),(0,f.tx)(u))}},262631:function(Je,H,t){t.d(H,{O6:function(){return f},UX:function(){return v},fe:function(){return s},jx:function(){return c}});var e={BlockedCustomVisual:1,ScriptVisualsNotEnabled:1,UnapprovedCustomVisual:1,CvApiVersionNotSupported:1,AzureMapUserNotSignedIn:1,AzureMapNoEndpoint:1};function c(b){if(!b)return!1;var h=b.displayableErrorInfo;return!_.isEmpty(h)&&!_.isEmpty(h[0].errorInfoKey)&&!_.isEmpty(h[0].errorInfoValue)}function s(b){return b in e?e[b]:0}function f(b){return 1===s(b)}function v(b,h){var p=[],n=b.message,l=h;if(c(b)&&(l=b.displayableErrorInfo[0].errorInfoKey,n=b.displayableErrorInfo[0].errorInfoValue,b.displayableErrorInfo.length>1))for(var r=1;r<b.displayableErrorInfo.length;r++)p.push(b.displayableErrorInfo[r]);return{title:l,message:n,displayableErrorInfo:p,debugErrorInfo:b.debugErrorInfo,source:b.source,hideErrorHelperText:b.hideErrorHelperText}}},149292:function(Je,H,t){function e(s){var f;if(s){var h=(null!==(f=s.originalEvent)&&void 0!==f?f:s).handled;return void 0!==h&&!0===h}}function c(s){var f;s&&((null!==(f=s.originalEvent)&&void 0!==f?f:s).handled=!0)}t.d(H,{n:function(){return c},q:function(){return e}})},70879:function(Je,H,t){t.d(H,{j:function(){return s}});var e=t(787941);function s(f,v){e.fF.assertValue(f,"exploration"),e.fF.assertValue(v,"trustedVisual");for(var b=[],h=0,p=f.sections;h<p.length;h++)for(var l=0,r=p[h].visualContainers;l<r.length;l++){var a=r[l].config.singleVisual.visualType;!a||!v.isTrustedVisual(a)||b.push(a)}return v.getConsentAndLoadVisuals(b)}},454012:function(Je,H,t){t.d(H,{O:function(){return b},Q3:function(){return f},QR:function(){return v},UO:function(){return n},_A:function(){return h},ku:function(){return p}});var e=t(505876),c=t(787941),s=t(548556);function f(l,r,o,a){var i=_.filter(o.filters,function(m){return 5===m.howCreated});l.logChildEvent(a&&a.event,s.gEB,{type:r,countOfCurrentPageDrillthroughFilters:i.length})}function v(l){var r;switch(l&&(r=l.kind),r){case 0:return"Entity";case 2:return"ColumnRef";case 3:return"MeasureRef";case 4:return"Aggregation";case 5:return"PropertyVariationSource";case 6:return"Hierarchy";case 7:return"HierarchyLevel";case 46:return"Sparkline";case 47:return"VisualCalculation";default:return"Other"}}function b(l){switch(l){case e.vA.Advanced:return"Advanced";case e.vA.Categorical:return"Categorical";case e.vA.Passthrough:return"Passthrough";case e.vA.Range:return"Range";case e.vA.Visual:return"Visual";default:c.fF.assert(function(){return!0},"unknown filterType "+l)}}function h(l){switch(l){case 2:return"Exploration";case 1:return"Section";case 0:return"Visual";default:c.fF.assert(function(){return!0},"unknown filterScopeType "+l)}}function p(l){switch(l){case 0:return"View";case 1:return"Edit"}}function n(l){switch(l){case 1:return"Ascending";case 2:return"Descending";case 3:return"Custom"}}},427255:function(Je,H,t){t.d(H,{CH:function(){return d},HD:function(){return g},JH:function(){return M},JN:function(){return u},PJ:function(){return V},Rh:function(){return E},Z:function(){return i},eW:function(){return m},ku:function(){return C},uE:function(){return y}});var e=t(226514),c=t(1745),s=t(555161),f=t(156319),v=t(647863),b=t(899027),h=t(809395),p=t(135487),n=t(787941),l=t(144900),r=t(690016),o=t(10102),a=t(803847);function i(R,D,L,F,A,O){if(2===R.scope.scopeType&&(n.fF.assertValue(L,"no exploration on report filter change"),(0,h.oU)(L)),1===R.changeType||2===R.changeType&&!function(R,D){for(var L=0,F=D;L<F.length;L++)if(F[L].contract===R)return!0;return!1}(R.filter,D)){var N=(0,h.cj)(O,F.visualPlugin),w=(0,o.fw)(R.filter,A,F.displayNameService,R.scope,F.visualPlugin,F.aggrOps,F.localizationService,N,O&&O.config.singleVisual);g(w,F.explorationNavigation),0===R.scope.scopeType&&R.scope.container!==O||(D.push(w),d(D,A,F.dataSources,F.visualAuthoring))}else 0===R.changeType&&_.remove(D,function(I){return I.contract===R.filter});!function(R,D){var L=R.explorationNavigation,F=L.getCurrentExploration(),A=L.getCurrentSection(),O=D.scope.scopeType,N=s.UP.getSelectedVisual(R.selection),w=(0,b.R2)(O,F,A,N,R.scriptVisuals);if(!_.isEmpty(w)){var I=D.changeType.toString();R.telemetryService.logChildEvent(D.parentActivity&&D.parentActivity.event,p.bD,{action:I,visualIds:JSON.stringify(w)})}}(F,R)}function m(R,D,L,F,A,O,N,w,I){return R.displayName?R.displayName:(0,o.fw)(R,L,A,D,N,F,O,w,I).displayName}function u(R,D){return(0,e.__awaiter)(this,void 0,l.J,function(){var L,F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return L=R.explorationNavigation.getCurrentSection(),F=[],L?[4,V(R.dataSources,R.conceptualSchemaProxy)]:[2,F];case 1:return A=O.sent(),d(F=(0,a.yU)({scopeType:1,container:L},A,R.displayNameService,R.visualPlugin,R.aggrOps,R.localizationService,null,D),A,R.dataSources,R.visualAuthoring,!1),function(R,D){if(!_.isEmpty(R))for(var L=0,F=R;L<F.length;L++)g(F[L],D)}(F,R.explorationNavigation),[2,F]}})})}function V(R,D){return(0,e.__awaiter)(this,void 0,l.J,function(){var L;return(0,e.__generator)(this,function(F){switch(F.label){case 0:return(L=R.get())?[4,D.get(L)]:[2];case 1:return[2,F.sent()]}})})}function d(R,D,L,F,A){if(void 0===A&&(A=!0),!_.isEmpty(R)){var O=L.get();F.addConfigToCategoricalFilters(R,D,O,A)}}function g(R,D){var L=D.getCurrentExploration(),F=D.getCurrentSection();if(F){var A=(0,v.Iv)(L,F.name);if(A&&!_.isEmpty(A.parameters)){var O=_.find(A.parameters,function(N){return N.boundFilter===R.contract.name});O&&R.updateIsLinkedAsAggregation(!!O.asAggregation)}}}function y(R,D,L,F,A,O,N,w){return(0,e.__awaiter)(this,void 0,l.J,function(){var I,B;return(0,e.__generator)(this,function(j){switch(j.label){case 0:return A?(I={scopeType:R,container:D},B=F.get(),L?[4,O.addDrillthroughFilter(A,I,B,N)]:[3,2]):[2];case 1:case 3:return[2,j.sent()];case 2:return[4,O.addFilter(A,I,B,w)]}})})}function C(R,D,L,F,A,O){var N=_.find(L.filters,function(I){return I.name===R});return!!N&&F.removeFilter(N,{scopeType:D,container:L},A,O)}function E(R,D,L,F){if(!_.isEmpty(L)&&(10===F.changeType||1===F.changeType||2===F.changeType||0===F.changeType))for(var A=T(F.scope.scopeType,5===F.filter.howCreated),O=0,N=L;O<N.length;O++){var w=N[O];if(!(A<T(D,5===w.howCreated))&&f.l.isCategoricalFilter(w.contract.type)&&w.contract!==F.filter){var B={filter:w.contract,changeType:4,scope:w.getFilterContainerScope(),parentActivity:F.parentActivity};R.eventBridge.publishToChannel(c.Tuj,B)}}}function M(R,D,L){if(!D||/^\s*$/.test(D))return!1;var F=R.contract.displayName||R.displayName;return _.isEmpty(F)&&(F=R.getRestatement()),!(0,r.ms)(F,D)}function T(R,D){return 0===R?0:1!==R||D?1===R?2:2===R?3:-1:1}},57841:function(Je,H,t){t.d(H,{Iq:function(){return l},MO:function(){return i},Y9:function(){return o},b:function(){return n},p$:function(){return r}});var p,e=t(226514),c=t(942983),s=t(405644),f=t(647863),v=t(448711),b=t(346454),h=t(11011),n=((p={})[s.t.Dynamic]={displayOption:0,width:c.Z9,height:c.LU},p[s.t.Standard]={displayOption:1,width:c.Z9,height:c.LU},p[s.t.Widescreen]={displayOption:1,width:c.$z,height:c.az},p[s.t.Cortana]={displayOption:3,width:c.yL,height:c.QZ},p[s.t.Letter]={displayOption:1,width:c.lr,height:c.to},p[s.t.Tooltip]={displayOption:1,width:c.R6,height:c.h8},p[s.t.Custom]={displayOption:3,width:c.Z9,height:c.LU},p);function l(u,V){for(var d=[],S=0,g=u;S<g.length;S++){var y=g[S];d.push((0,e.__assign)((0,e.__assign)({},y),{value:"".concat(y.value),displayName:(0,b.Gf)(y.displayName,V),label:y.label?(0,b.Gf)(y.label,V):null}))}return d}function r(u){void 0===u&&(u=!1);for(var d=[],S=0,g=(0,v.p$)(u);S<g.length;S++){var y=g[S];d.push({displayName:y.title,value:y.value.toString()})}return d}function o(u,V){return function(u,V,d){if(0===u.displayOption)return s.t.Dynamic;if(u.width===c.Z9&&u.height===c.LU)return s.t.Standard;if(u.width===c.$z&&u.height===c.az)return s.t.Widescreen;if(h.s.isCortanaPageSize(u)){var S=(0,f.Ae)(V,d.name);return-1!==S&&V.pods[S].cortanaEnabled?s.t.Cortana:s.t.Custom}return u.width===c.lr&&u.height===c.to?s.t.Letter:function(u){return u.width===c.R6&&u.height===c.h8}(u)?s.t.Tooltip:s.t.Custom}(u,V.getCurrentExploration(),V.getCurrentSection())}function i(u){return n[u]}},85920:function(Je,H,t){function e(s,f,v){return s?v.get(s):f.reject()}function c(s,f){Object.defineProperty(s,"dataSources",{get:function(){return f.get()},set:function(b){return f.set(b)}})}t.d(H,{l:function(){return e},x:function(){return c}})},162624:function(Je,H,t){t.d(H,{EI:function(){return b},Gy:function(){return v},e6:function(){return f}});var e=t(456535),c=t(474147),s=t(809395);function f(h){return _.some((0,s.oJ)(h),function(p){return(0,e.tO)(p.expr)})}function v(h,p,n){var l=(0,s.oJ)(p);if(!_.isEmpty(l))for(var r=(0,s.Xf)(p),o=function(V){var d=V.expr;if((0,e.tO)(d)){var S=d.measure,g=r.getRoleNameForExpr(d),y=_.chain(r.tryGetExprs(g)).map(function(C,E){return{expr:C,index:E}}).filter(function(C){return(0,c.fS)(C.expr,d)}).map(function(C){return C.index}).value();_.forEach(y,function(C){return n.replaceField(h,S,g,C,p)})}},a=0,i=l;a<i.length;a++)o(i[a])}function b(h,p){var n,l,r=null===(n=h.grouping[0].getMetadata(p))||void 0===n?void 0:n.type;return r&&(l=r.dateTime||r.temporal?"Date":r.numeric?"Numeric":"Categorical"),{groupingType:l,measureType:(0,e.iV)(h.measure)?"Aggregate":"Measure"}}},483981:function(Je,H,t){t.d(H,{LR:function(){return m},vC:function(){return r},yY:function(){return l}});var e=t(226514),c=t(360184),s=t(649379),f=t(273139),v=t(726672),b=t(787941),h=t(145315),p=t(568656),n=t(951467);function l(u,V,d,S,g,y){if(u&&V){var C=u.getAdapter();C&&S&&C.update({viewport:V,suppressAnimations:!0,dataViews:u.getDataViews(),type:d,resizeMode:y,viewMode:S.getViewMode(),editMode:g})}}function r(u,V,d,S,g,y,C,E,M,P){var T=this,x=new c.t(1),R={getType:function(){return u.type},setType:function(L){return u.type=L},getViewport:function(){return u.viewport},setViewport:function(L,F){u.viewport=L,F&&l(R,L,h.EP.Resize,V,d)},getData:function(){return u.data},getAdapter:function(){return u.visual},getDataViews:function(){return u.dataViews},setDataViews:function(L){return u.dataViews=L},getDataTransforms:function(){return u.dataTransforms},setThemeCollection:function(L){return u.themeCollection=L},getIsInFocus:function(){return u.isInFocus},setIsInFocus:function(L){return u.isInFocus=L},setData:function(L,F,A){u.data=L,u.dataAppliedEvent&&(u.dataAppliedEvent.reject(),u.dataAppliedEvent=void 0),u.performanceActivity&&(u.performanceActivity.cancel(!0),u.performanceActivity=void 0),u.dataAppliedEvent=F,u.performanceActivity=A},setDataTransforms:function(L){return u.dataTransforms=L},setPendingSelection:function(L){return u.pendingSelection=L},hasPendingSelection:function(){return!!u.pendingSelection},setAdditionalObjectUpdates:function(L){return u.additionalObjectUpdates=L},setIsDisabled:function(L){return u.isDisabled=L},getIsDisabled:function(){return u.isDisabled},setIsDisabledIfUncertified:function(L){return u.isDisabledIfUncertified=L},getIsDisabledIfUncertified:function(){return u.isDisabledIfUncertified},setReportId:function(L){return u.reportId=L},getErrorInfo:function(){return u.errorInfo},getErrorInfo$:function(){return x.asObservable()},setErrorInfo:function(L){u.errorInfo=L,x.next(L)},getWarnings:function(){return a(u)},getWarnings$:function(){return V?V.getWarnings$():(0,s.of)({})},setWarnings:function(L,F,A){return i(u,L,F,A)},getDataBoundObjectWarnings:function(){return u.dataBoundObjectWarnings},resetWarnings:function(L){void 0===L&&(L=!1),L&&(u.dataBoundObjectWarnings={}),u.warnings=void 0},getHasPendingChanges:function(){return u.hasPendingChanges},setHasPendingChanges:function(L){return u.hasPendingChanges=L},getHasUnappliedFilterChanges:function(){return u.hasUnappliedFilterChanges},setHasUnappliedFilterChanges:function(L){return u.hasUnappliedFilterChanges=L},getSelectedDatapoints:function(){return u.selectedDatapoints},setSelectedDatapoints:function(L,F){return function(u,V,d,S,g){var y=u.visual;b.fF.assert(function(){return!V.pendingSelection&&!u.pendingSelection},"There should be no pending selection when setSelectedDatapoints is called"),S&&(y&&y.visualHasMethod&&y.visualHasMethod("onRestoreSelection")?y.onRestoreSelection({selection:d}):(i(u,[new n.zC]),g&&g(a(u)))),u.selectedDatapoints=d}(u,S,L,F,C)},clearSelectedDatapoints:function(){u.selectedDatapoints=void 0;var L=u.visual;L&&L.onClearSelection&&L.onClearSelection(),g.selectDataPoint(y,[],void 0,void 0,1)},getSubSelectionStyles:function(L){return(0,e.__awaiter)(T,void 0,void 0,function(){var F,A,O,N,w,I;return(0,e.__generator)(this,function(B){switch(B.label){case 0:return M?[4,M.getSubSelectionStyles(L)]:[3,2];case 1:if(F=B.sent())return[2,F];B.label=2;case 2:return[4,null!==(N=null===(O=null===(A=u.visual)||void 0===A?void 0:A.getSubSelectionStylesAsync)||void 0===O?void 0:O.call(A,L))&&void 0!==N?N:null===(I=null===(w=u.visual)||void 0===w?void 0:w.getSubSelectionStyles)||void 0===I?void 0:I.call(w,L)];case 3:return[2,B.sent()]}})})},getSubSelectionShortcuts:function(L,F){return(0,e.__awaiter)(T,void 0,void 0,function(){var A,O,N,w,I,B;return(0,e.__generator)(this,function(j){switch(j.label){case 0:return M&&!F&&(A=M.getSubSelectionShortcuts(L,F))?[2,A]:[4,null!==(w=null===(N=null===(O=u.visual)||void 0===O?void 0:O.getSubSelectionShortcutsAsync)||void 0===N?void 0:N.call(O,L,F))&&void 0!==w?w:null===(B=null===(I=u.visual)||void 0===I?void 0:I.getSubSelectionShortcuts)||void 0===B?void 0:B.call(I,L,F)];case 1:return[2,j.sent()]}})})},getSubSelectables:function(L){return(0,e.__awaiter)(T,void 0,void 0,function(){var F,A,O,N,w,I,B,j;return(0,e.__generator)(this,function(W){switch(W.label){case 0:return F=[],[4,null!==(I=null===(w=null===(N=u.visual)||void 0===N?void 0:N.getSubSelectablesAsync)||void 0===w?void 0:w.call(N,L))&&void 0!==I?I:null===(j=null===(B=u.visual)||void 0===B?void 0:B.getSubSelectables)||void 0===j?void 0:j.call(B,L)];case 1:return(A=W.sent())&&F.push.apply(F,A),M&&(O=M.getSubSelectables(L))&&F.push.apply(F,O),[2,0!==F.length?F:void 0]}})})},onDataViewObjectChanged:function(L,F,A){if(A){if(!u.visual||!u.visual.visualHasMethod("onDataViewObjectChanged"))return L;var O=u.visual.onDataViewObjectChanged(L,F);if(O)return O}else if(P){var N=P.onDataViewObjectChanged(L,F);if(N)return N}return[]}};return E&&(R.sortServices=E),R}function a(u){var V,d=u.warnings,S=u.dataBoundObjectWarnings;if(V=d?_.cloneDeep(d):{},!_.isEmpty(S))for(var g in V.visualObjectWarnings||(V.visualObjectWarnings={}),S){var y=V.visualObjectWarnings[g];y?y.push.apply(y,S[g]||[]):V.visualObjectWarnings[g]=S[g]}return V}function i(u,V,d,S){if(_.isArray(V)){var g=_.filter(V,function(R){return!(R instanceof v.L)});if(_.isEmpty(g)){u.dataBoundObjectWarnings||(u.dataBoundObjectWarnings={});for(var C=0,E=_.filter(V,function(R){return R instanceof v.L});C<E.length;C++){var M=E[C],P=M.propertyId.objectName;if(!d||!(0,p.zo)(P,d,S)){var T={selector:M.selector,warnings:[M]},x=u.dataBoundObjectWarnings[P];x?x.push(T):u.dataBoundObjectWarnings[P]=[T]}}}else b.fF.assert(function(){return g.length===V.length},"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),u.warnings={warnings:g}}else u.warnings=V}function m(u,V,d){if((0,f.q4)(d))return!1;var S=null==d?void 0:d.config.singleVisual;if(S){var g=S.visualType,y=u.capabilities(g);return!(S.query||!V.isQueryVisual(g)||"debugVisual"===g||y&&y.supportsLandingPage)}return!0}},448909:function(Je,H,t){function e(){return{getFilters:function(){return{dataFilter:null,dataFiltersUnmerged:null}},getDataSourceVariables:function(){},getVisualRelationshipFilterAction:function(){return 0},selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}t.d(H,{E:function(){return e}})},515615:function(Je,H,t){t.d(H,{UM:function(){return E}});var e=t(298801),c=t(187810),s=t(744883),f=t(781935),v=t(251912),b=t(803018),h=t(129035),r={size:f.dz.titleFontProperties.size,family:f.dz.titleFontProperties.family},o={size:f.dz.valueFontProperties.size,family:f.dz.valueFontProperties.family},a={size:f.dz.titleFontProperties.size,family:b.Wn.regular.css},i=f.dz.titleFontProperties.color,m=f.dz.valueFontProperties.color,u=f.dz.background.solid.color,V=f.dz.actionFontProperties.color;function E(R,D,L,F,A){var O;void 0===A&&(A=!1);var N=function(R,D,L){var F,A,O,N,w=!(!R||!(R.titleFontColor||R.valueFontColor||R.background));return D&&!w?(F=P(T(R&&R.themedTitleFontColor),e.v.getThemeColor(L,v.fA)),A=P(T(R&&R.themedValueFontColor),e.v.getThemeColor(L,v.fA)),O=P(T(R&&R.themedBackground),e.v.getThemeColor(L,v.U)),N=P(T(R&&R.actionFontColor),e.v.getThemeColor(L,v.fA))):D&&w?(F=P(P(T(R&&R.themedTitleFontColor),T(R&&R.titleFontColor)),i),A=P(P(T(R&&R.themedValueFontColor),T(R&&R.valueFontColor)),m),O=P(P(T(R&&R.themedBackground),T(R&&R.background)),u),N=P(T(R&&R.actionFontColor),F)):(F=P(T(R&&R.titleFontColor),i),A=P(T(R&&R.valueFontColor),m),O=P(T(R&&R.background),u)),{actionFontColor:N,backgroundColor:O,titleFontColor:F,valueFontColor:A}}(F,D,R),w=N.actionFontColor,I=N.backgroundColor,B=N.titleFontColor,j=N.valueFontColor;void 0===w&&L&&(w=D?V:B);var W=void 0!==w?x(F,D,L,R,a,w,A):void 0;return{titleFontProperties:x(F,D,L,R,r,B,A),valueFontProperties:x(F,D,L,R,o,j,A),actionFontProperties:W,discoverabilityFontProperties:D?_.clone(W):void 0,background:{solid:{color:I}},transparency:null!==(O=null==F?void 0:F.transparency)&&void 0!==O?O:D?0:f.dz.transparency,hoverColor:e.v.getThemeColor(R,v.Xy),dividerColor:e.v.getThemeColor(R,v.Xy)}}function P(R,D){return void 0===R?D:R}function T(R){if(R){if(null===R.solid)return null;if(R.solid)return R.solid.color}}function x(R,D,L,F,A,O,N){var j={size:"fontSize",family:"fontFamily",bold:(0,h.N)(R,"bold")?"bold":void 0,italic:(0,h.N)(R,"italic")?"italic":void 0,underline:(0,h.N)(R,"underline")?"underline":void 0},W=D?(0,c.Zi)(R,j,void 0,F,void 0,"label",A):(0,c.XH)(R,j,void 0,void 0,A),U=(0,c.ED)(W,{color:O});return L&&(U=(0,c.ED)(U,{size:s.B.createFromPt(N?11:9)})),(0,c.xH)(U)}},441091:function(Je,H,t){t.d(H,{N:function(){return c}});var e=t(934242),c=function(){function s(){}return s.prototype.sortEntities=function(f){},s.prototype.sortProperties=function(f){f&&f.sort(function(v,b){return(0,e.ve)(v.displayName,b.displayName)})},s}()},205434:function(Je,H,t){t.d(H,{I:function(){return s},c:function(){return c}});var e=t(226514),c=function(){function f(v){this.oldItems=v,this.newItems=[]}return f.prototype.add=function(){for(var v,b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];return!!b&&(b=_.filter(b,function(p){return!!p}),(v=this.newItems).push.apply(v,b||[]),!0)},f.prototype.merge=function(v){v&&(this.newItems=_.filter(this.newItems,v));var b=this.oldItems;return b?b.splice.apply(b,(0,e.__spreadArray)([0,b.length],this.newItems||[],!1)):_.isEmpty(this.newItems)||(b=this.newItems),b},f}(),s=function(){function f(v,b){this.vmLookup=this.getPropertiesDictionary(v),this.renames=this.getRenamesDictionary(v,b)}return f.prototype.findVms=function(v,b,h){var p=this.getKey(v,b,h);return this.vmLookup[this.renames[p]||p]},f.prototype.getPropertiesDictionary=function(v){for(var b=this,h=_.clone(v.properties),p=0,n=v.columnsAndMeasures;p<n.length;p++)h.push(n[p]);for(var r=0,o=v.hierarchies;r<o.length;r++)h.push(o[r]);for(var i=0,m=v.displayFolders;i<m.length;i++){var u=m[i];h.push(u),h.push.apply(h,u.getAllChildren()||[])}return h=_.uniq(h),_.groupBy(h,function(d){return b.getVmKey(d)})},f.prototype.getRenamesDictionary=function(v,b){for(var h={},n=0,l=_.filter(b,function(m){return m.propertyRename&&m.propertyRename.entity===v.name});n<l.length;n++){var r=l[n],o=this.getFieldType(r.propertyRename.objectType),a=this.getKey(r.propertyRename.schema,r.propertyRename.before,o);h[this.getKey(r.propertyRename.schema,r.propertyRename.after,o)]=a}return h},f.prototype.getVmKey=function(v){return this.getKey(v.schemaName,v.name,v.fieldType)},f.prototype.getKey=function(v,b,h){return b+":"+h+(v?"|"+v:"")},f.prototype.getFieldType=function(v){switch(v){default:return 0;case"KPI":return 4;case"Hierarchy":return 2;case"Level":return 3}},f}()},670196:function(Je,H,t){t.d(H,{d:function(){return v}});var e=t(23330),c=t(787941),s=t(983172),f=t(278271),v=function(){function b(h,p){c.fF.assertValue(h,"field"),this.field=h,this.conditions=[],this.operators=[],this.logicalOperator=2,this.logicalAndOperator=0,this.logicalOrOperator=1,this.filterRestatementGenerator=new e.wd(p),this.filterOperatorFactory=new e.Vl(p)}return b.prototype.toSQExpr=function(h){var p=this.field,n=p.getMetadata(h);if(c.fF.assertAnyValue(n,"metadata"),n){var l=n.type,r=s.m.hasMappedMParameter(p,h);return(0,f.d_)(p,l,this.conditions,this.logicalOperator,r)}},b.prototype.getRestatement=function(h){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,h)},b.prototype.areConditionsValid=function(h,p){var n=this.conditions;if(_.isEmpty(n))return!1;for(var l=0,r=n.length;l<r;l++){var o=n[l];if(null!=o.operator&&0!==o.operator){if((!h||o.value&&o.value.hasValue)&&((0,e.AJ)(o.operator)&&o.value&&!o.value.hasValue||p&&!this.isConditionValid(p,o)))return!1}else if(l<r-1)return!1}return!0},b.prototype.loadOperators=function(h,p,n){var l=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,h,p,n);l.hasError||(this.operators=l.operators)},b.prototype.ensureConditions=function(h,p){var n=this.operators,l=0;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(n)&&this.conditions.push(new e.gP(n[0].value));var r=2;if(h){l=p?1:2,r=p?2:1;var o=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(0===this.logicalOperator||o||this.conditions.length>1&&!p)&&(this.conditions=[new e.gP(9)],this.logicalOperator=l)}for(;this.conditions.length<r;)this.conditions.push(e.gP.empty()),this.logicalOperator=l},b.prototype.isConditionValid=function(h,p){return(0,f.Ek)(this.field,h,p)},b}()},278271:function(Je,H,t){t.d(H,{Ek:function(){return h},d_:function(){return b}});var e=t(156319),c=t(787941),s=t(324356),f=t(326621),v=/[0-9]*\.?[0-9]+%/;function b(l,r,o,a,i){void 0===a&&(a=0),void 0===i&&(i=!1);for(var u,m=new n(l,r,a,i),V=0,d=o;V<d.length;V++){var S=d[V];null==S.operator||0===S.operator||(u=S.accept(m))}return u}function h(l,r,o){if(!r)return!1;var a=e.l.getValueType(l,r);if(!a)return!1;var i=new n(l,a,void 0);return null!=o.accept(i)}var n=function(){function l(r,o,a,i){void 0===i&&(i=!1),this.propertyExpr=r,this.dataType=o,this.logicalOperator=a,this.isMappedToMParameter=i}return l.prototype.visit=function(r){var o=this.expandExpr(r);return o&&(this.result?0===this.logicalOperator?this.result=(0,s.xD)(this.result,o):1===this.logicalOperator?this.result=(0,s.or)(this.result,o):c.fF.assertFail("Logical operator is not set for multiple conditions."):this.result=o),this.result},l.prototype.expandExpr=function(r){var o,a=11!==r.operator&&12!==r.operator&&13!==r.operator&&14!==r.operator;if(a&&(o=this.getValueExpr(r)),o||!a)switch(r.operator){case 9:return(0,s.qu)(0,this.propertyExpr,o);case 10:return(0,s.ff)((0,s.qu)(0,this.propertyExpr,o));case 11:return(0,s.qu)(0,this.propertyExpr,(0,s.IF)());case 12:return(0,s.ff)((0,s.qu)(0,this.propertyExpr,(0,s.IF)()));case 5:return(0,s.r3)(this.propertyExpr,o);case 6:return(0,s.ff)((0,s.r3)(this.propertyExpr,o));case 7:return(0,s.Ny)(this.propertyExpr,o);case 8:return(0,s.ff)((0,s.Ny)(this.propertyExpr,o));case 3:return(0,s.qu)(1,this.propertyExpr,o);case 4:return(0,s.qu)(2,this.propertyExpr,o);case 1:return(0,s.qu)(3,this.propertyExpr,o);case 2:return(0,s.qu)(4,this.propertyExpr,o);case 13:return(0,s.qu)(0,this.propertyExpr,(0,s.fL)(""));case 14:return(0,s.ff)((0,s.qu)(0,this.propertyExpr,(0,s.fL)("")));default:c.fF.assertFail("Not valid filter operator type.")}},l.prototype.getValueExpr=function(r){return function(l,r,o){if(void 0===o&&(o=!1),l.value){var a=l.value.stringValue;if((r.integer||r.numeric)&&a){var i=f.dx.parseFloat(a);return isNaN(i)?void 0:(a.match(v)&&(i/=100),2===r.primitiveType?(0,s.gH)(i):_.isInteger(i)?(0,s.cA)(i):(0,s.tx)(i))}if(r.text&&a)return(0,s.fL)(a);if(r.dateTime){var m=l.value.dateValue;if(m)return o?(0,s.CQ)(m):(0,s.uQ)(5,(0,s.CQ)(m))}}}(r,this.dataType,this.isMappedToMParameter)},l}()},691545:function(Je,H,t){t.d(H,{C:function(){return c}});var e=t(168099);function c(f,v,b,h,p,n){return{parentContract:f,visual:{viewport:n?b:e.j.adjustViewport(f.detailVisualLayout,b,h),themeCollection:v,allowInvalidDataView:!0,hostServices:null,visualName:f.name+"-detail"},hasData:!1}}},946631:function(Je,H,t){t.d(H,{U:function(){return c},y:function(){return s}});var e=t(281469),c={phoneWidth:e.Co,phoneHeight:e.aW,phoneGridLayout:{columnCount:e.VA,rowCount:e.kV,newVisualCellCount:{width:6,height:6}}},s=function(){function f(v,b){void 0===b&&(b=0),this.selectedVisualOriginalPosition=-1,this.contract=v,this.canvasLayout=b}return Object.defineProperty(f.prototype,"width",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.width:c.phoneWidth},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.height:c.phoneHeight},enumerable:!1,configurable:!0}),f}()},54213:function(Je,H,t){t.d(H,{Jg:function(){return u},N6:function(){return a},NJ:function(){return V},P_:function(){return n},Tl:function(){return o},UZ:function(){return d},Wx:function(){return p},_u:function(){return m},e:function(){return l},lb:function(){return i},wf:function(){return S}});var e=t(226514),c=t(456535),s=t(787941),f=t(725182),v=t(44615),b=t(597098),h=t(934408),p=function(y,C,E){var M=C?"_paneColorRefresh":"",P=y.fieldType;if(1===P)return"fieldListFolder"+M;if(5===P)return"none";if(2===P)return"fieldListHierarchy"+M;if(6===P)return"fieldListMeasure"+M;if(1===y.contract.queryable)return"fieldListError"+M;if(1===y.kind)return y.contract.measure&&y.contract.measure.kpi&&4===y.fieldType?"fieldListKpi"+M:y.contract.measure&&y.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+M:"fieldListMeasure"+M;if(void 0!==y.contract.type&&void 0!==y.contract.type.geography)return"fieldListGeoData"+M;if(0===y.kind){var T=y.contract.column;if(T){if(T.parameterMetadata)return"fieldListParameter"+M;if(T.groupingMetadata)return"fieldListGroup"+M;if(T.calculated)return y.type&&y.type.numeric?"fieldListNumericCalculatedColumn"+M:"fieldListCalculatedColumn"+M;if(!_.isEmpty(T.variations)&&y.type.dateTime)return"fieldListCalendar"+M}if(y.idOnEntityKey)return"fieldListIdentity"+M}return y.type&&y.type.numeric&&1!==y.defaultAggregate&&E?"fieldListNumeric"+M:"none"},n=function(){function g(y){s.fF.assertValue(y,"contract"),this.contract=y,this.showCheckboxes=!0,this.entities=[]}return Object.defineProperty(g.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canEdit",{get:function(){return this.contract.capabilities.canEdit&&!this.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canCreateColumn",{get:function(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns},enumerable:!1,configurable:!0}),g.prototype.findEntity=function(y){return _.find(this.entities,function(C){return C.name===y})},g.prototype.findFields=function(y,C,E){var M=this.findEntity(y);if(M)return M.findFields(C,E)},g.prototype.findHierarchies=function(y,C,E){var M=this.findEntity(y);if(M)return M.findHierarchies(C,E)},g.prototype.findKpis=function(y,C,E){var M=this.findEntity(y);if(M)return M.findKpis(C,E)},g.prototype.findKpiMeasures=function(y,C,E){var M=this.findEntity(y);if(M)return M.findKpiMeasures(C,E)},g.prototype.findItems=function(y){var C=[];if((0,c.Im)(y)||(0,c.tO)(y))return C;var E=(0,b.Q)(y),M=(0,v.pV)(E);if(E){var P=E.hierarchyLevel||E.hierarchyLevelAggr;if(P){s.fF.assert(function(){return 1===_.size(M)},"hierarchy level should only have 1 underlying entity");var T=this.findHierarchies(M[0].entity,P.name,P.schema);if(T)for(var x=0,R=T;x<R.length;x++){var D=R[x];C.push(D);for(var L=0,F=D.hierarchyLevels;L<F.length;L++)(A=F[L]).name===P.level&&C.push(A)}}else if(E.columnHierarchyLevelVariation){var O=E.columnHierarchyLevelVariation.source.name;if(s.fF.assert(function(){return 1===_.size(M)},"variations should only have 1 underlying entity"),!(N=this.findFields(M[0].entity,O,M[0].schema)))return C;for(var w=0,I=N;w<I.length;w++){C.push(B=I[w]);var j=B.properties;if(j)for(var W=0,U=j;W<U.length;W++){var k=U[W];if(k instanceof u&&k.name===E.columnHierarchyLevelVariation.level.name){C.push(k);for(var Q=0,te=k.hierarchyLevels;Q<te.length;Q++){var A;(A=te[Q]).name===E.columnHierarchyLevelVariation.level.level&&C.push(A)}}}}}else{var ee=(0,v.gz)(E);s.fF.assert(function(){return!ee||_.size(M)===_.size(ee)},"There should be equal number of properties and entities");for(var J=0;J<M.length;J++){var N,re=M[J];if(N=this.findFields(re.entity,O=null==ee?void 0:ee[J],re.schema)||this.findKpiMeasures(re.entity,O,re.schema))for(var G=0,ne=N;G<ne.length;G++){var B;C.push(B=ne[G])}}}}return C},g.getUniqueId=function(){return g._uid++},g._uid=0,g}(),l=function(){function g(y,C,E){this.hasCheckedProperties=!1,s.fF.assertValue(y,"contract"),s.fF.assertValue(C,"contractSchema"),s.fF.assertValue(E,"schema"),this.contract=y,this.contractSchema=C,this.schema=E,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}return Object.defineProperty(g.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"calculated",{get:function(){return this.contract.calculated},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"iconClassName",{get:function(){return 1===this.contract.queryable?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hidden",{get:function(){return(0,f.yE)(this.contract.visibility,1)&&_.every(this.properties,function(C){return!C.isExtension||C.hidden})},set:function(C){this.contract.visibility=C?(0,f.mB)(this.contract.visibility,1):(0,f.AS)(this.contract.visibility,1)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canEdit",{get:function(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,h.jX)(this.contract)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"private",{get:function(){return(0,f.yE)(this.contract.visibility,4)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showAsVariationsOnly",{get:function(){return(0,f.yE)(this.contract.visibility,2)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHidden",{get:function(){return this.schema.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canRefresh",{get:function(){return this.canEdit&&this.contract.capabilities.canRefresh},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canHaveMeasures",{get:function(){return this.contract.capabilities.canHaveMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canEditEntity",{get:function(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canDelete",{get:function(){return this.canEdit&&this.contract.capabilities.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canRename",{get:function(){return this.canEdit&&this.contract.capabilities.canRename},enumerable:!1,configurable:!0}),g.prototype.findFields=function(y,C){return this.findFieldsByType(y,C,0)},g.prototype.findKpis=function(y,C){return this.findFieldsByType(y,C,4)},g.prototype.findKpiMeasures=function(y,C){return this.findFieldsByType(y,C,5)},g.prototype.findHierarchies=function(y,C){return this.findFieldsByType(y,C,2)},g.prototype.findFieldsByType=function(y,C,E){var M=[];M.push.apply(M,2===E?_.filter(this.hierarchies,function(F){return F.name===y&&F.schema.name===C}):_.filter(this.properties,function(F){return F.name===y&&F.fieldType===E&&F.schemaName===C}));for(var P=0,T=this.displayFolders;P<T.length;P++)for(var R=0,D=_.filter(T[P].getAllChildren(),function(F){return F.name===y&&F.fieldType===E});R<D.length;R++){var L=D[R];M.indexOf(L)<0&&M.push(L)}if(!_.isEmpty(M))return M},Object.defineProperty(g.prototype,"userEntity",{get:function(){return!(this.private||this.showAsVariationsOnly)},enumerable:!1,configurable:!0}),g}(),r=function(){function g(y,C,E){this.hasCheckedChildren=!1,s.fF.assertValue(y,"contract"),s.fF.assertValue(C,"schema"),s.fF.assertValue(E,"entity"),this.contract=y,this.schema=C,this.entity=E,this.id=n.getUniqueId()}return Object.defineProperty(g.prototype,"children",{get:function(){return this._children},set:function(C){this._children=C},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"schemaName",{get:function(){return this.schema.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"errorMessage",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"visible",{get:function(){return!this.parent||this.parent.expanded&&this.parent.visible},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hidden",{get:function(){return this.contract.hidden},set:function(C){this.contract.hidden=C},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHidden",{get:function(){return this.entity.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canEdit",{get:function(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"disableDragging",{get:function(){return this.entity.schema.disableDragging},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"disableSelectionOnFocus",{get:function(){return this.entity.schema.disableSelectionOnFocus},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showCheckboxes",{get:function(){return this.entity.schema.showCheckboxes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),g}(),o=function(g){function y(C,E,M,P,T){var x=g.call(this,C,E,M)||this;return x.children=[],x.originalEntity=P,x.variation=T,x.expanded=!1,x.draggable=!x.disableDragging,x.fieldType=0,x}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return this.contract.column?this.contract.column.defaultAggregate:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"type",{get:function(){return this.contract.type},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!!this.contract.column&&this.contract.column.idOnEntityKey},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canAddToFilter",{get:function(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.children},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(r),a=function(g){function y(C,E,M){var P=this;return s.fF.assertValue(C,"contract"),s.fF.assertValue(E,"schema"),s.fF.assertValue(M,"entity"),(P=g.call(this,C,E,M)||this).fieldType=6,P}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(r),i=function(g){function y(C,E,M){return g.call(this,C,E,M)||this}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(o),m=function(g){function y(C,E,M,P,T,x){var R=this;return s.fF.assertValue(C,"contract"),s.fF.assertValue(M,"parent"),s.fF.assertValue(P,"entity"),(R=g.call(this,C.column,E,P)||this).originalEntity=T,R.variation=x,R.hierarchyLevelContract=C,R.parent=M,R.fieldType=3,R}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"hidden",{get:function(){return this.parent.hidden},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"name",{get:function(){return this.hierarchyLevelContract.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"displayName",{get:function(){return this.displayNameOverride||this.hierarchyLevelContract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"description",{get:function(){return this.hierarchyLevelContract.description},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete},enumerable:!1,configurable:!0}),y.prototype.clone=function(C){return new y(this.hierarchyLevelContract,this.schema,C||this.parent,this.entity)},y}(o),u=function(g){function y(C,E,M,P,T){var x=g.call(this,C,E,M)||this;return x.expanded=!1,x.hierarchyLevels=[],x.originalEntity=P,x.variation=T,x.draggable=!x.disableDragging,x.fieldType=2,x}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"properties",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),y.prototype.findLevel=function(C,E){return _.find(this.hierarchyLevels,function(M){return M.name===C})},y.prototype.clone=function(){var C=new y(this.contract,this.schema,this.entity);return C.hierarchyLevels=_.map(this.hierarchyLevels,function(E){return E.clone(C)}),C},y}(r),V=function(g){function y(C,E,M){var P=g.call(this,C,E,M)||this;return P.expanded=!1,P.kpiMeasures=[],P.fieldType=4,P}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),y.prototype.clone=function(){var C=new y(this.contract,this.schema,this.entity);return C.kpiMeasures=_.map(this.kpiMeasures,function(E){return E.clone(C)}),C},y}(r),d=function(g){function y(C,E,M,P,T,x){var R=this;return s.fF.assertValue(C,"contract"),s.fF.assertValue(T,"entity"),s.fF.assertValue(M,"kpiType"),s.fF.assertValue(P,"kpiParent"),s.fF.assertValue(x,"locOptions"),(R=g.call(this,C,E,T)||this).kpiType=M,R.parent=P,R.locOptions=x,R.draggable=!R.disableDragging,R.fieldType=5,R}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"displayName",{get:function(){var E;switch(this.kpiType){case 2:E=this.locOptions.KpiValueDisplayName;break;case 1:E=this.locOptions.KpiGoalDisplayName;break;case 0:E=this.locOptions.KpiStatusDisplayName;break;case 3:E=this.locOptions.KpiTrendDisplayName;break;default:s.fF.assertFail("Unknown KpiType")}return this.displayNameOverride||E||this.contract.displayName},enumerable:!1,configurable:!0}),y.prototype.clone=function(C){return new y(this.contract,this.schema,this.kpiType,C||this.parent,this.entity,this.locOptions)},y}(o),S=function(g){function y(C,E,M,P,T){var x=g.call(this,C,P,T)||this;x.expanded=!1,x.parent=M,x.children=E,x.fieldType=1;for(var R=0,D=E;R<D.length;R++)D[R].parent=x;return x}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"hidden",{get:function(){return!_.some(this.children,function(E){return!E.hidden})},set:function(E){s.fF.assertFail("Should never hide display folder directly")},enumerable:!1,configurable:!0}),y.prototype.clone=function(){s.fF.assertFail("NotImplemented")},y.prototype.getAllChildren=function(){for(var C=[],E=0,M=this.children;E<M.length;E++){var P=M[E];C.push(P),1===P.fieldType&&C.push.apply(C,P.getAllChildren()||[])}return C},y}(r)},450424:function(Je,H,t){t.d(H,{pF:function(){return f}});var e=t(942983),c=t(441091),s=t(205434);function f(h,p,n,l){var r,o=new s.c(h.displayFolders),a=_.keyBy(h.displayFolders,function(M){return M.name});if(!_.isEmpty(n))for(var i=0,m=n;i<m.length;i++)for(var V=function(P){var T=p.indexOf(p.filter(function(x){return x.name===P.name})[0]);T>=0?p[T]=v(p[T],P):p=p.concat(P)},d=0,S=m[i].entity.displayFolders;d<S.length;d++)V(S[d]);if(!_.isEmpty(p))for(var y=0,C=p;y<C.length;y++)o.add(b(h,void 0,C[y],a,l));h.displayFolders=o.merge(),(r=h.properties).push.apply(r,h.displayFolders||[])}function v(h,p){if(p){for(var n=0,l=p.properties;n<l.length;n++)h.properties.push(l[n]);for(var o=0,a=p.hierarchies;o<a.length;o++)h.hierarchies.push(a[o]);for(var m=function(g){var y=h.displayFolders.indexOf(h.displayFolders.filter(function(C){return C.name===g.name})[0]);y>=0?h.displayFolders[y]=v(h.displayFolders[y],g):h.displayFolders.push(g)},u=0,V=p.displayFolders;u<V.length;u++)m(V[u])}return h}function b(h,p,n,l,r){var o=l[n.name];if(o){o.contract=n;var a=new s.c(o.children);if(n.properties)for(var i=_.filter(o.children,function(A){return 1!==A.fieldType&&2!==A.fieldType}),m=_.keyBy(i,function(A){return A.name}),u=0,V=n.properties;u<V.length;u++){var d=V[u],S=m[d.name];S||((S=(_.head(h.findFields(d.name,o.schemaName))||_.head(h.findFields(d.name,e.eM))||_.head(h.findKpis(d.name,o.schemaName))).clone()).parent=o),a.add(S)}if(n.hierarchies)for(var y=_.filter(o.children,function(O){return 2===O.fieldType}),C=(m=_.keyBy(y,function(O){return O.name}),0),E=n.hierarchies;C<E.length;C++){var M=E[C],P=m[M.name];P||((P=_.head(h.findHierarchies(M.name,o.schemaName)).clone()).parent=o),a.add(P)}if(n.displayFolders)for(var x=_.filter(o.children,function(O){return 1===O.fieldType}),R=(m=_.keyBy(x,function(O){return O.name}),0),D=n.displayFolders;R<D.length;R++)a.add(b(h,o,D[R],m,r));o.children=a.merge(),(new c.N).sortProperties(o.children)}else o=r.convertConceptualDisplayFolder(n,h.contractSchema,p,h);return o}},839473:function(Je,H,t){t.d(H,{o:function(){return b}});var e=t(787941),c=t(54213),s=t(450424),f=t(934242),v=t(934408);function b(p,n,l){return void 0===l&&(l=!1),new h(p,n,l)}var h=function(){function p(n,l,r){void 0===r&&(r=!1),this.withRowCounts=!1,e.fF.assertValue(n,"localizationService"),e.fF.assertValue(l,"featureSwitchService"),this.localizationService=n,this.withRowCounts=r}return p.prototype.createModel=function(n,l,r,o){e.fF.assertValue(n,"federatedSchema");for(var a,i=n.schemas,m=(0,f.nX)(i),u=0,V=i=(0,f.uU)(i);u<V.length;u++)a=this.convertConceptualSchema(V[u],a,m,l,r,o);return a},p.prototype.convertConceptualSchema=function(n,l,r,o,a,i){var m,u=this;(l=l||new c.P_(n)).disableDragging=a;var V=_.filter(n.entities,function(S){return!(0,v.p1)(S)||(0,v.jX)(S)}),d=_.map(V,function(S){return u.convertConceptualEntity(S,n,l,r)});return(m=l.entities).push.apply(m,d||[]),l.disableEditing=o,l.disableSelectionOnFocus=i,l},p.prototype.convertConceptualEntity=function(n,l,r,o){var C,a=this,i=new c.e(n,l,r);if(i.properties=[],n.properties&&!(0,v.p1)(n))for(var m=0,u=n.properties;m<u.length;m++)if((V=u[m]).measure&&V.measure.kpi){var d=this.convertConceptualKpi(V,l,i);i.columnsAndMeasures.push(d),i.properties.push(d)}else V.kpiValue||(d=this.convertConceptualProperty(V,l,i),i.columnsAndMeasures.push(d),i.properties.push(d));if(i.isMeasureGroup=(0,f.fn)(n.properties),i.expanded=!1,n.hierarchies&&n.hierarchies.length>0){i.hierarchies=_.map(n.hierarchies,function(A){return a.convertConceptualHierarchy(A,l,i)});for(var S=0,g=i.hierarchies;S<g.length;S++)i.properties.push(g[S])}if(o){var E=(0,v.U)(l.name,n.name);if(C=o.entities[E])for(var M=0,P=C;M<P.length;M++)for(var T=P[M],x=0,R=T.entity.properties;x<R.length;x++){var V,D=this.convertConceptualExtensionMeasure(V=R[x],T.schema,i);i.properties.push(D)}}if((0,s.pF)(i,n.displayFolders,C,this),(0,f.MM)(i.properties),(0,f.jM)(i.properties,i.displayFolders),(0,f.CU)(i),(0,f.WF)(i),this.withRowCounts&&0===n.visibility&&!l.capabilities.discourageQueryAggregateUsage){var F=this.createConceptualRowCount(l,i);i.properties.unshift(F)}return i},p.prototype.convertConceptualDisplayFolder=function(n,l,r,o){for(var a={},i={},m=0,u=o.properties;m<u.length;m++){var V=u[m];3===V.fieldType||2===V.fieldType?i[V.name]=V:a[V.name]=V}return this.convertConceptualDisplayFolderCore(n,l,r,a,i,o)},p.prototype.convertConceptualDisplayFolderCore=function(n,l,r,o,a,i){for(var m=[],u=0,V=n.properties;u<V.length;u++){var d=V[u];d&&(S=o[d.name])&&m.push(S.clone())}for(var g=0,y=n.hierarchies;g<y.length;g++){var S,C=y[g];C&&(S=a[C.name])&&m.push(S.clone())}for(var E=new c.wf(n,m,r,l,i),M=0,P=n.displayFolders;M<P.length;M++)E.children.push(this.convertConceptualDisplayFolderCore(P[M],l,E,o,a,i));return(0,f.MM)(E.children),E},p.prototype.convertConceptualHierarchy=function(n,l,r,o,a){var i=new c.Jg(n,l,r,o,a);i.hierarchyLevels=[];for(var m=0,u=n.levels;m<u.length;m++)i.hierarchyLevels.push(this.convertConceptualHierarchyLevel(u[m],l,i));return i},p.prototype.convertConceptualHierarchyLevel=function(n,l,r){return new c._u(n,l,r,r.entity,r.originalEntity,r.variation)},p.prototype.convertConceptualProperty=function(n,l,r){for(var o=new c.Tl(n,l,r),a=0,i=(0,f.Xj)(n);a<i.length;a++)o.children.push(this.convertConceptualVariationHierarchy(i[a],l,o));return o},p.prototype.convertConceptualVariationHierarchy=function(n,l,r){var o=this.convertConceptualHierarchy(n.defaultHierarchy,l,r.entity,n.navigationProperty.targetEntity,n.name);return o.parent=r,o},p.prototype.convertConceptualExtensionMeasure=function(n,l,r){return new c.lb(n,l,r)},p.prototype.convertConceptualKpi=function(n,l,r){var o=new c.NJ(n,l,r),a={};a.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),a.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),a.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),a.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var i=n.measure.kpi,m=i.goal,u=i.status,V=i.trend;return o.kpiMeasures=[],o.kpiMeasures.push(this.convertConceptualKpiMeasure(n,l,2,o,r,a)),m&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(m,l,1,o,r,a)),u&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(u,l,0,o,r,a)),V&&o.kpiMeasures.push(this.convertConceptualKpiMeasure(V,l,3,o,r,a)),o},p.prototype.convertConceptualKpiMeasure=function(n,l,r,o,a,i){return new c.UZ(n,l,r,o,a,i)},p.prototype.createConceptualRowCount=function(n,l){var r={name:l.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new c.N6(r,n,l)},p}()},462337:function(Je,H,t){t.d(H,{hi:function(){return r}});var e=t(441091),c=t(787941),s=t(54213),f=t(450424),v=t(934242),b=t(934408),n=t(205434),l=function(){function o(a,i,m,u,V,d){this.factory=a,this.sorter=i,this.disableEditing=m,this.disableDragging=u,this.disableSelectionOnFocus=V,this.schemaChanges=d?d.changes:[]}return o.prototype.mergeFieldList=function(a,i){return(!a||!i)&&(a={schema:void 0,isLoaded:!1}),i&&_.some(i.schemas)&&(a.schema=this.mergeSchemas(a,i),a.isLoaded=!0),a},o.prototype.mergeSchemas=function(a,i){var m=a.schema;if(m){var u=(0,v.nX)(i.schemas),V=(0,v.uU)(i.schemas);m.contract=_.find(V,function(T){return!(0,b.p1)(T)});for(var d=new n.c(m.entities),S=0,g=V;S<g.length;S++)for(var y=g[S],C=0,E=y.entities;C<E.length;C++){var M=E[C];if(!(0,b.p1)(M)||(0,b.jX)(M)){var P=this.mergeEntity(m,y,M,u);y===m.contract&&d.add.apply(d,P||[])}}m.entities=d.merge(),this.sorter.sortEntities(m.entities)}else m=this.factory.createModel(i,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return m},o.prototype.mergeEntity=function(a,i,m,u){c.fF.assertValue(m,"entity");var V=this.findEntityVm(a,m);if(V){V.contract=m,V.contractSchema=i;var d=new n.c(V.properties),S=new n.c(V.columnsAndMeasures),g=new n.c(V.hierarchies),y=new n.I(V,this.schemaChanges);if(!(0,b.p1)(m))for(var C=0,E=m.properties;C<E.length;C++){var P=this.mergePropertyMeasureOrKpi(V,i,E[C],y);d.add.apply(d,P||[]),S.add.apply(S,P||[])}for(var T=0,x=m.hierarchies;T<x.length;T++){var D=this.mergeHierarchy(V,i,x[T],y);d.add.apply(d,D||[]),g.add.apply(g,D||[])}var L=u.entities[(0,b.U)(i.name,m.name)];if(L)for(var F=0,A=L;F<A.length;F++)for(var O=A[F],N=0,w=O.entity.properties;N<w.length;N++){var I=this.mergeExtensionMeasure(V,O.schema,w[N],y);d.add.apply(d,I||[]),S.add.apply(S,I||[])}V.columnsAndMeasures=S.merge(function(B){return!B.parent}),V.hierarchies=g.merge(function(B){return!B.parent}),V.properties=d.merge(function(B){return!B.parent}),(0,f.pF)(V,m.displayFolders,L,this.factory),this.sorter.sortProperties(V.properties),(0,v.jM)(V.properties,V.displayFolders),(0,v.CU)(V),(0,v.WF)(V)}else V=this.factory.convertConceptualEntity(m,i,a,u);return[V]},o.prototype.findEntityVm=function(a,i){var m=i.name,u=_.find(this.schemaChanges,function(d){return d.entityRename&&d.entityRename.after===i.name});u&&(m=u.entityRename.before);var V=a.findEntity(m);return V&&(0,b.jX)(V.contract)!==(0,b.jX)(i)?null:V},o.prototype.mergePropertyMeasureOrKpi=function(a,i,m,u){if(!(0,b.p1)(m)){if(function(o){return c.fF.assertValue(o,"contract"),!!o.measure&&!!o.measure.kpi}(m))return this.mergeKpi(a,i,m,u);if(!function(o){return c.fF.assertValue(o,"contract"),!!o.kpiValue}(m))return this.mergeProperty(a,i,m,u)}},o.prototype.mergeProperty=function(a,i,m,u){var V=u.findVms(i.name,m.name,0);if(V=_.filter(V,function(P){return!P.isExtension}),_.isEmpty(V))V=[this.factory.convertConceptualProperty(m,i,a)];else for(var d=0,S=V;d<S.length;d++){var g=S[d];g.contract=m,g.schema=i;for(var y=new n.c(g.children),C=0,E=(0,v.Xj)(m);C<E.length;C++)y.add(this.mergeVariationHierarchy(g,i,E[C]));g.children=y.merge()}return V},o.prototype.mergeVariationHierarchy=function(a,i,m){var u=_.find(a.children,function(V){return V instanceof s.Jg&&V.variation===m.name});return u?this.updateHierarchyVm(a.entity,u,m.defaultHierarchy,i):u=this.factory.convertConceptualVariationHierarchy(m,i,a),u},o.prototype.mergeExtensionMeasure=function(a,i,m,u){var V=u.findVms(i.name,m.name,0);return V=_.filter(V,function(d){return d.isExtension}),_.isEmpty(V)?V=[this.factory.convertConceptualExtensionMeasure(m,i,a)]:_.forEach(V,function(d){d.contract=m,d.schema=i}),V},o.prototype.mergeKpi=function(a,i,m,u){var V=u.findVms(i.name,m.name,4);if(_.isEmpty(V))V=[this.factory.convertConceptualKpi(m,i,a)];else for(var d=0,S=V;d<S.length;d++){var g=S[d];g.contract=m,g.schema=i;var y=new n.c(g.kpiMeasures);y.add(this.mergeKpiMeasure(i,g,m,2)),m.measure.kpi.goal&&y.add(this.mergeKpiMeasure(i,g,m.measure.kpi.goal,1)),m.measure.kpi.status&&y.add(this.mergeKpiMeasure(i,g,m.measure.kpi.status,0)),m.measure.kpi.trend&&y.add(this.mergeKpiMeasure(i,g,m.measure.kpi.trend,3)),g.kpiMeasures=_.some(y,function(C){return null===C})?this.factory.convertConceptualKpi(m,i,a).kpiMeasures:y.merge()}return V},o.prototype.mergeKpiMeasure=function(a,i,m,u){var V=_.find(i.kpiMeasures,function(d){return d.kpiType===u});return V?(V.contract=m,V.schema=a,V):null},o.prototype.mergeHierarchy=function(a,i,m,u){var V=u.findVms(i.name,m.name,2);if(_.isEmpty(V)){var d=this.factory.convertConceptualHierarchy(m,i,a);_.some(this.schemaChanges,function(C){return C.hierarchyCreate&&C.hierarchyCreate.entity===a.name&&C.hierarchyCreate.name===d.name})&&(d.expanded=!0),V=[d]}else for(var S=0,g=V;S<g.length;S++)this.updateHierarchyVm(a,g[S],m,i);return V},o.prototype.updateHierarchyVm=function(a,i,m,u){i.contract=m,i.schema=u;for(var V=_.keyBy(i.hierarchyLevels,function(E){return E.name}),d=new n.c(i.hierarchyLevels),S=0,g=m.levels;S<g.length;S++){var C=this.mergeHierarchyLevel(a,i,u,g[S],V);d.add(C)}i.hierarchyLevels=d.merge()},o.prototype.mergeHierarchyLevel=function(a,i,m,u,V){var d=this.findHierarchyLevel(a,i,m,u,V);return d?(d.contract=u.column,d.hierarchyLevelContract=u,d.schema=m):d=this.factory.convertConceptualHierarchyLevel(u,m,i),d},o.prototype.findHierarchyLevel=function(a,i,m,u,V){var d=u.name,S=_.find(this.schemaChanges,function(g){return g.hierarchyLevelRename&&g.hierarchyLevelRename.entity===a.contract.name&&g.hierarchyLevelRename.hierarchy===i.contract.name&&g.hierarchyLevelRename.after===d});return S&&(d=S.hierarchyLevelRename.before),V[d]},o}();function r(o,a,i,m,u,V,d){return new l(i,new e.N,u,V,d,m).mergeFieldList(o,a)}},934242:function(Je,H,t){t.d(H,{CU:function(){return a},MM:function(){return n},WF:function(){return h},Xj:function(){return V},fn:function(){return f},jM:function(){return r},nX:function(){return v},uU:function(){return b},ve:function(){return l}});var e=t(787941),c=t(54213),s=t(934408);function f(d){return _.find(d,function(S){return!S.hidden})&&!_.find(d,function(S){return!S.hidden&&1!==S.kind&&2!==S.kind})}function v(d){for(var S={entities:{}},g=0,y=d;g<y.length;g++){var C=y[g];if((0,s.p1)(C))for(var E=C.extends,M=0,P=C.entities;M<P.length;M++){var T=P[M];if((0,s.p1)(T)){var x={schema:C,entity:T},R=(0,s.U)(E,T.name),D=S.entities[R];D?D.push(x):S.entities[R]=D=[x]}}}return S}function b(d){var S=_.filter(d,function(y){return!(0,s.p1)(y)}),g=_.filter(d,function(y){return(0,s.p1)(y)});return _.union(S,g)}function h(d){for(var g=[],y=0,C=d.properties;y<C.length;y++)p(g,C[y]);d.properties=g}function p(d,S){if(e.fF.assertValue(d,"properties"),e.fF.assertValue(S,"property"),d.push(S),(S instanceof c.NJ||S instanceof c.Jg||S instanceof c.Tl)&&!_.isEmpty(S.properties))for(var g=0,y=S.properties;g<y.length;g++)p(d,y[g])}function n(d){d&&d.sort(function(S,g){return l(S.displayName,g.displayName)})}function l(d,S){return d=(d||"").toLocaleUpperCase(),S=(S||"").toLocaleUpperCase(),d.localeCompare(S)}function r(d,S){if(!_.isEmpty(d)){var g={};o(S,g),_.remove(d,function(y){return 1!==y.fieldType&&g[y.name]})}}function o(d,S){if(!_.isEmpty(d)){for(var g=[],y=0,C=d;y<C.length;y++)for(var M=0,P=C[y].children;M<P.length;M++){var T=P[M];1===T.fieldType?g.push(T):S[T.name]=T}o(g,S)}}function a(d){var S=[];i(d.properties,S),d.properties=S}function i(d,S){for(var g=0,y=d;g<y.length;g++){var C=y[g];S.push(C),1===C.fieldType&&i(C.children,S)}}function V(d){var S=[];if(d.column&&d.column.variations)for(var g=0,y=d.column.variations;g<y.length;g++){var C=y[g],E=C.navigationProperty.targetEntity,M=C.defaultHierarchy;E&&E.hierarchies&&M&&!M.hidden&&S.push(C)}return S}},934408:function(Je,H,t){function e(f,v){return JSON.stringify({e:v})}function c(f){return f.hasOwnProperty("extends")}function s(f){return f.isAbandoned}t.d(H,{U:function(){return e},jX:function(){return s},p1:function(){return c}})},818649:function(Je,H,t){t.d(H,{Hh:function(){return d},op:function(){return C}});var e=t(456535),c=t(251066),s=t(339432),f=t(809395),v=t(29436),b=t(787941),h=t(145315),p=t(734287),n=t(44615),l=t(597098),r=t(998583),o=t(324356),a=t(435795),i=t(983172),m=t(799818),u=t(374952);function d(P,T,x,R,D,L,F,A,O,N){var w=new S(P,D,L,T,x,R,F,A,O,N);return(0,n.Vn)((0,l.Q)(P),w)}var S=function(){function P(T,x,R,D,L,F,A,O,N,w){this.sqExpr=T,this.dataRoleKind=x,this.requiredTypes=R,this.schema=D,this.aggrOps=L,this.hasHierarchyLevels=F,this.localizationService=A,this.property=O,this.forceAggregateItems=N,this.aggregatesConstraint=w}return P.prototype.visitEntity=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumn=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnAggr=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitGroupingColumn=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitGroupingColumnAggr=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnHierarchyVariation=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnHierarchyLevelVariation=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitColumnSubquery=function(T){return[]},P.prototype.visitColumnAggrSubquery=function(T){return[]},P.prototype.visitColumnTransformRef=function(T){return[]},P.prototype.visitEntityAggr=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchy=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchyLevel=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitHierarchyLevelAggr=function(T){return this.createMenuItems(this.sqExpr)},P.prototype.visitMeasure=function(T){return[]},P.prototype.visitPercentOfGrandTotal=function(T){var x=(0,r.B)(T.baseExpr);return this.createMenuItemsForPercentOfTotal(x)},P.prototype.visitPercentOfRoleTotal=function(T){var x=(0,r.B)(T.baseExpr);return this.createMenuItemsForPercentOfTotal(x)},P.prototype.visitPercentile=function(T){return[]},P.prototype.visitSelectRef=function(T){return[]},P.prototype.visitFilteredEval=function(T){var x=(0,r.B)(T.baseExpr);return this.createMenuItems(x)},P.prototype.visitArithmetic=function(T){return[]},P.prototype.visitConstant=function(T){return b.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]},P.prototype.visitSparklineData=function(T){return[]},P.prototype.visitNativeVisualCalc=function(T){return[]},P.prototype.createMenuItemsForPercentOfTotal=function(T){var x=(0,a.n)(T,this.schema).getMetadata(this.schema);if(!x)return[];var R=x.type;return this.createMenuItems(T,R.text||R.dateTime||R.duration?[3,4]:[])},P.prototype.createMenuItems=function(T,x){void 0===x&&(x=[]);var R=[];if(!this.hasHierarchyLevels&&_.isEmpty(T.validate(this.schema,this.aggrOps))&&!i.m.discourageAggregation(T,this.schema)){var L=this.dataRoleKind===h.DW.GroupingOrMeasure,F=this.dataRoleKind!==h.DW.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(T,this.schema,this.requiredTypes):[];_.isEmpty(this.aggregatesConstraint)||(F=_.intersection(F,this.aggregatesConstraint)),F=_.difference(F,x),(L&&!function(P,T){var x=P.getConceptualProperty(T);return x&&1===x.kind}(T,this.schema)&&!function(P,T){var x=(0,l.Q)(P,T);return!(!x||!x.entityAggr)}(T,this.schema)||this.forceAggregateItems&&!_.isEmpty(F))&&R.push(this.createRemoveAggregateMenuItem());for(var A=0,O=F;A<O.length;A++)R.push(this.createAggregateMenuItem(O[A]))}return R},P.prototype.createAggregateMenuItem=function(T){var x={type:0};x.key={action:4,aggregate:T};var R=(0,a.n)(this.sqExpr,this.schema).getMetadata(this.schema),D=(0,c.z)(T,R);return x.text=this.localizationService.get("Aggregate_"+D),x},P.prototype.createRemoveAggregateMenuItem=function(){var T={type:0,key:{action:2}};return T.text=this.localizationService.get("FieldWell_RemoveAggregate"),T},P.prototype.visitTransformOutputRoleRef=function(T){return[]},P}(),g=function(){function P(T,x,R,D,L,F,A,O,N,w,I,B,j,W){var U;if(this.property=T,this.bucket=x,this.buckets=R,this.dataRole=D,this.forceAggregateItems=L,this.schema=F,this.aggrOps=A,this.visual=O,this.featureSwitchService=N,this.groupingDesignStateService=w,this.showValueAsService=I,this.localizationService=B,this.visualContainer=j,this.visualCalcEagerService=W,this.supportedOperations=null!==(U=this.property.supportedOperations)&&void 0!==U?U:67108863,this.menuItems=[],1==(1&this.supportedOperations)&&this.menuItems.push(this.createDeleteMenuItem()),this.property.interactivityOptions.isEditableField&&32768==(32768&this.supportedOperations)&&this.menuItems.push(this.createRenameMenuItem()),524288==(524288&this.supportedOperations)){var k=(0,f.II)(this.visualContainer);!k&&this.bucket.properties.length>1&&this.menuItems.push(this.createMoveGroupMenuItem()),!k&&this.buckets.length>1&&this.menuItems.push(this.createMoveToGroupMenuItem())}this.createConditionalFormattingOptions()}return P.prototype.createConditionalFormattingOptions=function(){var T=this;_.isEmpty(this.property.conditionalFormattingRepetitions)||!this.visual||(this.conditionalFormattingOptions=this.property.conditionalFormattingRepetitions.map(function(x){return{repetition:x,propertyDefinition:(0,v.OT)(T.visual.objects,x)}}))},P.prototype.visitEntity=function(T){return b.fF.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems},P.prototype.visitColumn=function(T){var x=this.property.expr;return 4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(x),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(T.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(T.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(x),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(T),256==(256&this.supportedOperations)&&this.addGroupsMenuItems(T),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},P.prototype.visitColumnAggr=function(T){var x=this.property.expr;return 2097152==(2097152&this.supportedOperations)&&this.addSparklineMenuItem(T.schema),4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(x),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(T.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(T.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(x),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(T),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},P.prototype.visitGroupingColumn=function(T){var x=this.property.expr;return this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(T),this.addGroupsMenuItems(T),this.menuItems},P.prototype.visitGroupingColumnAggr=function(T){var x=this.property.expr;return this.addSparklineMenuItem(T.schema),this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(T),this.menuItems},P.prototype.visitColumnHierarchyVariation=function(T){return b.fF.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems},P.prototype.visitColumnHierarchyLevelVariation=function(T){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.source.schema),this.addQuickCalcMenuItem(T.source.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitColumnSubquery=function(T){return b.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitColumnAggrSubquery=function(T){return b.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitColumnTransformRef=function(T){return b.fF.assertFail("Should not be called"),this.menuItems},P.prototype.visitEntityAggr=function(T){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.menuItems},P.prototype.visitHierarchy=function(T){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitHierarchyLevel=function(T){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},P.prototype.visitHierarchyLevelAggr=function(T){var x=this.property.expr;return this.addSparklineMenuItem(T.schema),this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.menuItems},P.prototype.visitMeasure=function(T){var x=this.property.expr;return this.addSparklineMenuItem(T.schema),this.addConditionalFormattingMenuItems(x),this.addShowValueAsMenuItem(T.schema),this.addQuickCalcMenuItem(T.schema),this.addShowAllMenuItem(x),this.menuItems},P.prototype.visitPercentile=function(T){return this.addConditionalFormattingMenuItems(this.property.expr),this.menuItems},P.prototype.visitSelectRef=function(T){return[]},P.prototype.visitTransformOutputRoleRef=function(T){return[]},P.prototype.visitPercentOfGrandTotal=function(T){return this.addPercentTotalMenuItems(T.baseExpr)},P.prototype.visitPercentOfRoleTotal=function(T){return this.addPercentTotalMenuItems(T.baseExpr)},P.prototype.visitFilteredEval=function(T){return this.addFilteredEvalMenuItems()},P.prototype.visitArithmetic=function(T){return this.menuItems},P.prototype.visitNativeVisualCalc=function(T){return this.addEditVisualCalcMenuItems(),this.menuItems},P.prototype.visitConstant=function(T){return b.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems},P.prototype.visitSparklineData=function(T){return this.addEditSparklineMenuItem(),this.menuItems},P.prototype.isFieldParameterOperations=function(){return 16777216==(16777216&this.supportedOperations)||8388608==(8388608&this.supportedOperations)},P.prototype.addEditVisualCalcMenuItems=function(){(0,e.jX)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createEditCalculationMenuItem()))},P.prototype.createEditCalculationMenuItem=function(){var T={type:0,key:{action:33554432}},x=this.visual.query;if(null!=x){var D=x.projections[this.property.role].all()[this.property.startIndex];T.disabled=this.visualCalcEagerService.shouldDisableEditing(D.queryRef,this.visualContainer)}return T.text=this.localizationService.get("FieldWell_EditVisualCalculation"),T},P.prototype.addFieldParameterMenuItems=function(){this.property.expr.getConceptualProperty(this.schema)&&(this.menuItems.push(this.createSeparatorMenuItem()),16777216==(16777216&this.supportedOperations)?this.menuItems.push(this.createColumnToParameter()):8388608==(8388608&this.supportedOperations)&&this.menuItems.push(this.createParameterToColumn()))},P.prototype.addFilteredEvalMenuItems=function(){return this.addAggregateMenuItems(),this.menuItems},P.prototype.addPercentTotalMenuItems=function(T){var x=(0,r.B)(T);this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,n.J1)(T)),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels);var R=(0,n.$s)(T);return R&&this.addVariationsMenuItems(R),this.menuItems},P.prototype.addAggregateMenuItems=function(){var T,x=d(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.property,this.forceAggregateItems);_.isEmpty(x)||(this.menuItems.push(this.createSeparatorMenuItem()),(T=this.menuItems).push.apply(T,x||[]))},P.prototype.addConditionalFormattingMenuItems=function(T){_.isEmpty(this.conditionalFormattingOptions)||T.getMetadata(this.schema)&&((0,f._9)(this.visual.query)||(this.menuItems.push(this.createSeparatorMenuItem()),this.addSetConditionalFormattingMenuItem(),this.addRemoveConditionalFormattingMenuItem()))},P.prototype.addSetConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var T={type:0};T.text=this.localizationService.get("FieldWell_ConditionalFormatting"),this.menuItems.push(T);for(var x=T.children=[],R=0,D=this.conditionalFormattingOptions;R<D.length;R++){var L=D[R];x.push(this.createConditionalFormattingMenuItem(L.repetition.propertyDescriptor.displayName,4096,L))}}},P.prototype.addRemoveConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var T={type:0};if(T.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(T),!_.some(this.conditionalFormattingOptions,function(O){return null!=O.propertyDefinition}))return void(T.disabled=!0);var R=T.children=[];R.push(this.createConditionalFormattingMenuItem((0,p.V)("All"),8192));for(var D=0,L=this.conditionalFormattingOptions;D<L.length;D++){var F=L[D],A=this.createConditionalFormattingMenuItem(F.repetition.propertyDescriptor.displayName,16384,F);A.disabled=null==F.propertyDefinition,R.push(A)}}},P.prototype.createConditionalFormattingMenuItem=function(T,x,R){var D={type:0};return D.key={action:x,conditionalFormattingOptions:R},D.text=(0,p.G)(T,this.localizationService),D},P.prototype.addShowAllMenuItem=function(T){var x=(0,u.k)(T);if(!(0,f._9)(this.visual.query)&&(this.dataRole.kind===h.DW.Grouping||this.dataRole.kind===h.DW.GroupingOrMeasure&&!x)){this.menuItems.push(this.createSeparatorMenuItem());var R=this.createShowAllMenuItem();this.visualContainer&&(0,f.ZB)([this.visualContainer])&&(R.tooltip=this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"),R.disabled=!0),this.menuItems.push(R)}},P.prototype.addHierarchiesMenuItems=function(T){if(!_.isEmpty(T)){var x=_.head(T),R=(0,m.wA)(this.schema,x.expr.arg);R instanceof Array&&R.length===T.length||this.bucket.supportsMultipleItems&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createRestoreHierarchyMenuItem()))}},P.prototype.addShowValueAsMenuItem=function(T){if(_.isEmpty(this.property.hierarchyLevels)&&this.property.expr.getConceptualProperty(this.schema)){var x=this.schema.schema(T),R=x&&x.capabilities.supportsScopedEval;if(!(0,f._9)(this.visual.query)&&R&&this.dataRole.kind!==h.DW.Grouping){var L=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(L)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createShowValueAsMenuItem(L)))}}},P.prototype.addQuickCalcMenuItem=function(T){if(this.property.expr.getConceptualProperty(this.schema)){var x=this.schema.schema(T);(x&&x.capabilities.canEdit&&!x.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(x))&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createQuickCalcMenuItem()))}},P.prototype.canAuthorReportMeasuresOnSchema=function(T){return T.capabilities.isExtendable||T.isExtensionSchema},P.prototype.addSparklineMenuItem=function(T){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var x=this.schema.schema(T);if(x&&x.capabilities.supportsSparklineData){this.menuItems.push(this.createSeparatorMenuItem());var R={type:0,key:{action:2097152}};R.text=this.localizationService.get("Sparkline_AddOption"),this.updateDisableAndTooltipForVisualCalcScenarios(R,"Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden"),this.menuItems.push(R)}}},P.prototype.addEditSparklineMenuItem=function(){if(this.featureSwitchService.featureSwitches.sparklines){this.menuItems.push(this.createSeparatorMenuItem());var T={type:0,key:{action:4194304}};T.text=this.localizationService.get("Sparkline_EditOption"),this.menuItems.push(T)}},P.prototype.addVariationsMenuItems=function(T){var x,R=(0,n.tg)(T),D=R.getConceptualProperty(this.schema);if(D){var L=D.column;if(L&&!_.isEmpty(L.variations)){for(var F=(0,o.nw)(T.schema,T.entity),A=this.createVariationMenuItem(D.displayName,R),O=[],N=0,w=L.variations;N<w.length;N++){var I=w[N];if(I.navigationProperty&&I.navigationProperty.targetEntity){var B=I.navigationProperty.targetEntity;if(this.dataRole.kind!==h.DW.Measure)for(var W=0,U=_.filter(B.hierarchies,function(X){return!X.hidden});W<U.length;W++){var k=U[W],Q=(0,o.bT)((0,o.yU)(F,I.name,D.name),k.name);O.push(this.createVariationMenuItem(k.name,Q))}for(var te=(0,o.nw)(F.schema,B.name),J=0,re=_.filter(B.properties,function(X){return!X.hidden});J<re.length;J++){var G=re[J],ne=(0,o.Oh)(te,G.name);O.push(this.createVariationMenuItem(G.displayName,ne))}}}_.isEmpty(O)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(A),(x=this.menuItems).push.apply(x,O||[]))}}},P.prototype.addGroupsMenuItems=function(T){var x,R=this.schema.schema(T.schema);if(!1!==(R&&R.capabilities.canEdit&&R.capabilities.supportsGrouping)){var L=this.featureSwitchService.featureSwitches.enableGroupAuthoring,F=[],A=this.property.expr.getConceptualProperty(this.schema);L&&((0,s.X0)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&F.push(this.createGroupsMenuItem()),(0,s.yl)(T.entity,A,this.groupingDesignStateService)&&F.push(this.createEditGroupsMenuItem())),(0,s.P2)(T.entity,A,this.groupingDesignStateService)&&F.push(this.createEditClusteringMenuItem()),F.length>0&&(this.menuItems.push(this.createSeparatorMenuItem()),(x=this.menuItems).push.apply(x,F||[]))}},P.prototype.createShowValueAsMenuItem=function(T){var x={type:0,key:{action:16}};return x.text=this.localizationService.get("FieldWell_ShowValueAs"),x.children=T,x},P.prototype.createQuickCalcMenuItem=function(){var T={type:0,key:{action:64}};return T.text=this.localizationService.get("QuickCalc_NewMeasure"),T},P.prototype.createGroupsMenuItem=function(){var T={type:0,key:{action:256}};return T.text=this.localizationService.get("ContextMenuItem_CreateGroups"),T},P.prototype.createEditGroupsMenuItem=function(){var T={type:0};return T.text=this.localizationService.get("ContextMenuItem_EditGroups"),T.key={action:512},T},P.prototype.createEditClusteringMenuItem=function(){var T={type:0};return T.text=this.localizationService.get("Clustering_EditClusters"),T.key={action:1024},T},P.prototype.createRestoreHierarchyMenuItem=function(){var T={type:0};return T.text=this.localizationService.get("FieldWell_RestoreHierarchy"),T.key={action:2048},T},P.prototype.createVariationMenuItem=function(T,x){var R={type:0};return R.text=T,R.key={action:128,variationExpr:x},R},P.prototype.createShowAllMenuItem=function(){var T={type:0,key:{action:8}};return T.text=this.localizationService.get("FieldWell_ShowAll"),T},P.prototype.createDeleteMenuItem=function(){var T={type:0,key:{action:1}};return T.text=this.localizationService.get("FieldWell_Remove"),T},P.prototype.createSeparatorMenuItem=function(){var T={type:0};return T.type=1,T},P.prototype.createRenameMenuItem=function(){var T={type:0,key:{action:32768}};return T.text=this.localizationService.get("FieldWell_RenameForThisVisual"),T},P.prototype.createParameterToColumn=function(){var T={type:0,key:{action:8388608}};return T.text=this.localizationService.get("FieldParameter_ConvertParameterToColumn"),T},P.prototype.createColumnToParameter=function(){var T={type:0,key:{action:16777216}};return T.text=this.localizationService.get("FieldParameter_ConvertColumnToParameter"),this.updateDisableAndTooltipForVisualCalcScenarios(T,"FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden"),T},P.prototype.updateDisableAndTooltipForVisualCalcScenarios=function(T,x,R){var D,L=16===(null===(D=this.visualContainer)||void 0===D?void 0:D.visibility),F=(0,f.ZB)([this.visualContainer]);T.disabled=L||F,L?T.tooltip=this.localizationService.get(x):F&&(T.tooltip=this.localizationService.get(R))},P.prototype.createMoveToBucketsMenuItem=function(){for(var T=[],x=0,R=this.buckets;x<R.length;x++){var D=R[x];if(!this.bucket.equals(D)){var L={type:0};L.text=D.displayName,L.key={action:262144,moveFieldBucketOptions:{role:D.role,targetIndex:D.properties?D.properties.length:0,displayName:D.displayName}},L.disabled=D.disabled,T.push(L)}}return T},P.prototype.createMoveToGroupMenuItem=function(){var T={type:0,key:{action:524288}};return T.text=this.localizationService.get("ItemAction_MoveTo"),T.children=this.createMoveToBucketsMenuItem(),T},P.prototype.createMoveUpMenuItem=function(){var T={type:0};T.text=this.localizationService.get("ItemAction_Move_Up");var x={action:65536},R=this.findFieldPropertyIndexInBucket();if(R<=0)T.disabled=!0;else{var D=this.bucket.properties[R-1];x.moveFieldPropertyOptions={role:D.role,startIndex:D.startIndex,hierarchyLevelsLength:D.hierarchyLevels?D.hierarchyLevels.length:0}}return T.key=x,T},P.prototype.createMoveDownMenuItem=function(){var T={type:0};T.text=this.localizationService.get("ItemAction_Move_Down");var x={action:131072},R=this.findFieldPropertyIndexInBucket();if(R>=this.bucket.properties.length-1)T.disabled=!0;else{var D=this.bucket.properties[R+1];x.moveFieldPropertyOptions={role:D.role,startIndex:D.startIndex,hierarchyLevelsLength:D.hierarchyLevels?D.hierarchyLevels.length:0}}return T.key=x,T},P.prototype.createMoveToTopMenuItem=function(){var T={type:0};T.text=this.localizationService.get("ItemAction_Move_Top");var x={action:65536},R=this.bucket.properties[0];return this.property.equals(R)?T.disabled=!0:x.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},T.key=x,T},P.prototype.createMoveToBottomMenuItem=function(){var T={type:0};T.text=this.localizationService.get("ItemAction_Move_Bottom");var x={action:131072},R=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(R)?T.disabled=!0:x.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},T.key=x,T},P.prototype.findFieldPropertyIndexInBucket=function(){var T=this;return _.findIndex(this.bucket.properties,function(x){return T.property.equals(x)})},P.prototype.createMoveGroupMenuItem=function(){var T={type:0,key:{action:524288}};return T.text=this.localizationService.get("ItemAction_Move"),T.children=[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()],T},P}();function C(P,T,x,R,D,L,F,A,O,N,w,I,B,j){return{items:(0,n.Vn)((0,l.Q)(P.expr),new g(P,T,x,R,D,L,F,A,O,N,w,I,B,j))}}},483582:function(Je,H,t){t.d(H,{L:function(){return n}});var e=t(226514),c=t(456535),s=t(474147),f=t(23330),v=t(324356),b=t(116170),h=t(670196),n=function(){function r(o){this.localizationService=o}return r.prototype.fromFilterExpr=function(o,a,i){return o.accept(new l(this.localizationService,a,i))},r}(),l=function(r){function o(a,i,m){var u=r.call(this)||this;return u.localizationService=a,u.supportsCategorical=!0,u.context={isNegative:!1,allowNot:!0,logicalOperator:2},u.formatter=i,u.field=m,u}return(0,e.__extends)(o,r),o.prototype.visitColumnRef=function(a){if(null==this.field||(0,s.fS)(this.field,a))return this.createFilterCard(a)},o.prototype.visitGroupRef=function(a){if(null==this.field||(0,s.fS)(this.field,a))return this.createFilterCard(a)},o.prototype.visitMeasureRef=function(a){return this.createFilterCard(a)},o.prototype.visitAggr=function(a){return this.createFilterCard(a)},o.prototype.visitArithmetic=function(a){return this.createFilterCard(a)},o.prototype.visitHierarchyLevel=function(a){return this.supportsCategorical=!1,this.createFilterCard(a)},o.prototype.visitEntity=function(a){return this.createFilterCard(a)},o.prototype.visitIn=function(a){if(!a.table&&a.args&&1===a.args.length){a.args[0].accept(this);var i=this.filter;if(null==i&&null!=this.field)return this.createFilterCard(this.field);for(var m=this.context,u=0,V=a.values;u<V.length;u++){var d=V[u];m.condition=new f.gP(m.isNegative?10:9),d[0].accept(this),i.conditions.push(m.condition)}if(2!==i.logicalOperator)return;return i.logicalOperator=m.isNegative?0:1,i}},o.prototype.visitBetween=function(a){this.supportsCategorical=!1,a.arg.accept(this);var i=this.filter,m=this.context;if(m.condition=new f.gP(m.isNegative?1:4),a.lower.accept(this)&&(i.conditions.push(m.condition),m.condition=new f.gP(m.isNegative?3:2),a.upper.accept(this)&&(i.conditions.push(m.condition),2===i.logicalOperator)))return i.logicalOperator=0,i},o.prototype.visitAnd=function(a){this.supportsCategorical=!1;var i=this.context,m=i.isNegative?1:0;if(2===i.logicalOperator)i.logicalOperator=m;else if(i.logicalOperator!==m)return;if(a.left.accept(this)&&a.right.accept(this))return this.filter},o.prototype.visitOr=function(a){var i=this.context,m=i.isNegative?0:1;if(2===i.logicalOperator)i.logicalOperator=m;else if(i.logicalOperator!==m)return;if(a.left.accept(this)&&a.right.accept(this))return this.filter},o.prototype.visitCompare=function(a){var i=this.context,m=this.getFilterOperator(a,i.isNegative);if(void 0!==m&&0!==m){i.condition=new f.gP(this.getFilterOperator(a,i.isNegative));var u=i.allowNot;if(i.allowNot=!1,a.left.accept(this)&&a.right.accept(this)&&(a.right instanceof v.jz||a.right instanceof v.AC)){var V=this.filter;return V.conditions.push(this.context.condition),V.conditions.length>1&&2===V.logicalOperator&&(V.logicalOperator=0),i.allowNot=u,i.condition=null,V}}},o.prototype.visitNot=function(a){var i=this.context,m=a.arg;if((m instanceof v.wU||m instanceof v.Xg||m instanceof v.I6||i.allowNot&&(m instanceof v.uV||m instanceof v.Cc||m instanceof v.ev||m instanceof v.fw||m instanceof v.v3))&&(i.isNegative=!i.isNegative,a.arg.accept(this)))return i.isNegative=!i.isNegative,this.filter},o.prototype.visitConstant=function(a){if(this.context.condition)return 0!==a.type.primitiveType&&(this.context.condition.value=new f.pQ(a.value,this.formatter)),this.filter},o.prototype.visitDateSpan=function(a){if(this.supportsCategorical=!1,5===a.unit){var i=this.context,m=i.allowNot;i.allowNot=!1;var u=a.arg.accept(this);return i.allowNot=m,u}},o.prototype.visitContains=function(a){this.supportsCategorical=!1;var i=this.context;i.condition=new f.gP(i.isNegative?6:5);var m=i.allowNot;if(i.allowNot=!1,a.left.accept(this)&&a.right.accept(this)){var u=this.filter;return u.conditions.push(this.context.condition),i.allowNot=m,u}},o.prototype.visitStartsWith=function(a){this.supportsCategorical=!1;var i=this.context;i.condition=new f.gP(i.isNegative?8:7);var m=i.allowNot;if(i.allowNot=!1,a.left.accept(this)&&a.right.accept(this)){var u=this.filter;return u.conditions.push(this.context.condition),i.allowNot=m,u}},o.prototype.getFilterOperator=function(a,i){switch(this.supportsCategorical=this.supportsCategorical&&0===a.comparison,a.comparison){case 3:return i?4:1;case 4:return i?3:2;case 1:return i?2:3;case 2:return i?1:4;case 0:return(0,c.uR)(a.right)?i?12:11:(0,c.AW)(a.right)&&""===a.right.value?i?14:13:i?10:9}},o.prototype.createFilterCard=function(a){return this.filter||(this.filter=new h.d(a,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter},o}(b.vq)},340215:function(Je,H,t){t.d(H,{j:function(){return c}});var e=t(787941),c=function(){function s(f,v){e.fF.assertValue(f,"contract"),e.fF.assertValue(v,"state"),this._contract=f,this._state=v}return Object.defineProperty(s.prototype,"contract",{get:function(){return this._contract},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"readOnlyState",{get:function(){return this._state},enumerable:!1,configurable:!0}),s.prototype.updateViewState=function(){this.updateViewStateCore(this._state)},s.prototype.updateViewStateCore=function(f){},s}()},803847:function(Je,H,t){t.d(H,{vi:function(){return A},T8:function(){return O},Iu:function(){return P},Dz:function(){return B},_r:function(){return w},C:function(){return N},oj:function(){return I},hx:function(){return M},VR:function(){return T},zv:function(){return j},yU:function(){return U},gk:function(){return x},g4:function(){return k},Jm:function(){return W},Ee:function(){return R},lD:function(){return L},EK:function(){return D},CL:function(){return g},L2:function(){return Q},n5:function(){return te}});var e=t(226514),c=t(273139),s=t(156319),f=t(809395),v=t(406585),b=t(883863),h=t(787941),p=t(690016),n=t(10102),l=t(72911);function o(ee,J,re){return{key:J,text:(0,l.h1)(re).get(ee),type:0}}function a(ee){return function(ee){return{items:[o("Duplicate",0,ee),o("Rename",1,ee),o("Delete",2,ee),o("Hide",3,ee)]}}(ee)}var i=t(946631),m=t(11085),u=t(767024),V=t(578539),d=t(346454),S=t(474147);function g(ee,J,re){var G=!0,ne=J&&J.featureSwitches.userFavoriteResourcePackagesEnabled&&ee.custom&&re.isFavoritePublicCustomVisual(ee.name),X=J&&J.featureSwitches.userFavoriteResourcePackagesEnabled&&ee.custom&&ee.favoriteId||ne,oe=J&&J.featureSwitches.userFavoriteResourcePackagesEnabled&&ee.custom&&!ee.favoriteId&&!ne,Ve=J&&J.featureSwitches.tenantOutOfBoxVisualsEnabled&&ee.custom&&ee.isOutOfBox,Te=J&&J.featureSwitches.personalVisualizationPaneEnabled&&re.isUnpinnedVisual(ee.name);return(ee.custom&&!Ve&&oe||Te&&!X)&&(G=!1),G}var y=function(){function ee(J){this.sections=[],this.activeSection=V.G.Fields,this.previousSection=V.G.Fields,this.pagePaneSections=[],this.activePageSection=V.W.Fields,this.previousPageSection=V.W.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=function(re,G,ne){return g(re,G,ne)},this.nonPersonalVisualizationPaneFilter=function(re,G,ne){return!g(re,G,ne)},this.showCloseButton=J}return Object.defineProperty(ee.prototype,"activeSectionIndex",{get:function(){var re=this,G=_.findIndex(this.sections,function(ne){return ne.sectionType===re.activeSection});return-1!==G?G:0},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"activePageSectionIndex",{get:function(){var re=this,G=_.findIndex(this.pagePaneSections,function(ne){return ne.sectionType===re.activePageSection});return-1!==G?G:0},enumerable:!1,configurable:!0}),ee}();function M(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:R(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:T("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:T("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:T("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:T("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:T("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:T("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:T("Summarize"),quickMeasuresPane:T("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildSkittlePane:T("Skittles_Build_Title","PBIBuild"),chartElementsSkittlePane:T("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:T("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:T("CopilotPaneEntryPoint_Title","PBIAnomalyExplain"),customizePane:T("Customize_PaneSwitcher","powermap_newtour")}}function P(ee,J){return{contract:ee,selected:!1,displayName:ee.displayName,menuItems:a(J)}}function T(ee,J,re){return{title:ee,icon:J,closePaneLabel:re}}function x(){return{title:"Data",icon:"PBIData"}}function R(ee){return void 0===ee&&(ee=!1),new y(ee)}function D(ee,J,re,G,ne,X){return L(_.filter(ee,function(Ve){return Ve.custom}),J,re,G,ne,X)}function L(ee,J,re,G,ne,X){for(var oe=[],Ve=0,Te=ee;Ve<Te.length;Ve++){var Qe=Te[Ve];G&&!G(Qe,J,re)||oe.push((0,d.s_)(Qe,J,re,ne,X))}return oe}function F(ee,J,re){re.hostServices={getFilters:function(ne,X){return ne.calculateVisualContainerFilter(ee,J,re.contract,X)},getDataSourceVariables:function(){return ee.dataSourceVariables},getVisualRelationshipFilterAction:function(ne,X,oe){return X.relationshipFilterAction(J,ne,re.contract,oe,!1)},selectDataPoint:function(ne,X,oe,Ve,Te,Qe){ne.setFilterOnSelectData(ee,X,J,re.contract,oe,Ve,Te,Qe)},setVisualRelationshipFilterAction:function(ne,X,oe,Ve){return Ve.setVisualRelationship(J,ne,X,oe)}}}function A(ee,J,re,G,ne){h.fF.assertValue(ee,"contract");var Ve,X=_.map(ee.sections,function(He){return P(He,ne)}),oe=ee.sections;if(oe&&oe.length>0){var Te=void 0!==re?re:0;if(Te<oe.length){Ve=O(ee,oe[Te],J,G);for(var Qe=oe.length-1;Qe>=0;--Qe)X[Qe].selected=Qe===Te}}return{contract:ee,sections:X,exploreCanvas:Ve}}function O(ee,J,re,G){h.fF.assertValue(J,"section");var ne=new i.y(J,re);if(J.visualContainers&&(ne.visualContainers=(0,b.Br)(_(J.visualContainers).map(function(Qe){return I(Qe,re,G)}).filter(function(Qe){return!!Qe}).value()),ne.visualContainerGroups=1===re?(0,e.__spreadArray)([],ne.visualContainers,!0):N(J.visualContainerGroups,ne.visualContainers,re,G),!_.isEmpty(ne.visualContainers)))for(var oe=0,Ve=ne.visualContainers;oe<Ve.length;oe++)F(ee,J,Ve[oe]);return ne}function N(ee,J,re,G){for(var ne=[],X=function(He){if((0,c.Vz)(He)){var Ce=_.find(J,function(pe){return pe.contract===He});Ce&&ne.push(Ce)}else{var de=w(He,N(He.children,J,re,G));de&&ne.push(de)}},oe=0,Ve=ee;oe<Ve.length;oe++)X(Ve[oe]);return ne}function w(ee,J,re){if(void 0===re&&(re=0),h.fF.assertValue(ee,"contract"),ee.layouts.withId(re)){for(var ne=new u.IT(ee,re,J),X=0,oe=J;X<oe.length;X++)oe[X].parentGroup=ne;return ne}}function I(ee,J,re){void 0===J&&(J=0),h.fF.assertValue(ee,"contract");var G=new v.Y,ne=ee.layouts.withId(J);if(ne){var X=ne.position;return G.position({y:X.y,x:X.x}),G.zIndex(X.z||0),G.viewport({height:X.height,width:X.width}),new m.C(ee,G,J,re)}}function B(ee,J,re,G){var ne=I(re,G);if(ne)return F(ee,J,ne),ne}function j(ee,J){return void 0===J&&(J=!0),{isVisualVisible:!1,reportFilters:J?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:ee.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:ee.get("FieldDropZone_DrillthroughLink_Watermark")}}function W(ee,J,re,G,ne,X,oe,Ve,Te){var Qe,He;h.fF.assertValue(J,"visualContainer"),h.fF.assertValue(re,"schema");for(var Ce=(null===(He=J.filters)||void 0===He?void 0:He.filter(function(We){return null!=We}))||[],de=[],pe={container:J,scopeType:0},le=(0,f.i4)(J,X,re,Ve),me=(0,f.uy)(ee,J,oe,re),be=function(Oe){return(0,n.fw)(Oe,re,G,pe,ne,Ve,Te,(0,f.cj)(J,ne),J.config.singleVisual)},Be=function(Oe){var Ze=be(Oe);if(de.push(Ze),le){if(Oe.expression&&!_.isEmpty(Oe.expression.validate(re,Ve)))return"continue";var K=_.findIndex(le,function(Ne){return(0,S.fS)(Ne.expression,Oe.expression)});-1===K?0===Oe.howCreated&&(Ze.howCreated=Oe.howCreated=1):(1===Oe.howCreated&&(Ze.howCreated=Oe.howCreated=0),2!==Oe.howCreated&&le.splice(K,1))}},Se=0,Pe=Ce;Se<Pe.length;Se++)Be(Pe[Se]);var ve=me=me||[];if(ve=ve.concat(le=le||[]),_.isEmpty(pe.container.filters)&&(pe.container.filters=[]),(Qe=pe.container.filters).push.apply(Qe,le||[]),ve)for(var xe=0,ie=ve;xe<ie.length;xe++){var Fe=ie[xe],at=be(Fe);at.howCreated=Fe.howCreated,de.push(at)}return de.sort(Q),de}function U(ee,J,re,G,ne,X,oe,Ve){var Te=[];if(!ee||!ee.container||!ee.container.filters)return Te;for(var Qe=0,He=ee.container.filters;Qe<He.length;Qe++){var Ce=He[Qe];if(null==Ve||Ce.howCreated===Ve){Ce.name||(Ce.name=s.l.getNextFilterName(ee.container.filters));var de=(0,n.fw)(Ce,J,re,ee,G,ne,X,oe,null);Te.push(de)}}return Te.sort(Q),Te}function k(ee){return _.map(ee,function(re){return(0,p.ko)(re,"-","\\-")}).join("-")}function Q(ee,J){var re=ee.getDisplayName()?-1:1,G=J.getDisplayName()?-1:1;if(re!==G)return re-G;var ne=ee.getDisplayName()||ee.getRestatement()||"",X=J.getDisplayName()||J.getRestatement()||"";return ne.localeCompare(X)}function te(ee,J){var re=void 0===ee.contract.ordinal?1:-1,G=void 0===J.contract.ordinal?1:-1;return-1===re&&-1===G?ee.contract.ordinal-J.contract.ordinal:re-G}},346454:function(Je,H,t){t.d(H,{Gf:function(){return b},s_:function(){return h},tl:function(){return p}});var e=t(195919),c=t(72911),s=t(318220),f=t(608014),v=t(734287);function b(r,o){return o=(0,c.h1)(o),(0,v.G)(r,o)}function h(r,o,a,i,m){var u=(m=(0,c.h1)(m)).get("AddToFavorites_ContextMenu"),V=m.get("RemoveFromFavorites_ContextMenu"),d=m.get("AboutVisualDialog_About"),S={plugin:r,enabled:!0,active:!1,menuItems:[]},g=p(r,i,m,o);S.class=g.class,S.title=g.title,g.watermarkKey&&(r.watermarkKey=g.watermarkKey);var y=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&r.custom&&a.isFavoritePublicCustomVisual(r.name),C=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&r.custom&&r.favoriteId||y,E=o&&o.featureSwitches.userFavoriteResourcePackagesEnabled&&r.custom&&!r.favoriteId&&!y,M=o&&o.featureSwitches.tenantOutOfBoxVisualsEnabled&&r.custom&&r.isOutOfBox,P=o&&o.featureSwitches.personalVisualizationPaneEnabled&&a.isUnpinnedVisual(r.name),T=o&&o.featureSwitches.personalVisualizationPaneEnabled&&!a.isUnpinnedVisual(r.name),x=null;r.custom&&C?x=n(V,4):r.custom&&!M&&E?x=n(u,3):P?x=n(u,7):(!r.custom||M)&&T&&(x=n(V,6)),x&&S.menuItems.push(x);var R=n(d,5);return S.menuItems.push(R),S.tooltipConfig={tooltipTitle:S.title,tooltipShowOnFocus:!0},S}function p(r,o,a,i){var m=function(r,o,a,i,m){var u,V=b(o,i=(0,c.h1)(i));switch(r){case s.L.table.name:case s.L.tableEx.name:return{class:"table",title:V};case s.L.matrix.name:case s.L.pivotTable.name:return{class:"matrix",title:V};case s.L.scatterChart.name:return{class:"scatter",title:V};case s.L.barChart.name:return{class:"columnHoriz",title:V};case s.L.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:V};case s.L.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:V};case s.L.ribbonChart.name:return{class:"ribbon",title:V};case s.L.columnChart.name:return{class:"columnVert",title:V};case s.L.clusteredColumnChart.name:return{class:"clusteredBarVert",title:V};case s.L.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:V};case s.L.realTimeLineChart.name:case s.L.lineChart.name:return{class:"line",title:V};case s.L.areaChart.name:return{class:"area",title:V};case s.L.stackedAreaChart.name:return{class:"stackedArea",title:V};case s.L.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:V};case s.L.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:V};case s.L.pieChart.name:return{class:"pie",title:V};case s.L.treemap.name:return{class:"tree",title:V};case s.L.map.name:return{class:"map",title:V};case s.L.filledMap.name:return{class:"filledMap",title:V};case s.L.azureMap.name:return{class:"azureMap",title:V};case s.L.shapeMap.name:return{class:"shapeMap",title:V};case s.L.funnel.name:return{class:"funnel",title:V};case s.L.gauge.name:return{class:"gauge",title:V};case s.L.multiRowCard.name:return{class:"card",title:V};case s.L.card.name:return{class:"calloutCard",title:V};case s.L.cardVisual.name:return{class:"cardVisual",title:V};case s.L.waterfallChart.name:return{class:"waterfall",title:V};case s.L.slicer.name:return{class:"slicerVert",title:V};case s.L.advancedSlicerVisual.name:return{class:"buttonSlicer",title:V};case s.L.donutChart.name:return{class:"donut",title:V};case s.L.kpi.name:return{class:"kpi",title:V};case s.L.scriptVisual.name:return{class:"rScriptImageVisual",title:V};case s.L.pythonVisual.name:return{class:"pythonImageVisual",title:V};case null===(u=s.L.debugVisual)||void 0===u?void 0:u.name:return{class:"debugger",title:V};case s.L.textbox.name:return{class:"smartNarratives",title:V};case s.L.basicShape.name:case s.L.shape.name:case s.L.actionButton.name:case s.L.image.name:return{class:null,title:V};case s.L.keyDriversVisual.name:return{class:"keyDrivers",title:V};case s.L.qnaVisual.name:return{class:"qna",title:V};case s.L.decompositionTreeVisual.name:return{class:"decompositionTree",title:V};case s.L.scorecard.name:return{class:"scorecard",title:V};case s.L.rdlVisual.name:return{class:"rdlVisual",title:null!=m&&m.featureSwitches.operationalReportStringTest?b((0,v.V)("Operational_Report"),i):V};case s.L.aiNarratives.name:return{class:"aiNarratives",title:V};default:if(a&&a.isTrustedVisual(r)){var d=a.getVisualTypeOptions(r);if(d)return{class:d.class,title:d.titleKey?i.get(d.titleKey):r,watermarkKey:d.watermarkKey}}return}}(r.name,r.titleKey,o,a,i),u=r.custom?r.displayName||r.name.match(/([A-z\s]+)/g)[0]:void 0;return m?(u&&(m.title=u),m):{class:r.class,title:null!=u?u:r.name}}function n(r,o){return{text:r,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:o,type:e.w.Item,checked:!1,hrefTarget:f.bS}}},795914:function(Je,H,t){t.d(H,{$Z:function(){return s}});var e=t(972817),c=t(41455),s=function(){function n(l){l&&(this.color=l.color.solid.color,this.visible=l.show,this.radius=l.radius)}return Object.defineProperty(n.prototype,"thickness",{get:function(){return f},enumerable:!1,configurable:!0}),n.prototype.getNumericPaddingFromBorder=function(){return p(this.radius)},n.prototype.getBorderStyle=function(){if(this.visible){var l=(0,e.Et)(this.color,1);return f+"px "+v+" "+l}},n.prototype.getPaddingFromBorder=function(){var l=p(this.radius);if(this.visible)return"".concat(l,"px")},n.prototype.getBorderRadius=function(){if(this.visible)return"".concat(this.radius||c.FJ,"px")},n}(),f=1,v="solid",h=Math.sin(Math.PI/180*45);function p(n){return Math.ceil(n-n*h)}},11085:function(Je,H,t){t.d(H,{C:function(){return B}});var F,e=t(226514),c=t(623350),s=t(528359),f=t(822311),v=t(160046),b=t(35801),h=t(809395),p=t(406585),n=t(298801),l=t(187810),r=t(318220),o=t(829062),a=t(177497),i=t(629925),m=t(787941),u=t(299747),V=t(14253),d=t(932178),S=t(959138),g=t(144900),y=t(240849),C=t(145315),E=t(129035),M=t(620108),P=t(281469),T=t(625971),x=t(568656),R=t(483981),D=t(340215),L=t(346454),O={key:void 0,defaultValue:!0,forceVisible:(F={},F[1]=!0,F)},N={visualInformationButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showVisualInformationButton"}),visualWarningButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showVisualWarningButton"}),visualErrorButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showVisualErrorButton"}),drillRoleSelector:(0,e.__assign)((0,e.__assign)({},O),{key:"showDrillRoleSelector"}),drillUpButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showDrillUpButton"}),drillToggleButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showDrillToggleButton"}),drillDownLevelButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showDrillDownLevelButton"}),drillDownExpandButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showDrillDownExpandButton"}),pinButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showPinButton"}),filterRestatementButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showFilterRestatementButton"}),focusModeButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showFocusModeButton"}),copyVisualImageButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showCopyVisualImageButton"}),seeDataLayoutToggleButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showSeeDataLayoutToggleButton"}),optionsMenu:(0,e.__assign)((0,e.__assign)({},O),{key:"showOptionsMenu"}),commentButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showCommentButton"}),tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:(0,e.__assign)((0,e.__assign)({},O),{key:"showPersonalizeVisualButton"}),smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1}},I=function(j){return j[j.Uninitialized=0]="Uninitialized",j[j.Initialized=1]="Initialized",j}({}),B=function(j){function W(U,k,Q,te){var ee=j.call(this,U,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:k,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null})||this;return ee.uiScale=P.U2,ee.warningsSubject=new c.X([]),ee.warnings$=ee.warningsSubject.asObservable(),ee.currentCanvasLayout=Q,ee.currentEditMode=0,ee.visualTitleWrapped=[],ee.visualSubTitleWrapped=[],ee.currentZone=te,ee.servicesState=I.Uninitialized,ee}return(0,e.__extends)(W,j),W.prototype.resolveDataAppliedEvent=function(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()},W.prototype.getRunningVisual=function(){return this.runningVisual},Object.defineProperty(W.prototype,"errorInfo",{get:function(){return this.runningVisual&&this.runningVisual.getErrorInfo()},set:function(k){var Q=this.getRunningVisual();Q&&Q.setErrorInfo(k)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"visualPausedWarning",{get:function(){return this.visualPausedWarningModel},set:function(k){this.visualPausedWarningModel=k,this.regenerateWarnings();var Q=this.getRunningVisual();Q&&Q.setHasPendingChanges(void 0!==k)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"featureNotSupportedWarning",{get:function(){return this.featureNotSupportedWarningModel},set:function(k){this.featureNotSupportedWarningModel=k,this.regenerateWarnings()},enumerable:!1,configurable:!0}),W.prototype.setThemeCollection=function(U){this.themeCollection=U,this.runningVisual&&this.runningVisual.setThemeCollection(U)},W.prototype.startResize=function(){this.originalPosition=this.position},W.prototype.getVisualType=function(){return(0,b.s)(this.contract)},W.getVisualBodyOffset=function(U,k){return W.useStylableHeader(k)||U.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}},Object.defineProperty(W.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(k){this.contract.layouts.withId(this.currentCanvasLayout).position=k},enumerable:!1,configurable:!0}),W.prototype.getScaledPosition=function(U){return void 0===U&&(U=!0),this.convertToScaledPosition(this.position,U)},Object.defineProperty(W.prototype,"editMode",{get:function(){return this.currentEditMode},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"headerTitleMaxLines",{get:function(){return this.isTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"headerSubTitleMaxLines",{get:function(){return this.isSubTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),W.prototype.setEditMode=function(U){this.currentEditMode=U,(0,R.yY)(this.runningVisual,this.runningVisual.getViewport(),C.EP.ViewMode,this.visualHostServices,this.editMode)},Object.defineProperty(W.prototype,"isPositioned",{get:function(){var k=this.position;return 0!==k.width&&0!==k.height},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isPoppedOut",{get:function(){var k=this.contract.visibility;return null!=k&&0!==k&&4!==k&&32!==k},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"bringToFront",{get:function(){var k=this.contract.config.singleVisual.evaluatedObjects;return!k||!k.general||!k.general.keepLayerOrder},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isHidden",{get:function(){return(0,v.xj)(this.contract.config.singleVisual)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isTitleWrappingEnabled",{get:function(){return this.visualTitle&&!!this.visualTitle.titleWrap},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isSubTitleWrappingEnabled",{get:function(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap},enumerable:!1,configurable:!0}),W.prototype.visualTitleAreaVisible=function(){var U=this.contract.config.singleVisual,k=U.evaluatedObjects&&U.evaluatedObjects.title,Q=this.visualPlugin&&this.visualPlugin.capabilities(U.visualType);return!(0,f.xj)(k,Q&&Q.suppressDefaultTitle)&&!this.isPoppedOut},W.prototype.visualTitleVisible=function(){if(this.isPoppedOut)return!1;var U=this.contract.config.singleVisual;if(!U)return!1;var k=this.visualPlugin&&this.visualPlugin.capabilities(U.visualType);if(!k)return!1;var Q=this.visualTitle;return!(!Q||!1===Q.show||void 0===Q.show&&k.suppressDefaultTitle||!Q.text)},W.prototype.visualSubTitleVisible=function(){var U;if(null===(U=this.featureSwitchService)||void 0===U||!U.featureSwitches.vcPadding||this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var Q=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!Q)return!1;var te=this.visualTitle;if(!te)return!1;var ee=this.visualSubTitle;return!(!ee||!1===te.show||void 0===te.show&&Q.suppressDefaultTitle||!ee.show||!ee.text)},W.prototype.visualDividerVisible=function(){var U,k=this.contract.config.singleVisual,Q=k.evaluatedObjects&&k.evaluatedObjects.divider,te=k.evaluatedObjects&&k.evaluatedObjects.title,ee=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(null===(U=this.featureSwitchService)||void 0===U||!U.featureSwitches.vcPadding||!Q||(0,f.Qy)(Q)||(0,f.xj)(te,ee&&ee.suppressDefaultTitle)||this.isPoppedOut)},W.prototype.supportsKeyboardNavigation=function(){var k=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return k&&k.supportsKeyboardFocus},Object.defineProperty(W.prototype,"supportsCustomPadding",{get:function(){var k;return null===(k=this.featureSwitchService)||void 0===k?void 0:k.featureSwitches.vcPadding},enumerable:!1,configurable:!0}),W.prototype.setServices=function(U,k,Q,te,ee,J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be){m.fF.assertValue(U,"visualHostServices"),m.fF.assertValue(k,"visualPlugin"),m.fF.assertValue(Q,"visualPluginOps"),this.visualHostServices=(0,T.K)(U,Te),this.visualAdapterHostServices=pe,this.visualPlugin=k,this.visualPluginOps=Q,this.viewModeState=te,this.formFactor=ee,this.visibility=J,this.runningVisuals=re,this.explorationCapabilities=de,this.visualAuthoring=ne,this.filterGenerator=oe,this.themeService=Ve,this.showClientWarnings=Qe,this.sortServices=He,this.selectionServices=Ce,this.dataViewServices=le,this.servicesState=I.Initialized,this.bodyScaleChanged=me,this.featureSwitchService=G,this.localizationService=X,this.pauseQueriesService=be},W.prototype.setSelected=function(U){this.isSelected=U},W.prototype.handleKeyDown=function(U){var k=function(j){switch(j.keyCode){case 122:return j.altKey&&j.shiftKey?0:void 0;case 70:return d.M.isCtrlOrMeta(j)?1:void 0}}(U);switch(k){case 0:this.visibility.set(this.contract,8);break;case 1:this.toggleVisualSearch(U)}if(this.shouldHandleKeydown(U)){if(this.isTextboxVisual()){var te=this.getTextboxVisual();return te&&te.focus()}if(this.isContractQnaVisual()){var ee=this.getQnaVisual();if(ee)return ee.focus()}}},W.prototype.toggleVisualSearch=function(U){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var Q=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);Q&&this.filterGenerator.tryGetSelfFilterEnabledProperty(Q)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),U.preventDefault(),U.stopPropagation())}},W.prototype.shouldHandleKeydown=function(U){if(!this.runningVisual||0===this.viewModeState.getMode())return!1;var k=U.keyCode;if((0,S.Wl)(k)||(0,S.SF)(k)||27===k||9===k||18===k||13===k||d.M.isCtrlOrMeta(U))return!1;var Q=this.contract.toolbar&&this.contract.toolbar.element;return!(Q&&(0,s.y)(Q))},W.prototype.setVisualTitle=function(U){this.visualTitle=U;var k="";U&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&U.titleComponents&&U.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=U.titleComponents.subtitle,U.titleComponents&&U.titleComponents.title?k=U.titleComponents.title:U.text&&(k=U.text)):U.text?k=U.text:U.titleComponents&&U.titleComponents.title&&(k=U.titleComponents.title)),this.readOnlyState.popOutBarTitle=k},W.prototype.setVisualSubTitle=function(U){this.visualSubTitle=U;var k="";U&&U.text&&(k=U.text),this.readOnlyState.popOutBarSubtitle=k},W.prototype.setTooltip=function(){var U,k,Q=(0,b.s)(this.contract),te=this.getVisualLinkTypeLabel(Q)||"",ee=null===(k=null===(U=this.visualPlugin)||void 0===U?void 0:U.capabilities(Q))||void 0===k?void 0:k.ariaRole,J=this.visualPlugin&&this.visualPlugin.getPlugin(Q);if(J){var re=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,G=re?" ".concat((0,L.Gf)(re,this.localizationService)):"";Q=(0,L.s_)(J,void 0,void 0,void 0,this.localizationService).title+G}var X=this.visualTitle,oe=void 0!==(null==X?void 0:X.text)&&"".concat(X.text," ")||"",Ve=this.visualSubTitle,Te=void 0!==(null==Ve?void 0:Ve.text)&&"".concat(Ve.text," ")||"",Qe=this.contract.config.singleVisual,He=Qe.evaluatedObjects&&Qe.evaluatedObjects.general&&Qe.evaluatedObjects.general.altText?" ".concat(Qe.evaluatedObjects.general.altText):"";this.tooltip="".concat(oe).concat(te).concat(Q).concat(He),this.ariaLabel="".concat(oe).concat(Te).concat(te).concat(He),this.ariaRole="group",this.ariaRoleDescription=null!=ee?ee:Q,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")},W.prototype.getVisualLinkTypeLabel=function(U){var k=this.visualPlugin&&this.visualPlugin.capabilities(U);if(k&&k.supportsVisualLink){var Q=this.contract.config.singleVisual,te=Q.evaluatedObjects&&Q.evaluatedObjects.visualLink;if(te&&te.show){var ee=(0,v.oL)(te),J=_.find(v.Dy.members(),function(re){return re.value===ee}).displayName;return"".concat((0,L.Gf)(J,this.localizationService)," ")}}},W.prototype.setHeaderTooltip=function(){var U=this.contract.config.singleVisual,k=U.evaluatedObjects&&U.evaluatedObjects.visualHeader,Q=U.evaluatedObjects&&U.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=k&&k.showTooltipButton&&Q?Q:void 0},W.prototype.redrawVisual=function(){this.runningVisual&&(0,R.yY)(this.runningVisual,this.runningVisual.getViewport(),C.EP.Resize,this.visualHostServices,this.editMode)},W.prototype.updateVisualViewportForUserResize=function(U){var k,Q=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),te=this.runningVisual;this.enableVisualScaling?(U.width/=this.uiScale.x,this.visualBorder&&(U.width-=2*this.visualBorder.thickness),this.useStylableHeader()||(U.height-=W.VisualContainerHeaderHeight),U.height/=this.uiScale.y,this.visualBorder&&(U.height-=2*this.visualBorder.thickness)):this.useStylableHeader()||(U.height-=W.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(U.height-=W.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(U.width,U.height,1,Q),te&&(this.viewportResized=!0,(0,R.yY)(te,this.visualViewport,C.EP.Resize,this.visualHostServices,this.editMode,1)),this.applyVisualViewportStyle(this.readOnlyState,U),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,U.width);var J=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,J.width,Q),this.applyVisualTitleAreaStyle(this.readOnlyState),null!==(k=this.featureSwitchService)&&void 0!==k&&k.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,J.width,Q),this.applyDividerStyle(this.readOnlyState,Q))},W.prototype.shouldUseCache=function(){return(0,h.dw)(this.contract,this.options.disableQueryCacheUpdates)},W.prototype.adjustForVisualContainerHeader=function(U,k,Q){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(Q&&(U.y+=k),U.height-=k)},W.prototype.convertToScaledPosition=function(U,k){void 0===k&&(k=!0);var Q=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,te=(0,x.vW)(U,this.uiScale,!Q);return this.adjustForVisualContainerHeader(te,this.useStylableHeader()?0:-W.VisualContainerHeaderHeight,k),te},W.prototype.reset=function(){var U=this.visual;U&&(U.data=void 0,U.dataTransforms=void 0,U.hostServices=o.o,U.visualAdapterHostServices={getNextDataSegment:function(){return new g.J(function(Q,te){return te(new Error("Visual reset"))})},startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0},W.prototype.updateViewStateCore=function(U){var k,Q;if(this.servicesState===I.Initialized){var te=this.viewModeState&&this.viewModeState.getConfig(),ee=te&&te.displayOptions,J=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),re=this.contract,G=this.position,ne=this.overridePosition||this.convertToScaledPosition(G),X=(0,u.ED)(ne),oe=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(oe&&(X.height-=W.VisualContainerHeaderHeight),X.height/=this.uiScale.y,X.width/=this.uiScale.x):(X=(0,u.ED)(G),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&oe&&(X.height-=W.VisualContainerHeaderHeight/this.uiScale.y)):oe&&(X.height-=W.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(X.height-=W.VisualContainerFooterHeight),this.isPoppedOut&&(!ee||!ee.hideInFocusBar)){var Te=W.PopOutBarHeight;this.enableVisualScaling&&(Te/=this.uiScale.y),X.height-=Te}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var Qe=null!==(k=this.contract.detailVisualLayout)&&void 0!==k?k:1;this.showDetailHorizontal=this.hasDetailVisual&&1===Qe,this.showDetailVertical=this.hasDetailVisual&&2===Qe,this.visualViewport=this.getVisualViewport(X.width,X.height,this.uiScale.x,J);var He=re.config.singleVisual;if(U.isFilterVisual=!1,He){this.showWatermark=!1,this.canPin=!0;var Ce=He.visualType,de=this.visualPlugin&&this.visualPlugin.capabilities(Ce);if(de&&(U.isFilterVisual=null!=(0,M.MD)(de.objects)),He.query){var pe=He.query.defn;if(pe){var le=pe.orderBy();U.actualSortDirection=le&&le.length?le[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(Ce)&&"debugVisual"!==Ce&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&de&&de.supportsLandingPage&&(1===this.viewModeState.getMode()||de.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,R.vC)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(U,this.visualViewport)}U.position=(0,e.__assign)((0,e.__assign)({},ne),{z:null!=this.zIndexOverride?this.zIndexOverride:G.z||0,angle:G.angle||0}),this.applyTitleStyle(U,ne.width,J),this.applyVisualTitleAreaStyle(U),!(null===(Q=this.featureSwitchService)||void 0===Q)&&Q.featureSwitches.vcPadding&&(this.applySubTitleStyle(U,ne.width,J),this.applyDividerStyle(U,J)),this.applyVisualViewportStyle(this.readOnlyState,X),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(U,X.width),this.applyHeaderStyle(U),this.setHeaderItemVisibility(U),this.setTooltip(),this.setHeaderTooltip(),re&&re.postProcessing&&this.configureInitializationSpinner(re.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}},W.prototype.isHeaderItemVisible=function(U){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[U]},W.prototype.isDeprecationWarningVisible=function(){return 1===this.viewModeState.getMode()&&void 0!==this.customVisualDeprecatedWarningInfo},W.prototype.isWarningVisible=function(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo},W.prototype.isErrorVisible=function(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo},W.prototype.isInfoVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo},W.prototype.isInfoVersionsVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo},W.prototype.isHeaderTooltipVisible=function(){return this.isHeaderItemVisible("tooltipButton")},W.prototype.isAnyIconVisible=function(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()},W.prototype.anyHeaderItemVisible=function(U){if(U)for(var k=0,Q=U;k<Q.length;k++)if(this.isHeaderItemVisible(Q[k]))return!0;return!1},W.prototype.isTextboxVisual=function(){return this.contract.config.singleVisual.visualType===r.L.textbox.name},W.prototype.getTextboxVisual=function(){var U=this;return m.fF.assert(function(){return U.isTextboxVisual()},"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()},W.prototype.isContractAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)},W.prototype.isDefinitionAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)},W.prototype.isContractQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)},W.prototype.getQnaVisual=function(){var U=this;return m.fF.assert(function(){return U.isContractQnaVisual()},"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()},W.prototype.isDefinitionQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)},W.prototype.setInitialLoadTelemetryParent=function(U){m.fF.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=U},W.prototype.regenerateWarnings=function(){this.warningsSubject.next(this.getVisualWarnings())},W.prototype.tryGetUnwrappedVisual=function(){var U,k=null===(U=this.runningVisual)||void 0===U?void 0:U.getAdapter();return k?k.unwrap?k.unwrap():k:void 0},W.prototype.setHeaderItemVisibility=function(U){var k=U.itemVisibility;k||(k=U.itemVisibility={});var Q=this.viewModeState&&this.viewModeState.getMode(),te=this.contract.config.singleVisual,ee=this.useStylableHeader()?te.evaluatedObjects&&te.evaluatedObjects.visualHeader:void 0;for(var J in N){var re=N[J],X=re.forceVisible,oe=void 0;if(X&&void 0!==X[Q])oe=X[Q];else{var Ve=ee&&ee[re.key];oe=void 0!==Ve?Ve:re.defaultValue}k[J]=oe}},W.prototype.applyHeaderStyle=function(U){var k=this.contract.config.singleVisual,Q=this.useStylableHeader()?k.evaluatedObjects&&k.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(U,Q),this.applyHeaderBackgroundStyle(U,Q),this.applyHeaderForegroundStyle(U,Q)},W.prototype.applyItemContainerStyle=function(U,k){var Q={"background-color":"","border-color":""};if(this.useStylableHeader()&&k&&(k.background||null!=k.transparency||null!=k.border)){var te=k.background&&k.background.solid?(0,a.WV)(k.background.solid.color):{R:255,G:255,B:255},ee=k.border&&k.border.solid?(0,a.WV)(k.border.solid.color):te;null!=k.transparency?ee.A=te.A=1-k.transparency/100:(null==te.A&&(te.A=1),null==ee.A&&(ee.A=1)),Q["background-color"]=(0,a.U8)(te),Q["border-color"]=(0,a.U8)(ee)}U.headerItemContainerStyle||(U.headerItemContainerStyle=new p.Y),U.headerItemContainerStyle.addAttributes(Q),U.headerItemContainerStyle.apply()},W.prototype.applyHeaderBackgroundStyle=function(U,k){var Q,te={"background-color":""};if(this.useStylableHeader()&&k&&(k.background||null!=k.transparency)){var ee=k.background&&k.background.solid?(0,a.WV)(k.background.solid.color):W.VisualHeaderBackgroundColor;null!=k.transparency?ee.A=1-k.transparency/100:null==ee.A&&(ee.A=1-W.VisualHeaderTransparency/100),te["background-color"]=(0,a.U8)(ee);var J=null===(Q=this.themeService)||void 0===Q?void 0:Q.getVisualStyle(this.themeCollection);J&&(te[":hover"]=n.v.getThemeColor(J,"backgroundNeutral"))}U.headerBackgroundStyle||(U.headerBackgroundStyle=new p.Y),U.headerBackgroundStyle.addAttributes(te),U.headerBackgroundStyle.apply()},W.prototype.applyHeaderForegroundStyle=function(U,k){var Q={color:""};this.useStylableHeader()&&k&&k.foreground&&k.foreground.solid&&(Q.color=k.foreground.solid.color),U.headerForegroundStyle||(U.headerForegroundStyle=new p.Y),U.headerForegroundStyle.addAttributes(Q),U.headerForegroundStyle.apply()},W.prototype.applyVisualBodyStyle=function(U){var k,Q;U.visualStyle||(U.visualStyle=new p.Y);var te=null===(k=this.themeService)||void 0===k?void 0:k.getVisualStyle(this.themeCollection);null!=te&&te.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=n.v.getThemeColor(te,"foreground"));var J=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(null!==(Q=this.featureSwitchService)&&void 0!==Q&&Q.featureSwitches.vcPadding){var re=this.getVisualBodyPadding();J="".concat(re.top,"px ").concat(re.right,"px ").concat(re.bottom,"px ").concat(re.left,"px")}var G=this.shouldAppyBoxShadow(),ne=(0,h.O$)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),J,G&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());U.visualStyle.addAttributes(ne),U.visualStyle.apply()},W.prototype.shouldAppyBoxShadow=function(){var U=this.contract.visibility;if(null==U)return!0;switch(U){case 0:return!0;case 1:case 2:case 8:case 4:case 16:case 32:return!1;default:return m.fF.assertFail("Unhandled visibility: ".concat(U)),!1}},W.prototype.applyVisualViewportStyle=function(U,k){U.visualViewportStyle||(U.visualViewportStyle=new p.Y);var Q=(0,h._L)(k,this.enableVisualScaling?this.uiScale.x:void 0);U.visualViewportStyle.addAttributes(Q),U.visualViewportStyle.apply()},W.prototype.applyFooterStyle=function(U,k){if(this.isFooterVisible&&this.isFooterVisible()){var Q={};U.footerStyle||(U.footerStyle=new p.Y),Q.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",Q.width=k,U.footerStyle.addAttributes(Q),U.footerStyle.apply()}},W.prototype.applyTitleStyle=function(U,k,Q){var te,ee,J={};if(this.visualTitleVisible()){!(null===(te=this.featureSwitchService)||void 0===te)&&te.featureSwitches.vcPadding&&(J[i.YY]=this.getSpacing(h.hs.Title)),J[i.B1]=i.l6;var re=this.contract.config.singleVisual,G=re.evaluatedObjects&&re.evaluatedObjects.title||{},ne=this.getTitleFontProperties(G,Q);J[i.t0]="".concat(ne.size.pt,"pt")||0,J[i.Mq]="".concat(ne.family)||"",J[i.dj]="".concat(ne.color)||"",J[i.Z7]=G.alignment?G.alignment:"",J[i.CB]=G.background&&G.background.solid&&G.background.solid.color||"",J[i.ei]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,h.X)(ne),this.insetHeaderSize?this.isTitleWrappingEnabled||(J[i.kP]=(k-this.insetHeaderSize.width)/this.uiScale.x):J[i.kP]=null,J[i.ps]=G.bold?i.en:"",J[i.Ji]=G.italic?i.BF:"",J[i.QX]=G.underline?i.f0:"";var Ve=!(null!==(ee=this.visualTitle)&&void 0!==ee&&ee.isPlaceholderText);J[i.mA]=Ve?"none":"1px dashed black",J[i.LR]=Ve?"0":"1px",J[i.Ux]=Ve?"0":"1px",J[i.wF]=Ve?"default":"text"}else J[i.B1]=i.fw;U.titleStyle||(U.titleStyle=new p.Y),U.titleStyle.addAttributes(J),U.titleStyle.apply()},W.prototype.applySubTitleStyle=function(U,k,Q){var te,ee,J={};if(this.visualSubTitleVisible()&&null!==(te=this.featureSwitchService)&&void 0!==te&&te.featureSwitches.vcPadding){J[i.YY]=this.getSpacing(h.hs.SubTitle),J[i.B1]=i.l6;var re=this.contract.config.singleVisual,G=re.evaluatedObjects&&re.evaluatedObjects.subTitle||{},ne=this.getSubTitleFontProperties(G,Q);J[i.t0]="".concat(ne.size.pt,"pt")||0,J[i.Mq]="".concat(ne.family)||"",J[i.dj]="".concat(ne.color)||"",J[i.Z7]=G.alignment?G.alignment:"",J[i.ei]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,h.X)(ne),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(J[i.kP]=(k-this.insetHeaderSize.width)/this.uiScale.x):J[i.kP]=null,J[i.ps]=G.bold?i.en:"",J[i.Ji]=G.italic?i.BF:"",J[i.QX]=G.underline?i.f0:"";var Ve=!(null!==(ee=this.visualSubTitle)&&void 0!==ee&&ee.isPlaceholderText);J[i.mA]=Ve?"none":"1px dashed black",J[i.LR]=Ve?"none":"2px",J[i.Ux]=Ve?"0":"1px",J[i.wF]=Ve?"default":"text"}else J[i.B1]=i.fw;U.subTitleStyle||(U.subTitleStyle=new p.Y),U.subTitleStyle.addAttributes(J),U.subTitleStyle.apply()},W.prototype.applyDividerStyle=function(U,k){var Q,te={};if(this.visualDividerVisible()&&null!==(Q=this.featureSwitchService)&&void 0!==Q&&Q.featureSwitches.vcPadding){te[i.YY]=this.getSpacing(h.hs.Divider),te[i.B1]=i.l6;var J=this.contract.config.singleVisual,re=J.evaluatedObjects&&J.evaluatedObjects.divider,ne=re.style||"Solid",X=re.color&&re.color.solid&&re.color.solid.color||k.colorPalette.foregroundNeutralSecondary.value;if(te[i.VM]="".concat(re.width||1,"px ").concat(ne," ").concat(X),!1!==re.ignorePadding){var Ve=this.getVisualBodyPadding();te[i.Sd]="-".concat(Ve.left||0,"px"),te[i.Uy]="-".concat(Ve.right||0,"px")}else te[i.Sd]="",te[i.Uy]=""}else te[i.B1]=i.fw;U.visualsDividerStyle||(U.visualsDividerStyle=new p.Y),U.visualsDividerStyle.addAttributes(te),U.visualsDividerStyle.apply()},W.prototype.applyVisualTitleAreaStyle=function(U){var k,Q={};if(this.visualTitleVisible()&&null!==(k=this.featureSwitchService)&&void 0!==k&&k.featureSwitches.vcPadding){var te=this.contract.config.singleVisual,ee=te.evaluatedObjects&&te.evaluatedObjects.title||{};Q[i.CB]=ee.background&&ee.background.solid&&ee.background.solid.color||"";var J=this.getVisualBodyPadding();Q[i.LR]="-".concat(J.top||0,"px"),Q[i.j4]="".concat(J.top||0,"px"),Q[i.Sd]="-".concat(J.left||0,"px"),Q[i.Ux]="".concat(J.left||0,"px"),Q[i.Uy]="-".concat(J.right||0,"px"),Q[i.By]="".concat(J.right||0,"px")}else Q[i.CB]="",Q[i.LR]="",Q[i.j4]="",Q[i.Sd]="",Q[i.Ux]="",Q[i.Uy]="",Q[i.By]="";U.visualTitleAreaStyle||(U.visualTitleAreaStyle=new p.Y),U.visualTitleAreaStyle.addAttributes(Q),U.visualTitleAreaStyle.apply()},W.prototype.getSpacing=function(U){var k=this.contract.config.singleVisual;return(0,h.h4)(U,k.evaluatedObjects&&k.evaluatedObjects.spacing)},W.prototype.getVisualBodyPadding=function(){var U;return m.fF.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on"),(0,h.NY)(this.visualPadding,null===(U=this.contract.config.singleVisual.evaluatedObjects)||void 0===U?void 0:U.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())},W.prototype.updateVisualDefinition=function(U){var Q,te,k=this,ee=this.contract.config.singleVisual,J=ee.visualType;if(m.fF.assertAnyValue(ee,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var re=this.visual;re.type!==ee.visualType?(re.data=null,null===(Q=this.visualHostServices)||void 0===Q||Q.onClearLicenseNotification()):this.showWatermark&&(null===(te=this.visualHostServices)||void 0===te||te.onClearLicenseNotification()),m.fF.assert(function(){return re.visualName===k.contract.name},"visualName"),re.type=J,re.stylePresetName=ee.evaluatedObjects&&ee.evaluatedObjects.stylePreset&&ee.evaluatedObjects.stylePreset.name,re.hostServices=this.visualHostServices,re.visualAdapterHostServices=this.visualAdapterHostServices,re.orderIndependentSelectorMatching=ee.queryOptions&&ee.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(J)),this.visual.visualHasData=!!ee.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:U,type:J,visualName:this.contract.name,dataTransforms:{objects:ee.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:ee.queryOptions&&ee.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(J)),this.visual.visualHasData=!!ee.query)},W.prototype.setViewport=function(U,k){this.runningVisual&&this.setVisualViewport(this.runningVisual,k)},W.prototype.setVisualViewport=function(U,k){if(U&&k){var Q=this.viewportResized;this.viewportResized=void 0;var te,ee=this.enableVisualScaling?this.uiScale.x:1;(Q||!(te=U.getViewport())||te.height!==k.height||te.width!==k.width||te.scale!==ee)&&U.setViewport((0,e.__assign)((0,e.__assign)({},k),{scale:ee}),Q)}},W.prototype.getVisualViewport=function(U,k,Q,te){var ee,J,re,G,ne,X,oe,Ve=this.contract.config.singleVisual,Te=0;this.visualBorder&&this.visualBorder.visible&&(Te=this.visualBorder.getNumericPaddingFromBorder());var Qe=this.isPaddingDisabled?2*Te:2*(Te+W.VisualContainerDefaultPadding),He=this.isPaddingDisabled?2*Te:2*(Te+W.VisualContainerDefaultPadding);if(null!==(ee=this.featureSwitchService)&&void 0!==ee&&ee.featureSwitches.vcPadding){var Ce=this.getVisualBodyPadding();Qe=Ce.left+Ce.right,He=Ce.top+Ce.bottom}var de=0,pe=0,le=0,me=0,be=U-Qe;if(this.visualTitleVisible()){var Be=this.getTitleFontProperties(this.visualTitle,te);this.updateVisualTitleWrapping(be,Be),pe=(0,h.X)(Be),pe*=this.visualTitleWrapped.length||1,!(null===(J=this.featureSwitchService)||void 0===J)&&J.featureSwitches.vcPadding&&(pe+=this.getSpacing(h.hs.Title)),null!==(re=this.visualTitle)&&void 0!==re&&re.isPlaceholderText&&(pe+=3)}if(this.visualSubTitleVisible()&&null!==(G=this.featureSwitchService)&&void 0!==G&&G.featureSwitches.vcPadding){var Se=this.getSubTitleFontProperties(this.visualSubTitle,te);this.updateSubVisualTitleWrapping(be,Se),le=(0,h.X)(Se),le*=this.visualSubTitleWrapped.length||1,le+=this.getSpacing(h.hs.SubTitle),null!==(ne=this.visualSubTitle)&&void 0!==ne&&ne.isPlaceholderText&&(pe+=4)}this.visualDividerVisible()&&null!==(X=this.featureSwitchService)&&void 0!==X&&X.featureSwitches.vcPadding&&(de=null!==(oe=(Ve.evaluatedObjects&&Ve.evaluatedObjects.divider).width)&&void 0!==oe?oe:0,de+=this.getSpacing(h.hs.Divider)),this.visualPausedWarning&&(me+=W.VisualBannerHeight),this.featureNotSupportedWarning&&1===this.viewModeState.getMode()&&(me+=W.VisualBannerHeight);var ue=k-He-pe-me-le-de,ve=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!ve&&(1===(this.contract.detailVisualLayout||1)?(ue-=He,ue/=2):(be-=Qe,be/=2)),{width:Math.max(be,0),height:Math.max(ue,0),scale:Q}},W.prototype.getTitleFontProperties=function(U,k){var Q=(0,E.N)(U,"bold"),te=(0,E.N)(U,"italic"),ee=(0,E.N)(U,"underline"),J={color:"fontColor",family:"fontFamily",size:"fontSize"};Q&&(J.bold="bold"),te&&(J.italic="italic"),ee&&(J.underline="underline");var re=n.v.create(k);return(0,l.Zi)(U,J,re,k,void 0,h.Hf,h.o8)},W.prototype.getSubTitleFontProperties=function(U,k){var Q=(0,E.N)(U,"bold"),te=(0,E.N)(U,"italic"),ee=(0,E.N)(U,"underline"),J={color:"fontColor",family:"fontFamily",size:"fontSize"};Q&&(J.bold="bold"),te&&(J.italic="italic"),ee&&(J.underline="underline");var re=n.v.create(k);return(0,l.Zi)(U,J,re,k,h.uz,h.Zq,h.o8)},W.prototype.updateVisualTitleWrapping=function(U,k){if(this.visualTitle&&this.visualTitle.text){var Q=(0,l.qk)(k),te=new p.Y;if(te.addAttributes({width:U}),te.addAttributes({fontSize:"".concat(k.size.px,"px")}),te.addAttributes({fontWeight:"".concat(k.weight)}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:te}]);var ee=(0,y.ql)(this.visualTitle.text,Q,V.b.measureSvgTextWidth,U,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=ee.map(function(J){return{text:J.trim(),style:te}})}},W.prototype.updateSubVisualTitleWrapping=function(U,k){if(this.visualSubTitle&&this.visualSubTitle.text){var Q=(0,l.qk)(k),te=new p.Y;if(te.addAttributes({width:U}),te.addAttributes({fontSize:"".concat(k.size.px,"px")}),te.addAttributes({fontWeight:"".concat(k.weight)}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:te}]);var ee=(0,y.ql)(this.visualSubTitle.text,Q,V.b.measureSvgTextWidth,U,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=ee.map(function(J){return{text:J.trim(),style:te}})}},W.prototype.showDetailVisual=function(){return 2===this.contract.visibility||8===this.contract.visibility},W.prototype.showVisualCalcEditor=function(){return 16===this.contract.visibility},W.prototype.useStylableHeader=function(){return W.useStylableHeader(this.explorationCapabilities)},W.useStylableHeader=function(U){return U&&U.getCapabilities().visualContainerOptions.useStylableHeader},W.prototype.configureInitializationSpinner=function(U){var k=this;this.showInitializationSpinner=!0,U.catch(function(Q){}).finally(function(){k.showInitializationSpinner=!1,k.contract.postProcessing=void 0})},W.prototype.getVisualWarnings=function(){var U=this,k=[],Q=this.viewModeState&&1===this.viewModeState.getMode();return this.visualPausedWarning&&k.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:function(ee){var J;null===(J=U.pauseQueriesService)||void 0===J||J.refreshVisuals(ee),U.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&k.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:Q,hideBanner:function(){U.featureNotSupportedWarning=void 0}}),k},W.VisualContainerHeaderHeight=20,W.VisualContainerFooterHeight=34,W.VisualContainerDefaultPadding=5,W.PopOutBarHeight=40,W.HeaderInTitleScaleThreshold=.9,W.VisualBannerHeight=38,W.VisualBannerPaddingTopPopOutMode=3,W.VisualHeaderBackgroundColor={R:255,G:255,B:255},W.VisualHeaderTransparency=0,W}(D.j)},767024:function(Je,H,t){t.d(H,{IT:function(){return h},Iw:function(){return p},Vz:function(){return l},q4:function(){return n}});var e=t(226514),c=t(809395),s=t(406585),f=t(299747),v=t(281469),b=t(568656),h=function(){function r(o,a,i){this.contract=o,this.currentCanvasLayout=a,this.children=i,this.uiScale=v.U2}return r.prototype.setSelected=function(o){this.isSelected=o},Object.defineProperty(r.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isHidden",{get:function(){return this.contract.isHidden},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(a){this.contract.layouts.withId(this.currentCanvasLayout).position=a},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isPositioned",{get:function(){var a=this.position;return 0!==a.width&&0!==a.height},enumerable:!1,configurable:!0}),r.prototype.startResize=function(){this.originalPosition=this.position;for(var o=0,a=this.children;o<a.length;o++)a[o].startResize()},r.prototype.getScaledPosition=function(){return this.scaledPosition||this.convertToScaledPosition(this.position)},r.prototype.convertToScaledPosition=function(o){return(0,b.vW)(o,this.uiScale,!0)},r.prototype.updateViewportForUserResize=function(o){var a=this.convertToScaledPosition((0,e.__assign)((0,e.__assign)({},o),{x:0,y:0}));this.updateStyle(a)},r.prototype.updateViewState=function(){this.scaledPosition=this.convertToScaledPosition(this.position);var o=(0,f.ED)(this.scaledPosition);this.updateStyle(o),this.setTooltip()},r.prototype.updateStyle=function(o){this.applyStyle||(this.applyStyle=new s.Y);var a=(0,c._L)(o,void 0);this.applyStyle.addAttributes(a);var i=(0,c.O$)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(i),this.applyStyle.apply()},r.prototype.setTooltip=function(){var o,a,i;this.tooltip=null===(i=null===(a=null===(o=this.contract.evaluatedObjects)||void 0===o?void 0:o.general)||void 0===a?void 0:a.altText)||void 0===i?void 0:i.toString()},r.prototype.clone=function(){var o=new r(this.contract,this.currentCanvasLayout,this.children);return _.assign(o,this)},r}();function p(r,o,a){for(var i=a&&a.visibleOnly,m=0,u=r;m<u.length;m++){var V=u[m];i&&V.isHidden||(o(V),n(V)&&p(V.children,o,a))}}function n(r){return!!r.children}function l(r){return!r.children}},293969:function(Je,H,t){t.d(H,{u:function(){return f}});var e=t(160046),c=t(772907),s=t(972817),f=function(){function v(b){b&&(this.visible=b.show,this.position=b.position,this.color=b.color.solid.color,this.preset=b.preset,this.transparency=b.transparency,this.shadowSpread=b.shadowSpread,this.shadowBlur=b.shadowBlur,this.angle=b.angle,this.shadowDistance=b.shadowDistance)}return v.prototype.getBoxShadow=function(){if(this.visible){if(this.preset!==e.$g){var b=(0,c.X2)(this.preset,this.position);if(b)for(var h in b)this[h]=b[h]}var p=this.position===e.$S?"inset ":"",n=(0,s.TD)(this.transparency),l=Math.PI/180*this.angle;return p+Math.cos(l)*this.shadowDistance+"px "+Math.sin(l)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,s.cD)(this.color,n)}return""},v}()},578539:function(Je,H,t){t.d(H,{G:function(){return e},W:function(){return c}});var e=function(s){return s[s.Fields=0]="Fields",s[s.Format=1]="Format",s[s.Analytics=2]="Analytics",s}({}),c=function(s){return s[s.Fields=0]="Fields",s[s.Format=1]="Format",s}({})},942983:function(Je,H,t){t.d(H,{$U:function(){return Q},$V:function(){return w},$z:function(){return J},A6:function(){return l},AA:function(){return T},B8:function(){return o},D6:function(){return F},Db:function(){return L},Dd:function(){return V},HI:function(){return b},HX:function(){return I},Hd:function(){return N},JM:function(){return j},JW:function(){return D},KB:function(){return Ce},Kc:function(){return W},Kh:function(){return r},LN:function(){return E},LU:function(){return i},N8:function(){return s},NC:function(){return g},Q$:function(){return n},QZ:function(){return ne},R6:function(){return Ve},RR:function(){return te},SC:function(){return A},SY:function(){return p},U:function(){return He},UL:function(){return Qe},Xj:function(){return x},Z9:function(){return a},ZF:function(){return U},az:function(){return re},bJ:function(){return v},bN:function(){return c},bm:function(){return B},d1:function(){return k},e3:function(){return le},eM:function(){return f},h8:function(){return Te},h9:function(){return O},hH:function(){return u},jb:function(){return C},kw:function(){return P},lr:function(){return X},mC:function(){return y},nW:function(){return ee},oK:function(){return de},rw:function(){return h},tL:function(){return pe},tb:function(){return m},to:function(){return oe},vg:function(){return M},yJ:function(){return S},yL:function(){return G},yX:function(){return d},zH:function(){return R}});var e=t(249679),c=-1,s=e.N8,f="extension",v=!0,b="page",h="report",p="group",n=12,l=12,r="x_position",o="y_position",a=960,i=720,m="#FFFFFF",u="#EAEAEA",V=0,d=0,S="#000000",g="#ffffff",y="#117865",C="#ffffff",E="#BDBDBD",M=200,P=32,T=180,x=420,R=!0,D="#C8C8C8",L=12,F=10,A=9,O="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",N=0,w=0,I=!0,B="#C8C8C8",j=9,W="Available",U="Applied",k="#C8C6C4",Q="#FFFFFF",te="#252423",ee=0,J=1280,re=720,G=296,ne=592,X=816,oe=1056,Ve=320,Te=240,Qe=10,He=60,Ce=40,de="PT30M";function pe(){return{color:m,transparency:ee}}function le(){return{color:u,transparency:V}}},777300:function(Je,H,t){t.d(H,{Dy:function(){return f},kj:function(){return c},wO:function(){return s}});var e=t(149362),c="CDM",s="APR",f=(0,e.i)([{value:s,displayName:function(b){return b.get("PageRefresh_APR")}},{value:c,displayName:function(b){return b.get("ChangeDetection")}}])},8590:function(Je,H,t){t.d(H,{J:function(){return e},U:function(){return c}});var e=function(){function s(){}return s.isValidBookmark=function(f){return f&&(s.isBookmarkGroup(f)||s.isStateBookmark(f))},s.isBookmarkGroup=function(f){return void 0!==f.children},s.isStateBookmark=function(f){return!s.isBookmarkGroup(f)},s.isWebBookmark=function(f){return void 0!==f.type},s}(),c=function(s){return s.Add="AddBookmark",s.Apply="ApplyBookmark",s.Remove="RemoveBookmark",s.Move="MoveBookmark",s.Update="UpdateBookmark",s.Rename="RenameBookmark",s.Group="GroupBookmarks",s.Ungroup="UngroupBookmarks",s}({})},860141:function(Je,H,t){t.d(H,{$$:function(){return r},$g:function(){return l},CD:function(){return p},kB:function(){return o},p1:function(){return n},yd:function(){return h}});var e=t(912126),c=t(358724),s=t(497610),f=t(883863),v=t(787941),b=t(942983);function h(a){return void 0===a&&(a=[]),(0,f.z8)((0,f.Br)(a))}function p(a){var i=b.N8;return{type:c.nKy,id:a.id,name:i,dsr:{schemaName:i,vsName:a.vsName,dbName:a.dbName,modelId:a.id,isQueryCachingEnabled:a.capacityObjectId&&void 0===a.queryCachingState?void 0:2===a.queryCachingState,lastRefreshTime:a.lastRefreshTime,isLimitedParallelQueryModel:a.datasetHost===s.GY.ASOnPrem}}}function n(a){return _.includes(Object.keys(a),"extends")}function l(a,i){if(v.fF.assertAnyValue(a,"dataSources"),v.fF.assertAnyValue(i,"query"),!_.isEmpty(a)){var m=(0,e.fV)(i);return o(_.isEmpty(m)?a:_.filter(a,function(V){return _.includes(m,V.name)}))}}function r(a,i){if(v.fF.assertAnyValue(a,"dataSources"),v.fF.assertAnyValue(i,"query"),!_.isEmpty(a)){var m=(0,e.fV)(i);return _.isEmpty(m)?_.filter(a,function(u){return!n(u)}):_.chain(a).filter(function(u){return _.includes(m,u.name)}).map(function(u){return n(u)?_.find(a,function(V){return V.name===u.extends}):u}).uniq().value()}}function o(a){return _.map(a,function(i){return i[(0,e.wx)(i)]})}},272039:function(Je,H,t){t.d(H,{W:function(){return f},u:function(){return s}});var e=t(734287),c=t(989416),s=function(v){return v[v.Unspecified=0]="Unspecified",v[v.QnaSuggestQuestions=1]="QnaSuggestQuestions",v[v.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",v}({}),f={outspacePane:{displayName:(0,e.V)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,e.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:c.Dy}}}}}},505876:function(Je,H,t){t.d(H,{LP:function(){return e},XW:function(){return c},vA:function(){return s}});var e="filter",c={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},s=function(f){return f[f.Categorical=0]="Categorical",f[f.Range=1]="Range",f[f.Advanced=2]="Advanced",f[f.Passthrough=3]="Passthrough",f[f.Visual=4]="Visual",f[f.TopN=5]="TopN",f[f.Include=6]="Include",f[f.Exclude=7]="Exclude",f[f.RelativeDate=8]="RelativeDate",f[f.Tuple=9]="Tuple",f[f.RelativeTime=10]="RelativeTime",f}({})},334281:function(Je,H,t){t.d(H,{w:function(){return e}});var e=function(c){return c[c.Self=1]="Self",c[c.Slicer=2]="Slicer",c}({})},90117:function(Je,H,t){t.d(H,{C7:function(){return v},js:function(){return h},yG:function(){return b}});var e=t(734287),c=t(777300),s=t(989416),f=t(405644),v={pageInformation:{displayName:(0,e.V)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,e.V)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,e.V)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,e.V)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,e.V)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,e.V)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,e.V)("Type"),type:{enumeration:f.D}},pageSizeWidth:{displayName:(0,e.V)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,e.V)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,e.V)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,e.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,e.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{enumeration:s.Dy}}}},outspace:{displayName:(0,e.V)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,e.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,e.V)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,e.V)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,e.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,e.V)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,e.V)("Visual_Border"),type:{bool:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,e.V)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,e.V)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,e.V)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,e.V)("Transparency"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,e.V)("Visual_Border"),type:{bool:!0},description:(0,e.V)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,e.V)("Visual_TextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,e.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,e.V)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,e.V)("PageRefresh"),properties:{show:{displayName:(0,e.V)("Show"),type:{bool:!0}},refreshType:{displayName:(0,e.V)("AutoPageRefreshType"),type:{enumeration:c.Dy}},duration:{displayName:(0,e.V)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,e.V)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,e.V)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,e.V)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,e.V)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,e.V)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,e.V)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,e.V)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function b(p){return _.filter(p,function(n){return!n.transient})}var h={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},989416:function(Je,H,t){t.d(H,{Dy:function(){return v},XN:function(){return f},ab:function(){return c},we:function(){return s}});var e=t(149362),c=function(b){return b[b.Top=0]="Top",b[b.Middle=1]="Middle",b}({}),s="Top",f="Middle",v=(0,e.i)([{value:s,displayName:function(h){return h.get("Top")}},{value:f,displayName:function(h){return h.get("Middle")}}])},405644:function(Je,H,t){t.d(H,{D:function(){return s},t:function(){return c}});var e=t(149362),c={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},s=(0,e.i)([{value:c.Widescreen,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Widescreen")}},{value:c.Standard,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Standard")}},{value:c.Letter,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Letter")}},{value:c.Tooltip,displayName:function(v){return v.get("Tooltip")}},{value:c.Custom,displayName:function(v){return v.get("Custom")}}])},822311:function(Je,H,t){t.d(H,{Dy:function(){return v},Qy:function(){return l},Xg:function(){return n},Xz:function(){return f},d9:function(){return o},gA:function(){return s},pJ:function(){return h},xj:function(){return p},y5:function(){return a}});var e=t(668268),c=t(149362),s="Default",f="Canvas",v=(0,c.i)([{value:s,displayName:function(m){return m.get("Default")}},{value:f,displayName:function(m){return m.get("ReportPage")}}]),h="___AUTO___";function p(i,m){void 0===m&&(m=!1);var u=null==i?void 0:i.show;return!1===u||void 0===u&&m}function n(i){return!(null==i?void 0:i.show)}function l(i){return!!i&&!i.show}function o(i){if(i){var m={visualType:i.visualType};i.syncGroup&&(m.syncGroup=_.cloneDeep(i.syncGroup)),i.columnProperties&&(m.columnProperties=_.cloneDeep(i.columnProperties)),i.query&&(m.query=i.query.clone()),i.queryOptions&&(m.queryOptions=_.cloneDeep(i.queryOptions)),i.objects&&(m.objects=(0,e.d9)(i.objects)),i.vcObjects&&(m.vcObjects=(0,e.d9)(i.vcObjects)),function(i,m){i.mobileObjects&&(m.mobileObjects=(0,e.d9)(i.mobileObjects)),i.mobileVcObjects&&(m.mobileVcObjects=(0,e.d9)(i.mobileVcObjects))}(i,m),i.hasDefaultSort&&(m.hasDefaultSort=i.hasDefaultSort);var u=i.conversionSourceContext;return u&&(m.conversionSourceContext={visualType:u.visualType,query:u.query&&u.query.clone(),syncGroup:u.syncGroup}),i.display&&(m.display=_.cloneDeep(i.display)),i.autoSelectVisualType&&(m.autoSelectVisualType=i.autoSelectVisualType),m.hasUsedSmallMultiples=i.hasUsedSmallMultiples,m}}function a(i,m){if(!i)return m.resolve();var u=i.getAdapter();return u?u.enumerateObjectRepetitionAsync?u.enumerateObjectRepetitionAsync():u.enumerateObjectRepetition?m.resolve(u.enumerateObjectRepetition()):m.resolve():m.resolve()}},160046:function(Je,H,t){t.d(H,{$S:function(){return A},$g:function(){return y},C2:function(){return D},Dy:function(){return V},F:function(){return te},Fi:function(){return M},Jn:function(){return L},Ol:function(){return r},PE:function(){return x},Qi:function(){return S},WM:function(){return u},XQ:function(){return F},XW:function(){return J},ZS:function(){return i},Zk:function(){return X},cS:function(){return T},cy:function(){return m},d7:function(){return ee},d8:function(){return o},d9:function(){return G},eJ:function(){return n},f:function(){return E},fU:function(){return re},k8:function(){return j},oL:function(){return d},qf:function(){return R},rp:function(){return l},s_:function(){return oe},sv:function(){return a},tF:function(){return C},uf:function(){return P},wv:function(){return Q},xj:function(){return ne},z1:function(){return g}});var e=t(808261),c=t(787941),s=t(106266),f=t(688612),v=t(734287),b=t(149362),h=t(822311),p=t(347039),n="Back",l="Bookmark",r="Drillthrough",o="PageNavigation",a="Qna",i="WebUrl",m="ApplyAllSlicers",u="ClearAllSlicers",V=(0,b.i)([{value:n,displayName:function(Te){return Te.get("Generic_Back")}},{value:l,displayName:function(Te){return Te.get("Generic_Bookmark")}},{value:r,displayName:function(Te){return Te.get("Drillthrough")}},{value:o,displayName:function(Te){return Te.get("PageNavigation")}},{value:a,displayName:function(Te){return Te.get("Generic_Qna")}},{value:i,displayName:function(Te){return Te.get("Web_Url")}},{value:m,displayName:function(Te){return Te.get("ReportAppBar_ApplyAllSlicers")}},{value:u,displayName:function(Te){return Te.get("ReportAppBar_ClearAllSlicers")}}]);function d(Ve){return Ve.type||n}var S="",g="",y="Custom",C="Top",E="TopLeft",M="TopRight",P="Center",T="CenterLeft",x="CenterRight",R="Bottom",D="BottomLeft",L="BottomRight",F="Outer",A="Inner",O=(0,b.i)([{value:L,displayName:function(Te){return Te.get("Visual_LabelPosition_BottomRight")}},{value:R,displayName:function(Te){return Te.get("Bottom")}},{value:D,displayName:function(Te){return Te.get("Visual_LabelPosition_BottomLeft")}},{value:x,displayName:function(Te){return Te.get("Visual_TextAlignment_Right")}},{value:P,displayName:function(Te){return Te.get("Visual_TextAlignment_Center")}},{value:T,displayName:function(Te){return Te.get("Visual_TextAlignment_Left")}},{value:M,displayName:function(Te){return Te.get("Visual_LabelPosition_TopRight")}},{value:C,displayName:function(Te){return Te.get("Top")}},{value:E,displayName:function(Te){return Te.get("Visual_LabelPosition_TopLeft")}},{value:y,displayName:function(Te){return Te.get("Custom")}}]),N=(0,b.i)([{value:F,displayName:function(Te){return Te.get("Visual_DonutLabelPosition_Outside")}},{value:A,displayName:function(Te){return Te.get("Visual_DonutLabelPosition_Inside")}}]),B="Heading3",j="Heading4",k=(0,b.i)([{value:"Normal",displayName:function(Te){return Te.get("Normal")}},{value:"Heading2",displayName:function(Te){return Te.get("Heading_2")}},{value:B,displayName:function(Te){return Te.get("Heading_3")}},{value:j,displayName:function(Te){return Te.get("Heading_4")}},{value:"Heading5",displayName:function(Te){return Te.get("Heading_5")}},{value:"Heading6",displayName:function(Te){return Te.get("Heading_6")}}]),Q=B,te="none",ee={singleVisual:{visualType:"uninitializedVisual"}};(0,f._)(ee);var J={title:{displayName:(0,v.V)("Visual_Title"),description:(0,v.V)("Visual_TitleDescription"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,v.V)("Visual_Title_Text"),description:(0,v.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,v.V)("Visual_Title_Heading_Attribute"),description:(0,v.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:k}},titleWrap:{displayName:(0,v.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,v.V)("Visual_FontColor"),description:(0,v.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,v.V)("Visual_Title_Alignment"),description:(0,v.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,v.V)("Visual_SubTitle"),description:(0,v.V)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,v.V)("Visual_Title_Text"),description:(0,v.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,v.V)("Visual_Title_Heading_Attribute"),description:(0,v.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:k}},titleWrap:{displayName:(0,v.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,v.V)("Visual_FontColor"),description:(0,v.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,v.V)("Visual_Title_Alignment"),description:(0,v.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,v.V)("Visual_Divider"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},ignorePadding:{displayName:(0,v.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},color:{displayName:(0,v.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},style:{displayName:(0,v.V)("Style"),type:{enumeration:e.dt}},width:{displayName:(0,v.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,v.V)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,v.V)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,v.V)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,v.V)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,v.V)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,v.V)("Visual_Background"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,v.V)("Visual_Background_Color"),description:(0,v.V)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,v.V)("Visual_Padding"),properties:{top:{displayName:(0,v.V)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,v.V)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,v.V)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,v.V)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,v.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,v.V)("Visual_General_Properties"),properties:{x:{displayName:(0,v.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,v.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,v.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,v.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,v.V)("Visual_General_Properties_Description"),placeHolderText:(0,v.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,v.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,v.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,v.V)("Visual_General_KeepLayerOrder"),description:(0,v.V)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,v.V)("Visual_Border"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,v.V)("Visual_Border_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,v.V)("Visual_Radius"),type:{numeric:!0}}}},dropShadow:{displayName:(0,v.V)("Visual_DropShadow"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,v.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},position:{displayName:(0,v.V)("Visual_DropShadow_Position"),type:{enumeration:N}},color:{displayName:(0,v.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,v.V)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,v.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,v.V)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,v.V)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,v.V)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,v.V)("Type"),description:(0,v.V)("Visual_VisualLink_Type_Description"),type:{enumeration:V}},bookmark:{displayName:(0,v.V)("Generic_Bookmark"),description:(0,v.V)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,v.V)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,v.V)("Destination"),description:(0,v.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,v.V)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,v.V)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,v.V)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,v.V)("Destination"),description:(0,v.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,v.V)("Tooltip"),description:(0,v.V)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,v.V)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,v.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},visualTooltip:{displayName:(0,v.V)("Tooltip"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,v.V)("Type"),description:(0,v.V)("Visual_Tooltip_Type_Description"),type:{enumeration:h.Dy}},section:{displayName:(0,v.V)("Page"),description:(0,v.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,v.V)("Visual_Label_FontColor"),description:(0,v.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,v.V)("Visual_Value_FontColor"),description:(0,v.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),description:(0,v.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,v.V)("Visual_Action_FontColor"),description:(0,v.V)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,v.V)("Visual_Label_FontColor"),description:(0,v.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,v.V)("Visual_Value_FontColor"),description:(0,v.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,v.V)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,v.V)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,v.V)("Visual_Header"),description:(0,v.V)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,v.V)("Visual_Border"),description:(0,v.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,v.V)("VisualHeader_Foreground_Color"),description:(0,v.V)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,v.V)("VisualHeader_ShowVisualInformationButton"),description:(0,v.V)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,v.V)("VisualHeader_ShowVisualWarningButton"),description:(0,v.V)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,v.V)("VisualHeader_ShowVisualErrorButton"),description:(0,v.V)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,v.V)("VisualHeader_ShowDrillRoleSelector"),description:(0,v.V)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,v.V)("VisualHeader_ShowDrillUpButton"),description:(0,v.V)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,v.V)("VisualHeader_ShowDrillToggleButton"),description:(0,v.V)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,v.V)("VisualHeader_ShowDrillDownLevelButton"),description:(0,v.V)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,v.V)("VisualHeader_ShowDrillDownExpandButton"),description:(0,v.V)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,v.V)("VisualHeader_ShowPinButton"),description:(0,v.V)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,v.V)("VisualHeader_ShowFilterRestatementButton"),description:(0,v.V)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,v.V)("VisualHeader_ShowFocusModeButton"),description:(0,v.V)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,v.V)("VisualHeader_ShowCopyVisualImageButton"),description:(0,v.V)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,v.V)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,v.V)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,v.V)("VisualHeader_ShowOptionsMenu"),description:(0,v.V)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,v.V)("VisualHeader_ShowCommentButton"),description:(0,v.V)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,v.V)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,v.V)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,v.V)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,v.V)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,v.V)("SmartNarratives_ToolTip"),description:(0,v.V)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,v.V)("VisualHeaderTooltip"),properties:{type:{displayName:(0,v.V)("Type"),type:{enumeration:p.Dy}},section:{displayName:(0,v.V)("Page"),description:(0,v.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,v.V)("VisualHeaderTooltip_Text"),description:(0,v.V)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,v.V)("Generic_Color"),description:(0,v.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),description:(0,v.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,v.V)("Generic_Color"),description:(0,v.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},re=(0,s.wZ)(J);function G(Ve,Te){if(Ve){var Qe=Te.serializeVisualContainer(Ve);return Te.deserializeCanvasItem(Qe,!0)}}function ne(Ve){return!!Ve.display&&"hidden"===Ve.display.mode}function X(Ve,Te){Ve.display=Te?{mode:"hidden"}:void 0}function oe(Ve){if(Ve.visualContainer)return Ve.visualContainer.config.singleVisual.visualType;c.fF.assertFail("PinData has no visualType")}},859541:function(Je,H,t){t.d(H,{$m:function(){return s},C7:function(){return f},Zk:function(){return h},fU:function(){return v},hC:function(){return p},xj:function(){return b}});var e=t(106266),c=t(734287),s="visualContainerGroup",f={background:{displayName:(0,c.V)("Visual_Background"),properties:{show:{displayName:(0,c.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,c.V)("Visual_Background_Color"),description:(0,c.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,c.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,c.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,c.V)("Visual_General_Properties"),properties:{x:{displayName:(0,c.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,c.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,c.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,c.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,c.V)("Visual_General_Properties_Description"),placeHolderText:(0,c.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},v=(0,e.wZ)(f);function b(n){return n.isHidden}function h(n,l){n.isHidden=l}function p(n,l){n.displayName=l}},273139:function(Je,H,t){t.d(H,{Iw:function(){return s},Vz:function(){return h},q4:function(){return b},rQ:function(){return v}});var e=t(160046),c=t(859541);function s(n,l,r){return f(!1,r&&r.visibleOnly,n,l)}function f(n,l,r,o){for(var a=0,i=r;a<i.length;a++){var m=i[a],u=n||p(m);l&&u||(o(m,u),b(m)&&f(u,l,m.children,o))}}function v(n){for(var l=[],r=[],o=0,a=n;o<a.length;o++){var i=a[o];h(i)?l.push(i):r.push(i)}return[l,r]}function b(n){return!!n.children}function h(n){return!n.children}function p(n){return b(n)?(0,c.xj)(n):(0,e.xj)(n.config.singleVisual)}},347039:function(Je,H,t){t.d(H,{Dy:function(){return v},Xz:function(){return f},xv:function(){return s}});var e=t(149362),c=t(822311),s=c.gA,f=c.Xz,v=(0,e.i)([{value:c.gA,displayName:function(h){return h.get("Text")}},{value:f,displayName:function(h){return h.get("ReportPage")}}])},277632:function(Je,H,t){t.d(H,{g:function(){return V}});var e=t(718301),c=t(883863),s=t(787941),f=t(690016),v=t(353705),b=t(426827),h=t(188238),p=t(324356),n=t(207598),l=t(588659),r=t(779722),o=t(350562),a=t(435795),i=t(474374),m=t(474147),u=t(456535),V=function(){function d(S,g,y,C){for(var E in void 0===C&&(C=!1),this.defn=S,this.projections=g,this.expansionStates=y||[],this._isDrillDisabled=C,g)_.isEmpty(g[E].activeProjectionRefs)||this.ensureActiveItems(E)}return Object.defineProperty(d.prototype,"isDrillDisabled",{get:function(){return this._isDrillDisabled},enumerable:!1,configurable:!0}),d.prototype.ensureExpansionState=function(S,g){var y=this;s.fF.assertNonEmpty(S,"roles");var C=(0,v.Vt)(this.expansionStates,S);if(!C){s.fF.assert(function(){return!y._isDrillDisabled},"should not ensure expansion state when drill is disabled"),C=new v.cb(S,g);var E=this.getRolesUniqueProjectionRefs(S),M=this.getRolesUniqueActiveProjectionsRefs(S,g.canCollapseRoot);C.updateLevels(E,M.length),this.expansionStates.push(C)}return s.fF.assert(function(){return!!C.supportsMerge==!!g.supportsMerge}),C},d.prototype.add=function(S,g,y){var C;s.fF.assertValue(S,"expr");var E=(y=y||{}).exprName,M=y.fieldIndex,P=y.parameter,T=y.indexInParameter,x=y.nativeReferenceName,R=y.isHidden,D=this.defn.selectNameOf(S),L=!!D;D||(D=this.addSelect(S,E,x)),this.getRoleProjections(g)||(this.projections[g]=new b.NQ([]));var F={queryRef:D};R&&(F.hidden=R);var A=0,O=this.projections[g];if(P){var N=null!=T?T:null!==(C=P.length)&&void 0!==C?C:0;O.addProjection(F,{parameter:P,indexInParameter:N}),A=O.getParameterProjectionIndex(P,N),this.addNewQueryRefToActiveProjectionRefsIfNeeded(g,D,A)}else{var I=O.all();null==M||M>I.length?(O.addProjection(F),A=I.length-1):(O.addProjection(F,{fieldIndex:M}),A=O.getColumnProjectionIndex(M),this.addNewQueryRefToActiveProjectionRefsIfNeeded(g,D,A))}return this.updateExpansionStates(g,function(j,W){return j.addLevel(D,W+A)}),L&&this.resetHiddenState(D),A},d.prototype.toggleHidden=function(S){for(var g in this.projections)this.projections[g].toggleHidden(S)},d.prototype.resetAllHidden=function(){for(var S in this.projections)this.projections[S].resetAllHiddenState()},d.prototype.addParameter=function(S,g,y){s.fF.assertValue(S,"expr"),this.getRoleProjections(g)||(this.projections[g]=new b.NQ([]));var C=this.projections[g];return null==y&&(y=C.getFieldCount()),C.addFieldParameter({expr:S,index:y,length:void 0}),y},d.prototype.removeParameterBySQExpr=function(S){var g=this.projections;for(var y in g){var C=g[y],E=C.findParameterBySQExpr(S);_.isEmpty(E)||C.removeFieldParameters(E)}},d.prototype.removeParameter=function(S){var g=!1,y=this.projections;for(var C in y)g=this.removeParameterByRoleName(S,C)||g;return g},d.prototype.removeParameterByRoleName=function(S,g){var y=this.projections[g];return null==y?void 0:y.removeFieldParameters([S])},d.prototype.getParameterByFieldIndex=function(S,g){var y=this.projections[g];return null==y?void 0:y.getParameterByFieldIndex(S)},d.prototype.getResolveParameterResultsByRole=function(){var S=this,g={},y=this.projections;if(y)for(var C in y){var E=this.getQueryFieldParametersByRole(C);if(!_.isEmpty(E))for(var M=g[C]=[],P=0,T=E;P<T.length;P++){var x=T[P],D=y[C].getParameterProjections(x).map(function(L){return{expr:S.defn.select().withName(L.queryRef).expr,alias:void 0}});M.push({parameter:x,result:D})}}return g},d.prototype.removeExpr=function(S,g,y,C){if(g){for(var E=this.defn.select(),M=!1,P=E.length-1;P>=0;--P){var T=E[P].expr;if(d.areEqualIgnoringAggregate(T,S,y)){if(!this.removeAllProjectionsForExpr(T,C))return!1;M=!0}}return M}return this.removeAllProjectionsForExpr(S,C)},d.prototype.getQueryRefByProjectionIndex=function(S,g){var y=this.projections[S];if(y){var C=y.getQueryRefs();if(g<C.length)return C[g]}},d.prototype.getQueryRef=function(S,g){s.fF.assert(function(){return g&&(void 0!==g.fieldIndex||void 0!==g.parameter&&void 0!==g.indexInParameter)},"Index or parameter should be defined");var y=g.fieldIndex,C=g.parameter,E=g.indexInParameter,M=(0,b.cY)(this.projections,S);if(M)return C?M.getParameterProjections(C)[E].queryRef:y>=M.getFieldCount()?void 0:M.getColumnProjection(y).queryRef},d.prototype.removeProjection=function(S,g){s.fF.assert(function(){return g&&(void 0!==g.fieldIndex||void 0!==g.parameter&&void 0!==g.indexInParameter)},"Index or parameter should be defined"),s.fF.assertValue(this.projections[S],"expected projections to be defined for given role");var y=g.fieldIndex,C=g.parameter,E=g.indexInParameter,M=this.getQueryRef(S,g);if(!M)return!1;var P=this.defn.select().withName(M);if(!P)return!1;var D,L,T=P.expr,x=this.projections[S],R=x.all();C?(D={parameter:C,indexInParameter:E},L=x.getParameterProjectionIndex(C,E)):(D={fieldIndex:y},L=x.getColumnProjectionIndex(y)),x.removeProjection(D);var F=this.projections[S].activeProjectionRefs;_.pull(F,M);var A=_.isEmpty(R);return A&&_.isEmpty(x.getFieldParameters())?delete this.projections[S]:!A&&F&&0===F.length&&F.push(R[Math.max(0,L-1)].queryRef),this.updateExpansionStates(S,function(O,N){return O.removeLevel(N+L)}),this.isUsed(M)||this.removeExpr(T,!1),!0},d.prototype.moveProjection=function(S,g,y,C){if(g===y||g<0||y<0)return!1;var E,M=this.projections[S];M&&(E=M.all());var P=M.convertFieldIndexToProjectionIndex(y),T=M.convertFieldIndexToProjectionIndex(g),x=M.convertFieldIndexToProjectionIndex(y+C);if(!E||x>E.length)return!1;var R=this.projections[S].activeProjectionRefs,D=M.moveFields(g,y,C),L=P;if(y>g&&(L=x),R)if(L<R.length){var F=_.take(E,M.convertFieldIndexToProjectionIndex(y+1));this.projections[S].activeProjectionRefs=_.map(F,function(w){return w.queryRef})}else if(T<R.length){for(var A=0,O=D;A<O.length;A++)_.pull(R,O[A].queryRef);0===R.length&&R.push(E[0].queryRef)}return this.updateExpansionStates(S,function(w,I){return w.moveLevels(I+T,I+P,C)}),!0},d.prototype.setAggregate=function(S,g,y,C){return this.updateExpression(S,g,function(E){return(0,l.k)(E,y)},C)},d.prototype.removeAggregate=function(S,g,y,C){return this.updateExpression(S,g,function(E){return(0,a.n)(E,y)},C)},d.prototype.setPercentOfGrandTotal=function(S,g,y){return this.updateExpression(S,g,function(E){return(0,n.F)(E)},y)},d.prototype.removePercentOfGrandTotal=function(S,g,y){return this.updateExpression(S,g,function(E){return(0,i.H)(E)},y)},d.prototype.setPercentOfRoleTotal=function(S,g,y){return this.updateExpression(g,y,function(E){return(0,o.z)(E,S)})},d.prototype.removePercentOfRoleTotal=function(S,g){return this.updateExpression(S,g,function(C){return(0,r.E)(C)})},d.prototype.updateVisualCalculation=function(S,g,y,C){var E=this.getQueryRef(g,{fieldIndex:S}),M=this.defn.select().withName(E);return!(!M||!(0,u.jX)(M.expr)||!this.updateExpression(g,S,function(P){return(0,p.eu)(P,C,y)}))},d.prototype.orderBy=function(S){s.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.orderBy(S)},d.prototype.removeOrderBy=function(S){s.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(S)},d.prototype.removeUnusedOrderBy=function(){s.fF.assertValue(this.defn,"this.defn");for(var S=this.defn,y=0,C=S.orderBy();y<C.length;y++){var M=C[y].expr;S.selectNameOf(M)||(this.defn=S.removeOrderBy(M))}},d.prototype.addTransform=function(S,g,y){s.fF.assertValue(S,"transformPlugin"),s.fF.assertAnyValue(g,"parameters"),s.fF.assertValue(this.defn,"this.defn"),s.fF.assertValue(S,"transformPlugin");for(var C={},E=this.defn.transforms(),M=0,P=E;M<P.length;M++)C[P[M].name]=!0;var x=(0,f.zE)(C,S.name);this.defn=this.defn.transforms(E.concat([{algorithm:S.name,name:x,input:{parameters:g},output:void 0}]));for(var D=S.name===e.Gr.KMeansClustering.name&&y.grouping&&y.grouping.cluster,L=0,F=S.outputRoles;L<F.length;L++){var A=F[L],O=A.name;D&&(O=y.grouping.cluster.clusteringRole),this.add((0,p.hu)(A.algorithmRole),O,{exprName:A.columnName?A.columnName:A.algorithmRole})}return x},d.prototype.removeTransform=function(S,g){s.fF.assertValue(S,"transformPlugin"),s.fF.assertValue(g,"transformName"),s.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(P){return P.name===g});if(y){for(var C=0,E=S.outputRoles;C<E.length;C++)this.removeExpr((0,p.hu)(E[C].algorithmRole),!1);this.defn=this.defn.removeTransform(y)}},d.prototype.updateTransform=function(S,g){s.fF.assertValue(S,"transformName"),s.fF.assertAnyValue(g,"parameters"),s.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(C){return C.name===S});y&&(y.input.parameters=g)},d.prototype.clone=function(){return new d(this.defn,(0,b.d9)(this.projections),(0,v.d9)(this.expansionStates),this._isDrillDisabled)},d.prototype.equals=function(S){return!!(0,m.C6)(this.defn,S.defn)&&_.isEqual(this.projections,S.projections)&&_.isEqual(this.expansionStates,S.expansionStates)&&this._isDrillDisabled===S.isDrillDisabled},d.prototype.ensureDrillableRoles=function(S){s.fF.assert(function(){return!!S},"ensureDrillableRoles drillableRoleNames");for(var g=[],y=0,C=S;y<C.length;y++){var E=C[y];this.ensureActiveItems(E)&&g.push(E)}return g},d.prototype.ensureActiveItems=function(S){var g=this.projections[S];if(g){var y=g.all();if(!_.isEmpty(y)&&_.isEmpty(g.activeProjectionRefs)&&!this._isDrillDisabled)return g.activeProjectionRefs=[y[0].queryRef],!0}},d.prototype.changeDrillStateValue=function(S,g,y){for(var C=0,E=S;C<E.length;C++){var M=E[C],P=this.projections[M];if(P)if(g)P.activeProjectionRefs=void 0;else{var T=_.uniqBy(P.all(),function(D){return D.queryRef}),x=_.uniq(P.activeProjectionRefs),R=null==y?void 0:y[M];(R||T.length||x.length)&&(P.activeProjectionRefs=null!=R?R:x[0]?[x[0]]:[T[0].queryRef])}}g&&(this.expansionStates=[]),this._isDrillDisabled=g},d.prototype.toggleShowAll=function(S){var g=this.projections[S];g&&(g.showAll=!g.showAll)},d.prototype.hasShowAll=function(){return!_.isEmpty(this.projections)&&_.some(this.projections,function(S){return S.showAll})},d.prototype.roleContainsExpr=function(S,g){var y=this.projections[S],C=y&&y.all();if(_.isEmpty(C))return!1;for(var M=0,P=this.defn.select();M<P.length;M++)for(var T=P[M],x=0,R=C;x<R.length;x++)if(R[x].queryRef===T.name&&(0,m.fS)(g,T.expr))return!0;return!1},d.prototype.getRoleNameForExpr=function(S){var g=this.projections;for(var y in g){var C=this.tryGetExprs(y);if(C&&C.length>0)for(var E=0,M=C;E<M.length;E++)if((0,m.fS)(S,M[E]))return y;var T=g[y].getFieldParameters();if(!_.isEmpty(T))for(var x=0,R=T;x<R.length;x++)if((0,m.fS)(R[x].expr,S))return y}},d.prototype.tryGetExpr=function(S,g){var y,C=this.getRoleProjections(S);if(C)return null===(y=(0,h.SA)(this.defn,C[g]))||void 0===y?void 0:y.expr},d.prototype.tryGetExprs=function(S){var g=(0,h.XP)(this.defn,this.projections,S);if(void 0!==g)return _.map(g,function(y){return y.expr})},d.prototype.tryGetFieldExprs=function(S){return(0,h.r)(this.defn,this.projections,S)},d.prototype.getUniqueQueryRefs=function(){var S=_.values(this.projections);return _.chain(S).map(function(g){return g.getQueryRefs()}).flatten().uniq().value()},d.prototype.getUniqueQueryFields=function(){var S=this,g=_.keys(this.projections);return _.chain(g).map(function(y){return S.tryGetFieldExprs(y)}).flatten().uniqWith(d.isEqualQueryFields).value()},d.prototype.hasProjections=function(){return _.values(this.projections).some(function(g){return g.all().length>0})},d.prototype.currentDrillMode=function(S){var g=this.getRoleProjections(S);if(!_.isEmpty(g)){var y=this.projections[S];if(y){var C=y.activeProjectionRefs;if(!_.isEmpty(C)){if(C.length>1)return 2;if(C[0]!==g[0].queryRef)return 3}}}},d.prototype.addSelect=function(S,g,y){var C=this.defn;this.defn=C=C.addSelect(S,g,y);var E=C.select(),M=E.length-1;return s.fF.assert(function(){return(0,m.fS)(S,E[M].expr,!1,!0)},"Failed to find new expr in the query."),E[M].name},d.isEqualQueryFields=function(S,g){return S.isFieldParameter||g.isFieldParameter||void 0===S.queryName||void 0===g.queryName?S.isFieldParameter===g.isFieldParameter&&(0,m.fS)(S.expr,g.expr):S.queryName===g.queryName},d.prototype.updateExpansionStates=function(S,g){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,function(P){return!P.supportsMerge});var y=(0,v.D5)(this.expansionStates,S);if(y)if(_.isEmpty(this.projections[S])||_.isEmpty(this.projections[S].all()))_.remove(this.expansionStates,function(P){return P===y});else{var C=_.takeWhile(y.roles,function(P){return P!==S}),E=this.getRolesUniqueActiveProjectionsRefs(C,y.canCollapseRoot).length;g(y,E);var M=y.getVisibleDescendentsDepth(y.root,-1);this.setActiveProjections(y.roles,M)}}},d.prototype.resetHiddenState=function(S){for(var g in this.projections)this.projections[g].resetHiddenState(S)},d.prototype.removeAllProjectionsForExpr=function(S,g){var y,C=this.defn,E=C.selectNameOf(S);if(!E)return!1;_.remove(this.expansionStates,function(R){return!R.supportsMerge});var M=this.projections,P=function(D){var L=(0,v.D5)(T.expansionStates,D),F=M[D],A=F.all(),O=L&&_.takeWhile(L.roles,function(re){return re!==D}),N=O&&T.getRolesUniqueActiveProjectionsRefs(O,L&&L.canCollapseRoot).length;if(g)for(var w=T.getQueryFieldParametersByRole(D),B=0,j=_.filter(w,function(re){return(0,m.fS)(re.expr,g)});B<j.length;B++)for(var W=j[B],U=W.length-1;U>=0;U--){var k={indexInParameter:U,parameter:W},Q=F.getParameterProjectionIndex(W,U);(null===(y=A[Q])||void 0===y?void 0:y.queryRef)===E&&(F.removeProjection(k),T.updateActiveProjectionRefAndExpansionState(D,E,N,Q))}else for(Q=A.length-1;Q>=0;Q--){var te=F.convertProjectionIndexToFieldIndex(Q),ee=F.getColumnProjection(te);(null==ee?void 0:ee.queryRef)===E&&(F.removeProjection(k={fieldIndex:te}),T.updateActiveProjectionRefAndExpansionState(D,E,N,Q))}if(0!==A.length&&L){var J=L.getVisibleDescendentsDepth(L.root,-1);T.setActiveProjections(L.roles,J)}},T=this;for(var x in M)P(x);return this.isUsed(E)||(this.defn=C.removeSelect(S).removeOrderBy(S)),!0},d.prototype.updateActiveProjectionRefAndExpansionState=function(S,g,y,C){var M=this.projections[S],P=M.all(),T=(0,v.D5)(this.expansionStates,S),x=M.activeProjectionRefs;_.pull(x,g),x&&_.isEmpty(x)&&!_.isEmpty(P)&&x.push(P[Math.max(0,C-1)].queryRef),T&&T.removeLevel(y+C)},d.prototype.updateExpression=function(S,g,y,C){var E,M=this.projections[S];if(M&&(E=M.all()),!E||g>=E.length)return!1;var P=this.defn,T=E[g].queryRef,x=P.select(),R=(0,c.g2)(x,T),D=x[R].expr,L=y(D),F=P.selectNameOf(L);return F?(M.updateQueryRef(g,F),this.isUsed(T)||(this.defn=P.removeSelect(D)),!0):(this.getUsageCount(T)>1?M.updateQueryRef(g,this.addSelect(L,void 0,C)):this.defn=P.setSelectAt(R,L,C),!0)},d.prototype.isUsed=function(S){return this.getUsageCount(S)>0},d.prototype.getUsageCount=function(S){var g=0,y=this.projections;for(var C in y){var E=y[C].all();g+=_.filter(E,function(M){return M.queryRef===S}).length}return g},d.prototype.getRoleProjections=function(S){s.fF.assertValue(S,"roleName");var g=(0,b.cY)(this.projections,S);if(g)return g.all()},d.prototype.addNewQueryRefToActiveProjectionRefsIfNeeded=function(S,g,y){var C=this.getRoleProjections(S),E=this.projections[S].activeProjectionRefs;E&&(E.length>1&&y<E.length?E.splice(y,0,g):1===E.length&&0===y&&C.length>1&&C[1].queryRef===E[0]&&E.splice(0,1,g))},d.prototype.getRolesProjectionRefs=function(S){for(var g=[],y=0,C=S;y<C.length;y++){var M=this.projections[C[y]];if(M){var P=_.map(M.all(),function(T){return T.queryRef});g.push.apply(g,P||[])}}return g},d.prototype.getRolesUniqueProjectionRefs=function(S){return _.uniq(this.getRolesProjectionRefs(S))},d.prototype.getQueryFieldParametersByRole=function(S){if(!_.isEmpty(this.projections)){var g=this.projections[S];return g?g.getFieldParameters():[]}},d.prototype.getParameterProjectionExprs=function(S){var g=this,y=[],C=this.projections;for(var E in C)for(var M=C[E],T=0,x=M.findParameterBySQExpr(S);T<x.length;T++){var R=x[T],L=M.getParameterProjections(R).map(function(A){return g.defn.select().withName(A.queryRef).expr});y.push({exprs:L,parameter:R})}return y},d.prototype.getVisualCalcExpressions=function(){return this.defn.select().filter(function(S){return(0,u.jX)(S.expr)})},d.prototype.getQueryFieldParameters=function(){if(_.isEmpty(this.projections))return[];var S=[];for(var g in this.projections){var y=this.projections[g];y&&S.push.apply(S,y.getFieldParameters())}return S},d.prototype.hasQueryFieldParameters=function(){return!_.isEmpty(this.getQueryFieldParameters())},d.prototype.hasVisualCalcExpressions=function(){return this.defn.select().some(function(S){return(0,u.jX)(S.expr)})},d.prototype.hasSparklineExpressions=function(){return this.defn.select().some(function(S){return(0,u.tO)(S.expr)})},d.prototype.hasHiddenProjections=function(){for(var S in this.projections){var g=this.getRoleProjections(S);if(_.some(g,function(y){return y.hidden}))return!0}return!1},d.prototype.resetExpansionStates=function(){this.expansionStates=[]},d.prototype.getRolesActiveProjectionsRefs=function(S,g,y){var C=this;void 0===y&&(y=!1);for(var E=[],M=g||_.some(S,function(F){return C.projections[F]&&!_.isEmpty(C.projections[F].activeProjectionRefs)}),P=function(A){var O=T.projections[A];if(!O)return"continue";var N=M?O.activeProjectionRefs:O.getQueryRefs();if(!N)return"continue";if(y){var w=_.map(O.projected(),function(j){return j.queryRef}),I=_.filter(N,function(j){return w.includes(j)});E.push.apply(E,I)}else E.push.apply(E,N);var B=O.all();return B.length!==N.length&&_.uniqBy(B,function(j){return j.queryRef}).length!==_.uniq(N).length?"break":void 0},T=this,x=0,R=S;x<R.length&&"break"!==P(R[x]);x++);return E},d.prototype.getRolesUniqueActiveProjectionsRefs=function(S,g){return _.uniq(this.getRolesActiveProjectionsRefs(S,g))},d.areEqualIgnoringAggregate=function(S,g,y){return(0,m.fS)((0,a.n)(S,y),(0,a.n)(g,y))},d.prototype.setActiveProjections=function(S,g){if(s.fF.assertNonEmpty(S,"roles"),!this._isDrillDisabled){var y=this.projections;s.fF.assertValue(y,"projections");var C=(0,v.Vt)(this.expansionStates,S);C&&C.pinLevels(g);for(var E=0,M=S;E<M.length;E++){var P=M[E];if(g>0){var T=y[P]&&y[P].all();s.fF.assertValue(T,"roleProjections");var D,x=_.uniqBy(T,function(L){return L.queryRef});D=g>=x.length?x:_.take(x,g),y[P].activeProjectionRefs=_.map(D,function(L){return L.queryRef}),g-=D.length}else y[P]&&(y[P].activeProjectionRefs=[])}}},d.prototype.areAllProjectionsHidden=function(){for(var S in this.projections){var g=this.getRoleProjections(S);if(_.some(g,function(y){return!y.hidden}))return!1}return!0},d}()},890803:function(Je,H,t){function e(c){switch(c){case 0:return"Default";case 1:return"DataFilter";case 2:return"HighlightFilter";case 3:return"NoFilter"}}t.d(H,{B:function(){return e}})},202342:function(Je,H,t){t.d(H,{Hg:function(){return h}});var e=t(883863),c=t(520907);function s(p,n){var l=function(p,n){for(var l=[],r=[],o=p.visualContainers.slice(),a=0,i=n.visualContainers;a<i.length;a++){var m=i[a];if(void 0===m.id)l.push(m);else{var u=(0,e.Jq)(o,m.id);if(u){var V=o.indexOf(u);o.splice(V,1),(0,c.fS)(u,m)||r.push(m)}else l.push(m)}}return{added:l,updated:r,removed:o}}(p,n);return{added:l.added,updated:l.updated,removed:l.removed,page:n,originalPage:p}}function h(p,n){var l=function(p,n){for(var l=[],r=[],o=p.slice(),a=0,i=n.length;a<i;a++){var m=n[a];if(void 0===m.id)l.push(m);else{var u=(0,e.Jq)(o,m.id);if(u){var V=o.indexOf(u);o.splice(V,1);var d=s(u,m);r.push(d)}else l.push(m)}}return{added:l,updated:r,removed:o}}(p.sections,n.sections),r=function(p,n){for(var l=[],r=[],o=n||[],a=p?p.slice():[],i=0,m=o;i<m.length;i++){var u=m[i];if(void 0===u.id)l.push(u);else{var V=u.id,d=_.findIndex(a,function(S){return S.id===V});d>=0?(r.push({updatedPod:u,originalPod:a[d]}),a.splice(d,1)):l.push(u)}}return{added:l,removed:a,updated:r}}(p.pods,n.pods);return{pages:l,pods:r}}},442408:function(Je,H,t){t.d(H,{G:function(){return e}});var e={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},792253:function(Je,H,t){t.d(H,{NO:function(){return p},R$:function(){return h},RT:function(){return v},Wp:function(){return f},oZ:function(){return b},ox:function(){return c},yM:function(){return s}});var e=t(787941),c=-1,s=0,f=-1e7,v=1e7,b=1e3,h=5;function p(){return new n}var n=function(){function l(){}return l.prototype.getContainerListOrders=function(r,o){for(var a={},i=0,m=r;i<m.length;i++){var u=m[i];a[u.name]=o(u)}return a},l.prototype.getSortedContainerNames=function(r,o){var a=o?"asc":"desc";return _.chain(r).keys().orderBy(function(i){return r[i]},a).value()},l.prototype.settingListOrder=function(r,o,a,i){for(var m=0,u=o;m<u.length;m++)r[u[m]]=a,a+=i;return a},l.prototype.checkIfExtremitiesSurpassed=function(r,o,a){var i,m,u,V;return a?(i=s,m=v,u=o[_.head(r)]<i,V=o[_.last(r)]>m):(i=c,m=f,u=o[_.head(r)]>i,V=o[_.last(r)]<m),!(!u&&!V)},l.prototype.shouldNormalizeListOrder=function(r,o){var a=this.getSortedContainerNames(r,o);if(this.checkIfExtremitiesSurpassed(a,r,o)||_.some(r,function(y){return void 0===y}))return!0;for(var i,m=0,u=a;m<u.length;m++){var d=r[u[m]];if(null!=i){var S=d>=0==i>=0;if(Math.abs(d-i)<h&&S)return!0}i=d}return!1},l.prototype.normalizeListOrder=function(r,o){var a=this.getSortedContainerNames(r,o),i=o?v-s:f-c,m=o?Math.min(i/a.length,b):Math.max(i/a.length,-b);e.fF.assert(function(){return Math.abs(m)>=h},"Too many visuals to normalize list orders");var u=o?s:c,V={};return u=this.settingListOrder(V,a,u,m),V},l}()},818614:function(Je,H,t){t.d(H,{i:function(){return o}});var e=t(456535),c=t(474147),s=t(787941),f=t(725182),v=t(145315),b=t(168099),h=t(571330),p=t(35801),n=t(809395),l=t(1745),r=t(600348);function o(i,m,u,V){return new a(i,m,u,V)}var a=function(){function i(m,u,V,d){this.eventBridge=m,this.visualPlugin=u,this.visualPluginOps=V,this.runningVisualService=d}return i.prototype.getSupportedDrillDirections=function(m,u){var V,d=this.getProjections(m);if(!d)return 0;var S=m.config.singleVisual,g=this.visualPlugin.capabilities(S.visualType);if(!g||g.drilldown&&g.drilldown.suppresDrillOperations)return 0;for(var y=(0,h.WO)(g,!(null===(V=S.query)||void 0===V||!V.isDrillDisabled)),E=0,M=0,P=u?y.filter(function(F){return F===u}):y;M<P.length;M++){var T=P[M],x=d[T];if(x&&x.activeProjectionRefs){var R=x.all();if(1===R.length)continue;var D=x.activeProjectionRefs,L=this.findActiveProjectionIndexInQueryCollection(R,D);!_.isEmpty(D)&&L+D.length!==R.length&&(this.canDrillDownLevel(m,2,T)&&(E|=2),this.canDrillDownLevel(m,3,T)&&(E|=4)),!_.isEmpty(x.activeProjectionRefs)&&(0!==L||D.length>1)&&(E|=1)}}return E},i.prototype.setDrillMode=function(m,u){m&&m.drillMode!==u&&(m.drillMode=u,this.raiseDrillModeChanged(m,u))},i.prototype.canSeeData=function(m){if(!(m&&m.config&&m.config.singleVisual&&m.config.singleVisual.query))return!1;var u=(0,p.s)(m),V=this.runningVisualService.getVisual(m);return!(V&&V.getErrorInfo())&&b.j.supportsVisualDetails(u,this.visualPlugin,this.visualPluginOps)},i.prototype.canDrillToDetails=function(m,u){if(!m)return!1;var V=(0,n.Xf)(m);if(!V)return!1;var d=(0,p.s)(m);if(d===r.D.lineChart||d===r.D.areaChart||d===r.D.stackedAreaChart)return!1;var S=(0,n.cj)(m,this.visualPlugin);if(!S||!1===S.supportsSelection)return!1;var g=_((0,n.oJ)(m)).filter(function(L){return(0,e.iV)(L.expr)}).map(function(L){return L.name}).value();if(_.isEmpty(g)||!_.isEmpty(u)&&!_.includes(g,_.head(_.head(u).metadata)))return!1;var y=S.dataRoles;if(_.isEmpty(y))return!1;for(var E=0,M=0,P=_(y).filter(function(L){return L.kind===v.DW.Measure&&0!==L.joinPredicate}).map(function(L){return L.name}).value();M<P.length;M++){var x=V.projections[P[M]];if(!_.isEmpty(x)){if(++E>1)return!1;var R=x.all();if(_.some(R,function(L){return!_.includes(g,L.queryRef)}))return!1}}return 0!==E},i.prototype.canDrillByDirection=function(m,u,V){if(!m)return!1;var d=this.runningVisualService.getVisual(m);if(d&&d.getErrorInfo())return!1;var g=this.getSupportedDrillDirections(m,V);return!!g&&(0,f.yE)(g,u)},i.prototype.canDrillthrough=function(m){return!!m},i.prototype.isDrillModeEnabled=function(m,u){return!!m&&m.drillMode===u},i.prototype.drillToLastLevel=function(m){var u;if(null!=m&&null!=m.config.singleVisual.query){var V=m.config.singleVisual,d=this.visualPlugin.capabilities(V.visualType),S=(0,h.WO)(d,!(null===(u=V.query)||void 0===u||!u.isDrillDisabled));if(!_.isEmpty(S))for(var g=function(P){if(P){var T=V.query.projections[P];if(null!=T){var x=T.getLastActiveQueryReference();if(null!=x){var R=T.getQueryRefs(),D=R.indexOf(x);s.fF.assert(function(){return-1!==D},"last active query ref must be valid in projection");for(var L=D+1;L<R.length;L++)T.addActiveQueryReference(R[L])}}}},y=0,C=S;y<C.length;y++)g(C[y])}},i.prototype.canDrillDownLevel=function(m,u,V){var d;s.fF.assert(function(){return 1!==u},"Incompatible drill direction");var S=(0,n.Xf)(m);if(!S)return!1;var g=(0,n.cj)(m,this.visualPlugin);if(!g||g.drilldown&&g.drilldown.suppresDrillOperations||!V)return!1;var y=S.projections[V],C=y.getLastActiveQueryReference();if(!C)return!1;for(var E=_.findIndex(y.all(),function(x){return x.queryRef===C}),M=function(R){var D=y.all()[R],L=null===(d=S.defn.select().withName(D.queryRef))||void 0===d?void 0:d.expr;if(s.fF.assert(function(){return!!L},"Projection is not in the select"),L&&0===_.filter(m.filters,function(F){return s.fF.assertValue(F,"canDrillDownLevel: visualContainer with name ".concat(m.name," contains blank value in .filters")),null!=F&&2===F.howCreated&&(0,c.fS)(L,F.expression)}).length)return{value:S.currentDrillMode(V)===u}},P=0;P<E;P++){var T=M(P);if("object"==typeof T)return T.value}return 3!==u||!_.find(S.expansionStates,function(x){return _.find(x.roles,function(R){return R===V})&&x.isStateModified()})},i.prototype.getProjections=function(m){return m&&m.config&&m.config.singleVisual&&m.config.singleVisual.query&&m.config.singleVisual.query.projections},i.prototype.findActiveProjectionIndexInQueryCollection=function(m,u){if(!_.isEmpty(u))for(var V=0;V<m.length;V++){for(var d=V,S=0;S<u.length&&d<m.length&&u[S]===m[d].queryRef;)S++,d++;if(S===u.length)return V}return-1},i.prototype.raiseDrillModeChanged=function(m,u){s.fF.assertValue(m,"visualContainer"),s.fF.assertValue(u,"drillMode"),this.eventBridge.publishToChannel(l.tbw,{visualContainer:m})},i}()},1745:function(Je,H,t){t.d(H,{$$f:function(){return lr},$4A:function(){return Nr},$Bd:function(){return C},$cv:function(){return N},AGj:function(){return Se},AJY:function(){return Re},AKi:function(){return I},Ah$:function(){return te},Ak9:function(){return Vr},AuF:function(){return tt},BmV:function(){return Fr},C98:function(){return jt},CCe:function(){return g},CVC:function(){return vr},Cvt:function(){return ze},D1A:function(){return Te},DRd:function(){return Ur},DSN:function(){return oe},Diu:function(){return wr},EBW:function(){return Z},EHv:function(){return K},F$x:function(){return zr},FRm:function(){return a},GQv:function(){return Zr},Gru:function(){return be},Gtn:function(){return nt},H8N:function(){return Le},HGU:function(){return je},HOc:function(){return ae},ICs:function(){return X},IQ6:function(){return d},IVK:function(){return mt},JAC:function(){return fr},JEb:function(){return Sr},JOk:function(){return me},JXP:function(){return ye},K7E:function(){return Pr},KCT:function(){return Xr},KD7:function(){return M},KcO:function(){return pt},LE3:function(){return s},Lx_:function(){return xt},MEZ:function(){return Be},Mp3:function(){return Xe},NPq:function(){return Ye},OKC:function(){return at},OOb:function(){return it},OPn:function(){return xe},Of1:function(){return Qe},Oij:function(){return r},Orc:function(){return Wt},P6l:function(){return At},PNq:function(){return R},PbX:function(){return vt},Pkb:function(){return Ne},QvS:function(){return ue},R4M:function(){return ie},RVE:function(){return G},RVt:function(){return O},RW6:function(){return Y},Rif:function(){return L},SVs:function(){return f},TN0:function(){return gt},TTT:function(){return ut},TWs:function(){return we},Td8:function(){return Ve},TrJ:function(){return Nt},Tuj:function(){return l},Tyr:function(){return $e},U8y:function(){return y},UAI:function(){return p},UBn:function(){return e},UKs:function(){return It},UMW:function(){return B},UbK:function(){return ar},Udu:function(){return Pe},Un:function(){return _t},UoE:function(){return Rt},UpY:function(){return S},UqZ:function(){return Yr},V0C:function(){return Ft},Vrk:function(){return Mt},VuV:function(){return i},WJC:function(){return h},WR7:function(){return D},Woo:function(){return bt},Wqo:function(){return se},Wu9:function(){return Ce},YUD:function(){return ve},YXt:function(){return Fe},_$U:function(){return Ee},aco:function(){return V},acr:function(){return Et},add:function(){return nr},aoT:function(){return ct},bE6:function(){return o},bSZ:function(){return dr},bnO:function(){return Dt},cY_:function(){return _r},cyb:function(){return ce},d8V:function(){return n},doP:function(){return x},eDj:function(){return mr},eE4:function(){return Lr},f8w:function(){return yr},gG5:function(){return Ht},gsN:function(){return $t},gsv:function(){return Zt},ieg:function(){return Ge},ilH:function(){return le},j3G:function(){return dt},jCS:function(){return ee},jsX:function(){return De},lio:function(){return U},m3l:function(){return He},mB3:function(){return Xt},mIo:function(){return ke},mSO:function(){return re},miB:function(){return Mr},mke:function(){return m},msw:function(){return Cr},nY5:function(){return Hr},oRp:function(){return v},ooc:function(){return b},ow8:function(){return A},pSw:function(){return qe},qHu:function(){return rt},qTM:function(){return P},qTk:function(){return pe},qwl:function(){return J},r8B:function(){return rr},rlN:function(){return sr},rvf:function(){return gr},sEi:function(){return Ue},sPA:function(){return Or},t4l:function(){return F},tRg:function(){return E},tYc:function(){return ne},tbw:function(){return w},uB4:function(){return de},uL6:function(){return ft},ubE:function(){return lt},uff:function(){return ir},up$:function(){return Ze},urK:function(){return Ae},v3I:function(){return Ar},vBx:function(){return Qr},wAN:function(){return k},wCO:function(){return Ut},wW:function(){return c},weO:function(){return Gt},wiL:function(){return ot},wrl:function(){return kt},x1m:function(){return ei},x4H:function(){return pr},y5h:function(){return he},yVh:function(){return fe},yhh:function(){return Tt},z99:function(){return T},zYm:function(){return Q},zdm:function(){return We},zgs:function(){return Oe}});var e=function(Wr){return Wr[Wr.Unknown=0]="Unknown",Wr[Wr.Swipe=1]="Swipe",Wr}({}),c={type:4,name:"modelChangeApplyingUpdate"},s={type:1,name:"explorationLoaded"},f={type:1,name:"explorationUnloaded"},v={type:3,name:"explorationContainerReady"},b={type:1,name:"explorationSlowDataSourceSettingsLoaded"},h={type:1,name:"explorationSettingsLoaded"},p={type:1,name:"updateNavButtonEvent"},n={type:2,name:"userActionTriggered"},l={type:2,name:"filterContainerChanged"},r={type:1,name:"applyAllBufferedFilterCardChange"},o={type:1,name:"applyAllClicked"},a={type:1,name:"applyAllSlicersClicked"},i={type:1,name:"explorationFiltersContainerChanged"},m={type:1,name:"sectionFiltersContainerChanged"},V={type:1,name:"formFactorChanged"},d={type:1,name:"canvasLayoutChanged"},S={type:0,name:"modelChanging"},g={type:0,name:"modelChanged"},y={type:2,name:"visualRelationshipsModeChanged"},C={type:0,name:"schemaItemActivationChanged"},E={type:2,name:"selectionChanged"},M={type:2,name:"visualTypeChanged"},P={type:2,name:"visualLinkButtonClicked"},T={type:2,name:"dataPointsSelected"},x={type:2,name:"dataHyperlinkClicked"},R={type:2,name:"visualClicked"},D={type:1,name:"undoRedoStackUpdated"},L={type:1,name:"undoRedoStackCleared"},F={type:1,name:"onReportChanged"},A={type:4,name:"onReportChanged"},O={type:1,name:"clipboardDataUpdated"},N={type:2,name:"dataSelectionChanged"},w={type:2,name:"drillModeChanged"},I={type:2,name:"refreshExploration"},B={type:2,name:"clearAnnotations"},U={type:1,name:"sectionLayoutRemoved"},k={type:1,name:"canvasChanged"},Q={type:2,name:"visualContainerParentActivityLinkingDone"},te={type:2,name:"fieldWellFieldRemoved"},ee={type:2,name:"visualContainerChanged"},J={type:2,name:"fieldParametersApplied"},re={type:2,name:"visualContainerAdded"},G={type:2,name:"cancelVisualQuery"},ne={type:2,name:"triggerDataRefresh"},X={type:2,name:"visualContainerGroupChanged"},oe={type:2,name:"visualContainerGroupRendered"},Ve={type:2,name:"visualContainerDataRenderingStarted"},Te={type:2,name:"visualContainerDataRendered"},Qe={type:2,name:"canvasItemContainerPositionChanged"},He={type:2,name:"visualContainerLoadingStarted"},Ce={type:2,name:"visualContainerLoadingStopped"},de={type:2,name:"visualContainerQueryExecutionEnded"},pe={type:2,name:"updateVisualMatrix"},le={type:2,name:"visualConversion"},me={type:3,name:"focusExplorationEvent"},be={type:4,name:"explorationInitializeEvent"},Be={type:2,name:"focusVisualContainerEvent"},Se={type:2,name:"canvasSizeChanged"},Pe={type:2,name:"visualPluginsChanged"},ue={type:2,name:"addCustomVisual"},ve={type:2,name:"deleteCustomVisual"},xe={type:0,name:"modelingContextChanged"},ie={type:2,name:"changeViewMode"},Fe={type:2,name:"requestViewModeChange"},at={type:2,name:"editModeChanged"},We={type:2,name:"getClusters"},Oe={type:2,name:"toggleSortVisualContainer"},Ze={type:2,name:"toggleSortDirectionVisualContainer"},Ee={type:1,name:"saveEventViaCtrlS"},K={type:1,name:"highContrastModeChanged"},Ne={type:1,name:"canvasDisplayChanged"},Y={type:1,name:"canvasZoomChanged"},ye={type:1,name:"canvasZoomScaleUpdated"},rt={type:1,name:"canvasDimensionChanged"},it={type:3,name:"explorationObjectsLoaded"},Ue={type:3,name:"explorationObjectsChanged"},De={type:1,name:"sectionObjectsEvaluated"},Le={type:1,name:"sectionObjectsChanged"},Xe={type:3,name:"showDataSourceVariablesDialog"},he={type:2,name:"visibilityChanged"},ce={type:2,name:"canvasItemHiddenChanged"},Re={type:1,name:"align"},Ge={type:1,name:"deleteSectionInitiated"},ut={type:1,name:"sectionNameChanged"},je={type:1,name:"sectionDeleted"},ae={type:1,name:"renameSection"},fe={type:1,name:"sectionChanged"},we={type:1,name:"podParameterChanged"},ze={type:2,name:"missingTableRelationship"},$e={type:1,name:"addVisualContainer"},ot={type:3,name:"addCustomVisualToCanvas"},_t={type:2,name:"deleteVisualContainer"},ke={type:1,name:"addInsightContainer"},dt={type:1,name:"addQnaContainer"},Tt={type:1,name:"showQnaPopoutEventArgs"},Wt={name:"canvasPinched",type:1},Zt={type:1,name:"arrangeVisualsOrder"},ar={type:1,name:"createBasicShape"},sr={type:1,name:"createShape"},gr={type:1,name:"createActionButton"},mr={type:1,name:"createPageNavigator"},Sr={type:1,name:"createTextbox"},Mr={type:1,name:"importVisual"},Gt={type:1,name:"installVisual"},rr={type:1,name:"downloadVisual"},Fr={type:2,name:"newQueryCacheResultAvailable"},wr={type:2,name:"exportVisualData"},Vr={type:1,name:"exportVisualDataFromPane"},Ar={type:2,name:"addCommentVisual"},vr={type:2,name:"shareToTeamsVisual"},Qr={type:1,name:"createSection"},zr={type:1,name:"deleteSection"},Or={type:1,name:"duplicateSection"},ei={type:1,name:"insertSection"},Xr={type:1,name:"reorderSection"},Nr={type:1,name:"switchSection"},Yr={type:3,name:"explorationNextPage"},Hr={type:3,name:"explorationPreviousPage"},Zr={type:3,name:"startExplorationContainerLoading"},ft={type:3,name:"stopExplorationContainerLoading"},xt={type:2,name:"showEnableScriptVisualsDialog"},lt={type:1,name:"canvasResized"},nt={type:4,name:"openReportFinished"},mt={type:4,name:"openReportLoadingScreenHidden"},gt={type:4,name:"visualQueryThrottled"},At={type:4,name:"datasetNotFound"},kt={type:4,name:"ShowVisuals"},Ht={type:1,name:"bookmarkApplied"},nr={type:1,name:"exploreCanvasVisualRendered"},lr={type:2,name:"ReportVisualError"},dr={type:4,name:"ReportVisualError"},fr={type:3,name:"visualThumbnailDoubleClicked"},Pr={type:2,name:"removeVisualContainerFromLayout"},yr={type:1,name:"pauseQueriesChanged"},Mt={type:2,name:"deleteCustomVisuals"},pt={type:4,name:"resetPersistentUserState"},se={type:1,name:"resetUserStateKeyPressedEvent"},Z={type:4,name:"resetUserStateEvent"},Ye={type:3,name:"reloadPersistenState"},vt={type:1,name:"togglePaneVisibility"},Ft={type:2,name:"visualDrillFilterOtherVisualsSettingChanged"},ir={type:0,name:"emulationChanged"},Cr={type:3,name:"showOtherBookmarks"},Et={type:2,name:"parentExpandCollapseAction"},qe={type:3,name:"bookmarkViewStateChanged"},Nt={type:0,name:"exportDataEnded"},jt={type:2,name:"visualContainerControllerLinked"},Xt={type:4,name:"insightsInFocusPaneClose"},Ae={type:4,name:"insightSelected"},tt={type:4,name:"getRelatedInsights"},ct={type:4,name:"viewInsightInFocus"},bt={type:0,name:"autoPageRefreshTriggered"},Dt={type:2,name:"drillthroughActionTriggered"},Rt={type:4,name:"anchorTimeUpdated"},It={type:4,name:"visualCancelLoadEvent"},Ut={type:2,name:"shareVisual"},$t={type:2,name:"shareVisualToPPT"},pr={type:2,name:"findAnomalies"},_r={type:2,name:"forecast"},Ur={type:2,name:"toggleDataTable"};function Lr(Wr,Br){return Wr.visualContainer===Br}},382964:function(Je,H,t){t.d(H,{A:function(){return h}});var e=t(489470),c=t(787941),s=t(353705),f=t(989516),v=t(35801),b=t(809395);function h(n,l){return c.fF.assertValue(n,"visualPlugin"),c.fF.assertValue(l,"featureSwitch"),new p(n)}var p=function(){function n(l){this.visualPlugin=l}return n.prototype.getExpandCollapseRoles=function(l){(0,e.wS)(l,"visual should have a value");var r=this.visualPlugin.capabilities((0,v.s)(l));if(r&&r.expandCollapse&&!_.isEmpty(r.expandCollapse.roles)){var o=(0,b.Xf)(l);if(null==o||!o.isDrillDisabled)return r.expandCollapse.roles}},n.prototype.isSupported=function(l,r,o){if(!r||!l||!l.supportsInstanceFilters)return!1;var a=(0,b.Xf)(r);return!(!a||!_.isEmpty(o)&&_.some(o,function(i){return 3===a.currentDrillMode(i)})||a.isDrillDisabled)},n.prototype.isEnabled=function(l,r){if((0,e.wS)(l,"visual should have a value"),_.isEmpty(r))return!1;var o=this.getExpandCollapseRoles(l);return!(_.isEmpty(o)||_.some(r,function(a){return-1===_.indexOf(o,a)}))},n.prototype.getMaximumExpansionDepth=function(l,r){if(this.isEnabled(l,r)){var o=(0,b.Xf)(l);if(o){var a=o.getRolesProjectionRefs(r);return c.fF.assertValue(a,"getRolesProjectionRefs should have returned an array"),a.length}}},n.prototype.getAllowedActions=function(l,r,o){var a=(0,b.Xf)(l);if(a&&this.isEnabled(l,r)&&!_.isEmpty(o)&&1===o.length){var i=o[0];if(i&&i.dataMap&&!_.isEmpty(i.dataMap)){var m=(0,f.CT)((0,f.tV)(i));if(!_.isEmpty(m)){var u=a.getRolesUniqueProjectionRefs(r),V=a.getRolesUniqueActiveProjectionsRefs(r,this.canCollapseRoot(l)),d=V.length===u.length,S=_.some(r,function(T){return 3===a.currentDrillMode(T)});if(1===u.length||S)return{};var g=this.getSelectorRefs(i);if(!_.some(g,function(T){return!_.includes(V,T)})){var y=m.length,C=y===u.length,E=y===V.length,M=(0,s.Vt)(a.expansionStates,r);if(M){var P=M.getNodeLevelState(m,M.root,0);return c.fF.assertValue(P,"getNodeLevelState returned undefined"),{expandNode:!C&&!!P.isNodeCollapsed,collapseNode:!E&&!P.isNodeCollapsed,expandLevel:!C&&(P.levelHasToggledNodes||!!P.isNodeCollapsed),collapseLevel:!E&&(P.levelHasToggledNodes||!P.isNodeCollapsed),expandHierarchy:!d||!M.isHierarchyExpanded(),collapseHierarchy:!M.isWholeLevelCollapsed(0)}}return{expandNode:!C&&E,collapseNode:!E,expandLevel:!C&&E,collapseLevel:!E,expandHierarchy:!d,collapseHierarchy:V.length>1}}}}}},n.prototype.getSelectorRefs=function(l){if(!l||!l.dataMap||_.isEmpty(l.dataMap))return[];var r=[];for(var o in l.dataMap)r.push(o);return r},n.prototype.expandNode=function(l,r,o){var a=this,i=this.setNodeState(l,r,o,!1);if(i){var m=this.ensureExpansionState(l,r),u=this.getSelectorRefs(o);c.fF.assert(function(){return a.canCollapseRoot(l)||!_.isEmpty(u)},"selectorRefs must not be empty when root node cannot be collapsed");var d=m.getVisibleDescendentsDepth(i,u.length-1),S=(0,b.Xf)(l);S&&d>S.getRolesUniqueActiveProjectionsRefs(r,this.canCollapseRoot(l)).length&&this.setActiveProjections(l,r,d)}},n.prototype.collapseNode=function(l,r,o){this.setNodeState(l,r,o,!0);var a=this.ensureExpansionState(l,r),i=a.getVisibleDescendentsDepth(a.root,-1);this.setActiveProjections(l,r,i)},n.prototype.expandLevel=function(l,r,o,a){void 0===a&&(a=!1);var i=this.ensureExpansionState(l,r);this.setLevelState(l,r,o,!1,a);var m=i.getVisibleDescendentsDepth(i.root,-1);this.setActiveProjections(l,r,m)},n.prototype.collapseLevel=function(l,r,o,a){void 0===a&&(a=!1),this.setLevelState(l,r,o,!0,a),this.setActiveProjections(l,r,o+1)},n.prototype.expandAll=function(l,r){this.setAllLevelsState(l,r,!1);var o=this.ensureExpansionState(l,r);this.setActiveProjections(l,r,o.levels.length)},n.prototype.collapseAll=function(l,r){this.setAllLevelsState(l,r,!0),this.setActiveProjections(l,r,this.canCollapseRoot(l)?0:1)},n.prototype.pinLevels=function(l,r,o){this.ensureExpansionState(l,r).pinLevels(o)},n.prototype.unpinLevels=function(l,r,o){this.ensureExpansionState(l,r).unpinLevels(o)},n.prototype.lockLevels=function(l,r,o){this.ensureExpansionState(l,r).lockLevels(o)},n.prototype.unlockLevels=function(l,r,o){this.ensureExpansionState(l,r).unlockLevels(o)},n.prototype.setAILevelInformation=function(l,r,o,a,i){var m=this.ensureExpansionState(l,r);c.fF.assert(function(){return _.isEqual(m.levels[o].queryRefs,a)},"Level at index ".concat(o," does not match expected query refs")),m.setAILevelInformation(o,i)},n.prototype.getAILevelInformation=function(l,r,o){var a=(0,b.Xf)(l);return(0,s.DX)(a.expansionStates,r,o)},n.prototype.clearAILevelsInformation=function(l,r){for(var o=this.ensureExpansionState(l,r),a=0;a<_.size(o.levels);a++)o.setAILevelInformation(a,void 0)},n.prototype.setNodeState=function(l,r,o,a){var i=this.ensureExpansionState(l,r);c.fF.assertValue(i,"expansionState"),c.fF.assertValue(o,"selector");var m=this.getSelectorRefs(o);if(!_.isEmpty(m)||this.canCollapseRoot(l))return c.fF.assert(function(){return m.length<=i.levels.length},"attempt to expand a node from an inactive level"),i.setNodeState((0,f.tV)(o),a);c.fF.assertFail("Collapse to root capability is not enabled")},n.prototype.setLevelState=function(l,r,o,a,i){var m=this.ensureExpansionState(l,r);if(c.fF.assertValue(m,"expansionState"),c.fF.assertNonEmpty(m.levels,"expansionState.levels"),i)for(var u=0;u<o;u++)c.fF.assertValue(m.levels[u],"expandCollapseService.setLevelState - level for index ".concat(u," doesn't exist")),m.setLevelState(u,!1);m.setLevelState(o,a)},n.prototype.setAllLevelsState=function(l,r,o){var a=this.ensureExpansionState(l,r);c.fF.assertValue(a,"expansionState"),c.fF.assertNonEmpty(a.levels,"expansionState.levels"),this.canCollapseRoot(l)&&a.setLevelState(-1,o);for(var i=a.levels,m=0;m<i.length-1;m++)a.setLevelState(m,o)},n.prototype.ensureExpansionState=function(l,r){var o=this;c.fF.assertValue(l,"VisualContainer"),c.fF.assert(function(){return o.isEnabled(l,r)},"Expand/Collapse is not enabled");var a=(0,b.Xf)(l);c.fF.assertValue(a,"VisualQuery");var i=this.visualPlugin.capabilities((0,v.s)(l)),m=i&&i.expandCollapse&&i.expandCollapse.supportsMerge,u=i&&i.expandCollapse&&i.expandCollapse.collapseParentAfterRemovingChildLevel,V=this.canCollapseRoot(l),d=a.ensureExpansionState(r,{supportsMerge:m,canCollapseRoot:V,collapseParentAfterRemovingChildLevel:u});return c.fF.assertValue(d,"expansionState"),c.fF.assertNonEmpty(d.levels,"expansionState.levels"),d},n.prototype.canCollapseRoot=function(l){var r=this.visualPlugin.capabilities((0,v.s)(l));return!(!r||!r.noDefaultProjections)},n.prototype.setActiveProjections=function(l,r,o){c.fF.assertValue(l,"visualContainer"),c.fF.assertNonEmpty(r,"roles"),this.canCollapseRoot(l)||c.fF.assert(function(){return o>0},"totalUniqueActiveProjectionsCount");var a=(0,b.Xf)(l);c.fF.assertValue(a,"query"),a.setActiveProjections(r,o)},n}()},703357:function(Je,H,t){t.d(H,{F:function(){return v}});var e=t(787941),c=t(658353),s=t(969072),f=t(1745);function v(p,n,l,r,o,a,i,m){return new b(p,n,l,r,o,a,i,m)}var b=function(){function p(n,l,r,o,a,i,m,u){this.state=n,this.navigation=l,this.eventBridge=r,this.visibility=o,this.filterGenerator=a,this.explorationActivity=i,this.telemetryService=m,this.runningVisualService=u,e.fF.assertValue(n,"state"),e.fF.assertValue(l,"navigation"),e.fF.assertValue(r,"eventBridge"),e.fF.assertValue(o,"visibility")}return p.prototype.exploration=function(){return this.navigation.getCurrentExploration()},p.prototype.capture=function(n,l){var r=this.exploration();if(r)return this.state.capture(r,n,l)},p.prototype.apply=function(n,l,r,o){var a=this.exploration(),i=this.state.apply(n,a,l,r);return this.applyImpact(i,a,r,o),i},p.prototype.captureFilterState=function(n){return this.state.captureFilterState(n)},p.prototype.applyFilterState=function(n,l){var r=this;if(!_.isEmpty(n)){var o=this.state.applyFilterState(n,l);this.explorationActivity.doActivity(function(a){r.eventBridge.publishToChannel(f.jCS,{affectContainer:function(m){return _.includes(o.visualContainers,m)},parentActivity:a})},function(a){return r.telemetryService.startChildActivity(a&&a.event,c.bt)})}},p.prototype.applyImpact=function(n,l,r,o){var a=this;e.fF.assertValue(l,"exploration"),e.fF.assertValue(r,"applyStateOption"),o&&o.setProperty("options",function(p){var n,l,r;return!0===p.suppressDisplay||!1===p.suppressDisplay||null==p.suppressDisplay?n=l=!0===p.suppressDisplay:(n=p.suppressDisplay.outspacePane,l=p.suppressDisplay.visuals),p.defaultPresentationState&&(r=_.mapValues(p.defaultPresentationState,function(o){return _.mapValues(o,function(a){return{visualType:a.visualType,autoSelectVisualType:a.autoSelectVisualType,projections:_.map(_.filter(_.map(a.projections,function(i,m){return{exprs:i,role:m}}),function(i){return!_.isEmpty(i.exprs)}),function(i){return i.role})}})})),{applyPresentationChanges:p.applyPresentationChanges,clearQueryCaches:p.clearQueryCaches,clearUnmatchedData:p.clearUnmatchedData,defaultPresentationState:r,stopDataQueries:p.stopDataQueries,suppressActiveSection:p.suppressActiveSection,suppressDataSourceVariables:p.suppressDataSourceVariables,suppressData:p.suppressData,suppressOutspacePaneDisplayOptions:n,suppressUnmatchedClearHidden:p.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:l,targetVisualNames:p.targetVisualNames}}(r)),this.explorationActivity.doActivity(function(i){var m=n.dataSourceVariables,u=[];if(m&&e.fF.assert(function(){return!r.suppressDataSourceVariables},"suppressDataSourceVariables"),n.objects&&a.eventBridge.publishToChannel(f.sEi),2===n.filterScope&&(e.fF.assert(function(){return!r.suppressData},"suppressData"),a.eventBridge.publishToChannel(f.VuV,{container:l}),m=!0),n.activeSection)e.fF.assert(function(){return!r.suppressActiveSection},"suppressActiveSection"),a.navigation.updateActiveSection({targetSectionIndex:l.activeSectionIndex,forceUpdate:!0,parentActivity:i,parentContextActivity:o});else if(1===n.filterScope){e.fF.assert(function(){return!r.suppressData},"suppressData");var V=a.navigation.getCurrentSection();a.eventBridge.publishToChannel(f.mke,{container:V}),u=_.union(u,V.visualContainers)}else(0===n.filterScope||!_.isEmpty(n.visualContainers))&&(e.fF.assert(function(){return!r.suppressData||!r.suppressDisplay},"suppressData || suppressDisplay"),u=_.union(u,n.visualContainers));var d=[];m?(a.eventBridge.publishToChannel(f.jCS,{affectContainer:_.stubTrue,parentActivity:i,parentContextActivity:o}),V=a.navigation.getCurrentSection(),d.push.apply(d,V.visualContainers||[])):_.isEmpty(u)||(a.eventBridge.publishToChannel(f.jCS,{affectContainer:function(F){return _.includes(u,F)},parentActivity:i,parentContextActivity:o}),d.push.apply(d,u||[]));var S=n.visualContainerGroups;if(_.isEmpty(S)||(a.eventBridge.publishToChannel(f.ICs,{affectContainer:function(F){return _.includes(S,F)}}),d.push.apply(d,S||[])),!r.suppressDisplay){if(n.visibility)a.visibility.set(n.visibility.visual,n.visibility.mode);else if(r.targetVisualNames){var g=l.sections[l.activeSectionIndex],y=_.filter(g.visualContainers,function(L){return _.includes(r.targetVisualNames,L.name)});a.visibility.clearForVisualContainers(y)}else a.visibility.clear();_.isEmpty(d)||a.eventBridge.publishToChannel(f.cyb,{changedItems:d})}if(!r.suppressData){var C=n.pendingHighlights,E=a.navigation.getCurrentSection();if(C){a.filterGenerator.setMultipleFiltersOnSelectData(l,E,C,i,void 0);for(var M=0,P=C;M<P.length;M++){var T=P[M],x=T.sourceVisualContainer,R=a.runningVisualService.getVisual(x),D=x.config.singleVisual;R?(T.filterExpressionMetadata&&(0,s.XV)(T.selection,T.filterExpressionMetadata),R.setSelectedDatapoints(T.selection,!0)):D.pendingSelection=T.selection}}else r.targetVisualNames?(g=l.sections[l.activeSectionIndex],y=_.filter(g.visualContainers,function(A){return _.includes(r.targetVisualNames,A.name)}),a.filterGenerator.clearCrossHighlightForVisualContainers(g,y,i,void 0)):a.filterGenerator.clearCrossHighlight(E,i,void 0)}},function(i){return a.telemetryService.startChildActivity(i&&i.event,c.bt)})},p}()},636629:function(Je,H,t){t.d(H,{e:function(){return A},O:function(){return L}});var e=t(226514),c=t(39326),s=t(883863),f=t(787941),v=t(750311),b=t(353705),h=t(426827),p=t(989516);function n(J,re){return J===re||null!=J&&null!=re&&J.objectName===re.objectName&&J.propertyName===re.propertyName}var l=t(668268),r=t(620108),o=t(967908),a=t(188238),i=t(13106),m=t(324356),u=t(334048),V=t(474147),d=t(272039),S=t(505876),g=t(160046),y=t(273139),C=t(277632),E=t(658353),M=t(156319),P=t(571330),T=t(647863),x=t(249185),R=t(809395),D=t(815636);function L(J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de){return new te(J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de)}function F(J,re,G){if(f.fF.assertAnyValue(J,"contracts"),f.fF.assertValue(re,"filterScopeType"),!_.isEmpty(J)){for(var ne={},X=0,oe=J;X<oe.length;X++){var Ve=oe[X];G(Ve)||(I(Ve)?(ne.transientFilters||(ne.transientFilters=[]),ne.transientFilters.push(A(Ve))):j(Ve)&&!_.isEmpty(Ve.name)?(ne.nameIdentifiedMerges||(ne.nameIdentifiedMerges={}),ne.nameIdentifiedMerges[Ve.name]=A(Ve)):B(Ve)?(ne.exprIdentifiedMerges||(ne.exprIdentifiedMerges=[]),ne.exprIdentifiedMerges.push(A(Ve))):W(Ve)?(ne.typeIdentifiedMerges||(ne.typeIdentifiedMerges=[]),ne.typeIdentifiedMerges.push(A(Ve))):(_.isEmpty(Ve.name)&&(Ve.name=M.l.getNextFilterName(J)),ne.nameIdentifiedMerges||(ne.nameIdentifiedMerges={}),ne.nameIdentifiedMerges[Ve.name]=A(Ve)))}if(!_.isEmpty(ne))return ne}}function A(J){return f.fF.assertValue(J,"filterContainer"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata)}}function O(J){return f.fF.assertValue(J,"filterContainerState"),f.fF.assertAnyValue(name,"name"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata),displayName:J.displayName}}function N(J,re){J.filter=re.filter,J.cachedValueItems=re.cachedValueItems,J.filterExpressionMetadata=_.cloneDeep(re.filterExpressionMetadata),J.type=re.type}function w(J){J.filter=void 0,J.cachedValueItems=void 0,J.filterExpressionMetadata=void 0}function I(J){return!!J.isTransient}function B(J){return!!J.expression}function j(J){return J.isHiddenInViewMode||J.isLockedInViewMode}function W(J){return 3===J.howCreated||4===J.howCreated}function k(J,re,G){if(re.filterState)return!0;var ne=(0,r.MD)(G);return _.some([ne],J)}function Q(J){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],J)}var te=function(){function J(re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de,pe){this.expandCollapse=re,this.filterGenerator=G,this.plugins=ne,this.visualPluginOps=X,this.aggrOps=oe,this.featureSwitchService=Ve,this.sortService=Te,this.drillService=Qe,this.telemetryService=de,this.nonDrillthroughIsLinkedAsAggregationCallback=function(le){return f.fF.assertValue(le,"filter"),f.fF.assert(function(){return 5!==le.howCreated},"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1},this.visualAuthoringCore=(0,D.Vz)(ne,He,oe,Ve,Ce,pe)}return J.prototype.capture=function(re,G,ne){f.fF.assertValue(re,"exploration"),f.fF.assert(function(){return null!=re.activeSectionIndex},"exploration.activeSectionIndex != null");var X=re.sections[re.activeSectionIndex],oe={activeSection:X.name,filters:F(re.filters,2,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!ne.suppressDataSourceVariables&&(oe.dataSourceVariables=re.dataSourceVariables),re.objects&&(oe.objects=this.captureExplorationObjects(re.objects)),ne.captureAllSections)for(var Ve=0,Te=re.sections;Ve<Te.length;Ve++){var Qe=Te[Ve];oe.sections[Qe.name]=this.captureSection(Qe,G,re,ne.capturePresentation)}else oe.sections[X.name]=this.captureSection(X,G,re,ne.capturePresentation);return oe},J.prototype.captureExplorationObjects=function(re){return this.captureObjects(d.W,re,Q)},J.prototype.captureFilterState=function(re){var G=this.captureFilterStateObjects(re.visualType,re.objects);return{visualType:re.visualType,objects:G,cachedFilterDisplayItems:re.cachedFilterDisplayItems,filterExpressionMetadata:re.filterExpressionMetadata}},J.prototype.captureSection=function(re,G,ne,X){f.fF.assertValue(re,"contract");var Ve=this.getCrossHighlights(re);return{filters:F(re.filters,1,function(He){return(0,T.fF)(ne,re,He)}),visualContainers:this.captureVisualContainers(re.visualContainers,Ve,G,X),visualContainerGroups:this.captureVisualContainerGroups(re.visualContainerGroups)}},J.prototype.getCrossHighlights=function(re){return re&&re.crossFilterSource&&re.crossFilterSource.highlight},J.prototype.captureVisualContainerGroups=function(re){f.fF.assertValue(re,"contracts");for(var G,ne=0,X=re;ne<X.length;ne++){var oe=X[ne];if((0,y.q4)(oe)){var Ve={};if(null!=oe.isHidden&&(Ve.isHidden=oe.isHidden),!_.isEmpty(oe.children)){var Te=this.captureVisualContainerGroups(oe.children);Ve.children=Te}(null!=Ve.isHidden||null!=Ve.children)&&((G=G||{})[oe.name]=Ve)}}return G},J.prototype.captureVisualContainers=function(re,G,ne,X){f.fF.assertValue(re,"contracts");for(var oe={},Ve=function(pe){f.fF.assertValue(pe.name,"contract.name");var le=pe.config.singleVisual;if(!le)return"continue";var me=void 0;if(!_.isEmpty(G)){var be=_.find(G,function(xe){return xe.sourceVisualContainer.config.singleVisual===le&&!_.isEmpty(xe.selection)});be&&(me={selection:be.selection,filterExpressionMetadata:be.filterExpressionMetadata?be.filterExpressionMetadata:void 0})}var Se={filters:F(_.union(pe.filters,Te.getAdditionalVisualFiltersToCapture(pe,ne)),0,Te.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:le.visualType,objects:Te.captureVisualObjects(le.visualType,le.objects),cachedFilterDisplayItems:le.cachedFilterDisplayItems,filterExpressionMetadata:le.filterExpressionMetadata},highlight:me};null!=le.autoSelectVisualType&&(Se.singleVisual.autoSelectVisualType=le.autoSelectVisualType);var Pe=pe.visibility;null!=Pe&&0!==Pe&&16!==Pe&&(Se.visibility=Pe),(0,g.xj)(le)&&(Se.singleVisual.hidden=!0);var ue=le.query,ve=X&&le.presentationChangesApplied;(ve||ue&&ue.hasQueryFieldParameters())&&(ve&&(Se.singleVisual.targetType=le.visualType),null!=le.autoSelectVisualType&&(Se.singleVisual.targetAutoSelectVisualType=le.autoSelectVisualType),ue&&ue.projections&&ue.defn&&(Se.singleVisual.projections=(0,x.rl)(ue,ve))),ue&&ue.projections&&Te.featureSwitchService.featureSwitches.fieldParameters&&(Se.singleVisual.parameters=(0,x.xF)(ue)),ue&&ue.defn&&(Se.singleVisual.orderBy=ue.defn.orderBy()),ue&&ue.projections&&(Se.singleVisual.activeProjections=Te.captureActiveProjections(ue)),ue&&ue.expansionStates&&(Se.singleVisual.expansionStates=(0,b.d9)(ue.expansionStates)),ue&&ue.isDrillDisabled&&(Se.singleVisual.isDrillDisabled=ue.isDrillDisabled),oe[pe.name]=Se},Te=this,Qe=0,He=re;Qe<He.length;Qe++)Ve(He[Qe]);return oe},J.prototype.captureActiveProjections=function(re){var G,ne=re.defn.select();for(var X in re.projections){var Ve=re.projections[X].activeProjectionRefs;if(!_.isEmpty(Ve)){var Te=_.map(Ve,function(Qe){var He=ne.withName(Qe);return He?He.expr:null});G||(G={}),G[X]=Te}}return G},J.prototype.captureVisualObjects=function(re,G){return this.captureFilterStateObjects(re,G)},J.prototype.captureFilterStateObjects=function(re,G){var ne=this.plugins.capabilities(re);return ne&&ne.objects?this.captureObjects(ne.objects,G,k):{}},J.prototype.captureObjects=function(re,G,ne){var X={};for(var Ve in re){var Te=re[Ve];for(var Qe in Te.properties){var He=Te.properties[Qe],Ce={objectName:Ve,propertyName:Qe};if(He.captureState||ne(Ce,He,re)){var de=(0,l.NA)(G,Ce,null);de&&(0,l.sO)(X,Ce,null,de)}}}var pe={};return _.isEmpty(X)||(pe.merge=X),pe},J.prototype.apply=function(re,G,ne,X){f.fF.assertValue(re,"state"),f.fF.assertValue(G,"exploration");var oe={visualContainers:[],visualContainerGroups:[],issues:[]};for(var Ve in X.suppressActiveSection||this.applyActiveSection(re.activeSection,G,oe),!X.suppressData&&!X.targetVisualNames&&this.applyFilters(re.filters,G,2,oe,X.clearUnmatchedData,[],void 0,ne,this.nonDrillthroughIsLinkedAsAggregationCallback),re.objects&&this.applyExplorationObjects(re.objects,G,oe,X),re.sections){var Te=(0,s.rC)(G.sections,Ve);if(Te){var Qe=re.sections[Ve],He=!X.suppressActiveSection||this.isActiveSection(Te.name,G);this.applySection(G,Qe,Te,ne,oe,X,He)}}return oe.activeSection&&null!=oe.filterScope&&(0,R.Dl)(G.sections[G.activeSectionIndex]),X.suppressDataSourceVariables||this.applyDataSourceVariables(re.dataSourceVariables,G,oe),_.isEmpty(oe.issues)||this.telemetryService.logEvent(E.b_,{context:"apply",issues:_.reduce(oe.issues,function(de,pe){return de|pe.type},0)}),oe},J.prototype.applyExplorationObjects=function(re,G,ne,X){var oe={};re&&re.merge&&(oe.merge=(0,l.d9)(re.merge));var Ve=G.objects||{};for(var Te in oe.merge)for(var Qe=0,He=oe.merge[Te];Qe<He.length;Qe++){var Ce=He[Qe],de=(0,l.zx)(Ve,Te,Ce.selector);for(var pe in Ce.properties){var le=Ce.properties[pe];this.shouldApplyExplorationProperty(Te,X)&&!(0,l.ES)(de.properties[pe],le)&&(ne.objects=!0,de.properties[pe]=le)}}return ne.objects&&!G.objects&&(G.objects=Ve),ne},J.prototype.isDisplayOptions=function(re){return void 0!==re&&void 0!==re.outspacePane&&void 0!==re.visuals},J.prototype.shouldApplyExplorationProperty=function(re,G){return"outspacePane"===re&&this.isDisplayOptions(G.suppressDisplay)?!G.suppressDisplay.outspacePane:!G.suppressDisplay},J.prototype.applyFilterState=function(re,G){for(var ne={visualContainers:[],visualContainerGroups:[],issues:[]},X=0,oe=re;X<oe.length;X++){var Ve=oe[X],Te=Ve.visual,Qe=Ve.state,He=Te.config.singleVisual,Ce=this.plugins.capabilities(He.visualType),de=Ve.impacted;(de=this.applyObjects(Qe,He,Qe.objects,Ce.objects,G,ne)||de)&&!_.includes(ne.visualContainers,Te)&&ne.visualContainers.push(Te)}return _.isEmpty(ne.issues)||this.telemetryService.logEvent(E.b_,{context:"applyFilterState",issues:_.reduce(ne.issues,function(pe,le){return pe|le.type},0)}),ne},J.prototype.isActiveSection=function(re,G){return re===G.sections[G.activeSectionIndex].name},J.prototype.applyActiveSection=function(re,G,ne){if(f.fF.assertValue(re,"activeSection"),f.fF.assertValue(G,"target"),f.fF.assertValue(ne,"impact"),!this.isActiveSection(re,G)){var X=(0,s.g2)(G.sections,re);X>=0?(G.activeSectionIndex=X,ne.activeSection=!0):ne.issues.push({type:1})}},J.prototype.applyDataSourceVariables=function(re,G,ne){f.fF.assertValue(G,"target"),f.fF.assertValue(ne,"impact"),re?(G.dataSourceVariables=re,ne.dataSourceVariables=!0):G.dataSourceVariables=void 0},J.prototype.applyFilters=function(re,G,ne,X,oe,Ve,Te,Qe,He){var Ce=!1,de=[],pe={nameIdentifiedMerges:_.clone(re&&re.nameIdentifiedMerges||{}),exprIdentifiedMerges:(0,e.__spreadArray)([],re&&re.exprIdentifiedMerges||[],!0),typeIdentifiedMerges:(0,e.__spreadArray)([],re&&re.typeIdentifiedMerges||[],!0),transientFilters:(0,e.__spreadArray)([],re&&re.transientFilters||[],!0)};if(Ce=this.applyRemainingFilters(pe,G,0===ne,X,de,Ve,Te,Qe,He)||Ce,oe&&G.filters)for(var le=G.filters.length-1;le>=0;le--){var me=G.filters[le];me?me.type!==S.vA.Passthrough&&(_.includes(de,me)||(2===me.howCreated?(G.filters.splice(le,1),this.addImpactCrossDrillSourceUpdate(Te,G,0===ne,X)):w(me),Ce=!0)):G.filters.splice(le,1)}return Ce&&this.setMinimumFilterScope(X,ne),Ce},J.prototype.applyRemainingFilters=function(re,G,ne,X,oe,Ve,Te,Qe,He){var Ce=this.applyTransientFilters(re,G,oe,X);if(Ce=this.applyMatchingFilterByName(re,G,oe,X)||Ce,!_.isEmpty(re.nameIdentifiedMerges)){for(var de in re.nameIdentifiedMerges)re.exprIdentifiedMerges.push(re.nameIdentifiedMerges[de]);re.nameIdentifiedMerges={}}Ce=this.applyMatchingFilterByExpr(re,G,ne,oe,Qe,He,X)||Ce,Ce=this.applyMatchingFilterByType(re,G,oe,X)||Ce;var pe=this.applyDrillFilters(re,G,oe,Ve,X);return Ce=pe||Ce,pe&&this.addImpactCrossDrillSourceUpdate(Te,G,ne,X),Ce},J.prototype.addImpactCrossDrillSourceUpdate=function(re,G,ne,X){if(function(J,re){return!!J&&!!re}(G,ne)){f.fF.assertValue(re,"section");var Ve=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(re,[G]);X.visualContainers=_.union(X.visualContainers,Ve)}else f.fF.assertFail("FiltersContainer of a drill filter should be VisualContainer."),X.issues.push({type:64})},J.prototype.applyMatchingFilterByName=function(re,G,ne,X){if(f.fF.assertAnyValue(re,"remainingFiltersState"),f.fF.assertValue(G,"target"),f.fF.assertValue(ne,"appliedTargetFilters"),_.isEmpty(re)||_.isEmpty(re.nameIdentifiedMerges)||_.isEmpty(G.filters))return!1;var oe=!1,Ve=[],Te=function(Ce){var de=re.nameIdentifiedMerges[Ce];de.name!==Ce&&(f.fF.assertFail("mismatched filter names"),X.issues.push({type:4}));var pe=_.findIndex(G.filters,function(le){return le.howCreated===de.howCreated&&!_.includes(ne,le)&&le.name===Ce});-1!==pe&&(i.yl.isSameFilter(G.filters[pe].filter,de.filter)||(N(G.filters[pe],de),oe=!0),Ve.push(Ce),ne.push(G.filters[pe]))};for(var Qe in re.nameIdentifiedMerges)Te(Qe);return Ve.forEach(function(He){delete re.nameIdentifiedMerges[He]}),oe},J.prototype.applyMatchingFilterByExpr=function(re,G,ne,X,oe,Ve,Te){if(f.fF.assertAnyValue(re,"remainingFiltersState"),f.fF.assertValue(G,"target"),f.fF.assertValue(ne,"isVisualScope"),f.fF.assertValue(X,"appliedTargetFilters"),_.isEmpty(re)||_.isEmpty(re.exprIdentifiedMerges))return!1;for(var Ce,pe,Qe=!1,He=!1,de=(0,e.__spreadArray)([],re.exprIdentifiedMerges||[],!0),le=function(){var Be=pe.howCreated;if(2===Be)return de.splice(0,1),"continue";var Se=_.remove(de,function(We){return We===pe||We.howCreated===Be&&(0,V.fS)(We.expression,pe.expression)}),Pe=[];if((G.filters||[]).forEach(function(We,Oe){We&&We.howCreated===Be&&!_.includes(X,We)&&!Ve(We)&&(0,V.fS)(We.expression,pe.expression)&&(!j(We)||We.name===pe.name)&&Pe.push(Oe)}),_.isEmpty(Pe)&&ne&&0===Be)if(pe.filter){1!==Se.length&&(f.fF.assertFail("expecting <= 1 visual-level auto filter for an expression."),Te.issues.push({type:8})),He||(He=!0,Ce=(0,R.i4)(G,me.visualPluginOps,oe,me.aggrOps));var ue=_.find(Ce,function(We){return(0,V.fS)(We.expression,pe.expression)});ue&&((G.filters||(G.filters=[])).push(ue),Pe.push(G.filters.length-1))}else _.remove(re.exprIdentifiedMerges,pe),_.remove(Se,pe);if(Pe.length>0){for(var ve=Math.min(Se.length,Pe.length);Se.length>ve;){var xe=_.findIndex(Se,function(We){return _.isEmpty(We.filter)});if(-1===xe)break;Se.splice(xe,1)}for(var ie=0;ie<ve;ie++)i.yl.isSameFilter(G.filters[Fe=Pe[ie]].filter,Se[ie].filter)||(N(G.filters[Fe],Se[ie]),Qe=!0),X.push(G.filters[Fe]);for(ie=ve;ie<Se.length;ie++){var at=O(Se[ie]);(G.filters||(G.filters=[])).push(at),X.push(at),Qe=!0}for(ie=ve;ie<Pe.length;ie++){var Fe;w(G.filters[Fe=Pe[ie]]),Qe=!0}re.exprIdentifiedMerges=_.difference(re.exprIdentifiedMerges,Se)}},me=this;pe=_.head(de);)le();return Qe},J.prototype.applyDrillFilters=function(re,G,ne,X,oe){var Ve=!1;if(_.isEmpty(X)||_.isEmpty(re)||_.isEmpty(re.exprIdentifiedMerges))return Ve;for(var Te=[],Qe=function(le){if(2!==le.howCreated)return"continue";if(!_.find(X,function(Se){return(0,V.fS)(le.expression,Se)}))return oe.issues.push({type:32}),"continue";var be=_.find(G.filters,function(Se){return 2===Se.howCreated&&!_.includes(ne,Se)&&(0,V.fS)(Se.expression,le.expression)});if(be)i.yl.isSameFilter(be.filter,le.filter)||(N(be,le),Ve=!0),ne.push(be);else{var Be=O(le);(G.filters||(G.filters=[])).push(Be),ne.push(Be),Ve=!0}Te.push(le)},He=0,Ce=re.exprIdentifiedMerges;He<Ce.length;He++)Qe(Ce[He]);return re.exprIdentifiedMerges=_.difference(re.exprIdentifiedMerges,Te),Ve},J.prototype.applyMatchingFilterByType=function(re,G,ne,X){var oe=!1;if(_.isEmpty(re)||_.isEmpty(re.typeIdentifiedMerges))return oe;for(var Ve=[],Te=function(pe){3===pe.howCreated||4===pe.howCreated||(f.fF.assertFail("Only include/exclude supported"),X.issues.push({type:16}));var le=_.find(G.filters,function(be){return be.howCreated===pe.howCreated&&!_.includes(ne,be)});if(le)N(le,pe),ne.push(le);else{var me=O(pe);(G.filters||(G.filters=[])).push(me),ne.push(me)}Ve.push(pe),oe=!0},Qe=0,He=re.typeIdentifiedMerges;Qe<He.length;Qe++)Te(He[Qe]);return re.typeIdentifiedMerges=_.difference(re.typeIdentifiedMerges,Ve),oe},J.prototype.applyTransientFilters=function(re,G,ne,X){var oe=!1;if(!_.isEmpty(re)&&!_.isEmpty(re.transientFilters)){for(var Ve=function(pe){5===pe.howCreated&&!0===pe.isTransient||(f.fF.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),X.issues.push({type:2}));var le=_.find(G.filters,function(be){return be.isTransient&&!_.includes(ne,be)&&i.yl.isSameFilter(be.filter,pe.filter)});if(le)N(le,pe),ne.push(le);else{var me=O(pe);(G.filters||(G.filters=[])).push(me),ne.push(me)}oe=!0},Te=0,Qe=re.transientFilters;Te<Qe.length;Te++)Ve(Qe[Te]);re.transientFilters=[]}var Ce=_.remove(G.filters,function(de){return de&&de.isTransient&&!_.includes(ne,de)});return oe=oe||!_.isEmpty(Ce)},J.prototype.applySection=function(re,G,ne,X,oe,Ve,Te){Ve.suppressData||Ve.targetVisualNames||this.applyFilters(G.filters,ne,1,oe,Ve.clearUnmatchedData,[],ne,X,function(ve){return(0,T.fF)(re,ne,ve)});for(var He=function(ve){var xe,ie=ve.name;if(Ve.targetVisualNames&&!_.includes(Ve.targetVisualNames,ie))return"continue";var Fe=G.visualContainers&&G.visualContainers[ie],at=void 0;if(null!=Fe?(at=Ce.applyVisualState(re,Fe,ne,ve,X,oe,Ve,Te,!0),Fe.highlight&&!Ve.suppressData&&Te&&(f.fF.assert(function(){return!_.isEmpty(Fe.highlight.selection)},"Selection is empty"),Ce.isSelectionValid(Fe.highlight.selection,ve.config.singleVisual,X)&&(null==oe.pendingHighlights&&(oe.pendingHighlights=[]),f.fF.assert(function(){return!Ve.suppressData},"suppressData"),oe.pendingHighlights.push({selection:Fe.highlight.selection,sourceVisualContainer:ve,filterExpressionMetadata:Fe.highlight.filterExpressionMetadata})))):Ve.clearUnmatchedData&&(at=Ce.applyVisualState(re,{},ne,ve,X,oe,Ve,Te,!1)),!_.isEmpty(at)){var Oe=_.without.apply(_,(0,e.__spreadArray)([at],oe.visualContainers||[],!1));(xe=oe.visualContainers).push.apply(xe,Oe||[])}},Ce=this,de=0,pe=ne.visualContainers;de<pe.length;de++)He(pe[de]);for(var me=this.getCrossHighlights(ne),be=0,Be=ne.visualContainerGroups;be<Be.length;be++){var Se=Be[be];if((0,y.q4)(Se)){var Pe=G.visualContainerGroups&&G.visualContainerGroups[Se.name];null!=Pe&&this.applyVisualGroupState(Pe,ne,Se,oe,Ve,me)}}},J.prototype.applyVisualState=function(re,G,ne,X,oe,Ve,Te,Qe,He){var Ce,de,pe;f.fF.assertValue(oe,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var le=!1,me=G.singleVisual;if(!Te.suppressData){var be=null===(de=null===(Ce=Te.defaultPresentationState)||void 0===Ce?void 0:Ce[ne.name])||void 0===de?void 0:de[X.name],Se=!1,Pe=!1;if(this.presentationChangesAllowed(re,Te,X,me,this.visualPluginOps)){var ue=this.applyPresentationChanges(X,me,be,me&&me.parameters,oe);Se=ue.changesApplied,Pe=ue.parametersRemoved}var ve=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(ve=this.applyParameterStateByRole(oe,X,me,Pe));var ie=this.applySort(X.config.singleVisual,me&&me.orderBy,Te.clearUnmatchedData),at=me?!!me.isDrillDisabled:!(null===(pe=X.config.singleVisual.query)||void 0===pe||!pe.isDrillDisabled),We=this.applyActiveProjectionsAndDrillState(X.config.singleVisual,me&&me.activeProjections,Te.clearUnmatchedData,at),Oe=this.collectValidDrillExprs(X.config.singleVisual),Ze=this.applyFilters(G.filters,X,0,Ve,Te.clearUnmatchedData,Oe,ne,oe,this.nonDrillthroughIsLinkedAsAggregationCallback),K=this.applyExpansionStates(X,me&&me.expansionStates,Te.clearUnmatchedData,oe,Ve),Ne=this.plugins.capabilities(X.config.singleVisual.visualType),ye=!1;Ne&&Ne.objects&&(ye=this.applyObjects(me,X.config.singleVisual,me&&me.objects,Ne.objects,oe,Ve)),le=ye||Se||ie||We||Ze||K||ve}var rt=[];if(!this.getSuppressDisplayOptions(Te).visuals){var Ue=G.visibility;if(null!=Ue&&Qe&&(Ve.visibility={visual:X,mode:Ue}),!He||me){var Le=!1;me?Le=!!me.hidden:Te.suppressUnmatchedClearHidden&&(Le=(0,g.xj)(X.config.singleVisual)),rt.push.apply(rt,this.applyHidden(Le,X,ne)||[])}}return le&&!_.includes(rt,X)&&rt.push(X),rt},J.prototype.applyPresentationChanges=function(re,G,ne,X,oe){var Ve=re.config.singleVisual;if(!G)return{changesApplied:!1,parametersRemoved:!1};var Te=!G.targetType;if(Te&&!Ve.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var Qe=!1,He=Te?null==ne?void 0:ne.visualType:G.targetType,Ce=Te?null==ne?void 0:ne.autoSelectVisualType:G.targetAutoSelectVisualType,de=Te?null==ne?void 0:ne.projections:G.projections;He&&(Qe=He!==Ve.visualType,Ve.visualType=He),null!=Ce&&(Qe=Qe||Ce!==Ve.autoSelectVisualType,Ve.autoSelectVisualType=Ce),!Ve.query&&de&&(Ve.query=new C.g(i.vQ.create(),{},[]));var pe=Ve.query;return de&&pe?(this.applyVisualQueryPresentationChanges(pe,de,X,re,oe),Ve.presentationChangesApplied=!Te,{changesApplied:!0,parametersRemoved:!0}):(Ve.presentationChangesApplied=Qe,{changesApplied:Qe,parametersRemoved:!1})},J.prototype.applyParameterStateByRole=function(re,G,ne,X){if(!ne||!ne.parameters)return!1;var oe=G.config.singleVisual;if(!oe.query&&X)oe.query=new C.g(i.vQ.create(),{},[]);else if(!oe.query)return!1;var Ve=ne.parameters,Te=oe.query,Qe={},He=Te.getResolveParameterResultsByRole();for(var Ce in Ve){var de=Ve[Ce];Qe[Ce]=[];var pe=Te.projections[Ce];if(!pe&&X&&de.length>0&&(pe=Te.projections[Ce]=new h.NQ([])),pe)for(var le=function(Pe){var ve,ue=de[Pe];if(X){var xe=Te.addParameter(ue.expr,Ce,ue.index);ve=pe.getParameterByFieldIndex(xe);var ie=He[Ce];ie||(ie=He[Ce]=[]),ie.push({parameter:ve,result:[]})}else{var Fe=_.find(Qe[Ce],function(K){return(0,V.fS)(K.expr,ue.expr)}),at=Fe?Fe.count:0,We=_.sortBy(pe.findParameterBySQExpr(ue.expr),function(K){return K.index});if(at>=We.length)return"continue";ve=We[at],Fe?Fe.count++:Qe[Ce].push({expr:ue.expr,count:1})}var Ze=_.find(He[Ce],function(K){return K.parameter.index===ve.index}),Ee=me.getProjectionsForParameter(de,Pe,ne.projections,Ce);Ze.result=_.map(Ee,function(K){return{expr:K,alias:void 0}})},me=this,be=0;be<de.length;be++)le(be)}return this.visualAuthoringCore.resolveParameters(re,G,He,this.drillService,this.sortService,void 0).queryChange},J.prototype.getProjectionsForParameter=function(re,G,ne,X){var oe=[],Ve=re[G];if(void 0!==Ve.length&&Ve.length>0)for(var Te=(0,a.VZ)(Ve.index,re),Qe=Te;Qe<Te+Ve.length;Qe++)oe.push(ne[X][Qe]);return oe},J.prototype.applyVisualQueryPresentationChanges=function(re,G,ne,X,oe){for(var Ve in re.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(Ve,X,oe,this.drillService,this.sortService);for(var Ve in G){var Te=this.getNonParameterExpressions(G[Ve],ne,Ve),Qe=void 0;for(Qe=0;Qe<Te.length;Qe++){var He=Te[Qe],Ce=!1;if(re.projections[Ve])for(var de=re.tryGetExprs(Ve),pe=Qe;pe<de.length;pe++)if((0,V.fS)(de[pe],He,!0,!0,!0)){Ce=!0,pe!==Qe&&re.moveProjection(Ve,pe,Qe,1);break}Ce||re.add(He,Ve,{fieldIndex:Qe})}if(re.projections[Ve])for(var me=re.tryGetExprs(Ve).length;me>Te.length&&me>0;)re.removeProjection(Ve,{fieldIndex:--me})}for(var Ve in re.projections)if(null==(Te=this.getNonParameterExpressions(G[Ve],ne,Ve))||!Te.length){me=re.tryGetExprs(Ve).length;for(var be=0;be<me;be++)re.removeProjection(Ve,{fieldIndex:0})}},J.prototype.getNonParameterExpressions=function(re,G,ne){if(re){for(var X=[],oe=function(Qe){var He=G&&G[ne];if(He&&He.length>0&&_.find(He,function(de){var pe=(0,a.VZ)(de.index,He);return void 0!==de.length&&de.length>0&&Qe>=pe&&Qe<=pe+de.length-1}))return"continue";null!==re[Qe]&&X.push(re[Qe])},Ve=0;Ve<re.length;Ve++)oe(Ve);return X}},J.prototype.applyVisualGroupState=function(re,G,ne,X,oe,Ve){if(!oe.targetVisualNames||_.includes(oe.targetVisualNames,ne.name)){var Qe=void 0;if(!this.getSuppressDisplayOptions(oe).visuals){var Ce=re.isHidden;if(null!=Ce&&Ce!==ne.isHidden&&(ne.isHidden=Ce,Qe=!0),Ce&&!_.isEmpty(Ve)){var pe=this.clearCrossHighlightsForGroup(ne,G,Ve);X.visualContainers=_.chain(X.visualContainers).concat(pe).uniq().value()}}Qe&&X.visualContainerGroups.push(ne)}if(!_.isEmpty(re.children)){var le=function(Se){var Pe=re.children[Se],ue=_.find(ne.children,function(ve){return ve.name===Se});if(!Pe||!ue||!(0,y.q4)(ue))return"continue";me.applyVisualGroupState(Pe,G,ue,X,oe,Ve)},me=this;for(var be in re.children)le(be)}},J.prototype.getSuppressDisplayOptions=function(re){var G=re.suppressDisplay;return this.isDisplayOptions(G)?G:{outspacePane:G,visuals:G}},J.prototype.applyFilterExpressionCache=function(re,G,ne){ne?this.clearFilterExpressionCache(G):(G.filterExpressionMetadata=re.filterExpressionMetadata,G.cachedFilterDisplayItems=re.cachedFilterDisplayItems)},J.prototype.clearFilterExpressionCache=function(re){re.filterExpressionMetadata=void 0,re.cachedFilterDisplayItems=void 0},J.prototype.applyHidden=function(re,G,ne){var X=G.config.singleVisual;if(re!==(0,g.xj)(X)){(0,g.Zk)(X,re);var oe=[G];return re&&(oe=_.chain(oe).concat(this.clearCrossHighlightsForVisual(G,ne)).uniq().value()),oe}},J.prototype.clearCrossHighlightsForGroup=function(re,G,ne){var oe,X=[];return(0,y.Iw)([re],function(Te){(0,y.Vz)(Te)&&_.some(ne,function(Qe){return Qe.sourceVisualContainer===Te})&&X.push(Te)}),_.isEmpty(X)||(oe=this.clearCrossHighlightsForVisuals(X,G)),oe||[]},J.prototype.clearCrossHighlightsForVisual=function(re,G){return this.clearCrossHighlightsForVisuals([re],G)},J.prototype.clearCrossHighlightsForVisuals=function(re,G){var ne=(0,e.__spreadArray)([],re||[],!0);return ne.push.apply(ne,this.filterGenerator.clearCrossHighlightForVisualContainersOperation(G,re)||[]),_.uniq(ne)},J.prototype.collectValidDrillExprs=function(re){var G=re.query;if(!G)return[];var ne=G.defn.select();if(_.isEmpty(ne))return[];var X=[];for(var oe in G.projections)for(var Ve=G.projections[oe],Qe=_.last(Ve.activeProjectionRefs||[]),He=0,Ce=Ve.all();He<Ce.length;He++){var de=Ce[He];if(Qe&&de.queryRef===Qe)break;var pe=ne.withName(de.queryRef);X.push(pe.expr)}return X},J.prototype.applyActiveProjectionsAndDrillState=function(re,G,ne,X){var oe=re.query;if(!oe)return!1;var Ve=oe.defn.select(),Te=this.plugins.capabilities(re.visualType),Qe=Te&&Te.drilldown||{roles:[],suppresDrillOperations:!1},He=Qe.roles,Ce=Qe.suppresDrillOperations,de=!1,pe={},le=function(ve){if(!_.includes(He,ve))return"continue";var xe=G[ve];f.fF.assertNonEmpty(xe,"activeExprsForRole"),pe[ve]||(pe[ve]=[]);var ie=oe.projections[ve];if(!ie)return de=!0,"continue";var Fe=ie.all();if(_.isEmpty(Fe)||xe.length>Fe.length)return de=!0,"continue";if(1!==xe.length||Ce)for(var Oe=function(K){f.fF.assert(function(){return K<=Fe.length},"existingProjections.length");var Ne=xe[K],Y=Fe[K],ye=Ve.withName(Y.queryRef);if(f.fF.assertValue(ye,"found queryRef with no corresponding select"),!(0,V.fS)(ye.expr,Ne))return de=!0,"continue";pe[ve].push(Y.queryRef)},Ze=0;Ze<xe.length;Ze++)Oe(Ze);else{var at=xe[0],We=_.find(Fe,function(Ee){var K=Ve.withName(Ee.queryRef);return f.fF.assertValue(K,"found queryRef with no corresponding select"),(0,V.fS)(K.expr,at)});if(!We)return de=!0,"continue";pe[ve].push(We.queryRef)}};for(var me in G)le(me);if(de)for(var me in oe.projections)pe[me]=[];var be=!1;if(oe.isDrillDisabled!==X&&(0,P.S1)(Te))oe.changeDrillStateValue(He,X,pe),be=!0;else for(var me in oe.projections)if(_.includes(He,me)){var Be=oe.projections[me],Se=pe[me];if(_.isEmpty(Se)&&!X){if(!ne)continue;var Pe=Be.all();_.isEmpty(Pe)||(Se=[_.head(Pe).queryRef])}(0,s.NF)(Be.activeProjectionRefs,Se,function(ve,xe){return ve===xe})||(Be.activeProjectionRefs=Se,be=!0)}return be},J.prototype.applySort=function(re,G,ne){var X=re.query;if(!X)return!1;var oe=X.defn.orderBy()||[];return!(!G&&!ne||(G=G||[],(0,s.NF)(oe,G,V.ll))||(X.orderBy(G),0))},J.prototype.applyObjects=function(re,G,ne,X,oe,Ve){f.fF.assertValue(G,"singleVisual"),f.fF.assertAnyValue(ne,"contractUpdates"),f.fF.assertAnyValue(oe,"schema"),f.fF.assertValue(X,"objectDescs");var Te={};ne&&(ne.merge&&(Te.merge=(0,l.d9)(ne.merge)),ne.remove&&(Te.remove=ne.remove.slice()));var Ce,Qe=G.objects||{},He=(0,r.MD)(X),de=this.plugins.getPlugin(G.visualType);this.applyPluginUpdateSemantics(de,Te,Qe,X),Te.remove||(Te.remove=this.getVisualPropertiesToRemove(G.visualType,Qe,Te.merge));var pe=this.mergeObjects(re,G,Te.merge,Qe,Ve,oe,He);return Ce=Ce||pe.visualImpacted,Te.remove=Te.remove.concat(pe.removeList),this.removeObjects(G,Qe,Te.remove,Ve,He)||Ce},J.prototype.updateQueryProjectionsFromExpansionState=function(re,G,ne){var X=this;if(_.isEmpty(G))return!1;for(var oe=function(de){var pe=de.getVisibleDescendentsDepth(de.root,-1),le=Math.max(_.findLastIndex(de.levels,function(ve){return ve.isPinned})+1,pe),me=function(xe){var ie=de.roles[xe];return f.fF.assertValue(re.projections[ie],"Invalid role ".concat(ie)),re.projections[ie]&&re.projections[ie].all()},be=function(xe){var at,ie=0,Fe=me(0),We=0,Oe=function(){if(We===_.size(Fe)&&(We=0,++ie>=_.size(de.roles)||!(Fe=me(ie))))return"break";var K=de.levels[at];f.fF.assert(function(){return 1===_.size(K.queryRefs)},"Composite groups are not supported, expected only one queryRef.");var Ne=_.findIndex(Fe,function(Y){var ye,rt=null===(ye=(0,a.SA)(re.defn,Y))||void 0===ye?void 0:ye.expr;return Y.queryRef===_.first(K.queryRefs)&&X.verifyExpansionIdentities(K,rt,ne)},xe?We:0);if(-1===Ne)return"break";xe&&We!==Ne&&re.moveProjection(de.roles[ie],Ne,We,1)};for(at=0;at<_.size(de.levels)&&"break"!==Oe();at++,We++);return at};if(!(be(!1)>=le))return{value:!1};_.remove(re.expansionStates,function(ve){return _.isEqual(ve.roles,de.roles)}),be(!0);var Se=de.clone();re.setActiveProjections(Se.roles,pe);var Pe=re.getRolesUniqueProjectionRefs(Se.roles),ue=_.findIndex(Se.levels,function(ve){return ve.isCollapsed});Se.updateLevels(Pe,-1===ue?pe:ue),re.expansionStates||(re.expansionStates=[]),re.expansionStates.push(Se)},Ve=0,Te=G;Ve<Te.length;Ve++){var He=oe(Te[Ve]);if("object"==typeof He)return He.value}return!0},J.prototype.applyExpansionStates=function(re,G,ne,X,oe){var Ve=this,Te=re.config.singleVisual,Qe=Te.query;if(!Qe)return!1;if(!G&&!ne||(0,b.wy)(Qe.expansionStates||[],G=G||[]))return!1;var Ce=this.plugins.capabilities(Te.visualType);return Ce&&Ce.expandCollapse&&Ce.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(Qe,G,X):(Qe.expansionStates=(0,b.d9)(_.filter(G,function(pe){1!==pe.roles.length&&(f.fF.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),oe.issues.push({type:256}));var le=Qe.projections[pe.roles[0]],me=le&&le.all()||[];return!(!Ve.expandCollapse.isEnabled(re,pe.roles)||1!==pe.roles.length||me.length<pe.levels.length)&&_.every(pe.levels,function(be,Be){var Se;f.fF.assert(function(){return 1===be.queryRefs.length},"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Pe=me[Be],ue=null===(Se=(0,a.SA)(Qe.defn,Pe))||void 0===Se?void 0:Se.expr;return Pe.queryRef===be.queryRefs[0]&&Ve.verifyExpansionIdentities(be,ue,X)})})),!0)},J.prototype.verifyExpansionIdentities=function(re,G,ne){var X=new c.H;return _.isEmpty(re.identityKeys)||(0,s.NF)(re.identityKeys,G.accept(X,ne),V.fS)},J.prototype.applyPluginUpdateSemantics=function(re,G,ne,X){if(G&&re&&re.mergeObjects){var oe=(0,v.Ue)(),Te=(0,o.G3)(ne,X,oe,this.featureSwitchService.featureSwitches).dataViewObjects,Qe=(0,o.G3)(G.merge||{},X,oe,this.featureSwitchService.featureSwitches),Ce=re.mergeObjects({objects:Te,changes:Qe.dataViewObjects});if(Ce){if(f.fF.assert(function(){return null==Ce.removeObject&&null==Ce.replace},"Unsupported merge actions"),Ce.merge){G.merge={};for(var de=0,pe=Ce.merge;de<pe.length;de++){var le=pe[de];for(var me in le.properties){var Be=(0,l.Lo)(le.properties[me],re.capabilities.objects[le.objectName].properties[me].type);(0,l.sO)(G.merge,{objectName:le.objectName,propertyName:me},le.selector,Be)}}}if(Ce.remove){G.remove=[];for(var Se=0,Pe=Ce.remove;Se<Pe.length;Se++)for(var me in(le=Pe[Se]).properties)G.remove.push({object:le.objectName,property:me,selector:le.selector})}}}},J.prototype.mergeObjects=function(re,G,ne,X,oe,Ve,Te){var Qe={visualImpacted:!1,removeList:[]};if(_.isEmpty(ne))return Qe;for(var He in ne)for(var Ce=0,de=ne[He];Ce<de.length;Ce++){var pe=de[Ce],le=(0,l.zx)(X,He,pe.selector);for(var me in pe.properties){var be=pe.properties[me];if(!(0,l.ES)(le.properties[me],be)){if(Te&&n(Te,{objectName:He,propertyName:me})){var Be=!!this.isFilterValid(be,G,Ve);if(this.applyFilterExpressionCache(re,G,!Be),!Be){oe.issues.push({type:128}),Qe.removeList.push({object:Te.objectName,property:Te.propertyName,selector:null});continue}this.setMinimumFilterScope(oe,1)}le.properties[me]=be,Qe.visualImpacted=!0,G.objects||(G.objects=X)}}}return Qe},J.prototype.removeObjects=function(re,G,ne,X,oe){if(_.isEmpty(ne))return!1;for(var Ve=!1,Te=0,Qe=ne;Te<Qe.length;Te++){var He=Qe[Te],de=He.object,pe=He.property;(0,l.E2)(G,de,He.selector,pe)&&(Ve=!0,oe&&n(oe,{objectName:de,propertyName:pe})&&(this.clearFilterExpressionCache(re),this.setMinimumFilterScope(X,1)))}return Ve},J.prototype.getVisualPropertiesToRemove=function(re,G,ne){var X=this.plugins.capabilities(re);if(!X||!X.objects)return[];var Ve=(0,r.MD)(X.objects),Te=[];for(var Qe in X.objects){var He=X.objects[Qe];for(var Ce in He.properties){var de=He.properties[Ce];if(!de.persistUnmatchedState&&(de.filterState||de.captureState||Ve&&n(Ve,{objectName:Qe,propertyName:Ce}))){var pe={objectName:Qe,propertyName:Ce},le=(0,l.NA)(ne,pe,null);(0,l.NA)(G,pe,null)&&!le&&Te.push({object:Qe,property:Ce,selector:null})}}}return Te},J.prototype.isFilterValid=function(re,G,ne){f.fF.assertAnyValue(ne,"if no schema is specified, we will not check for group-on key inclusion in a query");var X=G.query;if(!X)return!1;var oe=new ee(X.defn,ne);return re.rewrite(oe),oe.valid},J.prototype.isSelectionValid=function(re,G,ne){var X=(0,p.k_)(re);if(!X)return f.fF.assertFail("Could not create filter from selection"),!1;var Ve=new i.Je(m.F0.instance).rewriteFrom(X.from()),Te=_.map(X.where(),function(Qe){return{condition:Qe.condition.accept(m.F0.instance)}});return X=new i.yl(Ve,Te),this.isFilterValid(X,G,ne)},J.prototype.setMinimumFilterScope=function(re,G){re.filterScope=re.filterScope?Math.max(G,re.filterScope):G},J.prototype.getAdditionalVisualFiltersToCapture=function(re,G){for(var ne=[],oe=function(Ce){_.find(re.filters,function(de){return(0,V.fS)(de.expression,Ce.expression)})||ne.push(Ce)},Ve=0,Te=(0,R.i4)(re,this.visualPluginOps,G,this.aggrOps)||[];Ve<Te.length;Ve++)oe(Te[Ve]);return ne},J.prototype.presentationChangesAllowed=function(re,G,ne,X,oe){if(!re.settings||!re.settings.allowInlineExploration||!G.applyPresentationChanges)return!1;var Ve=ne&&ne.config&&ne.config.singleVisual;if(!Ve)return!1;var Qe=X&&X.visualType;if(![function(pe){return oe.isQnaVisual(pe)},function(pe){return oe.isQueryVisual(pe)}].some(function(pe){return pe(Qe)}))return!1;var de=(0,l.NA)(Ve&&Ve.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(de&&!1===de.value)},J}(),ee=function(J){function re(G,ne){var X=this;return f.fF.assertValue(G,"query"),f.fF.assertAnyValue(ne,"if no schema is provided, we do not check group-on keys"),(X=J.call(this)||this).valid=!0,X.query=G,X.schema=ne,X}return(0,e.__extends)(re,J),re.prototype.visitColumnRef=function(G){return this.valid=this.valid&&this.exprInSelects(G),G},re.prototype.exprInSelects=function(G){var ne=_.some(this.query.select(),function(He){return(0,V.fS)(He.expr,G,!0,!0)});if(ne)return!0;if(!this.schema)return ne;for(var oe=0,Ve=this.query.select();oe<Ve.length;oe++){var Qe=Ve[oe].expr.getKeyColumns(this.schema);if(_.some(Qe,function(He){return(0,V.fS)(G,He,!0,!0)}))return!0}return!1},re}(u.b)},312088:function(Je,H,t){t.d(H,{TW:function(){return v}});var e=t(853811),c=t(658353),s=t(285262),f=t(809395);function v(n,l){var r={},o=l.getCurrentSection(),a=l.getCurrentExploration(),i=l.getExplorationTelemetryData();switch(o&&(r={activeSectionId:o.id,sectionGuid:o.objectId,sectionIndex:a&&a.activeSectionIndex},(n.name===c.GD||n.name===c.Ef||n.name===c.z6||n.name===c.OX||n.name===c.jn)&&(r.visualTypesAndCounts=JSON.stringify((0,f.a8)(o)))),i&&(r.modelId=i.modelId,r.reportGuid=i.reportGuid,r.dataCacheMode=i.dataCacheMode,r.datasetHost=i.datasetHost,r.dbName=i.dbName,r.enterpriseCapacitySkuTier=i.enterpriseCapacitySkuTier,r.isDirectQuery=i.isDirectQuery,r.isOnPrem=i.isOnPrem,r.exid=i.exid,r.exsid=i.exsid),n.name){case c.GD:(function(n,l){l&&!_.isEmpty(l.sections)&&(n.areAnySectionQuickExplore=(0,s.sk)(l.sections),n.creationSource=l.creationSource)})(r,a),h(r,o,i);break;case c.Ef:h(r,o,i)}if(!_.isEmpty(r)){var m=n.formatted||function(){return{}};n.formatted=function(){return(0,e.lG)(m.apply(n),r)}}}function h(n,l,r){l&&(n.usageReportSection=r&&r.isNewUsageMetrics?l.displayName:void 0),r&&(n.isNewUsageMetrics=r.isNewUsageMetrics,n.isUsageMetrics=r.isUsageMetrics)}},376193:function(Je,H,t){t.d(H,{n:function(){return b}});var e=t(787941),c=t(690016),s=function(p){return p[p.None=0]="None",p[p.DuplicatedName=1]="DuplicatedName",p}({}),v=function(){function p(n,l){this.federatedConceptualSchema=n,this.localizationService=l}return p.prototype.validateExistingMeasureName=function(n){for(var l=p.normalizeModelItemName(n.name),r=0,o=this.federatedConceptualSchema.schemas;r<o.length;r++)for(var i=0,m=o[r].entities;i<m.length;i++)for(var u=m[i],V=0,d=u.properties;V<d.length;V++){var S=d[V];if(S!==n&&p.normalizeModelItemName(S.name)===l)return{error:s.DuplicatedName,reason:this.localizationService.format(S.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[S.name,u.name])}}return{error:s.None}},p.normalizeModelItemName=function(n){return(0,c.m5)(n)},p}();function b(p){return new h(p)}var h=function(){function p(n){this.localization=n}return p.prototype.validate=function(n){if(n)for(var l=function(p,n){return new v(p,n)}(n,this.localization),r=0,o=n.schemas;r<o.length;r++){var a=o[r];if(a.isExtensionSchema){var i=n.schema(a.extends);e.fF.assertValue(i,"mainSchema");for(var m=0,u=a.entities;m<u.length;m++){var V=u[m],d=!1;i.entities.withName(V.name)||(d=!0,V.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),V.queryable=1,V.isAbandoned=!0);for(var y=0,C=V.properties;y<C.length;y++){var E=C[y];if(1===E.kind){var M=l.validateExistingMeasureName(E);M.error===s.DuplicatedName?(E.errorMessage=M.reason,E.queryable=1):d&&(E.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),E.queryable=1)}}}}}},p}()},781412:function(Je,H,t){t.d(H,{X:function(){return R}});var e=t(226514),c=t(135487),s=t(31499),f=t(787941),v=t(989516),b=t(668268),h=t(620108),p=t(601139),n=t(13106),l=t(983172),r=t(505876),o=t(334281),a=t(160046),i=t(156319),m=t(899027),u=t(809395),V=t(35801),d=t(961046),S=function(){function L(F){this.visualPlugins=F,this.collectedFilters=[]}return L.prototype.collectFilters=function(F,A,O){if(!_.isEmpty(F))for(var N=0,w=F;N<w.length;N++){var I=w[N];!I||!I.filter||this.collectFilter(I.filter,I,O,A)}},L.prototype.collectFiltersForFilterContainer=function(F,A,O,N){if(F)for(var w=0,I=F;w<I.length;w++){var B=I[w];!B.filter||B===O||this.collectFilter(B.filter,B,N,A)}},L.prototype.collectFilter=function(F,A,O,N,w){var I;f.fF.assertAnyValue(F,"filter"),f.fF.assertAnyValue(A,"filterContainer"),f.fF.assertAnyValue(O,"sourceVisualContainer"),F&&(O&&(I=(0,u.cj)(O,this.visualPlugins)),this.collectedFilters.push({filter:F,filterContainer:A,sourceVisualContainer:O,sourceVisualContainerCapabilities:I,scopeType:N,collectedFilterSource:w}))},L.prototype.getCollectedFilters=function(){return this.collectedFilters},L}(),g=t(456535),y=t(145315),C=t(324356),E=t(334048),M=function(){function L(F){f.fF.assertValue(F,"options"),this.options=F}return L.prototype.resolveSemanticQuery=function(F){return F?F.where(this.resolveFilters(F.where()),F.from()):null},L.prototype.resolveFilters=function(F){var A=this;return F?_.map(F,function(O){return A.resolveFilter(O)}):null},L.prototype.resolveFilter=function(F){if(!F)return null;if(F.target)return F;if(F.condition)switch((0,p._)(F.condition)){case 0:return this.resolveColumnFilter(F);case 2:return this.resolveExistsFilter(F);case 1:return this.resolveMeasureFilter(F);case 3:return this.resolveSubqueryFilter(F);default:return void f.fF.assertFail("Unsupported filter kind!")}},L.prototype.resolveColumnFilter=function(F){return{condition:F.condition,annotations:F.annotations}},L.prototype.resolveMeasureFilter=function(F){var A=this,O=null;this.options.mappings&&this.options.mappings.measureFilter&&(O=this.options.mappings.measureFilter.targetRoles),(!O||!_.some(O,function(re){return A.options.queryProjections[re]}))&&(O=this.getDefaultMeasureFilterTargetRoles());var N,w,I=F.condition;if(O){for(var B=0,j=O;B<j.length;B++){var U=this.options.queryProjections[j[B]];if(U)for(var k=function(){var G=Q.options.select.filter(function(Te){return Te.name===J.queryRef});f.fF.assert(function(){return!_.isEmpty(G)&&1===G.length},"Expected exactly one projection with the specified name.");var ne=G[0].expr,X=G[0].name;f.fF.assert(function(){return null!==X},"Expected select name to be populated");var oe=ne.getMetadata(Q.options.schema);oe&&1!==oe.kind&&(!N||!N[X])&&(w||(w=[],N={}),w.push(ne),N[X]=!0)},Q=this,te=0,ee=U.all();te<ee.length;te++){var J=ee[te];k()}}f.fF.assertNonEmpty(w,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),I=P.rewrite(I,O)}return{target:w,condition:I,annotations:F.annotations}},L.prototype.resolveExistsFilter=function(F){return f.fF.assertNonEmpty(F.target,"Exists filters must specify targets."),F},L.prototype.resolveSubqueryFilter=function(F){return{condition:F.condition,annotations:F.annotations}},L.prototype.getDefaultMeasureFilterTargetRoles=function(){return(this.options.dataRoles?this.options.dataRoles.filter(function(A){return A.kind===y.DW.Grouping||A.kind===y.DW.GroupingOrMeasure}):[]).map(function(A){return A.name})},L}(),P=function(L){function F(A){var O=L.call(this)||this;return O.filterTargetRoles=A,O}return(0,e.__extends)(F,L),F.rewrite=function(A,O){f.fF.assertValue(A,"filterCondition"),f.fF.assertValue(O,"filterTargetRoles");var N=new F(O);return A.accept(N)},F.prototype.visitScopedEval=function(A){var O=this,N=_.filter(A.scope,function(w){return!(0,g.yL)(w)||_.includes(O.filterTargetRoles,w.role)});return N.length===A.scope.length?A:new C.kC(A.expression,N)},F}(E.b),T=t(374952),x=t(600348);function R(L,F,A,O,N,w,I,B,j){return new D(L,F,A,O,N,w,I,B)}var D=function(){function L(F,A,O,N,w,I,B,j){this.eventBridge=F,this.visualPlugins=A,this.aggrOps=O,this.relationshipService=N,this.hostFilters=w,this.telemetryService=I,this.scriptVisuals=B,this.featureSwitchService=j,f.fF.assertValue(this.eventBridge,"eventBridge"),f.fF.assertValue(this.visualPlugins,"visualPlugin"),f.fF.assertValue(this.aggrOps,"aggrOps"),f.fF.assertValue(this.relationshipService,"visualRelationship"),f.fF.assertValue(this.hostFilters,"hostFiltersService"),f.fF.assertValue(this.telemetryService,"telemetryService"),f.fF.assertValue(this.scriptVisuals,"scriptVisuals")}return L.prototype.collectVisualContainerFilters=function(F,A,O){var N=new S(this.visualPlugins);N.collectFilters(O.filters,0,O),A&&(N.collectFilters(A.filters,1),this.collectCrossFilter(N,A,O)),this.collectSelfFilter(N,O,null),F&&N.collectFilters(F.filters,2);var w=this.hostFilters.getSelectedHostFilters();return w&&N.collectFilters(w.filters,1),N.getCollectedFilters()},L.prototype.collectVisualContainerDrillFilters=function(F){var A=new S(this.visualPlugins),O=_.filter(F.filters,function(N){return f.fF.assertValue(N,"collectVisualContainerDrillFilters: visualContainer with name ".concat(F.name," contains blank value in .filters")),null!=N&&2===N.howCreated});return A.collectFilters(O,0,F),A.getCollectedFilters()},L.prototype.addVisualContainerFilters=function(F,A,O,N,w,I){void 0===I&&(I=!1),F.addCollectedFilters(this.collectVisualContainerFilters(A,O,N),!0,this.getShouldApplyFilter(N,w,O,I)),O&&(this.addHighlightFilter(F,O,N,w),this.addCrossDrillFilters(F,O,N,w))},L.prototype.calculateVisualContainerFilter=function(F,A,O,N,w,I){void 0===w&&(w=!1),void 0===I&&(I=!1);var B=new d.ME(O);this.addVisualContainerFilters(B,F,A,O,N,w);var j=B.getFilters(I);return j.queryRefsForSingleItemDrillFilters=i.l.getQueryRefsForSingleItemDrillFilters(O,N,this.aggrOps),j},L.prototype.calculateDetailVisualFilter=function(F,A,O,N,w){var I=new d.ME(O);this.addVisualContainerFilters(I,F,A,O,N),0===w&&(w=1);var B=I.getHighlightFilters();B&&(I.clearHighlightFilters(),I.mergeHighlightFiltersBasedOnRelationship(B,w));var j=I.getFilters();return j.queryRefsForSingleItemDrillFilters=i.l.getQueryRefsForSingleItemDrillFilters(O,N,this.aggrOps),j},L.prototype.clearCrossHighlight=function(F,A,O){var N=this.clearCrossHighlightOperation(F);(0,u.M2)(this.eventBridge,N,"UserAction_CrossHighlight",A,O)},L.prototype.clearCrossHighlightForVisualContainers=function(F,A,O,N){var w=this.clearCrossHighlightForVisualContainersOperation(F,A);(0,u.M2)(this.eventBridge,w,"UserAction_CrossHighlight",O,N)},L.prototype.clearCrossHighlightForVisualContainersOperation=function(F,A){var O=F.crossFilterSource&&F.crossFilterSource.highlight;if(!_.isEmpty(O)){for(var w=[],I=0,B=_.chain(O).map(function(U){return U.sourceVisualContainer}).filter(function(U){return _.includes(A,U)}).valueOf();I<B.length;I++){var W=this.setCrossHighlightOperation(null,null,F,3,B[I]);w.push.apply(w,W||[])}return _.uniq(w)}},L.prototype.clearFiltersFromVisualContainers=function(F,A,O){var N=this,w=F&&F.crossFilterSource,I=w&&w.drill,B=w&&w.highlight,j=[];if(!_.isEmpty(B)&&_.some(A,function(k){return _.some(B,function(Q){return k===Q.sourceVisualContainer})})&&(j=this.clearCrossHighlightOperation(F)),!_.isEmpty(I)){var W=this.clearCrossDrillFromVisualContainersOperation(F,A);j=_.union(j,W)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var U=[];_.forEach(A,function(k){var Q=(0,u.Qg)(k),te=(0,b.NA)(Q,{objectName:"visualLink",propertyName:"type"},void 0);(null==te?void 0:te.value)===a.cy&&U.push(k)}),j=_.union(j,U)}_.some(A,function(k){return N.supportsFilterOutput(k)})?(0,u.M2)(this.eventBridge,F.visualContainers,O):_.isEmpty(j)||(0,u.M2)(this.eventBridge,j,O)},L.prototype.updateCrossHighlightCollectedFilters=function(F,A,O){var N=F&&F.crossFilterSource&&F.crossFilterSource.highlight;if(N){var w=_.find(N,function(I){return I.sourceVisualContainer===O});w&&!_.isEmpty(w.selection)&&(w.collectedFilters=this.collectVisualContainerFilters(A,F,O),(0,u.Rr)(this.eventBridge,O))}},L.prototype.calculateFilterContainerInputFilter=function(F,A,O,N,w){if(O&&A&&w){var I;0===w.scopeType&&(I=w.container);var B=new S(this.visualPlugins);if(F&&B.collectFiltersForFilterContainer(F.filters,2,O),1===w.scopeType){var j=5===O.howCreated?_.filter(A.filters,function(U){return null!=U&&5===U.howCreated}):A.filters;B.collectFiltersForFilterContainer(j,1,O)}else 2!==w.scopeType&&B.collectFiltersForFilterContainer(A.filters,1,O);this.collectSelfFilter(B,null,O),I&&(B.collectFiltersForFilterContainer(I.filters,0,O,I),this.collectCrossFilter(B,A,I));var W=new d.ME(I,O);return W.addCollectedFilters(B.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(O,I,N,A)),W.getFilters()}},L.prototype.getVisualContainerCrossFilters=function(F,A,O){var N=new S(this.visualPlugins);this.collectCrossFilter(N,F,A);var w=new d.ME(A);return w.addCollectedFilters(N.getCollectedFilters(),!1,this.getShouldApplyFilter(A,O,F)),this.addHighlightFilter(w,F,A,O),this.addCrossDrillFilters(w,F,A,O),{dataFilters:w.getCrossFilters()||[],highlightFilters:w.getHighlightFilters()}},L.prototype.checkSelectionLimit=function(F,A,O,N){var w=this.countSelectedDataPoints(F,A,N),I=O.length;return{existingSelectionLength:w,newSelectionLength:I,allowed:!(w+I>s.tv)}},L.prototype.logRFilterTelemetry=function(F,A,O,N){var w=(0,m.aG)(A,this.scriptVisuals);_.isEmpty(w)||this.telemetryService.logChildEvent(N&&N.event,F,{filterType:O,visualIds:JSON.stringify(w)})},L.prototype.setCrossHighlightOperation=function(F,A,O,N,w,I,B){var j=O.crossFilterSource&&O.crossFilterSource.highlight,W=!1;if(w){W=!0,O.crossFilterSource||(O.crossFilterSource={highlight:[]}),O.crossFilterSource.highlight||(O.crossFilterSource.highlight=[]);var U=O.crossFilterSource.highlight,k=void 0;3!==N&&1!==N||!this.newAndPreviousSelectionsSupportMultiVisualSelection(w,U)?(O.crossFilterSource.highlight=U=[],k=0):-1===(k=_.findIndex(U,function(Te){return Te.sourceVisualContainer===w}))&&(k=U.length),null==A?(_.isEmpty(U)||((U=(0,e.__spreadArray)([],U||[],!0)).splice(k,1),O.crossFilterSource.highlight=U),w=null):U[k]={sourceVisualContainer:w,selection:A,selectorFilter:(0,v.k_)(A),collectedFilters:_.isEmpty(A)?[]:this.collectVisualContainerFilters(F,O,w),filterExpressionMetadata:I},this.logRFilterTelemetry(c.qi,O,"Highlight",B)}else j&&(W=!0,O.crossFilterSource.highlight=void 0);if(W){var Q=O.crossFilterSource&&O.crossFilterSource.highlight;if(!_.isEmpty(j)){for(var te=function(Qe){-1===_.findIndex(Q,function(He){return He.sourceVisualContainer===Qe.sourceVisualContainer})&&(0,u.kK)(ee.eventBridge,Qe.sourceVisualContainer)},ee=this,J=0,re=j;J<re.length;J++)te(re[J]);for(var ne=function(Qe){if(Qe.sourceVisualContainer!==w&&-1===_.findIndex(Q,function(Ce){return Ce.sourceVisualContainer===Qe.sourceVisualContainer}))return w=null,"break"},X=0,oe=j;X<oe.length&&"break"!==ne(oe[X]);X++);}return _.filter(O.visualContainers,function(Te){return Te!==w})}},L.prototype.newAndPreviousSelectionsSupportMultiVisualSelection=function(F,A){return f.fF.assertValue(A,"highlights"),!(!this.supportsMultiVisualSelection(F)||1===A.length&&!this.supportsMultiVisualSelection(A[0].sourceVisualContainer))},L.prototype.supportsMultiVisualSelection=function(F){var A=(0,u.cj)(F,this.visualPlugins);return A&&A.supportsMultiVisualSelection},L.prototype.clearCrossHighlightOperation=function(F){if(F.crossFilterSource&&F.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,F)},L.prototype.clearCrossDrillFromVisualContainersOperation=function(F,A){if(!_.isEmpty(A)){for(var O=[],N=0,w=A;N<w.length;N++){var B=this.updateCrossDrillFromVisualContainerOperation(F,w[N],!0);O=_.union(O,B)}return O}},L.prototype.updateCrossDrillFromVisualContainerOperation=function(F,A,O){f.fF.assert(function(){return O||_.includes(F.visualContainers,A)},"sourceVisualContainer should be a VisualContainer of the given section.");var I,N=F.crossFilterSource&&F.crossFilterSource.drill,w=!1;if(!O){var B=this.collectVisualContainerDrillFilters(A);_.isEmpty(B)||(I={sourceVisualContainer:A,collectedFilters:B})}var j=_.findIndex(N,function(W){return W.sourceVisualContainer===A});if(j>=0?(w=!0,I?N[j]=I:N.splice(j,1)):I&&(w=!0,F.crossFilterSource||(F.crossFilterSource={}),(F.crossFilterSource.drill||(F.crossFilterSource.drill=[])).push(I)),w)return _.filter(F.visualContainers,function(W){return W!==A})},L.prototype.collectSelfFilter=function(F,A,O){var w,N=this;if(f.fF.assertValue(F,"collector"),A)(w=this.getFilterFromFilterPropertyInVisualContainer(A,function(j){return N.tryGetSelfFilterProperty(j)}))&&((B=n.yl.clone(w)).setIgnoreMParameter(),F.collectFilter(B,null,A,0,o.w.Self));else if(w=this.getFilterFromFilterPropertyInFilterContainer(O,function(j){return N.tryGetSelfFilterProperty(j)})){var B;(B=n.yl.clone(w)).setIgnoreMParameter(),F.collectFilter(B,O,null,0,o.w.Self)}},L.prototype.collectCrossFilter=function(F,A,O){var N=this;f.fF.assertValue(F,"collector"),f.fF.assertValue(A,"section"),f.fF.assertValue(O,"targetVisualContainer");for(var w=0,I=A.visualContainers;w<I.length;w++){var B=I[w];if(B!==O){var j=this.getFilterFromFilterPropertyInVisualContainer(B,function(W,U){return N.tryGetFilterPropertyIdentifier(W,U)});j&&F.collectFilter(j,null,B,0,o.w.Slicer)}}},L.prototype.getFilterFromFilterPropertyUtil=function(F,A,O){var N=O(F,A&&A.visualType);if(N){var w=A.objects;if(w)return(0,b.NA)(w,N,null)}},L.prototype.getFilterFromFilterPropertyInVisualContainer=function(F,A){f.fF.assertValue(F,"visualContainer must be defined"),f.fF.assertValue(A,"getFilterPropertyIdentifierFunc must be defined");var O=(0,u.cj)(F,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(O,F.config&&F.config.singleVisual,A)},L.prototype.getFilterFromFilterPropertyInFilterContainer=function(F,A){f.fF.assertValue(F,"visualContainer must be defined"),f.fF.assertValue(A,"getFilterPropertyIdentifierFunc must be defined");var O=(0,u.oE)(F,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(O,F.config&&F.config.singleVisual,A)},L.prototype.addHighlightFilter=function(F,A,O,N){var w=A.crossFilterSource&&A.crossFilterSource.highlight;if(!_.isEmpty(w)&&(0,V.s)(O)!==x.D.slicer)for(var I=0,B=w;I<B.length;I++){var j=B[I];if(j.sourceVisualContainer!==O){var W=this.buildHighlightFiltersForRelatedTargets(j,N,A);if(W){var U=this.relationshipService.relationshipFilterAction(A,j.sourceVisualContainer,O,N,!1),k=(0,u.cj)(O,this.visualPlugins);0===U&&(U=this.relationshipService.defaultFilterAction(j.sourceVisualContainer,O)),F.mergeHighlightFiltersBasedOnRelationship(W,U,!k.supportsHighlight)}}}},L.prototype.addCrossDrillFilters=function(F,A,O,N){var w=A.crossFilterSource&&A.crossFilterSource.drill;if(!_.isEmpty(w)){for(var I=[],B=0,j=w;B<j.length;B++){var W=j[B],U=W.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(A,U,O,N)){var Q=new d.ME(U);Q.addCollectedFilters(W.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(U,N,A));var te=Q.getUnmergedDrillCrossFilter();if(te)for(var ee=function(X){F.addCrossFilter(X);var oe=_.find(W.collectedFilters,function(Ve){return Ve.filter===X.filter});f.fF.assertValue(oe,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),oe&&I.push(oe.filterContainer)},J=0,re=te;J<re.length;J++)ee(re[J])}}return I}},L.prototype.buildHighlightFiltersForRelatedTargets=function(F,A,O){var N=new d.ME(F.sourceVisualContainer);return F.selectorFilter&&N.setSelectorFilter({filter:F.selectorFilter,filterExpressionMetadata:F.filterExpressionMetadata,type:r.vA.Include}),N.addCollectedFilters(F.collectedFilters,!1,this.getShouldApplyHighlightFilter(F.sourceVisualContainer,A,O)),N.getCrossHighlightFilters()},L.prototype.getShouldApplyFilterContainerInputFilter=function(F,A,O,N){var w=this;return function(I,B,j){return w.shouldApplyFilterContainerInputFilter(I,B,j,F,A,O,N)}},L.prototype.shouldApplyFilterContainerInputFilter=function(F,A,O,N,w,I,B){if(f.fF.assertValue(F,"filter"),A===N)return!0;if(!this.shouldApplyFilter(F,A,O,w,I,B))return!1;var j=A&&A.expression;return!(j&&(0,T.k)(j)||_.some(F.conditions(),function(W){return 3===(0,p._)(W)}))},L.prototype.getShouldApplyHighlightFilter=function(F,A,O){var N=this;return function(w,I,B){return N.shouldApplyHighlightFilter(w,I,B,F,A,O)}},L.prototype.getShouldApplyDrillCrossFilter=function(F,A,O){var N=this;return function(w,I,B){return N.shouldApplyDrillCrossFilter(w,I,B,F,A,O)}},L.prototype.shouldApplyHighlightFilter=function(F,A,O,N,w,I){return!(!this.shouldApplyFilter(F,A,O,N,w,I)||_.some(F.conditions(),function(B){return 1===(0,p._)(B)}))},L.prototype.shouldApplyDrillCrossFilter=function(F,A,O,N,w,I){return!(!this.shouldApplyFilterForCrossDrill(F,A,O,N,w,I)||_.some(F.conditions(),function(B){return 1===(0,p._)(B)}))},L.prototype.getShouldApplyFilter=function(F,A,O,N){var w=this;return void 0===N&&(N=!1),function(I,B,j){return w.shouldApplyFilter(I,B,j,F,A,O,N)}},L.prototype.shouldApplyFilter=function(F,A,O,N,w,I,B){var j=this;return void 0===B&&(B=!1),this.shouldApplyFilterInternal(F,A,O,N,w,I,B?function(){return 1}:function(U,k,Q,te,ee){return j.relationshipService.relationshipFilterAction(U,k,Q,te,ee)})},L.prototype.shouldApplyFilterForCrossDrill=function(F,A,O,N,w,I){var B=this;return this.shouldApplyFilterInternal(F,A,O,N,w,I,function(U,k,Q,te,ee){return B.relationshipService.drillRelationshipFilterAction(U,k,Q,te)})},L.prototype.shouldApplyFilterInternal=function(F,A,O,N,w,I,B){var j,W,U;if(f.fF.assertValue(F,"filter"),A&&i.l.shouldDisableFilter(A,w,O,this.aggrOps,this.visualPlugins)||!_.isEmpty(F.validate(w,this.aggrOps))&&(!O||O!==N))return!1;if(O&&N&&O!==N){var k=null===(U=null===(W=null===(j=N.config)||void 0===j?void 0:j.singleVisual)||void 0===W?void 0:W.query)||void 0===U?void 0:U.projections;if(3===B(I,O,N,w,l.m.isFilterForFieldParameter(k,F,w)))return!1;var ee=O.config.singleVisual.syncGroup,J=N.config.singleVisual.syncGroup;if(ee&&J&&ee.groupName===J.groupName)return!1}return!0},L.prototype.countSelectedDataPoints=function(F,A,O){var N;f.fF.assertAnyValue(F,"sourceVisualContainer"),f.fF.assertValue(A,"section");var w=null===(N=A.crossFilterSource)||void 0===N?void 0:N.highlight;return O?_.chain(w).reduce(function(I,B){return I+(B.sourceVisualContainer!==F?B.selection.length:0)},0).value():0},L.prototype.setMultipleFiltersOnSelectData=function(F,A,O,N,w){for(var I=this.clearCrossHighlightOperation(A),B=0,j=O;B<j.length;B++){var W=j[B];I=_.union(I,this.setCrossHighlightOperation(F,W.selection,A,3,W.sourceVisualContainer,W.filterExpressionMetadata))}(0,u.M2)(this.eventBridge,I,"UserAction_CrossHighlight",N,w)},L.prototype.setFilterOnSelectData=function(F,A,O,N,w,I,B,j){if(this.supportsFilterOutput(N))this.logRFilterTelemetry(c.qi,O,"Data",w);else{var W=this.setCrossHighlightOperation(F,A,O,B,N,j,w);(0,u.M2)(this.eventBridge,W,"UserAction_CrossHighlight",w,I)}},L.prototype.updateCrossFilterOnDrill=function(F,A){var O=this.updateCrossDrillFromVisualContainerOperation(F,A,!1);(0,u.M2)(this.eventBridge,O)},L.prototype.updateCrossDrillFromVisualContainers=function(F,A){var O=this.updateCrossDrillFromVisualContainersOperation(F,A);(0,u.M2)(this.eventBridge,O)},L.prototype.updateCrossDrillFromVisualContainersOperation=function(F,A){if(!_.isEmpty(A)){for(var O=[],N=0,w=A;N<w.length;N++){var B=this.updateCrossDrillFromVisualContainerOperation(F,w[N],!1);O=_.union(O,B)}return O}},L.prototype.updateCrossDrillOfSection=function(F){var A=this.updateCrossDrillOfSectionOperation(F);(0,u.M2)(this.eventBridge,A)},L.prototype.updateCrossDrillOfSectionOperation=function(F){return this.updateCrossDrillFromVisualContainersOperation(F,F.visualContainers)},L.prototype.getDrillCrossFiltersToApply=function(F,A,O){var N=new d.ME(A);return this.addCrossDrillFilters(N,F,A,O)},L.prototype.supportsFilterOutput=function(F){return i.l.supportsFilterOutput((0,u.cj)(F,this.visualPlugins))},L.prototype.tryGetFilterPropertyIdentifier=function(F,A){return i.l.tryGetFilterPropertyIdentifier(F,A,this.visualPlugins)},L.prototype.tryGetSelfFilterEnabledProperty=function(F){if(F)return(0,h.H_)(F.objects)},L.prototype.tryGetSelfFilterProperty=function(F){if(F)return(0,h.Cr)(F.objects)},L.prototype.resolveFilterTargets=function(F,A,O,N,w){if(!n.vQ.willFiltersAffectQuery(A.defn))return A.defn;var I={dataRoles:O,mappings:N,queryProjections:A.projections,select:A.defn.select(),schema:F},B=new M(I),j=A.defn;return w&&(j=j.addSemanticFilter(w)),B.resolveSemanticQuery(j)},L.prototype.applyFilterOutput=function(F){this.supportsFilterOutput(F)&&(0,u.Rr)(this.eventBridge,F)},L}()},961046:function(Je,H,t){t.d(H,{ME:function(){return y},i3:function(){return S},tA:function(){return V}});var e=t(322487),c=t(883863),s=t(787941),f=t(13106),v=t(226514),b=t(474147),h=t(116170),p=t(138030),l=function(C){function E(){var M=C.call(this)||this;return M.fieldsBeingFiltered=[],M}return(0,v.__extends)(E,C),E.prototype.visitCondition=function(M){return M.accept(this,0)},E.prototype.visitIn=function(M,P){if(0!==P||!M.args)return!1;for(var T=0,x=M.args;T<x.length;T++)if(!x[T].accept(this,1))return!1;return!(!M.values||M.table)},E.prototype.visitColumnRef=function(M,P){return 1===P&&(this.fieldsBeingFiltered.push(M),!0)},E}(h.Ml),r=t(334281),o=t(156319),a=t(809395),i=t(601139);function u(C){if(_.isEmpty(C))return!1;for(var E=0,M=C;E<M.length;E++)if(_.some(M[E].filter.where(),function(T){return 3===(0,i._)(T.condition)}))return!0;return!1}function V(C,E,M,P,T,x,R){s.fF.assert(function(){return!!C},"Filter required");var D={filter:C,scope:E,filterExpressionMetadata:R};if(M)D.restatement=M.restatement,D.type=M.type,D.isHidden=!!M.isHiddenInViewMode,D.filterExpressionMetadata=M.expression?{expressions:[M.expression]}:void 0,D.displayName=M.displayName,M.cachedValueItems&&D.filterExpressionMetadata?D.filterExpressionMetadata.cachedValueItems=g(M.cachedValueItems,0):M.filterExpressionMetadata&&(D.filterExpressionMetadata=M.filterExpressionMetadata);else if(P&&o.l.supportsFilterOutput(T)&&P.config.singleVisual.query){var L=P.config.singleVisual.query.defn.select(),F=P.config.singleVisual.cachedFilterDisplayItems,A=P.config.singleVisual.filterExpressionMetadata;if(s.fF.assert(function(){return null==F||null==A},"We should not have both caches defined at the same time"),L.length>=1&&F&&x===r.w.Slicer)D.filterExpressionMetadata={expressions:[L[0].expr],cachedValueItems:g(F,0)};else if(A)D.filterExpressionMetadata=A;else{D.filterExpressionMetadata={expressions:[]};for(var O=0,N=L;O<N.length;O++)D.filterExpressionMetadata.expressions.push(N[O].expr)}}return D}function d(C){if(null!=C){var E={Restatement:C.restatement,type:C.type};return C.expression&&(E.expression=e.ib.serializeExpr(C.expression)),E}}function S(C){if(!_.isEmpty(C)){for(var E=[],M=0,P=C;M<P.length;M++)E.push(d(P[M]));return E}}function g(C,E){for(var M=[],P=0,T=C;P<T.length;P++){var x=T[P],R={identities:[x.identity],valueMap:{}};R.valueMap[E]=x.displayName,M.push(R)}return M}var y=function(){function C(E,M){if(this.visualContainer=E,this.filterContainer=M,E){var P=(0,a.Xf)(E);P&&(this.visualSemanticQuery=P.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}return C.prototype.setSelectorFilter=function(E){var M=this;s.fF.assertValue(E,"filter"),s.fF.assert(function(){return!M.selectorFilter},"should not call setSelectorFilter twice"),this.selectorFilter=E,this.shouldPruneUnnecessaryFilters=!0},C.prototype.addDrillFilter=function(E){s.fF.assertValue(E,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(E)},C.prototype.addVisualFilter=function(E){s.fF.assertValue(E,"filter"),this.visualSemanticQuery&&(E.filter=(0,f.d3)(E.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(E),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0},C.prototype.addDrillthroughFilter=function(E){s.fF.assertValue(E,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addSectionFilter=function(E){s.fF.assertValue(E,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addReportFilter=function(E){s.fF.assertValue(E,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addCrossFilter=function(E){s.fF.assertValue(E,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(E),this.needToEnsurePrecedence=!0},C.prototype.addHighlight=function(E){s.fF.assertValue(E,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(E)},C.prototype.addCollectedFilters=function(E,M,P){s.fF.assertValue(E,"collectedFilters");for(var T=0,x=E;T<x.length;T++){var R=x[T],D=R.filter,L=R.filterContainer,F=R.sourceVisualContainer;if(!P||P(D,L,F)){var A=L;R.filterContainer&&R.filterContainer===this.filterContainer&&(A=null);var O=V(D,R.scopeType,A,F,R.sourceVisualContainerCapabilities,R.collectedFilterSource);!L||2!==L.howCreated&&0!==L.precedence?R.sourceVisualContainer?R.sourceVisualContainer===this.visualContainer?this.addVisualFilter(O):this.addCrossFilter(O):5===L.howCreated?this.addDrillthroughFilter(O):1===R.scopeType?this.addSectionFilter(O):2===R.scopeType?this.addReportFilter(O):R.filterContainer&&R.filterContainer===this.filterContainer&&this.addVisualFilter(O):this.addDrillFilter(O),M&&L&&(this.metadata=this.metadata||[],this.metadata.push(d(L)))}}},C.prototype.mergeHighlightFiltersBasedOnRelationship=function(E,M,P){var T=this;switch(M){case 0:s.fF.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case 2:if(!P){_.each(E,function(x){return T.addHighlight(x)});break}case 1:E&&_.each(E,function(x){return T.addCrossFilter(x)});break;case 3:break;default:s.fF.assertFail("Unknown visual relationship filter action")}},C.prototype.getFilters=function(E){var M=this.getFilterData(E),P=this.highlightFilters&&f.yl.merge(this.highlightFilters.map(function(T){return T.filter}));return{dataFilter:M?f.yl.merge(_.map(M,function(T){return T.filter})):void 0,dataFiltersUnmerged:M,highlightFilter:P,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}},C.prototype.getFilterData=function(E){var M=this;if(s.fF.assert(function(){return!M.selectorFilter},"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),E||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var x=this.sectionFilters||[],R=this.drillthroughFilters||[],D=this.reportFilters||[],L=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(L).concat(x).concat(R).concat(D)}},C.prototype.getCrossHighlightFilters=function(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])},C.prototype.getHighlightFilters=function(){return this.highlightFilters},C.prototype.clearHighlightFilters=function(){this.highlightFilters=void 0},C.prototype.getUnmergedDrillCrossFilter=function(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters},C.prototype.getCrossFilters=function(){return this.crossFilters},C.prototype.ensurePrecedence=function(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(C){if(s.fF.assertValue(C,"filterScope"),s.fF.assert(function(){return!u(C.sectionFilters)},"Page filters are not expected to have the subqueries."),s.fF.assert(function(){return!u(C.reportFilters)},"Report filters are not expected to have the subqueries."),_.isEmpty(C.visualFilters))return C.visualFilters;for(var E=!1,M=[],P=0,T=C.visualFilters;P<T.length;P++){var D=(x=T[P]).filter.where().filter(function(w){return 0===(0,i._)(w.condition)});E=E||u([x]),M.push.apply(M,D.map(function(w){return f.yl.fromSQExpr(w.condition)}))}if(!E)return C.visualFilters;for(var L=[],F=0,A=C.visualFilters;F<A.length;F++){var x,O=x=A[F];if(u([x])){var N=x.filter;_.isEmpty(M)||(N=(0,f.RD)(N,M)),_.isEmpty(C.crossFilters)||(N=(0,f.RD)(N,C.crossFilters.map(function(I){return I.filter}))),_.isEmpty(C.sectionFilters)||(N=(0,f.RD)(N,C.sectionFilters.map(function(I){return I.filter}))),_.isEmpty(C.drillThroughFilters)||(N=(0,f.RD)(N,C.drillThroughFilters.map(function(I){return I.filter}))),_.isEmpty(C.reportFilters)||(N=(0,f.RD)(N,C.reportFilters.map(function(I){return I.filter}))),O={filter:N}}L.push(O)}return L}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)},C.prototype.pruneUnnecessaryFilters=function(){var E=this;this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,c.Rl)(this.visualFilters,function(M,P){return M.filter=function(C,E){if(!E||!C)return C;var M=E.conditions();if(!M||1!==M.length)return C;var P=new l;if(!P.visitCondition(M[0]))return C;for(var D,T=P.fieldsBeingFiltered,x=C.from(),R=C.where(),L=function(N,w){var I=R[N],B=(0,p.J_)(I,x);B&&_.find(T,function(j){return(0,b.fS)(B.fieldBeingFiltered,j)})?D||(D=_.take(R,N)):D&&D.push(I)},F=0,A=R.length;F<A;F++)L(F);return D?f.yl.fromSQFromAndSQFilters(x,D):C}(M.filter,E.selectorFilter.filter),M.filter.where().length>0})),this.shouldPruneUnnecessaryFilters=!1)},C}()},726934:function(Je,H,t){t.d(H,{Q:function(){return o}});var e=t(226514),c=t(489680),s=t(267698),f=t(358724),v=t(144900),b=t(942983),h=t(777300),p=t(658353),n=t(656011),l=t(1745),r="apr_error_notification_bar";function o(m,u,V,d,S,g,y,C,E,M,P,T){return new i(m,u,V,d,S,g,y,C,E,M,P,T)}var a={autoRefreshEnabled:!0,refreshIntervalSeconds:1},i=function(){function m(u,V,d,S,g,y,C,E,M,P,T,x){this.telemetryService=u,this.eventBridge=V,this.explorationNavigation=d,this.dataSourcesService=S,this.conceptualSchemaProxy=g,this.globalEventBridge=y,this.visualTimeSynchronizationService=C,this.notificationBarService=E,this.localizationService=M,this.errorService=P,this.reportRefreshCacheService=T,this.reportRefreshConfigProxy=x,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=V.createChannelSubscriptionManager()}return m.prototype.subscribeEvents=function(){var u=this;null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(l.yVh,function(){return u.onSectionChanged()}).subscribe(s.dm,function(){return u.onVisualsLoaded()}).subscribe(l.jsX,function(){return u.onSectionsObjectsEvaluated()}).subscribe(l.CCe,function(){return u.onModelChanged()})},m.prototype.init=function(u){return void 0===u&&(u=!0),(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.triggerNotifications=u,[4,this.loadPageSettings()];case 1:return V.sent(),[4,this.updateRefreshState()];case 2:return V.sent(),this.subscribeEvents(),[2]}})})},m.prototype.destroy=function(){var u;this.stopRefresh(),null===(u=this.subscriptionManager)||void 0===u||u.unsubscribeAll(),this.subscriptionManager=void 0},m.prototype.refreshData=function(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(l.jCS,{affectContainer:function(){return!0}})},m.prototype.setRefreshPaused=function(u){this.refreshPaused=u},m.prototype.getRefreshStats=function(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}},m.prototype.loadAdminSettings=function(){var u,V;return(0,e.__awaiter)(this,void 0,v.J,function(){var d,S,g;return(0,e.__generator)(this,function(y){switch(y.label){case 0:return[4,this.isPageRefreshSupported()];case 1:if(!y.sent())return[2];if(!this.reportRefreshConfigProxy)return this.adminConfig=a,[2];d=null===(V=null===(u=this.explorationNavigation.getCurrentExploration())||void 0===u?void 0:u.report)||void 0===V?void 0:V.modelId,y.label=2;case 2:return y.trys.push([2,4,,5]),S=this,[4,this.reportRefreshConfigProxy.getAPRConfig(d)];case 3:return S.adminConfig=y.sent(),[3,5];case 4:return g=y.sent(),this.telemetryService.logEvent(p.Hl,{modelId:d}),this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,g,"FailedToGetAPRAdminConfig"),this.adminConfig=void 0,[2];case 5:return this.adminConfig?this.adminConfig.autoRefreshEnabled||this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0),[2]}})})},m.prototype.loadPageSettings=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u,V,d;return(0,e.__generator)(this,function(S){switch(S.label){case 0:return V=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(V)];case 1:return S.sent()?(u=this.refreshIntervalInMilliseconds,d=(0,n.bW)(V.evaluatedObjects.pageRefresh.duration||b.oK),this.refreshIntervalInMilliseconds=(0,n.A9)(d)):this.refreshIntervalInMilliseconds=void 0,[2,this.refreshIntervalInMilliseconds!==u]}})})},m.prototype.onSectionsObjectsEvaluated=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.loadPageSettings()];case 1:return u=V.sent(),this.refreshIntervalInMilliseconds&&u?this.updateRefreshState():!this.refreshIntervalInMilliseconds&&this.isRunning&&this.stopRefresh(),[2]}})})},m.prototype.onModelChanged=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.getRefreshInterval()];case 1:return(u=V.sent())&&!this.isRunning?this.updateRefreshState():!u&&this.isRunning&&this.stopRefresh(),[2]}})})},m.prototype.getRefreshInterval=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return V.sent()?this.refreshIntervalInMilliseconds&&this.adminConfig&&this.adminConfig.autoRefreshEnabled?(u=_.max([this.refreshIntervalInMilliseconds,1e3*this.adminConfig.refreshIntervalSeconds]),[2,_.min([f.c41,u])]):[2]:[2,null]}})})},m.prototype.isPageRefreshSupported=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())];case 1:return u=d.sent(),[3,3];case 2:return d.sent(),[2,!1];case 3:return[2,_.some(u.schemas,function(S){return S.capabilities&&S.capabilities.supportsFastRefresh})]}})})},m.prototype.updateRefreshState=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.stopRefresh(),this.isRunning=!0,this.adminConfig||null==this.refreshIntervalInMilliseconds?[3,2]:[4,this.loadAdminSettings()];case 1:V.sent(),V.label=2;case 2:return[4,this.getRefreshInterval()];case 3:return null!=(u=V.sent())?this.runTimer(u):this.isRunning=!1,[2]}})})},m.prototype.triggerRefreshUponSectionChange=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return u=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(u)];case 1:return V.sent()&&this.triggerRefresh(),[2]}})})},m.prototype.onSectionChanged=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(u){switch(u.label){case 0:return[4,this.triggerRefreshUponSectionChange()];case 1:return u.sent(),this.lastUpdateDate=void 0,[4,this.loadPageSettings()];case 2:return u.sent(),[4,this.updateRefreshState()];case 3:return u.sent(),[2]}})})},m.prototype.onVisualsLoaded=function(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()},m.prototype.stopRefresh=function(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(r)},m.prototype.clearTimeoutAndAnimationFrame=function(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0},m.prototype.runTimer=function(u){var V=this;this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+u),this.notifyReportRefreshStateChanged(),this.timeoutId=setTimeout(function(){V.timeoutId=void 0,V.animationFrameId=requestAnimationFrame(function(){V.animationFrameId=void 0,V.onTimerTriggered()})},u)},m.prototype.onTimerTriggered=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var u;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.timerExpired=!0,this.visualsLoaded?this.onTimerExpired():this.refreshDelayedCount+=1,[4,this.loadAdminSettings()];case 1:return V.sent(),[4,this.getRefreshInterval()];case 2:return null!=(u=V.sent())?this.runTimer(u):this.stopRefresh(),[2]}})})},m.prototype.triggerRefresh=function(){var u=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(u),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(l.tYc)},m.prototype.calculateEffectiveInterval=function(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0},m.prototype.onTimerExpired=function(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())},m.prototype.logTriggerRefresh=function(u){return(0,e.__awaiter)(this,void 0,v.J,function(){var V,d,S,g,y,C,E,M,P,T,x;return(0,e.__generator)(this,function(R){switch(R.label){case 0:return V=this.explorationNavigation.getCurrentSection(),d=this.explorationNavigation.getCurrentExploration().report,S=this.explorationNavigation.getExplorationTelemetryData(),g="",y=-1,C="",E="-1",M="-1",d&&d.model&&(g=(P=d.model).dbName,C=d.objectId,y=P.id),T=V.objectId,[4,this.getRefreshInterval()];case 1:return x=R.sent(),S&&(E=S.exid,M=S.exsid),this.telemetryService.logEvent(c._3,{reportId:C,pageId:T,dbName:g,modelId:y,interval:x,delayCount:u,exid:E,exsid:M}),[2]}})})},m.prototype.notifyReportRefreshStateChanged=function(){if(this.triggerNotifications){var u=void 0,V=this.explorationNavigation.getCurrentExploration().report;V&&(u=V.objectId),this.globalEventBridge.publishToChannel(s.VF,{reportId:u,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}},m.prototype.sendNotification=function(u,V,d,S){var g=this;void 0===V&&(V=!1);var y={id:r,message:u,notificationType:1,actions:[]};d&&(y.secondaryLink={action:function(){g.errorService.error(u,S,{requestId:d.requestId,statusCode:d.status&&d.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),V&&y.actions.push({action:function(){g.notificationBarService.hide(r),g.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(y)},m.prototype.isAPREnabledInSection=function(u){return(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return V.sent()?[2,u&&u.evaluatedObjects&&u.evaluatedObjects.pageRefresh&&u.evaluatedObjects.pageRefresh.show&&(null==u.evaluatedObjects.pageRefresh.refreshType||u.evaluatedObjects.pageRefresh.refreshType===h.wO)]:[2,!1]}})})},m}()},316590:function(Je,H,t){t.d(H,{e:function(){return c}});var e=t(787941);function c(){return new s}var s=function(){function f(){this.runningVisuals={}}return f.prototype.getVisual=function(v){e.fF.assertValue(v&&v.name,"contract");var b=this.runningVisuals[v.name];if(null!=b&&b.contract===v)return b.visual},f.prototype.setVisual=function(v,b){e.fF.assertValue(v&&v.name,"contract"),e.fF.assertValue(b,"visual"),this.runningVisuals[v.name]={contract:v,visual:b}},f.prototype.removeVisual=function(v){e.fF.assertValue(v&&v.name,"contract"),delete this.runningVisuals[v.name]},f}()},753355:function(Je,H,t){t.d(H,{s:function(){return f}});var e=t(787941),c=t(899027),s=t(35801);function f(b,h,p,n,l,r){return new v(b,h,p,n,l,r)}var v=function(){function b(h,p,n,l,r,o){e.fF.assertValue(h,"visualPluginService"),e.fF.assertValue(p,"featureSwitchService"),e.fF.assertValue(n,"localizationService"),e.fF.assertAnyValue(l,"userInfo"),e.fF.assertValue(o,"licenseEnforcementServiceExtend"),this.services={visualPlugin:h,featureSwitchService:p,localizationService:n,userInfo:l,embedModeService:r,licenseServiceExtend:o}}return b.prototype.addScriptVisualInfo=function(h,p){var n=(0,s.s)(h);if(this.services.visualPlugin.isScriptVisual(n)&&h.id){var l={id:h.id,scriptType:(0,c.lX)(n)};p.push(l)}},b.prototype.showEnableScriptVisualDialogIfRequiredAsync=function(h,p,n){return e.fF.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null},b.prototype.getScriptVisualErrorDetails=function(h,p){var n,l=this.services.localizationService,r=this.services.featureSwitchService.featureSwitches;if(0!==h||r.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return r.scriptVisualAnonymousEmbeddingEnabled||(n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",h)))),n;var i=this.getUserInfoForErrorDetails();if(i&&i.isViralTenant)n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",h)));else if(!1===r.rScriptVisualEnabled)n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",h)));else{var m=!1,u=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!u&&(m=p&&this.services.licenseServiceExtend.isReportInPremiumCapacity(p)),i&&!1===i.isPremiumUser&&!m?n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsIsProFeature",h))):i&&void 0===i.isPremiumUser&&void 0===i.isViralTenant&&void 0===p&&(n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",h))))}}else n=this.buildErrorDetails(l.get(this.getLocalizationKey("Error_VisualsNotSupported",h)));return n},b.prototype.overrideEmbeddedErrorDetails=function(h,p){var n=this.services.embedModeService&&(this.services.embedModeService.isAppTokenEmbed()||this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),l=this.services&&this.services.localizationService;if(n&&p){var r=p;return r.helpLink="",r.message=l.get(this.getLocalizationKey("Error_VisualsEmbeddedText",h)),r.displayableErrorInfo=[{errorInfoKey:l.get(this.getLocalizationKey("Error_VisualsEmbeddedText",h)),errorInfoValue:l.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",h))}],r}},b.prototype.getLocalizationKey=function(h,p){var n;switch(p){case 0:n="R";break;case 1:n="Py";break;default:n=""}return n+h},b.prototype.shouldBlockScriptVisual=function(h,p){var n=this.services.featureSwitchService.featureSwitches,l=this.getUserInfoForErrorDetails(),r=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),o=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(h){case 0:if(r)return!n.scriptVisualAnonymousEmbeddingEnabled||!n.scriptVisualEnabled;var a=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!o&&(a=p&&this.services.licenseServiceExtend.isReportInPremiumCapacity(p)),!a&&(!n.scriptVisualEnabled||l&&l.isViralTenant||!n.rScriptVisualEnabled||l&&!l.isPremiumUser);case 1:return r?!n.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!o&&(a=p&&this.services.licenseServiceExtend.isReportInPremiumCapacity(p)),!a&&(l&&l.isViralTenant||l&&!l.isPremiumUser))}},b.prototype.canLaunchExternalIDE=function(){return!1},b.prototype.launchExternalIDE=function(h){return null},b.prototype.openOptionsDialogAsync=function(){return null},b.prototype.refreshScriptCustomVisuals=function(h){e.fF.assertFail("Function not implemented for Service")},b.prototype.triggerDataRefresh=function(){var h="Visual_Error_RefreshFailed",p=this.services.localizationService.get(h),n=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:n,displayableErrorInfo:[{errorInfoKey:p,errorInfoValue:n}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:1,hideDebugInfo:!0,resourceKey:h}},b.prototype.buildErrorDetails=function(h){return{message:h,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:1}},b.prototype.getUserInfoForErrorDetails=function(){var h=this.services.userInfo,p=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(h&&!Array.isArray(h)&&!p)return{isViralTenant:h.userMetadata&&h.userMetadata.tenantMetadata&&0===h.userMetadata.tenantMetadata.tenantType,isPremiumUser:h.isPremiumUser}},b}()},555161:function(Je,H,t){t.d(H,{Oz:function(){return p},UP:function(){return v},_g:function(){return h}});var e=t(787941),c=t(273139),s=t(35801),f=t(281482),v=function(){function n(){}return n.getSelectedVisualContainer$=function(l){return l.selectedElements$.pipe((0,f.U)(function(r){if(1===_.size(r)){var a=r[0].canvasItem;return a&&(0,c.Vz)(a)?a:void 0}}))},n.selectCanvasItem=function(l,r,o,a){void 0===o&&(o=0);var i=b.createSelectableCanvasItem(l);r.selectElement(i,o,a)},n.unselectCanvasItem=function(l,r){var o=n.getSelectedCanvasItems(r);_.includes(o,l)&&n.selectCanvasItems(_.without(o,l),r)},n.selectSubSelection=function(l,r,o,a){var i=b.createSubSelectableCanvasItem(r,o);l.selectElement(i,a)},n.selectCanvasItems=function(l,r,o){var a=_.map(l,function(i){return b.createSelectableCanvasItem(i)});r.selectElements(a,0,o)},n.isCanvasItemSelected=function(l,r){var o=n.getSelectedCanvasItems(r);return _.includes(o,l)},n.getSelectedCanvasItem=function(l){return _.first(n.getSelectedCanvasItems(l))},n.getSelectedCanvasItems=function(l){return _.chain(l.getSelectedElements()).map(function(r){return r.canvasItem}).compact().value()},n.getSelectedVisualContainers=function(l){return _.chain(n.getSelectedCanvasItems(l)).filter(function(r){return(0,c.Vz)(r)}).compact().value()},n.getSelectedVisualContainerGroups=function(l){return _.chain(n.getSelectedCanvasItems(l)).filter(function(r){return(0,c.q4)(r)}).compact().value()},n.hasMultipleVisualContainerSelection=function(l){return n.getSelectedCanvasItems(l).length>1},n.getSelectedVisual=function(l){var r=n.getSelectedCanvasItems(l);if(1===r.length){var o=r[0];return(0,c.Vz)(o)?o:void 0}},n.getDefaultSelectedVisualInSingleOrMultiCase=function(l){var r=_.isArray(l)?l:n.getSelectedCanvasItems(l),o=r[0];if(o){var a=(0,s.s)(o);return _.every(r,function(i){return(0,s.s)(i)===a})?o:void 0}},n.clearSubSelections=function(l){var r=l.getSelectedElements();if(r){for(var o=n.getSelectedVisualContainers(l),a=[],i=!1,m=0,u=r;m<u.length;m++){var V=u[m];_.isEmpty(V.subSelections)?a.push(V):(i=!0,a.push(b.createSubSelectableCanvasItem(V.canvasItem,[])))}i&&l.selectElements(a,o.length>1?1:0)}return r},n}(),b=function(){function n(){}return n.createSelectableCanvasItem=function(l){return p.createFromCanvasItem(l)},n.createSubSelectableCanvasItem=function(l,r){return p.createFromSubSelections(l,r)},n}(),h=function(){function n(){}return n.equals=function(l,r){if(l.length!==r.length)return!1;for(var o=0,a=l.length;o<a;o++)if(!p.equals(l[o],r[o]))return!1;return!0},n}(),p=function(){function n(){}return Object.defineProperty(n.prototype,"id",{get:function(){if(this._canvasItem)return this._canvasItem.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasItem",{get:function(){return this._canvasItem},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"subSelections",{get:function(){return this._subSelections},enumerable:!1,configurable:!0}),n.createFromCanvasItem=function(l){var r=new n;return r._canvasItem=l,r},n.createFromSubSelections=function(l,r){var o=n.createFromCanvasItem(l);return o._subSelections=r,o},n.equals=function(l,r){return(l=l||null)===(r=r||null)||!(!l!=!r||(e.fF.assertValue(l,"left"),e.fF.assertValue(r,"right"),l.id!==r.id||l.canvasItem!==r.canvasItem||!_.isEqual(l.subSelections,r.subSelections)))},n}()},798379:function(Je,H,t){t.d(H,{F:function(){return s}});var e=t(693825),c=t(568837);function s(v){return new f(v)}var f=function(){function v(b){this.downgraders=b,this.objectsDowngrader=(0,c.x)(this.downgraders)}return v.prototype.getFinalExplorationVersion=function(b,h){h=(0,e.Fp)(h,this.getFinalExplorationForObjectsVersion(b,h));for(var p=0,n=this.downgraders;p<n.length;p++)h=(0,e.Fp)(h,n[p].getMinDowngradeVersionForContract(b));return h},v.prototype.downgrade=function(b,h){this.downgradeVisualObjects(b,h);for(var p=0,n=this.downgraders;p<n.length;p++)n[p].downgrade(b,h)},v.prototype.downgradeVisualObjects=function(b,h){var p=b&&b.sections;if(p)for(var n=0,l=p;n<l.length;n++){var r=l[n],o=r&&r.visualContainers;if(!o)return;for(var a=0,i=o;a<i.length;a++){var m=i[a],u=m&&m.config&&m.config.singleVisual;if(u){var V=u.visualType,d=u.vcObjects;d&&this.objectsDowngrader.downgrade(2,d,V,h);var S=u.objects;S&&this.objectsDowngrader.downgrade(1,S,V,h)}}}},v.prototype.getFinalExplorationForObjectsVersion=function(b,h){var p=b&&b.sections;if(p){for(var n=0,l=p;n<l.length;n++){var r=l[n],o=r&&r.visualContainers;if(!o)return;for(var a=0,i=o;a<i.length;a++){var m=i[a],u=m&&m.config&&m.config.singleVisual;if(u){var V=u.visualType,d=u.vcObjects;d&&(h=(0,e.Fp)(h,this.objectsDowngrader.getFinalVisualObjectsVersion(2,d,h,V)));var S=u.objects;S&&(h=(0,e.Fp)(h,this.objectsDowngrader.getFinalVisualObjectsVersion(1,S,h,V)))}}}return h}},v}()},873879:function(Je,H,t){t.d(H,{bZ:function(){return Se}});var e=t(226514),c=t(415859),s=t(95788),f=t(718706),v=t(962210),b=t(890795),h=t(322487),p=t(338780),n=t(776791),l=t(159803),r=t(693825),o=t(535909),a=t(497610),i=t(935270),m=t(36629),u=t(684282),V=t(883863),d=t(787941),S=t(299747),g=t(826691),y=t(690016),C=t(261374),E=t(353705),M=t(426827),P=t(668268),T=t(324356),x=t(926201),R=t(796899),D=t(942983),L=t(8590),F=t(860141),A=t(272039),O=t(505876),N=t(90117),w=t(160046),I=t(859541),B=t(273139),j=t(277632),W=t(658353),U=t(571330),k=t(156319),Q=t(85091),te=t(809395),ee=t(67093),J=t(798379),re=t(276937),G=t(793688),ne=t(764830),X=t(999519),oe=t(89858),Ve=t(915455),Te=t(456535),Qe=t(374952),He=t(600348),Ce=t(465829),de=t(944854),pe=t(565146),le="Gradient",me="Size";function be(Ee,K){var Ne=void 0,Y=!0;if(!_.isEmpty(Ee)){for(var ye=new Map,rt=0,it=Ee;rt<it.length;rt++){var De=K(it[rt]),Le=ye.get(De);null!=Le?(Y=!1,ye.set(De,Le+1)):ye.set(De,1)}Y||(Ne=Object.fromEntries(ye.entries()))}return{allUnique:Y,itemCounts:Ne}}function Be(Ee,K,Ne,Y){for(var rt=0,it=0,Ue=0,De=0,Le=0,Xe=Object.keys(Y);Le<Xe.length;Le++){var he=Y[Xe[Le]];rt+=he,he>1?(it++,De=Math.max(De,he)):Ue++}Ee.logEvent(W.mY,{type:K,deserializationId:Ne,totalCount:rt,duplicateCount:it,uniqueCount:Ue,maxDuplicateCount:De})}function Se(Ee,K,Ne,Y,ye,rt,it){return new Pe(Ee,K,Ne,Y,ye,rt,it)}var Pe=function(){function Ee(K,Ne,Y,ye,rt,it,Ue){this.visualPlugins=K,this.telemetryService=Ne,this.featureSwitchService=Y,this.canvasListOrderNormalizeService=ye,this.contextActivityService=rt,this.userState=it,this.explorationUpgrader=(0,X.$)(Y),this.explorationDowngrader=(0,J.F)(Ue)}return Ee.prototype.deepCopyExploration=function(K,Ne){return this.deserializeExploration(this.serializeExploration(K,Ne),[],!0)},Ee.prototype.ensureInitialized=function(){return this.visualPlugins.ensureBuiltInPlugins()},Ee.prototype.deserializeExploration=function(K,Ne,Y,ye){var it,Ue,rt=this;if(K){var De=null!=ye?ye:{},Le=De.model,Xe=De.counters,et=De.getExplorationActivity,he=De.logDuplicateTelemetry,ce=he?o.q.generateId():void 0,Re=void 0;et&&(Re=et.createChildActivity({name:"Upgrade Exploration"}));var Ge=this.explorationUpgrader.upgrade(K,Ne,Y,Xe);if(Re&&(Re.setProperty("upgraderCount",null==Xe?void 0:Xe.upgraderCount),Re.resolve()),!Ge)return;d.fF.assertValue(Ge.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var ut=Ge.config;if(d.fF.assertValue(ut,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),Ue={id:Ge.id,sections:void 0,dataSources:void 0,reportId:Ge.reportId,themeCollection:R.P.cloneThemeCollection(ut.themeCollection),bookmarks:[],mwcToken:Ge.mwcToken,capacityUri:Ge.capacityUri,publicCustomVisuals:Ge.publicCustomVisuals,isStoredInBlob:Ge.isStoredInBlob},ut.tags&&(Ue.tags=_.cloneDeep(ut.tags)),ut.slowDataSourceSettings&&(Ue.slowDataSourceSettings=_.cloneDeep(ut.slowDataSourceSettings)),ut.settings&&(Ue.settings=_.cloneDeep(ut.settings)),ut.objects&&(Ue.objects=(0,c.wN)(ut.objects,A.W)),ut.bookmarks){var je=(0,y.zb)(function(){var ar=rt.deserializeBookmarks(ut.bookmarks);if(he){var sr=be(ar,function(Sr){return Sr.name}),mr=sr.itemCounts;sr.allUnique||(d.fF.assertFail("bookmark names must be unique"),Be(rt.telemetryService,"BookmarkNames",ce,mr))}Ue.bookmarks=ar});et&&et.setProperty("bookmarkDeserializationDuration",je)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:Ue.bookmarks?Ue.bookmarks.length:0}),Ge.userState&&(Ue.userState=(0,Ve.U6)(Ge.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),Ge.activeWebBookmark&&(Ue.activeWebBookmark=(0,Ve.a5)(Ge.activeWebBookmark,Y,this.visualPlugins,this.featureSwitchService,this.telemetryService));var ae=Ge.activeBookmark;if(ae)for(var we=0,ze=null!==(it=Ue.bookmarks)&&void 0!==it?it:[];we<ze.length;we++){var $e=ze[we];if(!L.J.isBookmarkGroup($e)&&$e.name===ae.name){Ue.activeBookmark=$e;break}}if(Ge.sections){var ot=_.sortBy(Ge.sections,function(ar){return void 0!==ar.ordinal?ar.ordinal:0}),_t=Ue.settings&&Ue.settings.useStylableVisualContainerHeader;if(Ue.sections=_.map(ot,function(ar){return rt.deserializePage(ar,(0,e.__assign)((0,e.__assign)({},ye),{enableVisualContainerGrouping:_t}))}),he){var ke=be(Ue.sections,function(ar){return ar.name}),Tt=ke.itemCounts;ke.allUnique||(d.fF.assertFail("page names must be unique"),Be(this.telemetryService,"PageNames",ce,Tt))}if(Ue.filters=this.deserializeFilterContainers(Ge.filters),Ue.dataSources=(0,F.yd)(),Ge.resourcePackages&&(Ue.resourcePackages=this.deserializeResourcePackages(Ge.resourcePackages)),Ge.pods&&(Ue.pods=_.map(Ge.pods,function(ar){return rt.deserializePod(ar)}),he)){var Wt=be(Ue.pods,function(ar){return ar.name}),Zt=Wt.itemCounts;Wt.allUnique||(d.fF.assertFail("pod names must be unique"),Be(this.telemetryService,"PodNames",ce,Zt))}if(_.isNumber(ut.activeSectionIndex)&&ut.activeSectionIndex<Ge.sections.length&&(Ue.activeSectionIndex=ut.activeSectionIndex),ut.modelExtensions&&(Ue.modelExtensions=this.deserializeModelExtensions(ut.modelExtensions)),Le)if(Le.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(Le.onPremModelConnectionString)){var er=(0,p.cN)(Le.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(Ue,er,function(ar){ar.useInitialCachedQuery=!0},function(ar){ar.useInitialCachedQuery=!1})}else _.isEmpty(Le.onPremModelConnectionString)&&Le.dataCacheMode===a.Vv.Import&&Le.lastRefreshTime&&(er=(0,p.cN)(Le.lastRefreshTime),this.updateVisualContainerCachingOptions(Ue,er,function(sr){sr.disableCacheOnServerForInitialLoad=!0},function(sr){sr.disableCacheOnServerForInitialLoad=!1}))}Ge.report&&(Ue.report=(0,S.ED)(Ge.report),Ge.report.linguisticSchemaId&&(Ue.reportHasLinguisticSchema=!0)),null!=ut.defaultDrillFilterOtherVisuals&&(Ue.defaultDrillFilterOtherVisuals=ut.defaultDrillFilterOtherVisuals),ut.filterSortOrder&&(Ue.filterSortOrder=ut.filterSortOrder),ut.dataSourceVariables&&(Ue.dataSourceVariables=ut.dataSourceVariables),ut.creationSource&&(Ue.creationSource=ut.creationSource),Ue.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(ut.linguisticSchemaSyncVersion)}return Ue},Ee.prototype.deserializeLinguisticSchemaSyncVersion=function(K){return null==K?A.u.Unspecified:(d.fF.assert(function(){return K in A.u},"unexpected linguisticSchemaSyncVersion"),K)},Ee.prototype.updateVisualContainerCachingOptions=function(K,Ne,Y,ye){for(var rt=0,it=K.sections;rt<it.length;rt++)for(var De=0,Le=it[rt].visualContainers;De<Le.length;De++){var Xe=Le[De];Xe.cachedData&&Xe.cachedData.dataUpdatedTime&&Xe.cachedData.data&&+Xe.cachedData.dataUpdatedTime-+Ne>=0?Y(Xe):ye(Xe)}},Ee.prototype.deserializeResourcePackages=function(K){return d.fF.assertValue(K,"contract"),(0,Ve.sQ)(K.map(function(Ne){return Ne.resourcePackage}))},Ee.prototype.deserializeLinkField=function(K){d.fF.assertValue(K,"linkField");var Ne=h.ib.deserializeExpr(K.fieldExpr);return d.fF.assert(function(){return(0,Te.kb)(Ne)&&!1===K.asAggregation||(0,Te.t3)(Ne)||(0,Te.ez)(Ne)},"invalid linkField"),{asAggregation:K.asAggregation,fieldExpr:Ne}},Ee.prototype.deserializePage=function(K,Ne){var Y=this;if(K){var ye={id:K.id,objectId:K.objectId,name:K.name,displayName:K.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==K.displayOption?K.displayOption:0,height:K.height||D.LU,width:K.width||D.Z9},filters:this.deserializeFilterContainers(K.filters)};(K.originalHeight||K.originalWidth||K.originalDisplayOption)&&(ye.originalSize={displayOption:K.originalDisplayOption,height:K.originalHeight,width:K.originalWidth}),K.transient&&(ye.transient=K.transient);var rt=K.config;if(ye.acceptsAllFiltersWhenLinked=rt.acceptsAllFiltersWhenLinked,rt.objects&&(ye.objects=(0,c.wN)(rt.objects,N.C7)),null!=rt.visibility&&(ye.visibility=rt.visibility),null!=rt.type&&(ye.type=rt.type),null!=rt.filterSortOrder&&(ye.filterSortOrder=rt.filterSortOrder),_.isEmpty(rt.linkFields)||(ye.linkFields=_.map(rt.linkFields,function(Ge){return Y.deserializeLinkField(Ge)})),rt.dynamicConfig&&(ye.dynamicConfig=this.deserializeDynamicConfig(rt.dynamicConfig)),K.visualContainers){var it=null!=Ne?Ne:{},Ue=it.enableVisualContainerGrouping,De=it.deserializationId,Le=it.logDuplicateTelemetry,Xe=void 0===Le?o.q.generateId():Le,et=this.deserializeCanvasItems(K.visualContainers,null,Ue);if(et){if(ye.visualContainers=et.visualContainers,ye.visualContainerGroups=et.visualContainerGroups,Xe){var he=be(et.visualContainers,function(Ge){return Ge.name}),Re=he.itemCounts;he.allUnique||(d.fF.assertFail("VisualContainer names must be unique within a section."),Be(this.telemetryService,"VisualsNamePerPage",De,Re))}}else ye.visualContainers=[],ye.visualContainerGroups=[];rt.relationships&&(ye.relationships=this.deserializeRelationships(rt.relationships,ye.visualContainers))}return rt.howCreated&&(ye.howCreated=rt.howCreated),ye}},Ee.prototype.deserializePod=function(K){if(K)return{id:K.id,name:K.name,boundSection:K.boundSection,parameters:this.deserializePodParameters(K.parameters),cortanaEnabled:K.cortanaEnabled,type:void 0===K.type?0:K.type,referenceScope:void 0===K.referenceScope?0:K.referenceScope,config:this.deserializePodConfig(K.config)}},Ee.prototype.deserializeRelationships=function(K,Ne){if(!_.isEmpty(K)){for(var Y,ye=0,rt=K;ye<rt.length;ye++){var Ue=this.deserializeRelationship(rt[ye],Ne);Ue&&(Y||(Y=[])).push(Ue)}return Y}},Ee.prototype.deserializeBookmarks=function(K){var Ne=this;if(K)return _.map(K,function(Y){if(Ne.isBookmarkGroup(Y)){var ye={displayName:Y.displayName,name:Y.name,children:Ne.deserializeBookmarks(Y.children)};return _.each(ye.children,function(Ue){return Ue.parentGroup=ye}),ye}var it={displayName:Y.displayName,name:Y.name,explorationState:(0,re.vB)(Y.explorationState,Ne.visualPlugins,Ne.featureSwitchService)};return Y.options&&(it.options=Ne.deserializeBookmarkOptions(Y.options)),it})},Ee.prototype.deserializeBookmarkOptions=function(K){return K},Ee.prototype.deserializeModelExtensions=function(K){var Ne=this;return d.fF.assertAnyValue(K,"model extension wireContracts"),(0,V.z8)(_.map(K,function(Y){var ye={name:Y.name,extends:Y.extends};return Y.entities&&(ye.entities=Ne.deserializeModelExtensionEntities(Y.entities)),ye}))},Ee.prototype.deserializeModelExtensionEntities=function(K){var Ne=this;return d.fF.assertAnyValue(K,"model extension entities wireContracts"),(0,V.z8)(_.map(K,function(Y){var ye;return ye=Y.extends?{name:Y.name,extends:Y.extends}:{name:Y.name},Y.measures&&(ye.measures=Ne.deserializeModelExtensionMeasures(Y.measures)),ye}))},Ee.prototype.deserializeModelExtensionMeasures=function(K){var Ne=this;return d.fF.assertAnyValue(K,"model extension measures wireContracts"),(0,V.z8)(_.map(K,function(Y){var ye={name:Y.name,dataCategory:Y.dataCategory,dataType:Y.dataType,expression:Y.expression,errorMessage:Y.errorMessage,hidden:Y.hidden,references:Ne.deserializeExpressionReferences(Y.references),formulaOverride:Y.formulaOverride,formatInformation:Y.formatInformation,displayFolder:Y.displayFolder};return Y.annotations&&(ye.annotations=Ne.deserializeModelExtensionAnnotations(Y.annotations)),Y.measureTemplate&&(ye.measureTemplate={daxTemplateName:Y.measureTemplate.daxTemplateName,version:Y.measureTemplate.version}),Y.description&&(ye.description=Y.description),ye}))},Ee.prototype.deserializeExpressionReferences=function(K){return K?{unrecognizedReferences:!!K.unrecognizedReferences,measures:K.measures||[]}:{unrecognizedReferences:!1,measures:[]}},Ee.prototype.deserializeModelExtensionAnnotations=function(K){return d.fF.assertAnyValue(K,"model extension annotations wireContracts"),(0,V.z8)(_.map(K,function(Ne){return{name:Ne.name,value:Ne.value}}))},Ee.prototype.deserializeDynamicConfig=function(K){var Ne;if(K.quickExplore){var ye=K.quickExplore.visualContainerConfigurations,rt=K.quickExplore.layout;Ne||(Ne={}),Ne.quickExplore={selectedFields:_.map(K.quickExplore.selectedFields,function(it){return h.ib.deserializeExpr(it)}),visualContainerConfigurations:_.map(ye,function(it){return{name:it.name,fields:_.map(it.fields,function(Ue){return h.ib.deserializeExpr(Ue)})}})},rt&&(Ne.quickExplore.layout=this.deserializeQuickExploreLayout(rt))}return Ne},Ee.prototype.deserializeQuickExploreLayout=function(K){if(K.combination){var Ne={version:K.combination.version};return K.combination.dataTableName&&(Ne.dataTableName=K.combination.dataTableName),{combination:Ne}}if(K.related){var Y={version:K.related.version};return K.related.dataTableName&&(Y.dataTableName=K.related.dataTableName),{related:Y}}},Ee.prototype.deserializeFilterCollection=function(K,Ne,Y){if(K){var ye=this.explorationUpgrader.upgradeFilterCollection(K,Ne,Y);if(ye)return this.deserializeFilterContainers(ye.filters)}},Ee.prototype.deserializeFilterContainer=function(K){return{name:K.name,type:O.vA[K.type],expression:K.expression?h.ib.deserializeExpr(K.expression):void 0,filter:K.filter&&K.filter.Where?h.ib.deserializeFilter(K.filter):void 0,restatement:K.restatement,cachedValueItems:(0,f.kE)(K.cachedDisplayNames),howCreated:K.howCreated,isLinkedAsAggregation:K.isLinkedAsAggregation,isTransient:K.isTransient,isHiddenInViewMode:K.isHiddenInViewMode,objects:K.objects?(0,c.wN)(K.objects,O.XW):void 0,isLockedInViewMode:K.isLockedInViewMode,filterExpressionMetadata:K.filterExpressionMetadata?(0,b.hE)(K.filterExpressionMetadata):void 0,displayName:K.displayName,ordinal:K.ordinal}},Ee.prototype.deserializeCanvasItems=function(K,Ne,Y,ye){if(!_.isEmpty(K)){for(var rt=[],it=[],Ue={},De={},Le=0,Xe=K;Le<Xe.length;Le++){var et=Xe[Le];d.fF.assertValue(et&&et.config,"explorationSerializer.deserializePage - vc config should exist");var he=et.config,ce=he.name,Re=ye&&ye(et),Ge=this.deserializeCanvasItem(et,Ne,Re);De[ce]=Ge.name,(0,B.Vz)(Ge)&&rt.push(Ge),void 0===he.parentGroupName?it.push(Ge):(Ue[he.parentGroupName]||(Ue[he.parentGroupName]=[]),Ue[he.parentGroupName].push(Ge))}var je={};for(var ae in Ue){var fe=De[ae];fe?je[fe]=Ue[ae]:it.push.apply(it,Ue[ae]||[])}return this.ensureVisualContainerGrouping(it,je,Y),this.ensureNames(rt),Y?(this.ensureGroupZIndexNormalized(it),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(it,rt):this.ensureListOrderNormalized(rt,!1)):(it=(0,e.__spreadArray)([],rt||[],!0),this.ensureListOrderNormalized(rt)),{visualContainerGroups:it,visualContainers:rt}}},Ee.prototype.deserializeCanvasItem=function(K,Ne,Y){d.fF.assertValue(K&&K.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var ye=K.config;return ye.singleVisual?this.deserializeVisualContainer(K,Ne,Y):ye.singleVisualGroup?this.deserializeVisualContainerGroup(K,Ne,Y):(d.fF.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(W.M))},Ee.prototype.deserializeVisualContainer=function(K,Ne,Y){var ye;d.fF.assertValue(K,"input");var rt=K.config,it={name:Y||rt.name,id:Ne?void 0:K.id,layouts:(0,V.UR)(),config:{singleVisual:this.deserializeSingleVisual(rt.singleVisual,K.prototypeQuery)}};null!=K.visibility&&(it.visibility=K.visibility),null!=K.detailVisualLayout&&(it.detailVisualLayout=K.detailVisualLayout),rt.name&&(it.prevName=rt.name),rt.howCreated&&(it.howCreated=rt.howCreated),(void 0!==K.dataBinaryBase64Encoded||void 0!==K.query||void 0!==K.dataTransforms)&&(it.cachedData={data:K.dataBinaryBase64Encoded,query:K.query,transforms:K.dataTransforms,dataUpdatedTime:K.dataUpdatedTime?(0,p.jC)(K.dataUpdatedTime):void 0}),it.filters=this.deserializeFilterContainers(K.filters);var Ue=rt.singleVisual.drillFilterOtherVisuals;null!=Ue&&(it.drillFilterOtherVisuals=Ue);var De=rt.singleVisual.filterSortOrder;return null!=De&&(it.filterSortOrder=De),(ye=it.layouts).push.apply(ye,_.cloneDeep(rt.layouts)||[]),_.forEach(it.layouts,function(Le){Le.position&&We(Le.position)}),it},Ee.prototype.deserializeVisualContainerGroup=function(K,Ne,Y){var ye;d.fF.assertValue(K,"input");var rt=K.config,it=rt.singleVisualGroup,Ue={name:Y||rt.name,id:Ne?void 0:K.id,children:[],displayName:it.displayName,groupMode:it.groupMode,layouts:(0,V.UR)(),isHidden:it.isHidden};return rt.name&&(Ue.prevName=rt.name),(ye=Ue.layouts).push.apply(ye,_.cloneDeep(rt.layouts)||[]),it.objects&&(Ue.objects=(0,c.wN)(it.objects,I.C7)),Ue},Ee.prototype.deserializeRelationship=function(K,Ne){d.fF.assertValue(K,"input"),d.fF.assertValue(Ne,"visualContainers");var Y=(0,V.rC)(Ne,K.source),ye=(0,V.rC)(Ne,K.target);if(d.fF.assertValue(Y,"source"),d.fF.assertValue(ye,"target"),0!==K.type&&Y&&ye)return{source:Y,target:ye,type:K.type}},Ee.prototype.deserializeFilterContainers=function(K){var Ne=this;if(!(0,C.g)(K)){var Y=[],ye=(0,n.K)(K);return ye&&(Y=ye.map(function(rt){return Ne.deserializeFilterContainer(rt)})),Y}},Ee.prototype.deserializePodParameters=function(K){var Ne=this,Y=[];if(!(0,C.g)(K)){var ye=(0,n.K)(K);ye&&(Y=ye.map(function(rt){return Ne.deserializePodParameter(rt)}))}return Y},Ee.prototype.deserializePodParameter=function(K){return{name:K.name,boundFilter:K.boundFilter,fieldExpr:K.fieldExpr?h.ib.deserializeExpr(K.fieldExpr):void 0,asAggregation:K.asAggregation,isLegacySingleSelection:K.isLegacySingleSelection}},Ee.prototype.deserializePodConfig=function(K){if((0,C.g)(K))return{acceptsFilterContext:0};var Ne=(0,n.K)(K);return d.fF.assert(function(){return void 0!==Ne},"Incorrect PodConfig contents"),void 0===Ne.acceptsFilterContext&&(Ne.acceptsFilterContext=0),Ne},Ee.prototype.deserializeVisualQuery=function(K,Ne,Y,ye,rt,it,Ue){var De=this.visualPlugins.capabilities(K.visualType),Le=De&&De.expandCollapse&&De.expandCollapse.supportsMerge,Xe=De&&De.expandCollapse&&De.expandCollapse.collapseParentAfterRemovingChildLevel,et=De&&De.noDefaultProjections,he=new j.g(Ne,this.convertProjections(Y,Ne.select(),rt,it),(0,v.bX)(ye,{supportsMerge:Le,canCollapseRoot:et,collapseParentAfterRemovingChildLevel:Xe}),Ue);this.upgradeVisualQuery(he,K.visualType),K.query=he},Ee.prototype.deserializeSingleVisual=function(K,Ne){var Y=this,ye={visualType:K.visualType||K.visualConfig.visualType};d.fF.assertValue(ye.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=K.autoSelectVisualType&&(ye.autoSelectVisualType=K.autoSelectVisualType);var rt=K.visualConfig?K.visualConfig.projections:void 0,it=K.projections||{};if(rt)for(var Ue=0,De=rt;Ue<De.length;Ue++)(Xe=it[(Le=De[Ue]).role])||(it[Le.role]=Xe=[]),Xe.push(Le);else if(it&&it.length>0){rt=it,it={};for(var et=0,he=rt;et<he.length;et++){var Le,Xe;(Xe=it[(Le=he[et]).role])||(it[Le.role]=Xe=[]),Xe.push(Le)}}var ce=K.prototypeQuery?K.prototypeQuery:Ne?(0,n.K)(Ne):null;if(ce){var Re=h.ib.deserializeQuery(ce);this.deserializeVisualQuery(ye,Re,it,K.expansionStates,K.showAllRoles,K.queryFieldParametersByRole,K.isDrillDisabled)}null!=K.display&&(ye.display=K.display),K.columnProperties&&(ye.columnProperties=_.cloneDeep(K.columnProperties));var ut=K.queryOptions;ut&&(ye.queryOptions=_.cloneDeep(ut));var je=K.syncGroup;null!=je&&(ye.syncGroup=_.cloneDeep(je));var ae=K.hasDefaultSort;return null!=ae&&(ye.hasDefaultSort=ae),K.objects&&this.addItemLocationObjects(ye.visualType,K.objects),(0,c.kO)(K.objects,function(){var fe;return null===(fe=Y.visualPlugins.capabilities(ye.visualType))||void 0===fe?void 0:fe.objects},ye),K.vcObjects&&(ye.vcObjects=(0,c.wN)(K.vcObjects,w.XW)),this.deserializeMobileState(ye,K),K.cachedFilterDisplayItems&&(ye.cachedFilterDisplayItems=(0,f.kE)(K.cachedFilterDisplayItems)),K.filterExpressionMetadata&&(ye.filterExpressionMetadata=(0,b.hE)(K.filterExpressionMetadata)),ye},Ee.prototype.addItemLocationObjects=function(K,Ne){var Y,ae,ye=function(je,ae){var fe=je[ae.objectName];if(null!=fe&&1===fe.length)return fe[0].properties[ae.propertyName]};if(K===He.D.scorecard){var it=Ce.A.scorecard.scorecardReference,Ue=Ce.A.scorecard.scorecardId,De=ye(Ne,Ue);if(null==De)return;var Xe=h.ib.deserializeExpr(De.expr).value,et=null!==(ae=_.toLower(_.trim(Xe)),Y=(0,pe.HH)(ae,!1)?ae.split("/scorecards/")[1]:ae)&&void 0!==Y?Y:Xe;Ne[it.objectName][0].properties[it.propertyName]={kind:"ItemLocation",byReference:{itemId:{expr:h.ib.serializeExpr((0,T.fL)(et))}}},delete Ne[Ue.objectName][0].properties[Ue.propertyName]}if(K===He.D.rdlVisual){it=de.eH.reportInfo.reference;var he=de.eH.reportInfo.reportId,ce=de.eH.reportInfo.workspaceId,Re=ye(Ne,he),Ge=ye(Ne,ce);if(null==Re||null==Ge)return;Ne[it.objectName][0].properties[it.propertyName]={kind:"ItemLocation",byReference:{itemId:Re,workspaceId:Ge}},delete Ne[he.objectName][0].properties[he.propertyName],delete Ne[ce.objectName][0].properties[ce.propertyName]}},Ee.prototype.deserializeMobileState=function(K,Ne){var Y=this;Ne.mobileVcObjects&&(K.mobileVcObjects=(0,c.wN)(Ne.mobileVcObjects,w.XW)),Ne.mobileObjects&&(0,c.kO)(Ne.mobileObjects,function(){var ye;return null===(ye=Y.visualPlugins.capabilities(K.visualType))||void 0===ye?void 0:ye.objects},K,"mobileObjects")},Ee.prototype.isBookmarkGroup=function(K){return void 0!==K.children},Ee.prototype.ensureVisualContainerGrouping=function(K,Ne,Y,ye){for(var rt=0,it=K;rt<it.length;rt++){var Ue=it[rt];if(ye&&(Ue.parentGroup=ye),!Y&&(0,B.Vz)(Ue)&&Ue.parentGroup){var De=Ue.layouts.withId(0),Le=(0,te.hP)(De.position,0,Ue.parentGroup);De.position=Le,Ue.parentGroup=void 0}(0,B.q4)(Ue)&&(d.fF.assertValue(Ne[Ue.name],"deserializePage - visual container group must have children"),Ue.children=Ne[Ue.name]||[],this.ensureVisualContainerGrouping(Ue.children,Ne,Y,Ue))}},Ee.prototype.ensureGroupZIndexNormalized=function(K){if(d.fF.assertValue(K,"visualContainerGroups"),!_.isEmpty(K)){this.ensureListOrderNormalizedInternal(K,!0,"z");for(var Ne=0,Y=K;Ne<Y.length;Ne++){var ye=Y[Ne];(0,B.q4)(ye)&&this.ensureGroupZIndexNormalized(ye.children)}}},Ee.prototype.ensureGroupTabOrderNormalized=function(K,Ne){if(d.fF.assertValue(K,"visualContainerGroups"),!_.isEmpty(K)){if(_.every(Ne,function(Y){var ye=Y.layouts.withId(0);return ye&&ye.position&&null==ye.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(K)||this.upgradeTabOrderToHierarchy(K),this.ensureGroupTabOrderNormalizedHelper(K)}},Ee.prototype.upgradeTabOrderToHierarchy=function(K){var Ne=this;_.map(K,function(Y){var ye,rt;if((0,B.q4)(Y)&&void 0===(null===(rt=null===(ye=Y.layouts)||void 0===ye?void 0:ye.withId(0).position)||void 0===rt?void 0:rt.tabOrder)){Ne.upgradeTabOrderToHierarchy(Y.children);var it=Number.NEGATIVE_INFINITY;(0,B.Iw)([Y],function(Ue){var De,Le,Xe=null===(Le=null===(De=Ue.layouts)||void 0===De?void 0:De.withId(0).position)||void 0===Le?void 0:Le.tabOrder;Xe&&(it=_.max([it,Xe])),it!==Number.NEGATIVE_INFINITY&&(Y.layouts.withId(0).position.tabOrder=it)})}})},Ee.prototype.ensureGroupsHaveTabOrders=function(K){for(var Ne,Y=0,ye=K;Y<ye.length;Y++){var rt=ye[Y];if((0,B.q4)(rt)){var it=rt.layouts.withId(0);if(void 0===(null===(Ne=null==it?void 0:it.position)||void 0===Ne?void 0:Ne.tabOrder)||!this.ensureGroupsHaveTabOrders(rt.children))return!1}}return!0},Ee.prototype.ensureGroupTabOrderNormalizedHelper=function(K){this.ensureTabOrderNormalized(K,!0),this.ensureTabOrderNormalized(K,!1);for(var Ne=0,Y=K;Ne<Y.length;Ne++){var ye=Y[Ne];(0,B.q4)(ye)&&this.ensureGroupTabOrderNormalizedHelper(ye.children)}},Ee.prototype.ensureListOrderNormalized=function(K,Ne){void 0===Ne&&(Ne=!0),d.fF.assertValue(K,"visualContainers"),!_.isEmpty(K)&&(Ne&&this.ensureListOrderNormalizedInternal(K,!0,"z"),!_.every(K,function(Y){var ye=Y.layouts.withId(0);return ye&&ye.position&&null==ye.position.tabOrder})&&(this.ensureTabOrderNormalized(K,!0),this.ensureTabOrderNormalized(K,!1)))},Ee.prototype.ensureTabOrderNormalized=function(K,Ne){var Y=this,ye=_.filter(K,function(rt){var it=Y.getListOrderPropertyFunction(rt,"tabOrder");return Ne?it>=0||void 0===it:it&&it<0});this.ensureListOrderNormalizedInternal(ye,Ne,"tabOrder")},Ee.prototype.getListOrderPropertyFunction=function(K,Ne){var Y=K.layouts.withId(0);return Y&&Y.position&&Y.position[Ne]},Ee.prototype.setListOrderPropertyFunction=function(K,Ne,Y){var ye=K.layouts.withId(0);ye&&ye.position&&(ye.position[Ne]=Y)},Ee.prototype.ensureListOrderNormalizedInternal=function(K,Ne,Y){var ye=this,rt=this.canvasListOrderNormalizeService.getContainerListOrders(K,function(it){return ye.getListOrderPropertyFunction(it,Y)});this.canvasListOrderNormalizeService.shouldNormalizeListOrder(rt,Ne)&&(rt=this.canvasListOrderNormalizeService.normalizeListOrder(rt,Ne,function(it){return ye.getListOrderPropertyFunction(it,Y)}),this.updateListOrders(K,rt,Y))},Ee.prototype.updateListOrders=function(K,Ne,Y){for(var ye=0,rt=K;ye<rt.length;ye++){var it=rt[ye],Ue=Ne[it.name];null!=Ue&&Ue!==this.getListOrderPropertyFunction(it,Y)&&this.setListOrderPropertyFunction(it,Y,Ue)}},Ee.prototype.ensureNames=function(K){d.fF.assertValue(K,"items");for(var ye,Ne=K.length,Y={},rt=0;rt<Ne;rt++){var it=K[rt].name;_.isEmpty(it)?ye=!0:Y[it]=!0}if(ye)for(rt=0;rt<Ne;rt++){var Ue=K[rt];_.isEmpty(Ue.name)&&(Ue.name=(0,te.vr)(Y),Y[Ue.name]=!0)}},Ee.prototype.convertProjections=function(K,Ne,Y,ye){d.fF.assertValue(K,"contract"),d.fF.assertValue(Ne,"select");for(var rt={},it=_.keys(ye),Ue=_.keys(K),Le=0,Xe=_.union(it,Ue);Le<Xe.length;Le++){var et=Xe[Le],he=_.includes(Y,et);rt[et]=this.convertProjectionArray(K[et],Ne,he,ye?ye[et]:void 0)}return rt},Ee.prototype.convertProjectionArray=function(K,Ne,Y,ye){var it,rt=[];if(!_.isEmpty(K))for(var Ue=0,De=K;Ue<De.length;Ue++){var Le=De[Ue],Xe=this.convertProjection(Le,Ne);Le.active&&(it=it||[]).push(Xe.queryRef),rt.push(Xe)}var et=[];if(!_.isEmpty(ye))for(var he=0,ce=ye;he<ce.length;he++){var Re=ce[he],Ge={index:Re.index,length:Re.length,expr:h.ib.deserializeExpr(Re.expr)};et.push(Ge)}return new M.NQ(rt,it,Y,et)},Ee.prototype.convertProjection=function(K,Ne){d.fF.assertValue(K,"contract");var Y=K.queryRef;_.isNumber(K.queryRef)&&(Y=Ne[K.queryRef].name);var ye={queryRef:Y};return K.format&&(ye.format=K.format),K.hidden&&(ye.hidden=!0),ye},Ee.prototype.serializeExploration=function(K,Ne){return this.createSerializer().serializeExploration(K,Ne)},Ee.prototype.serializeModelExtensions=function(K){return this.createSerializer().serializeModelExtensions(K)},Ee.prototype.serializePage=function(K,Ne,Y){return this.createSerializer().serializePage(K,Ne,Y)},Ee.prototype.serializePageShallow=function(K,Ne,Y){return this.createSerializer().serializePageShallow(K,Ne,Y)},Ee.prototype.serializeVisualContainer=function(K,Ne){return this.createSerializer().serializeVisualContainer(K,Ne)},Ee.prototype.serializeVisualContainerGroup=function(K){return this.createSerializer().serializeVisualContainerGroup(K)},Ee.prototype.serializePod=function(K){return this.createSerializer().serializePod(K)},Ee.prototype.serializeFilterCollection=function(K){return this.createSerializer().serializeFilterCollection(K)},Ee.prototype.serializeResourcePackages=function(K){return this.createSerializer().serializeResourcePackages(K)},Ee.prototype.createSerializer=function(){return new ie(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)},Ee.prototype.upgradeVisualQuery=function(K,Ne){if(Ne===He.D.filledMap&&K.projections[le]){var Y=K.projections[le],ye=K.projections[me];if(ye&&ye.all.length>0)for(var it=ye.all().length-1;it>=0;it--)K.removeProjection(me,{fieldIndex:it});K.projections[me]=Y,delete K.projections[le]}var Ue=this.visualPlugins.capabilities(Ne);if(Ue){var De=(0,U.WO)(Ue,K.isDrillDisabled),Le=K.ensureDrillableRoles(De);if(!_.isEmpty(Le)){for(var Xe={},et=0,he=Le;et<he.length;et++){var ce=he[et],Re=K.projections[ce],Ge=0;Re&&(Ge=_.size(Re.all())),Xe[ce]=Ge}this.telemetryService.logEvent(W.Zk,{visualType:Ne,fixedRoleByProjectionCount:JSON.stringify(Xe)})}}},Ee.prototype.upgradeResourcePackage=function(K){void 0===K.type&&(K.type=0)},Ee.prototype.getReferencedStaticResources=function(K){var Ne={},Y=K.themeCollection.customTheme,ye=K.themeCollection.baseTheme;if(this.addItemReference(Ne,K.resourcePackages,Y&&Y.type,Y&&Y.name),this.addItemReference(Ne,K.resourcePackages,ye&&ye.type,ye&&ye.name),!_.isEmpty(K.sections))for(var rt=0,it=K.sections;rt<it.length;rt++){var Ue=it[rt];if((0,ee.WP)(Ue.objects,N.C7,K.resourcePackages,Ne),!_.isEmpty(Ue.visualContainers))for(var De=0,Le=Ue.visualContainers;De<Le.length;De++){var et=Le[De].config.singleVisual,he=et.objects,ce=this.visualPlugins.capabilities(et.visualType);(0,ee.WP)(he,ce&&ce.objects,K.resourcePackages,Ne)}}return Ne},Ee.prototype.addItemReference=function(K,Ne,Y,ye){if(ye&&Y){var rt=(0,x.Yu)(Ne,Y,ye);if(rt){var it=(0,x.RJ)(Y);(0,ee.be)(K,it,Y,ye,rt.type)}}},Ee.prototype.parseExplorationConfigs=function(K){var Ne=this;if(K){var Y=this.parseConfig(K);return Y.sections=_.map(K.sections,function(ye){return Ne.parsePageConfigs(ye)}),Y}},Ee.prototype.parseConfig=function(K){var Ne=_.clone(K);return Ne.config=(0,n.K)(K.config)||{},Ne},Ee.prototype.parsePageConfigs=function(K){var Ne=this,Y=this.parseConfig(K);return Y.visualContainers=_.map(K.visualContainers,function(ye){return Ne.parseConfig(ye)}),Y},Ee.prototype.stringifyExplorationConfigs=function(K){var Ne=this,Y=this.stringifyConfig(K);return Y.sections=_.map(K.sections,function(ye){return Ne.stringifyPageConfigs(ye)}),Y},Ee.prototype.stringifyConfig=function(K){var Ne=_.clone(K);return Ne.config=JSON.stringify(K.config),Ne},Ee.prototype.stringifyPageConfigs=function(K){var Ne=this,Y=this.stringifyConfig(K);return Y.visualContainers=_.map(K.visualContainers,function(ye){return Ne.stringifyConfig(ye)}),Y},Ee.prototype.parseFilterCollectionConfig=function(K){if(K)return this.parseConfig(K)},Ee.prototype.stringifyFilterCollectionConfig=function(K){if(K)return this.stringifyConfig(K)},Ee}(),ue=oe.H3n.v5_37,ie=function(){function Ee(K,Ne,Y,ye){this.visualPlugins=K,this.explorationDowngrader=Ne,this.telemetryService=Y,this.featureSwitchService=ye,this.version=ue}return Ee.prototype.serializeExploration=function(K,Ne){var ye,Y=this,rt=K.sections;(!Ne||!Ne.withTransientPages)&&(rt=(0,N.yG)(rt));var Ue,it=_.map(rt,function(Re,Ge){return Y.serializePage(Re,Ge,Ne)});_.isEmpty(K.pods)||(this.removeInvalidPods(K.sections,K.pods,this.telemetryService),Ue=_.map(K.pods,function(Re){return Y.serializePod(Re)}),d.fF.assert(function(){return be(K.pods,function(Re){return Re.name}).allUnique},"pod names must be unique"));var De=this.serializeExplorationShallowWithResourcePackages(K,Ne);if(De.sections=it,De.pods=Ue,!Ne||!Ne.forSave){var Le=K.activeBookmark;if(Le)for(var et=0,he=null!==(ye=De.config.bookmarks)&&void 0!==ye?ye:[];et<he.length;et++){var ce=he[et];if(!Oe(ce)&&ce.name===Le.name){De.activeBookmark=ce;break}}}return Ne&&Ne.forSave&&this.explorationDowngrader.downgrade(De,this.version),d.fF.assert(function(){return Y.version===De.config.version},"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),De},Ee.prototype.serializeBookmarks=function(K,Ne){var Y=this;if(K){var ye=ne.Zh,rt=_.map(K,function(it){if(L.J.isBookmarkGroup(it)){var Ue={displayName:it.displayName,name:it.name,children:Y.serializeBookmarks(it.children,Ne)};return Y.version=(0,r.Fp)(Y.version,oe.VSH),Ue}(0,re.oJ)(it.explorationState,Ne);var De={displayName:it.displayName,name:it.name,explorationState:(0,re.qC)(it.explorationState,Y.featureSwitchService)};return ye=(0,r.Fp)(De.explorationState.version,ye),it.options&&(De.options=Y.serializeBookmarkOptions(it.options),Y.version=(0,r.Fp)(Y.version,oe.q4D)),De});switch(ye){case ne.Zh:this.version=(0,r.Fp)(this.version,oe.hGr);break;case ne.U1:this.version=(0,r.Fp)(this.version,oe.rAF);break;case ne.aN:this.version=(0,r.Fp)(this.version,oe.htK);break;case ne.Aq:this.version=(0,r.Fp)(this.version,oe.$tC);break;case ne.Zl:this.version=(0,r.Fp)(this.version,oe.fke);break;case ne.XX:this.version=(0,r.Fp)(this.version,oe.vqL);break;case ne.uZ:this.version=(0,r.Fp)(this.version,oe.UCJ);break;case ne.rb:this.version=(0,r.Fp)(this.version,oe.dKN);break;case ne.C7:this.version=(0,r.Fp)(this.version,oe.C7j);break;default:d.fF.assertFail("Unknown exploration state version.")}return rt}},Ee.prototype.serializeBookmarkOptions=function(K){return K},Ee.prototype.serializeExplorationShallowWithResourcePackages=function(K,Ne){var Y=this,ye=K.activeSectionIndex,rt=this.createVersionedElementConfig(ue);if(this.version=(0,r.Fp)(this.version,rt.version),rt.themeCollection=R.P.cloneThemeCollection(K.themeCollection),_.isNumber(ye)&&(rt.activeSectionIndex=ye),_.isEmpty(K.modelExtensions)||(this.version=(0,r.Fp)(this.version,oe.H3n.v3_0),rt.modelExtensions=this.serializeModelExtensions(K.modelExtensions)),!_.isEmpty(K.bookmarks)){var it=this.serializeBookmarks(K.bookmarks,K);rt.bookmarks=it}Ne&&Ne.excludeHighContrastTheme&&delete rt.themeCollection.highContrastTheme,Ne&&Ne.forSave&&delete rt.themeCollection.transientUserSetTheme;var Ue=K.themeCollection.baseTheme;if(Ue&&(this.version=(0,r.Fp)(this.version,(0,Q.TO)(Ue.name))),(0,C.g)(K.dataSourceVariables)||(this.version=(0,r.Fp)(this.version,oe.H3n.v4_2),rt.dataSourceVariables=K.dataSourceVariables),K.tags&&(rt.tags=K.tags),null!=K.defaultDrillFilterOtherVisuals&&(rt.defaultDrillFilterOtherVisuals=K.defaultDrillFilterOtherVisuals,K.defaultDrillFilterOtherVisuals&&(this.version=(0,r.Fp)(this.version,oe.U$u))),null!=K.filterSortOrder&&(rt.filterSortOrder=K.filterSortOrder,K.filterSortOrder&&(this.version=(0,r.Fp)(this.version,oe.faH))),K.slowDataSourceSettings){var De=_.cloneDeep(K.slowDataSourceSettings);(De.isCrossHighlightingDisabled||De.isFieldWellButtonEnabled||De.isFilterSelectionsButtonEnabled||De.isSlicerSelectionsButtonEnabled||De.isApplyAllButtonEnabled)&&(this.version=(0,r.Fp)(this.version,De.isApplyAllButtonEnabled?oe.m5F:oe.qq3)),rt.slowDataSourceSettings=De}if(null!=K.linguisticSchemaSyncVersion&&(rt.linguisticSchemaSyncVersion=K.linguisticSchemaSyncVersion,K.linguisticSchemaSyncVersion!==A.u.Unspecified&&(this.version=(0,r.Fp)(this.version,oe.ugh))),K.settings){var Le=_.cloneDeep(K.settings);(Le.isPersistentUserStateDisabled||Le.hideVisualContainerHeader)&&(this.version=(0,r.Fp)(this.version,oe.Awj)),Le.useStylableVisualContainerHeader&&(this.version=(0,r.Fp)(this.version,oe.qdh)),void 0!==Le.exportDataMode&&0!==Le.exportDataMode&&(this.version=(0,r.Fp)(this.version,oe.m7e)),Le.useNewFilterPaneExperience&&(this.version=(0,r.Fp)(this.version,oe.z1y)),Le.isReportAnnotationsDisabled&&(this.version=(0,r.Fp)(this.version,oe.sE2)),!0===Le.defaultFilterActionIsDataFilter&&(this.version=(0,r.Fp)(this.version,oe.iXZ)),Le.useCrossReportDrillthrough&&(this.version=(0,r.Fp)(this.version,oe.xSu)),Le.allowChangeFilterTypes&&(this.version=(0,r.Fp)(this.version,oe.kdg)),Le.allowInlineExploration&&(this.version=(0,r.Fp)(this.version,oe.UCJ)),Le.optOutNewFilterPaneExperience&&(this.version=(0,r.Fp)(this.version,oe.YA8)),Le.filterPaneHiddenInEditMode&&(this.version=(0,r.Fp)(this.version,oe.UAC)),Le.disableFilterPaneSearch&&(this.version=(0,r.Fp)(this.version,oe.np7)),Le.pagesPosition&&(this.version=(0,r.Fp)(this.version,oe.IwG)),Le.useEnhancedTooltips&&(this.version=(0,r.Fp)(this.version,oe.TQL)),Le.useScaledTooltips&&(this.version=(0,r.Fp)(this.version,oe.elY)),Le.allowAutomatedInsightsNotification&&(this.version=(0,r.Fp)(this.version,oe.VTu)),Le.useDefaultAggregateDisplayName&&(this.version=(0,r.Fp)(this.version,oe.GwY)),Le.pauseQueries&&(this.version=(0,r.Fp)(this.version,oe.tCF)),(Le.queryLimitOption||Le.customMemoryLimit||Le.customTimeoutLimit)&&(this.version=(0,r.Fp)(this.version,oe.ckf)),rt.settings=Le}K.objects&&(rt.objects=this.serializeObjects(K.objects,A.W,"report",Ne)),Ne&&Ne.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(K,this.version),d.fF.assert(function(){return!(0,r.lt)(Y.version,rt.version)},"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=G.t;var Xe=this.serializeFilterContainers(K.filters,Ne);return K.creationSource&&(rt.creationSource=K.creationSource,this.version=(0,r.Fp)(this.version,oe.Eo9)),rt.version=this.version,{id:K.id,report:K.report,reportId:K.reportId,theme:K.themeCollection.customTheme&&K.themeCollection.customTheme.name,filters:Xe,resourcePackages:this.serializeResourcePackages(K.resourcePackages,Ne),sections:void 0,config:rt,layoutOptimization:this.getLayoutOptimizations(K),publicCustomVisuals:K.publicCustomVisuals,isStoredInBlob:K.isStoredInBlob}},Ee.prototype.serializeLinkField=function(K){d.fF.assertValue(K,"linkfield");var Ne=K.fieldExpr;return d.fF.assert(function(){return(0,Te.kb)(Ne)&&!1===K.asAggregation||(0,Te.t3)(Ne)||(0,Te.ez)(Ne)},"invalid linkField"),{asAggregation:K.asAggregation,fieldExpr:h.ib.serializeExpr(Ne)}},Ee.prototype.serializeFilterCollection=function(K){if(!_.isEmpty(K)){var Ne=this.createVersionedElementConfig(ue);return{filters:this.serializeFilterContainers(K),config:Ne}}},Ee.prototype.serializePage=function(K,Ne,Y){var ye=this.serializePageShallow(K,Ne,Y);if(ye.visualContainers=[],K.visualContainerGroups)this.serializeVisualContainerTreeToList(K.visualContainerGroups,ye.visualContainers,Y);else for(var rt=0,it=K.visualContainers;rt<it.length;rt++)ye.visualContainers.push(this.serializeVisualContainer(it[rt],Y));return ye},Ee.prototype.serializeVisualContainerTreeToList=function(K,Ne,Y){for(var ye=!1,rt=0,it=K;rt<it.length;rt++){var Ue=it[rt];(0,B.q4)(Ue)?(ye||(this.version=(0,r.Fp)(oe.F1S.getVersionForVisualContainerGroup(Ue),this.version),ye=!0),Ne.push(this.serializeVisualContainerGroup(Ue)),this.serializeVisualContainerTreeToList(Ue.children,Ne,Y)):Ne.push(this.serializeVisualContainer(Ue,Y))}},Ee.prototype.isRegularPageUsingMeasureDrillthrough=function(K){var Ne=!1,Y=!1;return(null==K.type||0===K.type)&&(Ne=!0===K.acceptsAllFiltersWhenLinked,Y=_.some(K.filters,function(ye){return ye&&5===ye.howCreated&&!ye.isTransient&&(ye.isLinkedAsAggregation||ye.expression&&(0,Te.kb)(ye.expression))})),Ne||Y},Ee.prototype.isMeasureDrillthroughPod=function(K){var Ne=!1,Y=!1;return 1===K.type&&(Ne=K.config&&0===K.config.acceptsFilterContext,Y=_.some(K.parameters,function(ye){return ye.asAggregation||ye.fieldExpr&&(0,Te.kb)(ye.fieldExpr)})),Ne||Y},Ee.prototype.serializePageShallow=function(K,Ne,Y){var rt,ye=this;d.fF.assert(function(){return be(K.visualContainers,function(De){return De.name}).allUnique},"VisualContainer names must be unique within a section.");var it={id:K.id,name:K.name,displayName:K.displayName,filters:this.serializeFilterContainers(K.filters,Y),ordinal:Ne,visualContainers:void 0,transient:K.transient,objectId:K.objectId,config:{}};K.size&&(it.displayOption=K.size.displayOption,it.width=K.size.width,it.height=K.size.height),Y&&Y.forSave&&(K.isNew=void 0),(null==Y||!Y.forSave)&&K.originalSize&&(it.originalDisplayOption=K.originalSize.displayOption,it.originalWidth=K.originalSize.width,it.originalHeight=K.originalSize.height);var Ue=it.config;return _.isEmpty(K.relationships)||(Ue.relationships=this.serializeRelationships(K.relationships),Y&&Y.featureUsage&&(Y.featureUsage.hasVisualRelationships=!0)),K.objects&&(Ue.objects=this.serializeObjects(K.objects,N.C7,"page",Y)),null!=K.visibility&&(Ue.visibility=K.visibility,this.version=(0,r.Fp)(this.version,oe.ftA)),null!=K.type&&(Ue.type=K.type,this.version=(0,r.Fp)(this.version,oe.x7c)),null!=K.filterSortOrder&&(Ue.filterSortOrder=K.filterSortOrder,this.version=(0,r.Fp)(this.version,oe.faH)),Ue.acceptsAllFiltersWhenLinked=K.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(K)&&(this.version=(0,r.Fp)(this.version,oe.oq_)),_.isEmpty(K.linkFields)||(Ue.linkFields=_.map(K.linkFields,function(De){return ye.serializeLinkField(De)}),this.version=(0,r.Fp)(this.version,oe.x7c)),K.dynamicConfig&&(Ue.dynamicConfig=this.serializePageDynamicConfig(K.dynamicConfig),this.version=(0,r.Fp)(this.version,oe.Eo9),!(null===(rt=Ue.dynamicConfig.quickExplore)||void 0===rt)&&rt.layout&&(this.version=(0,r.Fp)(this.version,oe.KQG))),K.howCreated&&"Default"!==K.howCreated&&(Ue.howCreated=K.howCreated,this.version=(0,r.Fp)(this.version,oe.q0O)),it},Ee.prototype.serializePod=function(K){var Ne=this.serializePodParameters(K.parameters);return this.isMeasureDrillthroughPod(K)&&(this.version=(0,r.Fp)(this.version,oe.oq_)),1===K.referenceScope&&(this.version=(0,r.Fp)(this.version,oe.xSu)),{id:K.id,name:K.name,boundSection:K.boundSection,parameters:_.isEmpty(Ne)?void 0:JSON.stringify(Ne),cortanaEnabled:K.cortanaEnabled?K.cortanaEnabled:void 0,type:0!==K.type?K.type:void 0,referenceScope:0!==K.referenceScope?K.referenceScope:void 0,config:this.serializePodConfig(K.config)}},Ee.prototype.serializeVisualContainer=function(K,Ne){_.forEach(K.layouts,function(Ue){Ue.position&&We(Ue.position)});var Y,ye=this.serializeVisualContainerConfig(K,Ne),rt=K.layouts&&K.layouts.withId(0);if(rt?(d.fF.assertValue(rt.position,"Master layout should contain a position"),Y={id:K.id,x:rt.position.x,y:rt.position.y,z:rt.position.z,width:rt.position.width,height:rt.position.height,config:ye,filters:this.serializeFilterContainers(K.filters)},rt.position.tabOrder&&(Y.tabOrder=rt.position.tabOrder)):Y={id:K.id,config:ye,filters:this.serializeFilterContainers(K.filters)},!_.isEmpty(K.filters)){var it=this.visualPlugins.capabilities(K.config.singleVisual.visualType);k.l.supportsFilterOutput(it)&&(this.version=(0,r.Fp)(this.version,oe.NsA))}return Ne&&Ne.forSave&&(K.isNew=void 0),Ne&&Ne.withVisibility&&(null!=K.visibility&&(Y.visibility=K.visibility),null!=K.detailVisualLayout&&(Y.detailVisualLayout=K.detailVisualLayout)),Ne&&K.cachedData&&((Ne.withQuery||Ne.withData)&&(Y.query=K.cachedData.queryObject?JSON.stringify(K.cachedData.queryObject):K.cachedData.query,Y.dataTransforms=K.cachedData.transformsObject?s.F.serializeTransformActions(K.cachedData.transformsObject):K.cachedData.transforms,Y.dataUpdatedTime=K.cachedData.dataUpdatedTime?K.cachedData.dataUpdatedTime.toISOString():void 0),Ne.withData&&(Y.dataBinaryBase64Encoded=K.cachedData.dataObject?(0,l.nN)(JSON.stringify(K.cachedData.dataObject)):K.cachedData.data)),Y},Ee.prototype.serializeVisualContainerGroup=function(K,Ne){this.version=(0,r.Fp)(this.version,oe.bFC);var Y={name:K.name,layouts:_.cloneDeep(K.layouts),singleVisualGroup:{displayName:K.displayName,groupMode:K.groupMode,isHidden:K.isHidden}};K.parentGroup&&(Y.parentGroupName=K.parentGroup.name),K.objects&&(Y.singleVisualGroup.objects=this.serializeObjects(K.objects,I.C7,I.$m,Ne));var ye,rt=K.layouts&&K.layouts.withId(0);return rt?(d.fF.assertValue(rt.position,"Master layout should contain a position"),ye={id:K.id,x:rt.position.x,y:rt.position.y,z:rt.position.z,width:rt.position.width,height:rt.position.height,config:Y},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&rt.position.tabOrder&&(ye.tabOrder=rt.position.tabOrder)):ye={id:K.id,config:Y},ye},Ee.prototype.serializeModelExtensions=function(K){var Ne=this;if(K)return _.map(K,function(Y){return{name:Y.name,extends:Y.extends,entities:Ne.serializeModelExtensionEntities(Y.entities)}})},Ee.prototype.serializeRelationship=function(K){return d.fF.assertValue(K,"relationship"),d.fF.assertValue(K.source.name,"relationship.source.name"),d.fF.assertValue(K.target.name,"relationship.target.name"),{source:K.source.name,target:K.target.name,type:K.type}},Ee.prototype.serializeVisualContainerConfig=function(K,Ne){var Y=K.config&&K.config.singleVisual;d.fF.assertValue(K.name,"VisualContainer name is missing."),d.fF.assertValue(Y,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),d.fF.assertValue(Y.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var ye=Y.query,rt=ye?ye.projections:void 0,it={name:K.name,layouts:_.cloneDeep(K.layouts),singleVisual:{visualType:Y.visualType,projections:this.serializeQueryProjections(rt),prototypeQuery:ye?h.ib.serializeQuery(ye.defn):void 0}};ye&&ye.isDrillDisabled&&(this.version=(0,r.Fp)(this.version,oe.hCh),it.singleVisual.isDrillDisabled=ye.isDrillDisabled),this.featureSwitchService.featureSwitches.visualCalculations&&function(Ee){return!!Ee&&Ee.defn.select().some(function(K){return(0,Te.jX)(K.expr)})}(ye)&&(this.version=(0,r.Fp)(this.version,oe.H_y)),null!=Y.autoSelectVisualType&&(this.version=(0,r.Fp)(this.version,oe.C7j),it.singleVisual.autoSelectVisualType=Y.autoSelectVisualType);var Ue=this.serializeQueryFieldParameters(rt);if(_.isEmpty(Ue)||(this.version=(0,r.Fp)(this.version,oe.dKN),it.singleVisual.queryFieldParametersByRole=Ue),_.some(K.layouts,function($e){return $e.position&&void 0!==$e.position.tabOrder})&&(this.version=(0,r.Fp)(this.version,oe.$gq)),ye&&(0,E.if)(ye.expansionStates)){var De=(0,v.hI)(ye.expansionStates);_.isEmpty(De)||(it.singleVisual.expansionStates=De,this.version=(0,r.Fp)(this.version,oe.RrR))}var Le=Y.columnProperties;if(Le&&!_.isEmpty(Le)&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_4),it.singleVisual.columnProperties=_.cloneDeep(Le)),Y.queryOptions&&(null!=Y.queryOptions.allowBinnedLineSample&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_3)),null!=Y.queryOptions.allowOverlappingPointsSample&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_5)),null!=Y.queryOptions.keepProjectionOrder&&(this.version=(0,r.Fp)(this.version,oe.H3n.v4_1)),it.singleVisual.queryOptions=_.cloneDeep(Y.queryOptions)),Y.display&&(this.version=(0,r.Fp)(this.version,oe.g3O),it.singleVisual.display=_.cloneDeep(Y.display)),ye&&ye.defn){if(Y.visualType===He.D.slicer){var Xe=ye.projections;Xe&&Xe[u.CT.value]&&Xe[u.CT.value].all().length>1&&(this.version=(0,r.Fp)(this.version,oe.XVx))}(0,te.J6)(Y)&&(this.version=_.some(oe.WWC,function($e){return $e===Y.visualType})?(0,r.Fp)(this.version,oe.Xfb):(0,r.Fp)(this.version,oe.XRk));for(var he=0,ce=ye.defn.select();he<ce.length;he++)this.version=(0,r.Fp)(this.version,oe.F1S.getVersionForSQExpr(ce[he].expr));this.version=(0,r.Fp)(this.version,oe.F1S.getVersionForSortDefinitions(ye.defn.orderBy()))}var Ge=this.serializeShowAllRoles(ye?ye.projections:void 0);_.isEmpty(Ge)||(it.singleVisual.showAllRoles=Ge,Ne&&Ne.featureUsage&&(Ne.featureUsage.hasShowAllEnabled=!0)),Y.visualType===He.D.ribbonChart&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_5)),Y.visualType===He.D.actionButton&&(this.version=(0,r.Fp)(this.version,oe.Kkx)),Y.visualType===He.D.pythonVisual&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_17)),Y.visualType===He.D.keyDriversVisual&&(this.version=(0,r.Fp)(this.version,oe.H3n.v4_1),Y.query&&!_.isEmpty(Y.query.tryGetExprs(i.qG.details))&&(this.version=(0,r.Fp)(this.version,oe.ukM))),Y.visualType===He.D.qnaVisual&&(this.version=(0,r.Fp)(this.version,oe.H3n.v5_4)),Y.visualType===He.D.decompositionTreeVisual&&(this.version=(0,r.Fp)(this.version,oe.H3n.v5_5)),Y.visualType===He.D.azureMap&&(this.version=(0,r.Fp)(this.version,oe.H3n.v5_13)),Y.visualType===He.D.cardVisual&&(this.version=(0,r.Fp)(this.version,oe.VRY)),Y.visualType===He.D.shape&&(this.version=(0,r.Fp)(this.version,oe.$qz)),Y.visualType===He.D.pageNavigator&&(this.version=(0,r.Fp)(this.version,oe.aWu)),Y.visualType===He.D.bookmarkNavigator&&(this.version=(0,r.Fp)(this.version,oe.aWu)),Y.visualType===He.D.rdlVisual&&(this.version=(0,r.Fp)(this.version,oe.iuU)),Y.visualType===He.D.scorecard&&(this.version=(0,r.Fp)(this.version,oe.pj3)),Y.visualType===He.D.aiNarratives&&(this.version=(0,r.Fp)(this.version,oe.LlV)),Y.visualType===He.D.advancedSlicerVisual&&(this.version=(0,r.Fp)(this.version,oe.tji)),Y.syncGroup&&(it.singleVisual.syncGroup=_.cloneDeep(Y.syncGroup),this.version=(0,r.Fp)(this.version,oe.$IK)),null!=K.drillFilterOtherVisuals&&(it.singleVisual.drillFilterOtherVisuals=K.drillFilterOtherVisuals,this.version=(0,r.Fp)(this.version,oe.U$u)),null!=K.filterSortOrder&&(it.singleVisual.filterSortOrder=K.filterSortOrder,this.version=(0,r.Fp)(this.version,oe.faH)),K.parentGroup&&(it.parentGroupName=K.parentGroup.name,this.version=(0,r.Fp)(this.version,oe.bFC)),K.howCreated&&"Default"!==K.howCreated&&(it.howCreated=K.howCreated,this.version=(0,r.Fp)(this.version,oe.q0O)),Y.hasDefaultSort&&(it.singleVisual.hasDefaultSort=Y.hasDefaultSort);var ut=ye?Y.query.defn.select():(0,V.bv)();if(Y.objects){var je=this.visualPlugins.capabilities(Y.visualType),ae=je&&je.objects;if(it.singleVisual.objects=this.serializeObjects(Y.objects,ae,Y.visualType,Ne,ut),function(Ee){return Ee.visualType===He.D.scatterChart&&Ee.query&&Ee.query.projections.Play&&!_.isEmpty(Ee.query.projections.Play.all())}(Y)){var fe=!1;(0,P.rQ)(Y.objects,ae,function(ot,_t,ke,dt,Tt){"fill"===_t&&"dataPoint"===dt&&null!=ke&&(fe=!0)}),fe&&(this.version=(0,r.Fp)(this.version,oe.H3n.v5_1))}this.supportsScalarMarkers(Y)&&(0,r.lt)(this.version,oe.Cc1)&&this.upgradeIfScalarMarkersAreSet(Y.objects)}var ze=Y.vcObjects;return ze&&(it.singleVisual.vcObjects=this.serializeObjects(ze,w.XW,Y.visualType,Ne,ut)),this.serializeMobileState(Y,it.singleVisual,null==Ne?void 0:Ne.forSave),Y.cachedFilterDisplayItems&&(it.singleVisual.cachedFilterDisplayItems=(0,f.vX)(Y.cachedFilterDisplayItems)),Y.filterExpressionMetadata&&(it.singleVisual.filterExpressionMetadata=(0,b.Qe)(Y.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,r.Fp)(this.version,oe.vqL)),this.version<oe.jJX&&function(Ee){if(Ee.visualType!==He.D.scatterChart)return!1;var K=m.TL.x,Ne=Ee.query,Y=Ne?Ne.getRolesProjectionRefs([K]):void 0,ye=_.size(Y);if(ye>1)return!0;if(1===ye){var rt=Ne.tryGetExpr(K,0);if(rt&&!(0,Qe.k)(rt))return!0}return!1}(Y)&&(this.version=oe.jJX),it},Ee.prototype.serializeMobileState=function(K,Ne,Y){var ye;Y||(K.mobileVcObjects&&(Ne.mobileVcObjects=(0,c.xF)(K.mobileVcObjects,w.XW,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Y)),K.mobileObjects&&(Ne.mobileObjects=(0,c.xF)(K.mobileObjects,null===(ye=this.visualPlugins.capabilities(K.visualType))||void 0===ye?void 0:ye.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Y)))},Ee.prototype.serializeObjects=function(K,Ne,Y,ye,rt){d.fF.assertValue(K,"explorationSerializer.serializeObjects - objects should exist"),d.fF.assertValue(Y,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var it=(0,c.xF)(K,Ne,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,null==ye?void 0:ye.forSave);return it&&this.removeItemLocationObjects(Y,it),this.isAtLatestVersion()||(this.version=(0,r.Fp)(this.version,(0,oe.P_5)(K,Ne,Y,this.version,rt))),it},Ee.prototype.removeItemLocationObjects=function(K,Ne){var Y=function(et,he){var ce=et[he.objectName];if(null!=ce&&1===ce.length)return ce[0].properties[he.propertyName]};if(K===He.D.scorecard){var ye=Ce.A.scorecard.scorecardReference,rt=Ce.A.scorecard.scorecardId,it=Y(Ne,Ce.A.scorecard.scorecardReference);null!=it&&(delete Ne[ye.objectName][0].properties[ye.propertyName],Ne[rt.objectName][0].properties[rt.propertyName]=it.byReference.itemId)}if(K===He.D.rdlVisual){var Ue=de.eH.reportInfo.reportId,De=de.eH.reportInfo.workspaceId,Le=Y(Ne,ye=de.eH.reportInfo.reference);null!=Le&&(delete Ne[ye.objectName][0].properties[ye.propertyName],Ne[Ue.objectName][0].properties[Ue.propertyName]=Le.byReference.itemId,Ne[De.objectName][0].properties[De.propertyName]=Le.byReference.workspaceId)}},Ee.prototype.isAtLatestVersion=function(){return this.version===G.t},Ee.prototype.serializeShowAllRoles=function(K){if(d.fF.assertAnyValue(K,"projections"),K){var Ne=_.pickBy(K,function(Y){return!0===Y.showAll});return _.keys(Ne)}},Ee.prototype.serializeQueryProjections=function(K){if(d.fF.assertAnyValue(K,"projections"),K){var Ne={};for(var Y in K){var ye=K[Y].all(),rt=K[Y].activeProjectionRefs;if(ye.length>0){Ne[Y]=[];for(var it=0,Ue=ye;it<Ue.length;it++){var De=Ue[it],Le=De.queryRef,Xe={queryRef:Le};De.format&&(Xe.format=De.format),_.includes(rt,Le)&&(Xe.active=!0),De.hidden&&(Xe.hidden=De.hidden,this.version=(0,r.Fp)(this.version,oe.H_y)),Ne[Y].push(Xe)}}}return Ne}},Ee.prototype.serializeQueryFieldParameters=function(K){if(d.fF.assertAnyValue(K,"projections"),K){var Ne={};for(var Y in K){var ye=K[Y].getFieldParameters();if(ye.length>0){Ne[Y]=[];for(var rt=0,it=ye;rt<it.length;rt++){var Ue=it[rt],De={index:Ue.index,length:Ue.length,expr:h.ib.serializeExpr(Ue.expr)};Ne[Y].push(De)}}}return Ne}},Ee.prototype.serializeModelExtensionEntities=function(K){var Ne=this;if(K)return _.map(K,function(Y){var ye={name:Y.name};return Y.extends&&(ye.extends=Y.extends),Y.measures&&(ye.measures=Ne.serializeModelExtensionMeasures(Y.measures)),ye})},Ee.prototype.serializeExpressionReferences=function(K){if(K&&(K.unrecognizedReferences||!_.isEmpty(K.measures))){var Ne={unrecognizedReferences:K.unrecognizedReferences};return _.isEmpty(K.measures)||(Ne.measures=K.measures),Ne}},Ee.prototype.serializeModelExtensionAnnotations=function(K){if(K)return _.map(K,function(Ne){return{name:Ne.name,value:Ne.value}})},Ee.prototype.serializeModelExtensionMeasures=function(K){var Ne=this;if(K)return _.map(K,function(Y){var ye={name:Y.name,dataType:Y.dataType,dataCategory:Y.dataCategory,expression:Y.expression,errorMessage:Y.errorMessage,hidden:Y.hidden,references:Ne.serializeExpressionReferences(Y.references),formulaOverride:Y.formulaOverride,formatInformation:Y.formatInformation,displayFolder:Y.displayFolder};return Y.annotations&&(ye.annotations=Ne.serializeModelExtensionAnnotations(Y.annotations)),Y.measureTemplate&&(ye.measureTemplate={daxTemplateName:Y.measureTemplate.daxTemplateName,version:Y.measureTemplate.version}),Y.description&&(ye.description=Y.description,Ne.version=(0,r.Fp)(Ne.version,oe.WL3)),ye})},Ee.prototype.serializeFilterContainers=function(K,Ne){var Y;if(K){for(var ye=[],rt=0,it=K;rt<it.length;rt++){var Ue=it[rt];if(Ue&&(0!==Ue.howCreated||k.l.isFilterModified(Ue))&&(!Ue.isTransient||Ne&&Ne.withTransientFilters)){7===Ue.howCreated&&Ne&&Ne.forSave&&(Ue.howCreated=1),5===Ue.howCreated&&(this.version=(0,r.Fp)(this.version,oe.H3n.v3_5)),Ue.isHiddenInViewMode&&(this.version=(0,r.Fp)(this.version,oe.yfQ)),Ue.isLockedInViewMode&&(this.version=(0,r.Fp)(this.version,oe.yfQ)),Ue.displayName&&(this.version=(0,r.Fp)(this.version,oe.$Tv)),Ue.ordinal&&(this.version=(0,r.Fp)(this.version,oe.faH)),Ue.type===O.vA.RelativeTime&&(this.version=(0,r.Fp)(this.version,oe.nue)),Ue.type===O.vA.Advanced&&!(null===(Y=Ue.filter)||void 0===Y)&&Y.conditions().some(function(Le){var Xe=(0,Te.Ym)(Le)?Le.arg:Le;return(0,Te.$Q)(Xe)&&(0,Te.AW)(Xe.right)&&""===Xe.right.value})&&(this.version=(0,r.Fp)(this.version,oe.VFg)),Ue.filterExpressionMetadata&&!_.isEmpty(Ue.filterExpressionMetadata.expressions)&&!_.isEmpty(Ue.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(Ue.filterExpressionMetadata.jsonFilter)?(0,r.Fp)(this.version,oe.Upn):(0,r.Fp)(this.version,oe.kJo));var De=Ue.filterExpressionMetadata?(0,b.Qe)(Ue.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;ye.push({name:Ue.name,expression:Ue.expression?h.ib.serializeExpr(Ue.expression):void 0,filter:Ue.filter?h.ib.serializeFilter(Ue.filter):void 0,type:O.vA[Ue.type],restatement:Ue.restatement,cachedDisplayNames:(0,f.vX)(Ue.cachedValueItems),howCreated:Ue.howCreated,isLinkedAsAggregation:Ue.isLinkedAsAggregation,isTransient:Ue.isTransient,objects:Ue.objects?this.serializeObjects(Ue.objects,O.XW,O.LP,Ne):void 0,isHiddenInViewMode:Ue.isHiddenInViewMode,isLockedInViewMode:Ue.isLockedInViewMode,filterExpressionMetadata:De,displayName:Ue.displayName,ordinal:Ue.ordinal})}}return JSON.stringify(ye)}},Ee.prototype.createVersionedElementConfig=function(K){return{version:K}},Ee.prototype.serializeResourcePackages=function(K,Ne){if(!_.isEmpty(K))return(0,Ve.pz)(K,Ne).map(function(Y){return{resourcePackage:Y}})},Ee.prototype.getLayoutOptimizations=function(K){var Ne=this.getDistinctLayouts(K);return this.getLayoutOptimizationFromLayouts(Ne)},Ee.prototype.getLayoutOptimizationFromLayouts=function(K){for(var Ne=0,Y=0,ye=K;Y<ye.length;Y++)1===ye[Y].id&&(Ne|=1);return Ne},Ee.prototype.getDistinctLayouts=function(K){for(var Ne=K.sections,Y=(0,V.UR)(),ye=0,rt=Ne;ye<rt.length;ye++)for(var Ue=0,De=rt[ye].visualContainers;Ue<De.length;Ue++)for(var Xe=0,et=De[Ue].layouts;Xe<et.length;Xe++){var he=et[Xe];Y.withId(he.id)||Y.push(he)}return Y},Ee.prototype.serializePodParameters=function(K){if(!_.isEmpty(K)){for(var Ne=[],Y=0,ye=K;Y<ye.length;Y++){var rt=ye[Y];Ne.push({name:rt.name,boundFilter:rt.boundFilter,fieldExpr:rt.fieldExpr?h.ib.serializeExpr(rt.fieldExpr):void 0,asAggregation:rt.asAggregation?rt.asAggregation:void 0,isLegacySingleSelection:rt.isLegacySingleSelection?rt.isLegacySingleSelection:void 0})}return Ne}},Ee.prototype.serializePodConfig=function(K){return _.isEmpty(K)||0===K.acceptsFilterContext?"{}":JSON.stringify(K)},Ee.prototype.serializeRelationships=function(K){if(!_.isEmpty(K)){for(var Ne,Y=0,ye=K;Y<ye.length;Y++){var it=this.serializeRelationship(ye[Y]);it&&(Ne||(Ne=[])).push(it)}return Ne}},Ee.prototype.removeInvalidPods=function(K,Ne,Y){var ye=_.map(K,function(Xe){return Xe.name}),rt=_.remove(Ne,function(Xe){return!_.includes(ye,Xe.boundSection)}),it=_.size(rt);if(it>0&&Y.logEvent(W.Jw,{errorType:"NonExistingBoundSection",count:it}),!(_.size(Ne)<=_.size(K))){var Ue=_.groupBy(Ne,function(Xe){return Xe.boundSection}),De=0;_.forEach(Ue,function(Xe){var et=Xe.length;if(et>1){De++;for(var he=Xe[0].boundSection,ce=_.findLastIndex(Ne,function(Ge){return Ge.boundSection===he}),Re=et-1;Re>0&&ce>=0;)Ne.splice(ce,1),Re--,ce=_.findLastIndex(Ne,function(Ge){return Ge.boundSection===he},ce-1)}}),De>0&&Y.logEvent(W.Jw,{errorType:"DuplicateBoundSection",count:De});var Le=_.size(Ne)-_.size(K);Le>0&&(d.fF.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Ne=Ne.slice(0,_.size(K)),Y.logEvent(W.Jw,{errorType:"ExceedingPodsNumberAfterInitialFix",count:Le}))}},Ee.prototype.supportsScalarMarkers=function(K){return _.some([He.D.lineChart,He.D.areaChart,He.D.stackedAreaChart],function(Y){return Y===K.visualType})},Ee.prototype.upgradeIfScalarMarkersAreSet=function(K){var Ne=(0,P.NA)(K,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Ne&&"Scalar"===T.jz.getTextValue(Ne)){var Y=(0,P.NA)(K,{objectName:"lineStyles",propertyName:"showMarker"},null);Y&&T.jz.getBooleanValue(Y)&&(this.version=(0,r.Fp)(this.version,oe.Cc1))}},Ee.prototype.serializePageDynamicConfig=function(K){var Ne;if(K.quickExplore){var ye=K.quickExplore.visualContainerConfigurations,rt=K.quickExplore.layout;Ne||(Ne={}),Ne.quickExplore={selectedFields:_.map(K.quickExplore.selectedFields,function(it){return h.ib.serializeExpr(it)}),visualContainerConfigurations:_.map(ye,function(it){return{name:it.name,fields:_.map(it.fields,function(Ue){return h.ib.serializeExpr(Ue)})}})},rt&&(Ne.quickExplore.layout=this.serializeQuickExploreLayout(rt),this.version=(0,r.Fp)(this.version,oe.KQG))}return Ne},Ee.prototype.serializeQuickExploreLayout=function(K){if(K.combination){var Ne={version:K.combination.version};return K.combination.dataTableName&&(Ne.dataTableName=K.combination.dataTableName),{combination:Ne}}if(K.related){var Y={version:K.related.version};return K.related.dataTableName&&(Y.dataTableName=K.related.dataTableName),{related:Y}}},Ee}();function We(Ee){null!=Ee.x&&null!=Ee.y&&null!=Ee.width&&null!=Ee.height||(g.f.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height})),null==Ee.x&&(Ee.x=0),null==Ee.y&&(Ee.y=0),null==Ee.width&&(Ee.width=0),null==Ee.height&&(Ee.height=0))}function Oe(Ee){return void 0!==Ee.children}},915455:function(Je,H,t){t.d(H,{U6:function(){return p},a5:function(){return h},pz:function(){return r},sQ:function(){return n}});var e=t(658353),c=t(138363),s=t(787941),f=t(282310),v=t(261374),b=t(776791);function h(o,a,i,m,u){s.fF.assertValue(o,"webBookmark");var V=(0,f.v)(o,i,m);if(V.errors&&!a)for(var d=0,S=V.errors;d<S.length;d++){var g=S[d];u.logEvent(e.TH,{type:"WebBookmark",errorCode:g.code,stack:g.stack,message:g.message})}return V.contract}function p(o,a,i,m,u){if(!(0,v.g)(o)){var V=(0,b.K)(o);if(V)try{return a.deserialize(V,i,m)}catch(d){return d&&u.logEvent(e.rj,{stack:d.stack,message:d.message}),{explorationState:null}}}}function n(o){s.fF.assertValue(o,"resourcePackageWireContracts");for(var a=[],i=0,m=o;i<m.length;i++){var u=m[i];l(u),a.push(u)}for(var V=0;V<a.length;++V)if(a[V])for(var d=a.length;--d>V;)a[d]&&a[V].name===a[d].name&&(a[d].id>a[V].id&&(a[V]=a[d]),a.splice(d,1));return a}function l(o){void 0===o.type&&(o.type=0)}function r(o,a){if(!_.isEmpty(o)){for(var i=[],m=function(g){var y=_.find(g.items,function(P){return P.type===c.Ut.CustomVisualMetadata});if(y&&void 0!==y.content){var C=_.isString(y.content)?(0,b.K)(y.content):y.content;C&&(C.content=void 0,y.content=JSON.stringify(C))}var E=g.items;if(E){var M=["contentBlob","contentBlobUrl","promise"];a&&a.excludeResourceItemContent&&M.push("content"),E=_.map(E,function(P){return _.omit(P,M)})}i.push({id:g.id,name:g.name,type:g.type,items:E,disabled:!!g.disabled})},u=0,V=o;u<V.length;u++)m(V[u]);return i}}},276937:function(Je,H,t){t.d(H,{oJ:function(){return M},Ay:function(){return P},vB:function(){return T},qC:function(){return W},jp:function(){return Q}});var e=t(415859),c=t(718706),s=t(962210),f=t(890795),v=t(322487),b=t(693825),h=t(883863),p=t(787941),n=t(272039),l=t(505876),r=t(160046),o=t(568837),a=t(798379),m=function(){function J(re){var G=(0,a.F)(re).downgraders;this.objectsDowngrader=(0,o.x)(G)}return J.prototype.getFinalExplorationVersion=function(re,G){var ne,X,oe=re&&re.sections;if(oe){for(var Ve=0,Te=Object.keys(oe);Ve<Te.length;Ve++)for(var He=oe[Te[Ve]],Ce=0,de=Object.keys(He.visualContainers);Ce<de.length;Ce++){var le=He.visualContainers[de[Ce]],me=le.singleVisual;if(me){var be=me.visualType,Be=null===(ne=le.singleVisual)||void 0===ne?void 0:ne.mobileVcObjects;Be&&(G=(0,b.Fp)(G,this.objectsDowngrader.getFinalVisualObjectsVersion(2,Be,G,be)));var Se=null===(X=le.singleVisual)||void 0===X?void 0:X.mobileObjects;Se&&(G=(0,b.Fp)(G,this.objectsDowngrader.getFinalVisualObjectsVersion(1,Se,G,be)))}}return G}},J.prototype.downgrade=function(re,G){var ne=re&&re.sections;if(ne)for(var X=0,oe=Object.keys(ne);X<oe.length;X++)for(var Te=ne[oe[X]],Qe=0,He=Object.keys(Te.visualContainers);Qe<He.length;Qe++){var pe=Te.visualContainers[He[Qe]].singleVisual;if(pe){var le=pe.visualType,me=pe.mobileVcObjects;me&&this.objectsDowngrader.downgrade(2,me,le,G);var be=pe.mobileObjects;be&&this.objectsDowngrader.downgrade(1,be,le,G)}}},J}(),u="1.27",d=t(92832),S=t(999519),y=function(){function J(re){this.objectsUpgrader=(0,d.U)((0,S.$)(re).getVersionUpgraders())}return J.prototype.upgrade=function(re,G){var ne=re&&re.sections;if(ne){for(var X=0,oe=Object.keys(ne);X<oe.length;X++)for(var Te=ne[oe[X]],Qe=0,He=Object.keys(Te.visualContainers);Qe<He.length;Qe++){var pe=Te.visualContainers[He[Qe]].singleVisual;if(pe){var le=pe.visualType,me=pe.mobileVcObjects;me&&this.objectsUpgrader.upgrade(2,me,le,G);var be=pe.mobileObjects;be&&this.objectsUpgrader.upgrade(1,be,le,G)}}return re}},J}(),C=t(764830),E=t(89858);function M(J,re){for(var G={},ne=0,X=re.sections;ne<X.length;ne++)for(var Ve=0,Te=(oe=X[ne]).visualContainers;Ve<Te.length;Ve++)G[Te[Ve].name]=!0;for(var He in J.sections){var oe=J.sections[He];for(var Ce in oe.visualContainers)G[Ce]||delete oe.visualContainers[Ce]}}function P(J,re,G){return A(Q(J,null,G,re),re)}function T(J,re,G,ne){if(p.fF.assertValue(J,"input"),null!=ne&&ne.runUpgraders){var X=E.s4x[J.version],oe=function(J){return new y(J)}(G);J=oe.upgrade(J,X)}var Ve={activeSection:J.activeSection,filters:x(J.filters),sections:_.mapValues(J.sections,function(Te){return function(J,re){return p.fF.assertValue(J,"input"),{filters:x(J.filters),visualContainers:_.mapValues(J.visualContainers,function(G){return function(J,re){p.fF.assertValue(J,"input");var G=A(J.singleVisual,re);return{filters:x(J.filters),singleVisual:G,visibility:J.singleVisual?j(J.singleVisual.display):void 0,highlight:J.highlight?B(J.highlight):void 0}}(G,re)}),visualContainerGroups:J.visualContainerGroups&&_.mapValues(J.visualContainerGroups,F)}}(Te,re)})};return J.objects&&(Ve.objects=w(J.objects,function(){return n.W})),J.dataSourceVariables&&(Ve.dataSourceVariables=J.dataSourceVariables),Ve}function x(J){if(p.fF.assertAnyValue(J,"input"),J){var re={};return J.byName&&(re.nameIdentifiedMerges=_.mapValues(J.byName,R)),J.byExpr&&(re.exprIdentifiedMerges=_.map(J.byExpr,R)),J.byType&&(re.typeIdentifiedMerges=_.map(J.byType,R)),J.byTransientState&&(re.transientFilters=_.map(J.byTransientState,R)),re}}function R(J){return p.fF.assertValue(J,"input"),{name:J.name,type:l.vA[J.type],filter:J.filter?v.ib.deserializeFilter(J.filter):void 0,expression:J.expression?v.ib.deserializeExpr(J.expression):void 0,restatement:J.restatement,howCreated:J.howCreated,precedence:J.precedence,isTransient:J.isTransient,cachedValueItems:(0,c.kE)(J.cachedDisplayNames),filterExpressionMetadata:J.filterExpressionMetadata?(0,f.hE)(J.filterExpressionMetadata):void 0}}function F(J){return p.fF.assertValue(J,"input"),{isHidden:J.isHidden,children:J.children&&_.mapValues(J.children,function(re){return F(re)})}}function A(J,re){if(p.fF.assertAnyValue(J,"input"),J){var G={visualType:J.visualType};if(null!=J.isDrillDisabled&&(G.isDrillDisabled=J.isDrillDisabled),null!=J.autoSelectVisualType&&(G.autoSelectVisualType=J.autoSelectVisualType),J.objects&&(G.objects=w(J.objects,function(){var Qe;return J.visualType&&(null===(Qe=re.capabilities(J.visualType))||void 0===Qe?void 0:Qe.objects)})),J.orderBy&&(G.orderBy=v.ib.deserializeSortDefinitions(J.orderBy,null)),J.targetType&&(G.targetType=J.targetType),null!=J.targetAutoSelectVisualType&&(G.targetAutoSelectVisualType=J.targetAutoSelectVisualType),J.activeProjections&&(G.activeProjections=O(J.activeProjections)),_.isEmpty(J.parameters)||(G.parameters=function(J){var re;for(var G in J){var ne=J[G];_.isEmpty(ne)||(re||(re={}),re[G]=_.map(ne,function(X){return{expr:v.ib.deserializeExpr(X.expr),index:X.index,length:X.length}}))}return re}(J.parameters)),J.projections&&(G.projections=O(J.projections)),J.display&&"hidden"===J.display.mode&&(G.hidden=!0),J.cachedFilterDisplayItems&&(G.cachedFilterDisplayItems=(0,c.kE)(J.cachedFilterDisplayItems)),J.filterExpressionMetadata&&(G.filterExpressionMetadata=(0,f.hE)(J.filterExpressionMetadata)),J.expansionStates){var ne=re.capabilities(J.visualType);G.expansionStates=(0,s.bX)(J.expansionStates,{supportsMerge:ne&&ne.expandCollapse&&ne.expandCollapse.supportsMerge,canCollapseRoot:ne&&ne.noDefaultProjections,collapseParentAfterRemovingChildLevel:ne&&ne.expandCollapse&&ne.expandCollapse.collapseParentAfterRemovingChildLevel})}return J.mobileVcObjects&&(G.mobileVcObjects=(0,e.wN)(J.mobileVcObjects,r.XW)),J.mobileObjects&&(ne=re.capabilities(J.visualType),G.mobileObjects=(0,e.wN)(J.mobileObjects,ne&&ne.objects)),G}}function O(J){var re;for(var G in J){var ne=J[G];_.isEmpty(ne)||(re||(re={}),re[G]=_.map(ne,function(X){return null===X?null:v.ib.deserializeExpr(X)}))}return re}function w(J,re){p.fF.assertValue(J,"input");var G={};return J.merge&&(0,e.kO)(J.merge,re,G,"merge"),J.remove&&(G.remove=_.map(J.remove,I)),G}function I(J){return p.fF.assertValue(J,"input"),{object:J.object,property:J.property,selector:(0,e.L1)(J.selector)}}function B(J){return p.fF.assertValue(J,"input"),{selection:(0,e.OT)(J.selection),filterExpressionMetadata:J.filterExpressionMetadata?(0,f.hE)(J.filterExpressionMetadata):void 0}}function j(J){if(p.fF.assertAnyValue(J,"display"),J&&J.mode)switch(J.mode){case"maximize":switch(J.maximizedOptions&&J.maximizedOptions.dataTable){case"accessible":return 8;case"normal":return 2;default:return 1}case"spotlight":return 4}}function W(J,re,G,ne,X){p.fF.assertValue(J,"input");var oe=new te(re),Ve={version:void 0,activeSection:J.activeSection,filters:oe.serializeFilters(J.filters),sections:_.mapValues(J.sections,function(He){return oe.serializeSection(He,G)})};if(J.objects&&(Ve.objects=oe.serializeObjects(J.objects,n.W),oe.version=(0,b.Fp)(oe.version,C.Aq)),J.dataSourceVariables&&(Ve.dataSourceVariables=J.dataSourceVariables,oe.version=(0,b.Fp)(oe.version,C.Zl)),null!=ne&&ne.runDowngraders&&oe.version!==u){var Te=function(J){return new m(J)}(X),Qe=E.s4x[oe.version];Qe=Te.getFinalExplorationVersion(J,Qe),Te.downgrade(Ve,Qe),Ve.version=_.findKey(E.s4x,function(He){return He===Qe}),p.fF.assertValue(Ve.version,"exploration state version should exist")}return Ve.version=Ve.version||oe.version,Ve}function Q(J,re,G,ne){return new te(G).serializeSingleVisual(J,re,ne)}var te=function(){function J(re){this.featureSwitchService=re,this.version=C.Zh}return J.prototype.serializeFilters=function(re){var G=this;if(p.fF.assertAnyValue(re,"input"),re){var ne={};return re.nameIdentifiedMerges&&(ne.byName=_.mapValues(re.nameIdentifiedMerges,function(X){return G.serializeFilterContainer(X)})),re.exprIdentifiedMerges&&(ne.byExpr=_.map(re.exprIdentifiedMerges,function(X){return G.serializeFilterContainer(X)})),re.typeIdentifiedMerges&&(ne.byType=_.map(re.typeIdentifiedMerges,function(X){return G.serializeFilterContainer(X)})),re.transientFilters&&(ne.byTransientState=_.map(re.transientFilters,function(X){return G.serializeFilterContainer(X)})),ne}},J.prototype.serializeFilterContainer=function(re){p.fF.assertValue(re,"input");var G=re.filterExpressionMetadata?(0,f.Qe)(re.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:re.name,type:null!=re.type?l.vA[re.type]:void 0,filter:re.filter?v.ib.serializeFilter(re.filter):void 0,expression:re.expression?v.ib.serializeExpr(re.expression):void 0,restatement:re.restatement,howCreated:re.howCreated,isTransient:re.isTransient,cachedDisplayNames:(0,c.vX)(re.cachedValueItems),filterExpressionMetadata:G}},J.prototype.serializeSection=function(re,G){var ne=this;return p.fF.assertValue(re,"input"),_.chain(re.visualContainers).values().sumBy(function(X){return null==X.highlight?0:1}).value()>1&&(this.version=(0,b.Fp)(this.version,C.aN)),{filters:this.serializeFilters(re.filters),visualContainers:_.mapValues(re.visualContainers,function(X){return ne.serializeVisualContainer(X,G)}),visualContainerGroups:re.visualContainerGroups&&_.mapValues(re.visualContainerGroups,function(X){return ne.serializeVisualContainerGroup(X)})}},J.prototype.serializeVisualContainer=function(re,G){return p.fF.assertValue(re,"input"),re.highlight&&(this.version=(0,b.Fp)(this.version,C.U1)),{filters:this.serializeFilters(re.filters),singleVisual:this.serializeSingleVisual(re.singleVisual,re.visibility,G),highlight:re.highlight?this.serializeHighlightState(re.highlight):void 0}},J.prototype.serializeVisualContainerGroup=function(re){var G=this;return p.fF.assertValue(re,"input"),{isHidden:re.isHidden,children:re.children&&_.mapValues(re.children,function(ne){return G.serializeVisualContainerGroup(ne)})}},J.prototype.serializeSingleVisual=function(re,G,ne){var X;if(p.fF.assertAnyValue(re,"input"),re){var oe={visualType:re.visualType};if(re.isDrillDisabled&&(oe.isDrillDisabled=re.isDrillDisabled,this.version=(0,b.Fp)(this.version,C.hC)),null!=re.autoSelectVisualType&&(oe.autoSelectVisualType=re.autoSelectVisualType,this.version=(0,b.Fp)(this.version,C.C7)),re.objects&&(oe.objects=this.serializeObjects(re.objects,null===(X=null==ne?void 0:ne.capabilities(re.visualType))||void 0===X?void 0:X.objects)),re.orderBy&&(oe.orderBy=v.ib.serializeSortDefinitions(re.orderBy,!0)),re.activeProjections&&(oe.activeProjections=this.serializeActiveProjections(re.activeProjections)),re.targetType&&(oe.targetType=re.targetType,this.version=(0,b.Fp)(this.version,C.uZ)),null!=re.targetAutoSelectVisualType&&(oe.targetAutoSelectVisualType=re.targetAutoSelectVisualType,this.version=(0,b.Fp)(this.version,C.C7)),re.projections&&(oe.projections=this.serializeActiveProjections(re.projections),this.version=(0,b.Fp)(this.version,C.uZ)),_.isEmpty(re.parameters)||(oe.parameters=this.serializeParameters(re.parameters),this.version=(0,b.Fp)(this.version,C.rb)),re.cachedFilterDisplayItems&&(oe.cachedFilterDisplayItems=(0,c.vX)(re.cachedFilterDisplayItems)),re.filterExpressionMetadata&&(oe.filterExpressionMetadata=(0,f.Qe)(re.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,b.Fp)(this.version,C.XX)),re.mobileVcObjects&&(oe.mobileVcObjects=this.serializeMobileObjects(re.mobileVcObjects,r.XW,re.visualType)),re.mobileObjects&&ne){var Ve=ne.capabilities(re.visualType);oe.mobileObjects=this.serializeMobileObjects(re.mobileObjects,Ve&&Ve.objects,re.visualType)}return _.isEmpty(re.expansionStates)||(oe.expansionStates=(0,s.hI)(re.expansionStates)),p.fF.assert(function(){return!(re.hidden&&G)},"cannot mix hidden & visibility states"),re.hidden?oe.display={mode:"hidden"}:G&&(oe.display=function(J){switch(p.fF.assertAnyValue(J,"mode"),J){case 1:return{mode:"maximize"};case 2:return{mode:"maximize",maximizedOptions:{dataTable:"normal"}};case 8:return{mode:"maximize",maximizedOptions:{dataTable:"accessible"}};case 4:return{mode:"spotlight"}}}(G)),oe}},J.prototype.serializeMobileObjects=function(re,G,ne){this.version=(0,b.Fp)(this.version,C.DA);var X=(0,e.xF)(re,G,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===u)return X;var oe=E.s4x[this.version];return oe=(0,E.P_5)(re,G,ne,oe,(0,h.bv)()),this.version=(0,b.Fp)(this.version,_.findKey(E.s4x,function(Ve){return Ve===oe})),p.fF.assertValue(this.version,"exploration state version should exist"),X},J.prototype.serializeActiveProjections=function(re){var G;for(var ne in re){var X=re[ne];_.isEmpty(X)||(G||(G={}),G[ne]=_.map(X,function(oe){return null===oe?null:v.ib.serializeExpr(oe)}))}return G},J.prototype.serializeParameters=function(re){var G;for(var ne in re){var X=re[ne];_.isEmpty(X)||(G||(G={}),G[ne]=_.map(X,function(oe){return{expr:v.ib.serializeExpr(oe.expr),index:oe.index,length:oe.length}}))}return G},J.prototype.serializeObjects=function(re,G){var ne=this;p.fF.assertValue(re,"input");var X={};return re.merge&&(X.merge=(0,e.xF)(re.merge,G,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),re.remove&&(X.remove=_.map(re.remove,function(oe){return ne.serializeObjectPropSelector(oe)})),X},J.prototype.serializeObjectPropSelector=function(re){return p.fF.assertValue(re,"input"),{object:re.object,property:re.property,selector:(0,e.UZ)(re.selector)||null}},J.prototype.serializeHighlightState=function(re){return p.fF.assertValue(re,"input"),re.filterExpressionMetadata&&(this.version=(0,b.Fp)(this.version,C.Aq)),{selection:(0,e.Vg)(re.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:re.filterExpressionMetadata?(0,f.Qe)(re.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}},J}()},793688:function(Je,H,t){t.d(H,{t:function(){return e}});var e="5.51"},764830:function(Je,H,t){t.d(H,{$K:function(){return M},$j:function(){return C},Aq:function(){return f},C7:function(){return F},DA:function(){return D},DG:function(){return R},I8:function(){return V},LL:function(){return r},M5:function(){return a},Ny:function(){return o},RT:function(){return m},U1:function(){return c},Vb:function(){return E},X2:function(){return y},XS:function(){return g},XX:function(){return b},Zh:function(){return e},Zl:function(){return v},_b:function(){return P},aN:function(){return s},eA:function(){return S},hC:function(){return A},nx:function(){return d},rb:function(){return L},sZ:function(){return x},uZ:function(){return h},ud:function(){return T},ur:function(){return u},wh:function(){return l},xm:function(){return n},zW:function(){return i}});var e="1.0",c="1.1",s="1.2",f="1.3",v="1.4",b="1.5",h="1.6",n="1.8",l="1.9",r="1.10",o="1.11",a="1.12",i="1.13",m="1.14",u="1.15",V="1.16",d="1.17",S="1.18",g="1.19",y="1.20",C="1.21",E="1.22",M="1.23",P="1.24",T="1.25",x="1.26",R="1.27",D=n,L=o,F=u,A=x},999519:function(Je,H,t){t.d(H,{$:function(){return ir}});var e=t(776791),c=t(693825),s=t(787941),f=t(92832),v=t(793688),b=t(415859),h=t(322487),p=t(719661),n=t(525963),l=t(210683),r=t(326899),o=t(324356),a=t(89858),i=t(600348),u=function(){function Et(){}return Et.prototype.upgrade=function(qe,Pt){if(s.fF.assertValue(qe,"exploration"),qe&&(qe.filters=this.upgradeFilterContainers(qe.filters),qe.sections))for(var Nt=0,jt=qe.sections;Nt<jt.length;Nt++){var Xt=jt[Nt];if(Xt.filters=this.upgradeFilterContainers(Xt.filters),Xt.visualContainers)for(var Ae=0,tt=Xt.visualContainers;Ae<tt.length;Ae++){var ct=tt[Ae];ct.filters=this.upgradeFilterContainers(ct.filters);var bt=ct.config.singleVisual;bt&&(bt.objects=this.upgradeObjects(bt.objects,bt.visualType||bt.visualConfig.visualType,Pt))}}},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeFilterCollection=function(qe){s.fF.assertValue(qe,"filterCollection"),qe&&qe.filters&&(qe.filters=this.upgradeFilterContainers(qe.filters))},Et.prototype.getVersion=function(){return a.H3n.v1_0},Et.prototype.upgradeFilterContainers=function(qe){if(!_.isEmpty(qe)){var Pt=(0,e.K)(qe);if(Pt)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++)this.upgradeFilterContainer(jt[Nt]);return JSON.stringify(Pt)}},Et.prototype.upgradeFilterContainer=function(qe){if(!qe.expression&&qe.field){var Pt=function(Et){return function(Et){var qe=Et.aggregate;if(void 0!==qe){var Pt=S(Et)||y(Et);if(Pt)return(0,o.m_)(Pt,qe)}}(Et)||S(Et)||function(Et){var qe=Et.measure;if(qe){var Pt=y(Et);if(Pt)return(0,o.mv)(Pt,qe)}}(Et)||y(Et)}(qe.field);Pt&&(qe.expression=h.ib.serializeExpr(Pt))}void 0===qe.howCreated&&(qe.howCreated=qe.autoGenerated?0:1)},Et.prototype.upgradeObjects=function(qe,Pt,Nt){switch(s.fF.assertAnyValue(qe,"allObjectDefns"),this.dropMalformedSelectors(qe),Pt){case i.D.filledMap:return this.upgradeObjectsFilledMap(qe);case i.D.card:return this.upgradeObjectsCard(qe);case i.D.donutChart:case i.D.pieChart:return Nt&&(0,c.gt)(Nt,"1.0")?qe:this.upgradeObjectsDonutChart(qe)}return qe},Et.prototype.dropMalformedSelectors=function(qe){if(s.fF.assertAnyValue(qe,"allObjectDefns"),qe)for(var Pt in qe){var Nt=qe[Pt];if(Nt)for(var jt=Nt.length-1;jt>=0;jt--){var Ae=Nt[jt].selector;Ae&&(Ae.metadata||delete Ae.metadata,_.isEmpty(Object.keys(Ae))&&Nt.splice(jt,1))}}},Et.prototype.upgradeObjectsFilledMap=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns");var Pt="dataPoint",Nt="fillRule";qe||(qe={});var jt=qe[Pt];jt||(qe[Pt]=jt=[]);for(var Xt,Ae=0,tt=jt;Ae<tt.length;Ae++){var ct=tt[Ae];if(!ct.selector){Xt=ct;break}}return Xt||jt.push(Xt={selector:null,properties:{}}),s.fF.assertValue(Xt,"targetObjectDefn"),null==Xt.properties[Nt]&&(Xt.properties[Nt]=(0,b.W7)((0,l.yw)(),(0,n.XN)().objects[Pt].properties[Nt])),qe},Et.prototype.upgradeObjectsCard=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns");var Pt="cardTitle";if(qe){var jt=qe[Pt];jt&&(qe.categoryLabels=jt,delete qe[Pt])}return qe},Et.prototype.upgradeObjectsDonutChart=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns");var Pt="categoryLabels",Nt="labels",jt="labelStyle",Xt="show";if(qe){var bt,Ae=this.getMetadataOnceObjectDefn(qe,Nt),tt=this.getPropertyExpr(Ae,Xt),ct=!!tt&&h.ib.deserializeExpr(tt).value,Dt=this.getMetadataOnceObjectDefn(qe,Pt);if(Dt){var Rt=this.getPropertyExpr(Dt,Xt),It=!!Rt&&h.ib.deserializeExpr(Rt).value;ct&&It?bt=r.f3:ct&&!It?bt=r.aT:!ct&&It&&(bt=r.W3),delete qe[Pt]}else Ae&&Ae.properties[jt]||(bt=ct?r.f3:r.W3);if(null!=bt){var $t=(0,p.cw)().objects[Nt].properties;if(!Ae){var Ot=qe[Nt];Ot||(qe[Nt]=Ot=[]),(Ae=_.find(Ot,function(tr){return!tr.selector}))||Ot.push(Ae={properties:{}})}Ae.properties[Xt]=(0,b.W7)((0,o.O7)(!0),$t[Xt]),Ae.properties[jt]=(0,b.W7)((0,o.fL)(bt),$t[jt])}return qe}},Et.prototype.getMetadataOnceObjectDefn=function(qe,Pt){if(qe){var Nt=qe[Pt];if(!_.isEmpty(Nt))return _.find(Nt,function(jt){return!jt.selector})}},Et.prototype.getPropertyExpr=function(qe,Pt){if(qe){var Nt=qe.properties[Pt];if(Nt)return Nt.expr}},Et}();function S(Et){var qe=Et.column;if(qe){var Pt=y(Et);if(Pt)return(0,o.Oh)(Pt,qe)}}function y(Et){return(0,o.nw)(Et.schema,Et.entity,Et.entityVar)}var E=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=0,Ae=jt.visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config;ct.layouts||(ct.layouts=[{id:0,position:{x:tt.x,y:tt.y,z:tt.z,width:tt.width,height:tt.height}}])}}},Et.prototype.upgradeFilterCollection=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v2_0},Et}(),P=function(){function Et(){}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeFilterCollection=function(qe){s.fF.assertValue(qe,"filterCollection"),qe&&qe.filters&&(qe.filters=this.upgradeFilterContainers(qe.filters))},Et.prototype.upgradeFilterContainers=function(qe){if(!_.isEmpty(qe)){var Pt=(0,e.K)(qe);if(Pt)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++)this.upgradeFilterContainer(jt[Nt]);return JSON.stringify(Pt)}},Et.prototype.upgradeFilterContainer=function(qe){2===qe.howCreated&&!qe.precedence&&(qe.precedence=0)},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v2_2},Et}(),T=t(684282),x=t(759510),R=t(668268),L=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=0,Ae=jt.visualContainers;Xt<Ae.length;Xt++){var ct=Ae[Xt].config.singleVisual;ct&&(ct.objects=this.upgradeObjects(ct.objects,ct.visualType||ct.visualConfig.visualType))}}},Et.prototype.upgradeFilterCollection=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v2_3},Et.prototype.upgradeObjects=function(qe,Pt){return s.fF.assertAnyValue(qe,"allObjectDefns"),Pt===i.D.slicer?this.upgradeSlicerObjects(qe):qe},Et.prototype.upgradeSlicerObjects=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns");var Nt="mode";qe||(qe={});var jt=(0,R.zx)(qe,"data",null),Xt=(0,T.st)().objects.data.properties;return null==jt.properties[Nt]&&(jt.properties[Nt]=(0,b.W7)((0,o.fL)(x.RB),Xt[Nt])),qe},Et}(),A=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=0,Ae=jt.visualContainers;Xt<Ae.length;Xt++){var ct=Ae[Xt].config.singleVisual;ct&&(ct.objects=this.upgradeObjects(ct.objects,ct.visualType||ct.visualConfig.visualType))}}},Et.prototype.upgradeFilterCollection=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v2_5},Et.prototype.upgradeObjects=function(qe,Pt){return s.fF.assertAnyValue(qe,"allObjectDefns"),Pt===i.D.gauge?this.upgradeGaugeTarget(qe):qe},Et.prototype.upgradeGaugeTarget=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns"),qe||(qe={});var Xt=(0,R.my)(qe,"labels",null);if(!Xt)return qe;for(var Ae=(0,R.zx)(qe,"target",null),tt=0,ct=["show","labelDisplayUnits","labelPrecision","color"];tt<ct.length;tt++){var bt=ct[tt];null!=Xt.properties[bt]&&(Ae.properties[bt]=Xt.properties[bt])}return qe},Et}(),N=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=0,Ae=jt.visualContainers;Xt<Ae.length;Xt++){var ct=Ae[Xt].config.singleVisual;ct&&(ct.objects=this.upgradeObjects(ct.objects,ct.visualType||ct.visualConfig.visualType))}}},Et.prototype.upgradeFilterCollection=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_12_1},Et.prototype.upgradeObjects=function(qe,Pt){return s.fF.assertAnyValue(qe,"allObjectDefns"),Pt===i.D.slicer?this.upgradeSlicerObjects(qe):qe},Et.prototype.upgradeSlicerObjects=function(qe){s.fF.assertAnyValue(qe,"allObjectDefns"),qe||(qe={});var jt=(0,R.my)(qe,"general",null),Xt=jt&&jt.properties.filter,Ae=Xt&&Xt.filter;if(Ae&&this.isAndFilter(Ae)){var ct=(0,R.my)(qe,"data",null);if(ct){var bt=ct.properties.startDate,Dt=ct.properties.endDate,Rt=ct.properties.numericStart,It=ct.properties.numericEnd;(bt&&!Dt||Rt&&!It)&&this.BetweenToBeforeOrAfterFilter(Ae,1),(Dt&&!bt||It&&!Rt)&&this.BetweenToBeforeOrAfterFilter(Ae,0)}}return qe},Et.prototype.isAndFilter=function(qe){if(1===qe.Where.length){var Pt=qe.Where[0].Condition;if(Pt&&Pt.And)return!0}return!1},Et.prototype.BetweenToBeforeOrAfterFilter=function(qe,Pt){var Nt=qe.Where[0].Condition;return s.fF.assertValue(Nt,"Filter condition cannot be null or undefined."),qe.Where[0].Condition=0===Pt?Nt.And.Right:Nt.And.Left,qe},Et}(),I=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=0,Ae=jt.visualContainers;Xt<Ae.length;Xt++){var ct=Ae[Xt].config.singleVisual;ct&&this.upgradeSQExprToInt(ct.objects)}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v3_14_1},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeSQExprToInt=function(qe){for(var Pt in s.fF.assertAnyValue(qe,""),qe)if("labels"===Pt||"bubbles"===Pt||"categoryLabels"===Pt)for(var Nt=0,jt=qe[Pt];Nt<jt.length;Nt++){var Xt=jt[Nt];for(var Ae in Xt.properties)if("bubbleSize"===Ae||"labelDensity"===Ae||"backgroundTransparency"===Ae){var tt=Xt.properties[Ae],ct=tt&&tt.expr&&tt.expr.Literal;ct&&(s.fF.assertValue(ct.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(ct.Value)&&(ct.Value=this.convertLiteralSQTextIntoNumber(ct.Value)+"L"))}}},Et.prototype.convertLiteralSQTextIntoNumber=function(qe){return Math.floor(_.parseInt(qe.substr(1,qe.length-2)))},Et}();function B(Et){return new j(Et)}var j=function(){function Et(qe){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt],Xt=jt.config,Ae=(0,e.K)(jt.filters)||[];1===Xt.type?this.upgradeTooltipPage(Ae,Xt):(0===Xt.type||null==Xt.type)&&this.upgradeRegularPage(Ae,Xt),jt.filters=JSON.stringify(Ae)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_14},Et.prototype.upgradeTooltipPageLinkFields=function(qe,Pt){var Nt=_.map(Pt.linkFields,function(jt){return{howCreated:5,isTransient:!1,isLinkedAsAggregation:jt.asAggregation,expression:jt.fieldExpr}});qe.push.apply(qe,Nt||[]),Pt.linkFields=[]},Et.prototype.upgradeTooltipPage=function(qe,Pt){Pt.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(qe,Pt)},Et.prototype.upgradeRegularPage=function(qe,Pt){if(Pt.acceptsAllFiltersWhenLinked=!1,qe)for(var Nt=0,jt=qe;Nt<jt.length;Nt++)jt[Nt].isLinkedAsAggregation=!1},Et}(),U=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&qe.sections)for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.visualContainers)for(var Xt=function(Rt){var It=Rt.config.singleVisual;if(It){s.fF.assert(function(){return void 0===It.vcObjects},"VC Object can't exist if you are in this version");var Ut={};if(It.altText&&(Ut.general=[{properties:{altText:Ae.toExpr((0,o.fL)(It.altText))}}],delete It.altText),It.aspectRatio){var $t=It.aspectRatio;Ut.lockAspect=[{properties:{show:null!=$t.show?Ae.toExpr((0,o.O7)($t.show)):void 0}}],delete It.aspectRatio}if(It.background){var Ot=It.background;Ut.background=[{properties:{color:null!=Ot.color?{solid:{color:Ae.toExpr((0,o.fL)(Ot.color))}}:void 0,show:null!=Ot.show?Ae.toExpr((0,o.O7)(Ot.show)):void 0,transparency:null!=Ot.transparency?Ae.toExpr((0,o.cA)(Ot.transparency)):void 0}}],delete It.background}if(It.border){var tr=It.border;Ut.border=[{properties:{color:null!=tr.color?{solid:{color:Ae.toExpr((0,o.fL)(tr.color))}}:void 0,show:null!=tr.show?Ae.toExpr((0,o.O7)(tr.show)):void 0}}],delete It.border}if(It.stylePresetName&&(Ut.stylePreset=[{properties:{name:Ae.toExpr((0,o.fL)(It.stylePresetName))}}],delete It.stylePresetName),It.title){var cr=It.title;cr.show=null!=cr.hidden?!cr.hidden:cr.show,Ut.title=[{properties:{alignment:null!=cr.alignment?Ae.toExpr((0,o.fL)(cr.alignment)):void 0,background:null!=cr.background?{solid:{color:Ae.toExpr((0,o.fL)(cr.background))}}:void 0,fontColor:null!=cr.fontColor?{solid:{color:Ae.toExpr((0,o.fL)(cr.fontColor))}}:void 0,fontFamily:null!=cr.fontFamily?Ae.toExpr((0,o.fL)(cr.fontFamily)):void 0,fontSize:null!=cr.fontSize?Ae.toExpr((0,o.cA)(cr.fontSize)):void 0,show:null!=cr.show?Ae.toExpr((0,o.O7)(cr.show)):void 0,text:null!=cr.text?Ae.toExpr((0,o.fL)(cr.text)):void 0}}],delete It.title}if(It.visualLink){var pr=It.visualLink;Ut.visualLink=[{properties:{bookmark:null!=pr.bookmark?Ae.toExpr((0,o.fL)(pr.bookmark)):void 0,qna:pr.qna,show:null!=pr.show?Ae.toExpr((0,o.O7)(pr.show)):void 0,type:null!=pr.type?Ae.toExpr((0,o.fL)(pr.type)):void 0}}],delete It.visualLink}if(It.visualTooltip){var _r=It.visualTooltip;Ut.visualTooltip=[{properties:{section:null!=_r.section?Ae.toExpr((0,o.fL)(_r.section)):void 0,type:null!=_r.type?Ae.toExpr((0,o.fL)(_r.type)):void 0}}],delete It.visualTooltip}Ae.clearUndefinedPropertiesVCObjects(Ut),_.isEmpty(Ut)||(It.vcObjects=Ut)}},Ae=this,tt=0,ct=jt.visualContainers;tt<ct.length;tt++)Xt(ct[tt])}},Et.prototype.toExpr=function(qe){return{expr:h.ib.serializeExpr(qe)}},Et.prototype.clearUndefinedPropertiesVCObjects=function(qe){for(var Pt in qe){var Nt=qe[Pt][0].properties;for(var jt in Nt)Nt[jt]||delete Nt[jt];_.isEmpty(Nt)&&delete qe[Pt]}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_15},Et}(),k=t(85091),te=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe){var Pt={},Nt=qe.config;Nt.themeCollection=Pt,qe.theme&&(Pt.customTheme=(0,k.Mi)(qe.theme,1,this.getVersion()),delete qe.theme),Nt.baseTheme&&(Pt.baseTheme=(0,k.Mi)(Nt.baseTheme,2,this.getVersion()),delete Nt.baseTheme)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_18},Et}(),ee=t(210775),J=t(888142),re=t(883863),G=t(261374),ne=t(690016),oe=function(){function Et(){this.podNamePrefix="Pod"}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections)){for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)this.upgradeSectionAcceptsAllFiltersWhenLinked(Nt[Pt]);for(var Xt=qe.pods||[],Ae={},tt=0,ct=Xt;tt<ct.length;tt++)Ae[ct[tt].name]=!0;for(var Dt=0,Rt=qe.sections;Dt<Rt.length;Dt++)this.upgradeSection(Rt[Dt],Xt,Ae);_.isEmpty(Xt)||(qe.pods=Xt)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_24},Et.prototype.upgradeSectionAcceptsAllFiltersWhenLinked=function(qe){qe.config||(qe.config={}),null==qe.config.acceptsAllFiltersWhenLinked&&(1===qe.config.type?qe.config.acceptsAllFiltersWhenLinked=!0:0===qe.config.type||null==qe.config.type?qe.config.acceptsAllFiltersWhenLinked=!1:s.fF.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+qe.config.type))},Et.prototype.upgradeSection=function(qe,Pt,Nt){if(qe&&qe.name){var jt=(0,e.K)(qe.filters)||[],Xt=_.some(jt,function(tt){return 5===tt.howCreated}),Ae=this.findPodForSectionName(Pt,qe.name);Ae?this.upgradeExistingPod(Ae,qe.config,Xt):Xt&&(Ae=this.createPod(Pt,qe.name,qe.config,Nt)),qe.config&&(qe.config.acceptsAllFiltersWhenLinked=void 0),Ae&&(this.upgradeFilters(Ae,jt),qe.filters=JSON.stringify(jt))}},Et.prototype.upgradeFilters=function(qe,Pt){var Nt=[];(0,G.g)(qe.parameters)||(Nt=(0,e.K)(qe.parameters));for(var jt=0,Xt=Pt;jt<Xt.length;jt++){var Ae=Xt[jt];if(Ae.name&&!Ae.isTransient){var tt=5===Ae.howCreated,ct=this.findParamForFilterName(Nt,Ae.name);ct?(ct.fieldExpr=Ae.expression,ct.asAggregation=Ae.isLinkedAsAggregation,tt||(ct.isLegacySingleSelection=!0)):tt&&Nt.push({name:"Param_"+Ae.name,boundFilter:Ae.name,fieldExpr:Ae.expression,asAggregation:Ae.isLinkedAsAggregation}),Ae.isLinkedAsAggregation=void 0}}qe.parameters=JSON.stringify(Nt)},Et.prototype.upgradeExistingPod=function(qe,Pt,Nt){qe.config=this.createPodConfig(Pt),qe.referenceScope=0,qe.type=Nt?this.determineType(Pt):0},Et.prototype.findParamForFilterName=function(qe,Pt){if(s.fF.assertValue(Pt,"filterName"),!_.isEmpty(qe))return _.find(qe,function(Nt){return Nt.boundFilter===Pt})},Et.prototype.findPodForSectionName=function(qe,Pt){if(s.fF.assertValue(Pt,"sectionName"),!_.isEmpty(qe))return _.find(qe,function(Nt){return Nt.boundSection===Pt})},Et.prototype.createPod=function(qe,Pt,Nt,jt){s.fF.assertValue(qe,"pods"),s.fF.assertValue(Pt,"sectionName");var Xt={name:(0,ne.zE)(jt,this.podNamePrefix),boundSection:Pt,type:this.determineType(Nt),referenceScope:0,config:this.createPodConfig(Nt)};return qe.push(Xt),jt[Xt.name]=!0,s.fF.assert(function(){return(0,re.iv)(qe)},"pod names must be unique"),Xt},Et.prototype.createPodConfig=function(qe){return JSON.stringify({acceptsFilterContext:!qe||qe.acceptsAllFiltersWhenLinked?0:1})},Et.prototype.determineType=function(qe){return qe&&0!==qe.type&&void 0!==qe.type?qe&&1===qe.type?2:void 0:1},Et}(),Ve=t(636490),Te=t(138363),Qe=t(926201),Ce=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe){var Pt=qe.resourcePackages||[],Nt=_.find(Pt,function($t){return 2===$t.resourcePackage.type}),jt=!Nt,Xt=(Nt=Nt||{resourcePackage:{id:void 0,items:[],name:(0,Qe.RJ)(2),type:2}}).resourcePackage.items;if(qe.sections)for(var Ae=0,tt=qe.sections;Ae<tt.length;Ae++){var ct=tt[Ae];if(ct.visualContainers)for(var bt=0,Dt=ct.visualContainers;bt<Dt.length;bt++){var It=Dt[bt].config.singleVisual;It&&this.upgradeSharedResourcePackages(It.objects,Xt)}}var Ut=qe.config&&qe.config.baseTheme;Ut&&(_.find(Xt,function($t){return $t.name===Ut})||Xt.push({name:Ut,type:Te.Ut.BaseTheme,path:"BaseThemes/".concat(Ut,".json")})),jt&&Nt.resourcePackage.items.length>0&&(Pt.push(Nt),qe.resourcePackages||(qe.resourcePackages=Pt))}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v3_6_1},Et.prototype.upgradeSharedResourcePackages=function(qe,Pt){for(var Nt in s.fF.assertAnyValue(qe,""),s.fF.assertValue(Pt,"items should exist while upgrading shared resources"),qe)for(var jt=0,Xt=qe[Nt];jt<Xt.length;jt++){var Ae=Xt[jt],tt=function(Rt){var It=Ae.properties[Rt],Ut=It&&It.geoJson;if(Ut){var $t=Ut.type.expr,Ot=$t.Literal&&$t.Literal.Value;if(Ot&&ct.removeQuotes(Ot)===Ve.c1){var tr=ct.removeQuotes(Ut.name.expr.Literal.Value);_.find(Pt,function(cr){return cr.name===tr})||Pt.push({name:tr,type:Te.Ut.ShapeMap,path:"Shapemaps/".concat(tr,".json")})}}},ct=this;for(var bt in Ae.properties)tt(bt)}},Et.prototype.removeQuotes=function(qe){return qe.substr(1,qe.length-2)},Et}(),de=t(563246),le=function(){function Et(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config&&tt.config.singleVisual;ct&&ct.visualType===i.D.keyDriversVisual&&(ct.objects=this.upgradeKeyDriversVisualObjects(ct.objects))}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v4_1},Et.prototype.upgradeKeyDriversVisualObjects=function(qe){qe||(qe={});var Pt=qe[this.keyDriverObjectName];if(Pt||(Pt=qe[this.keyDriverObjectName]=[{properties:{}}]),s.fF.assert(function(){return 1===Pt.length},"only one keyDrivers object should exist"),!Pt[0].properties[this.selectedNumericAnalysisPropertyName]){var jt={enumeration:de.dt},Xt=(0,o.kQ)(de.Pf,jt);Pt[0].properties[this.selectedNumericAnalysisPropertyName]=(0,b.W7)(Xt,{type:jt})}return qe},Et}(),me=t(849),Be=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt];(0,me.jF)(tt.config&&tt.config.singleVisual)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v4_2},Et}(),Pe=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++){var jt=Nt[Pt];ve(jt),xe(jt)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v5_1},Et}(),ue=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function ve(Et){if(Et&&Et.config&&Et.config.objects)for(var qe=0,Pt=ue;qe<Pt.length;qe++)(0,me.pr)(Et.config.objects,Pt[qe])}function xe(Et){if(Et&&Et.config&&Et.config.objects&&Et.config.objects.filterCard)for(var Pt=0,Nt=Et.config.objects.filterCard;Pt<Nt.length;Pt++){var jt=Nt[Pt],Xt=jt&&jt.properties;if(Xt){var Ae=Xt.textSize;if(Ae){var tt=h.ib.deserializeExpr(Ae.expr);Xt.textSize=(0,me.Mi)((0,me.nc)(tt))}}}}var Fe=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt];(0,me.Rd)(tt.config&&tt.config.singleVisual)}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v5_3},Et}();function at(Et){return new We(Et)}var We=function(){function Et(qe){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config&&tt.config.singleVisual;if(ct&&ct.objects){var bt=ct&&ct.visualType;"pivotTable"!==bt&&"tableEx"!==bt||this.upgradeTablixProperties(ct.objects,bt)}}},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeTablixProperties=function(qe,Pt){s.fF.assertValue(qe,"objects");var Nt=qe.values;if(Nt)for(var jt=0,Xt=Nt;jt<Xt.length;jt++){var Ae=Xt[jt];this.isValidRoleWildcard(Ae.selector,Pt)&&(!Ae.properties||!Ae.properties.backColor&&!Ae.properties.fontColor||(Ae.selector.data=[{dataViewWildcard:{matchingOption:1}}]))}},Et.prototype.isValidRoleWildcard=function(qe,Pt){return!(!qe||_.isEmpty(qe.data)||1!==qe.data.length||_.isEmpty(qe.data[0].roles))&&("tableEx"===Pt&&_.isEqual(qe.data[0].roles,["Values"])||"pivotTable"===Pt&&_.isEqual(qe.data[0].roles,["Rows","Columns"]))},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_9},Et}(),Ze=function(){function Et(){}return Et.prototype.upgrade=function(qe){this.forAllSectionsAllContainers(qe,[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart],this.upgradeLineChartDotProperties)},Et.prototype.forAllSectionsAllContainers=function(qe,Pt,Nt){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var jt=0,Xt=qe.sections;jt<Xt.length;jt++)for(var tt=function(It){var Ut=It.config&&It.config.singleVisual;if(!Ut||!Ut.objects)return"continue";var $t=Ut&&Ut.visualType;if(_.findIndex(Pt,function(Ot){return Ot===$t})<0)return"continue";Nt(Ut.objects,Ut.projections)},ct=0,bt=Xt[jt].visualContainers;ct<bt.length;ct++)tt(bt[ct])},Et.prototype.upgradeLineChartDotProperties=function(qe,Pt){s.fF.assertValue(qe,"objects");var Nt=qe.categoryAxis,jt=qe.dataPoint,Xt=qe.lineStyles;if(Nt&&0!==Nt.length){var Ae,ct=Nt[0].properties;if(ct&&ct.axisType){if(Ae=ct.axisType.expr.Literal.Value.replace(/['"]+/g,""),jt&&"Categorical"===Ae&&Pt&&Pt.Category&&1===Pt.Category.length&&Pt.Category[0]){var Dt=Pt.Category[0].queryRef;if(Dt)for(var It,Rt=function(Ur){var Lr=jt[Ur].properties;if(s.fF.assert(function(){return _.keys(Lr).length<=1},"expected data point object to only have one or no properties"),!Lr||!Lr.fill||_.keys(Lr).length>1)return It=Ur,"continue";var Wr=jt[Ur].selector;if(Wr&&Wr.data&&1===Wr.data.length&&Wr.data[0]){var Br=Wr.data[0];if(Br.scopeId&&Br.scopeId.Comparison&&Br.scopeId.Comparison.Left&&Br.scopeId.Comparison.Left.Column){var kr=Br.scopeId.Comparison.Left.Column,ti=kr.Property;if(ti&&kr.Expression&&kr.Expression.SourceRef){var Qt=kr.Expression.SourceRef.Entity;Qt&&"".concat(Qt,".").concat(ti)===Dt&&(jt.splice(Ur,1),Ur--)}}}It=Ur},Ut=0;Ut<jt.length;Ut++)Rt(Ut),Ut=It}if(Xt&&Xt.length>0&&"Scalar"===Ae)for(var $t=0,Ot=Xt;$t<Ot.length;$t++){var tr=Ot[$t];if(!tr.selector){var cr=tr.properties;if(cr&&cr.showMarker){var pr=cr.showMarker;"true"===pr.expr.Literal.Value&&(pr.expr.Literal.Value="false")}}}}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.getVersion=function(){return a.H3n.v5_11},Et}(),Ee=t(890795),K=t(266983),Ne=t(369138);function Y(Et){return new ye(Et)}var ye=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(s.fF.assertValue(qe,"exploration"),qe&&!(_.isEmpty(qe.config.bookmarks)&&_.isEmpty(qe.filters)&&_.isEmpty(qe.sections)))){_.isEmpty(qe.config.bookmarks)||this.upgradeBookmarks(qe.config.bookmarks),qe.filters&&(qe.filters=this.upgradeFilterContainers(qe.filters));for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config&&tt.config.singleVisual;ct&&ct.filterExpressionMetadata&&(0,Ee.R6)(ct.filterExpressionMetadata)&&(ct.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(ct.filterExpressionMetadata)),tt.filters&&(tt.filters=this.upgradeFilterContainers(tt.filters)),!ct||!ct.objects||(ct&&ct.visualType)!==i.D.textbox||this.upgradeFilterContextProperties(ct.objects)}}},Et.prototype.upgradeFilterContextProperties=function(qe){var Pt=this;for(var Nt in s.fF.assertValue(qe,"objects"),qe)for(var Xt=0,Ae=qe[Nt];Xt<Ae.length;Xt++){var tt=Ae[Xt];for(var ct in tt.properties){var bt=tt.properties[ct];if((0,b.CA)(bt)){var Dt=bt.context,Rt=Dt&&Dt.filterContext;_.isEmpty(Rt)||_.forEach(Rt,function(It){It.metadata&&(0,Ee.R6)(It.metadata)&&(It.metadata=Pt.upgradeFilterExpressionMetadata(It.metadata))})}}}},Et.prototype.upgradeBookmarks=function(qe){for(var Pt=0,Nt=qe;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(rt(jt))this.upgradeBookmarks(jt.children);else{this.upgradeSectionState(jt.explorationState.sections);var Ae=jt.explorationState.filters;Ae&&this.upgradeFilters(Ae)}}},Et.prototype.upgradeSectionState=function(qe){var Pt=this;_.forEach(qe,function(Nt){_.forEach(Nt.visualContainers,function(jt){var Xt=jt.highlight;Xt&&Xt.selection&&(0,b.kS)(Xt.selection)&&(Xt.selection=Pt.upgradeSelectorsByColumn(Xt.selection)),Xt&&Xt.filterExpressionMetadata&&(0,Ee.R6)(Xt.filterExpressionMetadata)&&(Xt.filterExpressionMetadata=Pt.upgradeFilterExpressionMetadata(Xt.filterExpressionMetadata));var Ae=jt.singleVisual;Ae.filterExpressionMetadata&&(0,Ee.R6)(Ae.filterExpressionMetadata)&&(Ae.filterExpressionMetadata=Pt.upgradeFilterExpressionMetadata(Ae.filterExpressionMetadata))}),Nt.filters&&Pt.upgradeFilters(Nt.filters)})},Et.prototype.upgradeFilters=function(qe){var Pt=this;qe.byName&&_.forEach(qe.byName,function(Nt){Nt.filterExpressionMetadata&&(0,Ee.R6)(Nt.filterExpressionMetadata)&&(Nt.filterExpressionMetadata=Pt.upgradeFilterExpressionMetadata(Nt.filterExpressionMetadata))}),qe.byExpr&&this.upgradeFilterContainerState(qe.byExpr),qe.byTransientState&&this.upgradeFilterContainerState(qe.byTransientState),qe.byType&&this.upgradeFilterContainerState(qe.byType)},Et.prototype.upgradeFilterContainerState=function(qe){var Pt=this;_.forEach(qe,function(Nt){Nt.filterExpressionMetadata&&(0,Ee.R6)(Nt.filterExpressionMetadata)&&(Nt.filterExpressionMetadata=Pt.upgradeFilterExpressionMetadata(Nt.filterExpressionMetadata))})},Et.prototype.upgradeSelectorsByColumn=function(qe){var Pt=_.map(qe,function(jt){return(0,b.JF)(jt)}),Nt=(0,Ne.od)(Pt);return(0,b.B6)(Nt)},Et.prototype.upgradeFilterExpressionMetadata=function(qe){var Pt=(0,Ee._q)(qe),Nt=(0,Ne.s0)(Pt);return(0,K.LF)(Nt)},Et.prototype.upgradeFilterCollection=function(qe){s.fF.assertValue(qe,"filterCollection"),qe&&qe.filters&&(qe.filters=this.upgradeFilterContainers(qe.filters))},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeFilterContainers=function(qe){if(!_.isEmpty(qe)){var Pt=(0,e.K)(qe);if(Pt)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++)this.upgradeFilterContainer(jt[Nt]);return JSON.stringify(Pt)}},Et.prototype.upgradeFilterContainer=function(qe){qe.filterExpressionMetadata&&(0,Ee.R6)(qe.filterExpressionMetadata)&&(qe.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(qe.filterExpressionMetadata))},Et.prototype.getVersion=function(){return a.H3n.v5_16},Et}();function rt(Et){return void 0!==Et.children}function Ue(Et){return new De(Et)}var De=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(s.fF.assertValue(qe,"exploration"),qe&&qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config&&tt.config.singleVisual;if(ct&&"actionButton"===ct.visualType&&ct.objects){var bt=ct.objects;if(bt.text)for(var Dt=0,Rt=bt.text;Dt<Rt.length;Dt++)if((Ut=null==(It=Rt[Dt])?void 0:It.properties)&&($t=Ut.padding)){var Ot,tr;Ot=Ut.horizontalAlignment?Le(Ut.horizontalAlignment):"right",tr=Ut.verticalAlignment?Le(Ut.verticalAlignment):"middle","left"===Ot?It.properties.leftMargin=$t:"right"===Ot&&(It.properties.rightMargin=$t),"top"===tr?It.properties.topMargin=$t:"bottom"===tr&&(It.properties.bottomMargin=$t),delete It.properties.padding}if(bt.icon)for(var cr=0,pr=bt.icon;cr<pr.length;cr++){var Ut,$t;(Ut=null==(It=pr[cr])?void 0:It.properties)&&($t=Ut.padding)&&(It.properties.leftMargin=$t,It.properties.rightMargin=$t,It.properties.topMargin=$t,It.properties.bottomMargin=$t,delete It.properties.padding)}if(bt.outline)for(var _r=0,Ur=bt.outline;_r<Ur.length;_r++){var It,Lr=null==(It=Ur[_r])?void 0:It.properties.roundEdge;Lr&&(bt.shape=bt.shape||[],bt.shape.push({properties:{roundEdge:Lr},selector:It.selector}),delete It.properties.roundEdge)}}}},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_25},Et}();function Le(Et){return h.ib.deserializeExpr(Et.expr).value}var et=function(){function Et(){}return Et.prototype.upgrade=function(qe){if(s.fF.assertValue(qe,"exploration"),qe&&!_.isEmpty(qe.sections))for(var Pt=0,Nt=qe.sections;Pt<Nt.length;Pt++)for(var Xt=0,Ae=Nt[Pt].visualContainers;Xt<Ae.length;Xt++){var tt=Ae[Xt],ct=tt.config&&tt.config.singleVisual;ct&&ct.objects&&(ct&&ct.visualType)===i.D.azureMap&&this.upgradeAzureMapProperties(ct.objects)}},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeAzureMapProperties=function(qe){s.fF.assertValue(qe,"objects");var Pt=qe.heatMapLayer;if(Pt&&0!==Pt.length)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++){var Xt=jt[Nt];if(!Xt.selector){var Ae=Xt.properties;if(Ae&&Ae.heatMapOpacity){var ct=Number(he(Ae.heatMapOpacity)),bt=isNaN(ct)?0:100-100*ct;delete Ae.heatMapOpacity,Ae.mapTransparency=(0,me.Mi)((0,o.cA)(bt))}}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_28},Et}();function he(Et){return h.ib.deserializeExpr(Et.expr).value}var ce=t(226514),Re=t(664723),Ge=t(939523),ut=t(281835);function je(Et){return new ot(Et)}var ae=[i.D.tableEx,i.D.pivotTable,i.D.slicer,i.D.filterSlicer,i.D.multiRowCard],fe=[i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart],we=[i.D.areaChart,i.D.barChart,i.D.clusteredBarChart,i.D.clusteredColumnChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.ribbonChart,i.D.scatterChart,i.D.stackedAreaChart,i.D.waterfallChart],ze=[i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart],$e=[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart],ot=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){1===qe&&(_.some(fe,function(Xt){return Xt===Nt})&&(this.upgradeCartesianAxisScale(Pt,Re.p.categoryAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(Pt,Re.p.categoryAxis.switchAxisPosition.objectName)),_.some(we,function(Xt){return Xt===Nt})&&(this.upgradeCartesianAxisScale(Pt,Re.p.valueAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(Pt,Re.p.valueAxis.switchAxisPosition.objectName)),_.some(ze,function(Xt){return Xt===Nt})&&this.upgradeCartesianSecAxisScale(Pt,Re.p.valueAxis.secLogAxisScale.objectName),_.some($e,function(Xt){return Xt===Nt})&&(this.upgradeCartesianSecAxisScale(Pt,Re.p.y2Axis.secLogAxisScale.objectName),this.upgradeDefaultToCircle(Pt,Ge.zK.legend.legendMarkerRendering.objectName)),this.featureSwitchService.featureSwitches.outlineDropdownToCheckboxes&&_.some(ae,function(Xt){return Xt===Nt})&&this.upgradeOutlineProperties(Pt,Nt),this.featureSwitchService.featureSwitches.splitSubTotals&&Nt===i.D.pivotTable&&this.upgradeSubTotalsProperties(Pt),this.featureSwitchService.featureSwitches.splitGrandTotals&&Nt===i.D.pivotTable&&this.upgradeTotalProperties(Pt),Nt===i.D.scatterChart&&this.upgradeScatterChartFillPoint(Pt)),2===qe&&(this.featureSwitchService.featureSwitches.splitHelpTooltip&&this.upgradeVisualHeaderTooltip(Pt),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(Pt))},Et.prototype.upgradeCartesianAxisScale=function(qe,Pt){var Nt=Re.p.categoryAxis;this.upgradeAxisScale(qe,Pt,Nt.axisScale.propertyName,Nt.logAxisScale.propertyName)},Et.prototype.upgradeCartesianSecAxisScale=function(qe,Pt){var Nt=Re.p.valueAxis;this.upgradeAxisScale(qe,Pt,Nt.secAxisScale.propertyName,Nt.secLogAxisScale.propertyName)},Et.prototype.upgradeVisualHeaderTooltip=function(qe){s.fF.assertValue(qe,"objects");var Pt=qe[Wt];if(Pt&&Pt.length>0)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++){var Ae=jt[Nt].properties;if(Ae&&Ae[Zt]&&!Ae[Kt]){var tt=Ae[Zt],ct=tt&&_t(tt);ct&&ct!==Tt&&(Ae[Kt]=(0,me.Mi)((0,o.fL)(dt)))}}},Et.prototype.upgradeSubTotalsProperties=function(qe){s.fF.assertValue(qe,"objects");var Pt=qe.subTotals;if(Pt&&Pt.length>0)for(var Nt=Pt.length,jt=0;jt<Nt;jt++){var Xt=Pt[jt],Ae=Xt.properties,tt={properties:{}};if(Ae&&!Xt.selector){for(var ct=0,bt=ke;ct<bt.length;ct++){var Dt=bt[ct],Rt=Ae[Dt.propertyName];Rt&&(tt.properties[Dt.propertyName]=Rt,delete Ae[Dt.propertyName])}_.isEmpty(tt.properties)||(Pt.push((0,ce.__assign)((0,ce.__assign)({},tt),{selector:{id:"Column"}})),Pt.push((0,ce.__assign)((0,ce.__assign)({},tt),{selector:{id:"Row"}})))}}},Et.prototype.upgradeVisualLink=function(qe){if(this.featureSwitchService.featureSwitches.useModernFormatPane){s.fF.assertValue(qe,"objects");var Pt=qe[er];if(Pt&&Pt.length>0)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++){var Ae=jt[Nt].properties;if(Ae&&Ae[ar]){var tt=Ae[ar],ct=tt&&_t(tt),bt=(0,me.Xv)(ct);Ae[sr]=(0,me.Mi)((0,o.O7)(bt)),delete Ae[ar]}}}},Et.prototype.upgradeOutlineProperties=function(qe,Pt){s.fF.assertValue(qe,"objects");for(var jt=0,Xt=this.getPropertiesToUpgrade(Pt);jt<Xt.length;jt++){var Ae=Xt[jt],ct=Ae.propertyName,bt=qe[Ae.objectName];if(bt&&0!==bt.length)for(var Dt=0,Rt=bt;Dt<Rt.length;Dt++){var Ut=Rt[Dt].properties;if(Ut&&Ut[ct]){var Ot=_t(Ut[ct]),tr=(0,me.s8)(Ot);Ut[gr]=(0,me.Mi)((0,o.cA)(tr)),delete Ut[ct]}}}},Et.prototype.upgradeTotalProperties=function(qe){s.fF.assertValue(qe,"objects");var Pt=qe.total;Pt&&Pt.length>0&&(qe.rowTotal=_.cloneDeep(Pt),qe.columnTotal=_.cloneDeep(Pt),delete qe.total)},Et.prototype.getPropertiesToUpgrade=function(qe){switch(qe){case i.D.tableEx:return mr;case i.D.pivotTable:return Sr;case i.D.slicer:return Mr;case i.D.filterSlicer:return St;case i.D.multiRowCard:return Gt;default:return s.fF.assertFail("unexpected visual type"),[]}},Et.prototype.upgradeDefaultToCircle=function(qe,Pt){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.removeDefaultToCircleToggle){var Nt=qe[Pt],jt=Ge.zK.legend.defaultToCircle.propertyName,Xt=Ge.zK.legend.legendMarkerRendering.propertyName;if(Nt&&Nt.length>0){var Ae=Nt[0].properties;if(Ae&&Ae[jt]){var tt=void 0;Ae[Xt]&&(tt=_t(Ae[Xt]));var ct=_t(Ae[jt]);tt!==ut.f2&&tt||ct?tt===ut.f2&&ct&&(Ae[Xt]=(0,me.Mi)((0,o.fL)(ut.G_))):Ae[Xt]=(0,me.Mi)((0,o.fL)(ut.f2)),delete Ae[jt]}}}},Et.prototype.upgradeAxisScale=function(qe,Pt,Nt,jt){var Xt=qe[Pt];if(Xt&&Xt.length>0){var Ae=Xt[0].properties;if(Ae&&Ae[Nt]){var tt=_t(Ae[Nt]),ct=(0,me.Dq)(tt);Ae[jt]=(0,me.Mi)((0,o.O7)(ct)),delete Ae[Nt]}}},Et.prototype.upgradeCartesianAxisPosition=function(qe,Pt){s.fF.assertValue(qe,"objects");var Nt=qe[Pt],jt=Re.p.categoryAxis.position.propertyName,Xt=Re.p.categoryAxis.switchAxisPosition.propertyName;if(Nt&&Nt.length>0){var Ae=Nt[0].properties;if(Ae&&Ae[jt]){var tt=_t(Ae[jt]),ct=(0,me.QK)(tt);Ae[Xt]=(0,me.Mi)((0,o.O7)(ct)),delete Ae[jt]}}},Et.prototype.upgradeScatterChartFillPoint=function(qe){s.fF.assertValue(qe,"objects");var Pt=qe.fillPoint;if(Pt&&Pt.length>0)for(var Nt=0,jt=Pt;Nt<jt.length;Nt++){var Xt=jt[Nt];if(!Xt.selector){var Ae=Xt.properties;if(Ae&&Ae.show){var tt=_t(Ae.show),ct=(0,me.fw)(tt);Ae.style=(0,me.Mi)((0,o.fL)(ct)),delete Ae.show}}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_31},Et}();function _t(Et){return h.ib.deserializeExpr(Et.expr).value}var ke=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],dt="Canvas",Tt="none",Wt="visualHeaderTooltip",Kt="type",Zt="section",er="visualLink",ar="suppressDefaultTooltip",sr="showDefaultTooltip",gr="outlineStyle",mr=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],Sr=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],Mr=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],St=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Gt=[{objectName:"card",propertyName:"outline"}];function rr(Et){return new wr(Et)}var Fr=[i.D.areaChart,i.D.lineChart,i.D.lineClusteredColumnComboChart,i.D.lineStackedColumnComboChart,i.D.scatterChart,i.D.stackedAreaChart],wr=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||1===qe&&_.some(Fr,function(Xt){return Xt===Nt})&&this.upgradeCartesianAxisScale(Pt,Re.p.categoryAxis.logAxisScale.objectName)},Et.prototype.upgradeCartesianAxisScale=function(qe,Pt){var Nt=Re.p.categoryAxis;this.upgradeAxisScale(qe,Pt,Nt.axisScale.propertyName,Nt.logAxisScale.propertyName)},Et.prototype.upgradeAxisScale=function(qe,Pt,Nt,jt){var Xt=qe[Pt];if(Xt&&Xt.length>0){var Ae=Xt[0].properties;if(Ae)if(Ae[jt]&&Ae[Nt])delete Ae[Nt];else if(Ae[Nt]){var tt=function(Et){return h.ib.deserializeExpr(Et.expr).value}(Ae[Nt]),ct=(0,me.Dq)(tt);Ae[jt]=(0,me.Mi)((0,o.O7)(ct)),delete Ae[Nt]}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_33},Et}();function Ar(Et){return new vr(Et)}var vr=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(qe)},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_38},Et.prototype.upgradeDrillthroughTargetRegularSections=function(qe){var Pt;if(!_.isEmpty(null==qe?void 0:qe.sections)&&!_.isEmpty(qe.pods)){for(var Nt={},jt=0,Xt=qe.pods;jt<Xt.length;jt++){var Ae=Xt[jt],tt=Ae.boundSection;if(!_.isEmpty(tt)&&!Nt[tt]&&1===Ae.type&&!(0,G.g)(Ae.parameters)){var ct=(0,e.K)(Ae.parameters);_.some(ct,function($t){return!!$t.fieldExpr})&&(Nt[Ae.boundSection]=!0)}}for(var bt=0,Dt=qe.sections;bt<Dt.length;bt++){var Rt=Dt[bt],It=null===(Pt=Rt.config)||void 0===Pt?void 0:Pt.type;(null==It||0===It)&&Nt[Rt.name]&&(Rt.config||(Rt.config={}),Rt.config.type=2)}}},Et}(),$r=[i.D.barChart,i.D.clusteredBarChart,i.D.hundredPercentStackedBarChart],zr=function(){function Et(){}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){var Xt=Re.p.categoryAxis;if(1===qe&&_.some($r,function(bt){return bt===Nt})){var Ae=Pt[Xt.concatenateLabels.objectName];_.isEmpty(Ae)&&(Pt[Xt.concatenateLabels.objectName]=[{properties:{}}],Ae=Pt[Xt.concatenateLabels.objectName]);var tt=Ae[0].properties,ct=tt[Xt.concatenateLabels.propertyName];ct&&ct.expr?ct.expr.Literal.Value="true":tt[Xt.concatenateLabels.propertyName]=(0,me.Mi)((0,o.O7)(!0))}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_42},Et}(),Or=[i.D.lineChart,i.D.areaChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart],Xr=function(){function Et(){}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){var Xt=Ge.zK.lineStyles;if(1===qe&&_.some(Or,function(Rt){return Rt===Nt})){var Ae=Pt.lineStyles;if(Ae&&!_.isEmpty(Ae))for(var tt=0,ct=Ae;tt<ct.length;tt++){var bt=ct[tt];if(bt){var Dt=bt.properties.stepped;Dt&&Dt.expr&&"true"===Dt.expr.Literal.Value&&(bt.properties[Xt.lineChartType.propertyName]=(0,me.Mi)((0,o.fL)("step")),delete bt.properties.stepped)}}}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_46},Et}(),Nr=t(663406),Yr=t(51033);function Hr(Et){return new Zr(Et)}var Zr=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){this.featureSwitchService.featureSwitches.azureMapsBubbleSizeRevamp&&Pt&&1===qe&&Nt===i.D.azureMap&&this.upgradeAzureMapsVisual(Pt)},Et.prototype.upgradeAzureMapsVisual=function(qe){var Pt=Nr.MC.bubbleLayer.markerRangeType,Nt=Pt.objectName,jt=Pt.propertyName,Xt=qe[Nt];_.isEmpty(Xt)&&(qe[Nt]=[{properties:{}}],Xt=qe[Nt]);for(var Ae=0,tt=Xt;Ae<tt.length;Ae++){var ct=tt[Ae];null!=ct&&ct.properties&&(ct.properties[jt]=(0,me.Mi)((0,o.fL)(Yr.x9)))}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_48},Et}(),nt=function(){function Et(){}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){Pt&&1===qe&&([i.D.barChart,i.D.columnChart,i.D.hundredPercentStackedBarChart,i.D.hundredPercentStackedColumnChart,i.D.ribbonChart,i.D.stackedAreaChart,i.D.lineStackedColumnComboChart,i.D.lineClusteredColumnComboChart].includes(Nt)&&Et.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},Pt),[i.D.ribbonChart].includes(Nt)&&(Et.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},Pt),Et.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},Pt),Et.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},Pt),Et.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},Pt)))},Et.updatePropertyName=function(qe,Pt,Nt){var jt=Nt[qe.objectName];if(jt&&0!==jt.length)for(var Xt=0,Ae=jt;Xt<Ae.length;Xt++){var ct=Ae[Xt].properties[qe.propertyName];if(ct)return void(Et.getObject(Nt,Pt.objectName)[0].properties[Pt.propertyName]=ct)}},Et.getObject=function(qe,Pt){var Nt=qe[Pt];return _.isEmpty(Nt)&&(qe[Pt]=[{properties:{}}],Nt=qe[Pt]),Nt},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_49},Et}(),gt=t(456535),At=t(318220),lr_propertyName="dynamicLabelValue";function Pr(Et){return new yr(Et)}var yr=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){Pt&&1===qe&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([At.L.hundredPercentStackedBarChart.name,At.L.hundredPercentStackedColumnChart.name].includes(Nt)&&this.update100StackedProperties(Pt),a.M58.includes(Nt)&&this.updateDynamicLabelProperties(Pt))},Et.prototype.updateDynamicLabelProperties=function(qe){var Pt=qe.labels;if(!_.isEmpty(Pt)&&function(Et){return Et.some(function(qe){return qe.properties.showDynamicLabels||qe.properties[lr_propertyName]})}(Pt)){var Nt=Pt.find(function(ct){return ct.properties.showDynamicLabels&&!ct.selector}),jt=Rr(null==Nt?void 0:Nt.properties.showDynamicLabels),Xt=Pt.find(function(ct){return ct.properties[lr_propertyName]&&ct.selector&&!ct.selector.metadata}),Ae=Mt(null==Xt?void 0:Xt.properties[lr_propertyName]);jt&&!Ae&&Nt&&(Nt.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!1))),!jt&&Ae&&(null==Xt||delete Xt.properties[lr_propertyName]),Pt.some(function(ct){return ct.selector&&ct.selector.metadata})&&this.updatePropertiesForMultiStaticSeries(Pt,jt,Ae),this.deleteInvalidProperties(Pt),qe.labels=Pt.filter(function(ct){return!_.isEmpty(ct.properties)})}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_50},Et.prototype.update100StackedProperties=function(qe){var Pt=qe.labels;if(Pt){var Nt=Pt.find(function(Dt){return!Dt.selector&&Rr(null==Dt?void 0:Dt.properties.showDynamicLabels)}),jt=Pt.find(function(Dt){return Dt.selector&&!Dt.selector.metadata&&Mt(null==Dt?void 0:Dt.properties[lr_propertyName])});if(Nt&&jt)Nt.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!0)),Nt.properties.enableDetailDataLabel=(0,me.Mi)((0,o.O7)(!1));else for(var Xt=0,Ae=Pt;Xt<Ae.length;Xt++){var tt=Ae[Xt];tt.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!1)),tt.properties.enableDetailDataLabel=(0,me.Mi)((0,o.O7)(!0)),tt.properties.detailContentType=(0,me.Mi)((0,o.fL)("Percent of total"));var ct={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var bt in ct)tt.properties[bt]&&(tt.properties[ct[bt]]=tt.properties[bt],delete tt.properties[bt])}}},Et.prototype.updatePropertiesForMultiStaticSeries=function(qe,Pt,Nt){for(var jt,Xt=function(Rt){if(null===(jt=Rt.selector)||void 0===jt||!jt.metadata||_.isEmpty(Rt.properties))return"continue";var It=void 0;if(Rt.properties.showDynamicLabels){var Ut=Rr(Rt.properties.showDynamicLabels),$t=qe.find(function(Ot){var tr,cr;return(null===(tr=Ot.selector)||void 0===tr?void 0:tr.metadata)&&Ot.selector.metadata===(null===(cr=Rt.selector)||void 0===cr?void 0:cr.metadata)&&Ot.properties[lr_propertyName]});$t&&(It=Mt($t.properties[lr_propertyName])),Ut?Ae.updatePropertiesIfSeriesDynamicLabelEnabled(Rt,It,Nt):!1===Ut&&Ae.updatePropertiesIfSeriesDynamicLabelDisabled(Rt,$t,It,Ut,Nt)}},Ae=this,tt=0,ct=qe;tt<ct.length;tt++)Xt(ct[tt])},Et.prototype.updatePropertiesIfSeriesDynamicLabelEnabled=function(qe,Pt,Nt){Pt&&(qe.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!0))),(!1===Pt||!Pt&&!Nt)&&(qe.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!1)))},Et.prototype.updatePropertiesIfSeriesDynamicLabelDisabled=function(qe,Pt,Nt,jt,Xt){Nt&&Pt&&delete Pt.properties[lr_propertyName],!Nt&&!Xt&&(qe.properties.enableValueDataLabel=(0,me.Mi)((0,o.O7)(!0)))},Et.prototype.deleteInvalidProperties=function(qe){if(!_.isEmpty(qe))for(var Pt=0,Nt=qe;Pt<Nt.length;Pt++){var jt=Nt[Pt];jt.properties.showDynamicLabels&&delete jt.properties.showDynamicLabels,jt.properties[lr_propertyName]&&pt(jt.properties[lr_propertyName])&&delete jt.properties[lr_propertyName]}},Et}();function Rr(Et){if(null!=Et&&Et.expr)return h.ib.deserializeExpr(Et.expr).value}function Mt(Et){if(null==Et||!Et.expr)return!1;var qe=h.ib.deserializeExpr(Et.expr);return(0,gt.kb)(qe)||(0,gt.iV)(qe)}function pt(Et){if(null==Et||!Et.expr)return!1;var qe=h.ib.deserializeExpr(Et.expr);return(0,gt.VC)(qe)}function Ye(Et){return new vt(Et)}var vt=function(){function Et(qe){this.featureSwitchService=qe}return Et.prototype.upgrade=function(qe){},Et.prototype.upgradeVisualObjects=function(qe,Pt,Nt,jt){var Xt;if(Pt&&1===qe){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&Nt===At.L.cardVisual.name){var Ae=Pt.referenceLabelDetail;if(_.isEmpty(Ae))return;for(var bt,tt=function(It){var Ut=Ae[It];if(_.isEmpty(Ut))return bt=It,"continue";if(ct.isValidMetadataOnlySelector(Ut.selector)){var $t=null===(Xt=Ut.properties)||void 0===Xt?void 0:Xt.detailValue;if($t){var Ot=(0,ce.__assign)((0,ce.__assign)({},Ut.selector),{data:[{dataViewWildcard:{matchingOption:0}}]}),tr=_.find(Ae,function(cr){return _.isEqual(cr.selector,Ot)});tr&&tr.properties?tr.properties.detailValue=$t:Ae.push({properties:{detailValue:$t},selector:Ot}),delete Ut.properties.detailValue,_.isEmpty(Ut.properties)&&(Ae.splice(It,1),It--)}}bt=It},ct=this,Dt=0;Dt<Ae.length;Dt++)tt(Dt),Dt=bt}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&a.M58.includes(Nt)&&this.updateDynamicLabelProperties(Pt)}},Et.prototype.isValidMetadataOnlySelector=function(qe){return qe&&!_.isEmpty(qe.id)&&!_.isEmpty(qe.metadata)&&_.isEmpty(qe.data)},Et.prototype.updateDynamicLabelProperties=function(qe){var Pt=qe.labels;if(!_.isEmpty(Pt)&&function(Et){return Et.some(function(qe){return qe.properties.dynamicLabelValue})}(Pt)){var Nt=Pt.filter(function(tt){var ct;return tt.properties.dynamicLabelValue&&!(null!==(ct=null==tt?void 0:tt.selector)&&void 0!==ct&&ct.data)});if(!_.isEmpty(Nt))for(var jt=0,Xt=Nt;jt<Xt.length;jt++){var Ae=Xt[jt];null==Ae||delete Ae.properties.dynamicLabelValue}qe.labels=Pt.filter(function(tt){return!_.isEmpty(tt.properties)})}},Et.prototype.upgradeFilterCollection=function(){},Et.prototype.getVersion=function(){return a.H3n.v5_51},Et}();function ir(Et){return new Cr(Et)}var Cr=function(){function Et(qe){this.versionUpgraders=[new u,new E,new P,new L,new A,new Ce,new N,B(qe),new I,new U,new te,(0,ee.ps)(),(0,J.ps)(qe),new oe,new le,new Be,new Pe,new Fe,at(qe),new Ze,Y(qe),Ue(qe),new et,je(qe),rr(qe),Ar(qe),new zr,new Xr,Hr(qe),new nt,Pr(qe),Ye(qe)],this.objectsUpgrader=(0,f.U)(this.versionUpgraders)}return Et.prototype.upgrade=function(qe,Pt,Nt,jt){if(this.upgradeElement(qe,Pt,Nt,function(Ae,tt,ct){return Ae.upgrade(tt,ct)},jt)){var Xt=qe;return this.upgradeVisualObjects(Xt,qe.config.version),qe.config.version=v.t,Xt}},Et.prototype.upgradeFilterCollection=function(qe,Pt,Nt){if(this.upgradeElement(qe,Pt,Nt,function(jt,Xt){return jt.upgradeFilterCollection(Xt)}))return qe.config.version=v.t,qe},Et.prototype.getVersionUpgraders=function(){return this.versionUpgraders},Et.prototype.upgradeElement=function(qe,Pt,Nt,jt,Xt){s.fF.assertValue(qe,"element"),s.fF.assert(function(){return Pt&&_.isEmpty(Pt)},"errors should be defined and empty"),s.fF.assertValue(jt,"runUpgrade");var Ae=this.getVersionedElementConfig(qe),tt=Ae.version&&_.isString(Ae.version)?Ae.version:c.aD;if((0,c.gt)(tt,v.t)){if(Pt.push({errorType:0}),!Nt)return}else for(var ct=0,bt=this.versionUpgraders;ct<bt.length;ct++){var Dt=bt[ct],Rt=Dt.getVersion();((0,c.lt)(Rt,"2.2")||(0,c.gt)(Rt,tt))&&(jt(Dt,qe,tt),Xt&&Xt.upgraderCount++)}return qe},Et.prototype.upgradeVisualObjects=function(qe,Pt){Pt=Pt||c.aD;var Nt=qe&&qe.sections;if(Nt)for(var jt=0,Xt=Nt;jt<Xt.length;jt++){var Ae=Xt[jt],tt=Ae&&Ae.visualContainers;if(!tt)return;for(var ct=0,bt=tt;ct<bt.length;ct++){var Dt=bt[ct],Rt=Dt&&Dt.config&&Dt.config.singleVisual;if(Rt){var It=Rt.visualType,Ut=Rt.vcObjects;Ut&&this.objectsUpgrader.upgrade(2,Ut,It,Pt);var $t=Rt.objects;$t&&this.objectsUpgrader.upgrade(1,$t,It,Pt)}}}},Et.prototype.getVersionedElementConfig=function(qe){return _.isString(qe.config)&&(qe.config=(0,e.K)(qe.config),s.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),qe.config||(qe.config={version:c.aD},s.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),qe.config},Et}()},89858:function(Je,H,t){t.d(H,{$IK:function(){return ee},$Tv:function(){return it},$gq:function(){return Xt},$qz:function(){return Rr},$tC:function(){return Se},Awj:function(){return J},C7j:function(){return ua},Cc1:function(){return Gt},Eo9:function(){return gt},F1S:function(){return N},FL3:function(){return me},GwY:function(){return ki},H3n:function(){return F},H_y:function(){return Ca},IwG:function(){return Nr},KQG:function(){return Et},Kkx:function(){return G},LlV:function(){return Va},M58:function(){return ii},NsA:function(){return Le},P_5:function(){return Ja},RrR:function(){return le},TQL:function(){return pt},U$u:function(){return k},UAC:function(){return ar},UCJ:function(){return sr},Upn:function(){return Ne},VFg:function(){return At},VRY:function(){return fa},VSH:function(){return Qe},VTu:function(){return Rt},WL3:function(){return W},WWC:function(){return fi},XRk:function(){return xt},XVx:function(){return Kt},Xfb:function(){return yr},YA8:function(){return je},aWu:function(){return It},bFC:function(){return ae},ckf:function(){return ga},dKN:function(){return Kr},elY:function(){return ma},faH:function(){return Y},fke:function(){return he},ftA:function(){return Q},g3O:function(){return I},gMq:function(){return aa},hCh:function(){return Ji},hGr:function(){return w},htK:function(){return te},iXZ:function(){return ie},iuU:function(){return Z},jJX:function(){return de},kJo:function(){return Ae},kdg:function(){return rt},m5F:function(){return Mr},m7e:function(){return pe},np7:function(){return Tt},nue:function(){return gr},oq_:function(){return oe},pj3:function(){return cr},q0O:function(){return ba},q4D:function(){return U},qdh:function(){return Te},qq3:function(){return B},rAF:function(){return j},s4x:function(){return pa},sE2:function(){return ce},tCF:function(){return _a},tji:function(){return Da},ugh:function(){return mr},ukM:function(){return ut},v0X:function(){return Ga},vqL:function(){return dt},x7c:function(){return re},xSu:function(){return ye},yfQ:function(){return be},z1y:function(){return Pe}});var L,e=t(226514),c=t(460564),s=t(693825),f=t(464925),v=t(465829),b=t(36623),h=t(345563),p=t(346816),n=t(244945),l=t(51033),r=t(771803),o=t(210770),a=t(759510),i=t(14083),m=t(787941),u=t(989516),V=t(668268),d=t(499995),S=t(324356),g=t(116170),y=t(60495),C=t(939141),E=t(822311),M=t(160046),P=t(793688),T=t(764830),x=t(849),R=t(456535),D=t(600348),F={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51"},A={};A[41]=F.v3_5,A[42]=F.v3_7,A[33]=F.v3_8;var O=function(Ir){function Dr(Ie){var z=Ir.call(this)||this;return z.highestVersion=Ie,z}return(0,e.__extends)(Dr,Ir),Dr.prototype.visitAllRolesRef=function(Ie){this.highestVersion=(0,s.Fp)(this.highestVersion,F.v5_1),Ir.prototype.visitAllRolesRef.call(this,Ie)},Dr.prototype.visitRangePercent=function(Ie){this.highestVersion=(0,s.Fp)(this.highestVersion,F.v5_1),Ir.prototype.visitRangePercent.call(this,Ie)},Dr.prototype.visitArithmetic=function(Ie){(0,R.g5)(Ie.right)||(this.highestVersion=(0,s.Fp)(this.highestVersion,F.v5_15)),Ir.prototype.visitArithmetic.call(this,Ie)},Dr.prototype.visitSparklineData=function(Ie){this.highestVersion=(0,s.Fp)(this.highestVersion,Lr),Ir.prototype.visitSparklineData.call(this,Ie)},Dr}(g.PA),N=function(){function Ir(){}return Ir.getVersionForSQExpr=function(Dr){m.fF.assertValue(Dr,"expr should exist to get its version");var Ie=A[Dr.kind]||s.aD,z=new O(Ie);return Dr.accept(z),z.highestVersion},Ir.getVersionForSQExprWithDescriptor=function(Dr,Ie){m.fF.assertValue(Dr,"expr should exist to get its version"),m.fF.assertAnyValue(Ie,"typeDescriptor can be undefined in an unloaded custom visual");var z=this.getVersionForSQExpr(Dr);return Ie&&Ie.fill&&Ie.fill.solid&&Ie.fill.solid.color&&(z=(0,s.Fp)(z,this.getVersionForFillDefinition(Dr))),z},Ir.getVersionForFillDefinition=function(Dr){if(m.fF.assertValue(Dr,"expr should exist to get its version"),(0,R.Tu)(Dr)&&Dr.input&&!(0,R.NH)(Dr.input))return X;if((0,R.Gs)(Dr)){var Ie=function(_e){return(0,R.$Q)(_e)&&!(0,R.NH)(_e.left)};if(_.some(Dr.cases,function(q){return q.condition.isOrdinalEvaluation()}))return qi;if(_.some(Dr.cases,function(q){return!!(Ie(_e=q.condition)||(0,R.un)(_e)&&(Ie(_e.left)||Ie(_e.right)));var _e}))return X}return(0,R.kb)(Dr)||(0,R.iV)(Dr)?He:s.aD},Ir.getVersionForSortDefinitions=function(Dr){if(!_.isEmpty(Dr))for(var Ie=0,z=Dr;Ie<z.length;Ie++)if((0,R.g5)(z[Ie].expr))return F.v5_23;return s.aD},Ir.getVersionForVisualContainerGroup=function(Dr){return Dr.objects&&void 0!==Dr.objects.lockAspect?dr:ae},Ir}(),w=F.v3_6,I=F.v3_6,B=F.v3_7,j=F.v3_8,W=F.v3_8,U=F.v3_8,k=F.v3_8,Q=F.v3_9,te=F.v3_10,ee=F.v3_11,J=F.v3_11,re=F.v3_12,G=F.v3_13,ne=F.v3_13,X=F.v3_14,oe=F.v3_14,Ve=F.v3_15,Te=F.v3_15,Qe=F.v3_17,He=F.v3_17,de=F.v3_18,pe=F.v3_19,le=F.v3_20,me=F.v3_20,be=F.v3_20,Be=F.v3_20,Se=F.v3_20,Pe=F.v3_20,ve=F.v3_21,xe=F.v3_21,ie=F.v3_22,at=F.v3_22,We=F.v3_22,Oe=F.v3_23,Ze=F.v3_23,Ee=F.v3_23,K=F.v3_23,Ne=F.v3_23,Y=F.v3_23,ye=F.v3_24,rt=F.v3_24,it=F.v3_24,Ue=F.v4_0,De=F.v4_2,Le=F.v4_2,Xe=F.v4_2,et=F.v4_2,he=F.v4_2,ce=F.v4_2,Re=F.v5_0,Ge=F.v5_1,ut=F.v5_2,je=F.v5_2,ae=F.v5_2,fe=F.v5_3,we=F.v5_3,ze=F.v5_3,$e=F.v5_4,ot=F.v5_5,_t=F.v5_6,ke=F.v5_7,dt=F.v5_8,Tt=F.v5_8,Wt=F.v5_8,Kt=F.v5_8,Zt=F.v5_8,er=F.v5_9,ar=F.v5_9,sr=F.v5_9,gr=F.v5_9,mr=F.v5_9,Sr=F.v5_9,Mr=F.v5_10,St=F.v5_10,Gt=F.v5_11,rr=F.v5_11,Fr=F.v5_12,wr=F.v5_12,Vr=F.v5_13,Ar=F.v5_13,vr=F.v5_13,$r=F.v5_14,Qr=F.v5_14,zr=F.v5_14,ei=F.v5_15,Xr=F.v5_15,Nr=F.v5_15,Yr=F.v5_15,Hr=F.v5_15,ft=F.v5_16,ht=F.v5_16,xt=F.v5_16,lt=F.v5_16,nt=F.v5_16,mt=F.v5_16,gt=F.v5_17,At=F.v5_18,kt=F.v5_18,Ht=F.v5_18,nr=F.v5_19,lr=F.v5_19,dr=F.v5_19,fr=F.v5_19,Pr=F.v5_20,yr=F.v5_20,Rr=F.v5_20,Mt=F.v5_20,pt=F.v5_21,se=F.v5_21,Z=F.v5_22,Ye=F.v5_22,vt=F.v5_22,Ft=F.v5_22,ir=F.v5_22,Cr=F.v5_22,Et=F.v5_23,qe=F.v5_23,Pt=F.v5_23,Nt=F.v5_24,jt=F.v5_24,Xt=F.v5_24,Ae=F.v5_24,tt=F.v5_25,ct=F.v5_25,bt=F.v5_25,Dt=F.v5_26,Rt=F.v5_26,It=F.v5_27,Ut=F.v5_27,$t=F.v5_27,Ot=F.v5_27,tr=F.v5_27,cr=F.v5_27,pr=F.v5_28,_r=F.v5_28,Ur=F.v5_28,Lr=F.v5_28,Br=F.v5_30,kr=F.v5_30,ti=F.v5_31,Qt=F.v5_31,Me=F.v5_31,Ct=F.v5_31,Bt=F.v5_31,st=F.v5_31,Lt=F.v5_31,Vt=F.v5_31,Yt=F.v5_31,Tr=F.v5_31,Kr=F.v5_32,Si=F.v5_33,Bi=F.v5_33,yi=F.v5_33,Ai=F.v5_33,Ui=F.v5_34,gi=F.v5_34,si=F.v5_34,Ei=F.v5_34,zi=F.v5_34,Yi=F.v5_34,bi=F.v5_35,ua=F.v5_36,ki=F.v5_36,Pi=F.v5_37,Mi=F.v5_39,Ki=F.v5_39,ui=F.v5_40,Hi=F.v5_40,Gi=F.v5_40,Ni=F.v5_41,Zi=F.v5_41,Qi=F.v5_41,qi=F.v5_41,Ri=F.v5_41,ea=F.v5_42,Ii=F.v5_42,ma=F.v5_43,ya=F.v5_44,ga=F.v5_44,Xi=F.v5_44,Fa=F.v5_44,wa=F.v5_46,ta=F.v5_46,ra=F.v5_47,Sa=F.v5_48,Ti=F.v5_49,xa=F.v5_49,ni=F.v5_50,Ji=F.v5_50,ba=F.v5_50,Fi=F.v5_50,Ca=F.v5_51,ca=F.v5_51,da=P.t,ia=P.t,_a=P.t,Ci=P.t,Va=P.t,fa=P.t,Da=P.t,Li=P.t,Ea=P.t,pa=((L={})[T.xm]=F.v5_29,L[T.wh]=F.v5_30,L[T.LL]=F.v5_31,L[T.Ny]=F.v5_32,L[T.M5]=F.v5_33,L[T.zW]=F.v5_34,L[T.RT]=F.v5_35,L[T.ur]=F.v5_37,L[T.I8]=F.v5_39,L[T.nx]=F.v5_40,L[T.eA]=F.v5_41,L[T.XS]=F.v5_42,L[T.X2]=F.v5_43,L[T.$j]=F.v5_45,L[T.Vb]=F.v5_46,L[T.$K]=F.v5_47,L[T._b]=F.v5_48,L[T.ud]=F.v5_49,L[T.sZ]=F.v5_50,L[T.DG]=F.v5_51,L),aa=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],_i=[D.D.barChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart],Vi=[D.D.clusteredBarChart,D.D.clusteredColumnChart],$i=[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],wi=[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart],Na=[D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart],fi=(0,e.__spreadArray)([],wi,!0),pi=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),$i,!0),hi=(0,e.__spreadArray)((0,e.__spreadArray)([],pi,!0),fi,!0),ri=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),$i,!0),wi,!0),[D.D.realTimeLineChart,D.D.scatterChart,D.D.waterfallChart],!1),za=_.without(ri,D.D.realTimeLineChart,D.D.scatterChart),xi=_.without(ri,D.D.realTimeLineChart),ka=[D.D.stackedAreaChart,D.D.columnChart,D.D.clusteredColumnChart,D.D.barChart,D.D.clusteredBarChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart],Ra=[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart],Ka=((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),wi,!0),[D.D.lineChart],!1),[D.D.azureMap,D.D.filledMap,D.D.heatMap,D.D.map]),ii=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],_i,!0),Vi,!0),$i,!0),wi,!0),Ia=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([{property:{objectName:"general",propertyName:"altText"},version:F.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:F.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(Dr){return Dr.value===M.rp}},version:w},{property:{objectName:"labels",propertyName:"enableBackground"},version:F.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:F.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:F.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:F.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:F.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:F.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:F.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:F.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:F.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:F.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:F.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:function(Dr){return Dr.value===E.Xz}},version:re},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:F.v3_13,types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:F.v3_13,types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:F.v3_13,types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:F.v3_13,types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(Dr){return Dr.value===M.sv}},version:ne},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:F.v3_14,types:[D.D.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:oa},version:F.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:oa},version:F.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:oa},version:F.v3_15},{property:{objectName:"outspace",propertyName:c.p5},version:Ve,types:["page"]},{property:{objectName:"visualHeader",propertyName:c.p5},version:Te},{property:{objectName:"visualTooltip",propertyName:"show"},version:F.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:function(Dr){return Dr.value===n.Pf}},version:de,types:[D.D.scatterChart]},{property:{objectName:"searchBox",propertyName:c.p5},version:F.v3_19,types:[D.D.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:le,types:[D.D.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Dr,Ie){return Ie&&Ie.data&&1===Ie.data.length&&(0,u.qm)(Ie.data[0])}},version:me,types:aa},{property:{objectName:"filterCard",propertyName:c.p5},version:Be,types:["page"]},{property:{objectName:"outspacePane",propertyName:c.p5},version:Be,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:Be,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:Be,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:ve},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:xe,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:at},{property:{objectName:"border",propertyName:"radius"},version:We},{property:{objectName:"visualLink",propertyName:"webUrl"},version:Oe},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:Ze,types:[D.D.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:Ee},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:Ee},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:Ee},{property:{objectName:"visualTooltip",propertyName:"background"},version:Ee},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:Ee},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:K,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:K,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:Ue},{property:{objectName:"indicator",propertyName:"fontSize"},version:F.v4_1,types:[D.D.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:F.v4_1,types:[D.D.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:function(Dr,Ie){var q=Dr&&Dr.solid&&Dr.solid.color;return!((0,R.VC)(q)||(0,R.wt)(q))}},version:De},{property:{objectName:"title",propertyName:"background",matchByContents:function(Dr,Ie){var q=Dr&&Dr.solid&&Dr.solid.color;return!((0,R.VC)(q)||(0,R.wt)(q))}},version:De},{property:{objectName:"labels",propertyName:"color",matchByContents:function(Dr,Ie){var q=Dr&&Dr.solid&&Dr.solid.color;return!((0,R.VC)(q)||(0,R.wt)(q))}},version:De,types:[D.D.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(Dr,Ie){var q=Dr&&Dr.solid&&Dr.solid.color;return!((0,R.VC)(q)||(0,R.wt)(q))}},version:De,types:[D.D.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[D.D.pivotTable],version:F.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[D.D.pivotTable],version:F.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[D.D.pivotTable],version:F.v4_2},{property:{objectName:"total",propertyName:"label"},types:[D.D.tableEx],version:F.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:et},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:et},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Dr,Ie){return!(0,R.VC)(Dr&&Dr.solid&&Dr.solid.color)}},version:Xe,types:[D.D.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:function(Dr,Ie){var q=Dr&&Dr.solid&&Dr.solid.color;return!((0,R.VC)(q)||(0,R.wt)(q))}},version:Re},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:function(Dr){return!0===Dr.value}},version:Ge},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"values",propertyName:"icon"},version:F.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[D.D.textbox],version:F.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[D.D.textbox],version:F.v5_3},{property:{objectName:"text",propertyName:"color"},types:[D.D.textbox],version:F.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:we},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:fe},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:ze,types:[D.D.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:ze,types:[D.D.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:ze,types:[D.D.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:ze,types:[D.D.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:$e,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:$e,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:ot,types:[D.D.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:ot,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:ot,types:[D.D.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:ot,types:[D.D.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:ot,types:[D.D.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:ot},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:_t},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:_t},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:_t},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:_t},{types:[D.D.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"goalText"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:_t},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"direction"},version:_t},{types:[D.D.kpi],property:{objectName:"period",propertyName:"show"},version:_t},{types:[D.D.kpi],property:{objectName:"period",propertyName:"fontSize"},version:_t},{types:[D.D.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:_t},{types:[D.D.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:_t},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"values",propertyName:"webURL"},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.categoryLabels,propertyName:f.hq.categoryLabelFontColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.categoryLabels,propertyName:f.hq.categoryLabelFontFamily},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.categoryLabels,propertyName:f.hq.categoryLabelFontSize},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataLabels,propertyName:f.hq.dataLabelFontColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataLabels,propertyName:f.hq.dataLabelFontFamily},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataLabels,propertyName:f.hq.dataLabelFontSize},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataLabels,propertyName:f.hq.dataLabelDisplayUnits},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataLabels,propertyName:f.hq.dataLabelPrecision},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataBars,propertyName:f.hq.dataBarBackgroundColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataBars,propertyName:f.hq.dataBarWidthPercent},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelHeaderBackgroundColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelTitleFontColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelTitleFontFamily},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelTitleFontSize},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelSubtitleFontColor},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelSubtitleFontFamily},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.levelSubtitleFontSize},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.levelHeader,propertyName:f.hq.showSubtitles},version:F.v5_6},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.tree,propertyName:f.hq.connectorDefaultColor},version:F.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:ke},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:ke},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:F.v5_8},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:F.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secStart"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:Zt},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:Zt},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.tree,propertyName:f.hq.barsPerLevel},version:Wt},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:er},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:sr},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:Sr,types:["filter"]},{types:[D.D.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:function(Dr){return Dr.value===a.GV}},version:gr},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:function(Dr,Ie){return void 0!==na(Ie)}},version:F.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:function(Dr,Ie){return void 0!==na(Ie)}},version:F.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:function(Dr,Ie){var z=na(Ie);return void 0!==z&&1!==z}},version:F.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:function(Dr,Ie){var z=na(Ie);return void 0!==z&&1!==z}},version:F.v5_9},{types:[D.D.actionButton],property:{objectName:"fill",propertyName:"image"},version:F.v5_10},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:F.v5_10},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:F.v5_10},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:F.v5_10},{types:[D.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:F.v5_10},{types:[D.D.image,D.D.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:F.v5_10},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:F.v5_10},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:F.v5_10},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:St},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:St},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:Gt},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:rr},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:rr},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:rr},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:rr},{types:[D.D.filledMap],property:{objectName:"stroke",propertyName:"show"},version:rr},{types:[D.D.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:rr},{types:[D.D.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:rr},{types:[D.D.textbox],property:(0,e.__assign)((0,e.__assign)({},b.RL.general.paragraphs),{matchByContents:function(Dr,Ie){if((0,C.Fq)(Dr))for(var z=0,q=Dr;z<q.length;z++){var _e=q[z];if(_e&&!_.isEmpty(_e.textRuns))for(var Ke=0,yt=_e.textRuns;Ke<yt.length;Ke++)if((0,y.Kt)(yt[Ke]))return!0}return!1}}),version:Fr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.tree,propertyName:f.hq.defaultClickAction},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.tree,propertyName:f.hq.responsiveLayout},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.tree,propertyName:f.hq.effectiveBarsPerLevel},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataBars,propertyName:f.hq.dataBarColor},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataBars,propertyName:f.hq.axisStart},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.dataBars,propertyName:f.hq.axisEnd},version:wr},{types:[D.D.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:wr},{types:[D.D.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:Ar},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"header",propertyName:"text"},version:vr},{types:[D.D.barChart,D.D.columnChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:Vr},{types:[D.D.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:$r},{property:{objectName:"dropShadow",propertyName:"*"},version:Qr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:zr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:ei},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Xr},{property:b.RL.values.expr,types:[D.D.textbox],version:Yr},{property:b.RL.values.formatString,types:[D.D.textbox],version:Yr},{types:[D.D.areaChart,D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:Hr},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:Hr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:ft},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.show},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.transform},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.oR},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.displayName},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerShape},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerShapeSize},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerColor},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.confidenceBandStyle},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.transparency},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.confidenceBandColor},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.CategoryValue},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.Value},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedValue},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedLow},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedHigh},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.BatchStart},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.BatchEnd},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.Bx},version:ht},{types:[D.D.lineChart],property:{objectName:h.xn,propertyName:h.It},version:ht},{types:[D.D.decompositionTreeVisual],property:{objectName:f.I8.insights,propertyName:f.hq.isAINode},version:nt},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:lt},{types:pi,property:{objectName:"subheader",propertyName:"fontFamily"},version:xt},{types:pi,property:{objectName:"subheader",propertyName:"fontSize"},version:xt},{types:pi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:xt},{types:pi,property:{objectName:"subheader",propertyName:"alignment"},version:xt},{types:pi,property:{objectName:"subheader",propertyName:"position"},version:xt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:xt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:xt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:xt},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:mt,types:[D.D.azureMap]},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:kt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:kt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:kt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:kt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:kt},{types:pi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:kt},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Ht},{types:[D.D.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:lr},{types:pi,property:{objectName:"subheader",propertyName:"titleWrap"},version:nr},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:dr},{types:[D.D.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:fr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:Pr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:Pr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:Pr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:Pr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:Pr},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:Pr},{types:fi,property:{objectName:"subheader",propertyName:"fontFamily"},version:yr},{types:fi,property:{objectName:"subheader",propertyName:"fontSize"},version:yr},{types:fi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:yr},{types:fi,property:{objectName:"subheader",propertyName:"alignment"},version:yr},{types:fi,property:{objectName:"subheader",propertyName:"position"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:yr},{types:fi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:yr},{types:fi,property:{objectName:"subheader",propertyName:"titleWrap"},version:yr},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:Mt},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart,D.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:Mt},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:Mt},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:Mt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:pt},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:pt},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:pt},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:pt},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:F.v5_21,types:[D.D.shape]},{types:[D.D.map,D.D.filledMap,D.D.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:se},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Dr,Ie){return!Ie||Ie&&Ie.data&&1===Ie.data.length&&(0,u.qm)(Ie.data[0])}},version:vt},{types:[D.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(Dr){if(Dr){var z=Dr.name;if(z)return z.value===i.G}return!1}},version:Ye},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:ir},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:ir},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:Cr},{types:hi,property:{objectName:"subheader",propertyName:"show"},version:Ft},{types:hi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:F.v5_22},{types:hi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:F.v5_22},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.donutChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap],ri,!0),property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:qe},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.donutChart,D.D.pieChart,D.D.funnel,D.D.map,D.D.filledMap,D.D.shapeMap],xi,!0),property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:qe},{types:(0,e.__spreadArray)([D.D.donutChart,D.D.pieChart,D.D.funnel,D.D.map,D.D.filledMap,D.D.treemap],za,!0),property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:qe},{types:ka,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:qe},{types:xi,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:qe},{types:xi,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:qe},{types:xi,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:qe},{types:xi,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:qe},{types:ri,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:qe},{types:xi,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:qe},{types:xi,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:qe},{types:xi,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:qe},{types:xi,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:qe},{types:ri,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:qe},{types:Ra,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:qe},{types:Ra,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:qe},{types:[D.D.areaChart,D.D.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:qe},{types:[D.D.areaChart,D.D.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:qe},{types:[D.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.multiRowCard,D.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:qe},{types:[D.D.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:qe},{types:[D.D.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:qe},{types:[D.D.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:qe},{types:[D.D.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:qe},{types:[D.D.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:qe},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:Pt},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:Nt,types:[D.D.shape,D.D.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:jt,types:[D.D.areaChart,D.D.columnChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart,D.D.ribbonChart,D.D.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:jt,types:[D.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:jt,types:[D.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:jt,types:[D.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:jt,types:[D.D.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Xt},{property:{objectName:"text",propertyName:"leftMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:tt,types:[D.D.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:tt,types:[D.D.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:tt,types:[D.D.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:tt,types:[D.D.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:tt,types:[D.D.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:tt,types:[D.D.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:ct,types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart]},{types:[D.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:bt},{types:[D.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:Dt},{types:[D.D.pageNavigator,D.D.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:It},{types:[D.D.pageNavigator,D.D.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:It},{property:{objectName:"slices",propertyName:"startAngle"},version:tr,types:[D.D.donutChart,D.D.pieChart]},{types:[D.D.donutChart,D.D.pieChart],property:{objectName:"slices",propertyName:"borderWidth"},version:Ut},{types:[D.D.donutChart,D.D.pieChart],property:{objectName:"slices",propertyName:"borderColor"},version:Ut},{types:[D.D.donutChart,D.D.pieChart],property:{objectName:"slices",propertyName:"explode"},version:Ut},{types:[D.D.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:Ut},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.donutChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],ri,!0),property:{objectName:"legend",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.donutChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],ri,!0),property:{objectName:"legend",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.donutChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],ri,!0),property:{objectName:"legend",propertyName:"underline"},version:Ot},{types:(0,e.__spreadArray)([D.D.funnel,D.D.scatterChart],ri,!0),property:{objectName:"categoryAxis",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([D.D.funnel,D.D.scatterChart],ri,!0),property:{objectName:"categoryAxis",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([D.D.funnel,D.D.scatterChart],ri,!0),property:{objectName:"categoryAxis",propertyName:"underline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Ot},{types:(0,e.__spreadArray)([D.D.scatterChart],ri,!0),property:{objectName:"valueAxis",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([D.D.scatterChart],ri,!0),property:{objectName:"valueAxis",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([D.D.scatterChart],ri,!0),property:{objectName:"valueAxis",propertyName:"underline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"titleBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Ot},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.card,D.D.donutChart,D.D.funnel,D.D.gauge,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap],ri,!0),property:{objectName:"labels",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.card,D.D.donutChart,D.D.funnel,D.D.gauge,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap],ri,!0),property:{objectName:"labels",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([D.D.azureMap,D.D.card,D.D.donutChart,D.D.funnel,D.D.gauge,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap],ri,!0),property:{objectName:"labels",propertyName:"underline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"seriesLabels",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"seriesLabels",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"seriesLabels",propertyName:"underline"},version:Ot},{types:[D.D.azureMap,D.D.card,D.D.multiRowCard,D.D.donutChart,D.D.scatterChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Ot},{types:[D.D.azureMap,D.D.card,D.D.multiRowCard,D.D.donutChart,D.D.scatterChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Ot},{types:[D.D.azureMap,D.D.card,D.D.multiRowCard,D.D.donutChart,D.D.scatterChart,D.D.pieChart,D.D.map,D.D.filledMap,D.D.shapeMap,D.D.treemap,D.D.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Ot},{types:[D.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Ot},{types:[D.D.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Ot},{types:[D.D.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Ot},{types:[D.D.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Ot},{types:[D.D.gauge],property:{objectName:"target",propertyName:"bold"},version:Ot},{types:[D.D.gauge],property:{objectName:"target",propertyName:"italic"},version:Ot},{types:[D.D.gauge],property:{objectName:"target",propertyName:"underline"},version:Ot},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Ot},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Ot},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"bold"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"italic"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"underline"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Ot},{types:[D.D.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Ot},{types:[D.D.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Ot},{types:[D.D.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Ot},{types:[D.D.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Ot},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Ot},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Ot},{types:[D.D.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Ot},{types:[D.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"subheader",propertyName:"bold"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"subheader",propertyName:"italic"},version:Ot},{types:(0,e.__spreadArray)([],ri,!0),property:{objectName:"subheader",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"values",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"values",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"values",propertyName:"underline"},version:Ot},{types:[D.D.tableEx],property:{objectName:"total",propertyName:"bold"},version:Ot},{types:[D.D.tableEx],property:{objectName:"total",propertyName:"italic"},version:Ot},{types:[D.D.tableEx],property:{objectName:"total",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Ot},{types:[D.D.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Ot},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Ot},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Ot},{types:[D.D.barChart,D.D.columnChart,D.D.lineStackedColumnComboChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Ot},{types:[D.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Ot},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Ot},{property:{objectName:"title",propertyName:"bold"},version:Ot},{property:{objectName:"title",propertyName:"italic"},version:Ot},{property:{objectName:"title",propertyName:"underline"},version:Ot},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Ot},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Ot},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Ot},{types:[D.D.textbox],property:(0,e.__assign)((0,e.__assign)({},b.RL.general.paragraphs),{matchByContents:function(Dr,Ie){if((0,C.Fq)(Dr))for(var z=0,q=Dr;z<q.length;z++){var _e=q[z];if(_e&&!_.isEmpty(_e.listType))return!0}return!1}}),version:$t},{types:[D.D.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"show"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:_r},{types:[D.D.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:_r},{property:v.A.scorecard.showCommandBar,types:[D.D.scorecard],version:Ur},{types:[D.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:pr},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:Lr},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:kr},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:kr},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:kr},{types:[D.D.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Br},{types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:st},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:Tr},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:Tr},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:Tr},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:Tr},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:Tr},{types:[D.D.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:Tr},{types:[D.D.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:Tr},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:Tr},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:Tr},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Vt},{property:{objectName:"legend",propertyName:"position",matchByContents:function(Dr,Ie){var q=Dr&&Dr.value;return q===o.f6||q===o.hT}},version:Me,types:[D.D.areaChart,D.D.azureMap,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.donutChart,D.D.filledMap,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.map,D.D.pieChart,D.D.ribbonChart,D.D.scatterChart,D.D.shapeMap,D.D.stackedAreaChart,D.D.treemap,D.D.waterfallChart]},{types:[D.D.pivotTable,D.D.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:function(Dr){return Dr.value===p.pJ}},version:Bi},{types:[D.D.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:yi},{types:[D.D.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:Ai},{types:[D.D.lineChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart,D.D.barChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart],property:{objectName:"error",propertyName:"*"},version:Ui},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:gi},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:gi},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:gi},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:gi},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:si},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:si},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:si},{types:[D.D.actionButton,D.D.shape,D.D.pageNavigator,D.D.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:Ei},{types:[D.D.actionButton,D.D.shape,D.D.pageNavigator,D.D.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:Ei},{types:[D.D.actionButton,D.D.shape,D.D.pageNavigator,D.D.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:Ei},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:zi},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:zi},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:zi},{types:[D.D.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:Yi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:bi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:bi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:bi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:bi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:bi},{types:[D.D.scatterChart,D.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:bi},{types:[D.D.waterfallChart,D.D.treemap,D.D.lineChart,D.D.areaChart,D.D.columnChart,D.D.barChart,D.D.pieChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.donutChart,D.D.funnel,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart,D.D.ribbonChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:function(Dr,Ie){return!_.isEmpty(null==Ie?void 0:Ie.data)}},version:Pi},{types:[D.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(Dr,Ie){return!_.isEmpty(null==Ie?void 0:Ie.data)}},version:Pi},{types:[D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineStackedColumnComboChart,D.D.stackedAreaChart,D.D.barChart,D.D.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:function(Dr,Ie){return!_.isEmpty(null==Ie?void 0:Ie.data)}},version:Pi},{types:[D.D.barChart,D.D.columnChart,D.D.ribbonChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart,D.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:Mi},{types:[D.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(Dr){if(Dr){var z=Dr.name;if(z)return z.value===i.sp}return!1}},version:Ki},{types:[D.D.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:ui},{types:[D.D.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:Hi},{types:hi,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:Gi},{types:hi,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:Gi},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Zi},{types:[D.D.tableEx,D.D.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:Ni},{types:[D.D.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:Ni},{types:[D.D.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:Ni},{types:[D.D.textbox],property:(0,e.__assign)((0,e.__assign)({},b.RL.general.paragraphs),{matchByContents:function(Dr,Ie){if((0,C.Fq)(Dr))for(var z=0,q=Dr;z<q.length;z++){var _e=q[z];if(_e&&!_.isEmpty(_e.indent))return!0}return!1}}),version:Qi},{types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:Ri},{types:[D.D.areaChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:Ri},{types:[D.D.areaChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:Ri},{types:[D.D.lineChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:Ri},{types:[D.D.barChart,D.D.hundredPercentStackedBarChart,D.D.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:ea},{property:{objectName:"padding",propertyName:"*"},version:Ii},{property:{objectName:"subTitle",propertyName:"*"},version:Ii},{property:{objectName:"divider",propertyName:"*"},version:Ii},{property:{objectName:"spacing",propertyName:"*"},version:Ii},{types:Ka,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:function(Dr){return(0,r.xF)(Dr.value,r.ST.v2_0)}},version:ya},{types:[D.D.barChart,D.D.columnChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:Xi},{types:[D.D.barChart,D.D.columnChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Xi},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:Xi},{types:[D.D.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:Xi},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:Fa},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart,D.D.lineStackedColumnComboChart,D.D.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:wa},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:ta},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:ta},{types:[D.D.lineChart,D.D.areaChart,D.D.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:ta},{types:[D.D.scatterChart,D.D.map,D.D.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:ra},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:function(Dr){return!(Dr.value===l.x9)}},version:Sa}],["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderPreset","borderTransparency","borderIntensity"].map(function(Ir){return{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),wi,!0),property:{objectName:"dataPoint",propertyName:Ir},version:Ti}}),!0),[{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),wi,!0),[D.D.stackedAreaChart],!1),property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:Ti},{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),_i,!0),wi,!0),property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:Ti},{types:(0,e.__spreadArray)((0,e.__spreadArray)([],_i,!0),[D.D.lineStackedColumnComboChart],!1),property:{objectName:"layout",propertyName:"stackedGapSize"},version:Ti},{types:(0,e.__spreadArray)([D.D.barChart,D.D.columnChart,D.D.ribbonChart],Na,!0),property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:Ti},{types:[D.D.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:Ti},{types:[D.D.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:Ti},{types:[D.D.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:Ti},{types:[D.D.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:xa},{types:ii,property:{objectName:"labels",propertyName:"titleBold"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleColor"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleContentType"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleFontFamily"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleFontSize"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleItalic"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleTransparency"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"titleUnderline"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailBold"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailColor"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailFontFamily"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailFontSize"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailItalic"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailTransparency"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailUnderline"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"detailContentType"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"showBlankAs"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"transparency"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"wordWrap"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"labelContentLayout"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:ni},{types:ii,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:ni},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:Fi},{types:[D.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:Fi},{types:[D.D.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:ca},{types:[D.D.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:function(Dr){if(Dr){var z=Dr.name;if(z)return z.value.endsWith(".wkt")||z.value.endsWith(".kml")}return!1}},version:ca},{types:[D.D.textbox],property:(0,e.__assign)((0,e.__assign)({},b.RL.general.paragraphs),{matchByContents:function(Dr,Ie){if((0,C.Fq)(Dr))for(var z=0,q=Dr;z<q.length;z++){var _e=q[z];if(_e&&!_.isEmpty(_e.textRuns))for(var Ke=0,yt=_e.textRuns;Ke<yt.length;Ke++){var wt=yt[Ke];if((0,y.IM)(wt)&&wt.mentionEmail)return!0}}return!1}}),version:da},{types:[D.D.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:ia},{types:[D.D.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:ia},{types:[D.D.scorecard],property:{objectName:"visualization",propertyName:c.p5},version:ia},{types:[D.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Ca},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:Ci},{types:[D.D.slicer,D.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:Ci}],!1),["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(function(Ir){return{types:(0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),[D.D.lineClusteredColumnComboChart],!1),property:{objectName:"layout",propertyName:Ir},version:Li}}),!0),[{types:(0,e.__spreadArray)((0,e.__spreadArray)([],_i,!0),[D.D.lineStackedColumnComboChart],!1),property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:Li},{types:[D.D.barChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:Li},{types:[D.D.barChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:Li},{types:[D.D.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:Li},{types:[D.D.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:Li},{types:ii,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:Ea}],!1),["leaderLineStyle","leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(function(Ir){return{types:[D.D.lineChart,D.D.areaChart],property:{objectName:"labels",propertyName:Ir},version:Ea}}),!0);function na(Ir){if(Ir&&!_.isEmpty(Ir.data)&&1===Ir.data.length&&(0,u.qm)(Ir.data[0]))return Ir.data[0].matchingOption}var La=["minColor","midColor","maxColor","nullColor"];function oa(Ir){if(Ir instanceof S.jz)return!!_.find(La,function(_e){return _e===Ir.value});if(Ir instanceof Object&&!(Ir instanceof Function))for(var Ie=0,z=Object.keys(Ir);Ie<z.length;Ie++)if(oa(Ir[z[Ie]]))return!0;return!1}var Ir,Dr,Ie,Ha=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:F.v3_19,types:aa},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[D.D.pivotTable],version:Yt,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[D.D.pivotTable],version:Bt,upgrader:x.Xv,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[D.D.scatterChart],version:Ct,upgrader:x.fw},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart],version:Qt,upgrader:x.QK},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:Qt,types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart,D.D.waterfallChart],upgrader:x.QK},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:ti,types:[D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.ribbonChart,D.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:ti,types:[D.D.areaChart,D.D.barChart,D.D.clusteredBarChart,D.D.clusteredColumnChart,D.D.columnChart,D.D.hundredPercentStackedBarChart,D.D.hundredPercentStackedColumnChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.ribbonChart,D.D.scatterChart,D.D.stackedAreaChart,D.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:ti,types:[D.D.areaChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.stackedAreaChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:ti,types:[D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart],upgrader:x.Dq},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:Lt,types:[D.D.pivotTable,D.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:Lt,types:[D.D.pivotTable,D.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:Lt,types:[D.D.pivotTable,D.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:Lt,types:[D.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:Lt,types:[D.D.pivotTable,D.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:Lt,types:[D.D.slicer,D.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:Lt,types:[D.D.slicer,D.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:Lt,types:[D.D.slicer,D.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:Lt,types:[D.D.multiRowCard],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:Si,types:[D.D.areaChart,D.D.lineChart,D.D.lineClusteredColumnComboChart,D.D.lineStackedColumnComboChart,D.D.scatterChart,D.D.stackedAreaChart],upgrader:x.Dq,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:P.t,types:(0,e.__spreadArray)((0,e.__spreadArray)([],$i,!0),wi,!0),upgrader:x.xx}],Ga=(Ir=Ia,Dr=Ha,Ie=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:F.v4_2,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:F.v5_1,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:F.v5_1,upgrader:x.KI},{property:{objectName:"filterCard",propertyName:"textSize"},version:F.v5_1,upgrader:x.KI}],m.fF.assert(function(){return!_.find(Dr,function(z){return _.find(Ir,function(q){return(!z.types||!q.types||_.find(z.types,function(Ke){return _.find(q.types,function(yt){return yt===Ke})}))&&q.property.objectName===z.previousId.objectName&&q.property.propertyName===z.previousId.propertyName&&(0,s.lt)(q.version,z.version)})})},"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(Ir){for(var Dr={},Ie=function(_e){var Ke=Ir[_e];if(m.fF.assert(function(){return!_e||!(0,s.lt)(Ke.version,Ir[_e-1].version)},"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=Ke.types)for(var yt=0,wt=Ke.types;yt<wt.length;yt++)va(wt[yt],Ke,Dr);else va(c.p5,Ke,Dr)},z=0;z<Ir.length;z++)Ie(z);return Dr}(Ir),renamed:function(Ir){for(var Dr={},Ie=function(Ke,yt){var wt=Ir[Ke];if(m.fF.assert(function(){return wt.currentId.objectName!==wt.previousId.objectName||wt.currentId.propertyName!==wt.previousId.propertyName},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),m.fF.assert(function(){return!Ke||!(0,s.lt)(wt.version,Ir[Ke-1].version)},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=wt.types)for(var zt=0,Jt=wt.types;zt<Jt.length;zt++)Ba(qt=Jt[zt],wt,Dr);else for(var qt in Ba(c.p5,wt,Dr),Dr)Ba(qt,wt,Dr)},z=0,q=Ir.length;z<q;z++)Ie(z);return Dr}(Dr),updated:Ie});function Ba(Ir,Dr,Ie){var z=Ie[Ir];Ie[Ir]||(z=Ie[Ir]={});var q=Dr.currentId.objectName,_e=z[q];_e||(_e=z[q]={});var Ke=Dr.previousId,yt=function(Jt,qt){var ur=Jt&&Jt[qt.objectName];return ur&&ur[qt.propertyName]},wt=yt(z,Ke)||yt(Ie[c.p5],Ke);_e[Dr.currentId.propertyName]=(0,e.__assign)((0,e.__assign)({},Dr),{previous:wt})}function va(Ir,Dr,Ie){var z=Ie[Ir];Ie[Ir]||(z=Ie[Ir]={});var q=Dr.property.objectName,_e=z[q];_e||(_e=z[q]={});var Ke=Dr.property.propertyName,yt=_e[Ke];yt||(yt=_e[Ke]=[]),yt.push(Dr),m.fF.assert(function(){return 1===yt.length||!(0,s.lt)(yt[yt.length-1].version,yt[yt.length-2].version)},"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function Ja(Ir,Dr,Ie,z,q){return(0,V.Vj)({definitions:Ir,descriptors:Dr,visitor:function(Ke,yt,wt,zt){z=(0,s.Fp)(N.getVersionForSQExprWithDescriptor(Ke,zt),z)}}),(0,V.rQ)(Ir,Dr,function(_e,Ke,yt,wt,zt){var qt=_e[Ke];z=(0,s.Fp)(z,(0,c.KB)(Ga.added,qt,yt,Ie,wt,Ke,z,function(){var hr=(0,V.NA)(Ir,{objectName:wt,propertyName:Ke},yt);if(hr){var br=(0,d.oA)(hr,yt,q);if(!_.isEmpty(br))return!0}return!1})),(0,V.er)(qt)&&(z=(0,s.Fp)(z,Yr))}),z}},849:function(Je,H,t){t.d(H,{Dq:function(){return o},KI:function(){return d},Mi:function(){return D},QK:function(){return a},Rd:function(){return g},Xv:function(){return m},fw:function(){return i},jF:function(){return S},nc:function(){return L},pr:function(){return M},s8:function(){return V},xx:function(){return u}});var e=t(456535),c=t(322487),s=t(454967),f=t(666683),v=t(344916),b=t(787941),h=t(520907),p=t(324356),n=t(60495),l=t(600348);function r(O){return Math.round(100*h.FP.toPoint(O))/100}function o(O){return void 0!==O&&"log"===O}function a(O){return void 0!==O&&"Right"===O}function i(O){return O?s.$o:s.Mb}function m(O){return!O}function u(O){return O?v.Nb:v.GE}function V(O){switch(O){case f.YP:return 0;case f.j0:return 1;case f.wI:return 4;case f.LI:return 8;case f.RH:return 2;case f.b_:return 5;case f.v3:return 10;case f.Wi:return 15;default:return b.fF.assertFail("unexpected outline type"),0}}function d(O){switch(typeof O){case"string":O=+O;case"number":return b.fF.assert(function(){return!isNaN(O)},"pxToPt upgrader encountered NaN"),r(O);default:return b.fF.assertFail("pxToPt upgrader encountered non-numerical parameter"),O}}function S(O){O&&(O.objects&&function(O){if(O)for(var N=0,w=y;N<w.length;N++)M(O,w[N])}(O.objects),O.vcObjects&&function(O){if(O){var N=O.visualTooltip&&O.visualTooltip[0]&&O.visualTooltip[0].properties;if(N){var w=N.fontSize;if(w)if(T(w))N.fontSize=L(w);else{var I=c.ib.deserializeExpr(w.expr);N.fontSize=D(L(I))}}}}(O.vcObjects))}function g(O){O&&O.objects&&O.visualType===l.D.textbox&&function(O){if(O){var N=P(O,"general");if(N)for(var I=0,B=N.paragraphs;I<B.length;I++)for(var W=0,U=B[I].textRuns;W<U.length;W++){var k=U[W];if((0,n.IM)(k)&&k.textStyle&&k.textStyle.fontSize){var Q=k.textStyle.fontSize,te=Q.indexOf("px");if(-1!==te){var ee=+Q.substr(0,te);k.textStyle.fontSize=r(ee)+"pt"}}}}}(O.objects)}var y=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function M(O,N){var w=P(O,N.objectName);if(w){var I=w[N.propertyName];if(I)if(T(I))w[N.propertyName]=L(I);else{var B=c.ib.deserializeExpr(I.expr);w[N.propertyName]=D(L(B))}}}function P(O,N){if(O){var w=O[N];if(w)for(var I=0,B=w;I<B.length;I++){var j=B[I];if(null==j.selector)return j.properties}}}function T(O){return O instanceof p.Il&&(0,e.VC)(O)}function D(O){return{expr:c.ib.serializeExpr(O)}}function L(O){var w=r(O.value);return(0,p.gH)(w)}},210775:function(Je,H,t){t.d(H,{fm:function(){return b},ps:function(){return f},zW:function(){return h}});var e=t(776791),c=t(787941),s=t(89858);function f(){return new v}var v=function(){function p(){}return p.prototype.upgrade=function(n){if(c.fF.assertValue(n,"exploration"),n)for(var l=0,r=n.sections;l<r.length;l++)for(var a=0,i=r[l].visualContainers;a<i.length;a++){var m=i[a],u=m.config.singleVisual;if(u){var V=u.objects;if(!h(u.visualType))continue;b(V);var S=(0,e.K)(m.dataTransforms);S&&(b(S.objects),m.dataTransforms=JSON.stringify(S))}}},p.prototype.upgradeFilterCollection=function(){},p.prototype.upgradeVisualObjects=function(n,l,r,o){},p.prototype.getVersion=function(){return s.H3n.v3_19},p}();function b(p){var n="dataPoint",l="defaultCategoryColor";if(p&&p[n])for(var o=0,a=p[n];o<a.length;o++){var i=a[o];null==i.selector&&i.properties[l]&&(i.properties.fill=i.properties[l],delete i.properties[l])}}function h(p){return _.includes(s.gMq,p)}},888142:function(Je,H,t){t.d(H,{Am:function(){return i},ps:function(){return p}});var e=t(415859),c=t(322487),s=t(776791),f=t(787941),v=t(45696),b=t(324356),h=t(89858);function p(g){return new n(g)}var n=function(){function g(y){this.featureSwitchService=y}return g.prototype.upgrade=function(y){if(f.fF.assertValue(y,"exploration"),y)for(var C=0,E=y.sections;C<E.length;C++)for(var P=0,T=E[C].visualContainers;P<T.length;P++){var x=T[P],R=x.config.singleVisual;if(R){var D=R.visualType,L=R.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(R.objects=l(R.objects,L,D),m(R.objects,L,D,R.prototypeQuery));var F=(0,s.K)(x.dataTransforms);F&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(F.objects=l(F.objects,L,D),m(F.objects,L,D,R.prototypeQuery)),x.dataTransforms=JSON.stringify(F))}}},g.prototype.upgradeFilterCollection=function(){},g.prototype.upgradeVisualObjects=function(y,C,E,M){},g.prototype.getVersion=function(){return h.FL3},g}();function l(g,y,C){var E=r(C),M=y&&!_.isEmpty(y[E]);return"scatterChart"===C&&M&&null==(0,e.un)(g,"fillPoint")&&(g||(g={}),g.fillPoint=[{properties:{show:{expr:c.ib.serializeExpr((0,b.O7)(!0))}}}]),g}function r(g){switch(g){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function o(g){switch(g){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function a(g,y){return"filledMap"===g&&y&&!_.isEmpty(y.Series)&&!_.isEmpty(y.Size)}function i(g,y,C){var P=r(C);if(P){var T=null==y?void 0:y.getQueryRef(P,{fieldIndex:0});if(T){f.fF.assertValue(y.defn,"upgradeGradientOnObjectDef - semantic query should exist");var x=y.defn.select().withName(T);f.fF.assertValue(x,"upgradeGradientOnObjectDef - query named expr should exist");var R=g&&g.dataPoint;if(!_.isEmpty(R))for(var D=0,L=R;D<L.length;D++){var F=L[D],A=F.properties.fillRule;if(null==F.selector&&A){if(a(C,y.projections)||R.push({selector:{data:[(0,v.Ue)(1)]},properties:{fill:{solid:{color:(0,b.x5)(x.expr,A)}}}}),R.splice(R.indexOf(F),1),1===y.getUsageCount(T)){var O=y.tryGetExpr(P,0),N=o(C);f.fF.assertValue(N,"tooltips role should exist for visuals with gradient upgrade."),y.add(O,N)}y.removeProjection(P,{fieldIndex:0});break}}}}}function m(g,y,C,E){var M,P,x="fillRule",D=r(C);if(D){var L=y&&y[D];if(!_.isEmpty(L)){var F=L[0].queryRef;if(F){var A=_.cloneDeep(_.find(E&&E.Select,function(Q){return Q.Name===F}));if(A){delete A.Name;var O=A.Aggregation||A.Measure;if(O){var N=O.Expression.Column&&O.Expression.Column.Expression.SourceRef||O.Expression.SourceRef;if(N){var w=_.find(E.From,function(Q){return Q.Name===N.Source});if(w){N.Entity=w.Entity,delete N.Source;var I=g&&g.dataPoint;if(!_.isEmpty(I))for(var B=0,j=I;B<j.length;B++){var W=j[B];if(null==W.selector&&W.properties[x]){if(!a(C,y)){var U=_.cloneDeep(W.properties[x]);I.push({selector:{data:[{dataViewWildcard:{matchingOption:1}}]},properties:(M={},M.fill={solid:{color:{expr:{FillRule:{FillRule:S(U),Input:A}}}}},M)})}if(I.splice(I.indexOf(W),1),delete y[D],!u(F,y)){var k=o(C);f.fF.assertValue(k,"tooltips role should exist for visuals with gradient upgrade."),y[k]||(y[k]=[]),(P=y[k]).push.apply(P,L||[])}break}}}}}}}}}}function u(g,y){for(var C in y)if(_.some(y[C],function(M){return M.queryRef===g}))return!0;return!1}function V(g){g.color&&(g.color=g.color.expr),g.value&&(g.value=g.value.expr),g.strategy&&(g.strategy=g.strategy.expr)}function d(g){V(g.min),V(g.max),g.mid&&V(g.mid),g.nullColoringStrategy&&V(g.nullColoringStrategy)}function S(g){return g.linearGradient2&&d(g.linearGradient2),g.linearGradient3&&d(g.linearGradient3),g}},568837:function(Je,H,t){t.d(H,{x:function(){return c}});var e=t(693825);function c(f){return new s(f)}var s=function(){function f(v){this.downgraders=v}return f.prototype.getFinalVisualObjectsVersion=function(v,b,h,p){for(var n=0,l=this.downgraders;n<l.length;n++)h=(0,e.Fp)(h,l[n].getMinDowngradeVersionForVisualObjects(v,b,p));return h},f.prototype.downgrade=function(v,b,h,p){for(var n=0,l=this.downgraders;n<l.length;n++)l[n].downgradeVisualObjects(v,b,h,p)},f}()},92832:function(Je,H,t){t.d(H,{U:function(){return c}});var e=t(693825);function c(f){return new s(f)}var s=function(){function f(v){this.upgraders=v}return f.prototype.upgrade=function(v,b,h,p){for(var n=0,l=this.upgraders;n<l.length;n++){var r=l[n],o=r.getVersion();(0,e.gt)(o,p)&&r.upgradeVisualObjects(v,b,h,p)}},f}()},282310:function(Je,H,t){t.d(H,{q:function(){return v},v:function(){return f}});var e=t(776791),c=t(787941),s=t(276937);function f(b,h,p,n){c.fF.assertValue(b,"input");var l=[],r={objectId:b.objectId,name:b.objectId,type:b.type};b.creationTime&&(r.creationTime=new Date(Date.parse(b.creationTime))),b.expirationTime&&(r.expirationTime=new Date(Date.parse(b.expirationTime))),b.displayName&&(r.displayName=b.displayName),b.isDefault&&(r.isDefault=b.isDefault),null!=b.id&&(r.id=b.id);try{var o=void 0;b.explorationState&&((o=(0,e.K)(b.explorationState))||l.push({code:0})),o&&(r.explorationState=(0,s.vB)(o,h,p,n))}catch(i){l.push({code:1,message:i.message,stack:i.stack})}var a={contract:r};return _.isEmpty(l)||(a.errors=l),a}function v(b,h,p,n,l){c.fF.assertValue(b,"input");var r={objectId:b.objectId,type:b.type};if(b.creationTime&&(r.creationTime=b.creationTime.toISOString()),b.expirationTime&&(r.expirationTime=b.expirationTime.toISOString()),b.displayName&&(r.displayName=b.displayName),b.isDefault&&(r.isDefault=b.isDefault),null!=b.id&&(r.id=b.id),b.explorationState){var o=(0,s.qC)(b.explorationState,h,n,l,p);r.explorationState=JSON.stringify(o)}return r}},290267:function(Je,H,t){t.d(H,{y:function(){return c}});var e=t(787941);function c(){return new s}var s=function(){function f(){this.isPaused=!1}return f.prototype.register=function(v){var b=jQuery.extend(!0,{},v);return this.updateService(b),b},f.prototype.pause=function(){this.isPaused=!0},f.prototype.resume=function(){this.isPaused=!1},f.prototype.updateService=function(v){e.fF.assertAnyValue(v,"service");var b=function(l){if(_.isFunction(v[l])){var r=v[l],o=h;v[l]=function(){if(!o.isPaused)return r.apply(v,arguments)}}},h=this;for(var p in v)b(p)},f}()},327756:function(Je,H,t){t.d(H,{I:function(){return i}});var a,e=t(633888),c=t(787941),s=t(145315),f=t(426827),v=t(283427),b=t(722089),h=t(324356),p=t(983172),n=t(942983),l=t(277632),r=t(809395),o=t(474147);function i(V,d,S){return new m(V,d,S)}var m=function(){function V(d,S,g){c.fF.assertValue(d,"displayNameService"),c.fF.assertValue(g,"visualPluginService"),this.displayNameService=d,this.featureSwitches=S,this.visualPluginService=g}return V.prototype.getSortableFields=function(d){c.fF.assertValue(d,"options");var S=d.visualType,g=this.visualPluginService.capabilities(S);if(!g||!this.isVisualSortable(g))return{sortableFields:[],sortGroups:[]};var y=this.createIsRoleSortableDelegate(S,d.compiledMappings);return this.getGroupedSortableFieldsFromProjections(d.query,d.schema,g,d.columnProperties,y)},V.prototype.createIsRoleSortableDelegate=function(d,S){var g=this.visualPluginService.getPlugin(d),y=this.visualPluginService.capabilities(d);if(!g.getSortableRoles||!y.sorting)return function(E){return!0};var C=g.getSortableRoles({dataViewMappings:S});return _.isEmpty(C)?function(E){return!1}:function(E){return C.indexOf(E)>=0}},V.prototype.addSort=function(d,S){d&&d.defn&&S&&(d.defn=d.defn.orderBy(S))},V.prototype.removeSort=function(d,S){if(d&&d.defn&&S)for(var g=0,y=S;g<y.length;g++)d.defn=d.defn.removeOrderBy(y[g].expr)},V.prototype.resetSort=function(d){if(d&&d.defn){var S=d.defn.orderBy();this.removeSort(d,S)}},V.prototype.applyImplicitSort=function(d,S){if(c.fF.assertValue(d,"query"),c.fF.assertAnyValue(S,"implicitSort"),!S)return d;var g=d.defn;if(!g)return d;for(var y=S.clauses,C=g.select(),E=[],M=0,P=y;M<P.length;M++){var T=P[M],x=(0,f.cY)(d.projections,T.role);if(x){var R=T.direction;E.push.apply(E,_.map(x.all(),function(D){return{expr:C.withName(D.queryRef).expr,direction:R}}))}}return _.isEmpty(E)?d:new l.g(g.orderBy(E),d.projections,d.expansionStates,d.isDrillDisabled)},V.prototype.shouldApplyDefaultSort=function(d,S){var g,y,C;if(null!==(g=S.sorting)&&void 0!==g&&g.custom||null!==(y=S.sorting)&&void 0!==y&&y.implicit)return!1;var E=d.query;if(!E)return!1;var M=(0,r.i1)(E),P=(0,v.Lo)(E.projections,S.dataViewMappings,M,this.featureSwitches.featureSwitches),T=null===(C=null==P?void 0:P.supportedMappings)||void 0===C?void 0:C[0];return!((null==T?void 0:T.matrix)&&(0,e.D4)(T))&&(d.hasDefaultSort||_.isEmpty(d.query.defn.orderBy()))},V.prototype.ensureValidSorting=function(d){c.fF.assertValue(d,"options");var S=d.query,g=S.defn;if(!g)return S;var y=g.orderBy();if(_.isEmpty(y))return S;var C=this.getSortableFields(d).sortableFields,E=[];if(!_.isEmpty(C))for(var M=0,P=C;M<P.length;M++)E.push.apply(E,this.createSortDefinitions(P[M]));for(var x=!1,R=function(F){if(_.find(E,function(A){return(0,o.fS)(A.expr,y[F].expr)}))return"continue";y.splice(F,1),x=!0},D=y.length-1;D>=0;D--)R(D);return x?new l.g(g.orderBy(y),S.projections,S.expansionStates,S.isDrillDisabled):S},V.prototype.isVisualSortable=function(d){return _.some(d.dataRoles,function(S){return S.kind!==s.DW.Measure})},V.prototype.getGroupedSortableFieldsFromProjections=function(d,S,g,y,C){var E=this,M=d.defn.select(),P=d.defn.orderBy(),T=(0,r.i1)(d),x=(0,v.Lo)(d.projections,g.dataViewMappings,T,this.featureSwitches.featureSwitches),D=new u(C,function(N,w,I,B){var j=d.getRolesActiveProjectionsRefs([N],!1,!0);return _.isEmpty(j)?[]:E.createSortableFieldsForQueryRefs(S,M,j,P,g,y,0!==I,w,B)});if(x.supportedMappings)for(var L=0,F=x.supportedMappings;L<F.length;L++){var A=F[L];A.matrix&&(0,e.D4)(A)?(0,b.Jj)(A.matrix,D):A.categorical&&(0,b.aU)(A.categorical,D)}return _.isEmpty(D.groups)?this.getDefaultGroupSortableFieldsFromProjections(d,x,S,g,y,C):{sortableFields:D.allSortableFields,sortGroups:D.groups}},V.prototype.getDefaultGroupSortableFieldsFromProjections=function(d,S,g,y,C,E){c.fF.assertNonEmpty(y.dataRoles,"Unexpected empty dataRoles");for(var M=[],P=d.defn.select(),T=d.defn.orderBy(),x=_.some(S.supportedMappings,function(I){return I.categorical}),R=0,D=y.dataRoles;R<D.length;R++){var F=D[R].name;if(E(F)){var A=d.getRolesActiveProjectionsRefs([F],!1,!0);if(!_.isEmpty(A)){var O=!_.isEmpty(d.projections[F].activeProjectionRefs),w=this.createSortableFieldsForQueryRefs(g,P,A,T,y,C,x&&O,V.DefaultSortGroupKey);M.push.apply(M,w)}}}return this.createResultWithSortGroup(M)},V.prototype.createSortableFieldsForQueryRefs=function(d,S,g,y,C,E,M,P,T){for(var R,x=!1,D=Number.MAX_VALUE,L=[],F=[],A=[],O=function(U){var k=S.withName(U),Q=null==k?void 0:k.expr;if(!Q||!p.m.isExprValidForSorting(Q))return"continue";var te=N.getDisplayNameFromQueryRef(d,S,U,C,E),ee=N.applySortingScope(Q,T),J=_.findIndex(y,function(re){return(0,o.fS)(re.expr,ee)});J!==n.bN&&(D=Math.min(D,J)),M?((x=x||J!==n.bN)&&!R&&(c.fF.assert(function(){return J!==n.bN},"invalidSortExprIndex"),R=y[J].direction),F.push({name:U,expr:Q}),A.push(te)):L.push({displayName:te,exprs:[k],active:x=J!==n.bN,orderByIndex:x?J:void 0,sortDirection:R=x?y[J].direction:void 0,groupKey:P,scope:T})},N=this,w=0,I=g;w<I.length;w++)O(I[w]);return M?_.isEmpty(F)?[]:[{displayName:A.join(" "),exprs:F,active:x,orderByIndex:x?D:void 0,sortDirection:x?R:void 0,groupKey:P,scope:T}]:L},V.prototype.getDisplayNameFromQueryRef=function(d,S,g,y,C){var E,M=null===(E=S.withName(g))||void 0===E?void 0:E.expr;return M?this.displayNameService.getDisplayName(M,d,y,g,C):""},V.prototype.createResultWithSortGroup=function(d){var S=[];return _.isEmpty(d)||S.push({key:V.DefaultSortGroupKey,displayName:null,fields:d,isDefaultGroup:!0}),{sortableFields:d,sortGroups:S}},V.prototype.createSortDefinitions=function(d){for(var S,g=[],y=0,C=d.exprs;y<C.length;y++)g.push({expr:this.applySortingScope(C[y].expr,d.scope),direction:null!==(S=d.sortDirection)&&void 0!==S?S:2});return g},V.prototype.applySortingScope=function(d,S){return _.isEmpty(S)?d:(0,h.ed)(d,S)},V.DefaultSortGroupKey="Default",V}(),u=function(){function V(d,S){this.isRoleSortable=d,this.getSortableFieldsForRole=S,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}return V.prototype.visitRole=function(d,S){if(this.isRoleSortable(d))switch(S){case"MatrixColumnsGroup":case"CategoricalSeries":this.addRole(d,"Legend",1);break;case"MatrixRowsGroup":return void this.addRole(d,d,1);case"CategoricalCategory":return void this.addRole(d,"Category",1);case"MatrixIntersection":case"MatrixRowsScopedValue":return void this.addRole(d,"Rows",0,!0,[(0,h.Wu)("Rows")]);case"CategoricalValue":case"CategoricalValueGroup":return void this.addRole(d,"Category",0,!0);default:return void c.fF.assertFail("Unexpected context: "+S)}},V.prototype.addRole=function(d,S,g,y,C){var E,M,P;if(void 0===y&&(y=!1),y){if(!(P=_.find(this.groups,function(x){return x.key===S})))return}else P={key:S,displayName:V.RoleToSortGroupDisplayName[S],fields:[]};var T=this.getSortableFieldsForRole(d,S,g,C);_.isEmpty(T)||(_.includes(this.uniqueRoles,d)||((E=this.allSortableFields).push.apply(E,T),this.uniqueRoles.push(d)),(M=P.fields).push.apply(M,T),!y&&!_.includes(this.uniqueGroupKeys,P.key)&&(this.groups.push(P),this.uniqueGroupKeys.push(P.key)))},V.prototype.visitReduction=function(){},V.prototype.enterComposite=function(){},V.prototype.exitComposite=function(){},V.RoleToSortGroupDisplayName=((a={}).Rows="Sort_Group_Small_multiples",a.Category="Sort_Group_Axis",a.Legend="Sort_Group_Legend",a),V}()},67093:function(Je,H,t){t.d(H,{WP:function(){return p},be:function(){return l},nT:function(){return h}});var e=t(787941),c=t(565146),s=t(668268),f=t(431325),v=t(926201),b=t(456535);function h(m,u,V,d,S){return new i(m,u,V,d,S)}function p(m,u,V,d){e.fF.assertValue(d,"references"),e.fF.assertAnyValue(u,"descriptors"),m&&(0,s.Vj)({definitions:m,descriptors:u,visitor:function(g){if((0,b.MI)(g)){var y=(0,v.pd)(V,g.packageType,g.packageName),C=(0,v.NW)(y,g.itemName);C&&l(d,y.name,y.type,C.name,C.type)}}})}function n(m,u,V){return e.fF.assertValue(m,"references should exist."),m[u]||(m[u]={items:{},name:u,type:V}),m[u]}function l(m,u,V,d,S){e.fF.assertValue(m,"references should exist.");var g=n(m,u,V).items;return g[d]=g[d]||{name:d,type:S}}function r(m,u,V){var d=m[u];return d&&d.items&&d.items[V]}function a(m,u){for(var V in m){var d=m[V];for(var S in d.items)u(d,d.items[S])}}var i=function(){function m(u,V,d,S,g){this.promiseFactory=u,this.resourceLoader=V,this.explorationNavigation=d,this.explorationSerializer=S,this.resourceRegistration=g,this.restorableReferenceSources=[],this.preservedReferences={}}return m.prototype.addReferenceSource=function(u){this.restorableReferenceSources.push(u)},m.prototype.removeReferenceSource=function(u){_.pull(this.restorableReferenceSources,u)},m.prototype.garbageCollectUnreferencedStaticResources=function(){var u=this.explorationNavigation.getCurrentExploration(),V=u&&u.resourcePackages;if(V){for(var d=this.explorationSerializer.getReferencedStaticResources(u),S=this.getRestorableReferences(),g=[],y=V.length-1;y>=0;y--){var C=V[y];(0,v.In)(C)&&(this.garbageCollectItems(C,d,this.preservedReferences,S,g),_.isEmpty(C.items)&&_.pull(V,C))}return _.isEmpty(V)&&delete u.resourcePackages,this.cleanPreservedReferences(d,S),g}},m.prototype.cleanPreservedReferences=function(u,V){var d=this;a(this.preservedReferences,function(S,g){(r(u,S.name,g.name)||!r(V,S.name,g.name))&&function(m,u,V){var d=m[u];if(d){var S=d.items;delete S[V],0===_.size(S)&&delete m[u]}}(d.preservedReferences,S.name,g.name)})},m.prototype.getRestorableReferences=function(){for(var u={},V=0,d=this.restorableReferenceSources;V<d.length;V++)a(d[V].getReferences(),function(g,y){l(u,g.name,g.type,y.name,y.type)});return u},m.prototype.garbageCollectItems=function(u,V,d,S,g){e.fF.assertValue(u,"Resource package should exist in order to be garbage collected"),e.fF.assertValue(V,"referencedResources should exist in order to garbage collect items"),e.fF.assertValue(d,"perservedReferences should exist in order to garbage collect items"),e.fF.assertValue(S,"restorableReferences should exist in order to garbage collect items"),e.fF.assertValue(g,"unreferencedResources should exist in order to garbage collect items");for(var y=u.items,C=u.name,E=_.size(y)-1;E>=0;E--){var M=y[E],P=M.name;r(V,C,P)||(r(S,C,P)&&this.preserveItem(u,P,M.type),g.push(C+"/"+M.path),_.pull(y,M))}},m.prototype.preserveItem=function(u,V,d){var S=l(this.preservedReferences,u.name,u.type,V,d);S.uri||(S.uri=(0,f.dR)(u,V,this.resourceLoader,this.promiseFactory).then(function(g){return(0,c.pU)(g)||(g=(0,c.wo)(g)),g}))},m.prototype.loadItemsContent=function(u){var V=[],d=this.explorationNavigation.getCurrentExploration(),S=d&&d.resourcePackages;for(var g in u){var y=u[g];if(1===y.type){var C=y.items,E=function(x){var R=C[x];V.push((0,f.k4)(M.promiseFactory,M.resourceLoader,S,R.name).then(function(D){R.content=D}))},M=this;for(var P in C)E(P)}}return this.promiseFactory.all(V).then(function(){})},m.prototype.addItemsContent=function(u){var V=this.explorationNavigation.getCurrentExploration();for(var d in u){var S=u[d],g=S.items;for(var y in g){var C=g[y];this.addResource(V.resourcePackages,d,S.type,C.name,C.type,C.content)}}},m.prototype.needingRestore=function(u){var V=this;if(!_.isEmpty(u)){var d=this.explorationNavigation.getCurrentExploration();if(d){var S=d&&d.resourcePackages;if(!_.isEmpty(S)){var g={};return a(u,function(y,C){var E=y.name,M=C.name,P=r(V.preservedReferences,E,M);P&&!(0,v.Yu)(S,y.type,C.name,E)&&(n(g,E,y.type).items[M]=P)}),g}}}},m.prototype.addResource=function(u,V,d,S,g,y){(0,v.Yu)(u,d,S,V)||this.resourceRegistration.add(S,d,g,{content:y,skipUniqueName:!0})},m.prototype.restoreReferences=function(u){var V=this,d=this.needingRestore(u),S=[];return a(d,function(g,y){S.push(y.uri.then(function(C){V.resourceRegistration.restore(y.name,g.type,y.type,C)}))}),this.promiseFactory.all(S).then(function(){})},m}()},373669:function(Je,H,t){t.d(H,{Z:function(){return c}});var e=t(787941),c=function(){function s(){}return s.prototype.register=function(f,v,b){var h=v();return{actionResult:h,succeeded:!(_.isBoolean(h)&&!h)}},s.prototype.getTopUndoFrame=function(){e.fF.assertFail("Can not get top undo frame")},s.prototype.canRedo=function(){return!1},s.prototype.canUndo=function(){return!1},s.prototype.canClear=function(){return!1},s.prototype.undo=function(){return e.fF.assertFail("Undo is not supported"),!1},s.prototype.redo=function(){return e.fF.assertFail("Redo is not supported"),!1},s.prototype.clear=function(){return e.fF.assertFail("Clear is not supported"),!1},s.prototype.getReferences=function(){return{}},s}()},89946:function(Je,H,t){t.d(H,{T:function(){return f},x:function(){return v}});var e=t(787941),c=t(1745),s=t(373669),f=function(){function h(p,n){this.visualContainerName=p,this.action=n}return h.prototype.equals=function(p){return!!p&&this.action===p.action&&this.visualContainerName===p.visualContainerName},h}();function v(h,p,n,l){return void 0===n&&(n="UndoRedo"),void 0===l&&(l=new s.Z),new b(h,p,n,l)}var b=function(){function h(p,n,l,r){this.eventBridge=p,this.loggerService=n,this.undoRedoLogEntryType=l,this.strategy=r}return h.prototype.setStrategy=function(p){this.clear(),this.strategy=p},h.prototype.undo=function(){var p=this;!this.verifyStrategy()||!this.canUndo()||setTimeout(function(){p.strategy&&p.strategy.undo()&&(p.runSideEffects(),p.fireEvents())})},h.prototype.redo=function(){var p=this;!this.verifyStrategy()||!this.canRedo()||setTimeout(function(){p.strategy&&p.strategy.redo()&&(p.runSideEffects(),p.fireEvents())})},h.prototype.registerSideEffect=function(p){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(p)},h.prototype.clear=function(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(c.WR7))},h.prototype.canRedo=function(){return this.verifyStrategy()&&this.strategy.canRedo()},h.prototype.canUndo=function(){return this.verifyStrategy()&&this.strategy.canUndo()},h.prototype.getTopUndoFrame=function(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()},h.prototype.undoRedoPostProcessing=function(p){this.loggerService.addUserAction({message:p,type:this.undoRedoLogEntryType}),setTimeout(_.noop)},h.prototype.register=function(p,n,l){var r,o=!1;if(this.verifyStrategy()){var a=this.strategy.register(p,n,l);r=a.actionResult,o=a.succeeded}else r=n(),o=!(_.isBoolean(r)&&!r);return o&&(this.runSideEffects(p),this.fireEvents()),this.undoRedoPostProcessing(p),r},h.prototype.fireEvents=function(){this.eventBridge.publishToChannel(c.t4l,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(c.WR7)},h.prototype.runSideEffects=function(p){if(!_.isEmpty(this.sideEffects))for(var n=0,l=this.sideEffects;n<l.length;n++)l[n].run(p)},h.prototype.verifyStrategy=function(){var p=this;return e.fF.assert(function(){return!!p.strategy},"undoRedoService functions should not be called without a strategy"),!!this.strategy},h}()},565773:function(Je,H,t){t.d(H,{gp:function(){return v}});var e=t(787941),c=function(){function p(n){this.count=0,this.top=-1,e.fF.assert(function(){return n>=1},"Size cant be less than 1"),this.size=n,this.data=new Array(n)}return p.prototype.item=function(n){var l=this;e.fF.assert(function(){return n>=0&&n<l.count},"index out of range");var r=this.top-(this.count-1);return r<0&&(r+=this.size),this.data[(n+r)%this.size]},p.prototype.push=function(n){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=n},p.prototype.pop=function(){if(0!==this.count){this.count--;var n=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),n}},p.prototype.peek=function(){return this.data[this.top]},p.prototype.clear=function(){this.count=0,this.top=-1,this.data=new Array(this.size)},Object.defineProperty(p.prototype,"length",{get:function(){return this.count},enumerable:!1,configurable:!0}),p}(),s=t(658353),v=function(){function p(n,l,r,o){this.handler=n,this.staticResourceReferences=l,this.telemetry=r,this.visibilityService=o,this.undoStack=new c(10),this.redoStack=new c(10),this.staticResourceReferences.addReferenceSource(this)}return p.prototype.register=function(n,l,r){var o=this,a=this.withTelemetry(function(){return o.captureUndoFrame(o.handler)},"Capture",n);a.recurringActionInfo=r;var i=this.canMergeWithTopFrame(r),m=this.startTransaction(a),u=l();e.fF.assert(function(){return!o.isIPromise(u)},"UndoRedoService.register does not support promise types");var V=!(_.isBoolean(u)&&!u);return V?this.endTransaction(m,i):this.cancelTransaction(m),{succeeded:V,actionResult:u}},p.prototype.getReferences=function(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))},p.prototype.addStackReferences=function(n,l){l=l||{};for(var r=n.length;r-- >0;)_.merge(l,n.item(r).getReferences());return l},p.prototype.undo=function(){var n=this,l=!1;return this.canUndo()&&(l=this.withTelemetry(function(){return n.rollbackTop(n.undoStack,n.redoStack)},"Undo",""),this.telemetry.logEvent(s.s$,{times:this.redoStack.length})),l},p.prototype.redo=function(){var n=this,l=!1;return this.canRedo()&&(l=this.withTelemetry(function(){return n.rollbackTop(n.redoStack,n.undoStack)},"Redo","")),l},p.prototype.clear=function(){return this.undoStack.clear(),this.redoStack.clear(),!0},p.prototype.canRedo=function(){return this.redoStack.length>0},p.prototype.canUndo=function(){return this.undoStack.length>0},p.prototype.canClear=function(){return!0},p.prototype.getTopUndoFrame=function(){var n=this.undoStack.peek();return n?n.getFrame():void 0},p.prototype.withTelemetry=function(n,l,r){var o=this.visibilityService.get(),i=this.telemetry.startEvent(s.hs,{description:r,event:l,visibility:null==o?void 0:o.visibility}),m=n();return i.resolve(),m},p.prototype.canMergeWithTopFrame=function(n){if(!n)return!1;if(this.canUndo()){var l=this.getTopUndoFrame();if(l&&void 0!==l.recurringActionInfo&&l.recurringActionInfo.equals(n))return!0}return!1},p.prototype.rollbackTop=function(n,l){var r=n.pop();if(r){var o=r.rollbackFrame(),a=this.validTransactionCheck(o);return a&&l.push(o),a}e.fF.assertFail("UndoRedoService.rollbackTop received an empty source")},p.prototype.isIPromise=function(n){return n&&n.finally},p.prototype.startTransaction=function(n){e.fF.assertValue(n,"undoFrame");var l=new h;return this.currentTransaction||(this.currentTransaction=l,this.currentTransaction.addUndoFrame(n)),this.currentTransaction},p.prototype.endTransaction=function(n,l){var r=this;e.fF.assertValue(n,"transaction"),e.fF.assert(function(){return n===r.currentTransaction},"nested transactions are not allowed"),l||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0},p.prototype.cancelTransaction=function(n){var l=this;e.fF.assertValue(n,"transaction"),e.fF.assert(function(){return n===l.currentTransaction},"nested transactions are not allowed"),this.currentTransaction=void 0},p.prototype.captureUndoFrame=function(n){return e.fF.assertValue(n,"container"),new b(n)},p.prototype.validTransactionCheck=function(n){return e.fF.assertValue(n,"null or undefined transaction values cannot be put on undo or redo stack."),!!n},p}(),b=function(){function p(n,l){e.fF.assertValue(n,"handler"),this.handler=n,this.snapshot=this.handler.takeSnapshot(l)}return p.prototype.rollbackFrame=function(){var n=new p(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),n},p.prototype.getReferences=function(){return this.snapshot.getReferences&&this.snapshot.getReferences()},p}(),h=function(){function p(n){this.frames=n||[]}return p.prototype.addUndoFrame=function(n){this.frames.push(n)},p.prototype.rollbackFrame=function(){return new p(_.map(this.frames,function(l){if(e.fF.assertValue(l,"frame"),l)return l.rollbackFrame()}))},p.prototype.getFrame=function(){var n=this;return e.fF.assert(function(){return 1===n.frames.length},"frame length"),this.frames[0]},p.prototype.getReferences=function(){for(var n={},l=0,r=this.frames;l<r.length;l++)_.merge(n,r[l].getReferences());return n},p}()},388172:function(Je,H,t){t.d(H,{J:function(){return h}});var e=t(787941),c=t(273139),s=t(658353),f=t(35801),v=t(1745),b=t(555161);function h(r,o,a,i){return new p(r,o,a,i)}var p=function(){function r(o,a,i,m){var u=this;this.telemetryService=o,this.eventBridge=a,this.selectionService=i,this.explorationNavigation=m,e.fF.assertValue(o,"telemetryService"),e.fF.assertValue(a,"eventBridge"),e.fF.assertValue(i,"selection"),this.selectionService=i,a.createChannelSubscriptionManager().subscribe(v.tRg,function(){return u.updatePopOutMode()})}return r.prototype.get=function(o){e.fF.assert(function(){return 0!==o},"mode !== VisualVisibility.None");var a=this.explorationNavigation.getCurrentSection(),i=a&&a.poppedOutElement;if(i&&(o||(o=27),o&i.visibility))return i.visualContainer},r.prototype.set=function(o,a,i){if(void 0===i&&(i=!0),e.fF.assertValue(o,"visualContainer"),e.fF.assertValue(a,"visibility"),0!==a){!b.UP.isCanvasItemSelected(o,this.selectionService)&&32!==a&&b.UP.selectCanvasItem(o,this.selectionService);var m={visualContainer:o,visibility:a},u=this.explorationNavigation.getAllSections(),V=_.find(u,function(S){return S.visualContainers.indexOf(o)>=0});V&&(function(r,o){return(r=r||null)===(o=o||null)||!(!r!=!o||(e.fF.assertValue(r,"left"),e.fF.assertValue(o,"right"),r.visualContainer!==o.visualContainer||r.visibility!==o.visibility))}(m,V&&V.poppedOutElement)||(this.clearInternal(!1,!1),this.setMode(m,a,i),V.poppedOutElement=m,this.poppableItem=m,this.raiseEvent(this.generateVisibilityChangedEventArgs(a))))}else this.clearInternal(!0,i)},r.prototype.clear=function(){this.clearInternal()},r.prototype.clearForVisualContainers=function(o){var a=this.explorationNavigation.getCurrentSection(),i=a&&a.poppedOutElement;if(i)for(var m=0,u=o;m<u.length;m++)if(i.visualContainer===u[m]){this.clearInternal();break}},r.prototype.clearInternal=function(o,a){void 0===o&&(o=!0),void 0===a&&(a=!0);var i=this.explorationNavigation.getCurrentSection(),m=i&&i.poppedOutElement;if(m){var u=this.poppableItem.visibility;this.setMode(m,0,a),i.poppedOutElement=void 0,o&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===m.visualContainer?this.generateVisibilityChangedEventArgs(u):void 0),this.poppableItem=void 0}},r.prototype.isSeeDataMode=function(o){return o&&(2===o||8===o||16===o)},r.prototype.updatePopOutMode=function(){var o=b.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);o&&(0,c.Vz)(o)&&null!=o.visibility&&0!==o.visibility?this.set(o,o.visibility,!1):this.clearInternal(!0,!1)},r.prototype.raiseEvent=function(o){this.eventBridge.publishToChannel(v.y5h,o)},r.prototype.setMode=function(o,a,i){var m=o.visualContainer;if(i){var u=function(r){switch(r){case 1:return"Maximized";case 2:return"MaximizedWithData";case 8:return"MaximizedWithAccessibleData";case 4:return"Spotlight";case 32:return"Elevation";case 16:return"VisualCalcEditing";default:return"Normal"}}(a);this.telemetryService.logEvent(s.F,{visualType:(0,f.s)(m),displayType:u,visualName:o.visualContainer.name})}m.visibility=a},r.prototype.generateVisibilityChangedEventArgs=function(o){return{preserveScroll:4===o||32===o}},r}()},815636:function(Je,H,t){t.d(H,{_6:function(){return oe},Vz:function(){return G},hQ:function(){return Ve}});var e=t(39326),c=t(664723),s=t(935270),f=t(633888),v=t(210683),b=t(883863),h=t(787941),p=t(520907),n=t(261374),l=t(145315),r=t(426827),o=t(989516),a=t(283427),i=t(668268),m=t(41941),u=t(620108),V=t(389521),d=t(19632),S=t(454262),g=t(44615),y=t(597098),C=t(217926),E=t(13106),M=t(324356),P=t(435795),T=t(983172),x=t(799818),R=t(505876),D=t(822311),L=t(277632),F=t(571330),A=t(156319),O=t(821850),N=t(953016),w=t(809395),B=t(608794),j=t(714725),W=t(286972),U=t(226514),Q=function(He){function Ce(de,pe,le){var me=He.call(this)||this;return me.visualCalcDaxParserServiceContext=le,me.oldNativeRefereName=de,me.newNativeReferenceName=pe,me}return(0,U.__extends)(Ce,He),Ce.prototype.visitNativeVisualCalc=function(de){if(de.name===this.newNativeReferenceName)return de;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var pe=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,de.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,M.YU)(de.name,pe,de.getAnnotations())},Ce}(t(334048).b),te=t(456535),ee=t(374952),J=t(474147),re=t(600348);function G(He,Ce,de,pe,le,me){return new Qe(He,Ce,de,pe,le,me)}function oe(He,Ce,de,pe){if(!He)return!1;var le=!1;function me(ye,rt,it,Ue){pe&&pe(ye.objectName,ye.selector,rt,it,Ue,Ue&&ye.properties&&ye.properties[rt])}if(He.replace)for(var be=0,Be=He.replace;be<Be.length;be++){var Pe=(0,i.zx)(de,(Se=Be[be]).objectName,Se.selector),ue={};for(var ve in Se.properties)(0,m.e4)(ve)?ue[ve]=Te(Se,ve,Ce):h.fF.assertFail("Invalid property name");var xe=Pe.properties;if(!(0,i.Pg)(xe,ue)){le=!0;for(var Fe=0,at=(0,i.hu)(xe,ue);Fe<at.length;Fe++)me(Se,ve=at[Fe],xe[ve],ue[ve]);Pe.properties=ue}}if(He.merge)for(var We=0,Oe=He.merge;We<Oe.length;We++)for(var ve in Pe=(0,i.zx)(de,(Se=Oe[We]).objectName,Se.selector),Se.properties)if((0,m.e4)(ve)){var Ze=Te(Se,ve,Ce);(0,i.ES)(Pe.properties[ve],Ze)||(le=!0,me(Se,ve,Pe.properties[ve],Ze),Pe.properties[ve]=Ze)}else h.fF.assertFail("Invalid property name");if(He.remove)for(var Ee=0,K=He.remove;Ee<K.length;Ee++)if(Pe=(0,i.my)(de,(Se=K[Ee]).objectName,Se.selector))for(var ve in Se.properties)(0,m.e4)(ve)?Pe.properties.hasOwnProperty(ve)&&(le=!0,me(Se,ve,Pe.properties[ve],void 0),delete Pe.properties[ve]):h.fF.assertFail("Invalid property name");if(He.removeObject)for(var Ne=0,Y=He.removeObject;Ne<Y.length;Ne++){var Se;if(Pe=(0,i.my)(de,(Se=Y[Ne]).objectName,Se.selector)){if(pe)for(var ve in Pe.properties)me(Se,ve,Pe.properties[ve],void 0);le=(0,i.AV)(de,Se.objectName,Se.selector)||le}}return le}function Ve(He,Ce,de){if(He.name!==c.x.rows||!(0,f.qU)(null==de?void 0:de.dataViewMappings))return!0;var pe=Ce.query;if(!pe||!pe.defn)return!1;var le=(0,r.cY)(pe.projections,He.name);return!!le&&_.size(le.all())>0||Ce.hasUsedSmallMultiples}function Te(He,Ce,de){var le;return h.fF.assertValue(He,"instance"),de&&de[He.objectName]&&de[He.objectName].properties[Ce]&&(le=de[He.objectName].properties[Ce].type),(0,i.Lo)(He.properties[Ce],le||{})}var Qe=function(){function He(Ce,de,pe,le,me,be){this.visualPluginService=Ce,this.geoTaggingService=de,this.aggrOps=pe,this.featureSwitchService=le,this.visualAuthoringCustomizeOperations=me,this.displayNameService=be,h.fF.assertValue(Ce,"visualPluginService"),h.fF.assertValue(de,"geoTaggingService"),h.fF.assertValue(pe,"aggrOps"),this.visualPluginOps=(0,j.f)(Ce,le)}return He.prototype.create=function(Ce){h.fF.assertValue(Ce,"options");var de=this.visualPluginService.capabilities(Ce.visualType),pe=Ce.query||new L.g(E.vQ.create(),{},[]),le=(0,B.F)().create(de,this.geoTaggingService,pe.isDrillDisabled);if(le){var me={visualType:Ce.visualType,query:pe};for(var be in Ce.autoSelectVisualType&&(me.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(me,Ce.schema),me.query.projections)this.ensureDependentObjectDefn(le.objectDescs,be,me);var Be=Ce.expr,Se=!Ce.inFilterVisualContainer&&Be&&!_.isArray(Be)&&T.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Ce.schema,Ce.expr,!A.l.supportsFilterOutput(de),this.visualPluginOps.isAnalysisVisual(Ce.visualType));if(_.isEmpty(Be)||this.tryAdd(le,me,Se,Ce))return{singleVisual:me}}},He.prototype.add=function(Ce,de,pe){var le;h.fF.assertValue(Ce,"options"),h.fF.assertValue(de,"target");var me=de.singleVisual;if(!me)return!1;var be=this.visualPluginService.capabilities(me.visualType),Be=!(null===(le=me.query)||void 0===le||!le.isDrillDisabled);me.query||(Be=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.dR)(be));var Se=(0,B.F)().create(be,this.geoTaggingService,Be);return!!Se&&!!(me.query?this.tryAdd(Se,me,pe,Ce):this.tryAddWithUndefinedQuery(Se,me,pe,Ce))&&(this.visualAuthoringCustomizeOperations.customizeOptions(me,Ce.schema),He.clearConversionSourceContext(me),!0)},He.prototype.toggleHidden=function(Ce,de,pe){var le=Ce.getQueryRef(de,{fieldIndex:pe});Ce.toggleHidden(le)},He.prototype.remove=function(Ce,de,pe){h.fF.assertValue(Ce,"options"),h.fF.assertValue(de,"target");var le=de.singleVisual;return!(!le||!this.tryRemove(le.query,le.columnProperties,Ce,pe)||(He.clearConversionSourceContext(le),0))},He.prototype.removeAllParametersAndProjectionsFromRole=function(Ce,de,pe,le,me){var be=de&&de.config;if(be){var Be=be&&be.singleVisual&&be.singleVisual.query;if(Be){var Se=Be.getQueryFieldParametersByRole(Ce);if(Se&&Se.length>0){for(var Pe={},ue=Pe[Ce]=[],ve=0,xe=Se;ve<xe.length;ve++)ue.push({parameter:xe[ve],result:[]});this.resolveParameters(pe,de,Pe,le,me,void 0);for(var Fe=Se.length-1;Fe>=0;Fe--)this.remove({count:void 0,projOptions:{parameter:Se[Fe]},role:Ce,shouldRemoveParameter:!0},be,pe)}}}},He.prototype.move=function(Ce,de){var pe;h.fF.assertValue(Ce,"options"),h.fF.assertValue(de,"target"),h.fF.assert(function(){return _.isNumber(Ce.sourceIndex)&&_.isNumber(Ce.targetIndex)&&Ce.targetIndex>=0&&Ce.sourceIndex>=0},"Invalid replace index"),h.fF.assert(function(){return _.isNumber(Ce.sourceCount)&&Ce.sourceCount>0},"Invalid number of items to replace");var le=de.singleVisual;if(!le)return!1;if(Ce.sourceRole===Ce.targetRole&&!Ce.replacementExpressions)return!!le.query.moveProjection(Ce.targetRole,Ce.sourceIndex,Ce.targetIndex,Ce.sourceCount)&&(He.clearConversionSourceContext(le),!0);var be=[];if(!(null===(pe=le.query)||void 0===pe?void 0:pe.getParameterByFieldIndex(Ce.sourceIndex,Ce.sourceRole))){var Be=le.query.tryGetFieldExprs(Ce.sourceRole);if(_.isEmpty(Be)||Be.length<Ce.sourceCount)return!1;for(var Se=0;Se<Ce.sourceCount;Se++)if(be[Se]=Be[Ce.sourceIndex+Se],!be[Se])return!1}return this.moveProjectionCore(de,be,Ce)},He.prototype.convert=function(Ce){var de;h.fF.assertValue(Ce,"options");var pe=Ce.source;if(!pe)return!1;var le=pe.conversionSourceContext;le||(le=pe.conversionSourceContext=this.createConversionSourceContext(pe.query,pe.visualType,pe.syncGroup));var me=this.visualPluginService.capabilities(le.visualType),be=this.visualPluginService.capabilities(Ce.target);if(!me||!be||_.isEmpty(be.dataRoles))return!1;if((0,p.fS)(me,be)){var Be=this.visualPluginService.capabilities(pe.visualType);return this.convertRoleWildCardProperties(Be,be,pe.objects),pe.query=le.query,pe.visualType=Ce.target,pe.visualType===Ce.target&&be.supportsSynchronizingFilterState&&(pe.syncGroup=le.syncGroup),!0}if(Ce.skipRoleMapping)return pe.query=le.query,pe.visualType=Ce.target,!0;var Pe=Ce.schema,ue=this.convertDrillableRoles(le.query,me,be,Ce.target,Pe),ve=ue.query,xe=(0,F.WO)(be,ve.isDrillDisabled),ie=this.getUniqueQueryFields(le.query,Ce.target);ie=_.differenceWith(ie,ue.convertedFields,L.g.isEqualQueryFields);var Fe=(0,B.F)().create(be,this.geoTaggingService,ve.isDrillDisabled),at=(0,B.F)().create(me,this.geoTaggingService,le.query.isDrillDisabled);Fe.orderByRolePreferences(Pe,ie);var We=(0,r.d9)(ve.projections),Oe=this.getExpressionRoleMappings(pe.query,ie),Ze=this.getConversionExprRoleList(Oe,at,Fe,Pe,Ce.target,pe,We,xe);if(_.isEmpty(Ze)&&_.isEmpty(ve.projections))return!1;for(var Ee=0,K=Ze;Ee<K.length;Ee++){var Ne=K[Ee];Ne.isFieldParameter?ve.addParameter(Ne.expr,Ne.roleName):ve.add(Ne.expr,Ne.roleName,{nativeReferenceName:Ne.nativeReferenceName,isHidden:Ne.isHidden}),this.ensureDependentObjectDefn(Fe.objectDescs,Ne.roleName,pe)}var ye,rt,Y=(0,F.WO)(this.visualPluginService.capabilities(pe.visualType),!(null===(de=pe.query)||void 0===de||!de.isDrillDisabled));_.isEmpty(Y)?(ye=(0,F.WO)(me,le.query.isDrillDisabled),rt=le.query):(ye=Y,rt=pe.query);for(var it=0,Ue=xe;it<Ue.length;it++){var De=Ue[it];if(ve.projections[De]){ve.ensureActiveItems(De);for(var Le=0,Xe=ye;Le<Xe.length;Le++){var et=Xe[Le];rt.projections[et]&&(ve.projections[De].activeProjectionRefs=rt.projections[et].activeProjectionRefs)}}}return this.updateTargetShowAllInfo(le,ve,Fe),ve.removeUnusedOrderBy(),ve.resetExpansionStates(),this.convertRoleWildCardProperties(me,be,pe.objects),this.upgradePivotTableProperties(pe.objects,pe.visualType,Ce.target),pe.query=ve,pe.visualType=Ce.target,this.visualAuthoringCustomizeOperations.customizeOptions(pe,Pe),!0},He.prototype.convertRoleWildCardProperties=function(Ce,de,pe){if(h.fF.assertValue(Ce,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),h.fF.assertValue(de,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(pe)){var le=_.chain(Ce.dataRoles).filter(function(at){return at.kind!==l.DW.Measure}).map(function(at){return at.name}).value(),me=_.chain(de.dataRoles).filter(function(at){return at.kind!==l.DW.Measure}).map(function(at){return at.name}).value();if(!_.isEmpty(le)&&!_.isEmpty(me))for(var be in pe){var Be=pe[be];if(!_.isEmpty(Be))for(var Se=0,Pe=Be;Se<Pe.length;Se++){var ve=Pe[Se].selector;if(ve&&!_.isEmpty(ve.data))for(var xe=0,ie=ve.data.length;xe<ie;xe++){var Fe=ve.data[xe];(0,o.j9)(Fe)&&_.isEqual(_.sortBy(Fe.roles),_.sortBy(le))&&(ve.data[xe]=(0,V.Yp)(me))}}}}},He.prototype.upgradePivotTableProperties=function(Ce,de,pe){("matrix"===de||"table"===de)&&("pivotTable"===pe||"tableEx"===pe)&&((0,i.TX)(Ce,"general",void 0,"textSize","grid"),(0,i.TX)(Ce,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===de&&"pivotTable"===pe&&((0,i.TX)(Ce,"general",void 0,"columnSubtotals","subTotals"),(0,i.TX)(Ce,"general",void 0,"rowSubtotals","subTotals")),"table"===de&&"tableEx"===pe&&(0,i.TX)(Ce,"general",void 0,"totals","total")},He.prototype.setAggregate=function(Ce,de){if(!de.singleVisual.query.setAggregate(Ce.role,Ce.index,Ce.newAggregate))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.removeAggregate=function(Ce,de){if(!de.singleVisual.query.removeAggregate(Ce.role,Ce.index))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.setPercentOfGrandTotal=function(Ce,de){if(!de.singleVisual.query.setPercentOfGrandTotal(Ce.role,Ce.index))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.removePercentOfGrandTotal=function(Ce,de){if(!de.singleVisual.query.removePercentOfGrandTotal(Ce.role,Ce.index))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.setPercentOfRoleTotal=function(Ce,de){if(!de.singleVisual.query.setPercentOfRoleTotal(Ce.roleRefs,Ce.role,Ce.index))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.removePercentOfRoleTotal=function(Ce,de){if(!de.singleVisual.query.removePercentOfRoleTotal(Ce.role,Ce.index))return!1;var pe=this.generateNativeReferenceNameForOperation(Ce,de);return this.setNativeReferenceNameByRoleAndProjectionIndex(de.singleVisual.query,Ce.index,Ce.role,pe,Ce),He.clearConversionSourceContext(de.singleVisual),!0},He.prototype.updateVisualCalculation=function(Ce,de,pe,le,me,be,Be){var Se=Ce.singleVisual.query;if(!Se||!Se.updateVisualCalculation(de,pe,le,me))return!1;if(Be){var Pe=Se.getQueryRef(pe,{fieldIndex:de});Se.resetHiddenState(Pe);var xe=(0,B.F)().create(this.visualPluginService.capabilities(Ce.singleVisual.visualType),this.geoTaggingService,Se.isDrillDisabled).getNumberRangesForRoles(Se)[pe],ie=Se.projections[pe].projected().length;xe&&xe.max<ie&&this.tryHideOnOverflow(pe,Se,a.zS.conditionRangeTooLarge,de)}return this.setNativeReferenceNameByRoleAndProjectionIndex(Se,de,pe,le,be),He.clearConversionSourceContext(Ce.singleVisual),!0},He.prototype.setNativeReferenceNameByRoleAndProjectionIndex=function(Ce,de,pe,le,me){var be=Ce.getQueryRefByProjectionIndex(pe,de);if(null!=be){var Be=Ce.defn.select(),Se=(0,b.g2)(Be,be);this.setNativeReferenceNameAt(Ce,Se,le,me)}},He.prototype.setNativeReferenceNameAt=function(Ce,de,pe,le){var me,be=Ce.defn.getNativeReferenceNameAt(de);if(be!==pe&&(Ce.defn.setNativeReferenceNameAt(de,pe),!(0,n.g)(be)&&null!=(null===(me=null==le?void 0:le.visualCalcDaxParserServiceContext)||void 0===me?void 0:me.service))){var Be=new Q(be,pe,le.visualCalcDaxParserServiceContext);new W.$(Be).rewriteQuery(Ce)}},He.prototype.toggleShowAll=function(Ce,de){de.singleVisual.query.toggleShowAll(Ce),He.clearConversionSourceContext(de.singleVisual)},He.prototype.changeDrillState=function(Ce,de,pe){de.query.changeDrillStateValue(Ce,!pe),He.clearConversionSourceContext(de)},He.prototype.changeActiveProjection=function(Ce,de,pe){var le=de.query.projections[Ce];if(le){var Be,me=_.uniqBy(le.all(),function(Pe){return Pe.queryRef}),be=_.uniq(le.activeProjectionRefs);_.isEmpty(be)||(Be=be.length);var Se=Be&&_.findIndex(me,function(Pe){return Pe.queryRef===be[Be-1]});if(!(null==Se||Se<0)){if(1===pe){if(!(Se>=1))return;be.pop(),(1===Be||be[Be-2]!==me[Se-1].queryRef)&&be.push(me[Se-1].queryRef)}else{if(3===pe&&(be.length=0),h.fF.assert(function(){return me.length>=Se+1},"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(me.length>Se+1))return;be.push(me[Se+1].queryRef)}return He.clearConversionSourceContext(de),le.activeProjectionRefs=be,be}}},He.prototype.addDrillFilter=function(Ce,de,pe,le,me){this.addDrill(Ce,de,pe,le,me,2,!0)},He.prototype.addDrillToDetailsFilter=function(Ce,de,pe,le,me){_.remove(de,function(be){return!!be.expression&&(0,ee.k)(be.expression)}),this.addDrill(Ce,de,pe,le,me,0,!1)},He.prototype.addDrill=function(Ce,de,pe,le,me,be,Be){if(de&&pe&&!_.isEmpty(le)&&me)for(var Se=function(ie){var Fe=pe.defn.select().withName(ie).expr,at=me.expr,We=(0,te.Ym)(at);We&&(at=at.arg);var Oe=(0,C.FD)(at),Ze=[],Ee=void 0,K=Fe.getKeyColumns(Ce);if(!_.isEmpty(Oe.values))for(var Ne=function(Xe){var et=Oe.args[Xe];if(et&&-1!==T.m.indexOfExpr(K,et)){Ze.push(et);var he=_.map(Oe.values,function(ce){return[ce[Xe]]});Ee=_.isEmpty(Ee)?he:_.chain(Ee).zip(he).map(function(ce){return _.flatten(ce)}).value()}},Y=0;Y<Oe.args.length;Y++)Ne(Y);if(!_.isEmpty(Ze)&&!_.isEmpty(Ee)){var ye=(0,M.Sh)(Ze,Ee||[]);We&&(ye=(0,M.ff)(ye));var Ue,rt=(0,d.SN)([{kind:1,expr:ye,key:me.key}]),it=_.filter(de,function(Le){return(0,J.fS)(Fe,Le.expression)});Be&&(Ue=_.find(it,function(Le){return Le.howCreated===be})),Ue?(h.fF.assert(function(){return!Ue.filter||Ue.howCreated===be&&Be},"The filter to overwrite should be empty or the specified kind we want to overwrite"),Ue.filter=rt,Ue.howCreated=be,Ue.precedence=0):de.push({name:null,expression:Fe,filter:rt,type:R.vA.Categorical,howCreated:be,precedence:0})}},Pe=0,ue=le;Pe<ue.length;Pe++)Se(ue[Pe])},He.prototype.removeDrillFilter=function(Ce,de){return this.removeDrillFilterCore(Ce,de)},He.prototype.removeAllDrillFilters=function(Ce){return this.removeDrillFilterCore(Ce)},He.prototype.removeDrillFilterCore=function(Ce,de){if(!Ce)return!1;this.ensureFiltersArrayIsValid(Ce);for(var pe=[],le=0,me=Ce.length;le<me;le++){var be=Ce[le];if(be&&2===be.howCreated)if(void 0===de)pe.push(le);else if((0,J.fS)(de,be.expression)){pe.push(le);break}}return _.forEachRight(pe,function(Be){return Ce.splice(Be,1)}),!!pe.length},He.prototype.setMatchingFilterToAuto=function(Ce,de){if(de.filters){var pe=_.find(de.filters,function(le){return null!=le&&(0,J.fS)(le.expression,Ce)});pe&&(pe.howCreated=0)}},He.prototype.removeAutoFilterFromContract=function(Ce,de,pe){if(Ce){var le=Ce.filters;if(le){var me=Ce.config.singleVisual.query,be=null!=pe?pe:this.getRemoveOptionsQueryRefs(de,me);_.forEach(be,function(Be){var Se=me.defn.select().withName(Be),Pe=Se?Se.expr:void 0,ue=(0,b.Rl)(le,function(xe){return h.fF.assertValue(xe,"removeAutoFilterFromContract: visualContainer with name ".concat(Ce.name," contains blank value in .filters")),null!=xe&&0===xe.howCreated&&(0,J.fS)(xe.expression,Pe)});if(ue.length>0){h.fF.assertValue(1===ue.length,"More than one auto filter found");var ve=A.l.isFilterModified(ue[0]);ve?ve&&(ue[0].howCreated=1):_.remove(Ce.filters,ue[0])}}),this.ensureFiltersArrayIsValid(le)}}},He.prototype.ensureFiltersArrayIsValid=function(Ce){if(null!=Ce)for(var de=Ce.length-1;de>=0;de--)null==Ce[de]&&(h.fF.assertFail("filters array contains null element"),Ce.splice(de,1))},He.prototype.getRemoveOptionsQueryRefs=function(Ce,de){var pe,le,me=[],be=Ce,Be=be.projOptions;if(be.role&&null!==Be.fieldIndex){var Se=Be.fieldIndex,Pe=Be.parameter;if(Pe)for(var ue=null!==(pe=Pe.length)&&void 0!==pe?pe:0,ve=0;ve<ue;ve++){var xe=de.getQueryRef(be.role,{parameter:Pe,indexInParameter:ve});me.push(xe)}else{var ie=null!==(le=be.count)&&void 0!==le?le:1;for(ve=0;ve<ie;ve++)(xe=de.getQueryRef(be.role,{fieldIndex:Se+ve}))&&me.push(xe)}}else if(Ce.expr){var at=(0,b.rY)(Ce.expr),We=de.defn.select();_.forEach(at,function(Oe){var Ze=_.filter(We,function(Ee){var K=Ee.expr;return(0,te.iV)(K)&&(K=K.arg),(0,J.fS)(K,Oe)});_.forEach(Ze,function(Ee){Ee&&Ee.name&&me.push(Ee.name)})})}return me},He.prototype.isEmptyQueryVisual=function(Ce){var de=Ce.config.singleVisual;if(de&&this.visualPluginOps.isQueryVisual(de.visualType)&&de.query&&0===de.query.defn.select().length&&_.isEmpty(de.query.getQueryFieldParameters())){var pe=this.visualPluginService.capabilities(de.visualType);if(pe){var le=(0,S.$T)(pe.dataViewMappings,de.objects);return!(le&&!(0,n.g)(le.source))}return!1}return!1},He.prototype.setDefaultSort=function(Ce,de,pe,le){if(Ce.config&&Ce.config.singleVisual){var me=Ce.config.singleVisual,be=le.capabilities(me.visualType);if(pe.shouldApplyDefaultSort(me,be)){var Be=me.query;if(Be){var Se=Be.defn,Pe=Be.projections,ue=Se.select(),ve=[],xe=_.filter(be.dataRoles,function(he){return!(_.has(he,"joinPredicate")||0===he.joinPredicate)});if(_.some(xe,function(he){var ce=(0,r.cY)(Pe,he.name);if(ce){var Re=_.map(ce.all(),function(Ge){return ue.withName(Ge.queryRef)});return _.some(Re,function(Ge){return Ge&&Ge.expr&&!_.isEmpty(Ge.expr.getOrderByColumns(de))})}}))return void(me.hasDefaultSort&&(me.query=new L.g(Se.orderBy([]),Be.projections,Be.expansionStates,Be.isDrillDisabled),me.hasDefaultSort=!1));for(var Fe=!1,at=0,We=xe;at<We.length;at++){var Oe=We[at],Ze=(0,r.cY)(Pe,Oe.name);if(Ze){var Ee=_.map(Ze.all(),function(he){return he.queryRef});if(Ee){for(var K=!1,Ne=[],Y=this.shouldDefaultExpandSort(Oe.name,be.expandAndSort,Ee.length),ye={direction:1,expr:null},rt=0,it=Ee;rt<it.length;rt++){var Ue=it[rt],De=ue.withName(Ue),Le=De&&De.expr;if(Le&&T.m.isExprValidForSorting(Le)){var Xe=Le.getMetadata(de);if(Xe){var et=1===Xe.kind&&Xe.type.numeric;if(Y&&(Xe.type.text||Xe.type.temporal||Xe.type.numeric&&_.first(Ee)!==Ue?Ne.push({direction:1,expr:Le}):Y=!1),null==ye.expr&&(Le&&et&&(ye.direction=2),ye.expr=Le),Xe.type.temporal&&(K=Fe=!0,!Y)||et&&(K=!0,!Y))break}}}if(Y&&_.isEmpty(ve)){h.fF.assertValue(_.isEmpty(Ne),"hierarchical sort has no expr (setDefaultSort)"),ve=Ne;break}if(K&&(_.isEmpty(ve)||Fe)&&(h.fF.assertValue(ye.expr,"first projection sort has no expr (setDefaultSort)"),ve=[ye]),Fe||Y)break}}}_.isEmpty(ve)||(me.hasDefaultSort=!0,me.query=new L.g(Se.orderBy(ve),Be.projections,Be.expansionStates,Be.isDrillDisabled))}}}},He.prototype.setDefaultExpandLevel=function(Ce,de,pe,le,me,be){var Be=this,Se=de.capabilities(Ce.config.singleVisual.visualType);if(pe&&Se.expandAndSort&&_.includes(Se.expandAndSort,pe)&&Ce.config&&Ce.config.singleVisual){var Pe=Ce.config.singleVisual.query;Pe&&Se.expandAndSort.forEach(function(ue){var ve=(0,r.cY)(Pe.projections,ue);if(ve){var xe=ve.getQueryRefs();if(Be.shouldDefaultExpandSort(ue,Se.expandAndSort,xe.length)){var ie=!1;if(me)if(1===be){var Fe=xe.indexOf(me[ue].projectionName);if(Fe<0)return;Fe===xe.length-2&&xe.length-1===me[ue].totalNumberOfProjections?ie=!0:Fe<xe.length-1&&xe.splice(Fe+1),ie=!0}else 2===be&&(ie=!!_.isEmpty(me)||me[ue].currentPosition===me[ue].totalNumberOfProjections);ie&&(ve.activeProjectionRefs=_.map(xe,function(at){return at}),Be.setDrillMode(Ce,2,le))}}})}},He.prototype.ensureValidDrillState=function(Ce,de,pe){for(var le=0,me=de;le<me.length;le++){var be=me[le];this.removeDrillFilter(Ce.filters,be.expr);var Be=Ce.config.singleVisual.query,Se=Be.projections[be.roleName];if(Se){var Pe=_.last(Se.activeProjectionRefs);if(null!=Pe){var ue=Be.defn.select().withName(Pe).expr;this.removeDrillFilter(Ce.filters,ue)}}}this.ensureValidDrillMode(Ce,pe)},He.prototype.ensureValidDrillMode=function(Ce,de){var pe=Ce.drillMode;(1===pe&&0===de.getSupportedDrillDirections(Ce)||2===pe&&!de.canDrillToDetails(Ce))&&this.setDrillMode(Ce,0,de)},He.prototype.resolveParameters=function(Ce,de,pe,le,me,be){var Be={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},Se=de&&de.config&&de.config.singleVisual&&de.config.singleVisual.query;if(!Se)return Be;var Pe=[];for(var ue in pe)for(var ve=Se.projections[ue],xe=ve.getFieldParameters(),ie=function(K){var Ne=K.parameter,Y=K.result,ye=_.find(xe,function(dt){return dt.index===Ne.index});if(!ye||!(0,J.fS)(Ne.expr,ye.expr))return"continue";for(var rt=ve.getParameterProjections(ye),it=_.map(rt,function(dt){return Se.defn.select().withName(dt.queryRef).expr}),Ue=_.map(Y,function(dt){return dt.expr}),De=(0,b.f1)(Ue,it,J.fS),Le=De.length-1,Xe=[],et=[],he=[],ce=it.length-1;ce>=0;ce--)Le>=0&&(0,J.fS)(it[ce],De[Le])?Le--:(et.push(Re={role:ue,projOptions:{parameter:ye,indexInParameter:ce}}),Xe.push(rt[ce].queryRef),he.push({expr:it[ce],roleName:ue}));if(et.length>0){var ut=Fe.removeWithValidation(Se,Xe,et,de,Ce,he,le,me,void 0,!0),ae=ut.removeAttemptCount,fe=ut.outputFilterChange;Be.totalRemoveSuccessCount+=ut.removeSuccessCount,Be.totalRemoveAttemptCount+=ae,Be.outputFilterChange||(Be.outputFilterChange=fe)}Le=0;var we=0,ze=0;for(ce=0;ce<Ue.length;ce++){var $e=Y[ce].alias,Re={parameter:ye,indexInParameter:ce-(we-ze)};if(De.length>0&&(0,J.fS)(Ue[ce],De[Le]))Le++,be&&(Be.aliasChange=be(Ce,de,Re,ue,$e)||Be.aliasChange);else{var ot=Ue[ce];we++,Fe.add({expr:ot,schema:Ce,targetRole:ue,projOptions:Re},de.config,!1)&&(ze++,(0,te.t3)(ot)?Be.totalSuccessColumnCount++:(0,te.kb)(ot)?Be.totalSuccessMeasureCount++:(0,te.ez)(ot)&&Be.totalSuccessDateHierarchyCount++,Pe.push(ot),be&&(Be.aliasChange=be(Ce,de,Re,ue,$e)||Be.aliasChange))}}Be.totalAddAttemptCount+=we},Fe=this,at=0,We=pe[ue];at<We.length;at++)ie(We[at]);if(Be.totalAddSuccessCount=Pe.length,Be.totalAddSuccessCount>0){var Ze=this.runAddFieldValidation(de,Ce,Pe,le,me,void 0,!0);Be.outputFilterChange||(Be.outputFilterChange=Ze)}return(Be.totalAddSuccessCount>0||Be.totalRemoveSuccessCount>0)&&(this.setDefaultSort(de,Ce,me,this.visualPluginService),(0,w.Hr)(de),Be.queryChange=!0),Be},He.prototype.runAddFieldValidation=function(Ce,de,pe,le,me,be,Be,Se,Pe,ue){this.ensureValidDrillMode(Ce,le);var ve=!1;if(!Be||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var ie=(be||this.updateFilterState.bind(this))(de,Ce,!1,!0,!0,void 0,ue);ve=(null==ie?void 0:ie.clearOrDefault)||(null==ie?void 0:ie.updateAll)}if(Be||(this.setDefaultExpandLevel(Ce,this.visualPluginService,Se,le,Pe,2),this.setDefaultSort(Ce,de,me,this.visualPluginService),(0,w.Hr)(Ce)),_.isArray(pe))for(var at=0,We=pe;at<We.length;at++)this.setMatchingFilterToAuto(We[at],Ce);else this.setMatchingFilterToAuto(pe,Ce);return ve},He.prototype.removeWithValidation=function(Ce,de,pe,le,me,be,Be,Se,Pe,ue){var ve,xe=0,ie=[],Fe=!1;this.removeAutoFilterFromContract(le,void 0,de);for(var at=0;at<pe.length;at++){var We=this.remove(pe[at],le.config,me);xe+=We?1:0,We||ie.push(at)}if(xe>0){if(ie.length>0){de=_.clone(de);for(var Oe=ie.length-1;Oe>=0;Oe--)de.splice(ie[Oe],1)}if(!ue){var Ze=this.captureCurrentActiveProjectionsByRole(le);this.setDefaultExpandLevel(le,this.visualPluginService,null===(ve=_.first(pe))||void 0===ve?void 0:ve.role,Be,Ze,0)}if(this.ensureValidDrillState(le,be,Be),this.isEmptyQueryVisual(le)?Ce=le.config.singleVisual.query=void 0:ue||(this.setDefaultSort(le,me,Se,this.visualPluginService),(0,w.Hr)(le)),!ue||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var K=(Pe||this.updateFilterState.bind(this))(me,le,!0,!0,!0,null);Fe=(null==K?void 0:K.clearOrDefault)||(null==K?void 0:K.updateAll)}ue||this.clearUnusedObjectDefinitions(le,Ce,de)}return{removeAttemptCount:pe.length,removeSuccessCount:xe,outputFilterChange:Fe}},He.prototype.clearUnusedObjectDefinitions=function(Ce,de,pe){_.forEach(pe,function(le){if(!de||!de.isUsed(le)){var me=Ce.config.singleVisual.objects;_.forEach(me,function(be,Be){var Se=[];_.forEach(be,function(Pe){Pe.selector&&Pe.selector.metadata===le&&Se.push(Pe.selector)}),_.forEach(Se,function(Pe){(0,i.AV)(me,Be,Pe)})})}})},He.prototype.updateFilterState=function(Ce,de,pe,le,me,be){var Be=de.config.singleVisual,Se=this.visualPluginService.capabilities(Be.visualType),Pe=Se?Se.objects:null;if(le&&this.ensureDefaultFilterApplied(Ce,Be,pe))return{clearOrDefault:!0,updateAll:!1};var ue=!1;if(me){var ve=this.updateFilterOutput(Be,Pe,Ce);if(2===ve)return{clearOrDefault:!0,updateAll:!1};ue=1===ve}var xe=de.config.singleVisual;return!ue&&be&&xe&&xe.objects&&(0,i.NA)(xe.objects,be,null)&&(ue=!0),{clearOrDefault:!1,updateAll:ue}},He.prototype.ensureDefaultFilterApplied=function(Ce,de,pe){var le=this.visualPluginService.capabilities(de.visualType),me=le?le.objects:null,be=(0,u.Ln)(me),Be=de.query&&de.query.getUniqueQueryRefs();if(!be||_.isEmpty(Be))return this.clearDefaultFilterOutput(de,me);for(var Se=de.query.defn.select(),ue=[],ve=[],xe=!0,ie=0,Fe=_.map(Be,function(Ee){return Se.withName(Ee).expr});ie<Fe.length;ie++){var at=Fe[ie];T.m.getDefaultValue(at,Ce)?xe?ue.push.apply(ue,this.getExprKeyColumns(at,Ce)):ve.push.apply(ve,this.getExprKeyColumns(at,Ce)):xe=!1}if(_.isEmpty(ue)&&_.isEmpty(ve)||pe)return this.clearDefaultFilterOutput(de,me);de.objects||(de.objects={});var Oe=(0,u.MD)(me),Ze=E.yl.getDefaultAnyValueFilter(ue,ve);return(0,i.sO)(de.objects,Oe,null,Ze),!0},He.prototype.getExprKeyColumns=function(Ce,de){var pe=(0,y.Q)(Ce);return pe.column||pe.groupingColumn||pe.hierarchyLevel?Ce.getKeyColumns(de):[Ce]},He.prototype.clearDefaultFilterOutput=function(Ce,de){if(!Ce.objects)return!1;var pe=(0,u.MD)(de);if(!pe)return!1;var le=(0,i.NA)(Ce.objects,pe,null);return!(!le||!E.yl.isDefaultFilter(le)||((0,i.E2)(Ce.objects,pe.objectName,null,pe.propertyName),0))},He.prototype.updateFilterOutput=function(Ce,de,pe){if(!Ce.objects)return 0;var le=(0,u.MD)(de);if(!le)return 0;var me=(0,i.NA)(Ce.objects,le,null);if(me){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!Ce.query)return(0,i.E2)(Ce.objects,le.objectName,null,le.propertyName),2;var be=this.updateFilterOutputForVisual(Ce.query,me,pe);return E.yl.isSameFilter(be,me)?0:be?((0,i.sO)(Ce.objects,le,null,be),1):((0,i.E2)(Ce.objects,le.objectName,null,le.propertyName),2)}return 0},He.prototype.updateFilterOutputForVisual=function(Ce,de,pe){var le=Ce.getUniqueQueryRefs();if(!_.isEmpty(le)){var me=new e.H,be=Ce.defn.select(),Be=_.map(le,function(We){return be.withName(We).expr.accept(me,pe)}).reduce(function(We,Oe){return We.concat(Oe)},[]);if(!_.isEmpty(Be)){for(var Se,ue=[],ve=0,xe=de.where();ve<xe.length;ve++){var ie=xe[ve],Fe=T.m.syncSQExprWithFilterIdenities(Be,ie.condition);Fe&&ue.push({target:ie.target,condition:Fe,annotations:ie.annotations})}return ue.length>0&&(Se=new E.yl(de.from(),ue)),Se}}},He.prototype.moveProjectionCore=function(Ce,de,pe){var le,me=Ce.singleVisual;if(!me||!me.query)return!1;var be=pe.sourceRole,Be=pe.targetRole,Se=pe.sourceIndex,Pe=pe.targetIndex,ue=pe.replacementExpressions,ve=pe.schema,xe=pe.allowPartialReplace,ie=(0,D.d9)(me),Fe=ie.query.getParameterByFieldIndex(Se,be);h.fF.assert(function(){return!!Fe||de.length>0},"No items specified to replace");var at=ie.query.defn.orderBy(),We=de;_.isEmpty(ue)||(We=_.map(ue,function(ce,Re){var Ge=We[Re];return Ge?{expr:ce,isFieldParameter:Ge.isFieldParameter,isHidden:Ge.isHidden}:{expr:ce}}));var Oe_getColumnPropertiesForExprs=function(de,pe){var le=[];if(pe.columnProperties)for(var me=0,be=de;me<be.length;me++){var Be=be[me],Se=pe.query.defn.selectNameOf(Be),Pe=pe.columnProperties[Se];Pe&&le.push({originalExpr:Be,columnProperty:Pe})}return le},Oe_applyColumnPropertiesByExpr=function(de,pe,le,me){var be=_.find(me,function(Se){return Se.originalExpr===de});if(be){var Be=le.query.defn.selectNameOf(pe);le.columnProperties[Be]||(le.columnProperties[Be]=be.columnProperty)}},Ze=Oe_getColumnPropertiesForExprs(_.map(We,function(ce){return ce.expr}),ie);if(!this.tryRemoveProjections(ie.query,ie.columnProperties,{role:be,projOptions:{fieldIndex:Se,parameter:Fe},count:de.length,shouldRemoveParameter:!0}))return!1;at.length>0&&ie.query.orderBy(at);var K=this.visualPluginService.capabilities(me.visualType),Ne=(0,B.F)().create(K,this.geoTaggingService,!(null===(le=me.query)||void 0===le||!le.isDrillDisabled));if(!Ne)return!1;var Y=Ne.roles.withName(Be);if(!Y)return!1;var ye=be===Be&&Pe===Se,rt=!1;if(ye){if(1===We.length&&T.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,ve,We[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!A.l.supportsFilterOutput(K),this.visualPluginOps.isAnalysisVisual(ie.visualType))&&!(rt=this.tryAdd(Ne,ie,!0,{expr:We[0].expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Pe}})))return!1}else if(Fe&&!(rt=this.tryAdd(Ne,ie,!0,{expr:Fe.expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Pe},hideOnOverflow:pe.hideOnOverflow})))return!1;if(!rt)for(var De=0;De<We.length;De++){var Le=We[De].expr,Xe=We[De];if(Xe.expr=this.aggregateIfNecessary(Xe.expr,Y,ve),Xe.isHidden=Xe.isHidden&&(0,ee.k)(Xe.expr),!this.tryAdd(Ne,ie,!1,{expr:Xe.expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Pe+De,nativeReferenceName:ye?void 0:We[De].nativeReferenceName,isHidden:Xe.isHidden},hideOnOverflow:pe.hideOnOverflow})){if(De>0&&xe)break;return!1}if(me.query.projections[be].showAll){var he=We[De].expr.getMetadata(ve);this.isShowAllRole(Y.kind)&&he&&1!==he.kind&&(ie.query.projections[Be].showAll=!0)}Oe_applyColumnPropertiesByExpr(Le,Xe.expr,ie,Ze)}return Ce.singleVisual=ie,this.visualAuthoringCustomizeOperations.customizeOptions(Ce.singleVisual,ve),He.clearConversionSourceContext(Ce.singleVisual),!0},He.prototype.aggregateIfNecessary=function(Ce,de,pe){return null!=(0,g._L)((0,y.Q)(Ce,pe))||de.kind!==l.DW.Measure||T.m.discourageAggregation(Ce,pe)?de.kind===l.DW.Grouping?(0,P.n)(Ce,pe):Ce:this.aggrOps.createExprWithAggregate(Ce,pe,!0,de.requiredTypes)},He.clearConversionSourceContext=function(Ce){Ce.conversionSourceContext=null},He.prototype.getConversionExprRoleList=function(Ce,de,pe,le,me,be,Be,Se){var Pe=this,ue=function(ie){for(var Fe=[],at=0,We=Ce;at<We.length;at++){var Oe=We[at];if(Oe.isFieldParameter)Fe.push({expr:Oe.expr,isFieldParameter:Oe.isFieldParameter,roleName:Oe.roleName});else{var Ee=ie(Oe.expr);Ee&&Fe.push({expr:Ee,nativeReferenceName:Oe.nativeReferenceName})}}if(!_.isEmpty(Fe))return Pe.getCompatRolesForExprs(Fe,de,pe,le,me,be,!0,Be,Se)},ve=this.getCompatRolesForExprs(Ce,de,pe,le,me,be,!1,Be,Se);return _.isEmpty(ve)&&(ve=ue(function(xe){return(0,ee.k)(xe)?xe:Pe.aggrOps.createExprWithAggregate(xe,le,!0,null)})),_.isEmpty(ve)&&(ve=ue(function(xe){return(0,ee.k)(xe)?(0,P.n)(xe,le):xe})),ve||[]},He.prototype.getCompatRolesForExprs=function(Ce,de,pe,le,me,be,Be,Se,Pe){for(var ue=[],ve=Se||{},xe=new N.W(O.Sd),ie=_.some(Ce,function(Ge){return(0,te.jX)(Ge.expr)}),Fe=0,at=Ce;Fe<at.length;Fe++){var We=at[Fe],Oe=void 0,Ze=We.expr,Ee=We.isFieldParameter,K=We.roleName,Ne=We.nativeReferenceName,Y=We.isHidden;K&&(Oe=de.roles.withName(K));var ye=this.getTargetRoleForConversion(We,de,pe),rt=ie&&(0,ee.k)(Ze),it=pe.findCompatibleRole({queryProjections:ve,schema:le,expr:Ze,targetRole:ye,preferDrillableRoles:!1,roleToExprMap:xe,useStrict:!0,isFieldParameter:Ee,sourceRole:Ee&&Oe,isHidden:Y,overflowIsWarning:rt}),Ue=it&&it.role,De=it&&it.error===a.zS.conditionRangeTooLarge;if(Ue&&(!De||rt)){var Xe=!!De||Y;Ue=this.ensureCorrectKeyInfluencersRole(me,Ue,void 0);var et=this.ensureCorrectSmallMultiplesRole(be,pe.capabilities,Ue,de.capabilities,K).name;if(!Ee){this.updateProjections(ve,et,Pe,Xe);var he=pe.getNumberRangesForRoles(ve);if(this.shouldUseVariation(Ze,le,et,Pe,he[et],_.size(Ce))){var Re=(0,x.ZB)(Ze);return ue.push({expr:Re,roleName:et,nativeReferenceName:Ne}),ue}}if(ue.push({expr:Ze,isFieldParameter:Ee,roleName:et,nativeReferenceName:Ne,isHidden:Xe}),Be)return ue}}return ue},He.prototype.shouldUseVariation=function(Ce,de,pe,le,me,be){if(!_.includes(le,pe)&&me&&me.max<be){var Be=(0,y.Q)(Ce,de);if(Be&&Be.columnHierarchyLevelVariation)return!0}return!1},He.prototype.getExpressionRoleMappings=function(Ce,de){return _.map(de,function(pe){return{expr:pe.expr,roleName:Ce.getRoleNameForExpr(pe.expr),isFieldParameter:pe.isFieldParameter,nativeReferenceName:pe.nativeReferenceName,isHidden:pe.isHidden}})},He.prototype.getTargetRoleForConversion=function(Ce,de,pe){if(!pe.hasPreferredTypes()){var le=Ce.roleName,be=de.capabilities,Be=pe.roles,Se=pe.capabilities,Pe=de.roles.withName(le),ue=Be.withName(le);if(Pe&&ue&&_.isEqual(Pe.kind,ue.kind)){var ve=this.getDataViewMappingConditions(be),xe=this.getDataViewMappingConditions(Se);if(!ve&&!xe||this.getDoesTargetRoleMatchSourceRole(le,ve,xe))return le}}},He.prototype.getDoesTargetRoleMatchSourceRole=function(Ce,de,pe){return de&&pe&&!de.some(function(le,me){var be=_.get(le,Ce,null),Be=_.get(pe[me],Ce,null);return be&&Be&&!_.isEqual(be,Be)})},He.prototype.getDataViewMappingConditions=function(Ce){var de=Ce.dataViewMappings&&Ce.dataViewMappings[0];return de&&de.conditions},He.prototype.updateProjections=function(Ce,de,pe,le){var me={queryRef:de,hidden:le},be=(0,r.cY)(Ce,de);be||(Ce[de]=be=new r.NQ([])),be.addProjection(me),_.includes(pe,de)&&be.addActiveQueryReference(be.all()[0].queryRef)},He.prototype.createConversionSourceContext=function(Ce,de,pe){return{query:Ce,visualType:de,syncGroup:pe}},He.prototype.convertDrillableRoles=function(Ce,de,pe,le,me){var be;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.S1)(pe)&&(be=(0,F.S1)(de)?Ce.isDrillDisabled:(0,F.dR)(pe));var Be=new L.g(Ce.defn.select([]),{},[],be),Se=(0,F.WO)(de,Ce.isDrillDisabled);return _.isEmpty(Se)?{query:Be,convertedFields:[]}:{query:Be,convertedFields:this.convertDrillableProjections(pe,le,Ce,me,Se,Be)}},He.prototype.convertDrillableProjections=function(Ce,de,pe,le,me,be){for(var Be=(0,F.WO)(Ce,be.isDrillDisabled),Se=[],Pe=0,ue=me;Pe<ue.length;Pe++){var xe=this.getQueryFieldsForRole(pe,ue[Pe],de);if(xe=this.convertDrillableFields(xe,le,Ce,be),Se=_.unionWith(Se,xe,L.g.isEqualQueryFields),_.isEmpty(Be))break}return be.ensureDrillableRoles(Be),Se},He.prototype.getQueryFieldsForRole=function(Ce,de,pe){return Ce.projections[de]?this.getQueryFields(pe,function(){return Ce.tryGetFieldExprs(de)}):[]},He.prototype.getUniqueQueryFields=function(Ce,de){return this.getQueryFields(de,function(){return Ce.getUniqueQueryFields()})},He.prototype.getQueryFields=function(Ce,de){var pe=de();if(this.visualPluginOps.isAnalysisVisual(Ce))for(var le=0,me=pe;le<me.length;le++)me[le].isFieldParameter=!1;return pe},He.prototype.convertDrillableFields=function(Ce,de,pe,le){for(var Fe,me=(0,B.F)().create(pe,this.geoTaggingService,le.isDrillDisabled),be=me.getNumberRangesForRoles(le),Be=(0,F.WO)(pe,le.isDrillDisabled),Se=_.isEmpty(Be),Pe=new N.W(O.Sd),ue=[],ve=[],xe=function(Ee){var K=Ee.expr,Ne=Ee.queryName,Y=Ee.nativeReferenceName,ye=Ee.isHidden;if((0,te.ez)(K)){var rt=(0,x.ZB)(Ee.expr);if(rt&&_.find(ve,function(ce){return(0,J.fS)(ce,rt)}))return ue.push(Ee),"continue"}var it=me.findCompatibleRole({queryProjections:le.projections,schema:de,expr:K,preferDrillableRoles:!0,roleToExprMap:Pe,useStrict:!0,isFieldParameter:Ee.isFieldParameter}),Ue=it&&it.role;if(Ue){var De=Ue.name,Le=be[De],Xe=-1;if(Ee.isFieldParameter)Xe=le.addParameter(K,Ue.name),ue.push(Ee);else{var et=le.projections[De];if(Se&&et&&(Fe=et.all().length,Le&&Le.max&&Le.max<=Fe))return"continue";if(ie.shouldUseVariation(Ee.expr,de,Ue.name,Be,Le,_.size(Ce))){var he=(0,x.ZB)(Ee.expr);return ve.push(he),Xe=le.add(he,De,{exprName:Ne,nativeReferenceName:Y}),"continue"}Xe=le.add(K,De,{exprName:Ne,nativeReferenceName:Y,isHidden:ye})}Xe>-1&&ue.push(Ee)}},ie=this,at=0,We=Ce;at<We.length;at++)xe(We[at]);return ue},He.prototype.tryRemove=function(Ce,de,pe,le){return function(He){return void 0!==He.role}(pe)?this.tryRemoveProjections(Ce,de,pe):!!function(He){return void 0!==He.expr}(pe)&&this.tryRemoveExpressions(Ce,pe,le)},He.prototype.tryRemoveExpressions=function(Ce,de,pe){var le,me=!1,be=de.fieldParameter;if(_.isArray(de.expr))for(var Be=0,Se=de.expr;Be<Se.length;Be++)me=Ce.removeExpr(Se[Be],!!de.ignoreAggregates,pe,null==be?void 0:be.expr)||me;else me=Ce.removeExpr(de.expr,!!de.ignoreAggregates,pe,null==be?void 0:be.expr);return de.shouldRemoveParameter&&be&&0===(null!==(le=be.length)&&void 0!==le?le:0)&&(me=Ce.removeParameter(be)||me),me},He.prototype.tryRemoveProjections=function(Ce,de,pe){var le,me=pe.role,be=pe.projOptions.parameter,Be=!1;if(be)Be=this.removeParameterProjections(Ce,de,be,me,pe.shouldRemoveParameter,pe.projOptions.indexInParameter);else for(var ue=pe.projOptions.fieldIndex,xe=(null!==(le=pe.count)&&void 0!==le?le:1)-1;xe>=0;xe--)if(!(Be=this.removeProjection(Ce,de,me,{fieldIndex:ue})))return!1;return Be},He.prototype.removeParameterProjections=function(Ce,de,pe,le,me,be){var Be,Se,Pe=!1;if(null!=be)Pe=this.removeProjection(Ce,de,le,{parameter:pe,indexInParameter:be});else for(var xe=(null!==(Be=pe.length)&&void 0!==Be?Be:0)-1;xe>=0;xe--)if(!(Pe=this.removeProjection(Ce,de,le,{parameter:pe,indexInParameter:xe})))return!1;return me&&0===(null!==(Se=pe.length)&&void 0!==Se?Se:0)&&(Pe=Ce.removeParameterByRoleName(pe,le)||Pe),Pe},He.prototype.removeProjection=function(Ce,de,pe,le){var me=Ce.getQueryRef(pe,le),be=Ce.removeProjection(pe,le);return me&&!Ce.isUsed(me)&&de&&de[me]&&delete de[me],be},He.prototype.tryAddWithUndefinedQuery=function(Ce,de,pe,le){var me=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.dR)(Ce.capabilities);de.query=new L.g(E.vQ.create(),{},[],me);var be=this.tryAdd(Ce,de,pe,le);return be||(de.query=void 0),be},He.prototype.tryAdd=function(Ce,de,pe,le){var me;h.fF.assertValue(Ce,"capabilitiesHelper"),h.fF.assertValue(de,"config"),h.fF.assertValue(le,"options");var be=le.expr;h.fF.assertValue(be,"expr");var Be=new N.W(O.Sd),Se=!1,Pe=le.projOptions;if(_.isArray(be))for(var ue=Pe&&Pe.fieldIndex,ve=0,xe=be;ve<xe.length;ve++)Se=null!=this.tryAddQuery(Ce,de,le,xe[ve],Pe,Be,pe)||Se,null!=ue&&Pe.fieldIndex++;else if(null==this.tryAddQuery(Ce,de,le,be,Pe,Be,pe))return!1;if(!pe){var Fe=(0,F.WO)(Ce.capabilities,!(null===(me=de.query)||void 0===me||!me.isDrillDisabled));if(de.query.ensureDrillableRoles(Fe),_.isArray(be))return Se}return!0},He.prototype.tryAddQuery=function(Ce,de,pe,le,me,be,Be){h.fF.assertValue(Ce,"capabilities"),h.fF.assertValue(de,"config"),h.fF.assertValue(le,"expr"),h.fF.assertValue(de,"query");var Se=me&&me.isHidden,Pe=Ce.findCompatibleRole({queryProjections:de.query.projections,schema:pe.schema,expr:le,preferDrillableRoles:!1,roleToExprMap:be,targetRole:pe.targetRole,isFieldParameter:Be,overflowIsWarning:pe.hideOnOverflow,isHidden:Se});if(Pe&&Pe.role){var ue=Pe.error;if(!(ue===a.zS.conditionRangeTooLarge&&Se||this.tryHideOnOverflow(Pe.role.name,de.query,ue)))return;var ve=this.ensureCorrectKeyInfluencersRole(de.visualType,Pe.role,pe.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!Ve(ve,de,Ce.capabilities)&&(ve=this.ensureCorrectSmallMultiplesRole(de,Ce.capabilities,ve,void 0,void 0)),!Ce.validateDuplicateColumnsInRole(ve,le,de.query,Be))return;var xe=ve.name,ie=void 0;if(Be)ie=de.query.addParameter(le,xe,me&&me.fieldIndex);else{var Fe=null==me?{}:Object.assign({},me);null==Fe.nativeReferenceName&&(Fe.nativeReferenceName=this.displayNameService.createUniqueNativeReference(le,pe.schema,de.query,Ce.capabilities,void 0)),ie=de.query.add(le,xe,Fe)}return this.ensureDependentObjectDefn(Ce.objectDescs,xe,de),be.add(le,ve),ie}},He.prototype.tryHideOnOverflow=function(Ce,de,pe,le){if(!pe)return!0;if(pe===a.zS.conditionRangeTooLarge){var me=de.tryGetFieldExprs(Ce);if(_.isEmpty(me))return!1;for(var be=0;be<me.length;be++){var Be=me[be];if((!_.isNumber(le)||le!==be)&&!Be.isFieldParameter&&(0,ee.k)(Be.expr)&&!Be.isHidden)return this.toggleHidden(de,Ce,be),!0}}return!1},He.prototype.generateNativeReferenceNameForOperation=function(Ce,de){var pe=de.singleVisual.query.getQueryRefByProjectionIndex(Ce.role,Ce.index);if(null==pe)return h.fF.assertFail("queryRef does not exist while role ".concat(Ce.role,", projection index ").concat(Ce.index)),"";var le=de.singleVisual.query.defn.select().withName(pe),me=this.visualPluginService.capabilities(de.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(le.expr,Ce.schema,de.singleVisual.query,me,pe)},He.prototype.captureCurrentActiveProjectionsByRole=function(Ce){if(Ce){var de=this.visualPluginService.capabilities(Ce.config.singleVisual.visualType),pe=Ce.config.singleVisual.query;if(pe){var le={};if(de&&de.expandAndSort)return de.expandAndSort.forEach(function(me){var be=(0,r.cY)(pe.projections,me);!be||!be.activeProjectionRefs||(le[me]={projectionName:_.last(be.activeProjectionRefs),currentPosition:be.activeProjectionRefs.length,totalNumberOfProjections:be.getQueryRefs().length})}),le}}},He.prototype.ensureCorrectKeyInfluencersRole=function(Ce,de,pe){return Ce!==re.D.keyDriversVisual||de.name!==s.qG.details||pe?de:_.find((0,s.yM)().dataRoles,function(le){return le.name===s.qG.explainBy})},He.prototype.ensureCorrectSmallMultiplesRole=function(Ce,de,pe,le,me){var be;return null!==(be=this.featureSwitchService.featureSwitches)&&void 0!==be&&be.cartesianMultiplesAuthoring||!(0,f.qU)(null==de?void 0:de.dataViewMappings)||pe.name!==c.x.rows||le&&me===c.x.rows&&(0,f.qU)(null==le?void 0:le.dataViewMappings)||Ce.hasUsedSmallMultiples?pe:_.find(de.dataRoles,function(Be){return Be.name===c.x.category})},He.prototype.ensureDependentObjectDefn=function(Ce,de,pe){if(Ce)for(var le in Ce){var me=Ce[le];for(var be in me.properties){var Be=me.properties[be];if(Be.rule&&Be.rule.inputRole===de){var Se=pe.objects;Se||(Se=pe.objects={});var Pe=(0,i.zx)(Se,le,null);Pe.properties[be]||(Pe.properties[be]=this.createDefaultDefinition(Be.type))}}}},He.prototype.createDefaultDefinition=function(Ce){if(Ce.fillRule)return(0,v.yw)()},He.prototype.getSourceShowAllInfo=function(Ce){for(var de={},pe=0,le=_.values(Ce);pe<le.length;pe++)for(var me=le[pe],be=me.showAll,Be=0,Se=me.all();Be<Se.length;Be++)de[Se[Be].queryRef]=be;return de},He.prototype.updateTargetShowAllInfo=function(Ce,de,pe){for(var le=this.getSourceShowAllInfo(Ce.query.projections),me=0,be=_.keys(de.projections);me<be.length;me++){var Be=be[me],Se=pe.roles.withName(Be).kind;if(this.isShowAllRole(Se))for(var Pe=0,ue=de.projections[Be].all();Pe<ue.length;Pe++){var xe=le[ue[Pe].queryRef];xe&&(de.projections[Be].showAll=xe)}}},He.prototype.isShowAllRole=function(Ce){return Ce===l.DW.Grouping||Ce===l.DW.GroupingOrMeasure},He.prototype.shouldDefaultExpandSort=function(Ce,de,pe){return _.includes(de,Ce)&&pe>1},He.prototype.setDrillMode=function(Ce,de,pe){pe.setDrillMode(Ce,de)},He}()},608794:function(Je,H,t){t.d(H,{F:function(){return u}});var e=t(226514),c=t(456535),s=t(474147);function f(V,d){return null==V||isNaN(V)?d:null==d||isNaN(d)?V:Math.min(V,d)}function v(V,d){return null==V||isNaN(V)?d:null==d||isNaN(d)?V:Math.max(V,d)}var b=t(883863),h=t(787941),p=t(145315),n=t(283427),l=t(722089),r=t(597098),a=(t(324356),t(592042)),i=t(277632),m=t(571330);function u(){var d=i.g,S=a.Ge;function g(T){return T&&T.geography&&(T.geography.latitude||T.geography.longitude)}function y(T){return _.some(T.preferredTypes,function(x){return g(x)||x.numeric})}function C(T){return 0===T.cartesianKind||1===T.cartesianKind}var E=function(){function T(x,R,D,L){h.fF.assertValue(x,"capabilities"),h.fF.assertValue(R,"roles"),h.fF.assertAnyValue(D,"objectDescs"),h.fF.assertValue(L,"roleMappings"),this.capabilities=x,this.roles=R,this.objectDescs=D,this.roleMappings=L}return T.prototype.findCompatibleRole=function(x){h.fF.assertValue(x.queryProjections,"config"),h.fF.assertValue(x.schema,"schema"),h.fF.assertValue(x.expr,"expr"),h.fF.assertAnyValue(x.targetRole,"targetRole"),h.fF.assertAnyValue(x.roleToExprMap,"roleToExprMap");var R=x.expr,D=x.roleToExprMap,L=x.targetRole,F=x.preferDrillableRoles;if((0,c.ez)(R)){F=!0;var A=this.getExistingTargetRoleForHierarchyLevelIfAny(R,D);if(A){if(L&&L!==A.name)return;L=A.name}}var N,O=(0,r.Q)(R,x.schema);O&&(N=O.column||O.columnAggr||O.groupingColumn||O.groupingColumnAggr||O.measure);var w={projections:x.queryProjections,metadata:R.getMetadata(x.schema),columnName:N?N.name:void 0,preferDrillableRoles:F,targetRole:L,isFieldParameter:x.isFieldParameter,useStrict:x.useStrict,sourceRole:x.sourceRole,overflowIsWarning:x.overflowIsWarning,isHidden:x.isHidden},I=this.findRole(w);if(!I||!_.isEmpty(null==I?void 0:I.error)){w.preferDrillableRoles=!x.preferDrillableRoles;var B=this.findRole(w);_.isEmpty(null==B?void 0:B.error)&&(I=B)}return I&&D&&D.add(R,I.role),I},T.prototype.findRole=function(x){var D,R=this.roleMappings;if(!_.isEmpty(R)){for(var L=R[0].getValueType(x.metadata?x.metadata.type:void 0,x.columnName),F=this.roles.allRolesWithPreference(L?L.extendedType:void 0,x.projections,x.preferDrillableRoles,x.useStrict,x.sourceRole),O=0,N=x.targetRole?[x.targetRole]:F;O<N.length;O++)for(var w=N[O],I=0,B=R;I<B.length;I++){var W=B[I].checkRoleCompatibility(x,w,F);if(W&&!W.error)return W;W&&(D=W)}return D}},T.prototype.getExistingTargetRoleForHierarchyLevelIfAny=function(x,R){return h.fF.assertValue(R,"roleToExprMap"),R.get(x)},T.prototype.orderByRolePreferences=function(x,R){h.fF.assertValue(x,"schema"),h.fF.assertValue(R,".orderRoleByPreferences - fields is undefined");for(var D=this.roles.defns,L=0,F=R.length,A=0,O=D.length;A<O;A++){var N=D[A].preferredTypes;if(!_.isEmpty(N))for(var w=L;w<F;w++){var I=R[w],j=I.expr.getMetadata(x);if(j){var W=j.type;if(W)for(var U=0,k=N.length;U<k;U++)if(W.extendedType===S.fromDescriptor(N[U]).extendedType){R.splice(w,1),R.splice(L,0,I),L++;break}}}}},T.prototype.getNumberRangesForRoles=function(x){var D,R=_.map(this.roles.defns,function(re){return re.name});h.fF.assertValue(D=x instanceof d?x.projections:x,"projectionsByRole");for(var L={},F=0,A=R;F<A.length;F++)L[O=A[F]]={min:1/0,max:0};for(var w=0,I=_.filter(this.roleMappings,function(re){return void 0===re.verifyMappingConditions({projections:D,roleNames:R,preferDrillableRoles:!0,ignoreMin:!0})});w<I.length;w++)for(var j=I[w].getCondition(),W=0,U=R;W<U.length;W++){var Q,O=U[W],k=j&&j[O];Q=k?{min:v(k.min,0),max:f(k.max,1/0)}:{min:0,max:1/0},(te=L[O]).min=Math.min(Q.min,te.min),te.max=Math.max(Q.max,te.max)}for(var ee=0,J=_.values(L);ee<J.length;ee++){var te;(te=J[ee]).min=Math.min(te.min,te.max)}return L},T.prototype.getNonLatLongRoles=function(){var x=this.getLatLongRoleNames();return this.getFilteredRoleNames(x)},T.prototype.getFilteredRoleNames=function(x){for(var L=[],F=0,A=this.capabilities.dataViewMappings;F<A.length;F++){var O=A[F];O.categorical&&(0,l.Sr)(O.categorical.categories,{visitRole:function(I){L.push(I)}}),O.matrix&&(0,l.Ay)(O.matrix.rows,{visitRole:function(I){L.push(I)}})}return _.without.apply(_,(0,e.__spreadArray)([_.uniq(L)],x||[],!1))},T.prototype.getLatLongRoleNames=function(){return this.getRoleNames(function(x){return y(x)})},T.prototype.getCartesianGroupingOrMeasureRoleNames=function(){return this.getRoleNames(function(x){return C(x)})},T.prototype.getRoleNames=function(x){return _.chain(this.capabilities.dataRoles).filter(x).map(function(R){return R.name}).value()},T.prototype.hasPreferredTypes=function(){return _.some(this.capabilities.dataRoles,function(x){return!_.isEmpty(x.preferredTypes)})},T.prototype.validateDuplicateColumnsInRole=function(x,R,D,L){if(h.fF.assertValue(x,"targetRole"),h.fF.assertValue(R,"expr"),h.fF.assertValue(D,"VisualQuery"),!x.noDuplicates)return!0;var F=x.name,A=D.projections;if(A&&A[F]){var O=void 0;if(L){var j=A[F].getFieldParameters(),W=_.map(j,function(U){return U.expr});O=_.some(W,function(U){return(0,s.fS)(R,U)})}else{var N=A[F].all(),w=_.map(N,function(U){return U.queryRef}),I=D&&D.defn&&D.defn.select(),B=_.map(w,function(U){return I.withName(U).expr});O=_.some(B,function(U){return(0,s.fS)(R,U)})}return!O}return!0},T}(),M=function(){function T(x,R,D,L){h.fF.assertValue(x,"roles"),this.roles=x,this.geoTaggingService=R,this.condition=L,this.drillableRoles=D}return T.prototype.getCondition=function(){return this.condition},T.prototype.checkRoleCompatibility=function(x,R,D){if(h.fF.assertValue(x.projections,"projections"),h.fF.assertAnyValue(x.metadata,"metadata"),x.metadata){var L=this.roles.withName(R);if(L){if(x.isFieldParameter)return{role:L};var F=(0,n.sw)(R,x.projections);x.isHidden||F++;var A=this.validateRoleCompatibility(L,x.metadata,F,x.preferDrillableRoles),O=A?{code:A,roleName:R}:void 0;if(!O&&!this.verifyMappingConditions({projections:x.projections,roleNames:_.without(D,R),preferDrillableRoles:x.preferDrillableRoles,ignoreMin:!1}))return{role:L};if(O&&O.roleName===R&&O.code===n.zS.conditionRangeTooLarge&&x.overflowIsWarning)return{role:L,error:O.code}}}},T.prototype.getValueType=function(x,R){if(x&&null==x.categoryString){var D=R&&this.geoTaggingService.getFieldType(R);null!=D&&(x=S.fromPrimitiveTypeAndCategory(x.primitiveType,D))}return x},T.prototype.verifyMappingConditions=function(x){h.fF.assertValue(x.projections,"projections"),h.fF.assertValue(x.roleNames,"roleNames");for(var R=0,D=x.roleNames;R<D.length;R++){var L=D[R],F=this.roles.withName(L);if(!F)return{code:"roleDoesNotExist",roleName:L};var A=(0,n.sw)(L,x.projections),O=this.validateRange({count:A,roleName:F.name,preferDrillableRoles:x.preferDrillableRoles,ignoreMin:x.ignoreMin});if(O)return{code:O,roleName:L}}},T.prototype.validateRoleCompatibility=function(x,R,D,L){var F,A;h.fF.assertValue(x,"roleInfo"),h.fF.assertValue(R,"exprMetadata");var O=x.kind;if(1===R.kind){if(O===p.DW.Grouping)return n.zS.conditionKindExpectedGrouping}else if(O===p.DW.Measure)return n.zS.conditionKindExpectedMeasure;var N=x.requiredTypes;return N&&!S.isCompatibleTo(R.type,N)?"exprTypeMismatch":null!==(A=null===(F=R.type)||void 0===F?void 0:F.misc)&&void 0!==A&&A.sparkline&&!x.supportsSparklines?"sparklineSupportMismatch":this.validateRange({count:D,roleName:x.name,preferDrillableRoles:L,ignoreMin:!1})||void 0},T.prototype.isRoleDrillable=function(x){return _.includes(this.drillableRoles,x)&&(!this.condition[x]||void 0===this.condition[x].max||1===this.condition[x].max)},T.prototype.validateRange=function(x){if(this.condition&&(!x.preferDrillableRoles||!this.isRoleDrillable(x.roleName))){var R=this.condition[x.roleName];return R?(0,n.JU)(x.count,R,x.ignoreMin):void 0}},T}(),P=function(){function T(x){h.fF.assertValue(x,"roles"),this.defns=x}return T.prototype.withName=function(x){return(0,b.rC)(this.defns,x)},T.prototype.allRolesWithPreference=function(x,R,D,L,F){var A=this,O=_.map(this.defns,function(N){return N.name});return F?this.promoteAndPenalize(O,function(N){return A.getRoleWeight(F,N)}):this.promoteAndPenalize(O,function(N){return A.getTypeWeightForRole(x,N.preferredTypes)},L),this.promoteAndPenalize(O,function(N){return A.getProjectionWeightForRole(N,R,D)}),O},T.prototype.promoteAndPenalize=function(x,R,D){for(var L=0,F=0,A=this.defns;F<A.length;F++){var O=A[F],N=R(O);if(null!=N){var w=x.splice(x.indexOf(O.name),1)[0];N!==T.penalize||D?N===T.promote&&x.splice(L++,0,w):x.push(w)}}},T.prototype.getRoleWeight=function(x,R){return x.kind===R.kind||this.hasCommonTypes(x.requiredTypes,R.requiredTypes)||this.hasCommonTypes(x.requiredTypes,R.preferredTypes)||this.hasCommonTypes(x.preferredTypes,R.requiredTypes)||this.hasCommonTypes(x.preferredTypes,R.preferredTypes)?T.promote:T.penalize},T.prototype.hasCommonTypes=function(x,R){return!_.isEmpty(x)&&!_.isEmpty(R)&&!_.isEmpty(_.intersectionWith(x,R,_.isEqual))},T.prototype.getTypeWeightForRole=function(x,R){if(R){for(var D=T.penalize,L=0,F=R;L<F.length;L++)if(x===S.fromDescriptor(F[L]).extendedType){D=T.promote;break}return D}},T.prototype.getProjectionWeightForRole=function(x,R,D){var L=R[x.name],F=L&&L.projected();if(!D&&!_.isEmpty(F)&&x.kind!==p.DW.Measure||D&&x.kind===p.DW.Measure)return T.penalize},T.penalize=-1,T.promote=1,T}();return{create:function(x,R,D){if(h.fF.assertAnyValue(x,"capabilities"),x&&!_.isEmpty(x.dataRoles)){for(var L=x.dataViewMappings,F=new P(x.dataRoles),A=[],O=0,N=L;O<N.length;O++){var I=N[O].conditions;if(_.isEmpty(I))A.push(new M(F,R,(0,m.WO)(x,D)));else for(var B=0,j=I;B<j.length;B++){var W=j[B];A.push(new M(F,R,(0,m.WO)(x,D),W))}}return new E(x,F,x.objects,A)}},dataRoleWrapper:function(x){return new P(x)},isValueTypeDescriptorLatLong:g,isRoleCompatibleWithLatLong:y,isRoleCompatibleWithScatterXY:C}}},619588:function(Je,H,t){t.d(H,{I:function(){return s}});var e=t(787941),c=t(620108);function s(v){return new f(v)}var f=function(){function v(b){this.visualPlugins=b,e.fF.assertValue(this.visualPlugins,"visualPlugin")}return v.prototype.hasFilterCapabilities=function(b){var h=this.visualPlugins.getPlugin(b);return!!(h&&h.capabilities&&h.capabilities.objects&&(0,c.MD)(h.capabilities.objects))},v}()},962622:function(Je,H,t){t.d(H,{w:function(){return C}});var e=t(226514),c=t(782504),s=t(95788),f=t(338780),v=t(379139),b=t(325333),h=t(787941),p=t(16062),n=t(189950),l=t(144900),r=t(927928),o=t(876128),a=t(431325),i=t(926201),m=t(658353),u=t(577982),V=t(809395),d=t(400455),S=t(1745),g=t(312088),y=t(961046);function C(M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U,k,Q,te,ee,J,re){return new E(M,P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U,re,J,k,Q,te,ee)}var E=function(){function M(P,T,x,R,D,L,F,A,O,N,w,I,B,j,W,U,k,Q,te,ee,J,re,G){this.queryExecutionServices=P,this.hostServices=T,this.promiseFactory=x,this.conceptualSchemaProxy=R,this.featureSwitchService=D,this.telemetryService=L,this.visualQueryGenerator=F,this.visualPlugin=A,this.visualPluginOps=O,this.filterGenerator=N,this.displayNameService=w,this.explorationNavigation=I,this.visualValidationService=B,this.resourceLoader=j,this.eventBridge=W,this.dataProxyService=U,this.dataSources=k,this.visualLifecycleService=Q,this.resourceRegistration=te,this.cachePolicyProviderService=ee,this.visualInsightsAnalysisHandler=J,this.visualParameterService=re,this.visualDataProxyExecutionService=G}return M.prototype.attach=function(P){this.queryExecutionServices=P},M.prototype.cancelQuery=function(P){this.visualDataProxyExecutionService.cancelQuery(P),this.visualParameterService.cancelResolve(P)},M.prototype.generateApplicationContext=function(P,T){var x,R,D=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,L=D&&D.objectId;return{DatasetId:null===(R=null===(x=this.dataSources.get().filter(function(A){return!!A.dsr})[0])||void 0===x?void 0:x.dsr)||void 0===R?void 0:R.dbName,Sources:[{ReportId:L,Operation:P,VisualId:T&&T.name}]}},M.prototype.runQuery=function(P){var D,T=this,x=(0,d.O)(P.performanceActivity,m.V6,this.telemetryService),R=P.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(D=this.startResolveParametersPerformanceActivity(R));var L=this.startQueryPerformanceActivity(R),F=this.dataSources.get(),A=P.contract,O=A.config.singleVisual,N=O.query&&O.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(A)||!(P.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(O,F)||this.visualParameterService.shouldExecute(O,F)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,D,L),L&&L.queryActivity.resolve(),x&&x.resolve(),!1;this.queryExecutionServices.notifyStart(L&&L.telemetryActivity),D&&D.setProperty("start",(0,p.z)());var B=this.resolveQueryParameters(P,D);return(this.visualInsightsAnalysisHandler.supportsInsights(A)?B.then(function(j){if((j.queryChange||j.aliasChange)&&T.queryExecutionServices.applyResolveParametersUpdate(),T.featureSwitchService.featureSwitches.resolveParametersEvent&&T.transitionResolveParametersToQuery(!0,D,L),!N||T.visualQueryGenerator.shouldExecute(O,F))return T.visualInsightsAnalysisHandler.runInsights(A).then(function(W){if(W){if(W.error)throw W.error;W.queryExecutionOptions&&_.merge(P,W.queryExecutionOptions)}return T.runQueryImpl(P,F,A,L,W&&W.warnings)})}):B.then(function(j){if((j.queryChange||j.aliasChange)&&T.queryExecutionServices.applyResolveParametersUpdate(),T.featureSwitchService.featureSwitches.resolveParametersEvent&&T.transitionResolveParametersToQuery(!0,D,L),!N||T.visualQueryGenerator.shouldExecute(O,F))return T.runQueryImpl(P,F,A,L,void 0)})).catch(function(j){T.queryExecutionServices.handleErrors(j,L)}).finally(function(){T.queryExecutionServices.notifyEnd(),x&&x.resolve()}),!0},M.prototype.transitionResolveParametersToQuery=function(P,T,x){T&&T.isRunning()&&(x&&x.queryActivity.isRunning()&&x.queryActivity.setProperty("start",(0,p.z)()),P&&T.getProperty("metadataParameterCount")>0?T.resolve():T.cancel(!0))},M.prototype.resolveQueryParameters=function(P,T){var x=this,R=this.dataSources.get();return this.conceptualSchemaProxy.get(R).then(function(D){var L=x.generateApplicationContext(P.queryOperation,P.contract),F=x.getDatasetCacheOptions(P,R,!1),A={dataSources:R,schema:D,additionalFilters:x.hostServices.getFilters(x.filterGenerator,D),config:P.contract.config.singleVisual,cacheOptions:F,allowResultFromClientCache:P.allowResultFromClientCache,applicationContext:L,cacheResponseOnServer:P.cacheResponseOnServer,visual:P.contract,performanceActivity:T,metricsKind:P.executionMetricsKind};return x.visualParameterService.resolve(A)})},M.prototype.runQueryImpl=function(P,T,x,R,D){var L=this;!P.initialLoad&&this.hostServices&&this.updateCachedData(P);var O,N,F=this.getDatasetCacheOptions(P,T,!0),A=P.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;A&&(O=this.startVisualFirstLoadTelemetryEvent(F,T,x.name,R&&R.telemetryActivity)),N=this.generateApplicationContext(P.queryOperation,x);var w=this.visualDataProxyExecutionService.runQuery({dataSources:T,contract:x,viewport:P.viewport,hostServices:this.hostServices,initialLoad:P.initialLoad,useVisualContainerCache:P.useVisualContainerCache,preferCurrentData:P.preferCurrentData,allowResultFromClientCache:P.allowResultFromClientCache,cacheResponseOnServer:P.cacheResponseOnServer,cacheResponseOnContract:P.cacheResponseOnContract,cacheOptions:F,clientCacheOnly:P.clientCacheOnly,visualFirstLoadEvent:O,performanceActivity:R&&R.queryActivity,executionMetricsKind:P.executionMetricsKind,canDefer:P.canDefer,requestPriority:P.requestPriority,applicationContext:N,windowExpansionTransform:P.windowExpansionTransform,skipShouldRunQueryVerification:P.skipShouldRunQueryVerification,previewGate:P.previewGate}),I=x.config.singleVisual.visualType,j=this.loadResourcePackageReferences(I,x.config.singleVisual.objects);P.geocodingTracker&&P.geocodingTracker.newQuery(R&&R.rootActivity);var W=!1;return w.previewPromise.then(function(U){U&&!W&&L.resolveResourcePackageReferences(I,U.dataProxyQuery.transforms.objects,R&&R.rootActivity).then(function(k){L.handleQueryResult(x,U.result,U.dataProxyQuery,k,null,null,!0,R,D)})},function(U){h.fF.assert(function(){return U.ignorable},"Preview promise should be rejected with ignorable errors only")}),w.finalPromise.then(function(U){var k=U&&U.result&&U.result.dataReaderResult,Q=!!(F&r.U.AllowCache);k&&Q&&O&&(O.event.info.cacheResultFromServer=U.result.dataReaderResult.fromCache);var te=L.getLastRefreshTime(T);if(Q&&k&&L.isResultStale(te,U.result.dataReaderResult.timestamp)){var J=r.U.AllowQuery|r.U.CacheResult;return J=F&r.U.PreventRefresh?J|r.U.PreventRefresh:J,O&&(O.event.info.staleCacheResultFromServer=!0),L.visualDataProxyExecutionService.runQuery({dataSources:T,contract:x,viewport:P.viewport,hostServices:L.hostServices,initialLoad:P.initialLoad,useVisualContainerCache:!1,preferCurrentData:P.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:J,visualFirstLoadEvent:O,performanceActivity:R&&R.queryActivity,executionMetricsKind:P.executionMetricsKind,requestPriority:P.requestPriority,canDefer:P.canDefer}).finalPromise}return U}).then(function(U){return j.then(function(){L.processQueryResult(P,U,R,D)})}).finally(function(){W=!0,A&&O&&O.resolve()})},M.prototype.startQueryPerformanceActivity=function(P){if(P&&P.isRunning())return{rootActivity:P,queryActivity:P.createChildActivity({name:"Query"}),telemetryActivity:this.telemetryService.getOpenActivityById(P&&P.getProperty("telemetryActivityId"))}},M.prototype.startResolveParametersPerformanceActivity=function(P){if(P)return P.createChildActivity({name:"Resolve Parameters"})},M.prototype.startVisualFirstLoadTelemetryEvent=function(P,T,x,R){var F,D=!!(P&r.U.AllowCache),L=(0,V.L2)(T);return F=R?this.telemetryService.startChildEvent(R.event,m.II,{onPrem:L,isServerCacheEligible:D,visualName:x}):this.telemetryService.startEvent(m.II,{onPrem:L,isServerCacheEligible:D,visualName:x}),(0,g.TW)(F.event,this.explorationNavigation),F},M.prototype.getCachedQueryOrGenerate=function(P){return(0,e.__awaiter)(this,void 0,l.J,function(){var T,x,R;return(0,e.__generator)(this,function(D){switch(D.label){case 0:if(T=(0,d.O)(P.performanceActivity,m.v$,this.telemetryService),x=this.dataProxyService.lastExecutedQuery())return this.cachedQueryResult=void 0,[2,x];D.label=1;case 1:return D.trys.push([1,,4,5]),(R=this.cachedQueryResult)?[3,3]:[4,this.generateQuery(P)];case 2:R=D.sent(),D.label=3;case 3:return[2,R];case 4:return T&&T.resolve(),[7];case 5:return[2]}})})},M.prototype.generateQuery=function(P){return(0,e.__awaiter)(this,void 0,n.I,function(){var T,x,D;return(0,e.__generator)(this,function(L){switch(L.label){case 0:return T=this.dataSources.get(),[4,this.conceptualSchemaProxy.get(T)];case 1:return x=L.sent(),D=this.visualDataProxyExecutionService.generateQuery({dataSources:T,schema:x,config:P.contract.config.singleVisual,hostServices:this.hostServices,visualQueryGenerator:this.visualQueryGenerator,executionType:0,preferCurrentData:null==P.preferCurrentData||P.preferCurrentData,viewport:P.viewport,allowResultFromClientCache:null==P.allowResultFromClientCache||P.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:P.performanceActivity,executionMetricsKind:P.executionMetricsKind}),this.cachedQueryResult=this.dataProxyService.lastExecutedQuery()?void 0:D,[2,D]}})})},M.prototype.updateCachedData=function(P){return(0,e.__awaiter)(this,void 0,l.J,function(){var T,x,R;return(0,e.__generator)(this,function(D){switch(D.label){case 0:return!1===P.cacheResponseOnContract?[2]:[4,this.generateQuery((0,e.__assign)((0,e.__assign)({},P),{performanceActivity:void 0}))];case 1:return T=D.sent(),x=P.contract,T&&!T.error&&x.cachedData?(x.cachedData.dataUpdatedTime=void 0,R=this.visualPlugin.capabilities(x.config.singleVisual.visualType),x.cachedData.transformsObject=s.F.serializeDataViewTransformActions(T.transforms,R.objects),x.cachedData.queryObject=T.options.query.command,x.cachedData.dataObject=void 0,[2]):[2]}})})},M.prototype.loadMoreData=function(P){var T=this,x=this.startQueryPerformanceActivity(P.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(P,x).then(function(R){R&&T.mergeMoreData(R.result,R.dataProxyQuery,P.currentData,R.performanceActivityContext)}).catch(function(){x&&x.queryActivity.reject()}).finally(function(){T.queryExecutionServices.notifyEnd()})},M.prototype.canLoadMoreData=function(){return this.visualDataProxyExecutionService.canLoadMoreData()},M.prototype.loadWindow=function(P){var T=this,x=this.startQueryPerformanceActivity(P.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:P.contract,hostServices:this.hostServices,viewport:P.viewport,useVisualContainerCache:P.useVisualContainerCache,performanceActivity:null==x?void 0:x.queryActivity,executionMetricsKind:P.executionMetricsKind,windowExpansionState:P.windowExpansionState}).then(function(R){T.handleLoadMoreDataWarnings(R&&R.result,R&&R.dataProxyQuery),T.processQueryResult(P,R,x,void 0)}).catch(function(R){T.queryExecutionServices.handleErrors(R),x&&x.queryActivity.reject()}).finally(function(){T.queryExecutionServices.notifyEnd()})},M.prototype.getNextDataSegment=function(P,T){var x=this,R=T||this.startQueryPerformanceActivity(P.performanceActivity),D=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:P.contract,hostServices:this.hostServices,viewport:P.viewport,useVisualContainerCache:P.useVisualContainerCache,performanceActivity:null==R?void 0:R.queryActivity,executionMetricsKind:P.executionMetricsKind}).then(function(L){x.handleLoadMoreDataWarnings(L&&L.result,L&&L.dataProxyQuery);var F=L;R&&(F=(0,e.__assign)((0,e.__assign)({},F),{performanceActivityContext:R})),D.resolve(F)},function(L){x.queryExecutionServices.handleErrors(L),R&&R.queryActivity.reject(),D.reject(L)}):(R&&R.queryActivity.reject(),D.reject("Cannot load more data")),D.promise},M.prototype.reloadDataSegment=function(P,T){var x=P.currentData&&P.currentData.dataView&&P.currentData.dataView.matrix&&P.currentData.dataView.matrix.rows&&P.currentData.dataView.matrix.rows.root;if(x){var R=this.dataProxyService.getNodeSegment(T);if(R&&0!==R.index){this.dataProxyService.discardSegmentsFrom(R.index);var D=this.dataProxyService.getLastNodeIndex();(0,o.dp)(x,D)?this.loadMoreData(P):this.runQuery(P)}else this.runQuery(P)}else this.runQuery(P)},M.prototype.mergeMoreData=function(P,T,x,R){var D=M.getDataProxyQueryExecutionResultWarnings(P,T),L=P&&P.dataReaderResult?P.dataReaderResult.dataView:null;if(L){h.fF.assert(function(){return null!=x&&null!=x.dataView},"Expected to have previous segment already");var F=x.dataView;(0,o.$n)(F,L);var A={dataView:F,dataViewSource:P&&P.dataViewSource,performanceActivities:P&&P.dataReaderResult&&P.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(D)||(A.warnings=D),this.queryExecutionServices.loadMergedData(A,R)}else R&&R.queryActivity.resolve()},M.prototype.visualizeDataViewSource=function(P,T,x,R){var D=this;h.fF.assertValue(T,"dataViewSource");var L=this.startQueryPerformanceActivity(R),F=P.config.singleVisual,A=this.visualPluginOps.targetedDataViewKinds(F.visualType,F.query),O=(0,c.ij)(A,T.data,(0,v.u)(this.featureSwitchService.featureSwitches)),N=O.error;if(N)this.queryExecutionServices.handleErrors(N);else{var w=this.dataSources.get();h.fF.assertValue(w,"dataSources");var I=P&&P.config&&P.config.singleVisual;!w||!I||this.conceptualSchemaProxy.get(w).then(function(B){var j=D.visualQueryGenerator.execute({config:I,dataSources:w,schema:B,additionalFilters:D.hostServices.getFilters(D.filterGenerator,B),restartToken:O.restartToken,dataWindow:x,dataSourceVariables:D.hostServices.getDataSourceVariables(),disableAnchorTime:!!D.hostServices.disableAnchorTime||D.visualPluginOps.isQnaVisual(I.visualType)});if(j){var W=D.promiseFactory.defer();W.resolve(j.options),D.handleQueryResult(P,{dataViewSource:T,dataReaderResult:O},{transforms:j.transforms,error:j.error,warnings:j.warnings,options:W.promise},null,{updateContractCache:!0},null,!1,L)}})}},M.prototype.updateNonQueryVisual=function(P,T,x){var R=this,D=this.startQueryPerformanceActivity(x),L={dataView:null,dataViewSource:null};if(T){var F=P.config.singleVisual.visualType,A=P.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(F,A,x).then(function(O){R.queryExecutionServices.applyUpdate(L,T,O,D)}).finally(function(){R.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(L,T,null,D)},M.prototype.updateContractCache=function(P,T,x){var R=this;if(h.fF.assertAnyValue(T,"result"),!P)return this.promiseFactory.reject(null);var D=this.dataSources.get();if(!D)return this.promiseFactory.reject(null);h.fF.assertValue(x,"dataProxyQuery is expected to be defined when there is a dataSource");var L=P.cachedData&&P.cachedData.dataUpdatedTime?P.cachedData.dataUpdatedTime:null,F=T&&T.dataViewSource?T.dataViewSource.data:void 0,A=x&&x.error;return T&&T.dataReaderResult&&T.dataReaderResult.disallowPersisting&&(L=null,F=null,A=new b.qw("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(D).then(function(O){return x.options.then(function(N){P.cachedData=(0,V.s9)(R.visualPlugin,R.displayNameService,F,{transforms:x.transforms,error:A,warnings:x.warnings,options:N,compiledMappings:x.compiledMappings},O,P.config.singleVisual,R.featureSwitchService.featureSwitches,(0,y.i3)(P.filters),L)})})},M.prototype.getLastRefreshTime=function(P){for(var T=0,x=P;T<x.length;T++){var R=x[T];if(R&&R.dsr&&R.dsr.lastRefreshTime)return R.dsr.lastRefreshTime}},M.prototype.processQueryResult=function(P,T,x,R){var L,F,D=this;T&&(F={updateContractCache:null===(L=P.cacheResponseOnContract)||void 0===L||L,updateServerCache:T.updateServerVisualContainerCache},this.resolveResourcePackageReferences(P.contract.config.singleVisual.visualType,T.dataProxyQuery.transforms.objects,x&&x.rootActivity).then(function(A){D.handleQueryResult(P.contract,T&&T.result,T.dataProxyQuery,A,F,P.currentData,!1,x,R)}))},M.prototype.isResultStale=function(P,T){var x=(0,f.TX)(P),R=(0,f.Kk)(T);return h.fF.assert(function(){return!!R},"A result date should be returned -- this is needed to check for freshness."),!(!x||!R)&&x>R},M.prototype.getDatasetCacheOptions=function(P,T,x){var D=P.initialLoad,L=this.visualLifecycleService&&this.visualLifecycleService.has(P.contract.id,x);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(T))return this.cachePolicyProviderService.getInteractiveQueryPolicy(D&&L,P.interactiveQueryCachingSetting)}else if(D&&L&&this.isQueryCachingEnabledForAnyDataset(T))return r.U.AllowCache|r.U.AllowQuery|r.U.CacheResult},M.prototype.isQueryCachingEnabledForAnyDataset=function(P){return!!_.some(P,function(T){return T.dsr&&T.dsr.isQueryCachingEnabled})},M.prototype.handleQueryResult=function(P,T,x,R,D,L,F,A,O){var w,I,B,j,W,U,k,N=this;if(void 0===D&&(D={}),void 0===F&&(F=!1),this.queryExecutionServices.clearErrors(),T){U={dataView:T.dataReaderResult?T.dataReaderResult.dataView:null,dataViewSource:T.dataViewSource?T.dataViewSource:null,performanceActivities:T.dataReaderResult?T.dataReaderResult.performanceActivities:null},k=M.getDataProxyQueryExecutionResultWarnings(T,x)||[],O&&(k=_.concat(k,O)),_.isEmpty(k)||(U.warnings=k);var Q=(0,V.A8)(U.dataView);Q&&(U.isFirstSegment=Q),null!==(I=null===(w=this.featureSwitchService)||void 0===w?void 0:w.featureSwitches)&&void 0!==I&&I.queryContext&&(te=null===(B=T.dataReaderResult)||void 0===B?void 0:B.queryContext)&&(U.queryContext=te)}else if(U={dataView:L&&L.dataView,dataViewSource:L&&L.dataViewSource,isFirstSegment:L&&L.isFirstSegment},k=L&&L.warnings||[],O&&(k=_.concat(k,O)),_.isEmpty(k)||(U.warnings=k),null!==(W=null===(j=this.featureSwitchService)||void 0===j?void 0:j.featureSwitches)&&void 0!==W&&W.queryContext){var te;(te=null==L?void 0:L.queryContext)&&(U.queryContext=te)}if(this.queryExecutionServices.handleWarnings(k,x&&x.transforms),this.queryExecutionServices.applyUpdate(U,x.transforms,R,A,F),D&&D.updateContractCache){var J=this.updateContractCache(P,T&&T.dataViewSource?T.dataViewSource.data:void 0,x);D.updateServerCache&&J.then(function(){x.options.then(function(re){if(!_.isEmpty(re.query.command)){var ne={visualContainerId:P.id,query:JSON.stringify(re.query.command),dataTransforms:N.getCachedTransformsString(P)};N.eventBridge.publishToChannel(S.BmV,ne)}})})}},M.prototype.handleLoadMoreDataWarnings=function(P,T){this.queryExecutionServices.clearErrors();var x=M.getDataProxyQueryExecutionResultWarnings(P,T)||[];this.queryExecutionServices.handleWarnings(x,T&&T.transforms)},M.prototype.getCachedTransformsString=function(P){var T=P.cachedData;if(T){var x=T.transformsObject;if(x)return s.F.serializeTransformActions(x)}},M.prototype.loadResourcePackageReferences=function(P,T){var x=this,R=this.visualPlugin.capabilities(P),D=R&&R.objects,L=this.explorationNavigation.getCurrentExploration();return h.fF.assert(function(){return!!L||!(0,a.z_)(T,D)},"currentExploration"),(0,a.CJ)(T,D,function(){return L?L.resourcePackages:null},this.resourceLoader,this.promiseFactory,function(F,A){return x.ensureSharedResource(L,F,A)})},M.prototype.ensureSharedResource=function(P,T,x){if(this.resourceRegistration){var R=(0,u.Hg)(P,2);(0,i.NW)(R,T)||this.resourceRegistration.add(T,2,x)}},M.prototype.resolveResourcePackageReferences=function(P,T,x){var R=this.visualPlugin.capabilities(P),D=R&&R.objects,L=this.explorationNavigation.getCurrentExploration();return h.fF.assert(function(){return!!L||!(0,a.z_)(T,D)},"currentExploration"),(0,a.sQ)(T,D,L?L.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,x)},M.getDataProxyQueryExecutionResultWarnings=function(P,T){var x;return T&&!_.isEmpty(T.warnings)&&(x=x||[]).push.apply(x,T.warnings||[]),P&&P.dataReaderResult&&!_.isEmpty(P.dataReaderResult.warnings)&&(x=x||[]).push.apply(x,P.dataReaderResult.warnings||[]),x},M}()},21276:function(Je,H,t){t.d(H,{nW:function(){return o}});var e=t(226514),c=t(563233),s=t(235635),f=t(955307),v=t(787941),b=t(690016),h=t(647639),p=t(233643),n=t(876128),l=t(600348),r=function(){function m(u,V,d){this.index=u,this.restartToken=V,d&&(this.hierarchyLastNodeIndex=d)}return m.prototype.endsBeforeNode=function(u){v.fF.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var V=this.hierarchyLastNodeIndex,d=Math.min(V.length,u.length),S=0;S<d;S++){var g=V[S],y=u[S];if(g<y)return!0;if(g>y)return!1}return u.length>V.length},m}();function o(m,u,V,d,S){return void 0===S&&(S=!1),new a(m,u,V,d,S)}var a=function(){function m(u,V,d,S,g){this.hasExecutedQuery=!0,this.dataProxy=u,this.promiseFactory=d,this.filterGenerator=V,this.dataSegments=[],this.telemetryV2Enabled=g,this.visualPluginService=S}return m.prototype.generateQuery=function(u){var V=(0,b.BL)("visualQueryGenerator(".concat(u.config.visualType,")")),d=u.visualQueryGenerator.execute({config:u.config,dataSources:u.dataSources,schema:u.schema,additionalFilters:u.hostServices.getFilters(this.filterGenerator,u.schema),restartToken:this.getRestartToken(u),cacheResponseOnServer:!(!u.isInitialLoad&&!u.cacheResponseOnServer),allowResultFromClientCache:u.allowResultFromClientCache,dataWindow:u.viewport,cacheOptions:u.cacheOptions,clientCacheOnly:u.clientCacheOnly,dataSourceVariables:u.hostServices.getDataSourceVariables(),performanceActivity:u.performanceActivity,executionMetricsKind:u.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:u.requestPriority,applicationContext:u.applicationContext,windowExpansion:this.getWindowExpansion(u),disableAnchorTime:!!u.hostServices.disableAnchorTime||u.config.visualType===l.D.qnaVisual,drillableRoles:u.drillableRoles,useNativeReferenceNameAsDisplayNames:u.useNativeReferenceNameAsDisplayNames,disableHidden:u.disableHidden,enableAllSubtotal:u.enableAllSubtotal,enableHierarchicalGrouping:u.enableHierarchicalGrouping,customizeQueryOverride:u.customizeQueryOverride,isPivoted:u.isPivoted,disableMeasureSorts:u.disableMeasureSorts});return V(),d},m.prototype.getSegmentRestartToken=function(u){var V=this;if(!(u<=0))return v.fF.assert(function(){return u<=V.dataSegments.length},"SegmentIndex out of bounds"),this.dataSegments[u-1].restartToken},m.prototype.runQuery=function(u){var V=this;v.fF.assertValue(u.config,"config"),v.fF.assert(function(){return 1!==u.executionType||!0!==u.preferCurrentData},"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var d=this.promiseFactory.defer(this.telemetryV2Enabled),S=_.last(this.dataSegments);if(1!==u.executionType||S&&S.restartToken){var y=u.generatedQuery||this.generateQuery(u);if(y)if(u.additionalDataViewKinds&&y.options&&(y.options.kinds|=u.additionalDataViewKinds),y.error)d.reject(y.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&u.preferCurrentData&&(0,c.Fu)(y.options,this.generatedQuery.options))){if(y=this.ensureRestartToken(u,y),this.shouldDelayExecution(u,y))return this.resolveEmptyResult(y,d),(0,s.U)(d);if(u.performanceActivity){y.options.isColdLoad=function(m){var u=(0,f.sV)(function(V){return"Open Report"===V.name},m);return u&&u.includesBootstrap}(u.performanceActivity);var C=u.performanceActivity.getProperty("parent");C&&"Visual Container Lifecycle"===C.name&&(C.lifecycleFlags|=4096)}var E=this.dataProxy.execute(y.options);return E.then(function(M){return V.handleQueryResult(M,y,E,u.config.query)},function(M){throw V.generatedQuery=void 0,M})}this.generatedQuery=y,d.resolve(null)}else this.generatedQuery=void 0,d.reject()}else d.reject();return(0,s.U)(d)},m.prototype.cancelQuery=function(u){this.dataProxy.cancelQuery(u)},m.prototype.ensureRestartToken=function(u,V){return 1!==u.executionType&&(this.dataSegments=[],u.preferCurrentData&&(V=this.generateQuery(u),u.additionalDataViewKinds&&(V.options.kinds|=u.additionalDataViewKinds))),V},m.prototype.getRestartToken=function(u){var V=this.dataSegments.length-1;return u.preferCurrentData?this.getSegmentRestartToken(V):1===u.executionType?this.getSegmentRestartToken(V+1):void 0},m.prototype.getWindowExpansion=function(u){if(u.config&&u.config.query&&u.config.query.expansionStates){var V=u.config.visualType;v.fF.assertValue(V,"Visual type must be defined");var d=this.visualPluginService.capabilities(V);if(!_.some(d.dataViewMappings,function(g){return g&&g.matrix&&g.matrix.rows&&g.matrix.rows.dataReductionAlgorithm&&g.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return void v.fF.assert(function(){return 3!==u.executionType},"LoadWindow is only supported when data reduction is topNPerLevel");var S=this.windowExpansionState;return 3===u.executionType&&(v.fF.assertValue(u.windowExpansionState,"Missing window information"),S=u.windowExpansionState),u.windowExpansionTransform?u.windowExpansionTransform(S):(v.fF.assert(function(){return _.size(u.config.query.expansionStates)<=1},"Expected at most one expansion state"),(0,h.W7)(_.first(u.config.query.expansionStates),S,u.config.query.defn.select(),u.schema))}},m.prototype.shouldDelayExecution=function(u,V){return!V.options.query.command||V.deferred&&1!==u.executionType&&2!==u.executionType},m.prototype.resolveEmptyResult=function(u,V){this.generatedQuery=u,this.hasExecutedQuery=!1,V.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})},m.prototype.handleQueryResult=function(u,V,d,S){return this.hasExecutedQuery=!0,this.generatedQuery=V,d.matchesLastExecuteQuery&&(u=this.rewriteQueryResultWithoutPerformanceActivities(u)),this.addNewDataSegment(u&&u.dataReaderResult),this.addWindowExpansionState(V,S,u&&u.dataReaderResult),null!=u&&(u.isPivoted=V.isPivoted),u},m.prototype.addWindowExpansionState=function(u,V,d){1===_.size(u.compiledMappings)&&u.compiledMappings[0].matrix&&u.compiledMappings[0].matrix.rows&&u.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&u.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(v.fF.assert(function(){return _.size(V.expansionStates)<=1},"Expected at most one expansion state"),this.windowExpansionState=(0,p.x9)(d.dataView)):this.windowExpansionState=null},m.prototype.addNewDataSegment=function(u){var y,V=u&&u.restartToken,d=u&&u.dataView,S=d&&d.matrix&&d.matrix.rows&&d.matrix.rows.root,g=this.dataSegments.length;if(_.isEmpty(S&&S.children))y=new r(g,V);else{var E,C=_.last(this.dataSegments);C?(v.fF.assertValue(C.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),E=_.clone(C.hierarchyLastNodeIndex)):E=[],(0,n.Iu)(S,E),v.fF.assert(function(){return!C||C.endsBeforeNode(E)},"Segment lastNodeIndex must be incremental"),y=new r(g,V,E)}this.dataSegments.push(y)},m.prototype.rewriteQueryResultWithoutPerformanceActivities=function(u){if(u&&u.dataReaderResult&&u.dataReaderResult.performanceActivities){var V=(0,e.__assign)({},u.dataReaderResult);return delete V.performanceActivities,(0,e.__assign)((0,e.__assign)({},u),{dataReaderResult:V})}return u},m.prototype.canLoadMore=function(){var u=_.last(this.dataSegments);return null!=u&&null!=u.restartToken},m.prototype.lastExecutedQuery=function(){return this.generatedQuery},m.prototype.getNodeSegment=function(u){var V=this;return v.fF.assert(function(){return!_.some(V.dataSegments,function(d){return _.isEmpty(d.hierarchyLastNodeIndex)})},"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,function(d){return!d.endsBeforeNode(u)})},m.prototype.discardSegmentsFrom=function(u){var V=this;v.fF.assert(function(){return u<V.dataSegments.length},"segmentIndex out of bounds"),this.dataSegments.length=u},m.prototype.getLastNodeIndex=function(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex},m.prototype.getSecondToLastNodeIndex=function(){if(this.dataSegments&&!(this.dataSegments.length<2))return(0,e.__spreadArray)([],this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex,!0)},m}()},427379:function(Je,H,t){function e(){return new c}t.d(H,{B:function(){return e}});var c=function(){function s(){this.visualIds={}}return s.prototype.add=function(f){this.visualIds[f]=1},s.prototype.delete=function(f){delete this.visualIds[f]},s.prototype.has=function(f,v){void 0===v&&(v=!0);var b=1===this.visualIds[f];return b&&v&&this.delete(f),b},s}()},714725:function(Je,H,t){t.d(H,{f:function(){return l}});var e=t(826613),c=t(787941),s=t(283427),f=t(474505),v=t(620108),b=t(454262),h=t(809395),p=t(35801),n=t(600348);function l(o,a){return new r(o,a)}var r=function(){function o(a,i){this.plugins=a,this.featureSwitchService=i,c.fF.assertValue(a,"VisualUtil - plugins"),c.fF.assertValue(i,"VisualUtil - featureSwitchService")}return o.prototype.canEdit=function(a,i){var m=this.plugins.capabilities(a);switch(m&&m.advancedEditModeSupport){case 1:return!0;case 2:return i;default:return!1}},o.prototype.dataViewKinds=function(a,i){if(a){var m=this.plugins.capabilities(a);if(m){var u=m.dataViewMappings,V=(0,f._1)(u);if(i){var d=(0,h.i1)(i),S=(0,s.Lo)(i.projections,u,d,this.featureSwitchService.featureSwitches);V=(0,f._1)(S.supportedMappings),"map"===a&&1&V&&(0,e.eT)(i.projections,S.supportedMappings)&&(V|=2)}if(V)return V}}},o.prototype.targetedDataViewKinds=function(a,i){var m=31;return this.plugins.isCustomVisual(a)||(m=this.dataViewKinds(a,i)||31),m},o.prototype.supportsFocusMode=function(a){var i=this.plugins.capabilities(a);return i&&i.dataViewMappings&&!i.disableFocusMode},o.prototype.isSupportedVisual=function(a){var i=(0,p.s)(a);return!!i&&!!this.plugins.getPlugin(i)},o.prototype.canConvertVisual=function(a){if(!a)return!1;var i=(0,p.s)(a);if(!i)return!1;var m=this.plugins.capabilities(i);return(this.isQueryVisual(i)||!(!m||!m.isConvertible))&&!(0,h.EL)(a)},o.prototype.canFormatVisual=function(a){return!!a&&!(0,h.EL)(a)},o.prototype.canSummarizeVisual=function(a){var i=this.plugins.getPlugin(a);return!!i&&(this.isAnalysisVisualPlugin(i)?!!i.getAnalysisVisualNarrativeSummaryConfiguration:!!i.getNarrativeSummaryBindings)},o.prototype.isAnalysisVisualPlugin=function(a){return this.isAnalysisVisual(a.name)},o.prototype.isQueryVisual=function(a){var i=this.plugins.capabilities(a);return!i||!this.isQueryDisabled(a,i)&&null!=i.dataViewMappings},o.prototype.isQueryDisabled=function(a,i){if(c.fF.assertValue(a,"visualType"),c.fF.assertAnyValue(i,"capabilities"),i&&(0,b.oy)(i.dataViewMappings))return!this.plugins.isScriptVisualQueryable(a)},o.prototype.supportVisualSearch=function(a){var i=this.plugins.capabilities(a);return!(!i||!this.isQueryVisual(a)||!(0,v.Cr)(i.objects))},o.prototype.isAnalysisVisual=function(a){return a===n.D.keyDriversVisual},o.prototype.isQnaVisual=function(a){return a===n.D.qnaVisual},o.prototype.isTableVisual=function(a){return a===n.D.tableEx},o.prototype.isMatrixVisual=function(a){return a===n.D.pivotTable},o}()},53381:function(Je,H,t){t.d(H,{V:function(){return O}});var e=t(226514),c=t(912126),s=t(154369),f=t(883863),v=t(787941),b=t(989516),h=t(647639),p=t(927928),n=t(238435),l=t(668268),r=t(620108),o=t(19632),a=t(411916),i=t(211763),m=t(230762),u=t(13106),V=t(324356),d=t(334048),S=t(983172),g=t(592042),y=t(860141),C=t(160046),E=t(501895),M=t(571330),P=t(456535),T=t(474147),x=t(374952),R=t(425158),D=t(740390),L=t(809395),F=t(693285),A=t(633888);function O(G){return v.fF.assertValue(G,"services"),v.fF.assertValue(G.dataReaders,"services.dataReaders"),v.fF.assertValue(G.displayNameService,"services.displayNameService"),v.fF.assertValue(G.plugin,"services.plugin"),v.fF.assertValue(G.pluginOps,"services.pluginOps"),v.fF.assertValue(G.sortService,"services.sortService"),v.fF.assertValue(G.aggrOps,"services.aggrOps"),v.fF.assertValue(G.filterGenerator,"services.filterGenerator"),v.fF.assertValue(G.featureSwitchService,"services.featureSwitchService"),v.fF.assertValue(G.transformPluginService,"services.transformPluginService"),v.fF.assertValue(G.telemetryService,"services.telemetryService"),v.fF.assertValue(G.visualTimeSynchronizationService,"services.visualTimeSynchronizationService"),new N(G.dataReaders,G.displayNameService,G.plugin,G.pluginOps,G.sortService,G.filterGenerator,G.aggrOps,G.featureSwitchService,G.transformPluginService,G.telemetryService,G.visualTimeSynchronizationService,G.visualQueryCapabilitiesService,G.cachePolicyProviderService,G.localizationService)}var N=function(){function G(ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be){this.dataReaders=ne,this.displayNames=X,this.visualPluginService=oe,this.pluginOps=Ve,this.sortService=Te,this.filterGenerator=Qe,this.aggrOps=He,this.featureSwitchService=Ce,this.transformPluginService=de,this.telemetryService=pe,this.visualTimeSynchronizationService=le,this.visualQueryCapabilitiesService=me,this.cachePolicyProviderService=be,this.localizationService=Be}return G.prototype.shouldExecute=function(ne,X){if(v.fF.assertAnyValue(ne,"config"),v.fF.assertAnyValue(X,"dataSources"),!ne||_.isEmpty(X)||(0,C.xj)(ne))return!1;var oe=ne.visualType,Ve=this.visualPluginService.capabilities(oe);if(!Ve||this.pluginOps.isQueryDisabled(oe,Ve))return!1;if(!this.getQueryGenerator(X,ne))return!1;if(null==ne.query||ne.query.areAllProjectionsHidden()){var Qe=(0,L.kT)(ne,Ve),He=[Qe.visual];return He.push(Qe.visualContainer),!_.isEmpty(He)&&(0,s.Sk)(u.vQ.create(),He)}return this.pluginOps.isQueryVisual(oe)&&!this.pluginOps.isAnalysisVisual(oe)},G.prototype.execute=function(ne){var X,oe,Ve;v.fF.assertValue(ne,"options"),ne.performanceActivity&&ne.performanceActivity.isRunning()&&(Ve=ne.performanceActivity.createChildActivity({name:"Query Generation"}));var Te=ne.config,Qe=ne.dataSources;if(!_.isEmpty(Qe)){var He=(0,c.W5)(Qe,Te.query&&Te.query.defn);if(!_.isEmpty(He)){var Ce=this.getAnchorTimeQueryOptions(ne.cacheOptions,!ne.disableAnchorTime,ne.additionalFilters,ne.config),de=Ce.anchorTime,pe=Ce.cacheOptions,le=Ce.relativeTimeError;if(le)return{options:null,error:le};var me=this.getVisualCapabilities(ne.config.visualType);if(Te.query&&(Te.query.hasHiddenProjections()||Te.query.hasVisualCalcExpressions())){var be=Te.query,Be=(0,A.OW)(null!==(X=me.dataViewMappings)&&void 0!==X?X:[]);if(be.projections[Be]&&(!_.isEmpty(be.projections[Be].all())||!_.isEmpty(be.projections[Be].getFieldParameters())))return{options:null,error:new F.k("NoSupportSmallMultiplesWithVC_Hidden",this.localizationService)}}var Pe=this.dataReaders.queryGenerator(He),ue=(0,R.p0)(Te,Te&&Te.visualType,ne.schema,Pe,this.getCompileMappingsResultServices(),ne.additionalFilters,ne.dataViewMappingsOverride,ne.performanceActivity,ne.customizeQueryOverride),ve=this.dataReaders.queryExtensionLookup(Qe);if(ue){if(ue.error)return{options:null,error:ue.error};var xe=ue.compiled;if(xe){var ie;if(xe.query&&xe.query.defn){if(!_.isEmpty(xe.query.defn.select())&&!_.isEmpty(xe.query.defn.transforms())){ie={};for(var Fe=0,at=xe.query.defn.select();Fe<at.length;Fe++){var We=at[Fe];(0,P.Im)(We.expr)||(ie[We.name]=We)}}if(ne.disableMeasureSorts){var Oe=xe.query.defn.orderBy().map(function(Re){return Re.expr}).filter(function(Re){return(0,x.k)(Re)});if(!_.isEmpty(Oe))for(var Ze=0,Ee=Oe;Ze<Ee.length;Ze++)xe.query.defn=xe.query.defn.removeOrderBy(Ee[Ze])}}var Ne=G.compileFilters(ne.additionalFilters,me),Y=!(null===(oe=Te.query)||void 0===oe||!oe.isDrillDisabled),ye=this.getHierarchicalGroupingRoles(me,Y),rt=this.generateQuery(Pe,ne.schema,xe,me.dataRoles,Te.queryOptions&&Te.queryOptions.keepProjectionOrder,me.filterMappings,Ne.dataFilter,Ne.highlightFilter,ne.restartToken,ne.dataWindow,ne.dataSourceVariables,null,ve,ne.executionMetricsKind,me.noDefaultProjections,this.getWindowExpansionState(Te,ne.windowExpansion,ne.schema),de,ne.disableHidden,ne.enableAllSubtotal,ne.enableHierarchicalGrouping,ye),it=rt.result,Ue=rt.query,De=rt.resolvedQuery,Le=ne.additionalFilters?ne.additionalFilters.queryRefsForSingleItemDrillFilters:void 0,Xe=this.dataReaders.readerType(He);if(Xe){var et=(0,y.$$)(ne.dataSources,De);v.fF.assert(function(){return(0,c.S8)(et).length<=1},"all data sources needed for query execution should have the same type");var he={type:Xe,query:{dataSources:(0,y.kB)(et),command:it.command,cacheOptions:pe,clientCacheOnly:ne.clientCacheOnly,cacheResponseOnServer:ne.cacheResponseOnServer,allowResultFromClientCache:ne.allowResultFromClientCache,allowClientSideFilters:this.getAllowClientSideFiltersOrDefault(ne,me),ignoreViewportForCache:ne.ignoreViewportForCache,performanceActivity:ne.performanceActivity,applicationContext:ne.applicationContext},perfId:ne.config.visualType};he.kinds=this.pluginOps.targetedDataViewKinds(ne.config.visualType,Ue);var ce=function(G,ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be,Se,Pe,ue,ve,xe,ie,Fe,at){var We=ue?ue.dataFilter:null,Oe={},Ze=S.m.buildExprEvaluationContext(Ve.defn.from());if(pe&&(Oe.objects=pe,me&&_.some(me,function(er){return er.selectExprReplaced}))){var Ee=new U(Ve.defn,me,pe,Ze);Ee.rewrite(),Oe.objects=Ee.rewrittenObjects}We&&(Oe.isDataFilterApplied=!0),le&&(Oe.splits=le),_.isEmpty(Ve.expansionStates)||(Oe.expansionStates=Ve.expansionStates);var K={options:G,transforms:Oe,warnings:be,compiledMappings:Be,deferred:ve},Ne=function(G,ne){if(v.fF.assertValue(G,"query"),v.fF.assertAnyValue(ne,"queryRewrites"),_.isEmpty(ne))return{queryForTransformActions:G,internalToPublicSelectNameMappingsByRole:{}};for(var X=G.clone(),oe=function(de){if(de.selectExprAdded){var pe=X.defn.select(),le=de.selectExprAdded;v.fF.assert(function(){return pe.length===le.selectIndex},"selectExprAdded records are expected to appear in the correct order"),pe[le.selectIndex]=le.namedSQExpr,X.defn=X.defn.select(pe)}else if(de.projectionQueryRefChanged){var me=de.projectionQueryRefChanged;X.projections[me.role].replaceQueryRef(me.oldQueryRef,me.newInternalQueryRef)}else de.aggregatesAdded||de.selectExprReplaced||v.fF.assertFail("Unexpected queryRewriteRecord: "+JSON.stringify(de))},Ve=0,Te=ne;Ve<Te.length;Ve++)oe(Te[Ve]);var He=_.reduce(ne,function(Ce,de){var pe=de.projectionQueryRefChanged;if(pe){var le=Ce[pe.role];le||(Ce[pe.role]=le={}),le[pe.newInternalQueryRef]=pe.oldQueryRef}return Ce},{});return{queryForTransformActions:X,internalToPublicSelectNameMappingsByRole:He}}(Ve,me),Y=Ne.queryForTransformActions,ye=Ne.internalToPublicSelectNameMappingsByRole,rt=Y.defn.select(),it=Y.defn.orderBy(),Ue=Y.projections;if(We){var De=We.where(),Le=S.m.buildExprEvaluationContext(We.from());if(_.some(De,function(er){return er.condition&&!_.isEmpty(er.condition.validate(ne,He,void 0,Le))}))return K.error=new F.k("Broken_Filters",de),K}if(K.filterContext={dataFilters:ue.dataFiltersUnmerged,highlightFilters:ue.highlightFilter,highlightFiltersUnmerged:ue.highlightFiltersUnmerged,query:Te},Ue){var Xe=[],et={},he=void 0;for(var ce in Ue){var Re=et[ce]=[],Ge=Ue[ce];_.isEmpty(Ge.activeProjectionRefs)||(he||(he={}),he[ce]=_.map(Ge.activeProjectionRefs,function(er){return{queryRef:er}}));for(var je=0,ae=at?Ge.all():Ge.projected();je<ae.length;je++){var fe=ae[je],we=(0,f.g2)(rt,fe.queryRef);Xe.push({queryRef:fe.queryRef,format:fe.format,queryIndex:we,roleName:ce,displayName:fe.displayName}),Re.push(we)}}Oe.selects=[];for(var ke,ze=[],$e=Y.defn.transforms(),ot=!_.isEmpty($e),_t=function(ar,sr){var Sr,gr=function(G,ne){return v.fF.assertValue(G,"projections"),_.chain(G).compact().filter(function(X){return X.queryIndex===ne}).value()}(Xe,ar),mr=rt[ar],Mr=Pe&&Pe[mr.name];if(!ot||Mr){Mr&&(mr=Mr);var St=S.m.buildExprEvaluationContext(Y.defn.from());if(!_.isEmpty(mr.expr.validate(ne,He,void 0,St)))return ze.push(mr.expr),"continue";var Gt=mr.expr.getMetadata(ne,Ze);v.fF.assertValue(Gt,"exprMetadata"),Sr={type:Gt.type,expr:mr.expr},!(0,x.k)(mr.expr)&&(_.isEmpty(G.query.command)||ve||Ce.keepAllMetadataColumns)&&(Sr.identityExprs=X.produceIdentities(mr.expr,ne));var rr=S.m.getKpiMetadata(mr.expr,ne);if(rr&&(Sr.kpi=rr),Fe&&!_.isEmpty(mr.nativeReferenceName))Sr.displayName=mr.nativeReferenceName;else{var Fr=function(G,ne){if(ne)for(var X=0,oe=ne;X<oe.length;X++){var Te=oe[X].projectionQueryRefChanged;if(Te&&Te.newInternalQueryRef===G)return Te.oldQueryRef}return G}(mr.name,me),wr=_.find(gr,function(Zr){return Zr.queryRef===mr.name&&Zr.displayName});Sr.displayName=wr?wr.displayName:Qe.getDisplayName(mr.expr,ne,Ce,Fr,oe)}var Vr=gr[0];if(Vr){var Ar=Vr.format||Gt.format;Ar&&(Sr.format=Ar)}}else Sr={expr:mr.expr,displayName:mr.name};Sr.roles||(Sr.roles={});for(var vr=0,$r=gr;vr<$r.length;vr++){var Qr=$r[vr];Qr&&Qr.roleName&&(Sr.roles[Qr.roleName]=!0)}ke=mr.name,Sr.queryName=_.chain(Object.keys(Sr.roles)).map(function(Zr){return ye[Zr]&&ye[Zr][ke]}).filter(_.isString).value()[0]||ke;var zr=_.find(xe,function(Zr){return Zr.queryName===Sr.queryName});_.isEmpty(null==zr?void 0:zr.relatedProjectionsQueryName)||(Sr.relatedSelects=_.map(zr.relatedProjectionsQueryName,function(Zr){return{queryName:Zr}})),_.isEmpty(null==zr?void 0:zr.relatedObjects)||(Sr.relatedObjects=zr.relatedObjects),null!=zr&&zr.format&&(Sr.format=zr.format);var Or=function(G,ne){return v.fF.assertValue(G,"orderBy"),v.fF.assertValue(ne,"expr"),_.findIndex(G,function(X){return(0,T.fS)(X.expr,ne)})}(it,mr.expr);-1!==Or&&(Sr.sort=it[Or].direction,Sr.sortOrder=Or);var Xr=S.m.getDefaultValue(mr.expr,ne);if(Xr){Sr.defaultValue={value:Xr};var Nr=mr.expr.getKeyColumns(ne);Sr.defaultValue.identityFieldsValues=S.m.getDefaultValues(Nr,ne)}1===S.m.getAggregateBehavior(mr.expr,ne)&&(Sr.discourageAggregationAcrossGroups=!0);var Hr=S.m.getParameterMetadata(mr.expr,ne);Hr&&(Sr.parameter=Hr),Oe.selects.push(Sr)},dt=0,Tt=rt.length;dt<Tt;dt++)_t(dt);if(me)for(var Wt=0,Kt=me;Wt<Kt.length;Wt++){var Zt=Kt[Wt];Zt.aggregatesAdded&&ee(Oe.selects,Zt.aggregatesAdded)}Oe.roles={ordering:et,drillableRoles:ie},(0,M.S1)(Ce)&&(Oe.roles.isDrillDisabled=Ve.isDrillDisabled),he&&(Oe.roles.activeItems=he,function(G,ne){var X=G&&G.roles,oe=X&&X.activeItems;if(oe)for(var Ve in oe)for(var Qe=0,He=oe[Ve];Qe<He.length;Qe++){var Ce=He[Qe];Ce.suppressConcat=_.includes(ne,Ce.queryRef)}}(Oe,Se)),K.error=F.k.create(ze,ne,de)}return K}(he,ne.schema,Pe,Te.columnProperties,Ue,De,this.displayNames,this.aggrOps,me,this.localizationService,xe.objectDefinitions,it.splits,it.queryRewrites,ue.warnings,xe.mappings,Le,ie,Ne,rt.deferred,xe.additionalProjections,ne.drillableRoles,ne.useNativeReferenceNameAsDisplayNames,ne.disableHidden);return Ve&&Ve.resolve(),ce.options.query&&(ce.options.query.telemetryV2Enabled=ne.telemetryV2Enabled,null!=ne.requestPriority&&(ce.options.query.requestPriority=ne.requestPriority)),ce.isPivoted=rt.result.isPivoted,ce}}}}}},G.prototype.getCompileMappingsResultServices=function(){return{displayNameService:this.displayNames,featureSwitchService:this.featureSwitchService,localizationService:this.localizationService,sortService:this.sortService,telemetryService:this.telemetryService,transformPluginService:this.transformPluginService,visualPluginService:this.visualPluginService}},G.prototype.getCompiledDataViewMapping=function(ne){v.fF.assertValue(ne,"options");var X=ne.config,oe=this.getQueryGenerator(ne.dataSources,X);if(oe){var Ve=(0,R.p0)(X,X&&X.visualType,ne.schema,oe,this.getCompileMappingsResultServices());if(Ve&&!Ve.error)return Ve.compiled.mappings}},G.prototype.getAnchorTimeQueryOptions=function(ne,X,oe,Ve){var Te,pe,Qe=!(null===(Te=this.visualQueryCapabilitiesService)||void 0===Te||!Te.getCapabilities().disableAnchorTime),He=X&&this.hasRelativeTimeFilters(oe,Ve),Ce=ne;if(Qe&&He)return{anchorTime:null,cacheOptions:Ce,relativeTimeError:new F.k("NoSupportRTS_PublishToWeb",this.localizationService)};if(He){Ce=this.cachePolicyProviderService?this.cachePolicyProviderService.getRelativeTimeFilterQueryPolicy():p.U.AllowQuery;var le=this.visualTimeSynchronizationService.getAnchorTime();pe=(0,m.CI)(le,g.Ge.fromExtendedType(519))}return{anchorTime:pe,cacheOptions:Ce,relativeTimeError:null}},G.prototype.hasRelativeTimeFilters=function(ne,X){return!(!ne||!(0,i.hN)(ne.dataFilter))||!!X&&!!X.query&&!!X.query.defn&&(0,i.hN)(X.query.defn)},G.prototype.executeForFlattenedQuery=function(ne,X){v.fF.assertValue(ne,"options");var oe=ne.config,Ve=this.getQueryGenerator(ne.dataSources,oe);if(Ve){var Te=(0,R.p0)(oe,oe&&oe.visualType,ne.schema,Ve,this.getCompileMappingsResultServices(),ne.additionalFilters,ne.dataViewMappingsOverride,ne.performanceActivity,ne.customizeQueryOverride);if(Te&&!Te.error){var Qe=Te.compiled;if(Qe){var He=this.getVisualCapabilities(ne.config.visualType),Ce=G.compileFilters(ne.additionalFilters,He);return this.generateFlattenedQuery(Ve,ne.schema,Qe,He.dataRoles,oe.queryOptions&&oe.queryOptions.keepProjectionOrder,He.filterMappings,Ce.dataFilter,Ce.highlightFilter,ne.restartToken,ne.dataWindow,ne.dataSourceVariables,X,He.noDefaultProjections,ne.windowExpansion)}}}},G.prototype.getQueryGenerator=function(ne,X){if(v.fF.assertAnyValue(ne,"dataSources"),v.fF.assertValue(X,"visualConfig"),!_.isEmpty(ne)){var oe=X.query,Ve=(0,c.W5)(ne,oe&&oe.defn);if(Ve)return this.dataReaders.queryGenerator(Ve)}},G.prototype.getVisualCapabilities=function(ne){if(ne){var X=this.visualPluginService.getPlugin(ne);return X&&X.capabilities}},G.prototype.getHierarchicalGroupingRoles=function(ne,X){var oe,Ve,Te=[];return X||(!(null===(oe=ne.expandCollapse)||void 0===oe)&&oe.roles&&Te.push.apply(Te,ne.expandCollapse.roles),!(null===(Ve=ne.drilldown)||void 0===Ve)&&Ve.roles&&!ne.drilldown.suppresDrillOperations&&Te.push.apply(Te,(0,M.WO)(ne,X))),Te},G.compileFilters=function(ne,X){var oe,Ve,Te,Qe;return v.fF.assertValue(X,"visualCapabilities"),ne&&(Ve=ne.dataFilter,Te=ne.dataFiltersUnmerged,oe=ne.highlightFilter,Qe=ne.highlightFiltersUnmerged),v.fF.assert(function(){return!oe||X.supportsHighlight},"should not have generated a highlight filter for a visual that doesn't support it"),{dataFilter:Ve,dataFiltersUnmerged:Te,highlightFilter:oe,highlightFiltersUnmerged:Qe}},G.prototype.getAllowClientSideFiltersOrDefault=function(ne,X){return v.fF.assertValue(ne,"options"),v.fF.assertValue(X,"visualCapabilities"),_.isBoolean(ne.allowClientSideFilters)?ne.allowClientSideFilters:!!(0,r.Cr)(X.objects)},G.prototype.generateQuery=function(ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be,Se,Pe,ue,ve,xe,ie,Fe){v.fF.assertValue(ne,"queryGenerator");var at=this.getQueryGeneratorOptions(X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be,Se,Pe,ue,ve,xe,ie,Fe),We=ne.execute(at);return{result:We,query:oe.query,resolvedQuery:at.query,deferred:We.deferred}},G.prototype.generateFlattenedQuery=function(ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be){v.fF.assertValue(ne,"queryGenerator");var Se=this.getQueryGeneratorOptions(X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,void 0,void 0,be,Be);return ne.executeForQueryOnly?ne.executeForQueryOnly(Se):Se.query},G.prototype.getQueryGeneratorOptions=function(ne,X,oe,Ve,Te,Qe,He,Ce,de,pe,le,me,be,Be,Se,Pe,ue,ve,xe,ie){v.fF.assertValue(ne,"schema"),v.fF.assertValue(X,"compiled"),v.fF.assertAnyValue(oe,"dataRoles"),v.fF.assertAnyValue(de,"dataWindow");var Fe=X.query,at=this.filterGenerator.resolveFilterTargets(ne,Fe,oe,Te,Qe),We=(0,E.L7)(this.transformPluginService,at,Fe.projections,oe,(0,D.S)(X.query,oe),X.additionalProjections,X.mappings);We=function(G){var ne=G.orderBy();if(_.isEmpty(ne))return G;for(var X=!1,oe=0,Ve=ne;oe<Ve.length;oe++){var Te=Ve[oe];(0,P.tO)(Te.expr)&&(Te.expr=Te.expr.measure,X=!0)}return X?G.orderBy(ne):G}(We);var Oe=new w(ne,X.mappings,We);return We=We.rewrite(Oe),{query:le?le(We):We,queryExtensionLookup:me,mappings:X.mappings,additionalProjections:X.additionalProjections,highlightFilter:He,restartToken:Ce,dataWindow:de,highVolumeOverride:this.featureSwitchService&&this.featureSwitchService.featureSwitches.highVolume,expansionStates:X.query.expansionStates,dataSourceVariables:pe,executionMetricsKinds:be,keepProjectionOrder:Ve,noDefaultProjections:Be,windowExpansion:Se,anchorTime:Pe,disableHidden:ue,enableAllSubtotal:ve,enableHierarchicalGrouping:xe,rolesWithHierarchicalGroupingSupport:ie}},G.prototype.getWindowExpansionState=function(ne,X,oe){var Ve=this.visualPluginService.capabilities(ne.visualType);if(_.some(Ve.dataViewMappings,function(Qe){return Qe&&Qe.matrix&&Qe.matrix.rows&&Qe.matrix.rows.dataReductionAlgorithm&&Qe.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return X||(v.fF.assert(function(){return _.size(ne.query.expansionStates)<=1},"Expected at most one expansion state"),(0,h.W7)(_.first(ne.query.expansionStates),void 0,ne.query.defn.select(),oe));v.fF.assert(function(){return!X},"Window expansion state is only expected when data reduction is set to topNPerLevel")},G}(),w=function(G){function ne(X,oe,Ve){var Te=G.call(this)||this;return Te.schema=X,Te.compiledMappings=oe,Te.query=Ve,Te.pointsPerSparkline=52,Te}return(0,e.__extends)(ne,G),ne.prototype.visitSparklineData=function(X){v.fF.assert(function(){return 1===_.size(X.grouping)},"only support 1 expr in grouping");var Ve,oe=this.pointsPerSparkline+1,Te=X.grouping[0];if((0,P.ez)(Te)){var Qe=Te.getMetadata(this.schema),He=null==Qe?void 0:Qe.type;if(null!=He&&He.temporal){var Ce=(0,a.YN)(Te,this.schema);Ce&&(Ve=(0,V.m_)(Ce,3))}}var de=_.find(this.query.select(),function(Se){return(0,T.fS)(Se.expr,X)});v.fF.assertValue(de,"matchingExpr");for(var pe=de.name,le=!1,me=0,be=this.compiledMappings;me<be.length;me++)(0,n.oF)(be[me],{visitRole:function(Pe){var ue,ve=_.find(Pe.items,function(xe){return xe.queryName===pe});null!==(ue=null==ve?void 0:ve.sparklineInfo)&&void 0!==ue&&ue.includeMinGroupingInterval&&(le=!0)}});return(0,V.Zy)(X.measure,X.grouping,Ve,oe,le)},ne}(d.b),U=function(G){function ne(X,oe,Ve,Te){var Qe=G.call(this)||this;return Qe.query=X,Qe.queryRewrites=oe,Qe.objects=Ve,Qe.context=Te,Qe}return(0,e.__extends)(ne,G),ne.prototype.rewrite=function(){for(var X in this.objects)for(var oe=0;oe<this.objects[X].length;oe++){var Ve=this.objects[X][oe];if(Ve.selector){var Qe=(0,b.CT)(Ve.selector);if(!_.isEmpty(Qe)){this.rewrittenObjects||(this.rewrittenObjects=(0,l.d9)(this.objects));for(var He=0,Ce=Qe;He<Ce.length;He++)this.rewrittenObjects[X][oe].selector={data:[(0,o.TZ)(Ce[He].expr.accept(this))]}}}}},ne.prototype.visitSelectRef=function(X){var oe=X.expressionName,Ve=this.query.select().withName(oe),Te=Ve.expr;Ve&&(0,P.t3)(Ve.expr)&&(0,P.jv)(Ve.expr.source)&&(Te=S.m.getSubqueryExpression(Ve.expr,this.context));var Qe=_.find(this.queryRewrites,function(He){return He.selectExprReplaced&&(0,T.fS)(He.selectExprReplaced.originalExpr,Te)});return Qe?Qe.selectExprReplaced.replacedExpr:X},ne}(d.b);function ee(G,ne){v.fF.assertValue(G,"selects"),v.fF.assertValue(ne,"rewrite");for(var X=0,oe=G;X<oe.length;X++){var Ve=oe[X];if(Ve.queryName===ne.originalQueryRef){var Te={},Qe=ne.aggregates;Qe.min&&(Te.min=J(Qe.min)),Qe.max&&(Te.max=J(Qe.max)),Ve.aggregateSources=Te;break}}var He=ne.aggregates;re(G,He.min),re(G,He.max)}function J(G){return v.fF.assertValue(G,"source"),{index:G.index}}function re(G,ne){if(v.fF.assertValue(G,"selects"),v.fF.assertAnyValue(ne,"aggregateSource"),ne){var X=ne.index;G[X]||(G[X]={displayName:"",queryName:ne.queryName,expr:ne.expr})}}},74191:function(Je,H,t){t.d(H,{E:function(){return p}});var e=t(886740),c=t(362892),s=t(787941),f=t(156319),v=t(35801),b=t(809395),h=t(600348);function p(l,r,o,a,i){return new n(l,r,o,a,i)}var n=function(){function l(r,o,a,i,m){this.visualPluginService=r,this.pluginOps=o,this.explorationNavigationService=a,this.featureSwitchService=i,this.visualCapabilitiesService=m}return l.prototype.relationship=function(r,o,a){return s.fF.assertValue(r,"section"),this.getRelationship(r.relationships,o,a)},l.prototype.drillRelationship=function(r,o,a){s.fF.assertValue(r,"section");var i=this.getRelationship(r.relationships,o,a);if(i){var m=i;return 2===i.type&&(m={source:i.source,target:i.target,type:1}),m}},l.prototype.getRelationship=function(r,o,a){return s.fF.assertValue(o,"sourceVisual"),s.fF.assertValue(a,"targetVisual"),s.fF.assertAnyValue(r,"relationships"),_.find(r,function(i){return i.source.name===o.name&&i.target.name===a.name})},l.prototype.getIsCrossHighlightingDisabled=function(){var r=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),o=r&&r.slowDataSourceSettings;return o&&o.isCrossHighlightingDisabled},l.prototype.relationshipFilterAction=function(r,o,a,i,m){var u=this.relationship(r,o,a);return this.getRelationshipFilterAction(u,o,a,i,m)},l.prototype.drillRelationshipFilterAction=function(r,o,a,i){if(!o.drillFilterOtherVisuals)return 3;var m=this.drillRelationship(r,o,a);s.fF.assert(function(){return!m||2!==m.type},"Expect drill relationship NOT to be HighlightFilter.");var u=this.getRelationshipFilterAction(m,o,a,i,!1);return s.fF.assert(function(){return 2!==u},"Expect drill relationship filter action NOT to be HighlightFilter."),u},l.prototype.shouldApplyCrossDrill=function(r,o,a,i){if(o===a||(0,v.s)(a)===h.D.slicer)return!1;var m=this.drillRelationshipFilterAction(r,o,a,i);return 1===m||0===m&&1===this.defaultDrillFilterAction(o,a)},l.prototype.getRelationshipFilterAction=function(r,o,a,i,m){if(r&&this.supportsFilterActionTarget(o,a,r.type))return r.type;var u=a&&a.config&&a.config.singleVisual,V=u&&a.config.singleVisual.visualType,d=this.visualPluginService.capabilities(V),S=0;if(r&&2===r.type&&(0,b.iv)(a)&&(S=1),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(d,V)){var y=o&&o.config&&o.config.singleVisual,C=y&&o.config.singleVisual.visualType,E=this.visualPluginService.capabilities(C);if(!this.isFilter(E,C,y&&y.objects))return 3}if(d){var M=u.query;if(M){var P=this.visualPluginService.getPlugin(V);if(P&&P.shouldIgnoreCrossFilter){var x={mappings:d.dataViewMappings,queryDefn:M.defn,queryProjections:M.projections,schema:i,objectDescriptors:d.objects,objectDefinitions:u.objects,roles:d.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,c.S)()},R=(0,e.y)(x);if(P.shouldIgnoreCrossFilter({dataViewMappings:R,filterForFieldParameter:m}))return 3}}}return S},l.prototype.isSlicer=function(r,o){return!!f.l.tryGetFilterPropertyIdentifier(r,o,this.visualPluginService)},l.prototype.isFilter=function(r,o,a){return r?this.isSlicer(r,o):null!=f.l.tryGetFilterProperty(r,o,this.visualPluginService,a)},l.prototype.supportsFilterActionTarget=function(r,o,a){s.fF.assertValue(r,"sourceVisual"),s.fF.assertValue(o,"targetVisual"),s.fF.assertValue(a,"visualRelationshipFilterAction");var i=(0,v.s)(o),m=(0,v.s)(r);if(!_.isEmpty(m)&&!_.isEmpty(i))switch(a){case 1:case 3:return!0;case 2:if((0,b.iv)(o))return!1;var u=this.visualPluginService.capabilities(i);return(!u||u.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(m)}return!1},l.prototype.supportsAnyFilterAction=function(r){s.fF.assertValue(r,"visualContainer");var o=(0,v.s)(r);if(_.isEmpty(o)||!this.pluginOps.isQueryVisual(o)&&!this.pluginOps.isQnaVisual(o))return!1;var a=this.visualPluginService.capabilities(o);return!a||!1!==a.supportsSelection},l.prototype.defaultFilterAction=function(r,o){s.fF.assertValue(r,"sourceVisualContainer"),s.fF.assertValue(o,"targetVisualContainer");var a=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),i=a&&a.settings;return i&&i.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(r,o,2)?this.supportsFilterActionTarget(r,o,1)?1:void 0:2},l.prototype.defaultDrillFilterAction=function(r,o){s.fF.assertValue(r,"sourceVisualContainer"),s.fF.assertValue(o,"targetVisualContainer");var a=this.defaultFilterAction(r,o);return 2===a&&(a=1),s.fF.assert(function(){return!a||1===a||3===a},"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),a},l}()},658353:function(Je,H,t){t.d(H,{Bq:function(){return oe},Ed:function(){return p},Ef:function(){return P},F:function(){return i},Fp:function(){return T},GD:function(){return S},Gh:function(){return A},Hl:function(){return Ge},II:function(){return o},JL:function(){return je},Jr:function(){return le},Jw:function(){return xe},Kh:function(){return f},L9:function(){return c},M:function(){return We},MF:function(){return He},Mr:function(){return ee},Mz:function(){return it},OX:function(){return D},Ql:function(){return ce},SO:function(){return de},Sm:function(){return u},TH:function(){return Fe},Ul:function(){return be},Um:function(){return I},V6:function(){return b},Zk:function(){return Se},Zv:function(){return V},b_:function(){return M},bt:function(){return C},dy:function(){return fe},fp:function(){return d},hg:function(){return g},hs:function(){return ze},jn:function(){return F},mY:function(){return ke},p4:function(){return m},pV:function(){return L},qc:function(){return Le},rj:function(){return ue},s$:function(){return ot},s5:function(){return N},sw:function(){return K},u1:function(){return Ze},u3:function(){return ne},uX:function(){return et},v$:function(){return l},wQ:function(){return Te},z6:function(){return x},zs:function(){return R}});var e=t(853811),c=function(dt){return dt.Normal="Normal",dt.EmailSubscription="EmailSubscription",dt.ReportInvitation="ReportInvitation",dt.SubscribeOthers="SubscribeOthers",dt.Commenting="Commenting",dt.Invalid="Invalid",dt}({}),s="PBI.EX.RetrieveFromVisualContainerCache",f=e.cx[s]=(0,e.b1)(s),v="PBI.EX.RunQuery",b=e.cx[v]=(0,e.b1)(v,{logRatio:0}),h="PBI.EX.RunQueryImpl",p=e.cx[h]=(0,e.b1)(h,{logRatio:0}),n="PBI.EX.GetCachedQueryOrGenerate",l=e.cx[n]=(0,e.b1)(n,{logRatio:0}),r="PBI.EX.VisualFirstLoad",o=e.cx[r]=(0,e.b1)(r),a="PBI.EX.ToggleVisualDisplay",i=e.cx[a]=(0,e.b1)(a,{logExpAssignment:!0}),m="PBI.EX.GetExploration",u=e.cx[m]=(0,e.b1)(m),V="PBI.EX.DeserializeExploration",d=e.cx[V]=(0,e.b1)(V),S="PBI.EX.OpenExploration",g=e.cx[S]=(0,e.b1)(S,{shouldLogStartEnd:!0,logExpAssignment:!0}),y="PBI.EX.ExplorationStateApplyImpact",C=e.cx[y]=(0,e.b1)(y),E="PBI.EX.ExplorationStateApplyImpactIssues",M=e.cx[E]=(0,e.b1)(E),P="PBI.EX.SwitchSection",T=e.cx[P]=(0,e.b1)(P),x="PBI.EX.SwitchToAdjacentSection",R=e.cx[x]=(0,e.b1)(x),D="PBI.EX.NavigateBack",L=e.cx[D]=(0,e.b1)(D,{logExpAssignment:!0}),F="PBI.EX.NavigationButtonClicked",A=e.cx[F]=(0,e.b1)(F,{logExpAssignment:!0}),O="PBI.EX.VisualQueryGeneratorWarning",N=e.cx[O]=(0,e.b1)(O),w="PBI.EX.VisualQueryGeneratorError",I=e.cx[w]=(0,e.b1)(w),B="PBI.EX.Groups.GroupsAction",W=(e.cx[B]=(0,e.b1)(B),"PBI.EX.Groups.BinBySizeAction"),k=(e.cx[W]=(0,e.b1)(W),"PBI.EX.Groups.BinByCountAction"),te=(e.cx[k]=(0,e.b1)(k),"PBI.EX.Groups.Usage"),ee=e.cx[te]=(0,e.b1)(te),J="PBI.EX.Groups.Error",G=(e.cx[J]=(0,e.b1)(J),"PBI.EX.ModelChange"),ne=e.cx[G]=(0,e.b1)(G),X="PBI.EX.Measures",oe=e.cx[X]=(0,e.b1)(X),Ve="PBI.EX.ReportMeasureDataTypeChange",Te=e.cx[Ve]=(0,e.b1)(Ve),Qe="PBI.EX.ReportMeasureDataCategoryChange",He=e.cx[Qe]=(0,e.b1)(Qe),Ce="PBI.EX.ReportMeasureMoveRoleKind",de=e.cx[Ce]=(0,e.b1)(Ce),pe="PBI.EX.QuickCalcMeasureEdited",le=e.cx[pe]=(0,e.b1)(pe),me="PBI.EX.QuickCalcMeasureDeleted",be=e.cx[me]=(0,e.b1)(me),Be="PBI.EX.VisualDrillableRoleActiveItemsFixed",Se=e.cx[Be]=(0,e.b1)(Be),Pe="PBI.PersistentState.SerializationError",ue=e.cx[Pe]=(0,e.b1)(Pe),ve="PBI.Pod.SerializationErrorFixed",xe=e.cx[ve]=(0,e.b1)(ve),ie="PBI.SerializationError",Fe=e.cx[ie]=(0,e.b1)(ie),at="PBI.EX.EmptyVisualContainerConfig",We=e.cx[at]=(0,e.b1)(at),Oe="PBI.ClipboardService.Paste",Ze=e.cx[Oe]=(0,e.b1)(Oe),Ee="PBI.ClipboardService.UnsupportedVersion",K=e.cx[Ee]=(0,e.b1)(Ee),Ne="PBI.DataPointLassoSelect.PreviewSerialized",ye=(e.cx[Ne]=(0,e.b1)(Ne),"PBI.EX.LoopingSQExpr"),it=(e.cx[ye]=(0,e.b1)(ye),"PBI.EX.GetLinguisticSchema"),De=(e.cx[it]=(0,e.b1)(it),"PBI.EX.GetAutoRefreshAdminConfig"),Le=e.cx[De]=(0,e.b1)(De),Xe="PBI.EX.GetChangeDetectionAdminConfig",et=e.cx[Xe]=(0,e.b1)(Xe),he="PBI.EX.AnchorTimeUndefined",ce=e.cx[he]=(0,e.b1)(he),Re="PBI.EX.GetAPRConfigFailure",Ge=e.cx[Re]=(0,e.b1)(Re),ut="PBI.EX.DefnsDuplicateSelector",je=e.cx[ut]=(0,e.b1)(ut),ae="PBI.EX.CertifiedTelemetryChildrenCountMismatch",fe=e.cx[ae]=(0,e.b1)(ae),we="PBI.EX.UndoEventTime",ze=e.cx[we]=(0,e.b1)(we),$e="PBI.EX.ConsecutiveUndoCount",ot=e.cx[$e]=(0,e.b1)($e),_t="PBI.EX.DeserializeNonUniqueIdentifier",ke=e.cx[_t]=(0,e.b1)(_t)},23330:function(Je,H,t){t.d(H,{AJ:function(){return a},Vl:function(){return l},gP:function(){return p},pQ:function(){return n},wd:function(){return r}});var e=t(72911),c=t(787941),s=t(166851),f=t(261374),v=t(448711),b=t(988222),h=t(326621),p=function(){function u(V,d,S){this.op=V,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new n(d,S)}return Object.defineProperty(u.prototype,"operator",{get:function(){return this.op},set:function(d){this.op!==d&&(this.op=d,this.onOperatorChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"operatorLabel",{get:function(){return this.opLabel},set:function(d){this.opLabel=d},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"valueRequired",{get:function(){return this.valRequired},enumerable:!1,configurable:!0}),u.prototype.accept=function(V){return V.visit(this)},u.empty=function(){return new u(0)},u.equals=function(V,d){return(V=V||null)===(d=d||null)||!V==!d&&(c.fF.assertValue(V,"x"),c.fF.assertValue(d,"y"),V.operator===d.operator&&n.equals(V.value,d.value))},u.prototype.onOperatorChanged=function(){this.valRequired=a(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)},u}(),n=function(){function u(V,d){null!=V&&(V instanceof Date&&(this.dateValue=V),this.value=V,this.formatter=d,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}return Object.defineProperty(u.prototype,"isDate",{get:function(){return null!=this.dateValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasValue",{get:function(){return null!=this.dateValue||!(0,f.g)(this.stringValue)},enumerable:!1,configurable:!0}),u.prototype.isValidDate=function(){return this.isDate&&(!_.isString(this.value)||null!==h.dx.parseDate(this.value))},u.equals=function(V,d){return(V=V||null)===(d=d||null)||!V==!d&&(c.fF.assertValue(V,"left"),c.fF.assertValue(d,"right"),u.compareDateTimeValue(V,d)&&V.stringValue===d.stringValue)},u.compareDateTimeValue=function(V,d){return(V.dateValue?V.dateValue.valueOf():0)===(d.dateValue?d.dateValue.valueOf():0)},u}(),l=function(){function u(V){var d=this;this.localizationService=V,this.isOperator=new s.o(function(){return{value:9,label:d.getLocalize().get("FilterOperator_Is"),tooltip:d.getLocalize().get("FilterOperator_IsTooltip")}}),this.isNotOperator=new s.o(function(){return{value:10,label:d.getLocalize().get("FilterOperator_IsNot"),tooltip:d.getLocalize().get("FilterOperator_IsNotTooltip")}}),this.isBlankOperator=new s.o(function(){return{value:11,label:d.getLocalize().get("FilterOperator_IsBlank"),tooltip:d.getLocalize().get("FilterOperator_IsBlankTooltip")}}),this.isNotBlankOperator=new s.o(function(){return{value:12,label:d.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:d.getLocalize().get("FilterOperator_IsNotBlankTooltip")}}),this.containsOperator=new s.o(function(){return{value:5,label:d.getLocalize().get("FilterOperator_Contains"),tooltip:d.getLocalize().get("FilterOperator_ContainsTooltip")}}),this.doesNotContainOperator=new s.o(function(){return{value:6,label:d.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:d.getLocalize().get("FilterOperator_DoesNotContainTooltip")}}),this.startsWithOperator=new s.o(function(){return{value:7,label:d.getLocalize().get("FilterOperator_StartsWith"),tooltip:d.getLocalize().get("FilterOperator_StartsWithTooltip")}}),this.doesNotStartWithOperator=new s.o(function(){return{value:8,label:d.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:d.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")}}),this.isEmptyString=new s.o(function(){return{value:13,label:d.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:d.getLocalize().get("FilterOperator_IsEmptyStringTooltip")}}),this.isNotEmptyString=new s.o(function(){return{value:14,label:d.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:d.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")}}),this.greaterThanOperator_ForDateTime=new s.o(function(){return{value:3,label:d.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:d.getLocalize().get("FilterOperator_GreaterThan_DT")}}),this.greaterThanOrEqualToOperator_ForDateTime=new s.o(function(){return{value:4,label:d.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:d.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")}}),this.isLessThanOperator_ForDateTime=new s.o(function(){return{value:1,label:d.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:d.getLocalize().get("FilterOperator_LessThan_DT")}}),this.isLessThanOrEqualToOperator_ForDateTime=new s.o(function(){return{value:2,label:d.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:d.getLocalize().get("FilterOperator_LessThanOrEqual_DT")}}),this.greaterThanOperator=new s.o(function(){return{value:3,label:d.getLocalize().get("FilterOperator_GreaterThan"),tooltip:d.getLocalize().get("FilterOperator_GreaterThan")}}),this.greaterThanOrEqualToOperator=new s.o(function(){return{value:4,label:d.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:d.getLocalize().get("FilterOperator_GreaterThanOrEqual")}}),this.isLessThanOperator=new s.o(function(){return{value:1,label:d.getLocalize().get("FilterOperator_LessThan"),tooltip:d.getLocalize().get("FilterOperator_LessThan")}}),this.isLessThanOrEqualToOperator=new s.o(function(){return{value:2,label:d.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:d.getLocalize().get("FilterOperator_LessThanOrEqual")}})}return u.prototype.getLocalize=function(){return(0,e.h1)(this.localizationService)},u.prototype.operatorsForColumnMappedToMParameter=function(){var V=[];return V.push(this.isOperator.getValue()),V},u.prototype.dateTimeOperator=function(){var V=[];return V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.greaterThanOperator_ForDateTime.getValue()),V.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),V.push(this.isLessThanOperator_ForDateTime.getValue()),V.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V},u.prototype.stringTypeOperator=function(){var V=[];return V.push(this.containsOperator.getValue()),V.push(this.doesNotContainOperator.getValue()),V.push(this.startsWithOperator.getValue()),V.push(this.doesNotStartWithOperator.getValue()),V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V.push(this.isEmptyString.getValue()),V.push(this.isNotEmptyString.getValue()),V},u.prototype.numericOperator=function(){var V=[];return V.push(this.isLessThanOperator.getValue()),V.push(this.isLessThanOrEqualToOperator.getValue()),V.push(this.greaterThanOperator.getValue()),V.push(this.greaterThanOrEqualToOperator.getValue()),V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V},u.prototype.tryGetExprFilterOperators=function(V,d,S,g){if(!_.isEmpty(V.validate(d,S)))return{hasError:!0,operators:void 0};var y=V.getMetadata(d);return c.fF.assertValue(y,"metadata"),{hasError:!1,operators:this.getFilterOperators(y.type,g)}},u.prototype.getFilterOperators=function(V,d){return d?this.operatorsForColumnMappedToMParameter():V.text?this.stringTypeOperator():V.integer||V.numeric?this.numericOperator():V.dateTime?this.dateTimeOperator():void 0},u.prototype.isOperatorForColumnMappedToMParameter=function(V){return this.operatorsForColumnMappedToMParameter().some(function(d){return d.value===V})},u}(),r=function(){function u(V){this.localizationService=V}return u.prototype.fromCondition=function(V,d,S){for(var y,g=new m(d,S,this.localizationService),C=0,E=V;C<E.length;C++){var M=E[C];null==M.operator||0===M.operator||(y=M.accept(g))}return y},u.prototype.fromLabels=function(V,d){var S;if(V.length>0){for(var y=[],C=0,E=V;C<E.length;C++)y.push(i(E[C]));S=(0,v.KF)(y),S=(0,f.W)(d?(0,e.h1)(this.localizationService).get("FilterRestatement_NotEqual"):(0,e.h1)(this.localizationService).get("FilterRestatement_Equal"),S)}return S},u.prototype.fromDataViewScopeIdentities=function(V,d,S){for(var g=[],y=0,C=V;y<C.length;y++)g.push(o(C[y],S));return this.fromLabels(g,d)},u.prototype.fromDefault=function(V){if(null!=V)return(0,f.W)((0,e.h1)(this.localizationService).get("FilterRestatement_IsDefault"),i(V))},u}();function o(u,V){var d=(0,b.Xz)(u);return V?V.format(d):d}function a(u){return 11!==u&&12!==u&&0!==u&&13!==u&&14!==u}function i(u){return null===u?null:_.isString(u)?u:u.displayName?u.displayName:"function"!=typeof u||"object"!=typeof u?u:void 0}var m=function(){function u(V,d,S){this.localizationService=S,this.localizationService=(0,e.h1)(this.localizationService),0===V?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):1===V&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=d}return u.prototype.visit=function(V){var d=this,S=this.conditionToString(V);if(S)return _.isEmpty(this.result)?this.result=S:(c.fF.assert(function(){return!_.isEmpty(d.logicalOperatorResourceId)},"Logical operator is not set"),this.result=(0,f.W)(this.logicalOperatorResourceId,this.result,S)),this.result},u.prototype.conditionToString=function(V){var S,d=V.value;if(!a(V.operator)||d&&d.hasValue)switch(d&&(S=this.formatter?this.formatter.format(d.value||d.stringValue):d.stringValue),V.operator){case 9:return(0,f.W)(this.localizationService.get("FilterRestatement_Equal"),S);case 10:return(0,f.W)(this.localizationService.get("FilterRestatement_NotEqual"),S);case 3:return(0,f.W)(this.localizationService.get(d.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),S);case 4:return(0,f.W)(this.localizationService.get(d.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),S);case 1:return(0,f.W)(this.localizationService.get(d.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),S);case 2:return(0,f.W)(this.localizationService.get(d.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),S);case 5:return(0,f.W)(this.localizationService.get("FilterRestatement_Contains"),S);case 6:return(0,f.W)(this.localizationService.get("FilterRestatement_DoesNotContain"),S);case 7:return(0,f.W)(this.localizationService.get("FilterRestatement_StartWith"),S);case 8:return(0,f.W)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),S);case 11:return this.localizationService.get("FilterOperator_IsBlank");case 12:return this.localizationService.get("FilterOperator_IsNotBlank");case 13:return this.localizationService.get("FilterOperator_IsEmptyString");case 14:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return c.fF.assertFail("Not supported filter operator"),""}},u}()},425158:function(Je,H,t){t.d(H,{Go:function(){return N},p0:function(){return O}});var e=t(154369),c=t(886740),s=t(415859),f=t(853811),v=t(36629),b=t(489470),h=t(787941),p=t(261374),n=t(426827),l=t(989516),r=t(238435),o=t(283427),a=t(668268),i=t(411916),m=t(734287),u=t(448711),V=t(44615),d=t(601139),S=t(13106),g=t(324356),y=t(983172),C=t(277632),E=t(658353),M=t(156319),P=t(501895),T=t(809395),x=t(456535),R=t(474147),D=t(693285),L=t(597098),F=t(740390),A=t(600348);function O(Pe,ue,ve,xe,ie,Fe,at,We,Oe){if(h.fF.assertValue(Pe,"visualConfig"),h.fF.assertValue(ue,"visualType"),h.fF.assertValue(ve,"schema"),Pe&&ue&&ve){var Ze=ie.visualPluginService.getPlugin(ue);if(Ze){var rt,Ee=Ze.capabilities,K=at||Ee.dataViewMappings,Ne=Pe.query,Y=Ee.sorting?Ee.sorting.implicit:null,ye=Ne?(0,T.i1)(Ne):{};if(K&&Ne){var Ue=(0,o.Lo)(Ne.projections,K,ye,ie.featureSwitchService.featureSwitches,Ee.objects,Pe.objects,Ne.defn.select(),ve);if(!Ue.supportedMappings){var De=function(Pe,ue,ve,xe,ie){var Fe,at=[];switch(Pe.name){case A.D.map:case A.D.azureMap:Fe=function(Pe){var ue=_.some(Pe,function(ie){return"Category"===ie.roleName&&ie.code===o.zS.conditionRangeTooLarge}),ve=_.some(Pe,function(ie){return"X"===ie.roleName&&ie.code===o.zS.conditionKindExpectedGrouping}),xe=_.some(Pe,function(ie){return"Y"===ie.roleName&&ie.code===o.zS.conditionKindExpectedGrouping});return ue?"DataViewMappingError_LocationAndLatLongGroup":ve||xe?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(ue);break;case A.D.scatterChart:Fe=function(Pe,ue){var ve=_.some(Pe,function(Fe){return Fe.roleName===v.TL.category&&Fe.code===o.zS.conditionRangeTooLarge}),xe=_.some(Pe,function(Fe){return Fe.roleName===v.TL.play&&Fe.code===o.zS.conditionRangeTooLarge}),ie=_.some(Pe,function(Fe){return Fe.roleName===v.TL.x&&(Fe.code===o.zS.conditionKindExpectedGrouping||Fe.code===o.zS.conditionKindExpectedMeasure)});return ve?ue.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":xe?"DataViewMappingError_ScatterGroupingPlayAxis":ie?"DataViewMappingError_ScatterXMismatchType":void 0}(ue,xe);break;case A.D.slicer:_.find(ue,function(Ze){return Ze.code===o.zS.conditionNotHierarchicallyRelated})&&(Fe="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!Fe&&!_.isEmpty(ue)){var We=function(Pe){if(_.isEmpty(Pe))return null;for(var ue=[],ve=0,xe=Pe;ve<xe.length;ve++){var ie=xe[ve];if(void 0!==ie.conditionIndex&&void 0!==ie.mappingIndex){var Fe=ie.conditionIndex,at=ie.mappingIndex;ue[Fe]||(ue[Fe]=[]),ue[Fe][at]?ue[Fe][at]++:ue[Fe][at]=1}}for(var Oe,Ze,We=Pe.length+1,Ee=0;Ee<ue.length;Ee++)for(var K=0;K<ue[Ee].length;K++)void 0!==ue[Ee][K]&&We>ue[Ee][K]&&(Oe=Ee,We=ue[Ee][K],Ze=K);var Ne=Pe[0];return void 0!==Oe&&(Ne=_.find(Pe,function(Y){return Y.conditionIndex===Oe&&Y.mappingIndex===Ze})),Ne}(ue);switch(We.code){case o.zS.conditionRangeTooLarge:Fe="DataViewMappingError_ConditionRangeTooLarge";break;case o.zS.conditionRangeTooSmall:Fe="DataViewMappingError_ConditionRangeTooSmall";break;case o.zS.conditionKindExpectedMeasure:Fe="DataViewMappingError_ConditionKindExpectedMeasure";break;case o.zS.conditionKindExpectedGrouping:Fe="DataViewMappingError_ConditionKindExpectedGrouping";break;case o.zS.conditionNotHierarchicallyRelated:return new D.k(Fe="DataViewMappingError_ConditionNotHierarchicallyRelated",ve);case o.zS.conditionSchemaCapabilities_TupleFilters_InstanceFilters:Fe="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case o.zS.conditionKindExpectedGroupingOrMeasure:break;default:h.fF.assertNever(We.code)}at=[de(We,ie,ve)]}if(Fe)return Ce(ve.format(Fe,at),Fe)}(Ze,Ue.mappingErrors,ie.localizationService,ie.featureSwitchService,Ee.dataRoles);if(De)return{error:De,compiled:null};var Le=(0,n.d9)(Ne.projections);for(var Xe in Le){var et=Le[Xe];et.activeProjectionRefs=_.map(et.activeProjectionRefs,function(we){return"select"+(0,f.H6)(we)});for(var he=0,ce=et.all();he<ce.length;he++)et.assignProjection(ce[he]?{queryRef:"select"+(0,f.H6)(ce[he].queryRef)}:null,he)}var Re=new D.k("ClientError_NoSupportedDataViewMappingFound",ie.localizationService);return Re.addDebugInfo("VisualType",ue),Re.addDebugInfo("QueryProjectionsByRole",JSON.stringify(Le)),ie.telemetryService.logEvent(E.Um,{code:ue,debugInfo:JSON.stringify(Re.getDetails(ie.localizationService).debugErrorInfo)}),{error:Re,compiled:null}}rt=function(Pe,ue,ve,xe,ie,Fe,at,We,Oe,Ze,Ee,K,Ne,Y,ye,rt,it,Ue){h.fF.assertValue(Pe,"visualType"),h.fF.assertValue(ue,"schema"),h.fF.assertAnyValue(ve,"query"),h.fF.assertNonEmpty(xe,"supportedMappings"),h.fF.assertAnyValue(Fe,"dataRoles"),h.fF.assertAnyValue(Ee,"additionalFilters"),h.fF.assertAnyValue(Ue,"queryGeneratorCapabilities"),ve=(0,P.OB)(Ze.visual.objects,xe,ve,K,at);var De=(0,c.y)({mappings:xe,queryDefn:ve.defn,queryProjections:ve.projections,schema:ue,objectDescriptors:Ze.visual.descriptors,objectDefinitions:Ze.visual.objects,roles:Fe,featureSwitches:Ne.featureSwitches,transformPluginService:K});if(function(Pe,ue){var ve;if(Pe!==A.D.slicer)return!1;for(var xe=0,ie=ue;xe<ie.length;xe++){var Fe=ie[xe],at=null===(ve=null==Fe?void 0:Fe.metadata)||void 0===ve?void 0:ve.columns;if(1!==(null==at?void 0:at.length)&&_.some(at,function(We){var Oe;return 1===(null===(Oe=null==We?void 0:We.parameter)||void 0===Oe?void 0:Oe.kind)}))return!0}return!1}(Pe,De))return{error:new D.k("DQP_No_MappedColumns_In_HierarchySlicers",Y),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(rt){var Le=te(De),et=rt({dataViewMappings:De,scopedAggregates:Ne.featureSwitches.scopedAggregates});if(et&&et.error){var he=et.error.code;return{error:Ce(Y.get(he),he),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(ve.expansionStates)){var ce=[];h.fF.assert(function(){return 1===De.length},"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var Re=!_.isEmpty(De)&&De[0].matrix;if(Re){var Ge=Re.rows;Ge.for?ce=_.map(Ge.for.in.items,function(Gt){return Gt}):h.fF.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var ut=0,je=ve.expansionStates;ut<je.length;ut++){var ae=je[ut];if(!_.isEmpty(ae.root.children)&&!_.isEmpty(ae.levels))for(var fe=0,we=ae.levels;fe<we.length;fe++)for(var ze=we[fe],$e=0,ot=ce;$e<ot.length;$e++){var _t=ot[$e];_.isEmpty(ze.queryRefs)||_t.queryName!==ze.queryRefs[0]||2!==_t.subtotalType&&(_t.subtotalType=1)}}}ve=function(Pe,ue,ve){if(_.isEqual(ue,ve))return Pe;for(var xe=[],ie=Pe.defn.select(),Fe=0,at=ve;Fe<at.length;Fe++)for(var Oe=_.sortBy(at[Fe],function(Y){return Y.sortOrder}),Ze=0,Ee=Oe;Ze<Ee.length;Ze++){var K=Ee[Ze],Ne=ie.withName(K.queryName);xe.push({direction:K.sort,expr:Ne.expr})}return new C.g(Pe.defn.orderBy(xe),Pe.projections,Pe.expansionStates,Pe.isDrillDisabled)}(ve,Le,te(De))}(function(Pe,ue,ve){for(var xe=0,ie=Pe;xe<ie.length;xe++){var Fe=ie[xe];ue&&!1===ue.allowBinnedLineSample&&G(Fe),ue&&!1===ue.allowOverlappingPointsSample&&ne(Fe),re(ve)||X(Fe)}})(De,We,ue),ve=(0,P.hQ)(K,ve,De),ve=ye.applyImplicitSort(ve,it),ve=ye.ensureValidSorting({query:ve,schema:ue,visualType:Pe,columnProperties:Oe,compiledMappings:De});var dt=function(Pe,ue,ve,xe,ie){for(var Fe,at=[],We=0,Oe=ue;We<Oe.length;We++)(0,r.oF)(Oe[We],{visitRole:function(K){if(K.items)for(var Ne=0,Y=K.items;Ne<Y.length;Ne++){var ye=Y[Ne];if(ye.scalarKeyInfo&&ye.scalarKeyInfo.scalarKeyMinProperty){if(!Fe)if(xe){var rt=(0,s.xF)(xe,ie,void 0,!1);Fe=(0,s.wN)(rt,ie)}else Fe={};at.push(Ve(Pe,ve,ye,Fe))}}}});return{modifiedObjectDefinitions:Fe||xe,addedScalarKeys:at}}(ue,De,ve,Ze.visual.objects,Ze.visual.descriptors),Tt=dt.modifiedObjectDefinitions,Wt=dt.addedScalarKeys;Tt=function(Pe,ue,ve,xe,ie,Fe){if(!Pe||!Pe.dataFilter)return Fe;for(var Ze,at=ie.defn.select(),We=Pe.dataFilter.where(),Oe=Pe.queryRefsForSingleItemDrillFilters,Ee=0,K=xe;Ee<K.length;Ee++){var Ne=K[Ee];!Ne||!Ne.categorical||!Ne.categorical.categories||(0,r.Sr)(Ne.categorical.categories,{visitRole:function(ye){if(!_.isEmpty(ye.items))for(var rt=0,it=ye.items;rt<it.length;rt++){var Ue=it[rt],De=Ue.queryName;if(Ue.filteredToUniqueValueProperty&&_.includes(Oe,De)){var Xe=Qe(at.withName(De).expr,We,ve,ue);Xe&&(Ze||(Ze=Fe?(0,a.d9)(Fe):{}),He(Xe,Ue,Ze))}}}})}return Ze||Fe}(Ee,Ue,ue,De,ve,Tt),Ze.visual.objects=Tt;var Kt=(0,F.S)(ve,Fe),Zt=[Ze.visual];Ze.visualContainer&&Zt.push(Ze.visualContainer);var ar,sr,gr,er=(0,e.l7)(ve.defn,ue,Zt,Kt,ve.projections,ie,Ee&&Ee.dataFilter,!0);if(er){ar=new C.g(er.queryDefn,ve.projections,ve.expansionStates,ve.isDrillDisabled),sr=er.additionalProjections,gr=er.warnings;for(var mr=0,Sr=Wt;mr<Sr.length;mr++){var Mr=Sr[mr],St=ar.defn.selectNameOf(Mr.expr);h.fF.assertValue(St,"scalar key select name"),Mr.roleItem.scalarKeyInfo||(Mr.roleItem.scalarKeyInfo={}),Mr.roleItem.scalarKeyInfo.scalarKeyQueryName=St}Ze.visual=j(Ze.visual,ue,y.m.buildExprEvaluationContext(ve.defn.from())),Ze.visual=W(er.objectDefinitionRewrites,Ze.visual)}return{query:ar||ve,mappings:De,additionalProjections:sr,warnings:gr,objectDefinitions:Ze.visual.objects}}(ue,ve,Ne,Ue.supportedMappings,ye,Ee.dataRoles,Ee,Pe.queryOptions,Pe.columnProperties,(0,T.kT)(Pe,Ee),Fe,ie.transformPluginService,ie.featureSwitchService,ie.localizationService,ie.sortService,null!=Oe?Oe:Ze.customizeQuery,Y,xe)}else{var it=(0,T.kT)(Pe,Ee);rt=function(Pe,ue,ve,xe,ie,Fe,at,We,Oe){if(h.fF.assertAnyValue(Pe,"schema"),h.fF.assertAnyValue(ue,"query"),h.fF.assertAnyValue(xe,"roleMapping"),h.fF.assertAnyValue(ie,"dataRoles"),h.fF.assertAnyValue(at,"additionalFilters"),!ue&&_.isEmpty(xe)){ue=new C.g(S.vQ.create(),{},[]);var Ze=(0,F.S)(ue,ie),Ee=[Fe.visual];Ee.push(Fe.visualContainer);var K=(0,e.l7)(ue.defn,Pe,Ee,Ze,ue.projections,ve,at&&at.dataFilter,!0);if(K){var Ne=new C.g(K.queryDefn,ue.projections,ue.expansionStates,ue.isDrillDisabled),Y=K.additionalProjections,ye=(0,c.y)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:ue.defn,queryProjections:ue.projections,schema:Pe,objectDescriptors:Fe.visual.descriptors,objectDefinitions:Fe.visual.objects,roles:ie,featureSwitches:We.featureSwitches,transformPluginService:Oe});return Fe.visual=j(Fe.visual,Pe,y.m.buildExprEvaluationContext(ue.defn.from())),Fe.visual=W(K.objectDefinitionRewrites,Fe.visual),{query:Ne||ue,mappings:ye,additionalProjections:Y,warnings:K.warnings,objectDefinitions:Fe.visual.objects}}}}(ve,Ne,ye,K,Ee.dataRoles,it,Fe,ie.featureSwitchService,ie.transformPluginService)}var Ge=[];if(rt){if(rt.error)return{error:rt.error,compiled:null};Ge.push.apply(Ge,function(Pe,ue,ve,xe,ie){for(var Fe=new Se(ue.defn,ve,xe,ie),at=0,We=Pe;at<We.length;at++)(0,r.oF)(We[at],Fe);return Fe.warnings}(rt.mappings,rt.query,ve,ie.displayNameService,Ee)||[]),Ge.push.apply(Ge,function(Pe){if(Pe&&Pe.highlightFilter){var ue=Pe.highlightFilter.where(),ve=_.find(ue,function(ie){return 3===(0,d._)(ie.condition)}),xe=_.find(ue,function(ie){return(0,x.hV)(ie.condition)});if(ve||xe)return Pe.dataFilter=Pe.dataFilter?S.yl.merge([Pe.dataFilter,Pe.highlightFilter]):Pe.highlightFilter,Pe.highlightFilter=void 0,[new Be(ve?0:1)]}}(Fe)||[]),rt.warnings&&Ge.push.apply(Ge,rt.warnings||[]);for(var ut=ie.telemetryService.getOpenActivityById(We&&We.getProperty("telemetryActivityId")),je=0,ae=Ge;je<ae.length;je++)ie.telemetryService.logChildEvent(ut&&ut.event,E.s5,{code:ae[je].code})}return{compiled:rt,warnings:Ge}}}}function N(Pe){return h.fF.assertValue(Pe,"compiledMappings"),_.filter(Pe,function(ve){return!ve.usage||!ve.usage.regression})}function j(Pe,ue,ve){var xe,ie={};for(var Fe in Pe.objects){var at=Pe.descriptors[Fe];if(at)for(var We=0,Oe=Pe.objects[Fe];We<Oe.length;We++){var Ze=Oe[We];for(var Ee in Ze.properties){var K=at.properties[Ee];if(K&&K.formatStringProperty){var Ne=Ze.properties[Ee],Y=void 0;if((0,a.Rc)(Ne))Y=Ne;else{if(!(0,a.er)(Ne))continue;Y=Ne.value}if(!(0,a.NA)(Pe.objects,K.formatStringProperty,Ze.selector)){var rt=Y.getMetadata(ue,ve);if(rt&&(rt.type||rt.format)){var it=null!==(xe=rt.format)&&void 0!==xe?xe:(0,u.v1)(rt.type);it&&(0,a.sO)(ie,K.formatStringProperty,Ze.selector,(0,g.fL)(it))}}}}}}if(!_.isEmpty(ie))for(var Fe in Pe.objects=(0,a.d9)(Pe.objects),ie)for(var Ue=0,De=ie[Fe];Ue<De.length;Ue++)for(var Ee in(Ze=De[Ue]).properties)(0,a.sO)(Pe.objects,{objectName:Fe,propertyName:Ee},Ze.selector,Ze.properties[Ee]);return Pe}function W(Pe,ue){if(!_.isEmpty(Pe)){ue.objects=(0,a.d9)(ue.objects);for(var ve=0,xe=Pe;ve<xe.length;ve++){var ie=xe[ve];for(var Fe in ue.objects)for(var at=0,We=ue.objects[Fe];at<We.length;at++){var Oe=We[at];if((0,l.fS)(Oe.selector,ie.selector))for(var Ze in Oe.properties){var Ee=Oe.properties[Ze],K=void 0;if((0,a.Rc)(Ee))K=Ee;else{if(!(0,a.er)(Ee))continue;K=Ee.value}(0,R.fS)(K,ie.from)&&(Oe.properties[Ze]=ie.to)}}}}return ue}function te(Pe){for(var ue=[],ve=0,xe=Pe;ve<xe.length;ve++){for(var Fe=[],at=0,We=xe[ve].metadata.columns;at<We.length;at++){var Oe=We[at];Oe.sort&&Fe.push({queryName:Oe.queryName,sort:Oe.sort,sortOrder:Oe.sortOrder})}ue.push(Fe)}return ue}function re(Pe){return _.every(Pe.schemas,function(ue){return ue.capabilities&&ue.capabilities.supportsTopNPerLevel})}function G(Pe){var ue=Pe.categorical;if(ue&&ue.dataReductionAlgorithm&&ue.dataReductionAlgorithm.binnedLineSample&&(ue.dataReductionAlgorithm=void 0,ue.categories&&(ue.categories.dataReductionAlgorithm={sample:{}}),ue.values)){var ve=ue.values;ve.group&&(ve.group.dataReductionAlgorithm={top:{}})}}function ne(Pe){var ue=Pe.categorical,ve=Pe.matrix;if(ue&&ue.dataReductionAlgorithm&&ue.dataReductionAlgorithm.overlappingPointsSample){var xe=ue.dataReductionAlgorithm.overlappingPointsSample.count;ue.dataReductionAlgorithm={sample:{}},xe&&(ue.dataReductionAlgorithm.sample.count=xe)}else ve&&ve.rows&&ve.rows.dataReductionAlgorithm&&ve.rows.dataReductionAlgorithm.overlappingPointsSample&&(xe=ve.rows.dataReductionAlgorithm.overlappingPointsSample.count,ve.rows.dataReductionAlgorithm={sample:{}},xe&&(ve.rows.dataReductionAlgorithm.sample.count=xe))}function X(Pe){var ue=Pe.matrix;if(ue&&ue.rows&&ue.rows.dataReductionAlgorithm&&ue.rows.dataReductionAlgorithm.topNPerLevel){var ve=ue.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;ue.rows.dataReductionAlgorithm={top:{}},ve&&(ue.rows.dataReductionAlgorithm.top.count=ve)}}function Ve(Pe,ue,ve,xe){var ie=ve.scalarKeyInfo.scalarKeyMinProperty;h.fF.assertValue(ie,"scalarKeyMinProperty"),(0,b.BF)(ve.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var Fe=ue.defn.select().withName(ve.queryName).expr,at=(0,g.m_)((0,i.YN)(Fe,Pe),3);return(0,a.sO)(xe,ie,ve.scalarKeyInfo.selector,at),{roleItem:ve,expr:at}}function Qe(Pe,ue,ve,xe){if(!xe||!xe.hasAmbiguousEqualitySemantics)return!0;var ie=Pe.getKeyColumns(ve);return _.every(ie,function(Fe){return _.some(ue,function(at){var We=M.l.getFilterValuesForColumn(Fe,at);if(1===_.size(We)){var Ze=We[0];if((0,x.VC)(Ze)&&!xe.hasAmbiguousEqualitySemantics(Ze))return!0}return!1})})}function He(Pe,ue,ve){var xe=ue.filteredToUniqueValueProperty;h.fF.assertValue(xe,"filteredToUniqueValueProperty");var ie=(0,g.O7)(Pe);(0,a.sO)(ve,xe,{metadata:ue.queryName},ie)}function Ce(Pe,ue){return{code:ue,getDetails:function(){return{displayableErrorInfo:[],message:Pe}}}}function de(Pe,ue,ve){var xe=Pe.roleName;if(!_.isEmpty(ue)){var ie=_.find(ue,function(Fe){return Fe.name===Pe.roleName});ie&&ie.displayName&&(xe=(0,m.G)(ie.displayName,ve))}return xe}var be=function(){function Pe(ue){this.errorInfos=ue}return Object.defineProperty(Pe.prototype,"code",{get:function(){return"ShowAllDiabledWarning"},enumerable:!1,configurable:!0}),Pe.prototype.getDetails=function(ue){var ve=ue.get("ShowAllDisabledWarning_Value"),xe=_.map(this.errorInfos,function(Fe){return Fe.fieldDisplayName}).join(", ");return{message:ue.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ue.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,p.W)(ve,xe)}]}},Pe}(),Be=function(){function Pe(ue){this.highlightDisableType=ue}return Object.defineProperty(Pe.prototype,"code",{get:function(){switch(this.highlightDisableType){case 0:return"HighlightWithTOPNDisabledWarning";case 1:return"HighlightWithExistsFiltersDisabledWarning"}},enumerable:!1,configurable:!0}),Pe.prototype.getDetails=function(ue){var ve=0===this.highlightDisableType,ie=ve?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",Fe=ve?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:ue.get(ve?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ue.get(ie),errorInfoValue:ue.get(Fe)}]}},Pe}(),Se=function(){function Pe(ue,ve,xe,ie){h.fF.assertValue(ue,"query"),h.fF.assertValue(ve,"schema"),h.fF.assertValue(xe,"displayNameService"),this.displayNameService=xe,this.incompatibleExprInfo=[];for(var Fe=0,at=ue.select();Fe<at.length;Fe++){var We=at[Fe],Oe=(0,L.Q)(We.expr);Oe&&Oe.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,V.Hp)(Oe),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(We.expr,ve,ie)})}this.warnings=[]}return Pe.prototype.visitRole=function(ue){ue.showAll&&this.incompatibleExprInfo.length>0&&(ue.showAll=!1,this.warnings.push(new be(this.incompatibleExprInfo)))},Pe}()},168099:function(Je,H,t){t.d(H,{j:function(){return c}});var e=t(156319),c=function(){function s(){}var f;return f=s,s.DetailVisualBorder=10,s.supportsVisualDetails=function(v,b,h){var p=b.capabilities(v);return!(!p||!h.isQueryVisual(v)||h.isAnalysisVisual(v)||p.disableVisualDetails)&&_.some(p.dataViewMappings,function(n){return n.categorical||n.matrix||n.table||n.tree})},s.supportsMatrixView=function(v,b,h){return f.supportsVisualDetails(v,b,h)&&!h.isTableVisual(v)&&!h.isMatrixVisual(v)&&!e.l.supportsFilterOutput(b.capabilities(v))},s.getDetailVisualViewport=function(v,b){var p,n;return 1===(b||1)?(p=v.width-2*s.DetailVisualBorder,n=v.height-s.DetailVisualBorder):(p=v.width-s.DetailVisualBorder,n=v.height-2*s.DetailVisualBorder),{width:Math.max(p,0),height:Math.max(n,0),scale:v.scale}},s.adjustViewport=function(v,b,h){var n=v||1,l=s.getDetailVisualViewport(b,n);return h&&1===n&&(l={width:l.width,height:Math.max(l.height-33,0),scale:l.scale}),l},s}()},251066:function(Je,H,t){t.d(H,{g:function(){return f},z:function(){return v}});var e=t(745969),c=t(261374),s=t(787941);function f(b,h,p,n,l){var r;if(!_.isEmpty(b)){if(1===b.length)return b[0];var o=null==l?void 0:l.limit;if(null!=o&&o<=0&&(s.fF.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),o=null),null!=o&&_.size(b)>o+1){var a=_.take(b,o);if(1===_.size(a))return(0,c.W)(p.stringResourceProvider.get(l.limitedValueShownResourceKey),a[0]);var i=null!==(r=l.multiLimitedValuesShownResourceKey)&&void 0!==r?r:l.limitedValueShownResourceKey;return(0,c.W)(p.stringResourceProvider.get(i),a.join(p.stringResourceProvider.get("ListJoin_Separator")))}var m=b.pop();return 1===_.size(b)?(0,c.W)(p.stringResourceProvider.get(h),b[0],m):(0,c.W)(p.stringResourceProvider.get(null!=n?n:h),b.join(p.stringResourceProvider.get("ListJoin_Separator")),m)}}function v(b,h){var p=(0,e.b)(b);return(3===b||4===b)&&h&&h.type&&(h.type.dateTime?p="Date"+p:h.type.text&&(p="String"+p)),p}},571330:function(Je,H,t){t.d(H,{LG:function(){return h},S1:function(){return f},WO:function(){return s},dR:function(){return v}});var e=t(883863),c=t(787941);function s(o,a){if(c.fF.assertAnyValue(o,"capabilities"),a)return[];var i=o.drilldown;return null!=i&&i.roles?i.roles:[]}function f(o){var a;return c.fF.assertValue(o,"capabilities"),!(null===(a=o.drilldown)||void 0===a||!a.canDisableDrill)}function v(o){return c.fF.assertValue(o,"capabilities"),f(o)&&!!o.drilldown.canDisableDrill.disabledByDefault}function b(o,a,i){c.fF.assert(function(){return null!=a},"queryRef should exist while removing drill filters");var m=o.defn.select().withName(a);return c.fF.assertValue(m,"did not find queryRef in query.select while removing drill filter"),m?{expr:m.expr,roleName:i}:void 0}function h(o,a,i){if(a){var m;switch(i){case 1:m=function(o,a){var i=[],m=o.projections,u=a.sourceCount,V=a.sourceIndex,d=a.sourceRole,S=a.targetRole;if(m[S]){var y=(g=m[S]).all(),C=a.targetIndex;C>=V&&d===S&&(C+=u);for(var M=g.convertFieldIndexToProjectionIndex(C),P=y.length;M<P;M++){for(var T=g.getProjectionsByProjectionIndex(M),x=0,R=T;x<R.length;x++)i.push(b(o,R[x].queryRef,S));M+=T.length-1}}if(m[d])for(var g=m[d],L=u-1;L>=0;L--)for(var A=0,O=g.getProjectionsByFieldIndex(V+L);A<O.length;A++)i.push(b(o,O[A].queryRef,d));return i}(o,a);break;case 0:if(a.expr){m=[];for(var d=0,S=(0,e.rY)(a.expr);d<S.length;d++)m.push(n(o,S[d]))}else m=function(o,a){var i,m=[],u=null!==(i=a.count)&&void 0!==i?i:1,V=a.role,d=o.projections[V];if(d)for(var S=a.projOptions.fieldIndex+u-1,g=u-1;g>=0;g--,S--)for(var C=0,E=d.getProjectionsByFieldIndex(S);C<E.length;C++)m.push(b(o,E[C].queryRef,V));return m}(o,a);break;case 2:break;default:return void c.fF.assertNever(i)}return _.compact(m)}}function n(o,a){var i=o.defn.selectNameOf(a),m=function(o,a){for(var i in o){var m=o[i].all();if(_.findIndex(m,function(V){return V.queryRef===a})>=0)return i}}(o.projections,i);return{expr:a,roleName:m}}},618630:function(Je,H,t){t.d(H,{i:function(){return c}});var e=t(456535);function c(s,f){return(1===s||2===s)&&_.some(f,function(v){return v.asAggregation||v.fieldExpr&&(0,e.kb)(v.fieldExpr)})}},971634:function(Je,H,t){t.d(H,{it:function(){return f},mb:function(){return h},qL:function(){return s},qt:function(){return l},tn:function(){return b},u6:function(){return r}});var e=t(787941),c=t(656011);function s(o,a,i){var m=p(o,a);return(i&&""!==i?(0,c.A9)((0,c.bW)(i)):-Number.MAX_VALUE)>m}function f(o,a,i){var m=p(o,a);return(i&&""!==i?(0,c.A9)((0,c.bW)(i)):Number.MAX_VALUE)<m}function b(o,a){var i=(0,c.bW)(o),m=(0,c.ei)(i);if(m.length<=0)return e.fF.assertFail("Unable to parse the value and units"),"";var u=m[0].value,V=function(o,a){var i=o.value,m=o.unit,u=o.isTimeUnit;switch(m){case"S":return a.get(1===i?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return a.get(u?1===i?"TimeUnit_Minute":"TimeUnit_Minutes":1===i?"TimeUnit_Month":"TimeUnit_Months");case"H":return a.get(1===i?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return a.get(1===i?"TimeUnit_Day":"TimeUnit_Days");case"W":return a.get(1===i?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return a.get(1===i?"TimeUnit_Year":"TimeUnit_Years");default:return e.fF.assertNever(m),""}}(m[0],a);return"".concat(u," ").concat(V)}function h(o){switch(o){case"S":case"M":case"H":return!0;default:return!1}}function p(o,a){var i=[{value:o,unit:a,isTimeUnit:h(a)}],m=(0,c.Gk)(i);return(0,c.A9)(m)}function n(o,a){var i=Math.pow(10,a||0);return Math.round(o*i)/i}function l(o,a){return isNaN(o)?a.get("TwoDashes"):o<60?1===o?a.get("TimeUnit_One_second"):a.format("TimeUnit_seconds_with_value",[n(o,1)]):(o/=60)<60?1===o?a.get("TimeUnit_One_minute"):a.format("TimeUnit_minutes_with_value",[n(o,1)]):1==(o/=60)?a.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):a.format("TimeUnit_hours_with_value",[n(o,1)])}function r(o,a){var i=o.value,m=o.unit,u=o.isTimeUnit;switch(m){case"S":return 1===i?a.get("TimeUnit_One_second"):a.format("TimeUnit_seconds_with_value",i);case"M":return u?1===i?a.get("TimeUnit_One_minute"):a.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",i):1===i?a.get("TimeUnit_One_month"):a.format("TimeUnit_months_with_value",i);case"H":return 1===i?a.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):a.format("TimeUnit_hours_with_value",i);case"D":return 1===i?a.get("TimeUnit_One_day"):a.format("TimeUnit_days_with_value",i);case"W":return 1===i?a.get("TimeUnit_One_week"):a.format("TimeUnit_weeks_with_value",i);case"Y":return 1===i?a.get("TimeUnit_One_year"):a.format("TimeUnit_years_with_value",i);default:return e.fF.assertNever(m),""}}},973298:function(Je,H,t){t.d(H,{v:function(){return v}});var e=t(226514),c=t(787941),s=t(725311),v=function(b){function h(p,n){var l=b.call(this,n)||this;return l.rewriters=p,c.fF.assertValue(p,"rewriters"),l}return(0,e.__extends)(h,b),h.prototype.visitFilterContainer=function(p){(0,s.Oe)(p,this.rewriters)},h}(function(){function b(h){this.visualContainerStateVisitor=h}return b.prototype.visitFilterContainer=function(h){},b.prototype.visitSectionState=function(h){},b}())},897480:function(Je,H,t){t.d(H,{Jh:function(){return l},wD:function(){return v}});var e=t(787941),c=t(8590),s=t(160046),f=t(809395);function v(S,g,y){e.fF.assertValue(g,"visitor"),e.fF.assertValue(S,"exploration"),g.visitExploration(S),i(S.filters,g);var C=S.bookmarks;if(!_.isEmpty(C))for(var E=0,M=C;E<M.length;E++)b(M[E],S.sections,y,g);var T=S.sections;if(!_.isEmpty(T))for(var x=0,R=T;x<R.length;x++)p(R[x],g,y);!function(S,g){if(!_.isEmpty(S))for(var y=0,C=S;y<C.length;y++)g.visitPod(C[y])}(S.pods,g)}function b(S,g,y,C){if(C.visitBookmark(S),c.J.isBookmarkGroup(S))for(var E=0,M=S.children;E<M.length;E++)b(M[E],g,y,C);else!function(S,g,y,C){S&&(m(S.filters,C),_.forOwn(S.sections,function(E,M){!function(S,g,y,C){if(S&&g){C.visitSectionState(S),m(S.filters,C);var E=C.visualContainerStateVisitor;if(E){var M=g.visualContainers;_.forOwn(S.visualContainers,function(P,T){!function(S,g,y,C){!S||!g||(C.visitVisualContainerState(S),m(S.filters,C),function(S,g){if(S){if(!_.isEmpty(S.selection))for(var y=0,C=S.selection;y<C.length;y++)g.visitSelectorsByColumn(C[y]);S.filterExpressionMetadata&&g.visitFilterExpressionMetadata(S.filterExpressionMetadata)}}(S.highlight,C),function(S,g,y,C){if(S){C.visitSingleVisualState(S);var E=S.orderBy;E&&C.visitOrderByStates(E);var M=S.objects;if(M){var P=(0,f.cj)(g,y);if(P){var T=P.objects;T&&C.visitDataViewObjectDefinitionUpdates(M,T)}var x=M.merge;x&&u(x,C);var R=M.remove;if(!_.isEmpty(R))for(var D=0,L=R;D<L.length;D++){var A=L[D].selector;A&&C.visitSelector(A)}}var O=S.activeProjections;O&&C.visitActiveProjectionStates(O)}}(S&&S.singleVisual,g,y,C))}(P,_.find(M,function(R){return R.name===T}),y,E)})}}}(E,_.find(g,function(T){return T.name===M}),y,C)}))}(S.explorationState,g,y,C.explorationStateVisitor)}function p(S,g,y){e.fF.assertValue(S,"section"),g.visitSection(S),i(S.filters,g),function(S,g){if(!_.isEmpty(S))for(var y=0,C=S;y<C.length;y++)g.visitLinkField(C[y])}(S.linkFields,g);var C=S.visualContainers;if(!_.isEmpty(C))for(var E=0,M=C.length;E<M;E++)l(C[E],g.visualContainerVisitor,y)}function l(S,g,y){var C;if(g.visitVisualContainer(S),S.config&&(C=S.config.singleVisual)){g.visitSingleVisualConfig(C);var E=C.query;E&&g.visitQuery(E);var M=function(F,A){A&&g.visitDataViewObjects(F,A),u(F,g)},P=C.objects;if(P){var T=void 0,x=(0,f.cj)(S,y);x&&(T=x.objects),M(P,T)}var R=C.vcObjects;if(R){M(R,T=s.XW);var D=C.vcObjects.visualLink;D&&g.visitVisualLinks(D)}}i(S.filters,g)}function i(S,g){if(!_.isEmpty(S))for(var y=0,C=S;y<C.length;y++){var E=C[y];e.fF.assertValue(E,"traverseFilters: collection contains null filterContainer"),null!=E&&g.visitFilterContainer(E)}}function m(S,g){if(S){_.forOwn(S.nameIdentifiedMerges,function(T){g.visitFilterContainer(T)});var C=S.exprIdentifiedMerges;if(!_.isEmpty(C))for(var E=0,M=C;E<M.length;E++)g.visitFilterContainer(M[E])}}function u(S,g){_.forOwn(S,function(y){if(!_.isEmpty(y))for(var C=0,E=y;C<E.length;C++){var P=E[C].selector;P&&g.visitSelector(P)}})}},909904:function(Je,H,t){t.d(H,{b:function(){return e}});var e=function(){function c(s,f){this.explorationStateVisitor=s,this.visualContainerVisitor=f}return c.prototype.visitBookmark=function(s){},c.prototype.visitFilterContainer=function(s){},c.prototype.visitExploration=function(s){},c.prototype.visitSection=function(s){},c.prototype.visitLinkField=function(s){},c.prototype.visitPod=function(s){},c}()},969072:function(Je,H,t){t.d(H,{HD:function(){return r},Kz:function(){return a},Pb:function(){return C},XV:function(){return i},ac:function(){return S},cr:function(){return V},k:function(){return l},kr:function(){return o}});var e=t(790866),c=t(883863),s=t(787941),f=t(989516),v=t(19632),b=t(217926),h=t(324356),p=t(456535),n=t(474147);function l(E,M,P,T){if(void 0===T&&(T=!1),!_.isEmpty(E)&&function(E,M){if(!_.isEmpty(E)){var P=_.map(E,function(T){return(0,f.tV)(T)});return S(P,M)}}(E,M))return _.some(E,function(D){return D.valueDetails})&&T?function(E,M){if(!_.isEmpty(E)){for(var P={expressions:[],cachedValueItems:[]},T=0,x=E;T<x.length;T++){var R=x[T],D={identities:[],valueMap:{}};if(!R.valueDetails){var L=e.Om.getDataViewKind(M);R.valueDetails=e.Om.query([M],R,L,[],!0)}for(var F=0,A=R.valueDetails;F<A.length;F++){var O=A[F];if(O.expr&&((0,p.t3)(O.expr)||(0,p.ez)(O.expr))){var N=_.indexOf(P.expressions,O.expr);N<0&&(P.expressions.push(O.expr),N=P.expressions.length-1),D.valueMap[N]=O.formattedValue}}if(!_.isEmpty(D.valueMap)){for(var w in R.dataMap)for(var B=0,j=(0,c.rY)(R.dataMap[w]);B<j.length;B++){var W=j[B];1===W.kind?D.identities.push(W):s.fF.assertFail("Unexpected item.kind")}P.cachedValueItems.push(D)}}return P}}(E,P):function(E){if(!_.isEmpty(E)){for(var M={expressions:[],cachedValueItems:[]},P=0,T=E;P<T.length;P++){for(var x=T[P],R={identities:[],valueMap:{}},D=0,L=x.selector.data;D<L.length;D++){var F=L[D];1===F.kind?R.identities.push(F):s.fF.assertFail("Unexpected item.kind")}for(var A=0,O=x.values;A<O.length;A++){var N=O[A];if(N.expr instanceof h.Wh||(0,p.ez)(N.expr)){var w=_.indexOf(M.expressions,N.expr);w<0&&(M.expressions.push(N.expr),w=M.expressions.length-1),R.valueMap[w]=N.formattedValue}}_.isEmpty(R.valueMap)||M.cachedValueItems.push(R)}return M}}(e.Om.getDataPointsDescription(P,E))}function r(E,M){if(!E||!M)return E||M;for(var P={expressions:M.expressions.slice(),cachedValueItems:_.isEmpty(M.cachedValueItems)?[]:M.cachedValueItems.slice()},T={},x=function(w){var I=E.expressions[w],B=_.findIndex(P.expressions,function(j){return j===I||(0,n.fS)(j,I)});-1===B&&(B=M.expressions.length,P.expressions.push(I)),T[w]=B},R=0;R<E.expressions.length;R++)x(R);if(!_.isEmpty(E.cachedValueItems))for(var D=0,L=E.cachedValueItems;D<L.length;D++){var F=L[D],A={};for(var O in F.valueMap)A[T[O]]=F.valueMap[O];P.cachedValueItems.push({identities:F.identities,valueMap:A})}return P}function o(E){for(var M=null,P=0,T=E;P<T.length;P++)M=r(T[P],M);return M}function a(E,M){if(!_.isEmpty(M)&&E){for(var P=[],T=0,x=M;T<x.length;T++){var R=x[T],D={identities:[R.identity],valueMap:{}};D.valueMap[0]=R.displayName,P.push(D)}return{expressions:[E],cachedValueItems:P}}}function i(E,M){if(E.length&&M.cachedValueItems&&M.cachedValueItems.length)for(var P=function(R){var D=E[R],L=D.dataMap,F=R,A=M.cachedValueItems[F].identities,O=!0,N=0;for(var w in L)for(var B=0,j=(0,c.rY)(L[w]);B<j.length;B++){if(!A[N]||!(0,v.fS)(j[B],A[N])){O=!1;break}N++}if(O||(F=_.findIndex(M.cachedValueItems,function(Q){var te=0;for(var ee in L)for(var re=0,G=(0,c.rY)(L[ee]);re<G.length;re++){if(!Q.identities[te]||!(0,v.fS)(G[re],Q.identities[te]))return!1;te++}return!0})),F<0)return s.fF.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),"continue";var U=[],k=M.cachedValueItems[F].valueMap;for(var w in k)U.push({identity:M.cachedValueItems[F].identities[0],expr:M.expressions[w],formattedValue:k[w],value:k[w]});D.valueDetails=U},T=0;T<E.length;T++)P(T)}function V(E){if(E&&!(_.isEmpty(E.expressions)||E.expressions.length>1)){for(var M=[],P=0,T=E.cachedValueItems;P<T.length;P++){var x=T[P];if(_.isEmpty(x.identities)||x.identities.length>1)return;s.fF.assertAnyValue(x.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),M.push({identity:x.identities[0],displayName:x.valueMap[0]})}return M}}function S(E,M){if(!_.isEmpty(E)&&M&&M.query)for(var P=M.query.defn.select(),T=0,x=E;T<x.length;T++){var D=(0,f.CT)(x[T]);if(_.isEmpty(D))return;for(var L=0,F=D;L<F.length;L++){var N=(0,b.RR)(F[L].expr);s.fF.assertNonEmpty(N,"identityFields are expected");for(var w=0,I=N;w<I.length;w++)for(var B=I[w],j=0,W=P;j<W.length;j++)if(!(0,n.fS)(B,W[j].expr))return!0}}}function C(E,M){if(!E)return null;for(var P,T=0;T<E.length;T++){var x=(0,h.Dg)(E[T],M[T]);P=P?(0,h.xD)(P,x):x}return(0,v.TZ)(P)}},156319:function(Je,H,t){t.d(H,{l:function(){return L}});var e=t(226514),c=t(322487),s=t(972817),f=t(535909),v=t(787941),b=t(129035),h=t(668268),p=t(620108),n=t(19632),l=t(448711),r=t(44615),o=t(597098),a=t(601139),i=t(217926),m=t(13106),u=t(983172),V=t(116170),d=t(477898),S=t(942983),g=t(505876),y=t(1745),C=t(555161),E=t(809395),M=t(971028),P=t(456535),T=t(374952),x=t(331115),R=t(474147),L=function(){function O(){}return O.getFormatter=function(N,w){var I=N.getMetadata(w);if(I)return(0,l.Ue)({format:I.format,allowFormatBeautification:!0})},O.getFilterType=function(N,w){return(0,T.k)(N)||!w?g.vA.Advanced:g.vA.Categorical},O.canAdd=function(N,w,I,B,j,W){if(!w||!I)return!1;if(v.fF.assertValue(B,"scope"),!(0,M.Xz)(N,W)&&(0,T.k)(w))return!1;var k=(0,o.Q)(w,I),Q=(0,r.Um)(k),te=I.schema(Q.schema);if(!te)return!1;var J,re,ee=te.findProperty(Q.entity,(0,r.Hp)(k));if(ee||(k.hierarchyLevel?(J=te.findHierarchy(Q.entity,k.hierarchyLevel.name))&&(re=J.levels.withName(k.hierarchyLevel.level)):k.columnHierarchyLevelVariation&&(J=te.findHierarchy(k.columnHierarchyLevelVariation.level.entity,k.columnHierarchyLevelVariation.level.name))&&(re=J.levels.withName(k.columnHierarchyLevelVariation.level.level))),!ee&&!re||!B||!B.container||ee&&1===ee.kind&&(0!==B.scopeType||te.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!j)return!1;if(j){var G=ee&&ee.kind;if(!re&&0!==G&&1!==G)return!1;var X=!1;if(1===B.scopeType){var oe=B.container;oe&&!oe.transient&&(X=!0)}if(!X)return!1}if(0===B.scopeType){var Ve=B.container;if(!Ve||!(0,M.zr)(Ve,W))return!1}return!0},O.supportsFilterOutput=function(N){return null!=this.tryGetFilterPropertyIdentifier(N,null,null)},O.tryGetFilterPropertyIdentifier=function(N,w,I){return w&&I&&I.isCustomVisual(w)?d.Ro:N?(0,p.MD)(N.objects):void 0},O.tryGetFilterProperty=function(N,w,I,B){var j=this.tryGetFilterPropertyIdentifier(N,w,I);if(j)return(0,h.NA)(B,j,void 0)},O.add=function(N,w){N.filters||(N.filters=[]),N.filters.push(w)},O.getFiltersContainer=function(N,w,I){switch(N){case 0:return C.UP.getSelectedVisual(w);case 1:return I.getCurrentSection();case 2:return I.getCurrentExploration();default:v.fF.assertNever(N)}},O.convertFilterData=function(N,w,I){if(N){var B={filter:N.filter,name:this.getNextFilterName(w),type:N.type,restatement:N.restatement,howCreated:I};if(N.type===g.vA.Categorical||N.filterExpressionMetadata&&1===N.filterExpressionMetadata.expressions.length){B.expression=N.filterExpressionMetadata.expressions[0];var j=[];if(!_.isEmpty(N.filterExpressionMetadata.cachedValueItems)){for(var W=0,U=N.filterExpressionMetadata.cachedValueItems;W<U.length;W++){var k=U[W];1===k.identities.length&&j.push({identity:k.identities[0],displayName:k.valueMap[0]})}B.cachedValueItems=j}}else N.filterExpressionMetadata&&(B.filterExpressionMetadata=N.filterExpressionMetadata);return B}},O.shouldDisableFilter=function(N,w,I,B,j){if(!I)return!1;var W=N.expression;if(!W)return!1;var U=(0,T.k)(W),k=!_.isEmpty(this.validate(N,w,B)),Q=(0,E.e4)(I,w);if(U){if(!Q&&!k)return!0;var te=W.getTargetEntity();if(!te)return!0;if(w.schema(te.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,E.jW)(I,w,j)||(0,E.EL)(I))return!0}return!1},O.getValueType=function(N,w){var I=N.getMetadata(w);if(I)return I.type},O.getDefaultRetainedValue=function(N,w){var I=u.m.getDefaultValues(N,w);if(!_.isEmpty(I))return{isNot:!1,scopeIds:[[(0,n.TZ)((0,x.R)(N,I))]]}},O.validate=function(N,w,I){v.fF.assertValue(N,"filterContainer");var j=N.filter,W=u.m.validate(N.expression,w,I);if(j&&(W=j.validate(w,I,W)),!_.isEmpty(W))return W},O.getNextFilterName=function(N){null==N&&(N=[]);for(var w={},I=0,B=N;I<B.length;I++){var j=B[I];v.fF.assertValue(j,"getNextFilterName: collection contains null filter"),null!=j&&(w[j.name]=!0)}return f.q.generateUniqueId(w,"Filter")},O.isCategoricalFilter=function(N){return N===g.vA.Categorical||N===g.vA.Visual},O.getQueryRefsForSingleItemDrillFilters=function(N,w,I){var B=N.filters,j=[];if(B)for(var W=0,U=B;W<U.length;W++){var k=U[W],Q=k&&k.filter;if(Q&&_.isEmpty(Q.validate(w,I))&&2===k.howCreated&&this.areDrillFiltersSingleValue(Q.where())){var te=this.getQueryRefFromFilter(N,k.expression);te&&j.push(te)}}return j},O.areDrillFiltersSingleValue=function(N){return!_.isEmpty(N)&&_.every(N,function(w){if(null==w)return!1;var I=w.condition;return(0,P.Hi)(I)?I.values&&1===I.values.length:!!(0,P.Pe)(I)&&0===I.comparison})},O.getQueryRefFromFilter=function(N,w){var I=(0,E.Xf)(N);if(I)return I.defn.selectNameOf(w)},O.getFilterValuesForColumn=function(N,w){if(v.fF.assertAnyValue(w,"filters"),v.fF.assertValue(N,"column"),w){var I=w.condition,B=new A(N);return I.accept(B),B.values}},O.deriveFromSQFilters=function(N,w,I){var B=[],j=I&&I.Filters&&0!==I.Filters.length?I.Filters:null;j&&j.length!==w.length&&(j=null);for(var W=0,U=w.length;W<U;W++){var k=w[W],Q=j&&j[W],te=Q&&Q.expression&&c.ib.deserializeExpr(Q.expression);B.push({name:this.getNextFilterName(B),filter:new m.yl(N,[k]),restatement:Q&&Q.Restatement,expression:te,howCreated:0,type:Q&&Q.type})}return B},O.extractParameterFilters=function(N,w){v.fF.assertValue(N,"queryDefn"),v.fF.assertAnyValue(w,"queryMetadata");var I=_.filter(N.From,function(U){return 1!==U.Type}),j={RemovedIndexes:[]},W=c.ib.deserializeFilter({Version:N.Version,From:I,Where:N.Where},j);if(w&&!_.isEmpty(j.RemovedIndexes)&&(w.Filters=_.filter(w.Filters,function(U,k){return!_.includes(j.RemovedIndexes,k)})),W)return this.deriveFromSQFilters(W.from(),W.where(),w)},O.mergeExplorationSectionFilters=function(N,w){v.fF.assertValue(N,"exploration"),v.fF.assertValue(w,"section"),_.isEmpty(N.filters)||(w.filters=this.mergeFilters(w.filters,N.filters,"explore"),N.filters=[])},O.isFilterModified=function(N){var W=!0===N.isHiddenInViewMode||!0===N.isLockedInViewMode||!!N.displayName||void 0!==N.ordinal;return!!N.filter||!(0,h.xb)(N.objects)||W},O.ensureFilterHasName=function(N,w){null==N.name&&this.isFilterModified(N)&&(N.name=this.getNextFilterName(w.container&&w.container.filters))},O.applySectionParameterFilters=function(N,w,I,B,j){v.fF.assertValue(N,"section"),v.fF.assertAnyValue(w,"pod"),v.fF.assertAnyValue(B,"parameterFilters"),v.fF.assertAnyValue(I,"additionalSourceFilters");var W=j;if(N.filters=this.getSectionParameterFiltersToApply(w,N.filters,I,B),(!_.isEmpty(B)||!_.isEmpty(I))&&(W=!0),W)for(var U=0,k=N.visualContainers;U<k.length;U++)k[U].cachedData=null},O.getFiltersToApplyFromVisualQueryFilterContext=function(N){if(N){var w=N.dataFilters?N.dataFilters.slice():[];N.highlightFiltersUnmerged&&(w=w.concat(N.highlightFiltersUnmerged));for(var I=[],B=[],j=0,W=w;j<W.length;j++){var U=W[j],k=U.filter.where();if(!_.isEmpty(k)){var Q=_.filter(k,function(J){return 1===(0,a._)(J.condition)});if(B.push.apply(B,Q||[]),!_.isEmpty(Q)){var te=_.filter(k,function(J){return 1!==(0,a._)(J.condition)});if(_.isEmpty(te))continue;U={filter:m.yl.fromSQFromAndSQFilters(U.filter.from(),te)}}I.push(U)}}if(!_.isEmpty(B)){var ee=m.yl.fromMeasureFilters(N.query,B);ee&&I.push({filter:ee})}return I}},O.findValuesInFilterCache=function(N,w,I){if(v.fF.assert(function(){return N.length===w.length},".extractValuesFromMetadata the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems)){var B=this.findIdentityMapInFilterCache(N,w,I);if(B){var j=[],W=[];for(var U in B.valueMap)j.push(B.valueMap[U]),W.push(I.expressions[U]);return{values:j,columns:W}}}},O.removeEntryFromFilterCache=function(N,w,I){if(v.fF.assert(function(){return N.length===w.length},".removeEntryFromFilterCache the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems)){var B=this.findIdentityMapInFilterCache(N,w,I);B&&_.remove(I.cachedValueItems,function(j){return j===B})}},O.findIdentityMapInFilterCache=function(N,w,I){if(v.fF.assert(function(){return N.length===w.length},".findIdentityMapInFilterCache the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems))for(var B=0,j=I.cachedValueItems;B<j.length;B++){for(var W=j[B],U=new i.aL,k=0,Q=W.identities;k<Q.length;k++)Q[k].expr.accept(U);if(U.keys.length===N.length){for(var ee=!0,J=function(X){var oe=U.keys[X];if(_.findIndex(N,function(Te){return(0,R.fS)(Te,oe)})<0||w[X].value!==U.values[X].value)return ee=!1,"break"},re=0;re<U.keys.length&&"break"!==J(re);re++);if(ee)return W}}},O.getSectionParameterFiltersToApply=function(N,w,I,B){v.fF.assertAnyValue(N,"pod"),v.fF.assertAnyValue(w,"sectionFilters"),v.fF.assertAnyValue(B,"parameterFilters"),v.fF.assertAnyValue(I,"additionalSourceFilters");var j=(0,e.__spreadArray)([],w||[],!0);if(_.isEmpty(B)||N&&!_.isEmpty(N.parameters)&&_.remove(j,function(U){return _.some(N.parameters,function(k){return k.boundFilter===U.name})}),!_.isEmpty(B)||!_.isEmpty(I)){var W=this.getUnOverriddenAndMergedFilters(B,I);return this.getUnOverriddenAndMergedFilters(W,j)}return j},O.getUnOverriddenAndMergedFilters=function(N,w){if(v.fF.assertAnyValue(N,"higherPrecedenceFilters"),v.fF.assertAnyValue(w,"lowerPrecedenceFilters"),_.isEmpty(N))return w;if(_.isEmpty(w))return N;var I=this.getNonoverriddenFilters(N,w);return this.mergeFilters(I||[],N||[],"param")},O.getNonoverriddenFilters=function(N,w){var I=this;if(v.fF.assertAnyValue(N,"higherPrecedenceFilters"),v.fF.assertAnyValue(w,"lowerPrecedenceFilters"),_.isEmpty(N)||_.isEmpty(w))return w;var B=this.extractAllReferencedFields(N);return _.filter(w,function(W){var U=I.extractReferencedFields(W);return!_.some(U,function(k){return _.some(B,function(Q){return(0,R.fS)(Q,k,!1,!0)})})})},O.extractParameterFiltersFromSection=function(N,w){v.fF.assertAnyValue(N,"sectionFilters"),v.fF.assertAnyValue(w,"originalFilters"),N=N||[];for(var I={},B=[],j=0,W=w=w||[];j<W.length;j++)I[(U=W[j]).name]=U;for(var k=0,Q=N;k<Q.length;k++){var U,te=I[(U=Q[k]).name];(!te||!_.isEqual(te,U))&&B.push(U)}return B},O.mergeFilters=function(N,w,I){for(var B={},j=0,W=N=N||[];j<W.length;j++)B[(U=W[j]).name]=!0;for(var k=0,Q=w;k<Q.length;k++){var U;(U=Q[k]).name=I+"_"+U.name,B[U.name]?v.fF.assertFail("Filter name conflict: "+U.name):B[U.name]=!0}return N.concat(w)},O.canExpandManually=function(N,w,I,B,j){return 6!==N&&!(5===N&&!w&&j!==g.vA.Exclude&&j!==g.vA.Include&&I&&(0,P.kb)(I)||!B)},O.hasMeasureOrAsAggregationLinkField=function(N){return v.fF.assertValue(N,"section"),_.some(N.filters,function(w){return 5===w.howCreated&&!w.isTransient&&(w.isLinkedAsAggregation||w.expression&&(0,P.kb)(w.expression))})},O.notifyFilterContainerChangedByUser=function(N,w){N.publishToChannel(y.d8V,{source:"UserAction_ChangeFilter"}),N.publishToChannel(y.Tuj,w)},O.createChangeFilterActivity=function(N,w){return N.createActivity({name:"Change Filter",operationType:w})},O.notifyBufferedFilterChanges=function(N,w,I,B,j,W){N.publishToChannel(y.Oij,{filterScopeType:w,filterType:I,id:B,canApply:j,wasDeleted:W})},O.isApplyAllEnabled=function(N,w){var I=w.getCurrentExploration();return!!(N&&I&&I.slowDataSourceSettings)&&I.slowDataSourceSettings.isApplyAllButtonEnabled},O.getFilterCardStyle=function(N,w,I,B){var W,U,j=N&&N.filterCard;w?(W=j&&j.$instances&&j.$instances[S.ZF],U=S.Hd):(W=j&&j.$instances&&j.$instances[S.Kc],U=S.$V);var k=this.getDefaultFilterCardStyle(N,w,I,B);return null!=B&&B.forceApplyDefaultStyleOverride?k:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(N&&N.outspacePane,k.checkboxAndApplyColor),borderColor:this.getBorderColor(W,k.borderColor,null==B?void 0:B.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(W,k.backgroundColor,U,w,k.backgroundColorApplied),foregroundColor:this.getColor(W,"foregroundColor",k.foregroundColor),inputBoxBorderColor:this.getBorderColor(W,k.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(W,"inputBoxColor",k.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(W,"foregroundColor",k.inputBoxForegroundColor),fontSize:null!=B&&B.ignoreFontSizeAndFamily?null:k.fontSize,fontFamily:null!=B&&B.ignoreFontSizeAndFamily?null:k.fontFamily}},O.getDefaultFilterCardStyle=function(N,w,I,B){var j,W,k,Q,U=N&&N.filterCard;w?(k=U&&U.$instances&&U.$instances[S.ZF],Q=I.colorPalette.backgroundLight.value):(k=U&&U.$instances&&U.$instances[S.Kc],Q=I.colorPalette.background.value);var te=w?null===(j=null==B?void 0:B.defaultStyleOverride)||void 0===j?void 0:j.backgroundColorApplied:null===(W=null==B?void 0:B.defaultStyleOverride)||void 0===W?void 0:W.backgroundColorAvailable,ee=null==B?void 0:B.defaultStyleOverride,J=te||(null==ee?void 0:ee.backgroundColor);return ee?(0,e.__assign)((0,e.__assign)({},ee),{backgroundColor:J}):{checkboxAndApplyColor:S.mC,borderColor:S.bm,backgroundColor:Q,foregroundColor:I.colorPalette.foreground.value,inputBoxBorderColor:S.bm,inputBoxBackgroundColor:S.NC,inputBoxForegroundColor:S.yJ,fontSize:this.getFontSize(k),fontFamily:this.getFontFamily(k)}},O.determineIsLinkedAsAggregation=function(N,w,I){if(5===N.howCreated)return null!=I.defaultAggregate(N.expression,w)},O.getDisplayNameForIncludeExcludeFilters=function(N,w,I){return N.get(w===g.vA.Include?"Include_Label":"FilterPane_Exclude")+" ("+I+")"},O.getCheckboxAndApplyColor=function(N,w){void 0===w&&(w=S.mC);var I=(0,b.y)(N,"checkboxAndApplyColor",w);return(0,s.cD)(I)},O.getBorderColor=function(N,w,I){var B=(0,b.y)(N,"borderColor",w),W=0;return(!0===(0,b.N)(N,"border",S.HX)||I)&&(W=1),(0,s.cD)(B,W)},O.getBackgroundColor=function(N,w,I,B,j){var U=(0,b.y)(N,"backgroundColor",B&&j?j:w),k=(0,s.TD)((0,b.N)(N,"transparency",I));return(0,s.cD)(U,k)},O.getColor=function(N,w,I){var B=(0,b.y)(N,w,I);return(0,s.cD)(B)},O.getFontSize=function(N){var w=(0,b.N)(N,"textSize",S.JM);return"".concat(w,"pt")},O.getFontFamily=function(N){return(0,b.N)(N,"fontFamily",S.h9)},O.extractAllReferencedFields=function(N){var w=this;return _.flatten(_.map(N,function(I){return w.extractReferencedFields(I)}))},O.extractReferencedFields=function(N){var w=[];if(N.expression&&w.push(N.expression),N.filter)for(var I=0,B=N.filter.conditions();I<B.length;I++){var j=B[I],W=new F;j.accept(W),w=w.concat(W.fields)}return w},O.getFilterCapabilities=function(N){return{canClear:this.canClearManually(N),canDelete:this.canDeleteManually(N),canEdit:this.canEditManually(N),canHide:this.canHideManually(N),canLock:this.canLockManually(N),canRename:this.canRenameManually(N),canSort:this.canSortManually(N)}},O.canClearManually=function(N){return!(0!==N.howCreated&&1!==N.howCreated&&2!==N.howCreated&&5!==N.howCreated&&7!==N.howCreated||N.type===g.vA.Passthrough||5===N.howCreated&&(N.type===g.vA.Exclude||N.type===g.vA.Include))},O.canDeleteManually=function(N){return 1===N.howCreated||5===N.howCreated||7===N.howCreated||N.type===g.vA.Passthrough||3===N.howCreated||4===N.howCreated},O.canEditManually=function(N){return(0===N.howCreated||1===N.howCreated||2===N.howCreated||5===N.howCreated||7===N.howCreated||3===N.howCreated||4===N.howCreated)&&N.type!==g.vA.Passthrough},O.canHideManually=function(N){return 0===N.howCreated||1===N.howCreated||5===N.howCreated&&!N.isTransient||N.type===g.vA.Passthrough||3===N.howCreated||4===N.howCreated},O.canLockManually=function(N){return(0===N.howCreated||1===N.howCreated||5===N.howCreated&&!N.isTransient||3===N.howCreated||4===N.howCreated)&&N.type!==g.vA.Passthrough},O.canRenameManually=function(N){return(0===N.howCreated||1===N.howCreated)&&N.type!==g.vA.Passthrough},O.canSortManually=function(N){return 0===N.howCreated||1===N.howCreated||N.type===g.vA.Passthrough||3===N.howCreated||4===N.howCreated},O}(),F=function(O){function N(){var w=null!==O&&O.apply(this,arguments)||this;return w.fields=[],w}return(0,e.__extends)(N,O),N.prototype.visitColumnRef=function(w){this.fields.push(w)},N.prototype.visitHierarchyLevel=function(w){this.fields.push(w)},N.prototype.visitMeasureRef=function(w){this.fields.push(w)},N.prototype.visitEntity=function(w){this.fields.push(w)},N.prototype.visitAggr=function(){},N}(V.PA),A=function(O){function N(w){var I=O.call(this)||this;return I.comparisonColumn=w,I.values=[],I}return(0,e.__extends)(N,O),N.prototype.visitCompare=function(w){0===w.comparison&&(0,P.VC)(w.right)&&(0,R.fS)(w.left,this.comparisonColumn)&&this.values.push(w.right)},N.prototype.visitIn=function(w){var I=this;if(!_.isEmpty(w.values)){var j=_.findIndex(w.args,function(Q){return(0,R.fS)(Q,I.comparisonColumn,void 0,!0)});if(!(j<0))for(var W=0,U=w.values;W<U.length;W++)this.values.push(U[W][j])}},N}(V.vq)},971028:function(Je,H,t){t.d(H,{NV:function(){return h},Xz:function(){return b},zr:function(){return v}});var e=t(474147),c=t(505876),s=t(35801),f=t(374952);function v(p,n){var l=(0,s.s)(p);return n.isQueryVisual(l)}function b(p,n){var l=(0,s.s)(p);return!n.isAnalysisVisual(l)}function h(p,n,l,r){var o=p.getMetadata(n);if(o){if(5===l)return c.vA.Categorical;var a=o.type,i=a&&(a.text||a.bool||a.dateTime),m=o.idOnEntityKey&&r&&(0,e.fS)(p,r);return!i||(0,f.k)(p)||m?c.vA.Advanced:c.vA.Categorical}}},339432:function(Je,H,t){t.d(H,{DX:function(){return M},Ee:function(){return p},P2:function(){return l},RV:function(){return r},X0:function(){return o},ZP:function(){return C},yl:function(){return n}});var e=t(456535),c=t(787941),s=t(44615),f=t(597098),v=t(324356),b=t(983172);function p(N,w,I){if(c.fF.assertValue(N,"entity"),!w||!w.column||!w.column.groupingMetadata)return 0;if(I){var B=I.getGroupingDesignState(N,w.name);if(!B)return 1;if(B.partitionTable)return 3;if(B.binItem)return 2}return 1}function n(N,w,I){var B=p(N,w,I);return 1===B||2===B}function l(N,w,I){return 3===p(N,w,I)}function r(N,w,I){if(!w||!w.column||!w.column.groupingMetadata)return!1;var B=I.getGroupingDesignState(N,w.name);return!(!B||!B.groupItems&&!B.partitionTable)}function o(N,w){return!(!w||!function(N,w){return function(N,w){var I=(0,s.J1)((0,f.Q)(w));return N.schema(I)}(N,w).capabilities.canEdit}(N,w)||!(0,e.t3)(w)&&!(0,e.wD)(w))&&function(N){return N&&!!(N.type.dateTime||N.type.integer||N.type.numeric||N.type.text)}(w.getConceptualProperty(N))}function C(N,w){return _.chain(N.groupedColumns).map(function(I){if(function(N){return 0===N.kind}(I))return(0,v.Oh)(w,I.name)}).filter(function(I){return null!=I}).value()}function M(N,w){var I=w&&w.defn.select();if(!_.isEmpty(I)&&!_.isEmpty(N)){for(var B=0,j=N;B<j.length;B++){var W=j[B];if(!W||!W.dataMap)return!1;var U=Object.keys(W.dataMap),k=_.size(W.dataMap);if(k>2)return!1;if(2===k){var Q=I.withName(U[0]),te=I.withName(U[1]);if(Q&&te&&!F(Q.expr,te.expr))return!1}else if(1===k){var ee=I.withName(U[0]);if(ee&&!(0,e.t3)(ee.expr)&&!(0,e.wD)(ee.expr))return!1}}return!0}return!1}function F(N,w){return!!function(N,w){if((0,e.wD)(N)&&(0,e.t3)(w)&&O(N,w))return N;if((0,e.wD)(w)&&(0,e.t3)(N)&&O(w,N))return w;if((0,e.wD)(N)&&(0,e.wD)(w)){if(O(N,w))return N;if(O(w,N))return w}}(N,w)}function O(N,w){return b.m.sequenceEqual(N.groupedExprs,[w])}},821850:function(Je,H,t){t.d(H,{Sd:function(){return l},gp:function(){return n},wK:function(){return h}});var e=t(456535),c=t(474147),s=t(145315),f=t(324356),v=t(242895),b=t(799818);function h(i,m,u,V){if(u&&m&&(0,e.ez)(V)){for(var d=V,S=d.arg,g=(0,b.wA)(i,S),y=[],C=function(x){var R=u.tryGetExprs(x.name);if(!R)return"continue";var D=void 0;if((0,e.y3)(S)&&(0,e.jc)(S.arg)){var L=S.arg;D=_((0,v.q)(i,R,{})).filter(function(w){return w.isHierarchyLevelsGroup&&(0,e.t3)(w.expr)&&(0,c.fS)(w.expr.source,L.arg)&&w.expr.ref===L.property}).reverse().value()}else D=_((0,v.q)(i,R,{})).filter(function(w){return(0,c.fS)(w.expr,S)}).reverse().value();for(var F=0,A=D;F<A.length;F++){var O=A[F],N=(0,b.u8)(g,O.children,d);y.push({expr:d,schema:i,targetRole:x.name,projOptions:{fieldIndex:O.selectQueryIndex+N}})}},E=0,M=m.dataRoles;E<M.length;E++)C(M[E]);return y}}function n(i,m,u,V,d,S){var y=(i.singleVisual.query.tryGetExprs(m)||[]).slice(u,u+V);if(!_.isEmpty(y)){var C;if(C=_.isEmpty(S)?y[0]:S[0],(0,e.ez)(C)){var E=function(i,m){if(i&&i.kind===s.DW.Measure){var u=(0,b.cH)(m);if(u)return(0,f.Oh)(u.arg,u.property)}}(d,C);if(E)return[E]}return _.isEmpty(S)?y:S}}function l(i,m){return(0,e.ez)(i)&&(0,e.ez)(m)&&(0,c.fS)(i.arg,m.arg)}},603988:function(Je,H,t){t.d(H,{q:function(){return h}});var e=t(226514),c=t(174665),s=t(787941),f=t(771201),v=t(255780),b=t(374952),h=function(){function p(){}return p.generate=function(n,l,r,o,a,i,m,u){if(s.fF.assertValue(n,"dataView"),s.fF.assertValue(l,"originalSelects"),s.fF.assertValue(o,"originalDataRoleNames"),s.fF.assertAnyValue(a,"originalProjectionOrdering"),n.matrix){for(var V=[],d=[],S=[],g=[],y=n.matrix,C=0,E=l;C<E.length;C++){var P=(0,e.__assign)({},E[C]);P.roles={},V.push(P)}var T=function(w){if(i&&i.featureSwitches.showGeneratedColumnsInDetailView)return!0;var I=l[w.index];return!I||!_.isEmpty(I.roles)||!_.isEmpty(I.relatedSelects)},x=this.getSelectsGroupedByRowHierarchy(r,l,n.matrix,T),D=(m&&u?this.tryProcessDataViewHierarchy(y.rows,V,S,c.r.columns,x,function(N){return!N.isMeasure}):this.tryProcessDataViewHierarchy(y.rows,V,d,c.r.rows,x)&&this.tryProcessDataViewHierarchy(y.columns,V,S,c.r.columns,x,function(N){return!N.isMeasure}))&&this.tryUpdateReferencedSelects(y.valueSources,V,g,c.r.values,x,T),L=_.last(y.rows.levels);if(L&&(D=D&&this.tryUpdateReferencedSelects((0,v.vC)(L),V,g,c.r.values,x,T)),D){var F=n;this.sortMatrixRoleProjectionOrders(o,a,d,S,g,V),_.isEmpty(x)||(F=this.fixMeasuresGroupedByRowHierarchy(n,x));var A={};return d.length>0&&(A[c.r.rows]=d),S.length>0&&(A[c.r.columns]=S),g.length>0&&(A[c.r.values]=g),{transformActions:{selects:V,roles:{ordering:A}},dataView:F}}}},p.getSelectsGroupedByRowHierarchyFromMatrix=function(n,l){var r,o={},a=null===(r=null==n?void 0:n.rows)||void 0===r?void 0:r.levels;if(!_.isEmpty(a)){var i=_.last(a),m=(0,v.vC)(i);if(!_.isEmpty(m))for(var u=0,V=m;u<V.length;u++){var d=V[u];_.isNumber(d.index)&&l(d)&&(o[d.index]=!0)}}return o},p.tryProcessDataViewHierarchy=function(n,l,r,o,a,i){if(!n||_.isEmpty(n.levels))return!0;for(var m=0,u=n.levels;m<u.length;m++)if(!this.tryUpdateReferencedSelects(u[m].sources,l,r,o,a,i))return!1;return!0},p.tryUpdateReferencedSelects=function(n,l,r,o,a,i){if(_.isEmpty(n))return!0;for(var m=function(y){if(!i||i(y)){if(null==y.index&&_.some(n,function(T){return T.formatSource&&T.formatSource.formatString===y}))return"continue";if(a[y.index]){if(!_.isEmpty(l[y.index].relatedSelects))for(var C=function(x){var R=_.findIndex(l,function(D){return D.queryName===x.queryName});a[R]||r.push(y.index)},E=0,M=l[y.index].relatedSelects;E<M.length;E++)C(M[E])}else r.push(y.index);if(!l[y.index])return{value:!1};l[y.index].roles[o]=!0}},u=0,V=n;u<V.length;u++){var S=m(V[u]);if("object"==typeof S)return S.value}return!0},p.sortMatrixRoleProjectionOrders=function(n,l,r,o,a,i){var m;if(s.fF.assertValue(n,"originalDataRoleNames"),s.fF.assertAnyValue(l,"originalProjectionOrdering"),s.fF.assertValue(r,"matrixRowsOrdering"),s.fF.assertValue(o,"matrixColumnsOrdering"),s.fF.assertValue(a,"matrixValuesOrdering"),!_.isEmpty(n)&&l){var u=r.length>=2,V=o.length>=2,d=a.length>=2;if(u||V||d){var S=this.createSelectIndexToSortOrderMappings(n,l);if(S&&(u&&this.applySortOrder(r,S),V&&this.applySortOrder(o,S),d)){this.applySortOrder(a,S);var g=((m={})[c.r.values]=a,m);(0,f.f_)(i,g)}}}},p.createSelectIndexToSortOrderMappings=function(n,l){s.fF.assertNonEmpty(n,"originalDataRoleNames"),s.fF.assertValue(l,"originalProjectionOrdering");var r=_.chain(n).map(function(a){return l[a]}).flatten().filter(function(a){return _.isNumber(a)}).value(),o=_.reduce(r,function(a,i,m){return void 0===a[i]&&(a[i]=m),a},{});return Object.keys(o).length>=2?o:void 0},p.applySortOrder=function(n,l){var r=this;s.fF.assertNonEmpty(n,"matrixRoleSelectIndices"),s.fF.assertValue(l,"selectIndexToSortOrderMapping"),n.sort(function(o,a){return r.getSortOrderOrDefault(o,l)-r.getSortOrderOrDefault(a,l)})},p.getSortOrderOrDefault=function(n,l,r){return void 0===r&&(r=Number.MAX_VALUE),s.fF.assertValue(n,"selectIndex"),s.fF.assertValue(l,"selectIndexToSortOrderMapping"),_.isNumber(l[n])?l[n]:r},p.fixMeasuresGroupedByRowHierarchy=function(n,l){if(s.fF.assertValue(n,"dataView"),s.fF.assertValue(n.matrix,"matrix"),s.fF.assertValue(n.matrix.columns,"matrix.columns"),this.nothingToFix(l,n.matrix))return n;var o=_.cloneDeep(n);return this.addMeasureValuesGroupedByRowHierarchy(o,l),o},p.nothingToFix=function(n,l){return _.isEmpty(Object.keys(n))||_.isEmpty(l.columns.root.children)||_.isEmpty(l.rows.root.children)},p.getSelectsGroupedByRowHierarchy=function(n,l,r,o){var a,i;if(n&&n.length>1){s.fF.assertValue((null===(a=n[0])||void 0===a?void 0:a.selects)&&(null===(i=n[1])||void 0===i?void 0:i.selects),"Split transforms should be defined");var m=this.categorizeSplitSelects(n[0],l);if(_.isEmpty(m.measureSelectIndices))return{};var u=this.categorizeSplitSelects(n[1],l);if(_.isEqual(m.groupingSelectIndices,u.groupingSelectIndices))return{};if(!_.isEmpty(u.measureSelectIndices))for(var V=_.map(_.keys(u.measureSelectIndices),function(M){return l[parseInt(M,10)].queryName}),d=0;d<l.length;d++){var S=l[d];if(!_.isEmpty(S.relatedSelects))for(var g=function(P){null!=_.find(V,function(T){return P.queryName===T})&&(u.measureSelectIndices[d]=!0)},y=0,C=S.relatedSelects;y<C.length;y++)g(C[y])}return u.measureSelectIndices}return p.getSelectsGroupedByRowHierarchyFromMatrix(r,o)},p.categorizeSplitSelects=function(n,l){var r={groupingSelectIndices:{},measureSelectIndices:{}};for(var o in n.selects){var a=l[o];a.expr&&((0,b.k)(a.expr)?r.measureSelectIndices[o]=!0:r.groupingSelectIndices[o]=!0)}return r},p.addMeasureValuesGroupedByRowHierarchy=function(n,l){s.fF.assertNonEmpty(n.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),s.fF.assertValue(l,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var r=n.matrix,o=r.columns.levels[0],a=[],i=_.last(r.rows.levels),m=r.valueSources.length;s.fF.assertAnyValue(i.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var u=(0,v.vC)(i);if(u){for(var V=r.columns.root,d=this.getColumnLeavesCount(V),S=0;S<u.length;S++){var g=u[S];l[g.index]&&(g.formatSource&&delete g.formatSource,r.valueSources.push(g),this.addStaticMeasureColumnHeader(o,g,V),a.push(S))}(0,v.y9)(n.matrix.rows.root,function(y){var C=d,E=(0,v.Lr)(y);if(!_.isEmpty(E))for(var M=0;M<a.length;M++)y.values[C++]={value:E[a[M]].value,valueSourceIndex:m+M}})}},p.getColumnLeavesCount=function(n){var l=0;return(0,v.y9)(n,function(){return l++}),l},p.addStaticMeasureColumnHeader=function(n,l,r){n.sources.push(l),r.children.push({level:0,levelSourceIndex:n.sources.length-1})},p}()},839165:function(Je,H,t){t.d(H,{$:function(){return c}});var e=t(299987),c=function(){function s(f){this.modelExtension=f,this.visited={}}return s.prototype.visitReference=function(f){if(f.schema===this.modelExtension.name){var v=(0,e.rc)(this.modelExtension,f.entity);if(v){var b=(0,e.ef)(v,f.name);if(b){var h=this.toVisitedKey(f);if(!this.visited[h]){this.visitMeasure(this.modelExtension,v,b),this.visited[h]=!0;for(var p=0,n=b.references.measures;p<n.length;p++)this.visitReference(n[p])}}}}},s.prototype.visitMeasure=function(f,v,b){},s.prototype.toVisitedKey=function(f){return JSON.stringify(f)},s}()},299987:function(Je,H,t){t.d(H,{MZ:function(){return h},Mt:function(){return v},Pw:function(){return f},QL:function(){return r},Rx:function(){return u},ZB:function(){return a},bY:function(){return o},ef:function(){return i},fi:function(){return M},ni:function(){return V},qH:function(){return p},rc:function(){return n}});var e=t(249679),c=t(883863),s=t(787941);function f(x,R){return x.modelExtensions&&x.modelExtensions.withName(R)}function v(x,R){var D=f(x,R);if(!D)throw new Error("Unable to find expected model extension: "+R);return D}function h(x,R){return{name:x,extends:R,entities:(0,c.bv)()}}function p(x,R,D){var L=function(x,R,D){x.modelExtensions||(x.modelExtensions=(0,c.bv)());var L=x.modelExtensions.withName(R);return L||(L=h(R,D),x.modelExtensions.push(L)),s.fF.assert(function(){return L.extends===D},"Found model extension with incompatible extends field"),L}(x,R,e.N8);return r(L,D)}function n(x,R){return x.entities.withName(R)}function l(x,R,D){var F=n(v(x,R),D);if(!F)throw new Error("Unable to find expected entity: "+D);return F}function r(x,R){x.entities||(x.entities=(0,c.bv)());var D=x.entities.withName(R);return D||(D={name:R,extends:R,measures:(0,c.bv)()},x.entities.push(D)),s.fF.assert(function(){return D.extends===R},"Found model extension entity with incompatible extends field"),D}function o(x,R){if(x.measures||(x.measures=(0,c.bv)()),x.measures.withName(R.name))throw new Error("Measure ".concat(R.name," already exists and cannot be added"));x.measures.push(R)}function a(x,R,D,L){return m(l(x,R,D),L)}function i(x,R){return x.measures.withName(R)}function m(x,R){var D=i(x,R);if(!D)throw new Error("Unable to find expected measure:"+R);return D}function u(x,R,D,L){var F=l(x,R,D),A=m(F,L),O=F.measures.indexOf(A);F.measures.splice(O,1),0===F.measures.length&&(delete F.measures,function(x,R,D){if(!E(D)){var L=v(x,R),F=L.entities.indexOf(D);L.entities.splice(F,1),0===L.entities.length&&(delete L.entities,function(x,R){if(!E(R)){var D=x.modelExtensions.indexOf(R);x.modelExtensions.splice(D,1),0===x.modelExtensions.length&&delete x.modelExtensions}}(x,L))}}(x,R,F))}function V(x,R,D){null==D?function(x,R){var D=x.annotations&&x.annotations.withName(R);if(D){var L=x.annotations.indexOf(D);x.annotations.splice(L,1),x.annotations&&0===x.annotations.length&&delete x.annotations}}(x,R):function(x,R,D){x.annotations||(x.annotations=(0,c.bv)());var L=x.annotations.withName(R);L?L.value=D:x.annotations.push(L={name:R,value:D})}(x,R,D)}function E(x){var R=Object.keys(x),D=_.chain(R).filter(function(L){return"name"!==L&&"extends"!==L}).filter(function(L){return!(_.isArray(x[L])&&_.isEmpty(x[L]))}).value();return _.some(D)}function M(x){if(x){var R={Version:0,Name:x.name,Extends:x.extends};return x.entities&&(R.Entities=_.map(x.entities,function(D){return function(x){var R={Extends:x.extends,Name:x.name};return x.measures&&(R.Measures=_.map(x.measures,function(D){return function(x){var R=x.dataType;return(6===R||9===R)&&(R=7),{Name:x.name,Expression:x.expression,DataType:R}}(D)})),R}(D)})),R}}},656011:function(Je,H,t){t.d(H,{A9:function(){return l},FY:function(){return o},Gk:function(){return r},bW:function(){return n},ei:function(){return a}});var e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,f=36e5;function n(u){return function(u){var V=e.exec(u)||new Array(9),d="-"===V[1]?-1:1;return{years:i(V[2],d),months:i(V[3],d),weeks:i(V[4],d),days:i(V[5],d),hours:i(V[6],d),minutes:i(V[7],d),seconds:i(V[8],d)}}(u)}function l(u){return 31536e6*u.years+2592e6*u.months+6048e5*u.weeks+864e5*u.days+u.hours*f+6e4*u.minutes+1e3*u.seconds}function r(u){for(var V={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0},d=0,S=u;d<S.length;d++){var g=S[d],y=g.value;g.isTimeUnit&&"S"===g.unit?V.seconds=y:g.isTimeUnit&&"M"===g.unit?V.minutes=y:g.isTimeUnit&&"H"===g.unit?V.hours=y:"D"===g.unit?V.days=y:"W"===g.unit?V.weeks=y:"M"===g.unit?V.months=y:"Y"===g.unit&&(V.years=y)}return V}function o(u){var V="P";return u.years>0&&(V+="".concat(u.years)+"Y"),u.months>0&&(V+="".concat(u.months)+"M"),u.weeks>0&&(V+="".concat(u.weeks)+"W"),u.days>0&&(V+="".concat(u.days)+"D"),0===u.hours&&0===u.minutes&&0===u.seconds||(V+="T",u.hours>0&&(V+="".concat(u.hours)+"H"),u.minutes>0&&(V+="".concat(u.minutes)+"M"),u.seconds>0&&(V+="".concat(u.seconds)+"S")),V}function a(u){var V=[];return u.seconds&&V.push({value:u.seconds,unit:"S",isTimeUnit:!0}),u.minutes&&V.push({value:u.minutes,unit:"M",isTimeUnit:!0}),u.hours&&V.push({value:u.hours,unit:"H",isTimeUnit:!0}),u.days&&V.push({value:u.days,unit:"D",isTimeUnit:!1}),u.weeks&&V.push({value:u.weeks,unit:"W",isTimeUnit:!1}),u.months&&V.push({value:u.months,unit:"M",isTimeUnit:!1}),u.years&&V.push({value:u.years,unit:"Y",isTimeUnit:!1}),V}function i(u,V){var d=u&&parseFloat(u.replace(",","."));return(isNaN(d)?0:d)*V}},647863:function(Je,H,t){t.d(H,{Ae:function(){return C},D6:function(){return a},Dt:function(){return x},EA:function(){return O},Iv:function(){return E},Iz:function(){return S},Js:function(){return L},LM:function(){return T},Og:function(){return r},QU:function(){return l},SV:function(){return g},TJ:function(){return N},XY:function(){return i},_3:function(){return n},_n:function(){return V},aQ:function(){return R},bM:function(){return m},bx:function(){return y},fF:function(){return A},k9:function(){return o},kt:function(){return P},rF:function(){return M},tD:function(){return u},u1:function(){return d},wj:function(){return F},zO:function(){return D}});var e=t(226514),c=t(883863),s=t(787941),f=t(144900),v=t(690016),b=t(618630),h=t(156319);function n(Q,te,ee,J){s.fF.assertValue(te,"sectionName");var re=J.defer(),G=C(Q,te);return-1===G?re.resolve(void 0):ee.get(Q.reportId,Q.pods[G].name).then(function(ne){var X=ne&&ne.words.slice();_.isEmpty(X)?re.resolve(void 0):(X.shift(),re.resolve({altNames:X}))}),re.promise}function l(Q,te,ee){return(0,e.__awaiter)(this,void 0,f.J,function(){var J;return(0,e.__generator)(this,function(re){switch(re.label){case 0:return s.fF.assertValue(te,"sectionName"),(J=C(Q,te))>-1?[4,ee.set(Q.reportId,Q.pods[J].name,[])]:[3,2];case 1:re.sent(),j(Q,J,ee,!1),re.label=2;case 2:return[2]}})})}function r(Q,te,ee){return(0,e.__awaiter)(this,void 0,f.J,function(){var J;return(0,e.__generator)(this,function(re){switch(re.label){case 0:return s.fF.assertValue(te,"sectionName"),(J=C(Q,te))>-1?[4,ee.set(Q.reportId,Q.pods[J].name,[])]:[3,2];case 1:re.sent(),W(Q,J),re.label=2;case 2:return[2]}})})}function o(Q,te,ee){return(0,e.__awaiter)(this,void 0,f.J,function(){return(0,e.__generator)(this,function(J){switch(J.label){case 0:return s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"section"),[4,a(Q,te.name,te.displayName,ee,!0)];case 1:return J.sent(),[2]}})})}function a(Q,te,ee,J,re){return(0,e.__awaiter)(this,void 0,f.J,function(){var G,ne,X;return(0,e.__generator)(this,function(oe){switch(oe.label){case 0:return s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"newSectionDisplayName"),G=re?I(Q,te,0,0):E(Q,te),re||G?[4,J.get(Q.reportId,G.name)]:[2];case 1:return ne=oe.sent(),X=ne&&ne.words,_.isEmpty(X)?X=[ee]:X[0]=ee,[4,J.set(Q.reportId,G.name,X)];case 2:return oe.sent(),[2]}})})}function i(Q,te,ee,J){return(0,e.__awaiter)(this,void 0,f.J,function(){var re;return(0,e.__generator)(this,function(G){switch(G.label){case 0:return s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"section"),re=I(Q,te.name,0,0),ee.unshift(te.displayName),[4,J.set(Q.reportId,re.name,ee)];case 1:return G.sent(),[2]}})})}function m(Q,te,ee,J,re,G,ne){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"filterName"),s.fF.assertValue(ne,"podType");var X=I(Q,te,0,0);X.parameters||(X.parameters=[]),X.parameters.push({name:"Param_"+ee,boundFilter:ee,fieldExpr:J,asAggregation:re,isLegacySingleSelection:G}),(null==X.type||0===X.type)&&0!==ne&&(X.type=ne)}function u(Q,te,ee,J){s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"filterName");var re=C(Q,te);if(re>-1){var G=Q.pods[re],ne=w(G,ee);ne>-1&&(G.parameters.splice(ne,1),j(Q,re,J,!0))}}function V(Q,te,ee,J){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"filterName");var re=C(Q,te);if(re>-1){var G=Q.pods[re],ne=w(G,ee);ne>-1&&(G.parameters[ne].asAggregation=J)}}function d(Q,te,ee){s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"filterName");var J=C(Q,te);return-1!==J&&-1!==w(Q.pods[J],ee)}function S(Q,te,ee,J){s.fF.assertValue(te,"sectionName");var re,G=C(Q,te);(-1!==G||ee)&&(-1===G?(re=B(Q,te,0,0),G=Q.pods.length-1):re=Q.pods[G],re.cortanaEnabled=ee,j(Q,G,J,!0))}function g(Q,te){if(Q&&Q.pods){var J=_.findIndex(Q.pods,function(re){return re.name===te});if(-1!==J)return J}}function y(Q,te,ee,J,re){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"newSection"),s.fF.assertValue(J,"linguisticSchemaProxy"),s.fF.assert(function(){return ee<=Q.sections.length},"Expected target index should be less than or equals sections length.");var G=C(Q,Q.sections[ee].name);if(-1===G)return re.resolve();var ne=Q.pods[G],oe=B(Q,te.name,ne.referenceScope,void 0!==ne.config?ne.config.acceptsFilterContext:0);return oe.cortanaEnabled=ne.cortanaEnabled,oe.parameters=_.cloneDeep(ne.parameters),oe.type=ne.type,function(Q,te,ee,J,re){return re.get(Q,J.name).then(function(G){var ne=G&&G.words.slice();_.isEmpty(ne)||(ne.shift(),ne.unshift(te.displayName),re.set(Q,ee.name,ne))})}(Q.reportId,te,oe,ne,J)}function C(Q,te){return s.fF.assertValue(te,"sectionName"),Q&&Q.pods?_.findIndex(Q.pods,function(ee){return ee.boundSection===te}):-1}function E(Q,te){var ee=C(Q,te);if(-1!==ee)return Q.pods[ee]}function M(Q,te,ee){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"acceptsFilterContextKind");var J=E(Q,te);if(!J&&0!==ee&&(J=B(Q,te,0,ee)),J){if(null==J.config)return void(J.config={acceptsFilterContext:ee});J.config.acceptsFilterContext!==ee&&(J.config.acceptsFilterContext=ee)}}function P(Q,te,ee){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),s.fF.assertValue(ee,"referenceScope");var J=E(Q,te);!J&&0!==ee&&(J=B(Q,te,ee,0)),J&&null!=ee&&J.referenceScope!==ee&&(J.referenceScope=ee)}function T(Q,te){if(!Q||!te)return!0;var ee=E(Q,te.name);return!ee||!ee.config||0===ee.config.acceptsFilterContext}function x(Q,te){if(!Q||!te)return!1;var ee=E(Q,te.name);return!(!ee||!ee.config)&&(0,b.i)(ee.type,ee.parameters)}function R(Q,te){if(!Q||!te)return!1;var ee=E(Q,te.name);return!!ee&&1===ee.referenceScope}function D(Q){return Q?1:0}function L(Q){return Q?0:1}function F(Q,te){return s.fF.assertValue(Q,"section"),!te&&(0===Q.type||null==Q.type)||te&&2===Q.type?1:1===Q.type?2:0}function A(Q,te,ee){if(!Q||!te)return!1;var J=E(Q,te.name);if(!J||_.isEmpty(J.parameters))return!1;var re=w(J,ee.name);return-1!==re&&J.parameters[re].asAggregation}function O(Q,te){return te&&1===te.scopeType&&h.l.isCategoricalFilter(Q.type)&&!Q.isTransient}function N(Q,te,ee){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName");var J=C(Q,te);if(-1!==J){var re=Q.pods[J];_.isEmpty(re.parameters)&&(re.type=0),re.type=ee}}function w(Q,te){return s.fF.assertValue(te,"filterName"),Q&&Q.parameters?_.findIndex(Q.parameters,function(ee){return ee.boundFilter===te}):-1}function I(Q,te,ee,J){return s.fF.assertValue(J,"acceptsFilterContextKind"),E(Q,te)||B(Q,te,ee,J)}function B(Q,te,ee,J){s.fF.assertValue(Q,"exploration"),s.fF.assertValue(te,"sectionName"),Q.pods||(Q.pods=[]);var re={name:U(Q.pods),boundSection:te,parameters:[],type:0,referenceScope:ee,config:{acceptsFilterContext:J}};return Q.pods.push(re),s.fF.assert(function(){return(0,c.iv)(Q.pods)},"pod names must be unique"),re}function j(Q,te,ee,J){var re=Q.pods[te];_.isEmpty(re.parameters)&&(re.type=0),!re.cortanaEnabled&&_.isEmpty(re.parameters)&&0===re.config.acceptsFilterContext&&0===re.referenceScope&&(J?ee.get(Q.reportId,re.name).then(function(G){(!G||_.isEmpty(G.words))&&W(Q,te)}):W(Q,te))}function W(Q,te){Q.pods.splice(te,1),0===Q.pods.length&&(Q.pods=void 0)}function U(Q){for(var te={},ee=0,J=Q;ee<J.length;ee++)te[J[ee].name]=!0;return(0,v.zE)(te,"Pod")}},249185:function(Je,H,t){function e(f){for(var v={},b=0,h=f.sections;b<h.length;b++){var p=h[b];v[p.name]={};for(var n=0,l=p.visualContainers;n<l.length;n++){var r=l[n];if(r.config.singleVisual){var o=r.config.singleVisual;v[p.name][r.name]={visualType:o.visualType,autoSelectVisualType:o.autoSelectVisualType,projections:o.query?c(o.query,!0):void 0}}}}return v}function c(f,v){var b={},h=f.defn.select();if(!h)return b;for(var p in f.projections){var n=f.projections[p];if(n){b[p]=[];for(var l=n.all(),r=0;r<l.length;r++){var o=n.convertProjectionIndexToFieldIndex(r),a=h.withName(l[r].queryRef);a&&(n.doesParameterExist(o)||v)?b[p].push(a.expr):b[p].push(null)}}}return b}function s(f){var b;if(!f.defn.select())return b;for(var h in f.projections){var p=f.projections[h];if(p){var n=_.sortBy(p.getFieldParameters(),function(u){return u.index});if(!_.isEmpty(n)){b||(b={}),b[h]=[];for(var l=0,r=n;l<r.length;l++){var o=r[l];b[h].push({expr:o.expr,index:o.index,length:o.length})}}}}return b}t.d(H,{Jc:function(){return e},rl:function(){return c},xF:function(){return s}})},60083:function(Je,H,t){t.d(H,{o:function(){return c}});var e=t(787941),c=function(){function s(f){this.container=f,this.context={pendingGeocodingCount:0}}return s.prototype.newQuery=function(f){var v=0!==this.context.pendingGeocodingCount,b=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:f},v&&(b&&b.reject(),this.container.onStopGeocoding())},s.prototype.hasPendingGeocoding=function(){return this.context.pendingGeocodingCount>0},s.prototype.wrapGeocoder=function(f){return{geocode:this.wrapAsyncGeocoderMethod(f,f.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(f,f.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(f,f.geocodePoint),tryGeocodeImmediate:function(b,h,p,n){return f.tryGeocodeImmediate(b,h,p,n)},tryGeocodeBoundaryImmediate:function(b,h,p,n){return f.tryGeocodeBoundaryImmediate(b,h,p,n)}}},s.prototype.wrapAsyncGeocoderMethod=function(f,v){var b=this;return function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];var n=b.context,l=v.apply(f,h);1==++n.pendingGeocodingCount&&(b.context.rootActivity&&(b.context.geocodingActivity=b.context.rootActivity.createChildActivity({name:"Geocoding"})),b.container.onStartGeocoding());var r=function(){n===b.context&&--n.pendingGeocodingCount<=0&&(e.fF.assert(function(){return 0===n.pendingGeocodingCount},"requestContext.pendingGeocodingCount underflow"),b.context.geocodingActivity&&b.context.geocodingActivity.resolve(),b.container.onStopGeocoding())};return l.then(r,r),l}},s}()},577982:function(Je,H,t){t.d(H,{Hg:function(){return f},eI:function(){return b},oo:function(){return v},x_:function(){return s},yf:function(){return h}});var e=t(787941),c=t(926201);function s(p,n,l){return(0,c.x_)(p,n,l)}function f(p,n,l){var r=b(p);return(0,c.NM)(r,n,l)}function v(p){var n=p.publicCustomVisuals;return n||(p.publicCustomVisuals=n=[]),n}function b(p){var n=p.resourcePackages;return n||(p.resourcePackages=n=[]),n}function h(p,n,l){if(void 0===l&&(l=!1),!_.isEmpty(n)&&!_.isEmpty(p))for(var r=function(u){var V=(0,c.pd)(p,u.type,u.name);if(V){e.fF.assertValue(V.id,"ID should exist in new resource package"),e.fF.assert(function(){return 3!==u.type||u.id!==V.id},"Every time we save a resource package it's erased and re-added into the database, which means the ids must differ"),u.id=V.id;for(var d=function(E){var M=(0,c.NW)(V,E.name);M&&(e.fF.assertValue(M.id,"ID should exist in new resource package item"),e.fF.assert(function(){return 3!==u.type||E.id!==M.id},"Every time we save a resource package item it's erased and re-added into the database, which means the ids must differ"),E.id=M.id,l&&(E.path=M.path))},S=0,g=u.items;S<g.length;S++)d(g[S])}},o=0,a=n;o<a.length;o++)r(a[o])}},286972:function(Je,H,t){t.d(H,{$:function(){return o},v:function(){return n}});var e=t(226514),c=t(456535),s=t(474147),f=t(64681),v=t(787941),b=t(597098),h=t(324356);function n(i){v.fF.assertValue(i,"changes");for(var m=[],u=function(y){y.measureMove&&m.push(new o((0,f.dq)(y.measureMove))),y.entityRename&&m.push(new o((0,f.Db)(y.entityRename))),y.propertyRename&&m.push(new o((0,f.Tq)(y.propertyRename))),y.hierarchyLevelRename&&m.push(new o((0,f.Ui)(y.hierarchyLevelRename))),y.removeVariation&&m.push(new a(new r(y.removeVariation),y.removeVariation)),y.newMeasureCreated&&_.find(i,function(C){return C.itemDelete&&C.itemDelete.property===y.newMeasureCreated.name&&C.itemDelete.entity===y.newMeasureCreated.entity&&C.itemDelete.schema!==y.newMeasureCreated.schema})&&m.push(new o((0,f.if)(y.newMeasureCreated)))},V=0,d=i;V<d.length;V++)u(d[V]);return m}function l(i,m){v.fF.assertValue(i,"expr");var u=(0,b.Q)(i);return u.columnHierarchyLevelVariation&&u.columnHierarchyLevelVariation.source.entity===m.entity&&u.columnHierarchyLevelVariation.source.schema===m.schema&&u.columnHierarchyLevelVariation.source.name===m.property&&u.columnHierarchyLevelVariation.variationName===m.name}var r=function(i){function m(u){var V=this;return v.fF.assertValue(u,"change"),(V=i.call(this)||this).change=u,V}return(0,e.__extends)(m,i),m.prototype.visitHierarchyLevel=function(u){return l(u,this.change)?new h.Wh(new h.PN(this.change.schema,this.change.entity),this.change.property):u},m}(t(334048).b),o=function(){function i(m){this.exprRewriter=m}return i.prototype.rewriteQuery=function(m){var u=this,V=m.defn;V=V.rewrite(this.exprRewriter),m.defn=V,m.expansionStates=_.map(m.expansionStates,function(C){return C.rewrite(u.exprRewriter)});var d=m.getQueryFieldParameters();if(!_.isEmpty(d))for(var S=0,g=d;S<g.length;S++){var y=g[S];y.expr=y.expr.accept(this.exprRewriter)}return m},i.prototype.rewriteFilter=function(m){return m.rewrite(this.exprRewriter)},i.prototype.rewriteExpr=function(m){return m.accept(this.exprRewriter)},i}(),a=function(){function i(m,u){this.exprRewriter=m,this.change=u}return i.prototype.rewriteQuery=function(m){var u=this;this.removeDuplicateSQHierarchyLevelExpr(m);var V=m.defn;return V=V.rewrite(this.exprRewriter),m.defn=V,m.expansionStates=_.map(m.expansionStates,function(d){return d.rewrite(u.exprRewriter)}),m},i.prototype.rewriteFilter=function(m){return m.rewrite(this.exprRewriter)},i.prototype.rewriteExpr=function(m){return m.accept(this.exprRewriter)},i.prototype.removeDuplicateSQHierarchyLevelExpr=function(m){for(var u=m.defn.select(),V=0;V<u.length;){var d=u[V];if(V++,(0,c.ez)(d.expr)&&l(d.expr,this.change))for(;V<u.length&&(0,c.ez)(u[V].expr)&&(0,s.fS)(d.expr.arg,u[V].expr.arg);)m.removeExpr(u[V].expr,!1),V++}},i}()},899027:function(Je,H,t){function c(p,n){var l=[];if(!p||!p.visualContainers)return l;for(var r=0,o=p.visualContainers;r<o.length;r++)n.addScriptVisualInfo(o[r],l);return l}function s(p,n){var l={totalVisualsCount:0,info:[]};if(!p||!p.sections)return l;for(var r=0,o=p.sections;r<o.length;r++){var a=o[r];if(a.visualContainers){var i=c(a,n);l.info=l.info.concat(i),l.totalVisualsCount+=a.visualContainers.length}}return l}function f(p,n,l,r,o){var a=[];switch(p){case 0:if(!r)return a;o.addScriptVisualInfo(r,a);break;case 1:a=c(l,o);break;case 2:if(!n)return a;for(var i=0,m=n.sections;i<m.length;i++){var V=c(m[i],o);a=a.concat(V)}break;default:return a}return a}function v(p,n){for(var l=0,r=p;l<r.length;l++){var o=r[l];if(o&&o.config&&o.config.singleVisual){var a=o.config.singleVisual.visualType;if(a&&n.isScriptVisual(a))return!0}}return!1}function b(p){switch(p){case"scriptVisual":return 0;case"pythonVisual":return 1;default:return null}}t.d(H,{OV:function(){return v},R2:function(){return f},aG:function(){return c},kV:function(){return s},lX:function(){return b}})},285262:function(Je,H,t){t.d(H,{X:function(){return p},eN:function(){return f},gs:function(){return h},sk:function(){return v},x8:function(){return b}});var e=t(787941),c=t(273139),s=t(809395);function f(n){var l;return e.fF.assertValue(n,"section"),!(null===(l=n.dynamicConfig)||void 0===l||!l.quickExplore)}function v(n){return _.some(n,function(l){return f(l)})}function b(n){var l,r,o=null===(r=null===(l=null==n?void 0:n.dynamicConfig)||void 0===l?void 0:l.quickExplore)||void 0===r?void 0:r.layout;if(o){if(o.combination)return"Combination.".concat(o.combination.version);if(o.related)return"Related.".concat(o.related.version)}}function h(n,l){var r=_.flatMap(l,function(o){return o.visualContainerGroups});_.isEmpty(r)||(0,c.Iw)(n.visualContainerGroups,function(o){var a=(0,s.yZ)(r);o.name=a,r.push(o)})}function p(n){function l(o,a){var i,m=null!==(i=a.howCreated)&&void 0!==i?i:"Default";o[m]||(o[m]=0),o[m]++}return e.fF.assertValue(n,"sections"),function(){for(var o={},a=0,i=n;a<i.length;a++)l(o,i[a]);return o}()}},953016:function(Je,H,t){t.d(H,{W:function(){return c}});var e=t(456535),c=function(){function s(f){this.key=[],this.value=[],this.comparer=f}return s.prototype.add=function(f,v){this.key.push(f),this.value.push(v)},s.prototype.get=function(f){if((0,e.ez)(f))for(var v=0;v<this.key.length;v++)if(this.comparer(this.key[v],f))return this.value[v]},s}()},85091:function(Je,H,t){t.d(H,{DC:function(){return g},J_:function(){return d},Mi:function(){return S},TO:function(){return V},Xf:function(){return E},aS:function(){return m}});var e=t(616962),c=t(693825),s=t(787941),f=t(668268),v=t(967908),b=t(942983),h=t(272039),p=t(793688),n=t(89858),r="CY24SU02",o={CY17SU10:n.H3n.v3_6,CY17SU12:n.H3n.v3_7,CY18SU04:n.H3n.v3_12,CY18SU07:n.H3n.v3_15,CY19SU06:n.H3n.v5_3,CY19SU12:n.H3n.v5_6,CY20SU07:n.H3n.v5_13,CY20SU09:n.H3n.v5_15,CY21SU02:n.H3n.v5_18,CY21SU03:n.H3n.v5_19,CY21SU04:n.H3n.v5_20,CY21SU07:n.H3n.v5_24,CY21SU11:n.H3n.v5_27,CY22SU03:n.H3n.v5_30,CY22SU08:n.H3n.v5_35,CY22SU09:n.H3n.v5_37,CY22SU11:n.H3n.v5_40,CY23SU04:n.H3n.v5_43,CY23SU08:n.H3n.v5_47,CY23SU11:n.H3n.v5_49,CY24SU02:n.H3n.v5_51},m="Custom";function V(M){return s.fF.assertValue(M,"baseThemeName should exist to get its version"),o[M]||n.H3n.v3_6}function d(M){var P,T=null===(P=null==M?void 0:M.baseTheme)||void 0===P?void 0:P.name;if(null==T)return!1;var x=V(T),R=V(r);return(0,c.ge)(x,R)}function S(M,P,T){return(0,e.M)(M,P,T||p.t)}function g(M){return{name:M&&M.featureSwitches&&M.featureSwitches.useNewCY19SU06BaseTheme?r:"CY18SU07",version:p.t,type:2}}function E(M,P,T){var x=M.themeCollection,D=M.objects,L=P.getVisualObjects(x,b.rw,void 0,h.W);L&&(D=(0,f.d9)(D||{}),(0,f.l7)(D,L));var F=P.getVisualStyle(x),A=(0,v.G3)(D,h.W,F,T);M.evaluatedObjects=A.dataViewObjects}},501895:function(Je,H,t){t.d(H,{L7:function(){return u},OB:function(){return o},hQ:function(){return a},mZ:function(){return V}});var e=t(456535),c=t(474147),s=t(718301),f=t(345563),v=t(787941),b=t(690016),h=t(238435),p=t(474505),n=t(668268),l=t(324356),r=t(374952);function o(T,x,R,D,L){if(v.fF.assertAnyValue(x,"mappings"),v.fF.assertValue(R,"query"),v.fF.assertValue(D,"transformPluginService"),v.fF.assertValue(L,"visualCapabilities"),!T)return R;var F=[],A=L.objects,O=function(Q){var te=A[Q],ee=function(G){if(te.properties[G].type.queryTransform){var ne=_.filter(T[Q],function(X){return function(T,x){if(!T.selector||!_.isString(T.selector.metadata))return!0;var R=x.projections;if(!R)return!1;for(var D in R){var L=R[D];if(L){var F=L.all();if(F)for(var A=0,O=F;A<O.length;A++)if(O[A].queryRef===T.selector.metadata)return!0}}return!1}(X,R)});F.push.apply(F,_.map(ne,function(X){return{objectName:Q,propertyName:G,object:X}}))}};for(var J in te.properties)ee(J)};for(var N in A)O(N);if(_.isEmpty(F))return R;for(var w=R.clone(),I=0,B=F;I<B.length;I++){var j=B[I],W=(0,n.NA)(T,{objectName:j.objectName,propertyName:j.propertyName},j.object.selector);if(W&&i(W.algorithm,x)){var U=D.getTransformPlugin(W.algorithm);w.addTransform(U,W.parameters,L)}}return w}function a(T,x,R){v.fF.assertValue(T,"transformPluginService"),v.fF.assertValue(x,"query"),v.fF.assertAnyValue(R,"compiledMappings");var D=x.defn.transforms();if(_.isEmpty(D))return x;for(var L=x.clone(),F=0,A=D;F<A.length;F++){var O=A[F];if(!i(O.algorithm,R)){var N=T.getTransformPlugin(O.algorithm);L.removeTransform(N,O.name)}}return L}function i(T,x){switch(T){case s.Gr.Forecast.name:return x.some(function(R){return(0,p.ZZ)(R)});case s.Gr.SampleAndDetectAnomaly.name:return x.some(function(R){return(0,p.VO)(R)});default:return!0}}function u(T,x,R,D,L,F,A){v.fF.assertValue(x,"query"),v.fF.assertAnyValue(D,"dataRoles"),v.fF.assertValue(L,"queryRefsByRole"),v.fF.assertAnyValue(F,"additionalProjections"),v.fF.assertValue(A,"compiledMappings");var O=x.transforms();if(_.isEmpty(O))return x;var N=x.select();if(_.isEmpty(N))return x;for(var w=function(T,x,R,D,L){v.fF.assertValue(T,"query"),v.fF.assertValue(x,"projections"),v.fF.assertAnyValue(R,"dataRoles"),v.fF.assertValue(D,"queryRefsByRole"),v.fF.assertAnyValue(L,"additionalProjections");for(var F=[],A=[],N=function(W){if((0,e.Im)(W.expr))return F.push(W),"continue";var U=Object.keys(D),k=_.filter(U,function(G){return _.includes(D[G],W.name)});if(!_.isEmpty(k)){for(var Q=!1,te=0,ee=k;te<ee.length;te++){var J=ee[te];if(!x[J].activeProjectionRefs||_.includes(x[J].activeProjectionRefs,W.name)){F.push(W),Q=!0;break}}return Q||A.push(W),"continue"}if(!_.isEmpty(L)){var re=_.find(L,function(G){return G.queryName===W.name});re&&re.selector&&re.selector.data?F.push(W):A.push(W)}},w=0,I=T.select();w<I.length;w++)N(I[w]);return{transformSelects:F,topLevelSelects:A}}(x,R,D,L,F),I=w.transformSelects,B=w.topLevelSelects,j=[],W=0;W<O.length;W++){var U=O[W],k=T.getTransformPlugin(U.algorithm),Q="input"+W,te="output"+W;U.input.parameters=P(U.input.parameters,A);var ee={algorithm:U.algorithm,name:U.name,input:{parameters:U.input.parameters,table:{name:Q,columns:S(I,L,D,k,A)}},output:{table:{name:te,columns:y(I,Q,R)}}};I=_.map(ee.output.table.columns,function(Qe){var He=(0,l.Oh)((0,l.GB)(te),Qe.expression.name);return{name:Qe.expression.name,expr:He}}),j.push(ee)}var G,J=_.last(j),re=x.orderBy();J&&!_.isEmpty(re)&&(G=_.map(re,function(Qe){var He=_.find(N,function(de){return(0,c.fS)(de.expr,Qe.expr)});v.fF.assertValue(He,"orderby clause not found in selects");var Ce=(0,l.Oh)((0,l.GB)(J.output.table.name),He.name);return{direction:Qe.direction,expr:Ce}}));var ne=x.transforms(j);if(!_.isEmpty(B))for(var X=function(He){var Ce=_.findIndex(N,function(de){return de.name===He.name});v.fF.assert(function(){return Ce>=0},"Should be able to find the select in topLevelSelects"),I.splice(Ce,0,He)},oe=0,Ve=B;oe<Ve.length;oe++)X(Ve[oe]);return ne=ne.select(I),G&&(ne=ne.orderBy(G)),ne}function V(T,x){if(v.fF.assertValue(T,"query"),_.isEmpty(T.transforms())||_.isEmpty(T.select()))return T;var R=[];return _.map(T.select().slice(0,x),function(D){if((0,e.t3)(D.expr)&&(0,e.PA)(D.expr.source)){var L=D.expr.source.source,F=_.find(T.transforms(),function(O){var N;return(null===(N=O.output.table)||void 0===N?void 0:N.name)===L});if(F){var A=function(T,x){var R;v.fF.assertValue(T,"sqTransform"),v.fF.assertValue(T.output.table,"sqTransform.output.table"),v.fF.assertValue(x,"refToOutputColumn");var D=_.find(T.output.table.columns,function(A){return A.expression.name===x.ref});if(D){var L=D.expression.expr;if((0,e.t3)(L)){var F=_.find(null===(R=T.input.table)||void 0===R?void 0:R.columns,function(A){var O;return(null===(O=A.expression)||void 0===O?void 0:O.name)===L.ref});return null==F?void 0:F.expression.expr}}}(F,D.expr);A&&!(0,e.Im)(A)&&R.push({name:D.name,expr:A})}}else R.push(D)}),T.createModified({select:R,transforms:null})}function S(T,x,R,D,L){v.fF.assertValue(T,"selects"),v.fF.assertValue(x,"queryRefsByRole"),v.fF.assertAnyValue(R,"dataRoles"),v.fF.assertValue(D,"transformPlugin"),v.fF.assertValue(L,"compiledMappings");var F=_.filter(T,function(O){return!(0,e.Im)(O.expr)}),A=function(T){for(var x,R,D=0,L=T;D<L.length;D++){var F=L[D];if(F.categorical){var O=F.categorical.categories;_.isEmpty(O)||(0,h.Sr)(O,{visitRole:function(w){var I=_.find(w.items,function(B){var j;return null===(j=B.scalarKeyInfo)||void 0===j?void 0:j.scalarKeyMinProperty});I&&(x=w.role,R=I.scalarKeyInfo.scalarKeyQueryName)}})}if(x&&R)return{roleName:x,queryName:R}}}(L);return _.map(F,function(O){return function(T,x,R,D,L){var F=Object.keys(R),A=T.name===(null==x?void 0:x.queryName),O=A?x.roleName:_.find(F,function(I){return _.includes(R[I],T.name)}),N=_.find(D,function(I){return I.name===O});return{role:(null==x?null!=N:A||null!=O&&O!==x.roleName)?M(T.expr,L,N):void 0,expression:T}}(O,A,x,R,D)})}function y(T,x,R){v.fF.assertValue(T,"selects"),v.fF.assertValue(x,"inputTableName"),v.fF.assertValue(R,"projections");for(var D={},L=0,F=T;L<F.length;L++){var A=F[L];(0,e.Im)(A.expr)||(D[A.name]=!0)}return _.map(T,function(O){var N,w,I;if((0,e.Im)(O.expr)){var B=void 0;for(var j in R){var W=R[j].all();_.some(W,function(U){return U.queryRef===O.name})&&(B=j)}v.fF.assertValue(B,"should be able to find the role in projections"),N=B,w=O.expr,I=(0,b.zE)(D,O.name)}else w=(0,l.Oh)((0,l.GB)(x),O.name),I=O.name;return{role:N,expression:{name:I,expr:w}}})}function M(T,x,R){v.fF.assertValue(x,"transform"),v.fF.assertAnyValue(R,"visualDataRole");var D=_.find(x.inputRoles,function(L){v.fF.assertValue(L,"transform.inputRoles should not contain undefined/null roles");var F=L.visualDataRoleMatching;return!F||!(void 0!==F.cartesianKind&&F.cartesianKind!==R.cartesianKind||void 0!==F.matchGrouping&&F.matchGrouping===(0,r.k)(T)||void 0!==F.matchMeasure&&F.matchMeasure!==(0,r.k)(T)||F.skipJoinPredicateNone&&0===R.joinPredicate)});if(D)return D.name}function P(T,x){v.fF.assertValue(T,"parameters"),v.fF.assertValue(x,"compiledMappings");var R=_.find(x,function(F){return(0,p.VO)(F)});if(R){var D=R.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,L=f.oN;D&&!_.find(T,function(F){return F.name===L})&&T.push({name:L,expr:(0,l.cA)(D)})}return T}},57018:function(Je,H,t){t.d(H,{L:function(){return f}});var e=t(226514),c=t(324356),f=function(v){function b(h){var p=v.call(this)||this;return p.schema=h,p}return(0,e.__extends)(b,v),b.prototype.visitEntity=function(h){var p=this.getVariationMapping(h);return p?new c.PN(h.schema,p.sourceEntity.name):h},b.prototype.visitColumnRef=function(h){var p=h.source.accept(this);if(p!==h.source){var n=this.getVariationMapping(h.source);if(n){var l=_.find(n.variation.defaultHierarchy.levels,function(r){return r.column.name===h.ref});if(l)return new c.vD(new c.jE(new c.c7(p,n.variation.name,n.sourceProperty.name),n.variation.defaultHierarchy.name),l.name)}}return h},b.prototype.getVariationMapping=function(h){var p=this.schema.schema(h.schema).findVariationToHierarchyMappings(h.entity);if(p)return _.last(p)},b}(t(334048).b)},725311:function(Je,H,t){t.d(H,{MF:function(){return D},Me:function(){return g},Nu:function(){return L},Oe:function(){return S},SZ:function(){return F},V:function(){return d},Vd:function(){return V},YN:function(){return y},cf:function(){return x},sS:function(){return a},vw:function(){return O}});var e=t(226514),c=t(883863),s=t(787941),f=t(989516),v=t(668268),b=t(620108),h=t(19632),p=t(755397),n=t(799863),l=t(324356),r=t(60495),o=t(939141);function a(N,w){if(s.fF.assertAnyValue(N,"dataSelectors"),_.isEmpty(N))return N;var I=(0,c.UU)(N,function(B){return(0,f.yN)(B)?i(B,w):(0,f.QV)(B)?function(N,w){s.fF.assertValue(N,"scopeWildcard");var I=(0,c.UU)(N.exprs,function(B){return D(B,w)});return I!==N.exprs?(0,n.ms)(I):N}(B,w):(0,f.j9)(B)||(0,f.qm)(B)?B:(0,f.tQ)(B)?function(N,w){s.fF.assertValue(N,"scopeTotal");var I=(0,c.UU)(N.exprs,function(B){return D(B,w)});return I!==N.exprs?(0,p.ms)(I):N}(B,w):(s.fF.assertFail("Unknown selector type"),B)});return I}function i(N,w){s.fF.assertValue(N,"scopeIdentity");var I=D(N.expr,w);return I!==N.expr?(0,h.TZ)(I):N}function V(N,w){}function d(N,w){T(N,w)}function S(N,w){T(N,w)}function g(N,w,I){s.fF.assertValue(N,"objects"),s.fF.assertValue(w,"descriptors");var B=(0,b.MD)(w);if(B){var j=(0,v.ug)(N,B,null);if(j){var W=B.propertyName,U=j[W];if(U){for(var k=0,Q=I;k<Q.length;k++)U=Q[k].rewriteFilter(U);j[W]=U}}}}function y(N,w,I){function B(Q){var te=j(Q.value);return{textStyle:Q.textStyle,url:Q.url,value:te,mentionEmail:Q.mentionEmail}}function j(Q){var te=Q;return te instanceof l.Il&&(te=k(te,I)),te}function U(Q){return{textRuns:_.map(Q.textRuns,function(ee){return B(ee)})}}function k(Q,te){s.fF.assertNonEmpty(te,"rewriters"),s.fF.assertValue(Q,"rewriters");for(var ee=0,J=te;ee<J.length;ee++)Q=J[ee].rewriteExpr(Q);return Q}N&&w&&!_.isEmpty(I)&&(0,v.rQ)(N,w,function(Q,te,ee,J,re){var G,ne=re&&re.properties[te],X=Q[te];if(X instanceof l.Il)for(var oe=0,Ve=I;oe<Ve.length;oe++)X=(Te=Ve[oe]).rewriteExpr(X);else if((0,v.er)(X))for(var Qe=0,He=I;Qe<He.length;Qe++){var Te=He[Qe];if(!_.isEmpty(null===(G=X.context)||void 0===G?void 0:G.filterContext))for(var Ce=0,de=X.context.filterContext;Ce<de.length;Ce++){var pe=de[Ce];pe.filter=Te.rewriteFilter(pe.filter)}X.value=Te.rewriteExpr(X.value)}else{var le=ne.type;if(le.fill&&le.fill.solid&&le.fill.solid.color){if(!(0,o.X2)(X))return;var me=X.solid.color;if(!me)return;var be=me;(me=k(me,I))!==be&&(X={solid:{color:me}})}else if(le.paragraphs){if(!(0,o.Fq)(X)||!function(N,w){for(var I=0,B=N;I<B.length;I++)for(var U=0,k=B[I].textRuns;U<k.length;U++){var Q=k[U];if((0,r.IM)(Q)){if(E(Q.value,w))return!0}else if((0,r.Kt)(Q)){for(var te=0,ee=Q.cases;te<ee.length;te++)if(M(ee[te],w))return!0;if(P(Q.defaultCase,w)||E(Q.expression,w))return!0}else s.fF.assertNever(Q)}return!1}(X,I))return;X=_.map(X,function(ve){return{horizontalTextAlignment:ve.horizontalTextAlignment,textRuns:_.map(ve.textRuns,function(xe){if((0,r.IM)(xe))return B(xe);if((0,r.Kt)(xe)){var ie=_.map(xe.cases,function(We){return function(Q){var te=Q.pattern;return te instanceof l.Il&&(te=k(te,I)),(0,e.__assign)({pattern:te},U(Q))}(We)});return{cases:ie,defaultCase:U(xe.defaultCase),expression:j(xe.expression)}}s.fF.assertNever(xe)})}})}else if(le.icon){if(!(0,o.r)(X))return;var Be={kind:"Icon",value:X.value?k(X.value,I):X.value,layout:X.layout?k(X.layout,I):X.layout,verticalAlignment:X.verticalAlignment?k(X.verticalAlignment,I):X.verticalAlignment};(X.value!==Be.value||X.layout!==Be.layout||X.layout!==Be.layout)&&(X=Be)}else if(le.errorRange){if(!(0,o.ZG)(X))return;var Se={kind:"ErrorRange"};if(X.explicit){var ue=Se.explicit={isRelative:k((Pe=X.explicit).isRelative,I)};Pe.lowerBound&&(ue.lowerBound=k(Pe.lowerBound,I)),Pe.upperBound&&(ue.upperBound=k(Pe.upperBound,I))}else if(X.symmetricalExplicit)Se.symmetricalExplicit={delta:k(X.symmetricalExplicit.delta,I)};else if(X.standardDeviation)Se.standardDeviation={value:k((Pe=X.standardDeviation).value,I),multiplier:k(Pe.multiplier,I)};else if(X.percentage)Se.percentage={lowerBoundDelta:k((Pe=X.percentage).lowerBoundDelta,I),upperBoundDelta:k(Pe.upperBoundDelta,I)};else if(X.percentile){var Pe;Se.percentile={lowerBound:k((Pe=X.percentile).lowerBound,I),upperBound:k(Pe.upperBound,I)}}X=Se}}Q[te]=X})}function E(N,w){if(N instanceof l.Il)for(var I=N,B=0,j=w;B<j.length;B++)if((I=j[B].rewriteExpr(I))!==N)return!0}function M(N,w){if(P(N,w)||E(N.pattern,w))return!0}function P(N,w){for(var I=0,B=N.textRuns;I<B.length;I++)if(E(B[I].value,w))return!0}function T(N,w){var I=N.expression,B=N.filter,j=N.cachedValueItems;I&&(N.expression=D(I,w)),B&&(N.filter=function(N,w){return _.reduce(w,function(I,B){return B.rewriteFilter(I)},N)}(B,w)),j&&x(j,w)}function x(N,w){for(var I=0,B=N;I<B.length;I++){var j=B[I],W=i(j.identity,w);W!==j.identity&&(j.identity=W)}}function D(N,w){return _.reduce(w,function(I,B){return B.rewriteExpr(I)},N)}function L(N,w){var I=N.fieldExpr;s.fF.assertValue(I,"link field expression should always exist"),N.fieldExpr=D(I,w)}function F(N,w){if(!_.isEmpty(N.parameters))for(var I=0,B=N.parameters;I<B.length;I++){var j=B[I];j.fieldExpr&&(j.fieldExpr=D(j.fieldExpr,w))}}function O(N,w){N.expressions=(0,c.UU)(N.expressions,function(I){return D(I,w)}),N.cachedValueItems&&function(N,w){for(var I=0,B=N;I<B.length;I++){var j=B[I];j.identities=(0,c.UU)(j.identities,function(W){return i(W,w)})}}(N.cachedValueItems,w)}},771354:function(Je,H,t){t.d(H,{A:function(){return b}});var e=t(226514),c=t(883863),s=t(787941),f=t(725311),b=function(h){function p(n){var l=h.call(this)||this;return l.rewriters=n,s.fF.assertValue(n,"rewriters"),l}return(0,e.__extends)(p,h),p.prototype.visitActiveProjectionStates=function(n){var l=this;_.forOwn(n,function(r,o){var a=r.map(function(i){return(0,f.MF)(i,l.rewriters)});n[o]=a})},p.prototype.visitFilterContainer=function(n){(0,f.Oe)(n,this.rewriters)},p.prototype.visitDataViewObjectDefinitionUpdates=function(n,l){var r=n.merge;r&&((0,f.Me)(r,l,this.rewriters),(0,f.YN)(r,l,this.rewriters))},p.prototype.visitOrderByStates=function(n){for(var l=0,r=n;l<r.length;l++){var o=r[l];o.expr=(0,f.MF)(o.expr,this.rewriters)}},p.prototype.visitSelector=function(n){var l=(0,f.sS)(n.data,this.rewriters);l!==n.data&&(n.data=l)},p.prototype.visitSelectorsByColumn=function(n){var l=this,r=(0,c.X_)(n.dataMap,function(o,a){return(0,f.sS)(a,l.rewriters)});r!==n.dataMap&&(n.dataMap=r)},p.prototype.visitFilterExpressionMetadata=function(n){(0,f.vw)(n,this.rewriters)},p}(function(){function h(){}return h.prototype.visitActiveProjectionStates=function(p){},h.prototype.visitDataViewObjectDefinitionUpdates=function(p,n){},h.prototype.visitFilterContainer=function(p){},h.prototype.visitOrderByStates=function(p){},h.prototype.visitSelector=function(p){},h.prototype.visitSelectorsByColumn=function(p){},h.prototype.visitSingleVisualState=function(p){},h.prototype.visitVisualContainerState=function(p){},h.prototype.visitFilterExpressionMetadata=function(p){},h}())},809395:function(Je,H,t){t.d(H,{$Z:function(){return ue},A8:function(){return er},AS:function(){return re},As:function(){return ve},DB:function(){return Or},Dl:function(){return St},EL:function(){return sr},Fk:function(){return Zr},GQ:function(){return Se},Hf:function(){return j},Hr:function(){return pe},II:function(){return oe},J6:function(){return Be},L2:function(){return je},LW:function(){return ze},M2:function(){return Re},Mo:function(){return ke},NY:function(){return Kt},O$:function(){return ot},OQ:function(){return K},P4:function(){return he},PQ:function(){return X},PY:function(){return J},Pb:function(){return Ne},Pu:function(){return Xe},QG:function(){return gr},Qg:function(){return Pe},Rr:function(){return ce},S5:function(){return ut},VH:function(){return we},X:function(){return fe},Xf:function(){return ne},Z2:function(){return Tt},Z6:function(){return Y},ZB:function(){return Oe},Zq:function(){return k},_9:function(){return ar},_L:function(){return _t},a8:function(){return Fr},cj:function(){return He},d$:function(){return Ce},dw:function(){return ei},e4:function(){return We},gj:function(){return $r},h4:function(){return Zt},hP:function(){return et},hp:function(){return Wt},hs:function(){return G},i1:function(){return Sr},i4:function(){return wr},iv:function(){return Ze},jW:function(){return mr},kK:function(){return ye},kT:function(){return xt},lX:function(){return Hr},lt:function(){return Yr},o3:function(){return rr},o8:function(){return ee},oE:function(){return Qe},oJ:function(){return Ve},oU:function(){return Mr},pf:function(){return Xr},ps:function(){return me},qd:function(){return Ge},ql:function(){return Nr},r:function(){return dt},rC:function(){return ft},s9:function(){return rt},tL:function(){return Ee},uQ:function(){return de},uo:function(){return ht},uy:function(){return Vr},uz:function(){return Q},vr:function(){return Ue},vz:function(){return $e},ww:function(){return be},x3:function(){return le},y9:function(){return De},yZ:function(){return it}});var e=t(226514),c=t(415859),s=t(95788),f=t(267698),v=t(972817),b=t(535909),h=t(358724),p=t(664723),n=t(744883),l=t(943079),r=t(883863),o=t(629925),a=t(787941),i=t(14253),m=t(826691),u=t(144900),V=t(520907),d=t(145315),S=t(524878),g=t(927928),y=t(283427),C=t(668268),E=t(967908),M=t(983172),P=t(160046),T=t(859541),x=t(273139),R=t(1745),D=t(608794),L=t(35801),F=t(971028),A=t(456535),O=t(374952),N=t(600348),I="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",j="largeTitle",k="lightLabel",Q="foreground",te=V.FP.toPoint(12),ee={size:n.B.createFromPt(te),family:I,color:"#C8C8C8"},J=P.wv,re=P.k8,G=function(lt){return lt[lt.Title=0]="Title",lt[lt.SubTitle=1]="SubTitle",lt[lt.Divider=2]="Divider",lt}({});function ne(lt){return lt&&lt.config&&lt.config.singleVisual?lt.config.singleVisual.query:null}function X(lt){return lt&&lt.config&&lt.config.singleVisual}function oe(lt){var nt,mt;return null===(mt=null===(nt=null==lt?void 0:lt.config)||void 0===nt?void 0:nt.singleVisual)||void 0===mt?void 0:mt.autoSelectVisualType}function Ve(lt){var nt=null==lt?void 0:lt.config;if(nt){var mt=nt.singleVisual;if(mt&&mt.query)return mt.query.defn.select()}}function Te(lt,nt){if(lt&&nt){var mt=nt.getPlugin(lt);if(mt)return mt.capabilities}}function Qe(lt,nt){return Te(lt&&lt.config&&lt.config.singleVisual?lt.config.singleVisual.visualType:null,nt)}function He(lt,nt){return Te((0,L.s)(lt),nt)}function Ce(lt,nt){var mt=He(lt,nt);if(mt&&!_.isEmpty(mt.dataRoles))return mt.dataRoles}function de(lt,nt,mt){if(lt)return mt||"UserAction_ChangeModel"===nt||"UserAction_Refresh"===nt?g.P.BypassCache:g.P.Default}function pe(lt){if(lt.config&&lt.config.singleVisual){var nt=lt.config.singleVisual;nt&&nt.query&&nt.query.hasShowAll()&&(nt.queryOptions=nt.queryOptions||{},nt.queryOptions.keepProjectionOrder=!0)}}function le(lt){if(lt){var nt=lt.capabilities;if(nt&&!_.isEmpty(nt.dataRoles))return nt.dataRoles}}function me(lt,nt,mt){var gt=He(lt,nt);if(gt){var At=ne(lt);if(At)return(0,D.F)().create(gt,mt,At.isDrillDisabled).getNumberRangesForRoles(At)}}function be(lt,nt){var mt=(0,L.s)(lt);return nt&&nt.isScriptVisual(mt)}function Be(lt){var nt;if([N.D.lineChart,N.D.areaChart,N.D.stackedAreaChart,N.D.barChart,N.D.clusteredBarChart,N.D.hundredPercentStackedBarChart,N.D.columnChart,N.D.clusteredColumnChart,N.D.hundredPercentStackedColumnChart,N.D.lineClusteredColumnComboChart,N.D.lineStackedColumnComboChart].indexOf(lt.visualType)>=0){var gt=null===(nt=lt.query)||void 0===nt?void 0:nt.projections;if(gt&&gt[p.x.rows]&&gt[p.x.rows].all().length>0)return!0}return!1}function Se(lt){var nt,mt;return null===(mt=null===(nt=lt.config)||void 0===nt?void 0:nt.singleVisual)||void 0===mt?void 0:mt.objects}function Pe(lt){return lt.config&&lt.config.singleVisual&&lt.config.singleVisual.vcObjects}function ue(lt,nt,mt){var kt=lt.config.singleVisual.query.projections[nt].all()[mt];return a.fF.assertValue(kt,"items[projectionIndex]"),kt.queryRef}function ve(lt,nt,mt,gt,At,kt,Ht){if(mt){var nr=mt.defn.select(),lr=mt.projections,dr=[],fr=[],Pr=Sr(mt),Rr=(0,y.Lo)(mt.projections,At.dataViewMappings,Pr,kt).supportedMappings;if(Rr){for(var Mt=0,pt=Rr;Mt<pt.length;Mt++){var Z=Rr.length>1?ie(pt[Mt]):null,Ye=[];for(var vt in lr)if(null==Z||_.includes(Z,vt))for(var Ft=lr[vt],ir=0,Cr=Ft.all();ir<Cr.length;ir++){var Et=Cr[ir],qe=(0,r.g2)(nr,Et.queryRef);if(-1!==qe){var Pt=nr[qe];if(!(0,A.Im)(Pt.expr)){var Nt=Pt.expr.getMetadata(nt,M.m.buildExprEvaluationContext(mt.defn.from()));a.fF.assertValue(Nt,"exprMetadata");var jt={Restatement:lt.getDisplayName(Pt.expr,nt,At,Pt.name,gt),Name:Et.queryRef,Type:Fe(Nt.type)},Xt=M.m.getKpiMetadata(Pt.expr,nt);Xt&&(jt.kpi=Xt);var Ae=Et.format||Nt.format;Ae&&(jt.Format=Ae);var tt=at(Nt.type);tt&&(jt.DataCategory=tt),dr[qe]=jt,Ye.push({Name:vt,Projection:qe,isActive:_.includes(Ft.activeProjectionRefs,Et.queryRef)})}}}fr.push({DataRoles:Ye})}return{queryMetadata:{Select:dr,Filters:Ht},visualElements:fr}}}}function xe(lt,nt){if(lt.role)nt.push(lt.role);else if(lt.bind)lt.bind.to&&nt.push(lt.bind.to);else if(lt.for)lt.for.in&&nt.push(lt.for.in);else{var kt=lt;if(kt.group){if(kt.group.by&&nt.push(kt.group.by),kt.group.select)for(var Ht=0,nr=kt.group.select;Ht<nr.length;Ht++)xe(nr[Ht],nt)}else if(lt.composite)for(var fr=0,Pr=lt.composite;fr<Pr.length;fr++)xe(Pr[fr],nt);else if(lt.select)for(var Mt=0,pt=lt.select;Mt<pt.length;Mt++)xe(pt[Mt],nt)}}function ie(lt){var nt=[];return lt&&(lt.categorical&&(lt.categorical.categories&&xe(lt.categorical.categories,nt),lt.categorical.values&&xe(lt.categorical.values,nt)),lt.table&&lt.table.rows&&xe(lt.table.rows,nt),lt.single&&xe(lt.single,nt),lt.tree&&(lt.tree.nodes&&xe(lt.tree.nodes,nt),lt.tree.values&&xe(lt.tree.values,nt)),lt.matrix&&(lt.matrix.columns&&xe(lt.matrix.columns,nt),lt.matrix.rows&&xe(lt.matrix.rows,nt),lt.matrix.values&&xe(lt.matrix.values,nt))),_.uniq(nt)}function Fe(lt){switch(a.fF.assertValue(lt,"type"),lt.extendedType){case 66048:return 67;case 131584:return 35}switch(lt.primitiveType){case 1:return 2048;case 2:case 3:return 1;case 4:return 3;case 5:return 4096;case 6:return 20;case 7:return 4;case 9:return 8}}function at(lt){return a.fF.assertValue(lt,"type"),(0,S.Wt)(lt.categoryString)}function We(lt,nt){if(lt&&lt.config&&lt.config.singleVisual&&lt.config.singleVisual.query&&lt.config.singleVisual.query.defn){var mt=lt.config.singleVisual.query.projections,gt=lt.config.singleVisual.query.defn.select();if(mt&&gt.length>0)for(var At in mt)for(var Ht=0,nr=mt[At].all();Ht<nr.length;Ht++){var dr=(0,r.rC)(gt,nr[Ht].queryRef);if(dr){var Pr=dr.expr.getMetadata(nt);if(Pr&&0===Pr.kind&&null==Pr.aggregate)return!0}}return!1}}function Oe(lt){return lt.some(function(nt){return Ze(nt)||Ee(nt)})}function Ze(lt){var nt=Ve(lt);return _.some(nt,function(mt){return(0,A.jX)(mt.expr)})}function Ee(lt){var nt=ne(lt);return null!=nt&&nt.hasHiddenProjections()}function K(lt){return function(nt){return lt===nt}}function Ne(lt){return function(nt){return lt!==nt}}function Y(lt,nt,mt,gt,At){return function(kt){return lt===kt||3!==(mt&&mt.relationshipFilterAction(nt,lt,kt,gt,At))}}function ye(lt,nt){lt.publishToChannel(R.$cv,{affectContainer:function(gt){return gt===nt}})}function rt(lt,nt,mt,gt,At,kt,Ht,nr,lr){if(a.fF.assertAnyValue(mt,"dataAsObject"),kt){var fr,dr=lt.capabilities(kt.visualType);if(dr){var Pr=ve(nt,At,kt.query,kt.columnProperties,dr,Ht,nr);if(Pr){var yr=(0,c.xF)(kt.objects,dr.objects,Ht.serializeSpaceOptimization,!1);(fr=gt.transforms&&dr&&dr.objects?s.F.serializeDataViewTransformActions(gt.transforms,dr.objects):{objects:yr}).objects=fr.objects||yr,fr.visualElements=Pr.visualElements,fr.queryMetadata=Pr.queryMetadata}}return{queryObject:gt.options.query.command,dataObject:mt,transformsObject:fr,dataUpdatedTime:lr}}}function it(lt){a.fF.assertValue(lt,"visualContainerGroups");var nt={};return(0,x.Iw)(lt,function(mt){a.fF.assertValue(mt.name,"visualContainer.name"),nt[mt.name]=!0}),Ue(nt)}function Ue(lt){return a.fF.assertValue(lt,"existingNames"),b.q.generateUniqueId(lt)}function De(lt){var nt=[];return(0,x.Iw)(lt,function(mt){(0,x.q4)(mt)&&nt.push(mt)}),nt}function Xe(lt){return(0,P.xj)(lt.config.singleVisual)||function(lt){for(var nt=lt.parentGroup;nt;){if((0,T.xj)(nt))return!0;nt=nt.parentGroup}return!1}(lt)}function et(lt,nt,mt){void 0===nt&&(nt=0);var gt=_.cloneDeep(lt),At=mt;if(1===nt)return gt;for(;At;){if(!At.layouts.withId(nt))return a.fF.assertFail("must provide a layout for groups for layout".concat(nt)),gt;var kt=At.layouts.withId(nt).position;gt.x+=kt.x,gt.y+=kt.y,At=At.parentGroup}return gt}function he(lt,nt,mt){void 0===mt&&(mt=0);for(var gt=_.cloneDeep(lt),At=nt.parentGroup;At;){var kt=At.layouts.withId(mt).position;gt.x-=kt.x,gt.y-=kt.y,At=At.parentGroup}return gt}function ce(lt,nt,mt,gt,At){lt.publishToChannel(R.jCS,{affectContainer:function(Ht){return Ht!==nt},sourceLabelKey:mt,parentActivity:gt,parentContextActivity:At})}function Re(lt,nt,mt,gt,At){_.isEmpty(nt)||lt.publishToChannel(R.jCS,{affectContainer:function(Ht){return _.includes(nt,Ht)},sourceLabelKey:mt,parentActivity:gt,parentContextActivity:At})}function Ge(lt,nt){return lt.createActivity({name:"Cross Highlight",operationType:nt})}function ut(lt){return lt.createActivity({name:"Change Slicer"})}function je(lt){return _.some(lt,function(nt){return nt.dsr&&nt.dsr.vsName===h.ly2})}function fe(lt){var nt=function(lt){return lt&&null!=lt.size?V.FP.fromPoint(lt.size.pt):V.FP.toString(12)}(lt);return i.b.estimateSvgTextHeight({fontFamily:lt&&lt.family||I,fontSize:nt})}function we(lt,nt,mt,gt,At,kt,Ht){var nr=mt.config.singleVisual.visualType,lr=mt.config.singleVisual.vcObjects,dr=(0,C.NA)(lr,{objectName:"stylePreset",propertyName:"name"},void 0),fr=nt.getVisualObjects(lt,nr,dr&&(0,A.VC)(dr)&&dr.value,P.XW);fr&&(lr=(0,C.d9)(lr||{}),(0,C.l7)(lr,fr,!0));var Pr=nt.getVisualStyle(lt);return(0,E.G3)(lr,P.XW,Pr,gt,At,kt,Ht)}function ze(lt,nt){nt.toggleClass("showHover",lt)}function $e(lt,nt,mt){mt.publishToChannel(lt?f.t1:f.i5,{containerName:nt})}function ot(lt,nt,mt,gt,At){var kt={};return kt[o.mA]=nt||"",kt[o.zo]=gt||"",kt[o.wu]=mt||"",kt[o.CB]=lt||"",kt[o.rb]=At||"",kt}function _t(lt,nt){var mt={};return mt[o.py]=null!=nt?"scale("+nt+")":"scale(1)",mt[o.kP]=lt.width,mt[o.ei]=lt.height,mt}function ke(lt){if(lt&&lt.show){var nt=(0,l.O4)();return(lt.transparency||0===lt.transparency)&&(nt.transparency=lt.transparency),lt.color&&lt.color.solid.color&&(nt.color=lt.color),(0,v.Et)(nt.color.solid.color,(100-nt.transparency)/100)}}function dt(lt,nt){return{show:lt?lt.show:nt.show,color:lt&&lt.color&&lt.color.solid&&lt.color.solid.color?lt.color:nt.color,radius:lt&&lt.radius||nt.radius}}function Tt(lt,nt){return{show:lt?lt.show:nt.show,preset:lt&&lt.preset?lt.preset:nt.preset,position:lt&&lt.position?lt.position:nt.position,color:lt&&lt.color&&lt.color.solid&&lt.color.solid.color?lt.color:nt.color,transparency:lt&&void 0!==lt.transparency?lt.transparency:nt.transparency,shadowBlur:lt&&void 0!==lt.shadowBlur?lt.shadowBlur:nt.shadowBlur,shadowSpread:lt&&void 0!==lt.shadowSpread?lt.shadowSpread:nt.shadowSpread,angle:lt&&void 0!==lt.angle?lt.angle:nt.angle,shadowDistance:lt&&void 0!==lt.shadowDistance?lt.shadowDistance:nt.shadowDistance}}function Wt(lt,nt,mt){var gt,At,kt,Ht;void 0===mt&&(mt=!1);var nr=null!=nt&&nt.suppressDefaultPadding?0:5;return{top:null!==(gt=(lt=lt||{}).top)&&void 0!==gt?gt:mt?0:nr,bottom:null!==(At=lt.bottom)&&void 0!==At?At:nr,left:null!==(kt=lt.left)&&void 0!==kt?kt:nr,right:null!==(Ht=lt.right)&&void 0!==Ht?Ht:nr}}function Kt(lt,nt,mt){return _.isEmpty(nt)&&mt&&((isNaN(mt)||mt<0)&&(mt=0),0!==mt)?{left:lt.left+mt,right:lt.right+mt,top:lt.top+mt,bottom:lt.bottom+mt}:lt}function Zt(lt,nt){var mt;if(null==nt||!nt.customizeSpacing)return null!==(mt=null==nt?void 0:nt.verticalSpacing)&&void 0!==mt?mt:5;switch(lt){case G.Title:return void 0!==(null==nt?void 0:nt.verticalSpacing)&&void 0===(null==nt?void 0:nt.spaceBelowTitle)?null==nt?void 0:nt.verticalSpacing:void 0!==(null==nt?void 0:nt.spaceBelowTitle)?null==nt?void 0:nt.spaceBelowTitle:5;case G.SubTitle:return void 0!==(null==nt?void 0:nt.verticalSpacing)&&void 0===(null==nt?void 0:nt.spaceBelowSubTitle)?nt.verticalSpacing:void 0!==(null==nt?void 0:nt.spaceBelowSubTitle)?nt.spaceBelowSubTitle:5;case G.Divider:return void 0!==(null==nt?void 0:nt.verticalSpacing)&&void 0===(null==nt?void 0:nt.spaceBelowTitleArea)?null==nt?void 0:nt.verticalSpacing:void 0!==(null==nt?void 0:nt.spaceBelowTitleArea)?null==nt?void 0:nt.spaceBelowTitleArea:5;default:return a.fF.assertNever(lt),5}}function er(lt){return null!=lt&&null!=lt.metadata&&null!=lt.metadata.segment}function ar(lt){if(lt&&lt.defn){var nt=lt.defn.groupBy();return!_.isEmpty(nt)}return!1}function sr(lt){return ar(ne(lt))}function gr(lt,nt,mt){var gt=Ce(lt,nt),At=ne(lt);if(At&&!_.isEmpty(gt)){var Ht=At.tryGetExprs(gt[0].name);return!_.isEmpty(Ht)&&!_.some(Ht,function(nr){var lr=nr.getMetadata(mt);if(lr)return!lr.type.text})}}function mr(lt,nt,mt){var gt=function(lt,nt){var mt=ne(lt);if(mt){var gt=He(lt,nt);if(gt&&gt.filterMappings&&gt.filterMappings.measureFilter&&gt.filterMappings.measureFilter.targetRoles){for(var At=gt.filterMappings.measureFilter.targetRoles,kt=_.chain(gt.dataRoles).filter(function(Pr){return Pr.kind===d.DW.Grouping}).map(function(Pr){return Pr.name}).difference(At).value(),Ht=[],nr=0,lr=kt;nr<lr.length;nr++){var dr=lr[nr];mt.projections[dr]&&Ht.push.apply(Ht,mt.projections[dr].all())}var fr=Ve(lt);if(!_.isEmpty(Ht))return _.chain(fr).filter(function(Pr){return _.some(Ht,function(yr){return yr.queryRef===Pr.name})}).map(function(Pr){return Pr.expr}).value()}}}(lt,mt);if(_.isEmpty(gt))return!1;for(var At=0,kt=gt;At<kt.length;At++)if(1===M.m.getAggregateBehavior(kt[At],nt))return!0;return!1}function Sr(lt){for(var nt={},gt=0,At=lt.defn.select();gt<At.length;gt++){var Ht,kt=At[gt];Ht=(0,O.k)(kt.expr)?d.DW.Measure:d.DW.Grouping,nt[kt.name]=Ht}return nt}function Mr(lt){a.fF.assertValue(lt,"exploration");for(var nt=0,mt=lt.sections;nt<mt.length;nt++)St(mt[nt])}function St(lt){a.fF.assertValue(lt,"section");for(var nt=0,mt=lt.visualContainers;nt<mt.length;nt++){var gt=mt[nt];delete gt.cachedData,gt.disableCacheOnServerForInitialLoad=!0}}function rr(lt){function nt(gt,At){var kt,Ht=null!==(kt=At.howCreated)&&void 0!==kt?kt:"Default";gt[Ht]||(gt[Ht]=0),gt[Ht]++}return a.fF.assertValue(lt,"section"),function(){for(var gt=lt&&lt.visualContainers||[],At={},kt=0,Ht=gt=_.reject(gt,function(lr){return(0,P.xj)(lr.config.singleVisual)});kt<Ht.length;kt++)nt(At,Ht[kt]);return At}()}function Fr(lt){function nt(At,kt){var Ht=kt.config.singleVisual.visualType;At[Ht]||(At[Ht]=0),At[Ht]++}function mt(){for(var At=lt&&lt.visualContainers||[],kt={},Ht=0,nr=At=_.reject(At,function(dr){return(0,P.xj)(dr.config.singleVisual)});Ht<nr.length;Ht++)nt(kt,nr[Ht]);return kt}a.fF.assertValue(lt,"section");try{return function(){if(_.isEmpty(lt&&lt.visualContainerGroups))return mt();var kt={},Ht={__hidden:kt};return(0,x.Iw)(lt.visualContainerGroups,function(nr,lr){(0,x.Vz)(nr)&&nt(lr?kt:Ht,nr)}),Ht}()}catch(At){return m.f.error("Error getting visuals from groups ".concat(At&&At.message,": ").concat(At&&At.stack)),mt()}}function wr(lt,nt,mt,gt,At){if(void 0===At&&(At=!1),(0,F.zr)(lt,nt)){var nr=(0,F.Xz)(lt,nt),lr=Ve(lt);if(nr||(lr=_.filter(lr,function(fr){return!(0,O.k)(fr.expr)})),lr=_.filter(lr,function(fr){return!(0,A.jX)(fr.expr)}))return _.chain(lr).map(function(fr){return fr.expr}).filter(function(fr){return M.m.isExprValidForFiltering(fr)&&_.isEmpty(fr.validate(mt,gt))}).map(function(fr){return{name:void 0,expression:Pr=fr,expanded:!1,howCreated:0,type:(0,F.NV)(Pr,mt,0),isHiddenInViewMode:At};var Pr}).value()}}function Vr(lt,nt,mt,gt){var At=mt.getDrillCrossFiltersToApply(lt,nt,gt);return _.map(At,function(Ht){return{name:void 0,type:(nr=Ht).type,filter:nr.filter,expression:nr.expression,expanded:!1,howCreated:6,precedence:nr.precedence};var nr})}function $r(lt){var nt,mt=lt.resourcePackages,gt=null!==(nt=lt.publicCustomVisuals)&&void 0!==nt?nt:[];if(!mt&&0===gt.length)return!1;for(var At=0,kt=lt.sections;At<kt.length;At++){var Ht=kt[At];if(Ht.visualContainers)for(var lr=function(Mt){if(Mt.config&&Mt.config.singleVisual&&Mt.config.singleVisual.visualType){var pt=Mt.config.singleVisual.visualType;if(_(mt).find(function(se){return se.name===pt}))return{value:!0};if(_(gt).includes(pt))return{value:!0}}},dr=0,fr=Ht.visualContainers;dr<fr.length;dr++){var yr=lr(fr[dr]);if("object"==typeof yr)return yr.value}}return!1}function Or(lt,nt){var mt={usingImprovedFilterExperience:!0,viewMode:0===nt},gt=function(lt){var nt=lt.objects;if(nt&&nt.outspacePane){var mt=(0,C.NA)(nt,{objectName:"outspacePane",propertyName:"expanded"},null);return mt&&mt.value}}(lt);_.isUndefined(gt)||(mt.isOutspacePaneExpanded=gt);var At=function(lt){var nt=lt.objects;if(nt&&nt.outspacePane){var mt=(0,C.NA)(nt,{objectName:"outspacePane",propertyName:"visible"},null);return mt&&mt.value}}(lt);return _.isUndefined(At)||(mt.isOutspacePaneVisible=At),mt}function ei(lt,nt){return lt.id&&!nt}function Xr(lt){return lt?3:1}function Nr(lt,nt,mt){var gt;nt&&(gt=nt.createChildActivity(lt));var At=mt();return gt&&gt.resolve(),At}function Yr(lt,nt,mt){return(0,e.__awaiter)(this,void 0,u.J,function(){var gt,At;return(0,e.__generator)(this,function(kt){switch(kt.label){case 0:return nt&&(gt=nt.createChildActivity(lt)),[4,mt()];case 1:return At=kt.sent(),gt&&gt.resolve(),[2,At]}})})}function Hr(lt){var nt=X(lt);return nt&&nt.columnProperties}function Zr(lt){if(_.isEmpty(lt))return!1;for(var nt=0,mt=lt;nt<mt.length;nt++){var gt=mt[nt];if((0,x.Vz)(gt)){var At=Hr(gt);if(At)for(var kt in At)if(At[kt].displayName)return!0}}return!1}function ft(lt,nt){var mt=(0,L.s)(nt);return lt.isQnaVisual(mt)||lt.isQueryVisual(mt)}function ht(lt,nt){var mt;return(0,e.__awaiter)(this,void 0,void 0,function(){var gt,At,kt,Ht;return(0,e.__generator)(this,function(nr){switch(nr.label){case 0:return gt=X(lt),At=nt.dataSources.get(),[4,nt.conceptualSchemaProxy.get(At)];case 1:return kt=nr.sent(),Ht=He(lt,nt.visualPlugin),[2,null===(mt=nt.displayNameService.getVisualTitle(gt,kt,Ht,void 0,void 0,!0))||void 0===mt?void 0:mt.text]}})})}function xt(lt,nt){return{visual:{objects:lt.objects,descriptors:nt.objects},visualContainer:{objects:lt.vcObjects,descriptors:P.XW}}}},35801:function(Je,H,t){t.d(H,{s:function(){return s}});var e=t(942983),c=t(273139);function s(f){if(f){if((0,c.q4)(f))return e.SY;if(f.config&&f.config.singleVisual)return f.config.singleVisual.visualType}}},225304:function(Je,H,t){t.d(H,{b:function(){return v}});var e=t(226514),c=t(787941),s=t(725311),v=function(b){function h(p){var n=b.call(this)||this;return n.rewriters=p,c.fF.assertValue(p,"rewriters"),n}return(0,e.__extends)(h,b),h.prototype.visitSingleVisualConfig=function(p){p.cachedFilterDisplayItems&&(0,s.cf)(p.cachedFilterDisplayItems,this.rewriters)},h.prototype.visitQuery=function(p){if(c.fF.assertValue(p,"query"),p.defn)for(var r=0,o=this.rewriters;r<o.length;r++)p=o[r].rewriteQuery(p)},h.prototype.visitDataViewObjects=function(p,n){(0,s.Me)(p,n,this.rewriters),(0,s.YN)(p,n,this.rewriters)},h.prototype.visitFilterContainer=function(p){c.fF.assertValue(p,"filter"),(0,s.V)(p,this.rewriters)},h.prototype.visitVisualLinks=function(p){c.fF.assertValue(p,"visualLink");for(var n=0,l=p;n<l.length;n++)(0,s.Vd)(l[n],this.rewriters)},h.prototype.visitSelector=function(p){var n=(0,s.sS)(p.data,this.rewriters);n!==p.data&&(p.data=n)},h}(function(){function b(){}return b.prototype.visitVisualContainer=function(h){},b.prototype.visitSingleVisualConfig=function(h){},b.prototype.visitQuery=function(h){},b.prototype.visitDataViewObjects=function(h,p){},b.prototype.visitSelector=function(h){},b.prototype.visitFilterContainer=function(h){},b.prototype.visitVisualLinks=function(h){},b}())},772907:function(Je,H,t){t.d(H,{O4:function(){return r},X2:function(){return a}});var e=t(160046),s=e.Jn,f=e.XQ;function r(i,m){var u=i&&i.preset?i.preset:s,V=i&&i.position?i.position:f,d=a(u,V);return{show:!1,preset:u,position:V,color:{solid:{color:m?m.colorPalette.foreground.value:"#000"}},shadowSpread:d?d.shadowSpread:3,shadowBlur:d?d.shadowBlur:10,angle:d?d.angle:45,shadowDistance:d?d.shadowDistance:10,transparency:d?d.transparency:70}}function a(i,m){var u=function(i){var m,u=i===e.$S,V=10,d=u?15:10,S=u?0:3,g=70;return(m={})[e.Jn]={angle:u?225:45,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.qf]={angle:u?270:90,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.C2]={angle:u?315:135,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.PE]={angle:u?180:0,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.uf]={angle:0,shadowDistance:0,shadowBlur:u?20:15,shadowSpread:S,transparency:g},m[e.cS]={angle:u?0:180,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.Fi]={angle:u?135:315,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.tF]={angle:u?90:270,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m[e.f]={angle:u?45:225,shadowDistance:V,shadowBlur:d,shadowSpread:S,transparency:g},m}(m||f);return u.hasOwnProperty(i)?u[i]:null}},400455:function(Je,H,t){t.d(H,{O:function(){return c}});var e=t(787941);function c(s,f,v){if(s&&s.getProperty("telemetryActivityId")){var b=v.getOpenActivityById(s&&s.getProperty("telemetryActivityId"));if(e.fF.assert(function(){return b&&b.isActive()},"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),b&&b.isActive()){var h=v.startChildActivity(b.event,f);return s.setProperty("telemetryActivityId",h.event.id),h}}}},693285:function(Je,H,t){t.d(H,{k:function(){return b}});var e=t(597098),c=t(325333),s=t(787941),f=t(44615),v=t(261374),b=function(){function h(p,n,l){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=p,this.hideErrorHelperText=!1,"Missing_References"===p?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=l,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource="User"):"Broken_Filters"===p?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=n.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=n.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=n.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource="User",this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===p?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=n.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===p?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=n.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSmallMultiplesWithVC_Hidden"===p&&(this.messageId="NoSupportSmallMultiplesWithVC_Hidden",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=n.get("NoSupportSmallMultiplesWithVC_Hidden"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink='https://go.microsoft.com/fwlink/?linkid=2249857"')}return h.create=function(p,n,l){if(!_.isEmpty(p)){for(var r=[],o=function(d,S){return d.hierarchy?d.hierarchy.name:d.hierarchyLevel?d.hierarchyLevel.name+"."+d.hierarchyLevel.level:S},a=function(d){var S=(0,e.Q)(d),g=void 0;if(S.sparklineData){var y=S.sparklineData.measure;s.fF.assert(function(){return 1===_.size(S.sparklineData.grouping)},"expect 1 field in grouping for sparklines");var C=_.first(S.sparklineData.grouping),E=o(y,(0,f.Hp)(y)),M=o(C,(0,f.Hp)(C));g=l.format("VisualTitle_By_Template",E,M)}else{var P=(0,f.Um)(S);if(!P)return"continue";var T=o(S,(0,f.Hp)(S));g="("+P.entity+") "+T;var x=n.schema(P.schema),R=x&&x.findProperty(P.entity,T);R&&R.errorMessage&&(g+=": "+R.errorMessage)}r.push(g)},i=0,m=p;i<m.length;i++)a(m[i]);return new h("Missing_References",l,r.join(", "))}},Object.defineProperty(h.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"source",{get:function(){return this.errorSource},enumerable:!1,configurable:!0}),h.prototype.addDebugInfo=function(p,n){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:p,errorInfoValue:n})},h.prototype.getDetails=function(p){var n,l=p.get(this.displayableErrorInfo[0].errorInfoKey),r=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(r=(0,v.W)(p.get(this.detailsMessageFormat),r)),{message:p.get(this.messageId),displayableErrorInfo:[{errorInfoKey:l,errorInfoValue:r}],debugErrorInfo:(n=[{errorInfoKey:c.zd,errorInfoValue:this.code}]).concat.apply(n,this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}},h}()},740390:function(Je,H,t){function e(c,s){var f={};if(_.isEmpty(s))return f;for(var v=0,b=s;v<b.length;v++){var h=b[v],p=c.tryGetExprs(h.name);f[h.name]=_.map(p,function(n){return c.defn.selectNameOf(n)})}return f}t.d(H,{S:function(){return e}})},582958:function(Je){Je.exports=function(H){var t={};function e(c){if(t[c])return t[c].exports;var s=t[c]={exports:{},id:c,loaded:!1};return H[c].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t){var e=function(){function c(s,f,v){void 0===f&&(f={}),this.defaultHeaders=f,this.defaultTargetWindow=v,this.windowPostMessageProxy=s}return c.addTrackingProperties=function(s,f){return s.headers=s.headers||{},f&&f.id&&(s.headers.id=f.id),s},c.getTrackingProperties=function(s){return{id:s.headers&&s.headers.id}},c.isErrorMessage=function(s){return"number"==typeof(s&&s.statusCode)&&!(200<=s.statusCode&&s.statusCode<300)},c.prototype.get=function(s,f,v){return void 0===f&&(f={}),void 0===v&&(v=this.defaultTargetWindow),this.send({method:"GET",url:s,headers:f},v)},c.prototype.post=function(s,f,v,b){return void 0===v&&(v={}),void 0===b&&(b=this.defaultTargetWindow),this.send({method:"POST",url:s,headers:v,body:f},b)},c.prototype.put=function(s,f,v,b){return void 0===v&&(v={}),void 0===b&&(b=this.defaultTargetWindow),this.send({method:"PUT",url:s,headers:v,body:f},b)},c.prototype.patch=function(s,f,v,b){return void 0===v&&(v={}),void 0===b&&(b=this.defaultTargetWindow),this.send({method:"PATCH",url:s,headers:v,body:f},b)},c.prototype.delete=function(s,f,v,b){return void 0===f&&(f=null),void 0===v&&(v={}),void 0===b&&(b=this.defaultTargetWindow),this.send({method:"DELETE",url:s,headers:v,body:f},b)},c.prototype.send=function(s,f){if(void 0===f&&(f=this.defaultTargetWindow),s.headers=this.assign({},this.defaultHeaders,s.headers),!f)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(f,s)},c.prototype.assign=function(s){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];if(null==s)throw new TypeError("Cannot convert undefined or null to object");var b=Object(s);return f.forEach(function(h){if(null!=h)for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(b[p]=h[p])}),b},c}();t.HttpPostMessage=e}])},169849:function(Je){var H,t;Je.exports=(H=[function(s,f,v){var St,b=this&&this.__extends||(St=function(rr,Fr){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(wr,Vr){wr.__proto__=Vr}||function(wr,Vr){for(var Ar in Vr)Object.prototype.hasOwnProperty.call(Vr,Ar)&&(wr[Ar]=Vr[Ar])})(rr,Fr)},function(Gt,rr){if("function"!=typeof rr&&null!==rr)throw new TypeError("Class extends value "+String(rr)+" is not a constructor or null");function Fr(){this.constructor=Gt}St(Gt,rr),Gt.prototype=null===rr?Object.create(rr):(Fr.prototype=rr.prototype,new Fr)});Object.defineProperty(f,"__esModule",{value:!0}),f.TextAlignment=f.CommonErrorCodes=f.BookmarksPlayMode=f.ExportDataType=f.QnaMode=f.PageNavigationPosition=f.BrowserPrintAdjustmentsMode=f.AggregateFunction=f.DataCacheMode=f.CredentialType=f.isPercentOfGrandTotal=f.isColumnAggr=f.isHierarchyLevelAggr=f.isHierarchyLevel=f.isColumn=f.isMeasure=f.getFilterType=f.isBasicFilterWithKeys=f.isFilterKeyColumnsTarget=f.HierarchyFilter=f.AdvancedFilter=f.TupleFilter=f.IdentityFilter=f.BasicFilterWithKeys=f.BasicFilter=f.RelativeTimeFilter=f.RelativeDateFilter=f.TopNFilter=f.IncludeExcludeFilter=f.NotSupportedFilter=f.Filter=f.RelativeDateOperators=f.RelativeDateFilterTimeUnit=f.FilterType=f.FiltersLevel=f.FiltersOperations=f.MenuLocation=f.ContrastMode=f.TokenType=f.ViewMode=f.Permissions=f.SectionVisibility=f.ReportAlignment=f.HyperlinkClickBehavior=f.LayoutType=f.VisualContainerDisplayMode=f.BackgroundType=f.DisplayOption=f.PageSizeType=f.TraceType=void 0,f.validateVisualHeader=f.validateExportDataRequest=f.validateQnaInterpretInputData=f.validateLoadQnaConfiguration=f.validateSaveAsParameters=f.validateUpdateFiltersRequest=f.validateFilter=f.validatePage=f.validateTileLoad=f.validateDashboardLoad=f.validateQuickCreate=f.validateCreateReport=f.validatePaginatedReportLoad=f.validateReportLoad=f.validateMenuGroupExtension=f.validateExtension=f.validateCustomPageSize=f.validateVisualizationsPane=f.validateSyncSlicersPane=f.validateSelectionPane=f.validatePageNavigationPane=f.validateFieldsPane=f.validateFiltersPane=f.validateBookmarksPane=f.validatePanes=f.validateSettings=f.validateCaptureBookmarkRequest=f.validateApplyBookmarkStateRequest=f.validateApplyBookmarkByNameRequest=f.validateAddBookmarkRequest=f.validatePlayBookmarkRequest=f.validateSlicerState=f.validateSlicer=f.validateVisualSelector=f.isIExtensionArray=f.isIExtensions=f.isGroupedMenuExtension=f.isFlatMenuExtension=f.isReportFiltersArray=f.isOnLoadFilters=f.VisualDataRoleKindPreference=f.VisualDataRoleKind=f.CommandDisplayOption=f.SlicerTargetSelector=f.VisualTypeSelector=f.VisualSelector=f.PageSelector=f.Selector=f.SortDirection=f.LegendPosition=void 0,f.validatePrintSettings=f.validateZoomLevel=f.validateCustomTheme=f.validateCommandsSettings=f.validateVisualSettings=void 0;var M,h=v(1);!function(St){St[St.Information=0]="Information",St[St.Verbose=1]="Verbose",St[St.Warning=2]="Warning",St[St.Error=3]="Error",St[St.ExpectedError=4]="ExpectedError",St[St.UnexpectedError=5]="UnexpectedError",St[St.Fatal=6]="Fatal"}(f.TraceType||(f.TraceType={})),function(St){St[St.Widescreen=0]="Widescreen",St[St.Standard=1]="Standard",St[St.Cortana=2]="Cortana",St[St.Letter=3]="Letter",St[St.Custom=4]="Custom",St[St.Mobile=5]="Mobile"}(f.PageSizeType||(f.PageSizeType={})),function(St){St[St.FitToPage=0]="FitToPage",St[St.FitToWidth=1]="FitToWidth",St[St.ActualSize=2]="ActualSize"}(f.DisplayOption||(f.DisplayOption={})),function(St){St[St.Default=0]="Default",St[St.Transparent=1]="Transparent"}(f.BackgroundType||(f.BackgroundType={})),function(St){St[St.Visible=0]="Visible",St[St.Hidden=1]="Hidden"}(f.VisualContainerDisplayMode||(f.VisualContainerDisplayMode={})),function(St){St[St.Master=0]="Master",St[St.Custom=1]="Custom",St[St.MobilePortrait=2]="MobilePortrait",St[St.MobileLandscape=3]="MobileLandscape"}(f.LayoutType||(f.LayoutType={})),function(St){St[St.Navigate=0]="Navigate",St[St.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",St[St.RaiseEvent=2]="RaiseEvent"}(f.HyperlinkClickBehavior||(f.HyperlinkClickBehavior={})),function(St){St[St.Left=0]="Left",St[St.Center=1]="Center",St[St.Right=2]="Right",St[St.None=3]="None"}(f.ReportAlignment||(f.ReportAlignment={})),function(St){St[St.AlwaysVisible=0]="AlwaysVisible",St[St.HiddenInViewMode=1]="HiddenInViewMode"}(f.SectionVisibility||(f.SectionVisibility={})),function(St){St[St.Read=0]="Read",St[St.ReadWrite=1]="ReadWrite",St[St.Copy=2]="Copy",St[St.Create=4]="Create",St[St.All=7]="All"}(f.Permissions||(f.Permissions={})),function(St){St[St.View=0]="View",St[St.Edit=1]="Edit"}(f.ViewMode||(f.ViewMode={})),function(St){St[St.Aad=0]="Aad",St[St.Embed=1]="Embed"}(f.TokenType||(f.TokenType={})),function(St){St[St.None=0]="None",St[St.HighContrast1=1]="HighContrast1",St[St.HighContrast2=2]="HighContrast2",St[St.HighContrastBlack=3]="HighContrastBlack",St[St.HighContrastWhite=4]="HighContrastWhite"}(f.ContrastMode||(f.ContrastMode={})),function(St){St[St.Bottom=0]="Bottom",St[St.Top=1]="Top"}(f.MenuLocation||(f.MenuLocation={})),function(St){St[St.RemoveAll=0]="RemoveAll",St[St.ReplaceAll=1]="ReplaceAll",St[St.Add=2]="Add",St[St.Replace=3]="Replace"}(f.FiltersOperations||(f.FiltersOperations={})),function(St){St[St.Report=0]="Report",St[St.Page=1]="Page",St[St.Visual=2]="Visual"}(f.FiltersLevel||(f.FiltersLevel={})),function(St){St[St.Advanced=0]="Advanced",St[St.Basic=1]="Basic",St[St.Unknown=2]="Unknown",St[St.IncludeExclude=3]="IncludeExclude",St[St.RelativeDate=4]="RelativeDate",St[St.TopN=5]="TopN",St[St.Tuple=6]="Tuple",St[St.RelativeTime=7]="RelativeTime",St[St.Identity=8]="Identity",St[St.Hierarchy=9]="Hierarchy"}(M=f.FilterType||(f.FilterType={})),function(St){St[St.Days=0]="Days",St[St.Weeks=1]="Weeks",St[St.CalendarWeeks=2]="CalendarWeeks",St[St.Months=3]="Months",St[St.CalendarMonths=4]="CalendarMonths",St[St.Years=5]="Years",St[St.CalendarYears=6]="CalendarYears",St[St.Minutes=7]="Minutes",St[St.Hours=8]="Hours"}(f.RelativeDateFilterTimeUnit||(f.RelativeDateFilterTimeUnit={})),function(St){St[St.InLast=0]="InLast",St[St.InThis=1]="InThis",St[St.InNext=2]="InNext"}(f.RelativeDateOperators||(f.RelativeDateOperators={}));var x=function(){function St(Gt,rr){this.target=Gt,this.filterType=rr}return St.prototype.toJSON=function(){var Gt={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Gt.displaySettings=this.displaySettings),Gt},St}();f.Filter=x;var R=function(St){function Gt(rr,Fr,wr){var Vr=St.call(this,rr,M.Unknown)||this;return Vr.message=Fr,Vr.notSupportedTypeName=wr,Vr.schemaUrl=Gt.schemaUrl,Vr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.message=this.message,rr.notSupportedTypeName=this.notSupportedTypeName,rr},Gt.schemaUrl="http://powerbi.com/product/schema#notSupported",Gt}(x);f.NotSupportedFilter=R;var D=function(St){function Gt(rr,Fr,wr){var Vr=St.call(this,rr,M.IncludeExclude)||this;return Vr.target=rr,Vr.values=wr,Vr.isExclude=Fr,Vr.schemaUrl=Gt.schemaUrl,Vr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.isExclude=this.isExclude,rr.values=this.values,rr},Gt.schemaUrl="http://powerbi.com/product/schema#includeExclude",Gt}(x);f.IncludeExcludeFilter=D;var L=function(St){function Gt(rr,Fr,wr,Vr){var Ar=St.call(this,rr,M.TopN)||this;return Ar.operator=Fr,Ar.itemCount=wr,Ar.schemaUrl=Gt.schemaUrl,Ar.orderBy=Vr,Ar}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.itemCount=this.itemCount,rr.orderBy=this.orderBy,rr},Gt.schemaUrl="http://powerbi.com/product/schema#topN",Gt}(x);f.TopNFilter=L;var F=function(St){function Gt(rr,Fr,wr,Vr,Ar){var vr=St.call(this,rr,M.RelativeDate)||this;return vr.operator=Fr,vr.timeUnitsCount=wr,vr.timeUnitType=Vr,vr.includeToday=Ar,vr.schemaUrl=Gt.schemaUrl,vr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.timeUnitsCount=this.timeUnitsCount,rr.timeUnitType=this.timeUnitType,rr.includeToday=this.includeToday,rr},Gt.schemaUrl="http://powerbi.com/product/schema#relativeDate",Gt}(x);f.RelativeDateFilter=F;var A=function(St){function Gt(rr,Fr,wr,Vr){var Ar=St.call(this,rr,M.RelativeTime)||this;return Ar.operator=Fr,Ar.timeUnitsCount=wr,Ar.timeUnitType=Vr,Ar.schemaUrl=Gt.schemaUrl,Ar}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.timeUnitsCount=this.timeUnitsCount,rr.timeUnitType=this.timeUnitType,rr},Gt.schemaUrl="http://powerbi.com/product/schema#relativeTime",Gt}(x);f.RelativeTimeFilter=A;var O=function(St){function Gt(rr,Fr){for(var wr=[],Vr=2;Vr<arguments.length;Vr++)wr[Vr-2]=arguments[Vr];var Ar=St.call(this,rr,M.Basic)||this;if(Ar.operator=Fr,Ar.schemaUrl=Gt.schemaUrl,0===wr.length&&"All"!==Fr)throw new Error('values must be a non-empty array unless your operator is "All".');return Ar.values=Array.isArray(wr[0])?wr[0]:wr,Ar}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.values=this.values,rr.requireSingleSelection=!!this.requireSingleSelection,rr},Gt.schemaUrl="http://powerbi.com/product/schema#basic",Gt}(x);f.BasicFilter=O;var N=function(St){function Gt(rr,Fr,wr,Vr){var Ar=St.call(this,rr,Fr,wr)||this;Ar.keyValues=Vr,Ar.target=rr;var vr=rr.keys?rr.keys.length:0;if(vr>0&&!Vr)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(vr," keys"));if(0===vr&&Vr&&Vr.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var $r=0,Qr=Ar.keyValues;$r<Qr.length;$r++){var zr=Qr[$r];if(zr){var Or=zr.length;if(Or!==vr)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Or," values and ").concat(vr," keys"))}}return Ar}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.keyValues=this.keyValues,rr},Gt}(O);f.BasicFilterWithKeys=N;var w=function(St){function Gt(rr,Fr){var wr=St.call(this,rr,M.Identity)||this;return wr.operator=Fr,wr.schemaUrl=Gt.schemaUrl,wr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.target=this.target,rr},Gt.schemaUrl="http://powerbi.com/product/schema#identity",Gt}(x);f.IdentityFilter=w;var I=function(St){function Gt(rr,Fr,wr){var Vr=St.call(this,rr,M.Tuple)||this;return Vr.operator=Fr,Vr.schemaUrl=Gt.schemaUrl,Vr.values=wr,Vr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.operator=this.operator,rr.values=this.values,rr.target=this.target,rr},Gt.schemaUrl="http://powerbi.com/product/schema#tuple",Gt}(x);f.TupleFilter=I;var B=function(St){function Gt(rr,Fr){for(var wr=[],Vr=2;Vr<arguments.length;Vr++)wr[Vr-2]=arguments[Vr];var vr,Ar=St.call(this,rr,M.Advanced)||this;if(Ar.schemaUrl=Gt.schemaUrl,"string"!=typeof Fr||0===Fr.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(Fr));if(Ar.logicalOperator=Fr,(vr=Array.isArray(wr[0])?wr[0]:wr).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(wr.length));if(1===vr.length&&"And"!==Fr)throw new Error('Logical Operator must be "And" when there is only one condition provided');return Ar.conditions=vr,Ar}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.logicalOperator=this.logicalOperator,rr.conditions=this.conditions,rr},Gt.schemaUrl="http://powerbi.com/product/schema#advanced",Gt}(x);f.AdvancedFilter=B;var j=function(St){function Gt(rr,Fr){var wr=St.call(this,rr,M.Hierarchy)||this;return wr.schemaUrl=Gt.schemaUrl,wr.hierarchyData=Fr,wr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.hierarchyData=this.hierarchyData,rr.target=this.target,rr},Gt.schemaUrl="http://powerbi.com/product/schema#hierarchy",Gt}(x);function k(St){if(St.filterType)return St.filterType;var rr=St;return"string"==typeof St.operator&&Array.isArray(St.values)?M.Basic:"string"==typeof rr.logicalOperator&&Array.isArray(rr.conditions)?M.Advanced:M.Unknown}function te(St){return!(!St.table||!St.column||St.aggregationFunction)}f.HierarchyFilter=j,f.isFilterKeyColumnsTarget=function(St){return te(St)&&!!St.keys},f.isBasicFilterWithKeys=function(St){return k(St)===M.Basic&&!!St.keyValues},f.getFilterType=k,f.isMeasure=function(St){return void 0!==St.table&&void 0!==St.measure},f.isColumn=te,f.isHierarchyLevel=function(St){return!(!(St.table&&St.hierarchy&&St.hierarchyLevel)||St.aggregationFunction)},f.isHierarchyLevelAggr=function(St){return!!(St.table&&St.hierarchy&&St.hierarchyLevel&&St.aggregationFunction)},f.isColumnAggr=function(St){return!!(St.table&&St.column&&St.aggregationFunction)},f.isPercentOfGrandTotal=function(St){return!!St.percentOfGrandTotal},function(St){St[St.NoConnection=0]="NoConnection",St[St.OnBehalfOf=1]="OnBehalfOf",St[St.Anonymous=2]="Anonymous"}(f.CredentialType||(f.CredentialType={})),function(St){St[St.Import=0]="Import",St[St.DirectQuery=1]="DirectQuery"}(f.DataCacheMode||(f.DataCacheMode={})),function(St){St[St.Default=1]="Default",St[St.None=2]="None",St[St.Sum=3]="Sum",St[St.Min=4]="Min",St[St.Max=5]="Max",St[St.Count=6]="Count",St[St.Average=7]="Average",St[St.DistinctCount=8]="DistinctCount"}(f.AggregateFunction||(f.AggregateFunction={})),function(St){St[St.Default=0]="Default",St[St.NoAdjustments=1]="NoAdjustments"}(f.BrowserPrintAdjustmentsMode||(f.BrowserPrintAdjustmentsMode={})),function(St){St[St.Bottom=0]="Bottom",St[St.Left=1]="Left"}(f.PageNavigationPosition||(f.PageNavigationPosition={})),function(St){St[St.Interactive=0]="Interactive",St[St.ResultOnly=1]="ResultOnly"}(f.QnaMode||(f.QnaMode={})),function(St){St[St.Summarized=0]="Summarized",St[St.Underlying=1]="Underlying"}(f.ExportDataType||(f.ExportDataType={})),function(St){St[St.Off=0]="Off",St[St.Presentation=1]="Presentation"}(f.BookmarksPlayMode||(f.BookmarksPlayMode={})),f.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},f.TextAlignment={Left:"left",Center:"center",Right:"right"},f.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(St){St[St.Ascending=1]="Ascending",St[St.Descending=2]="Descending"}(f.SortDirection||(f.SortDirection={}));var pe=function(){function St(Gt){this.$schema=Gt}return St.prototype.toJSON=function(){return{$schema:this.$schema}},St}();f.Selector=pe;var le=function(St){function Gt(rr){var Fr=St.call(this,Gt.schemaUrl)||this;return Fr.pageName=rr,Fr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.pageName=this.pageName,rr},Gt.schemaUrl="http://powerbi.com/product/schema#pageSelector",Gt}(pe);f.PageSelector=le;var me=function(St){function Gt(rr){var Fr=St.call(this,Gt.schemaUrl)||this;return Fr.visualName=rr,Fr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.visualName=this.visualName,rr},Gt.schemaUrl="http://powerbi.com/product/schema#visualSelector",Gt}(pe);f.VisualSelector=me;var be=function(St){function Gt(rr){var Fr=St.call(this,me.schemaUrl)||this;return Fr.visualType=rr,Fr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.visualType=this.visualType,rr},Gt.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Gt}(pe);f.VisualTypeSelector=be;var Be=function(St){function Gt(rr){var Fr=St.call(this,me.schemaUrl)||this;return Fr.target=rr,Fr}return b(Gt,St),Gt.prototype.toJSON=function(){var rr=St.prototype.toJSON.call(this);return rr.target=this.target,rr},Gt.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Gt}(pe);function xe(St){return Array.isArray(St)}function Fe(St){return St&&!!St.groupName}function We(St){return Array.isArray(St)}function Oe(St){var Gt=St.message;return Gt||(Gt="".concat(St.path," is invalid. Not meeting ").concat(St.keyword," constraint")),{message:Gt}}f.SlicerTargetSelector=Be,function(St){St[St.Enabled=0]="Enabled",St[St.Disabled=1]="Disabled",St[St.Hidden=2]="Hidden"}(f.CommandDisplayOption||(f.CommandDisplayOption={})),function(St){St[St.Grouping=0]="Grouping",St[St.Measure=1]="Measure",St[St.GroupingOrMeasure=2]="GroupingOrMeasure"}(f.VisualDataRoleKind||(f.VisualDataRoleKind={})),function(St){St[St.Measure=0]="Measure",St[St.Grouping=1]="Grouping"}(f.VisualDataRoleKindPreference||(f.VisualDataRoleKindPreference={})),f.isOnLoadFilters=function(St){return St&&!xe(St)},f.isReportFiltersArray=xe,f.isFlatMenuExtension=function(St){return St&&!Fe(St)},f.isGroupedMenuExtension=Fe,f.isIExtensions=function(St){return St&&!We(St)},f.isIExtensionArray=We,f.validateVisualSelector=function(St){var Gt=h.Validators.visualSelectorValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSlicer=function(St){var Gt=h.Validators.slicerValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSlicerState=function(St){var Gt=h.Validators.slicerStateValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePlayBookmarkRequest=function(St){var Gt=h.Validators.playBookmarkRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateAddBookmarkRequest=function(St){var Gt=h.Validators.addBookmarkRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateApplyBookmarkByNameRequest=function(St){var Gt=h.Validators.applyBookmarkByNameRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateApplyBookmarkStateRequest=function(St){var Gt=h.Validators.applyBookmarkStateRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateCaptureBookmarkRequest=function(St){var Gt=h.Validators.captureBookmarkRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSettings=function(St){var Gt=h.Validators.settingsValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePanes=function(St){var Gt=h.Validators.reportPanesValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateBookmarksPane=function(St){var Gt=h.Validators.bookmarksPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateFiltersPane=function(St){var Gt=h.Validators.filtersPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateFieldsPane=function(St){var Gt=h.Validators.fieldsPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePageNavigationPane=function(St){var Gt=h.Validators.pageNavigationPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSelectionPane=function(St){var Gt=h.Validators.selectionPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSyncSlicersPane=function(St){var Gt=h.Validators.syncSlicersPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateVisualizationsPane=function(St){var Gt=h.Validators.visualizationsPaneValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateCustomPageSize=function(St){var Gt=h.Validators.customPageSizeValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateExtension=function(St){var Gt=h.Validators.extensionValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateMenuGroupExtension=function(St){var Gt=h.Validators.menuGroupExtensionValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateReportLoad=function(St){var Gt=h.Validators.reportLoadValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePaginatedReportLoad=function(St){var Gt=h.Validators.paginatedReportLoadValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateCreateReport=function(St){var Gt=h.Validators.reportCreateValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateQuickCreate=function(St){var Gt=h.Validators.quickCreateValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateDashboardLoad=function(St){var Gt=h.Validators.dashboardLoadValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateTileLoad=function(St){var Gt=h.Validators.tileLoadValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePage=function(St){var Gt=h.Validators.pageValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateFilter=function(St){var Gt=h.Validators.filterValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateUpdateFiltersRequest=function(St){var Gt=h.Validators.updateFiltersRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateSaveAsParameters=function(St){var Gt=h.Validators.saveAsParametersValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateLoadQnaConfiguration=function(St){var Gt=h.Validators.loadQnaValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateQnaInterpretInputData=function(St){var Gt=h.Validators.qnaInterpretInputDataValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateExportDataRequest=function(St){var Gt=h.Validators.exportDataRequestValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateVisualHeader=function(St){var Gt=h.Validators.visualHeaderValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateVisualSettings=function(St){var Gt=h.Validators.visualSettingsValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateCommandsSettings=function(St){var Gt=h.Validators.commandsSettingsValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateCustomTheme=function(St){var Gt=h.Validators.customThemeValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validateZoomLevel=function(St){var Gt=h.Validators.zoomLevelValidator.validate(St);return Gt?Gt.map(Oe):void 0},f.validatePrintSettings=function(St){var Gt=h.Validators.printSettingsValidator.validate(St);return Gt?Gt.map(Oe):void 0}},function(s,f,v){Object.defineProperty(f,"__esModule",{value:!0}),f.Validators=void 0;var b=v(2),h=v(5),p=v(6),n=v(7),l=v(8),r=v(9),o=v(10),a=v(11),i=v(12),m=v(13),u=v(14),V=v(15),d=v(16),S=v(17),g=v(18),y=v(19),C=v(20),E=v(21),M=v(22),P=v(23),T=v(24),x=v(25),R=v(26),D=v(27),L=v(28),F=v(29),A=v(4),O=v(30),N=v(31),w=v(32),I=v(33),B=v(34);f.Validators={addBookmarkRequestValidator:new h.AddBookmarkRequestValidator,advancedFilterTypeValidator:new A.EnumValidator([0]),advancedFilterValidator:new i.AdvancedFilterValidator,anyArrayValidator:new A.ArrayValidator([new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator])]),anyFilterValidator:new R.AnyOfValidator([new i.BasicFilterValidator,new i.AdvancedFilterValidator,new i.IncludeExcludeFilterValidator,new i.NotSupportedFilterValidator,new i.RelativeDateFilterValidator,new i.TopNFilterValidator,new i.RelativeTimeFilterValidator,new i.HierarchyFilterValidator]),anyValueValidator:new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator]),actionBarValidator:new b.ActionBarValidator,statusBarValidator:new b.StatusBarValidator,applyBookmarkByNameRequestValidator:new h.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new h.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new R.AnyOfValidator([new h.ApplyBookmarkByNameRequestValidator,new h.ApplyBookmarkStateRequestValidator]),backgroundValidator:new A.EnumValidator([0,1]),basicFilterTypeValidator:new A.EnumValidator([1]),basicFilterValidator:new i.BasicFilterValidator,booleanArrayValidator:new A.BooleanArrayValidator,booleanValidator:new A.BooleanValidator,bookmarksPaneValidator:new V.BookmarksPaneValidator,captureBookmarkOptionsValidator:new h.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new h.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new A.ArrayValidator([new N.ColumnSchemaValidator]),commandDisplayOptionValidator:new A.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new A.ArrayValidator([new a.CommandExtensionValidator]),commandExtensionValidator:new a.CommandExtensionValidator,commandsSettingsArrayValidator:new A.ArrayValidator([new p.CommandsSettingsValidator]),commandsSettingsValidator:new p.CommandsSettingsValidator,conditionItemValidator:new i.ConditionItemValidator,contrastModeValidator:new A.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new F.MapValidator([new A.StringValidator],[new A.StringValidator]),credentialsValidator:new N.CredentialsValidator,credentialTypeValidator:new A.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new A.EnumValidator([0,1,2]),customLayoutValidator:new m.CustomLayoutValidator,customPageSizeValidator:new u.CustomPageSizeValidator,customThemeValidator:new n.CustomThemeValidator,dashboardLoadValidator:new l.DashboardLoadValidator,dataCacheModeValidator:new A.EnumValidator([0,1]),datasetBindingValidator:new r.DatasetBindingValidator,datasetCreateConfigValidator:new N.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new N.DatasourceConnectionConfigValidator,displayStateModeValidator:new A.EnumValidator([0,1]),displayStateValidator:new m.DisplayStateValidator,exportDataRequestValidator:new o.ExportDataRequestValidator,extensionArrayValidator:new A.ArrayValidator([new a.ExtensionValidator]),extensionsValidator:new R.AnyOfValidator([new A.ArrayValidator([new a.ExtensionValidator]),new a.ExtensionsValidator]),extensionPointsValidator:new a.ExtensionPointsValidator,extensionValidator:new a.ExtensionValidator,fieldForbiddenValidator:new D.FieldForbiddenValidator,fieldRequiredValidator:new L.FieldRequiredValidator,fieldsPaneValidator:new V.FieldsPaneValidator,filterColumnTargetValidator:new i.FilterColumnTargetValidator,filterDisplaySettingsValidator:new i.FilterDisplaySettingsValidator,filterConditionsValidator:new A.ArrayValidator([new i.ConditionItemValidator]),filterHierarchyTargetValidator:new i.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new i.FilterMeasureTargetValidator,filterTargetValidator:new R.AnyOfValidator([new i.FilterColumnTargetValidator,new i.FilterHierarchyTargetValidator,new i.FilterMeasureTargetValidator,new A.ArrayValidator([new R.AnyOfValidator([new i.FilterColumnTargetValidator,new i.FilterHierarchyTargetValidator,new i.FilterMeasureTargetValidator,new i.FilterKeyColumnsTargetValidator,new i.FilterKeyHierarchyTargetValidator,new A.ArrayValidator([new R.AnyOfValidator([new i.FilterColumnTargetValidator,new i.FilterHierarchyTargetValidator,new i.FilterMeasureTargetValidator,new i.FilterKeyColumnsTargetValidator,new i.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new i.FilterValidator,filterTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new A.ArrayValidator([new i.FilterValidator]),filtersOperationsUpdateValidator:new A.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new A.EnumValidator([0]),filtersPaneValidator:new V.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new A.EnumValidator([0,1,2]),includeExcludeFilterValidator:new i.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new A.EnumValidator([3]),includeExcludeFilterValuesValidator:new A.ArrayValidator([new R.AnyOfValidator([new A.StringValidator,new A.NumberValidator,new A.BooleanValidator,new A.ArrayValidator([new A.ArrayValidator([new i.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new A.EnumValidator([9]),hierarchyFilterValuesValidator:new A.ArrayValidator([new i.HierarchyFilterNodeValidator]),layoutTypeValidator:new A.EnumValidator([0,1,2,3]),loadQnaValidator:new d.LoadQnaValidator,menuExtensionValidator:new R.AnyOfValidator([new a.FlatMenuExtensionValidator,new a.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new A.ArrayValidator([new a.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new a.MenuGroupExtensionValidator,menuLocationValidator:new A.EnumValidator([0,1]),notSupportedFilterTypeValidator:new A.EnumValidator([2]),notSupportedFilterValidator:new i.NotSupportedFilterValidator,numberArrayValidator:new A.NumberArrayValidator,numberValidator:new A.NumberValidator,onLoadFiltersBaseValidator:new R.AnyOfValidator([new i.OnLoadFiltersBaseValidator,new i.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new F.MapValidator([new A.StringValidator],[new m.VisualLayoutValidator]),pageNavigationPaneValidator:new V.PageNavigationPaneValidator,pageNavigationPositionValidator:new A.EnumValidator([0,1]),pageSizeTypeValidator:new A.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new u.PageSizeValidator,pageValidator:new u.PageValidator,pageViewFieldValidator:new u.PageViewFieldValidator,pagesLayoutValidator:new F.MapValidator([new A.StringValidator],[new m.PageLayoutValidator]),paginatedReportCommandsValidator:new p.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new A.ArrayValidator([new B.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new y.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new M.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new A.ArrayValidator([new y.ReportParameterFieldsValidator]),parametersPanelValidator:new O.ParametersPanelValidator,permissionsValidator:new A.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new h.PlayBookmarkRequestValidator,printSettingsValidator:new I.PrintSettingsValidator,qnaInterpretInputDataValidator:new d.QnaInterpretInputDataValidator,qnaPanesValidator:new V.QnaPanesValidator,qnaSettingValidator:new d.QnaSettingsValidator,quickCreateValidator:new w.QuickCreateValidator,rawDataValidator:new A.ArrayValidator([new A.ArrayValidator([new A.StringValidator])]),relativeDateFilterOperatorValidator:new A.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new A.EnumValidator([4]),relativeDateFilterValidator:new i.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new A.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new A.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new A.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new A.EnumValidator([7]),relativeTimeFilterValidator:new i.RelativeTimeFilterValidator,reportBarsValidator:new b.ReportBarsValidator,reportCreateValidator:new S.ReportCreateValidator,reportLoadFiltersValidator:new R.AnyOfValidator([new A.ArrayValidator([new i.FilterValidator]),new i.OnLoadFiltersValidator]),reportLoadValidator:new g.ReportLoadValidator,reportPanesValidator:new V.ReportPanesValidator,saveAsParametersValidator:new C.SaveAsParametersValidator,selectionPaneValidator:new V.SelectionPaneValidator,settingsValidator:new M.SettingsValidator,singleCommandSettingsValidator:new p.SingleCommandSettingsValidator,slicerSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.SlicerTargetSelectorValidator]),slicerStateValidator:new P.SlicerStateValidator,slicerTargetValidator:new R.AnyOfValidator([new i.FilterColumnTargetValidator,new i.FilterHierarchyTargetValidator,new i.FilterMeasureTargetValidator,new i.FilterKeyColumnsTargetValidator,new i.FilterKeyHierarchyTargetValidator]),slicerValidator:new P.SlicerValidator,stringArrayValidator:new A.StringArrayValidator,stringValidator:new A.StringValidator,syncSlicersPaneValidator:new V.SyncSlicersPaneValidator,tableDataArrayValidator:new A.ArrayValidator([new N.TableDataValidator]),tableSchemaListValidator:new A.ArrayValidator([new N.TableSchemaValidator]),tileLoadValidator:new T.TileLoadValidator,tokenTypeValidator:new A.EnumValidator([0,1]),topNFilterTypeValidator:new A.EnumValidator([5]),topNFilterValidator:new i.TopNFilterValidator,updateFiltersRequestValidator:new R.AnyOfValidator([new i.UpdateFiltersRequestValidator,new i.RemoveFiltersRequestValidator]),viewModeValidator:new A.EnumValidator([0,1]),visualCommandSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new R.AnyOfValidator([new E.VisualSelectorValidator,new E.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new x.VisualHeaderSettingsValidator,visualHeaderValidator:new x.VisualHeaderValidator,visualHeadersValidator:new A.ArrayValidator([new x.VisualHeaderValidator]),visualizationsPaneValidator:new V.VisualizationsPaneValidator,visualLayoutValidator:new m.VisualLayoutValidator,visualSelectorValidator:new E.VisualSelectorValidator,visualSettingsValidator:new x.VisualSettingsValidator,visualTypeSelectorValidator:new E.VisualTypeSelectorValidator,zoomLevelValidator:new A.RangeValidator(.25,4)}},function(s,f,v){var a,b=this&&this.__extends||(a=function(m,u){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,d){V.__proto__=d}||function(V,d){for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(V[S]=d[S])})(m,u)},function(i,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function u(){this.constructor=i}a(i,m),i.prototype=null===m?Object.create(m):(u.prototype=m.prototype,new u)});Object.defineProperty(f,"__esModule",{value:!0}),f.StatusBarValidator=f.ActionBarValidator=f.ReportBarsValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"actionBar",validators:[n.Validators.actionBarValidator]},{field:"statusBar",validators:[n.Validators.statusBarValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.ReportBarsValidator=l;var r=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.ActionBarValidator=r;var o=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.StatusBarValidator=o},function(s,f){Object.defineProperty(f,"__esModule",{value:!0}),f.MultipleFieldsValidator=void 0;var v=function(){function b(h){this.fieldValidatorsPairs=h}return b.prototype.validate=function(h,p,n){if(!this.fieldValidatorsPairs)return null;for(var l=p?p+"."+n:n,r=0,o=this.fieldValidatorsPairs;r<o.length;r++)for(var a=o[r],i=0,m=a.validators;i<m.length;i++){var V=m[i].validate(h[a.field],l,a.field);if(V)return V}return null},b}();f.MultipleFieldsValidator=v},function(s,f){var S,v=this&&this.__extends||(S=function(y,C){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,M){E.__proto__=M}||function(E,M){for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(E[P]=M[P])})(y,C)},function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=g}S(g,y),g.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(f,"__esModule",{value:!0}),f.RangeValidator=f.NumberArrayValidator=f.BooleanArrayValidator=f.StringArrayValidator=f.EnumValidator=f.SchemaValidator=f.ValueValidator=f.NumberValidator=f.BooleanValidator=f.StringValidator=f.TypeValidator=f.ArrayValidator=f.ObjectValidator=void 0;var b=function(){function S(){}return S.prototype.validate=function(g,y,C){return null==g?null:"object"!=typeof g||Array.isArray(g)?[{message:void 0!==C?C+" must be an object":"input must be an object",path:y,keyword:"type"}]:null},S}();f.ObjectValidator=b;var h=function(){function S(g){this.itemValidators=g}return S.prototype.validate=function(g,y,C){if(null==g)return null;if(!Array.isArray(g))return[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"type"}];for(var E=0;E<g.length;E++)for(var M=(y?y+".":"")+C+"."+E.toString(),P=0,T=this.itemValidators;P<T.length;P++)if(T[P].validate(g[E],M,C))return[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"type"}];return null},S}();f.ArrayValidator=h;var p=function(){function S(g){this.expectedType=g}return S.prototype.validate=function(g,y,C){return null==g?null:typeof g!==this.expectedType?[{message:C+" must be a "+this.expectedType,path:(y?y+".":"")+C,keyword:"type"}]:null},S}();f.TypeValidator=p;var n=function(S){function g(){return S.call(this,"string")||this}return v(g,S),g}(p);f.StringValidator=n;var l=function(S){function g(){return S.call(this,"boolean")||this}return v(g,S),g}(p);f.BooleanValidator=l;var r=function(S){function g(){return S.call(this,"number")||this}return v(g,S),g}(p);f.NumberValidator=r;var o=function(){function S(g){this.possibleValues=g}return S.prototype.validate=function(g,y,C){return null==g?null:this.possibleValues.indexOf(g)<0?[{message:C+" property is invalid",path:(y?y+".":"")+C,keyword:"invalid"}]:null},S}();f.ValueValidator=o;var a=function(S){function g(y){var C=S.call(this,[y])||this;return C.schemaValue=y,C}return v(g,S),g.prototype.validate=function(y,C,E){return S.prototype.validate.call(this,y,C,E)},g}(o);f.SchemaValidator=a;var i=function(S){function g(y){var C=S.call(this)||this;return C.possibleValues=y,C}return v(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new o(this.possibleValues).validate(y,C,E)},g}(r);f.EnumValidator=i;var m=function(S){function g(){return S.call(this,[new n])||this}return v(g,S),g.prototype.validate=function(y,C,E){return S.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of strings",path:(C?C+".":"")+E,keyword:"type"}]:null},g}(h);f.StringArrayValidator=m;var u=function(S){function g(){return S.call(this,[new l])||this}return v(g,S),g.prototype.validate=function(y,C,E){return S.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of booleans",path:(C?C+".":"")+E,keyword:"type"}]:null},g}(h);f.BooleanArrayValidator=u;var V=function(S){function g(){return S.call(this,[new r])||this}return v(g,S),g.prototype.validate=function(y,C,E){return S.prototype.validate.call(this,y,C,E)?[{message:E+" must be an array of numbers",path:(C?C+".":"")+E,keyword:"type"}]:null},g}(h);f.NumberArrayValidator=V;var d=function(S){function g(y,C){var E=S.call(this)||this;return E.minValue=y,E.maxValue=C,E}return v(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||(y>this.maxValue||y<this.minValue?[{message:E+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(C?C+".":"")+E,keyword:"range"}]:null)},g}(r);f.RangeValidator=d},function(s,f,v){var u,b=this&&this.__extends||(u=function(d,S){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(g[C]=y[C])})(d,S)},function(V,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function S(){this.constructor=V}u(V,d),V.prototype=null===d?Object.create(d):(S.prototype=d.prototype,new S)});Object.defineProperty(f,"__esModule",{value:!0}),f.CaptureBookmarkRequestValidator=f.CaptureBookmarkOptionsValidator=f.ApplyBookmarkStateRequestValidator=f.ApplyBookmarkByNameRequestValidator=f.AddBookmarkRequestValidator=f.PlayBookmarkRequestValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){if(null==d)return null;var y=u.prototype.validate.call(this,d,S,g);if(y)return y;var C=[{field:"playMode",validators:[n.Validators.fieldRequiredValidator,new p.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(C).validate(d,S,g)},V}(p.ObjectValidator);f.PlayBookmarkRequestValidator=l;var r=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"state",validators:[n.Validators.stringValidator]},{field:"displayName",validators:[n.Validators.stringValidator]},{field:"apply",validators:[n.Validators.booleanValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.AddBookmarkRequestValidator=r;var o=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.ApplyBookmarkByNameRequestValidator=o;var a=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"state",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.ApplyBookmarkStateRequestValidator=a;var i=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[n.Validators.booleanValidator]},{field:"allPages",validators:[n.Validators.booleanValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.CaptureBookmarkOptionsValidator=i;var m=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"options",validators:[n.Validators.fieldRequiredValidator,n.Validators.captureBookmarkOptionsValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.CaptureBookmarkRequestValidator=m},function(s,f,v){var a,b=this&&this.__extends||(a=function(m,u){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,d){V.__proto__=d}||function(V,d){for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(V[S]=d[S])})(m,u)},function(i,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function u(){this.constructor=i}a(i,m),i.prototype=null===m?Object.create(m):(u.prototype=m.prototype,new u)});Object.defineProperty(f,"__esModule",{value:!0}),f.PaginatedReportCommandsValidator=f.SingleCommandSettingsValidator=f.CommandsSettingsValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"copy",validators:[n.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[n.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[n.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[n.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[n.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[n.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[n.Validators.singleCommandSettingsValidator]},{field:"search",validators:[n.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[n.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[n.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[n.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[n.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[n.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[n.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[n.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[n.Validators.singleCommandSettingsValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.CommandsSettingsValidator=l;var r=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"displayOption",validators:[n.Validators.fieldRequiredValidator,n.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[n.Validators.visualCommandSelectorValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.SingleCommandSettingsValidator=r;var o=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"parameterPanel",validators:[n.Validators.parametersPanelValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.PaginatedReportCommandsValidator=o},function(s,f,v){var l,b=this&&this.__extends||(l=function(o,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,m){i.__proto__=m}||function(i,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(i[u]=m[u])})(o,a)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=r}l(r,o),r.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0}),f.CustomThemeValidator=void 0;var h=v(3),p=v(4),n=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return b(r,l),r.prototype.validate=function(o,a,i){if(null==o)return null;var m=l.prototype.validate.call(this,o,a,i);if(m)return m;var u=[{field:"themeJson",validators:[new p.ObjectValidator]}];return new h.MultipleFieldsValidator(u).validate(o,a,i)},r}(p.ObjectValidator);f.CustomThemeValidator=n},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.DashboardLoadValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"id",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"pageView",validators:[n.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[n.Validators.stringValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.DashboardLoadValidator=l},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.DatasetBindingValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||(a.datasetId||a.paginatedReportBindings?new h.MultipleFieldsValidator([{field:"datasetId",validators:[n.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[n.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(a,i,m):[{message:"datasetBinding cannot be empty",path:(i?i+".":"")+m,keyword:"invalid"}])},o}(p.ObjectValidator);f.DatasetBindingValidator=l},function(s,f,v){var l,b=this&&this.__extends||(l=function(o,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,m){i.__proto__=m}||function(i,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(i[u]=m[u])})(o,a)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=r}l(r,o),r.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0}),f.ExportDataRequestValidator=void 0;var h=v(3),p=v(4),n=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return b(r,l),r.prototype.validate=function(o,a,i){if(null==o)return null;var m=l.prototype.validate.call(this,o,a,i);if(m)return m;var u=[{field:"rows",validators:[new p.NumberValidator]},{field:"exportDataType",validators:[new p.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(u).validate(o,a,i)},r}(p.ObjectValidator);f.ExportDataRequestValidator=n},function(s,f,v){var S,b=this&&this.__extends||(S=function(y,C){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,M){E.__proto__=M}||function(E,M){for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(E[P]=M[P])})(y,C)},function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=g}S(g,y),g.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(f,"__esModule",{value:!0}),f.ExtensionsValidator=f.MenuGroupExtensionValidator=f.ExtensionValidator=f.CommandExtensionValidator=f.ExtensionItemValidator=f.ExtensionPointsValidator=f.GroupedMenuExtensionValidator=f.FlatMenuExtensionValidator=f.MenuExtensionBaseValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"title",validators:[n.Validators.stringValidator]},{field:"icon",validators:[n.Validators.stringValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.MenuExtensionBaseValidator=l;var r=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"menuLocation",validators:[n.Validators.menuLocationValidator]},{field:"groupName",validators:[n.Validators.fieldForbiddenValidator]}]).validate(y,C,E)},g}(l);f.FlatMenuExtensionValidator=r;var o=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"groupName",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"menuLocation",validators:[n.Validators.fieldForbiddenValidator]}]).validate(y,C,E)},g}(l);f.GroupedMenuExtensionValidator=o;var a=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visualContextMenu",validators:[n.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[n.Validators.menuExtensionValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.ExtensionPointsValidator=a;var i=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"extend",validators:[n.Validators.fieldRequiredValidator,n.Validators.extensionPointsValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.ExtensionItemValidator=i;var m=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"title",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"icon",validators:[n.Validators.stringValidator]},{field:"selector",validators:[n.Validators.commandExtensionSelectorValidator]}]).validate(y,C,E)},g}(i);f.CommandExtensionValidator=m;var u=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"command",validators:[n.Validators.commandExtensionValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.ExtensionValidator=u;var V=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"title",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"menuLocation",validators:[n.Validators.menuLocationValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.MenuGroupExtensionValidator=V;var d=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"commands",validators:[n.Validators.fieldRequiredValidator,n.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[n.Validators.menuGroupExtensionArrayValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.ExtensionsValidator=d},function(s,f,v){var w,b=this&&this.__extends||(w=function(B,j){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,U){W.__proto__=U}||function(W,U){for(var k in U)Object.prototype.hasOwnProperty.call(U,k)&&(W[k]=U[k])})(B,j)},function(I,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function j(){this.constructor=I}w(I,B),I.prototype=null===B?Object.create(B):(j.prototype=B.prototype,new j)});Object.defineProperty(f,"__esModule",{value:!0}),f.OnLoadFiltersValidator=f.OnLoadFiltersBaseRemoveOperationValidator=f.OnLoadFiltersBaseValidator=f.ConditionItemValidator=f.RemoveFiltersRequestValidator=f.UpdateFiltersRequestValidator=f.FilterValidator=f.IncludeExcludePointValueValidator=f.HierarchyFilterNodeValidator=f.HierarchyFilterValidator=f.IncludeExcludeFilterValidator=f.NotSupportedFilterValidator=f.TopNFilterValidator=f.RelativeTimeFilterValidator=f.RelativeDateFilterValidator=f.RelativeDateTimeFilterValidator=f.AdvancedFilterValidator=f.BasicFilterValidator=f.FilterValidatorBase=f.FilterDisplaySettingsValidator=f.FilterMeasureTargetValidator=f.FilterKeyHierarchyTargetValidator=f.FilterHierarchyTargetValidator=f.FilterKeyColumnsTargetValidator=f.FilterColumnTargetValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"table",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"column",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.FilterColumnTargetValidator=l;var r=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"keys",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringArrayValidator]}]).validate(B,j,W)},I}(l);f.FilterKeyColumnsTargetValidator=r;var o=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"table",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"hierarchy",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"hierarchyLevel",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.FilterHierarchyTargetValidator=o;var a=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"keys",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringArrayValidator]}]).validate(B,j,W)},I}(o);f.FilterKeyHierarchyTargetValidator=a;var i=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"table",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"measure",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.FilterMeasureTargetValidator=i;var m=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[n.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[n.Validators.booleanValidator]},{field:"displayName",validators:[n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.FilterDisplaySettingsValidator=m;var u=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"target",validators:[n.Validators.fieldRequiredValidator,n.Validators.filterTargetValidator]},{field:"$schema",validators:[n.Validators.stringValidator]},{field:"filterType",validators:[n.Validators.filterTypeValidator]},{field:"displaySettings",validators:[n.Validators.filterDisplaySettingsValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.FilterValidatorBase=u;var V=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"operator",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"values",validators:[n.Validators.fieldRequiredValidator,n.Validators.anyArrayValidator]},{field:"filterType",validators:[n.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[n.Validators.booleanValidator]}]).validate(B,j,W)},I}(u);f.BasicFilterValidator=V;var d=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"logicalOperator",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"conditions",validators:[n.Validators.filterConditionsValidator]},{field:"filterType",validators:[n.Validators.advancedFilterTypeValidator]}]).validate(B,j,W)},I}(u);f.AdvancedFilterValidator=d;var S=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"operator",validators:[n.Validators.fieldRequiredValidator,n.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[n.Validators.numberValidator]},{field:"timeUnitType",validators:[n.Validators.fieldRequiredValidator,n.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[n.Validators.relativeDateTimeFilterTypeValidator]}]).validate(B,j,W)},I}(u);f.RelativeDateTimeFilterValidator=S;var g=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"includeToday",validators:[n.Validators.fieldRequiredValidator,n.Validators.booleanValidator]},{field:"timeUnitType",validators:[n.Validators.fieldRequiredValidator,n.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[n.Validators.relativeDateFilterTypeValidator]}]).validate(B,j,W)},I}(S);f.RelativeDateFilterValidator=g;var y=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"timeUnitType",validators:[n.Validators.fieldRequiredValidator,n.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[n.Validators.relativeTimeFilterTypeValidator]}]).validate(B,j,W)},I}(S);f.RelativeTimeFilterValidator=y;var C=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"operator",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"itemCount",validators:[n.Validators.fieldRequiredValidator,n.Validators.numberValidator]},{field:"filterType",validators:[n.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[n.Validators.fieldRequiredValidator,n.Validators.filterTargetValidator]}]).validate(B,j,W)},I}(u);f.TopNFilterValidator=C;var E=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"message",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"filterType",validators:[n.Validators.notSupportedFilterTypeValidator]}]).validate(B,j,W)},I}(u);f.NotSupportedFilterValidator=E;var M=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"isExclude",validators:[n.Validators.fieldRequiredValidator,n.Validators.booleanValidator]},{field:"values",validators:[n.Validators.fieldRequiredValidator,n.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[n.Validators.includeExludeFilterTypeValidator]}]).validate(B,j,W)},I}(u);f.IncludeExcludeFilterValidator=M;var P=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"hierarchyData",validators:[n.Validators.fieldRequiredValidator,n.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[n.Validators.hierarchyFilterTypeValidator]}]).validate(B,j,W)},I}(u);f.HierarchyFilterValidator=P;var T=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"value",validators:[n.Validators.anyValueValidator]},{field:"keyValues",validators:[n.Validators.anyArrayValidator]},{field:"children",validators:[n.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.HierarchyFilterNodeValidator=T;var x=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"value",validators:[n.Validators.fieldRequiredValidator,n.Validators.anyValueValidator]},{field:"keyValues",validators:[n.Validators.anyArrayValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.IncludeExcludePointValueValidator=x;var R=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||n.Validators.anyFilterValidator.validate(B,j,W)},I}(p.ObjectValidator);f.FilterValidator=R;var D=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"filtersOperation",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersArrayValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.UpdateFiltersRequestValidator=D;var L=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"filtersOperation",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[n.Validators.fieldForbiddenValidator,n.Validators.filtersArrayValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.RemoveFiltersRequestValidator=L;var F=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"value",validators:[n.Validators.anyValueValidator]},{field:"operator",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.ConditionItemValidator=F;var A=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"operation",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersArrayValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.OnLoadFiltersBaseValidator=A;var O=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"operation",validators:[n.Validators.fieldRequiredValidator,n.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[n.Validators.fieldForbiddenValidator,n.Validators.filtersArrayValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.OnLoadFiltersBaseRemoveOperationValidator=O;var N=function(w){function I(){return null!==w&&w.apply(this,arguments)||this}return b(I,w),I.prototype.validate=function(B,j,W){return null==B?null:w.prototype.validate.call(this,B,j,W)||new h.MultipleFieldsValidator([{field:"allPages",validators:[n.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[n.Validators.onLoadFiltersBaseValidator]}]).validate(B,j,W)},I}(p.ObjectValidator);f.OnLoadFiltersValidator=N},function(s,f,v){var i,b=this&&this.__extends||(i=function(u,V){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,S){d.__proto__=S}||function(d,S){for(var g in S)Object.prototype.hasOwnProperty.call(S,g)&&(d[g]=S[g])})(u,V)},function(m,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function V(){this.constructor=m}i(m,u),m.prototype=null===u?Object.create(u):(V.prototype=u.prototype,new V)});Object.defineProperty(f,"__esModule",{value:!0}),f.PageLayoutValidator=f.DisplayStateValidator=f.VisualLayoutValidator=f.CustomLayoutValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"pageSize",validators:[n.Validators.pageSizeValidator]},{field:"displayOption",validators:[n.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[n.Validators.pagesLayoutValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.CustomLayoutValidator=l;var r=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"x",validators:[n.Validators.numberValidator]},{field:"y",validators:[n.Validators.numberValidator]},{field:"z",validators:[n.Validators.numberValidator]},{field:"width",validators:[n.Validators.numberValidator]},{field:"height",validators:[n.Validators.numberValidator]},{field:"displayState",validators:[n.Validators.displayStateValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.VisualLayoutValidator=r;var o=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"mode",validators:[n.Validators.displayStateModeValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.DisplayStateValidator=o;var a=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"visualsLayout",validators:[n.Validators.fieldRequiredValidator,n.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[n.Validators.visualLayoutValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.PageLayoutValidator=a},function(s,f,v){var i,b=this&&this.__extends||(i=function(u,V){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,S){d.__proto__=S}||function(d,S){for(var g in S)Object.prototype.hasOwnProperty.call(S,g)&&(d[g]=S[g])})(u,V)},function(m,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function V(){this.constructor=m}i(m,u),m.prototype=null===u?Object.create(u):(V.prototype=u.prototype,new V)});Object.defineProperty(f,"__esModule",{value:!0}),f.PageViewFieldValidator=f.PageValidator=f.CustomPageSizeValidator=f.PageSizeValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"type",validators:[n.Validators.fieldRequiredValidator,n.Validators.pageSizeTypeValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.PageSizeValidator=l;var r=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"width",validators:[n.Validators.numberValidator]},{field:"height",validators:[n.Validators.numberValidator]}]).validate(u,V,d)},m}(l);f.CustomPageSizeValidator=r;var o=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(u,V,d)},m}(p.ObjectValidator);f.PageValidator=o;var a=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){return null==u?null:i.prototype.validate.call(this,u,V,d)||(["actualSize","fitToWidth","oneColumn"].indexOf(u)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},m}(p.StringValidator);f.PageViewFieldValidator=a},function(s,f,v){var S,b=this&&this.__extends||(S=function(y,C){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,M){E.__proto__=M}||function(E,M){for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(E[P]=M[P])})(y,C)},function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function C(){this.constructor=g}S(g,y),g.prototype=null===y?Object.create(y):(C.prototype=y.prototype,new C)});Object.defineProperty(f,"__esModule",{value:!0}),f.VisualizationsPaneValidator=f.SyncSlicersPaneValidator=f.SelectionPaneValidator=f.PageNavigationPaneValidator=f.FiltersPaneValidator=f.FieldsPaneValidator=f.BookmarksPaneValidator=f.QnaPanesValidator=f.ReportPanesValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"bookmarks",validators:[n.Validators.bookmarksPaneValidator]},{field:"fields",validators:[n.Validators.fieldsPaneValidator]},{field:"filters",validators:[n.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[n.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[n.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[n.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[n.Validators.visualizationsPaneValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.ReportPanesValidator=l;var r=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"filters",validators:[n.Validators.filtersPaneValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.QnaPanesValidator=r;var o=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.BookmarksPaneValidator=o;var a=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"expanded",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.FieldsPaneValidator=a;var i=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]},{field:"expanded",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.FiltersPaneValidator=i;var m=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]},{field:"position",validators:[n.Validators.pageNavigationPositionValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.PageNavigationPaneValidator=m;var u=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.SelectionPaneValidator=u;var V=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.SyncSlicersPaneValidator=V;var d=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return b(g,S),g.prototype.validate=function(y,C,E){return null==y?null:S.prototype.validate.call(this,y,C,E)||new h.MultipleFieldsValidator([{field:"expanded",validators:[n.Validators.booleanValidator]}]).validate(y,C,E)},g}(p.ObjectValidator);f.VisualizationsPaneValidator=d},function(s,f,v){var a,b=this&&this.__extends||(a=function(m,u){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,d){V.__proto__=d}||function(V,d){for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(V[S]=d[S])})(m,u)},function(i,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function u(){this.constructor=i}a(i,m),i.prototype=null===m?Object.create(m):(u.prototype=m.prototype,new u)});Object.defineProperty(f,"__esModule",{value:!0}),f.QnaInterpretInputDataValidator=f.QnaSettingsValidator=f.LoadQnaValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"datasetIds",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringArrayValidator]},{field:"question",validators:[n.Validators.stringValidator]},{field:"viewMode",validators:[n.Validators.viewModeValidator]},{field:"settings",validators:[n.Validators.qnaSettingValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"groupId",validators:[n.Validators.stringValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.LoadQnaValidator=l;var r=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[n.Validators.booleanValidator]},{field:"hideErrors",validators:[n.Validators.booleanValidator]},{field:"panes",validators:[n.Validators.qnaPanesValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.QnaSettingsValidator=r;var o=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"datasetIds",validators:[n.Validators.stringArrayValidator]},{field:"question",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.QnaInterpretInputDataValidator=o},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.ReportCreateValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"datasetId",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"theme",validators:[n.Validators.customThemeValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.ReportCreateValidator=l},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.ReportLoadValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"id",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"settings",validators:[n.Validators.settingsValidator]},{field:"pageName",validators:[n.Validators.stringValidator]},{field:"filters",validators:[n.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[n.Validators.permissionsValidator]},{field:"viewMode",validators:[n.Validators.viewModeValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"bookmark",validators:[n.Validators.applyBookmarkValidator]},{field:"theme",validators:[n.Validators.customThemeValidator]},{field:"embedUrl",validators:[n.Validators.stringValidator]},{field:"datasetBinding",validators:[n.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[n.Validators.contrastModeValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.ReportLoadValidator=l},function(s,f,v){var o,b=this&&this.__extends||(o=function(i,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,V){u.__proto__=V}||function(u,V){for(var d in V)Object.prototype.hasOwnProperty.call(V,d)&&(u[d]=V[d])})(i,m)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function m(){this.constructor=a}o(a,i),a.prototype=null===i?Object.create(i):(m.prototype=i.prototype,new m)});Object.defineProperty(f,"__esModule",{value:!0}),f.ReportParameterFieldsValidator=f.PaginatedReportLoadValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(o){function a(){return null!==o&&o.apply(this,arguments)||this}return b(a,o),a.prototype.validate=function(i,m,u){return null==i?null:o.prototype.validate.call(this,i,m,u)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"id",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"settings",validators:[n.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[n.Validators.stringValidator]},{field:"type",validators:[n.Validators.stringValidator]},{field:"parameterValues",validators:[n.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[n.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(i,m,u)},a}(p.ObjectValidator);f.PaginatedReportLoadValidator=l;var r=function(){function o(){}return o.prototype.validate=function(a,i,m){return null==a?null:new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"value",validators:[n.Validators.stringValidator]}]).validate(a,i,m)},o}();f.ReportParameterFieldsValidator=r},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.SaveAsParametersValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.SaveAsParametersValidator=l},function(s,f,v){var i,b=this&&this.__extends||(i=function(u,V){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,S){d.__proto__=S}||function(d,S){for(var g in S)Object.prototype.hasOwnProperty.call(S,g)&&(d[g]=S[g])})(u,V)},function(m,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function V(){this.constructor=m}i(m,u),m.prototype=null===u?Object.create(u):(V.prototype=u.prototype,new V)});Object.defineProperty(f,"__esModule",{value:!0}),f.SlicerTargetSelectorValidator=f.VisualTypeSelectorValidator=f.VisualSelectorValidator=void 0;var h=v(3),p=v(4),n=v(4),l=v(1),r=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){if(null==u)return null;var S=i.prototype.validate.call(this,u,V,d);if(S)return S;var g=[{field:"$schema",validators:[l.Validators.stringValidator,new n.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator]}];return new h.MultipleFieldsValidator(g).validate(u,V,d)},m}(p.ObjectValidator);f.VisualSelectorValidator=r;var o=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){if(null==u)return null;var S=i.prototype.validate.call(this,u,V,d);if(S)return S;var g=[{field:"$schema",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator,new n.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator]}];return new h.MultipleFieldsValidator(g).validate(u,V,d)},m}(p.ObjectValidator);f.VisualTypeSelectorValidator=o;var a=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return b(m,i),m.prototype.validate=function(u,V,d){if(null==u)return null;var S=i.prototype.validate.call(this,u,V,d);if(S)return S;var g=[{field:"$schema",validators:[l.Validators.fieldRequiredValidator,l.Validators.stringValidator,new n.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[l.Validators.fieldRequiredValidator,l.Validators.slicerTargetValidator]}];return new h.MultipleFieldsValidator(g).validate(u,V,d)},m}(p.ObjectValidator);f.SlicerTargetSelectorValidator=a},function(s,f,v){var o,b=this&&this.__extends||(o=function(i,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,V){u.__proto__=V}||function(u,V){for(var d in V)Object.prototype.hasOwnProperty.call(V,d)&&(u[d]=V[d])})(i,m)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function m(){this.constructor=a}o(a,i),a.prototype=null===i?Object.create(i):(m.prototype=i.prototype,new m)});Object.defineProperty(f,"__esModule",{value:!0}),f.PaginatedReportSettingsValidator=f.SettingsValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(o){function a(){return null!==o&&o.apply(this,arguments)||this}return b(a,o),a.prototype.validate=function(i,m,u){return null==i?null:o.prototype.validate.call(this,i,m,u)||new h.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[n.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[n.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[n.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[n.Validators.booleanValidator]},{field:"extensions",validators:[n.Validators.extensionsValidator]},{field:"layoutType",validators:[n.Validators.layoutTypeValidator]},{field:"customLayout",validators:[n.Validators.customLayoutValidator]},{field:"background",validators:[n.Validators.backgroundValidator]},{field:"visualSettings",validators:[n.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[n.Validators.booleanValidator]},{field:"commands",validators:[n.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[n.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[n.Validators.reportBarsValidator]},{field:"panes",validators:[n.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[n.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[n.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[n.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[n.Validators.booleanValidator]},{field:"printSettings",validators:[n.Validators.printSettingsValidator]}]).validate(i,m,u)},a}(p.ObjectValidator);f.SettingsValidator=l;var r=function(o){function a(){return null!==o&&o.apply(this,arguments)||this}return b(a,o),a.prototype.validate=function(i,m,u){return null==i?null:o.prototype.validate.call(this,i,m,u)||new h.MultipleFieldsValidator([{field:"commands",validators:[n.Validators.paginatedReportCommandsValidator]}]).validate(i,m,u)},a}(p.ObjectValidator);f.PaginatedReportSettingsValidator=r},function(s,f,v){var o,b=this&&this.__extends||(o=function(i,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,V){u.__proto__=V}||function(u,V){for(var d in V)Object.prototype.hasOwnProperty.call(V,d)&&(u[d]=V[d])})(i,m)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function m(){this.constructor=a}o(a,i),a.prototype=null===i?Object.create(i):(m.prototype=i.prototype,new m)});Object.defineProperty(f,"__esModule",{value:!0}),f.SlicerStateValidator=f.SlicerValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(o){function a(){return null!==o&&o.apply(this,arguments)||this}return b(a,o),a.prototype.validate=function(i,m,u){return null==i?null:o.prototype.validate.call(this,i,m,u)||new h.MultipleFieldsValidator([{field:"selector",validators:[n.Validators.fieldRequiredValidator,n.Validators.slicerSelectorValidator]},{field:"state",validators:[n.Validators.fieldRequiredValidator,n.Validators.slicerStateValidator]}]).validate(i,m,u)},a}(p.ObjectValidator);f.SlicerValidator=l;var r=function(o){function a(){return null!==o&&o.apply(this,arguments)||this}return b(a,o),a.prototype.validate=function(i,m,u){return null==i?null:o.prototype.validate.call(this,i,m,u)||new h.MultipleFieldsValidator([{field:"filters",validators:[n.Validators.filtersArrayValidator]}]).validate(i,m,u)},a}(p.ObjectValidator);f.SlicerStateValidator=r},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.TileLoadValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"id",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"dashboardId",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"pageView",validators:[n.Validators.stringValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"width",validators:[n.Validators.numberValidator]},{field:"height",validators:[n.Validators.numberValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.TileLoadValidator=l},function(s,f,v){var a,b=this&&this.__extends||(a=function(m,u){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,d){V.__proto__=d}||function(V,d){for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(V[S]=d[S])})(m,u)},function(i,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function u(){this.constructor=i}a(i,m),i.prototype=null===m?Object.create(m):(u.prototype=m.prototype,new u)});Object.defineProperty(f,"__esModule",{value:!0}),f.VisualHeaderValidator=f.VisualHeaderSettingsValidator=f.VisualSettingsValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"visualHeaders",validators:[n.Validators.visualHeadersValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.VisualSettingsValidator=l;var r=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[n.Validators.booleanValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.VisualHeaderSettingsValidator=r;var o=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return b(i,a),i.prototype.validate=function(m,u,V){return null==m?null:a.prototype.validate.call(this,m,u,V)||new h.MultipleFieldsValidator([{field:"settings",validators:[n.Validators.fieldRequiredValidator,n.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[n.Validators.visualHeaderSelectorValidator]}]).validate(m,u,V)},i}(p.ObjectValidator);f.VisualHeaderValidator=o},function(s,f){Object.defineProperty(f,"__esModule",{value:!0}),f.AnyOfValidator=void 0;var v=function(){function b(h){this.validators=h}return b.prototype.validate=function(h,p,n){if(null==h)return null;for(var l=!1,r=0,o=this.validators;r<o.length;r++)if(!o[r].validate(h,p,n)){l=!0;break}return l?null:[{message:n+" property is invalid",path:(p?p+".":"")+n,keyword:"invalid"}]},b}();f.AnyOfValidator=v},function(s,f){Object.defineProperty(f,"__esModule",{value:!0}),f.FieldForbiddenValidator=void 0;var v=function(){function b(){}return b.prototype.validate=function(h,p,n){return void 0!==h?[{message:n+" is forbidden",path:(p?p+".":"")+n,keyword:"forbidden"}]:null},b}();f.FieldForbiddenValidator=v},function(s,f){Object.defineProperty(f,"__esModule",{value:!0}),f.FieldRequiredValidator=void 0;var v=function(){function b(){}return b.prototype.validate=function(h,p,n){return null==h?[{message:n+" is required",path:(p?p+".":"")+n,keyword:"required"}]:null},b}();f.FieldRequiredValidator=v},function(s,f,v){var n,b=this&&this.__extends||(n=function(r,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(a[m]=i[m])})(r,o)},function(l,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=l}n(l,r),l.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)});Object.defineProperty(f,"__esModule",{value:!0}),f.MapValidator=void 0;var p=function(n){function l(r,o){var a=n.call(this)||this;return a.keyValidators=r,a.valueValidators=o,a}return b(l,n),l.prototype.validate=function(r,o,a){if(null==r)return null;var i=n.prototype.validate.call(this,r,o,a);if(i)return i;for(var m in r)if(r.hasOwnProperty(m)){for(var u=(o?o+".":"")+a+"."+m,V=0,d=this.keyValidators;V<d.length;V++)if(i=d[V].validate(m,u,a))return i;for(var g=0,y=this.valueValidators;g<y.length;g++)if(i=y[g].validate(r[m],u,a))return i}return null},l}(v(4).ObjectValidator);f.MapValidator=p},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.ParametersPanelValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"expanded",validators:[n.Validators.booleanValidator]},{field:"enabled",validators:[n.Validators.booleanValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.ParametersPanelValidator=l},function(s,f,v){var u,b=this&&this.__extends||(u=function(d,S){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(g[C]=y[C])})(d,S)},function(V,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function S(){this.constructor=V}u(V,d),V.prototype=null===d?Object.create(d):(S.prototype=d.prototype,new S)});Object.defineProperty(f,"__esModule",{value:!0}),f.TableDataValidator=f.TableSchemaValidator=f.ColumnSchemaValidator=f.CredentialsValidator=f.DatasourceConnectionConfigValidator=f.DatasetCreateConfigValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){if(null==d)return null;var y=u.prototype.validate.call(this,d,S,g);return y||((y=new h.MultipleFieldsValidator([{field:"locale",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"mashupDocument",validators:[n.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[n.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[n.Validators.tableSchemaListValidator]},{field:"data",validators:[n.Validators.tableDataArrayValidator]}]).validate(d,S,g))?y:d.datasourceConnectionConfig&&null==d.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:d.data&&null==d.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==d.data&&null==d.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},V}(p.ObjectValidator);f.DatasetCreateConfigValidator=l;var r=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"dataCacheMode",validators:[n.Validators.dataCacheModeValidator]},{field:"credentials",validators:[n.Validators.credentialsValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.DatasourceConnectionConfigValidator=r;var o=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"credentialType",validators:[n.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[n.Validators.credentialDetailsValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.CredentialsValidator=o;var a=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"displayName",validators:[n.Validators.stringValidator]},{field:"dataType",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.ColumnSchemaValidator=a;var i=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"columns",validators:[n.Validators.fieldRequiredValidator,n.Validators.columnSchemaArrayValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.TableSchemaValidator=i;var m=function(u){function V(){return null!==u&&u.apply(this,arguments)||this}return b(V,u),V.prototype.validate=function(d,S,g){return null==d?null:u.prototype.validate.call(this,d,S,g)||new h.MultipleFieldsValidator([{field:"name",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"rows",validators:[n.Validators.fieldRequiredValidator,n.Validators.rawDataValidator]}]).validate(d,S,g)},V}(p.ObjectValidator);f.TableDataValidator=m},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.QuickCreateValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"groupId",validators:[n.Validators.stringValidator]},{field:"tokenType",validators:[n.Validators.tokenTypeValidator]},{field:"theme",validators:[n.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[n.Validators.fieldRequiredValidator,n.Validators.datasetCreateConfigValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.QuickCreateValidator=l},function(s,f,v){var l,b=this&&this.__extends||(l=function(o,a){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,m){i.__proto__=m}||function(i,m){for(var u in m)Object.prototype.hasOwnProperty.call(m,u)&&(i[u]=m[u])})(o,a)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=r}l(r,o),r.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0}),f.PrintSettingsValidator=void 0;var h=v(3),p=v(4),n=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return b(r,l),r.prototype.validate=function(o,a,i){if(null==o)return null;var m=l.prototype.validate.call(this,o,a,i);if(m)return m;var u=[{field:"browserPrintAdjustmentsMode",validators:[new p.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(u).validate(o,a,i)},r}(p.ObjectValidator);f.PrintSettingsValidator=n},function(s,f,v){var r,b=this&&this.__extends||(r=function(a,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&(m[V]=u[V])})(a,i)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(f,"__esModule",{value:!0}),f.PaginatedReportDatasetBindingValidator=void 0;var h=v(3),p=v(4),n=v(1),l=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return b(o,r),o.prototype.validate=function(a,i,m){return null==a?null:r.prototype.validate.call(this,a,i,m)||new h.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]},{field:"targetDatasetId",validators:[n.Validators.fieldRequiredValidator,n.Validators.stringValidator]}]).validate(a,i,m)},o}(p.ObjectValidator);f.PaginatedReportDatasetBindingValidator=l}],t={},function e(s){var f=t[s];if(void 0!==f)return f.exports;var v=t[s]={exports:{}};return H[s].call(v.exports,v,v.exports,e),v.exports}(0))},642686:function(Je){Je.exports=function(H){var t={};function e(c){if(t[c])return t[c].exports;var s=t[c]={exports:{},id:c,loaded:!1};return H[c].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t,e){var c=e(1),s=function(){function v(b){this.handlers=b,this.getRouteRecognizer=new c,this.patchRouteRecognizer=new c,this.postRouteRecognizer=new c,this.putRouteRecognizer=new c,this.deleteRouteRecognizer=new c}return v.prototype.get=function(b,h){return this.registerHandler(this.getRouteRecognizer,"GET",b,h),this},v.prototype.patch=function(b,h){return this.registerHandler(this.patchRouteRecognizer,"PATCH",b,h),this},v.prototype.post=function(b,h){return this.registerHandler(this.postRouteRecognizer,"POST",b,h),this},v.prototype.put=function(b,h){return this.registerHandler(this.putRouteRecognizer,"PUT",b,h),this},v.prototype.delete=function(b,h){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",b,h),this},v.prototype.registerHandler=function(b,h,p,n){b.add([{path:p,handler:function(a){var i=new f;return Promise.resolve(n(a,i)).then(function(m){return i})}}]),this.handlers.addHandler({test:function(a){if(a.method!==h)return!1;var i=b.recognize(a.url);if(void 0===i)return!1;var m=i[0];return a.params=m.params,a.queryParams=i.queryParams,a.handler=m.handler,!0},handle:function(a){return a.handler(a)}})},v}();t.Router=s;var f=function(){function v(){this.statusCode=200,this.headers={},this.body=null}return v.prototype.send=function(b,h){this.statusCode=b,this.body=h},v}();t.Response=f},function(H,t,e){var c;(function(s){(function(){function f(x,R,D){this.path=x,this.matcher=R,this.delegate=D}function v(x){this.routes={},this.children={},this.target=x}function b(x,R,D){return function(L,F){var A=x+L;if(!F)return new f(x+L,R,D);F(b(A,R,D))}}function h(x,R,D){for(var L=0,F=0;F<x.length;F++)L+=x[F].path.length;R=R.substr(L),x.push({path:R,handler:D})}function p(x,R,D,L){var F=R.routes;for(var A in F)if(F.hasOwnProperty(A)){var O=x.slice();h(O,A,F[A]),R.children[A]?p(O,R.children[A],D,L):D.call(L,O)}}f.prototype={to:function(R,D){var L=this.delegate;if(L&&L.willAddRoute&&(R=L.willAddRoute(this.matcher.target,R)),this.matcher.add(this.path,R),D){if(0===D.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,R,D,this.delegate)}return this}},v.prototype={add:function(R,D){this.routes[R]=D},addChild:function(R,D,L,F){var A=new v(D);this.children[R]=A;var O=b(R,A,F);F&&F.contextEntered&&F.contextEntered(D,O),L(O)}};var r=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function a(x){this.string=x}function i(x){this.name=x}function m(x){this.name=x}function u(){}function V(x,R,D){"/"===x.charAt(0)&&(x=x.substr(1));var L=x.split("/"),F=new Array(L.length);D.val="";for(var A=0;A<L.length;A++){var N,O=L[A];(N=O.match(/^:([^\/]+)$/))?(F[A]=new i(N[1]),R.push(N[1]),D.val+="3"):(N=O.match(/^\*([^\/]+)$/))?(F[A]=new m(N[1]),D.val+="1",R.push(N[1])):""===O?(F[A]=new u,D.val+="2"):(F[A]=new a(O),D.val+="4")}return D.val=+D.val,F}function d(x){this.charSpec=x,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function g(x,R){for(var D=[],L=0,F=x.length;L<F;L++)D=D.concat(x[L].match(R));return D}function C(x){this.queryParams=x||{}}function M(x){var R;x=x.replace(/\+/gm,"%20");try{R=decodeURIComponent(x)}catch(D){R=""}return R}a.prototype={eachChar:function(R){for(var L,D=this.string,F=0;F<D.length;F++)L=D.charAt(F),R=R.put({invalidChars:void 0,repeat:!1,validChars:L});return R},regex:function(){return this.string.replace(r,"\\$1")},generate:function(){return this.string}},i.prototype={eachChar:function(R){return R.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(R){return R[this.name]}},m.prototype={eachChar:function(R){return R.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(R){return R[this.name]}},u.prototype={eachChar:function(R){return R},regex:function(){return""},generate:function(){return""}},d.prototype={get:function(R){if(this.charSpecs[R.validChars])return this.charSpecs[R.validChars];for(var D=this.nextStates,L=0;L<D.length;L++){var F=D[L],A=F.charSpec.validChars===R.validChars;if(A=A&&F.charSpec.invalidChars===R.invalidChars)return this.charSpecs[R.validChars]=F,F}},put:function(R){var D;return(D=this.get(R))||(D=new d(R),this.nextStates.push(D),R.repeat&&D.nextStates.push(D)),D},match:function(R){for(var L,F,A,D=this.nextStates,O=[],N=0;N<D.length;N++)void 0!==(A=(F=(L=D[N]).charSpec).validChars)?-1!==A.indexOf(R)&&O.push(L):void 0!==(A=F.invalidChars)&&-1===A.indexOf(R)&&O.push(L);return O}},C.prototype=(Object.create||function(x){function R(){}return R.prototype=x,new R})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var P=function(){this.rootState=new d,this.names={}};(P.prototype={add:function(R,D){for(var w,L=this.rootState,F="^",A={},O=new Array(R.length),N=[],I=!0,B=0;B<R.length;B++){var j=R[B],W=[],U=V(j.path,W,A);N=N.concat(U);for(var k=0;k<U.length;k++){var Q=U[k];Q instanceof u||(I=!1,L=L.put({invalidChars:void 0,repeat:!1,validChars:"/"}),F+="/",L=Q.eachChar(L),F+=Q.regex())}O[B]={handler:j.handler,names:W}}I&&(L=L.put({invalidChars:void 0,repeat:!1,validChars:"/"}),F+="/"),L.handlers=O,L.regex=new RegExp(F+"$"),L.specificity=A,(w=D&&D.as)&&(this.names[w]={segments:N,handlers:O})},handlersFor:function(R){var D=this.names[R];if(!D)throw new Error("There is no route named "+R);for(var L=new Array(D.handlers.length),F=0;F<D.handlers.length;F++)L[F]=D.handlers[F];return L},hasRoute:function(R){return!!this.names[R]},generate:function(R,D){var L=this.names[R],F="";if(!L)throw new Error("There is no route named "+R);for(var A=L.segments,O=0;O<A.length;O++){var N=A[O];N instanceof u||(F+="/",F+=N.generate(D))}return"/"!==F.charAt(0)&&(F="/"+F),D&&D.queryParams&&(F+=this.generateQueryString(D.queryParams,L.handlers)),F},generateQueryString:function(R,D){var L=[],F=[];for(var A in R)R.hasOwnProperty(A)&&F.push(A);F.sort();for(var O=0;O<F.length;O++){var N=R[A=F[O]];if(null!=N){var w=encodeURIComponent(A);if("[object Array]"===Object.prototype.toString.call(N))for(var I=0;I<N.length;I++){var B=A+"[]="+encodeURIComponent(N[I]);L.push(B)}else w+="="+encodeURIComponent(N),L.push(w)}}return 0===L.length?"":"?"+L.join("&")},parseQueryString:function(R){for(var D=R.split("&"),L={},F=0;F<D.length;F++){var I,A=D[F].split("="),O=M(A[0]),N=O.length,w=!1;1===A.length?I="true":(N>2&&"[]"===O.slice(N-2)&&(w=!0,L[O=O.slice(0,N-2)]||(L[O]=[])),I=A[1]?M(A[1]):""),w?L[O].push(I):L[O]=I}return L},recognize:function(R){var L,F,O,D=[this.rootState],N={},w=!1;if(-1!==(O=R.indexOf("?"))){var I=R.substr(O+1,R.length);R=R.substr(0,O),N=this.parseQueryString(I)}for("/"!==(R=decodeURI(R)).charAt(0)&&(R="/"+R),(L=R.length)>1&&"/"===R.charAt(L-1)&&(R=R.substr(0,L-1),w=!0),F=0;F<R.length&&(D=g(D,R.charAt(F))).length;F++);var B=[];for(F=0;F<D.length;F++)D[F].handlers&&B.push(D[F]);D=B.sort(function(R,D){return D.specificity.val-R.specificity.val});var j=B[0];if(j&&j.handlers)return w&&"(.+)$"===j.regex.source.slice(-5)&&(R+="/"),function(x,R,D){var L=x.handlers,A=R.match(x.regex),O=1,N=new C(D);N.length=L.length;for(var w=0;w<L.length;w++){for(var I=L[w],B=I.names,j={},W=0;W<B.length;W++)j[B[W]]=A[O++];N[w]={handler:I.handler,params:j,isDynamic:!!B.length}}return N}(j,R,N)}}).map=function(R,D){var L=new v;R(b("",L,this.delegate)),p([],L,function(F){D?D(this,F):this.add(F)},this)},P.VERSION="0.1.11";var T=P;e(3).amd?void 0!==(c=function(){return T}.call(t,e,t,s))&&(s.exports=c):void 0!==s&&s.exports?s.exports=T:void 0!==this&&(this.RouteRecognizer=T)}).call(this)}).call(t,e(2)(H))},function(H,t){H.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(H,t){H.exports=function(){throw new Error("define cannot be used indirect")}}])},370355:function(Je){Je.exports=function(H){var t={};function e(c){if(t[c])return t[c].exports;var s=t[c]={exports:{},id:c,loaded:!1};return H[c].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t){var e=function(){function c(s){var f=this;void 0===s&&(s={processTrackingProperties:{addTrackingProperties:c.defaultAddTrackingProperties,getTrackingProperties:c.defaultGetTrackingProperties},isErrorMessage:c.defaultIsErrorMessage,receiveWindow:window,name:c.createRandomString()}),this.pendingRequestPromises={},this.addTrackingProperties=s.processTrackingProperties&&s.processTrackingProperties.addTrackingProperties||c.defaultAddTrackingProperties,this.getTrackingProperties=s.processTrackingProperties&&s.processTrackingProperties.getTrackingProperties||c.defaultGetTrackingProperties,this.isErrorMessage=s.isErrorMessage||c.defaultIsErrorMessage,this.receiveWindow=s.receiveWindow||window,this.name=s.name||c.createRandomString(),this.logMessages=s.logMessages||!1,this.eventSourceOverrideWindow=s.eventSourceOverrideWindow,this.suppressWarnings=s.suppressWarnings||!1,this.handlers=[],this.windowMessageHandler=function(v){return f.onMessageReceived(v)},this.start()}return c.defaultAddTrackingProperties=function(s,f){return s[c.messagePropertyName]=f,s},c.defaultGetTrackingProperties=function(s){return s[c.messagePropertyName]},c.defaultIsErrorMessage=function(s){return!!s.error},c.createDeferred=function(){var s={resolve:null,reject:null,promise:null},f=new Promise(function(v,b){s.resolve=v,s.reject=b});return s.promise=f,s},c.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},c.prototype.addHandler=function(s){this.handlers.push(s)},c.prototype.removeHandler=function(s){var f=this.handlers.indexOf(s);if(-1===f)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(f,1)},c.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},c.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},c.prototype.postMessage=function(s,f){var v={id:c.createRandomString()};this.addTrackingProperties(f,v),s.postMessage(f,"*");var b=c.createDeferred();return this.pendingRequestPromises[v.id]=b,b.promise},c.prototype.sendResponse=function(s,f,v){this.addTrackingProperties(f,v),s.postMessage(f,"*")},c.prototype.onMessageReceived=function(s){var f=this,v=this.eventSourceOverrideWindow||s.source;if(v){var h,p,b=s.data;if("object"!=typeof b)return;try{h=this.getTrackingProperties(b)}catch(r){}if(h&&(p=this.pendingRequestPromises[h.id]),p){var l=!0;try{l=this.isErrorMessage(b)}catch(r){}l?p.reject(b):p.resolve(b),delete this.pendingRequestPromises[h.id]}else this.handlers.some(function(r){var o=!1;try{o=r.test(b)}catch(i){}if(o){var a=void 0;try{a=Promise.resolve(r.handle(b))}catch(i){a=Promise.resolve()}return a.then(function(i){i||(i={warning:"Handler for message: "+JSON.stringify(b,null,"  ")+" did not return a response message. The default response message will be returned instead."}),f.sendResponse(v,i,h)}),!0}})}},c.messagePropertyName="windowPostMessageProxy",c}();t.WindowPostMessageProxy=e}])},995012:function(Je,H,t){t.d(H,{G:function(){return e}});var e=function(){return function(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVToExportDataToFileTenantEnabled=null,this.allowCVLocalStorageTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.allowCVAuthenticationTenantEnabled=null,this.allowCVLocalStorageV2TenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.allowCVLocalStorageV2TenantSwitch=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.mapCurrentLocationEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.numericSlicerEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.lineStylesEnabled=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.scatterWithDataVolume=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.zOrder=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.outspaceBackground=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.aiCapacityMetrics=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.reorderAdminPortalNav=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.lazyLoadAccessRecords=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.totalDataBars=null,this.cesNewUserDayZeroIntent=null,this.cesCustomerVoiceTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.cartesianMultiplesAccessibility=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.pieChartMarginBetweenSlices=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.comboChartNoColumnsLegend=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.copyPasteMenuMetadata=null,this.copyPasteMenuImage=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookRichDisplay=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.supportHierarchyView=null,this.disableOnObjectPanesCustomizationDialog=null,this.oneLakeFabricCapacityBanner=null,this.matrixLayouts=null,this.assistedDateTable=null,this.a11yShowAsMatrix=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.teamsPersonalAppSideNav=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitStatusAPI=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.standaloneUseDashboardNew=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.automaticAggregationsUIGAFeatures=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.logDataflowGen2MenuItemInformation=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableDropdownSlicerPopupOnScroll=null,this.mobileNewDashboardAuthoring=null,this.mobileNewDashboardConsumption=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.rlsSwitchReportEnabled=null,this.disambiguationPreferences=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.OneLakeUXS3Cache=null,this.newManageRelationshipDialog=null,this.getDatasetInfoViaStore=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.azureMapsBubbleSizeRevamp=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.azureMapsBubbleCluster=null,this.quickCreateAPIForEnterData=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.supportLargeStorageModePbixDownload=null,this.unifiedHomepageM1=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.rlsExternalReportImpersonationEnabled=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGASettingSync=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.showTridentArtifactsOnPBIHomeList=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.tridentMultitasking=null,this.tridentMultitaskingInPBI=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductAppDevelopment=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedAzureSQLdb=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.appArtifactLevelSecurity=null,this.embedBlockRoutingAPIs=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexICMAction=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIPaneExpOn=null,this.reflexPBIArtifact=null,this.useNewToolbar=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentNotebookMetadataUpdate=null,this.tridentTSQLNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.refreshCenterDatasetRefreshCancellationUI=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.useRdlTextSearch=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.newMobileTooltip=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.blockExpiredTokenRequestForEmbed=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.selfServeTenantSettings=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHeaderV2=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentHelpPaneForPbi=null,this.tridentFeedbackPane=null,this.showDataDrivenRdlSubscriptions=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.FabricIdentitySharing=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.schemaReduction=null,this.workspacePillFilter=null,this.useNewSort=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.appAccessHiddenContent=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.rdlSaveSubfolder=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.visualDropShadow=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.newMonitoringHubPage=null,this.datahubLastAccessColumn=null,this.newDatasetDetailsPage=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.allowSortColumns_HEAD_DataHub_CompactView_FE=null,this.enabledParentChild_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.viewItemDetailsAction_HEAD_workspace_FE=null,this.upstreamRelatedArtifacts_HEAD_L2_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.useTsMsagl=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.creatorsEmptyExp_HEAD_PurviewHub_FE=null,this.Creators_HEAD_PurviewHub_BE_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.nonFabric_HEAD_PurviewHub_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.useReactToolbar=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.ASConfigureParallelSourceQueriesInCapacity=null,this.RenameDatasetToSemanticModel=null,this.useModernMashupEditor=null,this.debugReportAuthoring=null,this.enhancedReportFormat=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCustomVisuals=null,this.dataExploreUndoRedo=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.customVisualsGallery=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.automaticAggregations=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.reliableProcessingHistory=null,this.datasetsActionsWithAutoAssignTrial=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.goalsMoveScorecard=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.updateScorecardDataset=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.goalsCopyScorecard=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.goalsSkipScorecardCreationPane=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.relationshipAutodetection=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.relationshipEditPane=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.dmhWorkloadProvision=null,this.dmhShowImagingCapability=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.dynamicFormatString=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.alignPBIHomeWithTrident=null,this.metricsHub=null,this.tridentInformationProtectionDSIUI_HEAD_DataProtection_FE=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.reportVisualsTutorial=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.taskflowRecommendationForPBIWorkspace=null,this.unifyTaskflowAndListView=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.requestAccessNotifV2=null,this.deferExplorationStateCapture=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.DeclutterFirstRunExperienceExp=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domains=null,this.domainDelegatedSettings=null,this.domainDelegatedSettingsNewUI_HEAD_Lineage_FE=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.subdomainSupport_HEAD_mesh_FE=null,this.defaultDomain_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.excludeDomainSearch_HEAD_mesh_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.viewUIUpgrade_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.tridentUpgrade_HEAD_ImpactAnalysis_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.enableLineageForViewer_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.upstreamV3_HEAD_RelationsPlatform_FE=null,this.downstreamV3_HEAD_RelationsPlatform_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.datahubUnifyRecentAndAll=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.emCVBundle=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.preloadDES=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.tenantSettingVisualCue=null,this.tenantSettingsDefaultCheckbox=null,this.tenantSettingsSearchBarFE=null,this.tenantSettingIntProperty=null,this.showDataActivatorDefaultCheckbox=null,this.showHighlightTenantSettingSearchBar=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithTridentTrial=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabricConfMsgBar=null,this.useItemRenderer=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.notebookNewPythonCompleter=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.useExtensionsManifestsModule=null,this.useLegacyProductSwitcher=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.emailSubscriptionPaneV2=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.parentChildWithRelationsStore_HEAD_Relations_FE=null,this.hiddenInWorkspace=null,this.daxQueryView=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.showSharedWithMeInHomeQuickAccess=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extendDDSLimit=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNAPP=null,this.rdsCapabilityFBT=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.cartesianExtStylesColumn=null,this.cartesianExtStylesColumn2=null,this.lineExtStyles=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingUx=null,this.copilotLicensingNoneCapacityHandling=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racSuggestTopicsDV3Support=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.multiExternalShortcutCreation=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.daxInlineCopilot=null,this.EnableReportExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.suppress3pExtensionClientHardening=null,this.directLakeRemoteModeling=null,this.impactOfPaginatedReportInDP=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.OneLakeUXShortcutBatchApi=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.enableDynamicSubscriptions500RowLimit=null,this.enableDynamicSubscriptions1000RowLimit=null,this.desktopReportAuthoringCopilot=null,this.copilotWorkspacePicker=null,this.subscriptionDeliveryToODSP=null,this.enableGPT4ForDatasetSummary=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.reportMessageBar=null}}()},314538:function(Je,H,t){t.d(H,{A:function(){return e}});var e={annotationsUI:8,exp_deferVCLoadingChangeSection:2088959,exp_deferVCLoadingChangeSectionEmbed:8192,exp_noEmptyUpdate:2088959,noEmptyUpdate:2088959,noEmptyUpdateEmbed:8192,personalVisualizationPaneEnabled:2088959,queryCancellation:25,reportAnnotationsUI:10,stickyFeatureSwitches:2088959,userFavoriteResourcePackagesEnabled:2088959}},641484:function(Je,H,t){t.d(H,{pL:function(){return j},MF:function(){return d}});var e=t(723342),c=t(629925),s=t(608014),f=t(452771),v=t(630326),b=t(735006),h=t(868181),p=t(690016),l="infonav-additionalError",r="infonav-showAdditionalError";function i(W,U){var k=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",W));return k.find(".infonav-errorInfoText").text(U||""),k.html(k.html().replace(/\n/g,"<br/>")),k}var u=t(163652),V=function(W){return W[W.Info=0]="Info",W[W.Warning=1]="Warning",W[W.SecurityWarning=2]="SecurityWarning",W}({}),d="https://support.powerbi.com",R="infonav-modalContainerHost",D="."+R,F="infonav-describedBy",A='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+F+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon" data-testid="infonav-modal-dialog-close-btn"></input><div class="infonav-dialogContent" data-testid="infonav-modal-dialog-content"><div class="infonav-dialogActions"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',N='<input type="button" class='.concat("pbi-fluent-button","></input>"),j=function(){function W(U,k){this.dialogHost=U,this.localizationMap=k,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}return W.prototype.refocus=function(){this.modalContainer.focus()},W.prototype.showMessage=function(U,k,Q,te){var ee=this;this.ensureInitialized();var G,J=[];if(Q||(Q=this.localizationMap?this.localizationMap.closePromptText:h.Ky),te){var ne=$('<a target="_blank"></a>').text(te.label).attr("href",te.url);G=$("<div></div>").text(k+" ").append(ne),k=void 0}J[0]=this.createButton(Q,function(){ee.hideDialog()},null,"primary"),this.pushMessage(U,k,G,J,!0)},W.prototype.showPrompt=function(U,k,Q,te){this.ensureInitialized();for(var ee=new Array,J=0;J<Q.length;J++){var re=Q[J],G=re.cssClass;0===J&&(G+=" primary"),ee[J]=this.createButton(re.labelText,re.actionCallback,re.data,G,re.disabled)}this.pushMessage(U,k,void 0,ee,!!te)},W.prototype.showError=function(U,k,Q,te,ee){this.showCustomError(h.g_,U,k,k!==f.U.Fatal,Q,te,ee)},W.prototype.showCustomError=function(U,k,Q,te,ee,J,re,G,ne,X,oe,Ve,Te){var Qe=this;this.ensureInitialized();var Ce,He=new Array;re?re.forEach(function(Se){He.push(Qe.createButton(Se.label,function(){Qe.hideDialog(),$.isFunction(J)&&J(Se.resultValue)},null,Se.cssClass,Se.disabled))}):He[0]=Q!==f.U.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:h.Ky,function(){Qe.hideDialog(),$.isFunction(J)&&J(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:h.Pu,function(){window.location.reload()},null,"primary"),Ce=X?$("<div></div>").append(X):$("<div></div>").text(k);var pe,de=$("<div></div>").addClass("infonav-dialogFooter");if(!_.isEmpty(ee)){pe=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:h.q5,oe&&(pe=oe),Ce.append($("<br/>")).append(pe);var le=this.localizationMap?this.localizationMap.copyPromptText:h._T,me=this.localizationMap?this.localizationMap.copySuccessText:h.Eu,be={title:U,message:X?X.text():k,helperText:pe,additionalErrorInfo:ee},Be=$("<button></button>").text(le).addClass("modalCopyToClipboard").click(function(){Qe.tryCopyToClipboard(be)&&(Be.text(me).addClass("modalCopySuccess"),setTimeout(function(){Be.text(le).removeClass("modalCopySuccess")},3e3))});de.prepend(Be)}this.addAdditionalErrorInfo(Ce,ee,this.localizationMap?this.localizationMap.showTechnicalDetailsText:h.b),G&&(G.url===d||G.isGetHelpTextReplaced?de.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(G.label).attr("href",G.url)):He.unshift(this.createButton(G.label,function(){window.open(G.url)},null,"primary"))),Ce.append(de),this.pushMessage(U||h.g_,void 0,Ce,He,te,ne,void 0,void 0,Ve,Te)},W.prototype.showCustomDialog=function(U,k,Q,te,ee,J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de,pe){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var le=[];He&&(le[0]=this.createCheckbox(He.labelText,He.actionCallback,He.data));for(var me=Q.findIndex(function(ve){return(null==ve?void 0:ve.type)===u.s.Button}),be=0;be<Q.length;be++){var Be=Q[be],Se=Be.cssClass;!Ve&&be===me&&(Se+=" primary"),le[He?be+1:be]=Be.type===u.s.Link?this.createLink(Be.labelText,Be.link):this.createButton(Be.labelText,Be.actionCallback,Be.data,Se,Be.disabled)}if(de){var ue=$("<p></p>").append($('<a target="_blank"></a>').text(de.label).attr("href",de.url));k=k.append(ue)}return this.pushMessage(U,void 0,k,le,!!ee,ne,te,J,re,G,X,oe,Ve,Te,Qe,Ce,pe),this.dialogContent},W.prototype.hideDialog=function(){var U=this;this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,function(){U.modalContainer.css(c.SU,c.zu),U.modalDialogElement.removeClass(U.modalDialogCustomClass),U.modalContainer.removeClass(U.modalContainerCustomClass),U.currentModalDialogMessage&&U.currentModalDialogMessage.onDialogClosed&&U.currentModalDialogMessage.onDialogClosed(),U.messageCurrentlyShown=!1;var k=U.messageQueue.shift();k?U.showDialogInternal(k):(U.modalContainer.off(),U.modalContainer.remove(),$(D).off(),$(D).remove(),U.initialized=!1,U.unregisterFocusManager&&U.unregisterFocusManager())})},W.prototype.ensureInitialized=function(){var U=this;if(!this.initialized){if(this.modalContainer=$(A),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(s.G6,function(){return U.hideDialog()}).on("keydown",function(Q){27===Q.keyCode&&U.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:h.Ky).attr("name",this.localizationMap?this.localizationMap.closePromptText:h.Ky).attr("title",this.localizationMap?this.localizationMap.closePromptText:h.Ky),!this.dialogHost){var k=$(D);_.isEmpty(k)||k.remove(),(k=(0,e.hi)().addClass(R)).attr("role","dialog"),k.attr("aria-labelledby",F),this.dialogHost=$(s.iV).append(k),this.dialogHost=k}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=v.IK.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}},W.prototype.updatePosition=function(U){var k=(this.modalContainer.height()-this.modalDialogElement.height())/2,Q=(this.modalContainer.width()-this.modalDialogElement.width())/2,te={top:k+c.SJ,left:Q+c.SJ};U?this.modalDialogElement.animate(te,250):this.modalDialogElement.css(te)},W.prototype.addAdditionalErrorInfo=function(U,k,Q){var te=this;if(!_.isEmpty(k)){for(var ee=$("<p ></p>"),J=0,re=k;J<re.length;J++){var G=re[J];ee.append(i(G.errorInfoKey,G.errorInfoValue))}var ne=function(W,U){var k=$("<div ></div>"),Q=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return Q.addClass(r),Q.text(U||h.b),Q.on(s.G6,function(){k.find(p.b$.createClassSelector(r)).remove(),k.find(p.b$.createClassSelector(l)).css(c.SU,c.jO)}),W.css(c.SU,c.zu),W.addClass(l),k.append(Q),k.append(W),k}(ee,Q);U.append($("<br />")),U.append(ne),U.find(".showAdditionalDetailsLink").on(s.G6,function(){te.updatePosition(!0)})}},W.prototype.pushMessage=function(U,k,Q,te,ee,J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de){void 0===ee&&(ee=!0),void 0===ne&&(ne=""),void 0===X&&(X=""),void 0===de&&(de=""),this.messageQueue.push({titleText:U,messageText:k,dialogContent:Q,dialogButtons:te,onDialogDisplayed:re,isDismissable:ee,dialogCssClass:ne,dialogActionsCssClass:de,containerCssClass:X,onDialogClosed:J,notificationType:oe,notificationText:Ve,htmlMessageText:Qe}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),G,Te,He,Ce)},W.prototype.tryCopyToClipboard=function(U){if(!U)return!1;var k=[];if(U.title&&k.push(U.title),U.message&&k.push(U.message),U.helperText&&k.push(U.helperText),U.additionalErrorInfo)for(var Q=0,te=U.additionalErrorInfo;Q<te.length;Q++){var ee=te[Q];k.push("".concat(ee.errorInfoKey,": ").concat(ee.errorInfoValue))}var J=k.join("\n");try{return(0,b.Ue)().copyText(J),!0}catch(G){return!1}},W.prototype.showDialogInternal=function(U,k,Q,te,ee){var J=this;if(this.currentModalDialogMessage=U,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(U.titleText).attr("title",U.titleText),te?(this.appendNotification(U.notificationType,U.notificationText),this.appendMessageText(U.dialogContent,U.messageText,U.htmlMessageText)):(this.appendMessageText(U.dialogContent,U.messageText,U.htmlMessageText),this.appendNotification(U.notificationType,U.notificationText)),this.dialogCloseButton.css(c.SU,U.isDismissable?c.jO:c.zu),U.dialogButtons.length>0){this.dialogActions.show();for(var re=0,G=U.dialogButtons;re<G.length;re++)this.dialogActions.append(G[re])}else this.dialogActions.hide();var X=this.dialogContent.find(".".concat("infonav-dialogFooter"));X.length>0?X.append(this.dialogActions):this.dialogContent.after(this.dialogActions),U.dialogCssClass&&(this.modalDialogElement.addClass(U.dialogCssClass),this.modalDialogCustomClass=U.dialogCssClass),U.containerCssClass&&(this.modalContainer.addClass(U.containerCssClass),this.modalContainerCustomClass=U.containerCssClass),U.dialogActionsCssClass&&this.dialogActions.addClass(U.dialogActionsCssClass);var oe=this.modalContainer.css(c.SU)===c.zu?this.modalContainer:this.modalDialogElement;oe.fadeTo(0,0),this.updatePosition(!1),oe.fadeTo(250,1,function(){if(U.onDialogDisplayed&&U.onDialogDisplayed(J.dialogContent),!(J.modalDialogElement.find("dialog-frame").length>0)){0===J.modalDialogElement.find(":focus").length&&J.modalDialogElement.focus(),ee&&J.modalDialogElement.keydown(function(Te){27===Te.keyCode&&J.hideDialog()});var Ve=J.dialogActions.find("input");!Q&&Ve.length>0&&Ve[0].focus(),k&&J.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})},W.prototype.appendMessageText=function(U,k,Q){_.isEmpty(k)&&U?this.dialogContent.append(U):this.dialogContent.text(k),_.isEmpty(Q)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(Q))},W.prototype.appendNotification=function(U,k){if(null!==U&&!_.isEmpty(k)){switch(U){case V.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case V.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case V.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(k),this.dialogContent.append(this.dialogContentNotification)}},W.prototype.createButton=function(U,k,Q,te,ee){var J=this,re=$(N);return re.attr("value",U),re.attr("data-testid","infonav-dialog-action-".concat(U)),re.on(s.G6,function(){k(re,J.dialogContent,Q)}),te&&re.addClass(te),ee&&re.prop("disabled",!0),re},W.prototype.createCheckbox=function(U,k,Q){var te=this,J=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+U+"</label></div>"),re=J.find("input");return re.on(s.AA,function(){k(re,te.dialogContent,Q)}),J},W.prototype.createLink=function(U,k,Q){void 0===k&&(k=""),void 0===Q&&(Q=!0);var ee="<div>\n                <br>\n                    <a href=".concat(k," target='_blank' class='pbi-external-link'>\n                        ").concat(U).concat(Q?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":"","\n                    </a>\n                <br>\n            </div>");return $(ee)},W.prototype.modalDialogResizeHandler=function(){this.updatePosition(!1)},W}()},163652:function(Je,H,t){t.d(H,{l:function(){return c},s:function(){return e}});var e=function(s){return s.Button="Button",s.Link="Link",s}({}),c=function(){return function(f,v,b,h,p,n,l){this.type=e.Button,this.link="",this.labelText=f,this.actionCallback=v,this.data=b,this.cssClass=h,this.disabled=!!p,this.type=n||this.type,this.link=l||this.link}}()},338780:function(Je,H,t){t.d(H,{IH:function(){return V},Kk:function(){return r},TX:function(){return u},cN:function(){return m},gh:function(){return n},ih:function(){return l},jC:function(){return a},nK:function(){return d},nY:function(){return g},u5:function(){return S},uL:function(){return y},xv:function(){return o}});var e=t(489470),c=t(787941),s=t(764365),f=t(289135),v=t(690016),b=t(993370),h="/Date(";function n(C){return c.fF.assertValue(C,"date"),(C.getTime()-6e4*C.getTimezoneOffset())%864e5==0}function l(){return"undefined"!=typeof moment}function r(C){var E=o(C);if(E)return E;c.fF.assert(function(){return l()},"Moment.js should be loaded for non-fast parseIsoDate.");var M=moment(C);return M.isValid()?M.toDate():null}function o(C){if(C){var E=C.length;if(!(E<=18||E>28)){var M=C[10];if("-"===C[4]&&"-"===C[7]&&("T"===M||" "===M)&&":"===C[13]&&":"===C[16]){var P=(0,b.l)(C,0,4),T=(0,b.l)(C,5,2),x=(0,b.l)(C,8,2),R=(0,b.l)(C,11,2),D=(0,b.l)(C,14,2),L=(0,b.l)(C,17,2),F="Z"===C.charAt(E-1);F&&E--;var A=0;if(E>19){if("."!==C[19])return;var O=E-20,N=(0,b.l)(C,20,O);if(null===N)return;A=N*(0,s.wA)(3-O)}if(null!==P&&null!==T&&null!==x&&null!==R&&null!==D&&null!==L&&null!==A)return F?new Date(Date.UTC(P,T-1,x,R,D,L,A)):(0,f.yI)(P,T-1,x,R,D,L,A)}}}}function a(C){return c.fF.assert(function(){return l()},"Moment.js should be loaded for parseUtcDate."),moment.utc(C).toDate()}function m(C){if(v.b$.throwIfNullOrEmptyString(C,null,"deserializeDate","Cannot deserialize empty string"),(0,e.BF)(0===C.indexOf(h)&&_.endsWith(C,")/"),"Cannot deserialize empty string"),l()){var E=moment(C);return(0,e.BF)(E.isValid(),"parsedValue.isValid must be true"),E.toDate()}var M=C.substring(h.length,C.length-")/".length);(0,e.BF)(/^\-?\d+$/.test(M),"Cannot deserialize invalid date");var P=parseInt(M,10);return(0,e.BF)(!isNaN(P),"Cannot deserialize invalid date"),new Date(P)}function u(C){try{return m(C)}catch(E){}}function V(C,E,M,P){c.fF.assertValue(C,"date");var T=moment().subtract(M,E);return P&&(T=T.startOf(E)),moment(C)>=T}function d(C,E){return c.fF.assertValue(E,"date"),E.toLocaleTimeString(C,{second:"numeric",minute:"numeric",hour:"numeric"})}function S(C,E){return c.fF.assertValue(E,"date"),E.toLocaleDateString(C,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function g(C,E){return c.fF.assertValue(E,"date"),E.toLocaleDateString(C,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function y(){return(new Date).toISOString()}},37743:function(Je,H,t){t.d(H,{s:function(){return s}});var e=t(831917),c={},s=function(){function h(){}return h.clearQueryString=function(p){var n=h.parseQueryString();return delete n[p],h.rebuildQueryString(n)},h.clearQueryStrings=function(p){for(var n=h.parseQueryString(),l=0,r=p;l<r.length;l++)delete n[r[l]];return h.rebuildQueryString(n)},h.addOrUpdateQueryString=function(p,n){var l=h.parseQueryString();return l[p]=n,h.rebuildQueryString(l)},h.addOrUpdateQueryStringToUrl=function(p,n){for(var l=h.parseUrl(p),r=h.clearAllQueriesFromUrl(p),o=0,a=Object.keys(n);o<a.length;o++){var i=a[o];l[i]=n[i]}return r+h.rebuildQueryString(l)},h.getQueryStringValue=function(p){return h.parseQueryString()[p]},h.isQueryParamSet=function(p,n){var l=c[p];if(!n||void 0===l){var r=h.getQueryStringValue(p);l=null!=r&&"false"!==r&&("1"===r||"true"===r.toLowerCase()||r.length>1),n&&(c[p]=l)}return l},h.parseUrl=function(p){var n=p.indexOf("?"),l=n>=0?p.substr(n):void 0;return h.parseQueryString(l)},h.parseQueryString=function(p){void 0===p&&(p=window.location.search);var n={},l=p;if(l&&"?"===l.substr(0,1))for(var o=0,a=l.substr(1).split("&");o<a.length;o++){var m=a[o].split("="),u=m[0],d=m.slice(1).join("=");n[decodeURIComponent(u)]=decodeURIComponent(d)}return n},h.parseQueryStringWithMultipleKeyValues=function(p){void 0===p&&(p=window.location.search);var n={},l=p;if(l&&"?"===l.substr(0,1))for(var o=0,a=l.substr(1).split("&");o<a.length;o++){var m=a[o].split("="),u=m[0],d=m.slice(1).join("="),S=decodeURIComponent(d);n[decodeURIComponent(u)]?n[decodeURIComponent(u)].push(S):n[decodeURIComponent(u)]=[S]}return n},h.rebuildQueryString=function(p){var n="",l=!0;for(var r in p)l||(n+="&"),n+=encodeURIComponent(r)+"=",p[r]&&(n+=encodeURIComponent(p[r])),l=!1;return l||(n="?"+n),n},h.clearAllQueriesFromUrl=function(p){var n=p.indexOf("?"),l=p.indexOf("#");return l>=0&&(l<n||-1===n)&&(n=l),n>=0?p.substr(0,n):p},h.fileOfUrl=function(p){var n=(p=h.clearAllQueriesFromUrl(p)).lastIndexOf("/");return-1!==n&&(p=p.substring(n+1)),p},h.OriginClientActivityIdParameterName="caid",h.OriginRootActivityIdParameterName="raid",h.OriginActivityIdParameterName="aid",h}();function f(){var h=(0,e.kx)();return h.QueryStringUtil||(h.QueryStringUtil={}),h.QueryStringUtil}var b=!1;!function(){if(!b){var h=s.getQueryStringValue;f().getQueryStringValue=function(n){return h(n)};var p=s.parseQueryString;f().parseQueryString=function(n){return void 0===n&&(n=window.location.search),p(n)},b=!0}}()},235635:function(Je,H,t){t.d(H,{U:function(){return s},w:function(){return f}});var c,e=t(787941);function s(b){return new v(b)}function f(b){return new v(b)}var v=function(){function b(h){var p=this;this[c]="Promise",e.fF.assertValue(h,"deferred"),this.deferred=h,this.state=0,h.promise.then(function(){return p.state=1},function(){return p.state=2})}return b.prototype.then=function(h,p){return this.deferred.promise.then(h,p)},b.prototype.catch=function(h){return this.deferred.promise.catch(h)},b.prototype.finally=function(h){return this.deferred.promise.finally(h)},b.prototype.resolved=function(){return 1===this.state},b.prototype.rejected=function(){return 2===this.state},b.prototype.pending=function(){return 0===this.state},b.prototype.reject=function(h){this.pending()&&(this.deferred.reject(h),this.state=2)},b}();c=Symbol.toStringTag},993370:function(Je,H,t){t.d(H,{e:function(){return f},l:function(){return s}});var e=t(787941),c=t(764365);function s(v,b,h){if(e.fF.assertValue(v,"fullString"),e.fF.assertValue(b,"from"),e.fF.assertValue(h,"length"),e.fF.assert(function(){return b>=0},"from >= 0"),e.fF.assert(function(){return h>=0},"length >= 0"),e.fF.assert(function(){return b+h<=v.length},"(from + length) <= fullString.length"),0===h)return null;for(var p=0,n=0,l=b+h-1;n<h;n++,l--){var r=v.charCodeAt(l)-48;if(r<0||9<r)return null;p+=r*(0,c.wA)(n)}return p}function f(v,b){return e.fF.assertValue(v,"literalStringToRegex - string"),e.fF.assertAnyValue(b,"literalStringToRegex - flags"),new RegExp(v.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),b)}},868181:function(Je,H,t){t.d(H,{Eu:function(){return S},Ky:function(){return o},Pu:function(){return a},QA:function(){return u},T8:function(){return m},_T:function(){return d},b:function(){return r},g_:function(){return i},q5:function(){return V}});var r="Show technical details",o="Close",a="Refresh Page",i="oops, something went wrong",m="Unsupported browser detected",u="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",V="Please try again later or contact support. If you contact support, please provide these details.",d="Copy",S="Success!"},838302:function(Je,H,t){function e(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch(i){return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function s(){var o=window.navigator.userAgent.toLowerCase();return o.indexOf("msie ")>-1||o.indexOf("trident/")>-1}function v(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}t.d(H,{G6:function(){return v},TY:function(){return e},rO:function(){return s}})},584452:function(Je,H,t){function e(s,f){if(f&&f.document&&f.document.cookie)for(var b=0,h=f.document.cookie.split(";");b<h.length;b++){var n=h[b].split("=");if(n.length>0&&n[0].trim()===s)return n[1]}}t.d(H,{e:function(){return e}})},249484:function(Je,H,t){function c(p,n){var l=function(p){var n=window.performance.getEntriesByType("resource").filter(function(r){return"xmlhttprequest"===r.initiatorType&&-1!==r.name.indexOf(p)});if(n&&1===n.length)return n[0]}(p);return!!l&&(s(l,n),!0)}function s(p,n){p&&(n.timeOrigin=window.performance.timeOrigin,n.decodedBodySize=p.decodedBodySize,n.duration=p.duration,n.encodedBodySize=p.encodedBodySize,n.transferSize=p.transferSize,n.connectEnd=p.connectEnd,n.connectStart=p.connectStart,n.domainLookupEnd=p.domainLookupEnd,n.domainLookupStart=p.domainLookupStart,n.fetchStart=p.fetchStart,n.redirectEnd=p.redirectEnd,n.redirectStart=p.redirectStart,n.requestStart=p.requestStart,n.responseEnd=p.responseEnd,n.responseStart=p.responseStart,n.secureConnectionStart=p.secureConnectionStart,n.startTime=p.startTime,n.workerStart=p.workerStart,null!=p.responseStart&&null!=p.startTime&&(n.timeToFirstByte=p.responseStart-p.startTime))}function f(p){return p&&p.requestId&&p.responseRequestId?p.requestId===p.responseRequestId:null}function v(p){return p&&p.responseRequestId?p.responseRequestId:null}function b(p){switch(p){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}}function h(p){switch(p){case 500:case 503:return!0;default:return!1}}t.d(H,{Cx:function(){return f},Sc:function(){return b},bF:function(){return c},eQ:function(){return s},o7:function(){return h},yC:function(){return v}})},776791:function(Je,H,t){function e(s,f,v){try{return JSON.parse(s,f)}catch(b){}}t.d(H,{K:function(){return e}})},616962:function(Je,H,t){t.d(H,{C:function(){return e},M:function(){return c}});var e=["highContrastTheme","customTheme","baseTheme"];function c(s,f,v){return{name:s,version:v,type:f}}},159803:function(Je,H,t){t.d(H,{I$:function(){return n},P8:function(){return v},Wh:function(){return h},jO:function(){return l},nN:function(){return p}});var e=t(787941),c=t(826691),s=t(37743);function v(){var r;try{r=window.parent.origin}catch(o){e.fF.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),r="blockedBecauseCrossOrigin"}return window.origin!==r}function h(r){if(r)try{var o=atob(r);return pako.inflate(o,{to:"string"})}catch(i){c.f.error("Error while uncompressing TileData: ".concat(JSON.stringify(i)),null==i.stack)}return null}function p(r){if(r)try{var o=pako.gzip(r,{to:"string"});return btoa(o)}catch(i){c.f.error("Error while compressing data: ".concat(JSON.stringify(i)),null==i.stack)}return null}var r,n=function(){return null==r&&(r=!!s.s.getQueryStringValue("isE2ERun2")),r};function l(){return window}},23082:function(Je,H,t){t.d(H,{SY:function(){return f},WQ:function(){return v},Wh:function(){return b},YL:function(){return p}});var e=t(787941),c=t(338780),s=moment.duration;function f(r,o,a){void 0===a&&(a=!1);var i=new Date,m=Intl.DateTimeFormat(o.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(r);if(l(r,i))return o.format("TodayAt",m);var u=new Date;return u.setDate(i.getDate()-1),l(r,u)?o.format("YesterdayAt",m):v(r,o,a)}function v(r,o,a){if(void 0===a&&(a=!1),e.fF.assert(function(){return(0,c.ih)()},"Moment not available"),!r)return"-";var i=moment().diff(r),m=s(i),u=Math.floor;e.fF.assert(function(){return m.asMilliseconds()>=0},"This function is intended to be used only with dates from the past.");var V=u(m.asYears());if(V>1)return o.format("RelativeDate_YearsAgo",[V]);if(1===V)return o.get(n("RelativeDate_YearAgo",a));var d=u(m.asMonths());if(d>1)return o.format("RelativeDate_MonthsAgo",[d]);if(1===d)return o.get(n("RelativeDate_MonthAgo",a));var S=u(m.asDays());if(S>1)return o.format("RelativeDate_DaysAgo",[S]);if(1===S)return o.get(n("RelativeDate_DayAgo",a));var g=u(m.asHours());if(g>1)return o.format("RelativeDate_HoursAgo",[g]);if(1===g)return o.get(n("RelativeDate_HourAgo",a));var y=u(m.asMinutes());if(y>1)return o.format("RelativeDate_MinutesAgo",[y]);if(1===y)return o.get(n("RelativeDate_MinuteAgo",a));var C=u(m.asSeconds());return C>=30?o.format("RelativeDate_SecondsAgo",[C]):o.get("RelativeDate_Now")}function b(r,o,a,i){void 0===a&&(a="DisplayDateTime_Common"),void 0===i&&(i=!1),e.fF.assertValue(r,"timestamp is required param"),e.fF.assertValue(o,"localizationService is required param");var m=function(r,o,a){void 0===a&&(a=!1),e.fF.assertValue(r,"timestamp is required param"),e.fF.assertValue(o,"localizationService is required param");var i=new Date(r),m=new Date;if(l(i,m))return o.get(a?"TodayTitle":"Today");var u=new Date;return u.setDate(m.getDate()-1),l(i,u)?o.get(a?"YesterdayTitle":"Yesterday"):new Date(r).toLocaleDateString(o.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(r,o,i),u=new Date(r).toLocaleTimeString(o.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return o.format(a,[m,u])}function p(r){if(e.fF.assert(function(){return(0,c.ih)()},"Moment not available"),!r)return 0;var o=moment().diff(r),a=s(o),i=Math.floor;if(!(a.asMilliseconds()>=0))return 0;var m=i(a.asYears());if(m>=1)return 1e6+m;var u=i(a.asMonths());if(u>=1)return 1e5+u;var V=i(a.asDays());if(V>=1)return 1e4+V;var d=i(a.asHours());if(d>=1)return 1e3+d;var S=i(a.asMinutes());if(S>=1)return 100+S;var g=i(a.asSeconds());return g>=30?g:0}function n(r,o){return o?r+"_Capitalize":r}function l(r,o){return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()&&r.getDate()===o.getDate()}},107585:function(Je,H,t){t.d(H,{BN:function(){return o},Cn:function(){return S},GA:function(){return m},GR:function(){return T},HX:function(){return y},Hq:function(){return r},Jm:function(){return g},K:function(){return u},NZ:function(){return d},W6:function(){return v},_r:function(){return a},at:function(){return i},bU:function(){return n},cI:function(){return M},d0:function(){return E},es:function(){return P},wc:function(){return h},yZ:function(){return C}});var e=t(629925),c=t(787941),s=t(608014),f=(0,e.CH)("explorationContainer");function v(x){return!!(1&x)}function h(x){return!!(4&x)}function n(x){return!!(16&x)}var r=(0,e.CH)("notDroppable"),o=(0,e.CH)("dropover"),a=(0,e.CH)("prepend"),i=(0,e.CH)("append"),m="dragover",u="drag";function d(x){var R=x.clone();return R.find("[id]").removeAttr(s.pX),R.addClass("dragHelper"),R}function S(x){var R=x.parents(f.selector);return c.fF.assert(function(){return R.length<=1},"We should only append the drag helper to 1 DOM element."),R}function g(x,R){var D=R();return D?(x.data[T]=D,!0):(x.data[P]=!0,!1)}function y(x,R){return!x.data[P]&&x.data[T]===R&&(x.data[P]=!0,!0)}function C(x,R){var D=R.height(),L=R.width(),F=R.offset(),A=x.pageY,O=x.pageX,N=0;return N|=F.top+D/2>A?1:4,N|=F.left+L/2>O?8:2,F.top+D/3<A&&F.top+D/3*2>A&&(N|=16),F.left+L/3<O&&F.left+L/3*2>O&&(N|=32),N}function E(x,R){if(!x)return!0;var D=function(x){return x.attr(u)}(x);return R.indexOf(D)>=0}var M="DragScrollHandler",P="DropEventHandled",T="DropTarget"},749012:function(Je,H,t){t.d(H,{Ng:function(){return c},_1:function(){return s}});var e=t(831917);function c(){var v=(0,e.wg)();return v.telemetry||(v.telemetry={}),v.telemetry}function s(){var v=(0,e.wg)();return v.session||(v.session={}),v.session}},442140:function(Je,H,t){t.d(H,{Xp:function(){return f},kx:function(){return s},uG:function(){return v}});var e=t(608014),c=t(959138),s={type:2,name:"visualThemeChanged"};function f(b){return null!=b.composed&&null!=b.repeat&&(!b.composed||b.repeat&&(17===b.keyCode||(0,c.SF)(b.keyCode)))}function v(b){return!$(b.target).is(e.$U)&&!$(b.target).is(e.CA)}},712174:function(Je,H,t){t.d(H,{CX:function(){return v},F6:function(){return h},Ht:function(){return p},If:function(){return b},bL:function(){return f}});var e=t(16062),c=t(37743);function f(n,l){void 0===l&&(l=!1);try{if(!n)return;var r=n.stack;if(!r)return;var o=r.indexOf("\n");return-1===o?void 0:(r=r.substring(o+1),l&&(r=r.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,function(a){var i=a.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=i?" (".concat(i[1],")"):""})),r)}catch(a){return"Error at cleanExceptionStack"}}function v(n){var l;try{if(n instanceof TypeError||n instanceof ReferenceError)return n.message;if(n)return"Error of type ".concat(n.name," had a ").concat(null===(l=n.message)||void 0===l?void 0:l.length," characters long message")}catch(r){return"Error at cleanExceptionMessage"}}function b(n,l,r,o){if(!(r instanceof Error))try{throw new Error("Error wrapper for thrown object: ".concat(JSON.stringify(r)))}catch(m){r=m}if(!r.rejection||!(r.rejection.clientError&&r.rejection.clientError.ignorable||r.rejection.ignorable)){var a=r.message,i=r.stack;try{o?n.logChildEvent(o.event,l,{stack:i,message:a}):n.logEvent(l,{stack:i,message:a})}catch(m){}}}function h(n,l,r){return function(o,a){var m=o.message+' (caused by "'+a+'")\n',u=(o.stack||o).toString(),V=m+u;try{n.logEvent(r,{stack:u,message:m});var d={consoleMessage:V,type:"console_log",createdTime:(0,e.z)()};l.addLogEntry(d)}catch(S){}}}function p(n,l,r,o){return function(a,i,m,u,V){if(2!==m||8228!==u||!_.includes(i,"powerbiportal.dependencies.bundle")){if(V&&V.message&&V.stack){var d=V.message,S=V.stack;n.logEvent(o,{source:c.s.clearAllQueriesFromUrl(i),lineNumber:m,columnNumber:u||0,stack:S,message:d})}else"object"==typeof a&&a.message&&a.stack?(d=a.message,S=a.stack,n.logEvent(o,{source:c.s.clearAllQueriesFromUrl(i),lineNumber:m,columnNumber:u||0,stack:S,message:d})):(d=JSON.stringify(a,Object.getOwnPropertyNames(a)),n.logEvent(r,{source:c.s.clearAllQueriesFromUrl(i),lineNumber:m,columnNumber:u||0,message:d}));return l(a,i,m,u,V),!0}}}},345083:function(Je,H,t){t.d(H,{M:function(){return s}});var e=t(608014),c=t(784120),s=function(){function f(v){void 0===v&&(v="Group"),this.focusNavMode=v}return f.prototype.findNext=function(v,b,h){void 0===b&&(b=!0),void 0===h&&(h=!1);var p=this.getDomWalker(b),n=v.getAttribute(c.Qt);return"Group"===n||"Browser"===n||h?this.traverseDown(v,p):this.searchFocusElement(v,p)},f.prototype.searchFocusElement=function(v,b){var h=this.traverseForward(b.getNextSibling(v),b);return h||(v.parentElement&&v.parentElement.getAttribute(c.Qt)!==this.focusNavMode?h=this.searchFocusElement(v.parentElement,b):v.parentNode&&v.parentNode.nodeType===Node.ELEMENT_NODE&&v.parentNode.getAttribute(c.Qt)!==this.focusNavMode&&(h=this.searchFocusElement(v.parentNode,b))),h},f.prototype.traverseForward=function(v,b){var h;if(v)return(0,c.Wq)(v)?v:(null==v.getAttribute(e.Rh)&&(h=this.traverseDown(v,b)),h||(h=this.traverseForward(b.getNextSibling(v),b)),h)},f.prototype.traverseDown=function(v,b){if(v&&"Skip"!==v.getAttribute(c.Qt))return this.traverseForward(b.getNextChild(v),b)},f.prototype.getDomWalker=function(v){var b=this;return v?{getNextSibling:function(p){return p.nextElementSibling},getNextChild:function(p){return _.isEmpty(p.children)?p.hasChildNodes()?b.getNextChildNodes(p,v):void 0:p.children[0]}}:{getNextSibling:function(p){return p.previousElementSibling},getNextChild:function(p){return _.isEmpty(p.children)?p.hasChildNodes()?b.getNextChildNodes(p,v):void 0:p.children[p.children.length-1]}}},f.prototype.getNextChildNodes=function(v,b){var h=v.childNodes,p=h.length,n=b?1:-1,l=b?0:p-1;do{var r=h[l];if(r&&r.nodeType===Node.ELEMENT_NODE)return r;l+=n}while(l>=0&&l<p)},f}()},621464:function(Je,H,t){t.d(H,{m:function(){return h}});var e=t(345083),c=t(784120),s=t(172881),f=t(563394),v=t(608014),b=function(){function p(n){this.groupElement=n}return p.prototype.findNext=function(n,l){var r=this;void 0===l&&(l=!0);var m,o=n===this.groupElement?-1:this.getTabIndex(n),a=n!==this.groupElement&&!isNaN(o),i=l?1/0:0;return a||(o=l?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(function(V){var d=r.getTabIndex(V.elem);isNaN(d)||(l?d>o&&d<=i:d<o&&d>=i)&&(i=d,m=V.elem)}),m},p.prototype.getTabIndex=function(n){return parseFloat(n.getAttribute(c.GY))},p.prototype.buildTabOrderMany=function(n){var l=this,r=[];return n.forEach(function(o){null==o.getAttribute(v.Rh)&&(r=_.concat(r,l.buildTabOrders(o)))}),r},p.prototype.buildTabOrders=function(n){var l=this.getTabIndex(n);return isNaN(l)?this.buildTabOrderMany([].slice.call(n.children)):[{tabOrder:l,elem:n}]},p}(),h=function(){function p(n){void 0===n&&(n=!1),this.skipCyclicNavigation=n}return Object.defineProperty(p.prototype,"name",{get:function(){return"Group"},enumerable:!1,configurable:!0}),p.prototype.shouldHandleFocus=function(n,l){return!$.contains(l,s.M.getTabbableParent(n,l))},p.prototype.findNextElementToFocus=function(n,l){var r=p.getGroupNavigationElement(n);switch(l.keyCode){case 39:case 40:if(p.groupElementSupportsArrows(r)&&!p.canHandleKeyEvents(n))return p.getFocusNextElement(!0);break;case 38:case 37:if(p.groupElementSupportsArrows(r)&&!p.canHandleKeyEvents(n))return p.getFocusNextElement(!1);break;case 9:if(!s.M.isElementContentEditable(n))return p.getFocusNextElement(!l.shiftKey,void 0,this.skipCyclicNavigation);break;case 27:return s.M.getTabbableParent(document.activeElement);case 13:if(r&&null!=r.getAttribute(c.tu))return s.M.getFirstTabbableChild(document.activeElement)}},p.getFocusNextElement=function(n,l,r){void 0===l&&(l=null),void 0===r&&(r=!1);var o=document.activeElement;if(l=l||p.getFirstFocusableParent(o)){var a=p.getGroupNavigationElement(l),i=void 0,m=void 0;if(a&&null!=a.getAttribute(c.tu))m=(i=new b(a)).findNext(l,n);else{var u=(0,f.XC)(l)||(0,f.vI)(l);u&&(m=(i=new f.Pp).findNext(l,n)),(!m||!u)&&(m=(i=new e.M).findNext(l,n))}if(m)return m;if("Group"!==l.getAttribute(c.Qt)&&!r){var V=p.getParentGroupElement(l);return V?i.findNext(V,n):void 0}}},p.getGroupNavigationElement=function(n){var l=n.getAttribute(c.Qt);return l&&"Group"===l?n:p.getParentGroupElement(n)},p.getFirstFocusableParent=function(n){if(!n)return null;if((0,c.Wq)(n)||"Group"===n.getAttribute(c.Qt))return n;for(var l=n.parentElement||n.parentNode&&n.parentNode.nodeType===Node.ELEMENT_NODE?n.parentNode:null;l;){if((0,c.Wq)(l)||"Group"===l.getAttribute(c.Qt))return l;l=l.parentElement||l.parentNode&&l.parentNode.nodeType===Node.ELEMENT_NODE?l.parentNode:null}return l},p.getParentGroupElement=function(n){return $(n).parents(c.yk).get(0)},p.canHandleKeyEvents=function(n){return s.M.isElementContentEditable(n)||s.M.isTextElement(n)},p.groupElementSupportsArrows=function(n){return!n||null==n.getAttribute(c.tu)||null==n.getAttribute(c.CA)},p}()},172881:function(Je,H,t){t.d(H,{M:function(){return e}});var e={isElementContentEditable:function(s){return $(s).closest("[contentEditable]").length>0},isTextElement:function(s){if($(s).is(":disabled"))return!1;var f=s.nodeName.toLowerCase();return s.nodeType===Node.ELEMENT_NODE&&("textarea"===f||"select"===f||"input"===f&&/^(?:text|email|number|search|tel|url|password)$/i.test(s.type))},contains:function(s,f){return 0!=(f.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINS)},getFirstMatchingAncestor:function(s,f,v,b){void 0===b&&(b=!0);var h=s;if(h!==(v=v||document.body)||b&&f(h))for(!b&&s&&(h=h.parentElement||h.parentNode||void 0);h&&h!==document.body&&h.nodeType===Node.ELEMENT_NODE;){if(f(h))return h;if(h===v)break;h=h.parentElement||h.parentNode||void 0}},isElementTabbable:function(s){return!0===$(s).is(":tabbable")},getTabbableParent:function(s,f){return f=f||document.body,this.getFirstMatchingAncestor(s,this.isElementTabbable,f,!1)},getFirstTabbableChild:function(s){return this.getTabbableChildren(s)[0]},getTabbableDescendants:function(s){return $(s).find(":tabbable").get()},getTabbableChildren:function(s){var f=this;return _.filter(this.getTabbableDescendants(s),function(v){return!$.contains(s,f.getTabbableParent(v,s))})},getTabbableSiblingsMatch:function(s,f,v){void 0===v&&(v=document.body);var b=e.getTabbableSiblings(s,v);return _.filter(b,f)},getNextTabbableMatchingSibling:function(s,f,v){v=v||document.body;var b=this.getTabbableSiblingsMatch(s,f,v);if(b.length>0)return b[0]},getPrevTabbableMatchingSibling:function(s,f,v){v=v||document.body;var b=this.getTabbableSiblingsMatch(s,f,v);if(b.length>0)return b[b.length-1]},getTabbableSiblings:function(s,f){f=f||document.body;var v=this.getTabbableParent(s,f);if((!v||f&&$.contains(v,f))&&(v=f),v){for(var h=[],p=0,n=0,l=this.getTabbableChildren(v);n<l.length;n++){var r=l[n];r===s||this.contains(s,r)?p=0:h.splice(p++,0,r)}return h}return[]},getNextTabbableSibling:function(s,f){return f=f||document.body,this.getTabbableSiblings(s,f)[0]},getPrevTabbableSibling:function(s,f){f=f||document.body;var v=this.getTabbableSiblings(s,f);return v[v.length-1]},isElementVisible:function(s){return $(s).is(":visible")},getParentFocusElement:function(s){return $(s).parents(":tabbable:first").get(0)}}},563394:function(Je,H,t){t.d(H,{Pp:function(){return s},Sn:function(){return f},XC:function(){return b},vI:function(){return v}});var e=t(784120),c=t(172881),s=function(){function a(i){void 0===i&&(i="Group"),this.focusNavMode=i}return a.prototype.findNext=function(i,m,u,V){var d;if(void 0===m&&(m=!0),void 0===u&&(u=!0),void 0===V&&(V=!1),V||b(i))(d=this.getFirstActiveChild(i))||(d=this.getNextTabOrderChild(i,m,n(m)));else if(v(i))d=this.getNextTabOrderSibling(i,m,u);else if(function(a){return null!=a.getAttribute(e.QW)}(i)){var S=function(a){return function(a,i){var m=$(a).closest("[".concat(i,"]"));return m&&m.get(0)}(a,e.qs)}(i);d=this.getNextTabOrderSibling(S,m,u)}return d},a.prototype.getNextTabOrderSibling=function(i,m,u){var g,V=i.getAttribute(e.qs),d=parseFloat(V);if(!isNaN(d)){var y=function(a,i){var m="HierarchicalTabOrder"===i?e.O:e.yk;return $(a).parents(m)[0]}(i,this.focusNavMode);if(!y)return;!(g=this.getNextTabOrderChild(y,m,d))&&u&&(g=this.getNextTabOrderChild(y,m,n(m)))}return g},a.prototype.getFirstActiveChild=function(i){var m;return $(i).find("[".concat(e._f,"]")).each(function(V,d){h(d)&&(m=d)}),m},a.prototype.getNextTabOrderChild=function(i,m,u){var V,d,S=$(i).find("[".concat(e.qs,"]"));return"HierarchicalTabOrder"===this.focusNavMode&&(S=S.filter(function(g,y){return c.M.getTabbableParent(y)===i})),S.each(function(g,y){var C=f(y);h(y)?V=y:c.M.isElementTabbable(y)&&(m?C<u:C>u)&&(void 0===V&&void 0===d||(m?C>d:C<d))&&(d=C,V=y)}),V},a}();function f(a){if(a.hasAttribute(e.qs))return parseFloat(a.getAttribute(e.qs))}function v(a){return null!=a.getAttribute(e.qs)}function b(a){return null!=a.getAttribute(e.T0)}function h(a){return null!=a.getAttribute(e._f)}function n(a){return a?10000001:-10000001}},784120:function(Je,H,t){t.d(H,{BZ:function(){return e},CA:function(){return r},GY:function(){return l},O:function(){return a},QW:function(){return n},Qt:function(){return f},T0:function(){return v},Wq:function(){return s},_f:function(){return p},n8:function(){return c},qs:function(){return h},tu:function(){return b},yk:function(){return o}});var e="focusManager_focus",c="focusManager_focusOn";function s(i){return!0===$(i).is(":tabbable")&&!1===$(i).is(":disabled")}var f="focus-nav-mode",v="tab-order-enabled",b="tab-order-recursive-enabled",h="tab-order",p="tab-active",n="tab-order-child",l="tabindex",r="skip-arrow-navigation",o="[".concat(f,'="').concat("Group",'"]:first'),a="[".concat(f,'="').concat("HierarchicalTabOrder",'"]:first')},630326:function(Je,H,t){t.d(H,{IK:function(){return o},M0:function(){return S}});var e=t(932178),c=t(710545),s=t(621464),f=t(172881),v=function(){function g(){}return Object.defineProperty(g.prototype,"name",{get:function(){return"Hierarchy"},enumerable:!1,configurable:!0}),g.prototype.shouldHandleFocus=function(){return!0},g.prototype.findNextElementToFocus=function(y,C,E){switch(C.keyCode){case 9:if(f.M.isElementContentEditable(y))return;var M=f.M.getTabbableChildren(E),P=f.M.getTabbableParent(y,E)===E;if(C.shiftKey){if(M.length>0&&(y!==M[0]||P))return f.M.getPrevTabbableSibling(y,E)}else{if(M.length>0&&(y!==M[M.length-1]||P))return f.M.getNextTabbableSibling(y,E);var T=f.M.getTabbableDescendants(E);if(T.length>0)return void T[T.length-1].focus()}break;case 27:if(y!==E)return f.M.getTabbableParent(y);break;case 13:return f.M.getFirstTabbableChild(y)}},g}(),b=t(345083),h=t(784120),p=t(563394),n=function(){function g(){}return Object.defineProperty(g.prototype,"name",{get:function(){return"HierarchicalTabOrder"},enumerable:!1,configurable:!0}),g.prototype.shouldHandleFocus=function(y){return!f.M.isElementContentEditable(y)},g.prototype.findNextElementToFocus=function(y,C){var P,E=y.hasAttribute(h.T0),M="HierarchicalTabOrder"===y.getAttribute(h.Qt);switch(C.keyCode){case 39:case 40:P=g.getFocusNextElement(y,!0,E);break;case 38:case 37:P=g.getFocusNextElement(y,!1,E);break;case 9:P=g.getFocusNextElement(y,!C.shiftKey,E);break;case 27:P=f.M.getTabbableParent(document.activeElement);break;case 13:P=M?g.getFocusNextElement(y,!0,!0):void 0}return P},g.getFocusNextElement=function(y,C,E){var T,M=y.hasAttribute(h.T0);if((void 0!==(0,p.Sn)(y)||M)&&(T=new p.Pp("HierarchicalTabOrder").findNext(y,C,!0,E)),!T){var R=new b.M("HierarchicalTabOrder");if(!(T=R.findNext(y,C,E))&&!E){var D=$(y).parents(h.O)[0];T=R.findNext(D,C,!0)}}return T},g}(),l="return-focus-element-attribute",r=0,o=function(){function g(){this.registeredElements=[],this.shortcutContainer=new S}return Object.defineProperty(g.prototype,"keyboardFocused",{get:function(){return g.keyboardFocused},set:function(C){g.keyboardFocused=C},enumerable:!1,configurable:!0}),g.getInstance=function(){return this._instance||(this._instance=new g)},g.prototype.register=function(y,C,E){var M=this;void 0===C&&(C=!1),void 0===E&&(E=!1);var P=[new s.m(E),new v,new n],T=function(L){return M.handleKeyPress(L,C,P)};_.includes(this.registeredElements,y)||(y.addEventListener("keydown",T),this.registeredElements.push(y));var x=_.find(this.registeredElements,y);return function(){x.removeEventListener("keydown",T),_.pull(M.registeredElements,y)}},g.prototype.registerShortcut=function(y){this.shortcutContainer.add(y)},g.prototype.unregisterShortcut=function(y){this.shortcutContainer.remove(y)},g.focusChildInGroup=function(y,C){var E="Group"===y.getAttribute(h.Qt)?y:$(y).find(h.yk).get(0);E&&g.focus(s.m.getFocusNextElement(!0,E),C)},g.focusChildInCanvas=function(y){var E="HierarchicalTabOrder"===y.getAttribute(h.Qt)?y:$(y).find(h.O)[0];E&&g.focus(n.getFocusNextElement(E,!0,!0))},g.focus=function(y,C){if(void 0===C&&(C=!0),y){var E=document.activeElement;c.l.setTimeout(function(){e.M.focus(y),$(y).triggerHandler(h.n8,E),$(y).trigger(h.BZ,E),C&&(g.keyboardFocused=!0,$("html").attr("data-focus-source","key")),y&&$(y).removeAttr(h._f)})}},g.prototype.focus=function(y,C){void 0===C&&(C=!0),g.focus(y,C)},g.prototype.focusOnGroupByIndex=function(y,C,E,M,P){this.shortcutContainer.handleByPriority(y,C,E,M,P)},g.setFocusOnPreviousElementOnDestroy=function(y,C,E){var M;return y.on(h.BZ,function(P,T){P.stopPropagation(),T&&(!C||void 0===M)&&!$.contains(y[0],T)&&(M=r++,T.setAttribute(l,M.toString()))}),function(){var P=document.activeElement;if(void 0!==M){var T=document.documentElement.querySelector("[".concat(l,'="').concat(M,'"]'));T&&$(T).closest(document.documentElement)&&(!E||$.contains(y[0],P))&&g.focus(T,!1)}}},g.prototype.handleKeyPress=function(y,C,E){if(this.handleShortcut(y))return y.stopPropagation(),void y.preventDefault();var M=document.activeElement;if(M){for(var P,T=f.M.getFirstMatchingAncestor(M,function(D){return D.hasAttribute(h.Qt)},document.body),x=function(){var L=T.getAttribute(h.Qt);if("Browser"===L)return{value:void 0};var F=_.find(E,function(A){return A.name===L});if(F&&F.shouldHandleFocus(M,T)&&(P=F.findNextElementToFocus(M,y,T)),P)return"break";T=f.M.getFirstMatchingAncestor(T,function(A){return A.hasAttribute(h.Qt)},document.body,!1)};T&&T!==document.body;){var R=x();if("object"==typeof R)return R.value;if("break"===R)break}P&&g.focus(P),C&&y.stopPropagation(),P&&13!==y.keyCode&&32!==y.keyCode&&(y.stopPropagation(),y.preventDefault())}},g.prototype.handleShortcut=function(y){return this.shortcutContainer.handle(y)},g.prototype.focusNextElement=function(y){g.focus(s.m.getFocusNextElement(!0,y))},g.keyboardFocused=!1,g}(),S=function(){function g(){this.shortcuts=[],this.scopedShortcuts=[]}return g.prototype.add=function(y){var C=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl),E=y.scoped?this.scopedShortcuts:this.shortcuts;E[C]&&!_.find(E[C],function(M){return $(M.element).is(y.element)})?E[C].push(y):_.isEmpty(this.shortcuts[C])&&(E[C]=[y])},g.prototype.remove=function(y){var C=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl);_.remove((y.scoped?this.scopedShortcuts:this.shortcuts)[C],function(M){return $(M.element).is(y.element)})},g.prototype.handle=function(y){if(y.keyCode>256)return!1;var C=e.M.isCtrlOrMeta(y),E=this.getKeyCode(y.keyCode,y.shiftKey,y.altKey,C),M=y.shiftKey&&C&&1653===E,P=this.findScopedShortcut(E);if(!P){var T=this.filterGroups(this.shortcuts[M?1141:E]);if(_.isEmpty(T))return!1;P=this.getNextShortcutElementToFocus(T,void 0,M)}return!!P&&(this.focusOnGroup(P),!0)},g.prototype.handleByPriority=function(y,C,E,M,P){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(y,C,E,M)]),P))},g.prototype.focusOnGroup=function(y){"HierarchicalTabOrder"===y.getAttribute(h.Qt)?o.focus(n.getFocusNextElement(y,!0,!0)):o.focus(s.m.getFocusNextElement(!0,y))},g.prototype.getKeyCode=function(y,C,E,M){var P=y;return C&&(P|=512),M&&(P|=1024),E&&(P|=2048),P},g.prototype.filterGroups=function(y){return _.filter(y,function(C){var E=f.M.isElementVisible(C.element);return"HierarchicalTabOrder"===C.element.getAttribute(h.Qt)?E&&!!n.getFocusNextElement(C.element,!0,!0):E&&!!s.m.getFocusNextElement(!0,C.element)})},g.getFocusPriority=function(y,C){if(void 0===C&&(C=!0),y){var E=y.getAttribute("focus-priority");if(null!=E)return parseInt(E,10);if(null!=y.parentElement&&C)return this.getFocusPriority(y.parentElement)}},g.prototype.getFocusPriority=function(y,C){return void 0===C&&(C=!0),g.getFocusPriority(y,C)},g.prototype.findScopedShortcut=function(y){var C=document.activeElement,E=this.findExtendedScope(C),P=this.filterGroups(this.scopedShortcuts[y]);if(!_.isEmpty(P)&&C)for(var T=0,x=P;T<x.length;T++){var R=x[T];if(R&&($(C).is(R.element)||$.contains(C,R.element)||E&&($(E).is(R.element)||$.contains(E,R.element))))return R.element}},g.prototype.findExtendedScope=function(y){for(var C=y;C;){if(C.attributes.getNamedItem("extended-shortcut-scope"))return C;C=C.parentElement}},g.prototype.findCurrentFocusedShortcutElement=function(y){if(document.activeElement)for(var C=document.activeElement;C;){if(C.getAttribute("keyboard-shortcuts")===y)return C;C=C.parentElement}},g.prototype.getNextShortcutElementToFocus=function(y,C,E){void 0===E&&(E=!1);var M=(y=_.sortBy(y,function(L){return L.focusPriority}))[0];if(document.activeElement&&y.length>1)for(var P=null==C?this.findCurrentFocusedShortcutElement(M.shortcutString):null,T=0;T<=y.length-1;T++){var x=y[T];if(null!=C&&C>(x.focusPriority||-1)||P&&$(P).is(x.element)){M=y[(E?0===T?y.length-1:T-1:T+1)%y.length];break}}return null==M?void 0:M.element},g}()},442116:function(Je,H,t){t.d(H,{U:function(){return e}});var e={LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:4,name:"OpenFileMenuEvent"}}},670663:function(Je,H,t){t.d(H,{E8:function(){return v},IH:function(){return b},Od:function(){return p},S_:function(){return h},Z8:function(){return a},eR:function(){return i},pB:function(){return r},ru:function(){return o},sE:function(){return f},uh:function(){return l}});var e=t(226514),c=t(883863),s=t(787941);function f(g,y){var C;if(g&&y)return V(g,y,function(E,M,P){return C=M,E}),C}function v(g,y){var C;return V(g.name,y,function(E,M,P){return C=E,E}),C}function b(g){for(var y=[],C=1;C<arguments.length;C++)y[C-1]=arguments[C];return(0,e.__spreadArray)((0,e.__spreadArray)([],g||[],!0),y||[],!0)}function h(g,y,C){return V(y.name,C,function(E,M,P){if(!S(M))return s.fF.assertFail("should find group item"),E;var T=M.clone?M.clone():_.clone(M);T.children=(0,e.__spreadArray)((0,e.__spreadArray)([],M.children||[],!0),[g],!1);for(var x=0,R=T.children;x<R.length;x++)R[x].parentGroup=T;return(0,c.UU)(E,function(L){return L===M?T:L})})}function p(g,y,C){return void 0===C&&(C=!0),y=V(g.name,y,function(E,M,P){return(0,c.Rl)(E,function(T){return M!==T})}),C&&(y=u(y)),y}function l(g,y){return u(g=d(g,function(C){return(0,c.Rl)(C,function(E){return!y(E)})}))}function r(g,y,C,E){return g.forEach(function(M){return M.parentGroup=void 0}),C=function(g,y,C){return void 0===C&&(C=!0),y=d(y,function(E){var M=_.differenceWith(E,g,function(P,T){return P.name===T.name});return M.length===E.length?E:M}),C&&(y=u(y)),y}(g,C,!1),u(C=V(y.name,C,function(M,P,T){return(0,c.x)(M,function(x){return x===P?E?(0,e.__spreadArray)([x],g,!0):(0,e.__spreadArray)((0,e.__spreadArray)([],g,!0),[x],!1):[x]})}))}function o(g,y){for(var C=0,E=g.children;C<E.length;C++)E[C].parentGroup=g;return y=function(g,y,C){return d(C,function(E){return(0,c.x)(E,function(M){return M===g[0]?[y]:_.includes(g,M)?[]:[M]})})}(g.children,g,y),u(y)}function a(g,y){for(var C=0,E=g.children;C<E.length;C++)E[C].parentGroup=void 0;return V(g.name,y,function(P,T,x){return(0,c.x)(P,function(R){return R===g?g.children:[R]})})}function i(g,y,C){for(var E=C||[],M=0,P=g;M<P.length;M++){var T=P[M];S(T)?E=i(T.children,y,E):y(T)&&(E=(0,e.__spreadArray)((0,e.__spreadArray)([],E||[],!0),[T],!1))}return E}function u(g){return d(g,function(y){return(0,c.Rl)(y,function(C){return!S(C)||!_.isEmpty(C.children)})})}function V(g,y,C){s.fF.assertValue(y,"itemGrouping - itemList"),s.fF.assertValue(g,"itemGrouping - targetName"),s.fF.assertValue(C,"itemGrouping - callback");for(var E=function(x){var R=y[x];if(R.name===g)return{value:C(y,R,x)};if(S(R)){var D=V(g,R.children,C);if(D!==R.children){var L=R.clone?R.clone():_.clone(R);L.children=D;for(var F=0,A=L.children;F<A.length;F++)A[F].parentGroup=L;return{value:(0,c.UU)(y,function(N){return N===R?L:N})}}}},M=0;M<y.length;M++){var P=E(M);if("object"==typeof P)return P.value}return y}function d(g,y){s.fF.assertValue(g,"itemGrouping - itemList"),s.fF.assertValue(y,"itemGrouping - callback");for(var C=function(x){if(S(x)){var R=d(x.children,y);if(R!==x.children){var D=x.clone?x.clone():_.clone(x);D.children=R;for(var L=0,F=D.children;L<F.length;L++)F[L].parentGroup=D;g=(0,c.UU)(g,function(O){return O===x?D:O})}}},E=0,M=g;E<M.length;E++)C(M[E]);return g=y(g)}function S(g){return void 0!==g.children}},279313:function(Je,H,t){t.d(H,{W:function(){return e}});var e={javascript:"jquery-ui",css:["jquery-ui"]}},735006:function(Je,H,t){t.d(H,{Ue:function(){return v}});var f,e=t(787941),c=t(509775),s=function(){function b(h){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}return b.prototype.copyText=function(h,p,n){var l;e.fF.assertValue(h,"copyText didn't get a value"),"string"==typeof h?l=h:"function"==typeof h?l=h():e.fF.assertNever(h),this.copyToClipboard(l),this.logTelemetry(p,"Value",n)},b.prototype.copyGrid=function(h,p,n){var l=this;e.fF.assertValue(h,"copyGrid didn't get a value");var r=h(),o=r.grid,a=r.coveragePercentage,i=[];if(!_.isEmpty(o))for(var m=0,u=o;m<u.length;m++){var V=u[m];_.isEmpty(V)||i.push(_.map(V,function(d){return null==d?"":l.removeBreaks(d)}).join("\t"))}this.copyToClipboard(i.join("\n")),this.logTelemetry(p,"Selection",n,a)},b.prototype.removeBreaks=function(h){return h.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")},b.prototype.copyToClipboard=function(h){this.element.value=h,document.body.appendChild(this.element);var p=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),p&&p.focus()},b.prototype.logTelemetry=function(h,p,n,l){h&&h.logEvent(c.YG,{copyType:p,visualType:n||"(unknown)",copySelectionPercentage:l||0})},b}();function v(){return f||(f=new s),f}},509775:function(Je,H,t){t.d(H,{A_:function(){return J},BP:function(){return te},Bf:function(){return X},C6:function(){return O},Fd:function(){return k},Ir:function(){return y},Lj:function(){return F},O2:function(){return E},TZ:function(){return B},U2:function(){return ve},Wj:function(){return x},YG:function(){return Ce},ZX:function(){return Ve},ap:function(){return pe},c5:function(){return Te},d3:function(){return L},eb:function(){return Be},fM:function(){return r},h:function(){return W},jj:function(){return a},lu:function(){return G},mN:function(){return D},py:function(){return oe},rH:function(){return w},ry:function(){return me},u3:function(){return P},zh:function(){return Qe}});var e=t(853811),c="BaseEvent",f=(e.cx[c]=(0,e.b1)(c),"TimedEvent"),b=(e.cx[f]=(0,e.b1)(f),"Verbose"),p=(e.cx[b]=(0,e.b1)(b),"VerboseTimedEvent"),l=(e.cx[p]=(0,e.b1)(p),"Trace"),r=e.cx[l]=(0,e.b1)(l),o="Error",a=e.cx[o]=(0,e.b1)(o),i="ErrorWithStackTrace",u=(e.cx[i]=(0,e.b1)(i),"ErrorWithStackTraceAndSourceDetails"),d=(e.cx[u]=(0,e.b1)(u),"CustomerAction"),g=(e.cx[d]=(0,e.b1)(d),"PBI.Dashboard.RootSession"),y=e.cx[g]=(0,e.b1)(g),C="PBI.WFE.Error",E=e.cx[C]=(0,e.b1)(C),M="PBI.Dashboard.ErrorDialog",P=e.cx[M]=(0,e.b1)(M),T="PBI.Dashboard.UnhandledAngularException",x=e.cx[T]=(0,e.b1)(T),R="PBI.Data.Exception",D=e.cx[R]=(0,e.b1)(R),L="PBI.Visual.Exception",F=e.cx[L]=(0,e.b1)(L),A="PBI.Dashboard.UnhandledException",O=e.cx[A]=(0,e.b1)(A),N="PBI.HandledException",w=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.ReportTilePopulateException",B=e.cx[I]=(0,e.b1)(I),j="PBI.Dashboard.UnhandledStacklessException",W=e.cx[j]=(0,e.b1)(j,{logRatio:1e-4}),U="PBI.Visual.Error",k=e.cx[U]=(0,e.b1)(U),Q="PBI.WFE.ReopenUserAccount",te=e.cx[Q]=(0,e.b1)(Q),ee="PBI.WFE.AccountClosedPage",J=e.cx[ee]=(0,e.b1)(ee),re="PBI.WFE.AbtSignoutRedirectPage",G=e.cx[re]=(0,e.b1)(re),ne="PBI.Visual.Warning",X=e.cx[ne]=(0,e.b1)(ne),oe="PBI.Visual.ApiUsage",Ve=e.cx[oe]=(0,e.b1)(oe),Te="PBI.Visual.CustomVisualsGenericEvent",Qe=e.cx[Te]=(0,e.b1)(Te),He="PBI.EX.CopyActionClicked",Ce=e.cx[He]=(0,e.b1)(He),de="StartActivity",pe=e.cx[de]=(0,e.b1)(de),le="EndActivity",me=e.cx[le]=(0,e.b1)(le),be="PBI.App.SignInError",Be=e.cx[be]=(0,e.b1)(be),Se="PBI.App.TokenRefreshError",ue=(e.cx[Se]=(0,e.b1)(Se),"PBI.Storytelling.BrowserNotSupportedLoaded"),ve=e.cx[ue]=(0,e.b1)(ue)},955307:function(Je,H,t){function e(f){return!!f&&"Open Report"===f.getProperty("name")}function c(f,v){return v&&s(f,v.getProperty("parent"))}function s(f,v){for(;v;){if(f(v))return v;v=v.parent}}t.d(H,{NN:function(){return s},sV:function(){return c},zK:function(){return e}})},795120:function(Je,H,t){t.d(H,{U:function(){return h},V:function(){return n}});var e=t(226514),c=t(787941),s=t(725182),f=t(159803),v=t(509775);function h(l,r,o){return void 0===r&&(r=3),void 0===o&&(o=0),function(a,i,m){c.fF.assertValue(a,"target"),c.fF.assertValue(i,"propertyKey");var u=m.value;return m.value=function(){for(var V=this,d=[],S=0;S<arguments.length;S++)d[S]=arguments[S];c.fF.assert(function(){return!_.isEmpty(l)},"eventName"),c.fF.assert(function(){return 0!==r},"activityAction");for(var g=(0,f.jO)();!(g==window.top||g.featureSwitchService&&g.telemetryService);)g=g.parent;var M,y=g.featureSwitchService,C=g.telemetryService,E=!1;if(y&&y.isFeatureSwitchesRegistered()&&y.featureSwitches&&y.featureSwitches.telemetryV2&&C||(E=!0),E)return M=u.apply(this,d);var P=Zone&&Zone.current,T=P&&P.get("data"),x=T&&T.monitoredActivity;(0,s.yE)(r,1)&&(x=C.startMonitoredActivity(x,l,{baseVersion:"v2",isFireAndForget:1===o||void 0}),P=x.currentZone),c.fF.assertValue(P,"currentZone");try{P.run(function(){return M=u.apply(V,d)})}catch(R){if((0,s.yE)(r,2))return void p(x,R);throw R}return(0,s.yE)(r,2)&&(c.fF.assert(function(){return P.name===l},"Event name should be same as the current zone name"),M&&_.isObject(M)&&M.then&&_.isFunction(M.then)?M.then(function(){p(x)},function(R){p(x,R)}):(c.fF.assertValue(x,"Decorated method called without a start action"),p(x))),M},m}}function p(l,r){c.fF.assertValue(l,"Decorated method called without a start action"),l&&(r?l.reject(r):l.resolve())}function n(l,r,o){return function(a,i,m){c.fF.assertValue(a,"target"),c.fF.assertValue(i,"propertyKey");var u=m.value,V=m.value.length,d=V-1;return m.value=function(){for(var S,g,y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];var E=y.length,M={},P=function(j){M.telemetryServiceArgs=j.telemetryServiceArgs,M.activityAttributesArgs=j.activityAttributesArgs},T=V>E;(r&&!T||o&&o>=E)&&c.fF.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),y=r&&T?y.concat((0,e.__spreadArray)((0,e.__spreadArray)([],Array(d-y.length),!0),[P],!1)):y;for(var x=this,R=null===(g=null===(S=x.proxy)||void 0===S?void 0:S.plugin)||void 0===g?void 0:g.name,D=o&&o<E?y[o]:R||"",L=(0,f.jO)();!(L===window.top||L.telemetryService&&L.certifiedEventsService);)L=L.parent;var F=L.telemetryService,A=L.certifiedEventsService,O=function(j,W){var U;void 0===W&&(W={}),null==A||A.logStandardizedFeatureEvent({visualId:D,correlationId:null===(U=null==F?void 0:F.root)||void 0===U?void 0:U.id,activityName:v.c5,activityAttributes:(0,e.__assign)((0,e.__assign)({},W),{apiName:l}),activityStatus:j})},N=function(j,W,U){null==F||F.logEvent(v.zh,{apiName:l,visualType:D,errorOccurred:j,reason:U,additionalInfo:W})};try{var w=u.apply(this,y);if(w&&_.isObject(w)&&w.then&&_.isFunction(w.then))return w.then(function(B){var j=r?JSON.stringify(M.telemetryServiceArgs):void 0;return N(!1,j),O("Succeeded",M.activityAttributesArgs),B},function(B){var j=r?JSON.stringify(M.telemetryServiceArgs):void 0;throw N(!0,j,B),O("Failed",M.activityAttributesArgs),B});var I=r?JSON.stringify(M.telemetryServiceArgs):void 0;return N(!1,I),O("Succeeded",M.activityAttributesArgs),w}catch(B){throw N(!0,void 0,B),O("Failed"),B}},m}}},160557:function(Je,H,t){t.d(H,{GB:function(){return v},MQ:function(){return s},Qf:function(){return c},W2:function(){return h},Wk:function(){return f},aK:function(){return b},oG:function(){return n},zg:function(){return p}});var e=t(509838);function c(r){switch(r){case 2:return"External";case 1:return"User";default:return"PowerBI"}}function s(r,o,a){var i=v(r,a);return i&&(i.errorMessage=o),i}function f(r,o){var a=v(r,o);return a&&(a.errorMessage=r.message),a}function v(r,o,a){if(r&&r.code){var i=r.code,m=r["pbi.error"]&&r["pbi.error"].exceptionCulprit;return null!=m?a?{errorCode:i,errorSource:l(m),requestId:a}:{errorCode:i,errorSource:l(m)}:null==o||401!==o&&403!==o?a?{errorCode:i,errorSource:"PowerBI",requestId:a}:{errorCode:i,errorSource:"PowerBI"}:a?{errorCode:i,errorSource:"User",requestId:a}:{errorCode:i,errorSource:"User"}}if(null!=o)return a?{errorCode:"HttpStatusCode = "+o,errorSource:"PowerBI",requestId:a}:{errorCode:"HttpStatusCode = "+o,errorSource:"PowerBI"}}function b(r,o){var a=v(r,o);if(a)return null!=o&&(400===o||401===o||403===o||429===o||404===o)&&(a.errorSource="User"),a}function h(r){if(r)return{errorCode:r.errorCode,errorMessage:"StatusCode="+r.statusCode,errorSource:null!=r.exceptionCulprit?n(r.exceptionCulprit):void 0}}function p(r){if(r){if(r.error)return r.error.code;if(r.status)return r.status.toString()}}function n(r){switch(r){case e.jV:return"External";case e.dB:return"User";default:return"PowerBI"}}function l(r){switch(r){case 2:return"External";case 1:return"User";default:return"PowerBI"}}},853811:function(Je,H,t){t.d(H,{cx:function(){return b},lG:function(){return r},Hi:function(){return u},b1:function(){return m},Gv:function(){return n},c3:function(){return S},H6:function(){return l},l1:function(){return V}});var e=t(226514),c=t(787941),s=t(16062),f=t(690016),b={},h=f.b$.generateGuid,p=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function n(g){var C,M,y=0;if(0===g.length)return y;var P=g.toLowerCase();for(C=0,M=P.length;C<M;C++)y=(y<<5)-y+P.charCodeAt(C),y|=0;return y}function l(g){return n(g).toString()}function r(g,y,C){c.fF.assertAnyValue(g,"requiredFields"),c.fF.assertAnyValue(y,"optionalFields"),c.fF.assertAnyValue(C,"target");var E=C||g||{};if(C&&g&&(C=function(g,y,C){if(g||y)return!g||y?g||!y?$.extend(g,y,C):y:g}(C,g)),y)for(var M in y)if(y.hasOwnProperty(M)){var P=y[M];void 0!==P&&!1!==P&&(E[M]=P)}return E}function m(g,y){return function(C){return(0,e.__assign)((0,e.__assign)({name:g,time:(0,s.z)(),id:h()},y),{info:C,formatted:function(){return function(g,y,C){if(C){var E=[];for(var M in C){var P=y[C[M]];(void 0===P||!1===P)&&E.push(C[M])}y=_.omit(y,E)}return _.extend(g,y),g}({},C,null==y?void 0:y.optionalParameters)}})}}function u(g,y){c.fF.assert(function(){return!_.isEmpty(g)},"eventName"),c.fF.assertValue(y,"info"),c.fF.assertValue(Zone,"Zone");var C=Zone.current;if(C&&C.name===g){var E=C.get("data");if(E){for(var M=0,P=p;M<P.length;M++){var T=P[M];if(void 0!==y[T])throw new Error("Field '"+T+"' is restricted from override.")}_.extend((E.monitoredActivity&&E.monitoredActivity.activityEvent).info,y)}else c.fF.assertFail("No data field is stored in current zone")}else c.fF.assertFail("This method is expected to be used with ZoneJS and current Zone match the event name. event=".concat(g,", currentZone=").concat(C&&C.name))}function V(g,y,C){return g?g.run(function(){return y.apply(C)}):C?C.fn():y()}function d(g){return g&&!0===g.get("isAngularZone")}function S(g){for(var y=!1,C=g;C&&d(C);){if(C._zoneDelegate._taskCounts.microTask>0){y=!0;break}C=C.parent}return y}},886442:function(Je,H,t){t.d(H,{Xe:function(){return f},bG:function(){return c}});var e=t(749012);function c(){return(0,e._1)().userInfo}var f=function(){function v(){}return v.getFullName=function(){var b=c();return b.givenName+" "+b.surname},v.isInternalUser=function(){var b=c();if(!b||!b.name)return!1;var h=b.name.toLowerCase();return h.indexOf("@microsoft.com")>=0||h.indexOf(".microsoft.com")>=0},v.getUPN=function(){return c().name},v.getEmailAddressForReceivingMail=function(){var b=c();return null==b?"":_.isEmpty(b.alternateEmail)?b.name:b.alternateEmail},v}()},225202:function(Je,H,t){t.d(H,{N3:function(){return f},t7:function(){return v},xs:function(){return s}});var e=t(749012),c=t(509775),s="PowerBI.com",f="ActivityId",v="RequestId";(0,e.Ng)().WFEError||((0,e.Ng)().WFEError=c.O2),(0,e.Ng)().AppSignInError||((0,e.Ng)().AppSignInError=c.eb,(0,e.Ng)().WFEAccountClosedPage=c.A_,(0,e.Ng)().WFEReopenUserAccount=c.BP),(0,e.Ng)().WFEAbtSignoutRedirectPage||((0,e.Ng)().WFEAbtSignoutRedirectPage=c.lu),(0,e.Ng)().StorytellingBrowserNotSupportedLoaded||((0,e.Ng)().StorytellingBrowserNotSupportedLoaded=c.U2)},946501:function(Je,H,t){function e(){return window.powerbi.telemetrySamplingRules}t.d(H,{L2:function(){return f},fy:function(){return e},zD:function(){return s}});var s=function(b){return b[b.Verbose=0]="Verbose",b[b.CustomerAction=1]="CustomerAction",b[b.CriticalError=2]="CriticalError",b[b.Trace=3]="Trace",b[b.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",b}({}),f=function(b){return b[b.LocalyticsDeprecated=1]="LocalyticsDeprecated",b[b.AppInsightDeprecated=2]="AppInsightDeprecated",b[b.AppInsight=4]="AppInsight",b[b.Etw=8]="Etw",b[b.Mobile=16]="Mobile",b[b.WinJs=32]="WinJs",b[b.Designer=64]="Designer",b[b.NgRx=128]="NgRx",b[b.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",b}({})},693825:function(Je,H,t){t.d(H,{Fp:function(){return a},OA:function(){return b},SF:function(){return v},aD:function(){return f},eq:function(){return o},ge:function(){return r},gt:function(){return n},lt:function(){return l}});var e=t(787941),c=t(993370),s={major:0,minor:0,patch:0},f="0.0",v="99.9";function b(d){e.fF.assertValue(d,"versionString");for(var C,S=0,g=0,y=0,E=0,M=0,P=0,T=d.length;M<=T;M++){var x=M===T?46:d.charCodeAt(M);switch(x){case 46:case 45:if(M===P)return;var R=(0,c.l)(d,P,M-P);if(null==R)return;switch(E){case 0:S=R;break;case 1:g=R;break;case 2:y=R;break;default:return}if(E++,P=M+1,45===x){if(3!==E||!h(C=d.substr(M+1)))return;M=T}break;default:if(x<48||x>57)return}}var D={major:S,minor:g,patch:y};return C&&(D.prerel=C),D}function h(d){e.fF.assertValue(d,"prerel");for(var S=0,g=d.length;S<g;S++){var y=d.charCodeAt(S);if(!(65<=y&&y<=90||97<=y&&y<=122||48<=y&&y<=57||45===y||46===y))return!1}return!0}function n(d,S){return e.fF.assertValue(d,"v1"),e.fF.assertValue(S,"v2"),m(i(d),i(S))>0}function l(d,S){return e.fF.assertValue(d,"v1"),e.fF.assertValue(S,"v2"),m(i(d),i(S))<0}function r(d,S){return e.fF.assertValue(d,"v1"),e.fF.assertValue(S,"v2"),m(i(d),i(S))>=0}function o(d,S){return e.fF.assertValue(d,"v1"),e.fF.assertValue(S,"v2"),d=i(d),S=i(S),!m(i(d),i(S))}function a(d,S){return n(i(d),i(S))?d:S}function i(d){return _.isString(d)?b(d)||s:d}function m(d,S){var g=u(d.major,S.major);return g||(g=u(d.minor,S.minor))||(g=u(d.patch,S.patch))?g:function(d,S){var g=_.isEmpty(d),y=_.isEmpty(S);if(g)return y?0:1;if(y)return-1;var C=(0,c.l)(d,0,d.length),E=(0,c.l)(S,0,S.length);return null!=C?null!=E?u(C,E):-1:null!=E?1:d.localeCompare(S)}(d.prerel,S.prerel)}function u(d,S){var g=(d=d||0)-(S=S||0);return 0===g?0:g<0?-1:(e.fF.assert(function(){return g>0},"diff > 0"),1)}},937754:function(Je,H,t){t.d(H,{g:function(){return c}});var e=t(641484),c=function(){function s(){}return s.getModalDialog=function(f){return s.modalDialog||(s.modalDialog=new e.pL(null,f)),s.modalDialog},s.errorServiceModalDialogControl=function(f){return s.getModalDialog(f)},s}()},489680:function(Je,H,t){t.d(H,{_3:function(){return h}});var e=t(853811),c="PBI.ShowModalDialogRejected",f=(e.cx[c]=(0,e.b1)(c),"PBI.ShowModalDialogSkippedNestedDialogs"),b=(e.cx[f]=(0,e.b1)(f),"PBI.TriggerRefresh"),h=e.cx[b]=(0,e.b1)(b)},479755:function(Je,H,t){t.d(H,{j:function(){return e}});var e="$$$angularInjectorController"},433196:function(Je,H,t){t.d(H,{L:function(){return e}});var e=function(){return function(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}()},579325:function(Je,H,t){t.d(H,{RZ:function(){return h},Ue:function(){return a}});var e=t(787941),v="[".concat("toolbar-anchor","]"),h="[".concat("toolbar-container","]"),p="overlayActive",l=(".".concat(p),"toolbarOverlay"),o=(".".concat(l),{layout:"overlayedToolbar",preferHorizontalLayout:!1,theme:"darkTheme"});function a(m,u,V){return new i(m,u,V)}var i=function(){function m(u,V,d){var S=this;this.anchor=u.closest(v),this.container=u.closest(h),e.fF.assert(function(){return S.container.length>0},"toolbarOverlay.container"),this.updateOptions(d),this.visible=!1,V&&this.setToolbar(V)}return m.prototype.setToolbar=function(u){var V=this.toolbar;if(V!==u){if(V&&V.remove(),!u)return void(this.toolbar=null);this.toolbar=u,u.addClass(l);var d=this.options,S=d.layout;this.updateTheme(void 0,d.theme),this.updateLayout(void 0,S),this.setVisibility(this.visible),this.container.append(u)}},m.prototype.destroy=function(){var u=this.toolbar;u&&u.remove(),this.toolbar=void 0,this.visible=!1},m.prototype.updateOptions=function(u){var V=this.options;u=this.options=_.defaults({},u,this.options,o),this.updateTheme(V&&V.theme,u.theme),this.updateLayout(V&&V.layout,u.layout)},m.prototype.updateTheme=function(u,V){!this.toolbar||u===V||(null!=u&&this.toolbar.removeClass(u),this.toolbar.addClass(V))},m.prototype.updateLayout=function(u,V){var d=this;!this.toolbar||u===V||(e.fF.assert(function(){return"overlayedToolbar"!==V||!!d.anchor},'Overlayed must have an element matching the "'.concat(v,'" selector')),null!=u&&(this.toolbar.removeClass(u),"overlayedToolbar"===u&&this.clearToolbarPosition()),this.toolbar.addClass(V))},m.prototype.show=function(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(p),this.visible=!0)},m.prototype.hide=function(){this.toolbar&&(this.toolbar.removeClass(p),this.visible=!1)},m.prototype.setVisibility=function(u){u?this.show():this.hide()},m.prototype.isVisible=function(){return this.visible},m.prototype.clearToolbarPosition=function(){this.toolbar&&this.toolbar.removeClass("top right bottom left")},m.prototype.repositionToolbar=function(){if("overlayedToolbar"===this.options.layout){var u=this.toolbar;if(u){e.fF.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var F,V=u.outerWidth(!0),d=u.outerHeight(!0),S=this.anchor.get(0).getBoundingClientRect(),g=S.left,y=S.right,C=S.bottom,E=this.container.get(0).getBoundingClientRect(),M=E.top,P=E.left,T=E.right,x=S.top,R=0,D=!0,L=!0,A=V+17,O=g-P,N=E.width-y;this.options.preferHorizontalLayout&&(O>A||N>A)?O>=N?(R=g-A,F=2):(R=y+17,F=3):((R=g)+V>P+E.width&&(R=g+S.width-V,D=!1),R<0&&(R=0),F=0,(x=S.top-d-27)<M&&(x=S.top+S.height+27,F=1,L=!1));var j=E.bottom,W=x+d+27;if(W>j&&(x-=W-j),this.options.dropdownOptions){var U=this.options.dropdownOptions,k=U.dropdown,Q=U.extraWidthOnRight,te=U.extraWidthOnLeft,ee=k.getBoundingClientRect(),J=x-M,re=j-(x+d),G=R-te>P,ne=R+V+Q>T;switch(F){case 0:this.updateDropdownVerticalAlignment(k,J,re,y>ee.left),this.updateDropdownHorizontalAlignment(k,G,ne);break;case 1:this.updateDropdownVerticalAlignment(k,J,re),this.updateDropdownHorizontalAlignment(k,G,ne);break;case 2:this.updateDropdownHorizontalAlignment(k,G,ne,C>ee.top),this.updateDropdownVerticalAlignment(k,J,re);break;case 3:this.updateDropdownHorizontalAlignment(k,G,ne),this.updateDropdownVerticalAlignment(k,J,re);break;default:e.fF.assertNever(F)}}u.css({top:x,left:R});var oe="".concat(D?"left":"right"," ").concat(L?"top":"bottom");u.removeClass("top right bottom left"),u.addClass(oe)}}},m.prototype.resetDropdownHorizontalAlignment=function(u){$(u).css("right","")},m.prototype.resetDropdownVerticalAlignment=function(u){$(u).css("top","100%").css("bottom","")},m.prototype.moveDropdownToTheLeft=function(u){$(u).css("right",0)},m.prototype.moveDropdownUp=function(u){$(u).css("top","initial").css("bottom","100%")},m.prototype.updateDropdownVerticalAlignment=function(u,V,d,S){void 0===S&&(S=!1);var g=u.getBoundingClientRect().height,y=V>g,C=d<g;y&&(C||S)?this.moveDropdownUp(u):(this.resetDropdownVerticalAlignment(u),!y&&C&&$(u).css("height","".concat(d,"px")))},m.prototype.updateDropdownHorizontalAlignment=function(u,V,d,S){void 0===S&&(S=!1),V&&(d||S)?this.moveDropdownToTheLeft(u):this.resetDropdownHorizontalAlignment(u)},m}()},375735:function(Je,H,t){t.d(H,{nD:function(){return P},pX:function(){return n},nC:function(){return l},Si:function(){return p}});var e=t(226514),c=t(787941),s=t(932178);function f(T){var x=T.get(0).style,R=x.transform||x.webkitTransform;if(R){var D=R.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(D)return parseFloat(D[1])}return 0}var h=t(690016),p=function(T){return T[T.Parent=1]="Parent",T[T.None=2]="None",T[T.Custom=3]="Custom",T}({}),n=function(T){return T[T.Up=1]="Up",T[T.Down=2]="Down",T[T.Left=4]="Left",T[T.Right=8]="Right",T[T.UpLeft=16]="UpLeft",T[T.UpRight=32]="UpRight",T[T.DownLeft=64]="DownLeft",T[T.DownRight=128]="DownRight",T[T.All=255]="All",T}({}),l=function(T){return T[T.Up=0]="Up",T[T.Down=1]="Down",T[T.Left=2]="Left",T[T.Right=3]="Right",T}({}),V="transformElement",d="dragging",S="resizing",y="resizeHandleGroup-",M={preventDefault:"auto",minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1},P=function(){function T(x,R,D){this.ngZone=R,this.resizeHandleDirections=n.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=x,this.rawElement=this.element.get(0),this.updateOptions(D),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(V),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),T.pointerTrap||(T.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}return T.prototype.attachKeyHandlers=function(){var x=this;this.element.keydown(function(R){var F,D=R.shiftKey,L=R.shiftKey&&R.ctrlKey;if("true"!==$(x.element).attr("drag-resize-disabled")&&(!s.M.isCtrlOrMeta(R)||L)){var A=x.getDimensionsFromElement(x.element,!0),O=D?10:1;if(L){var N=function(W){return W/2===Math.round(W/2)};switch(R.keyCode){case 40:A.height-=1,F=l.Down,N(A.height)&&(A.y+=1);break;case 38:A.height+=1,F=l.Up,N(A.height)||(A.y-=1);break;case 37:A.width-=1,F=l.Left,N(A.width)&&(A.x+=1);break;case 39:A.width+=1,F=l.Right,N(A.width)||(A.x-=1);break;default:return}}else switch(R.which){case 40:F=l.Down,A.y+=O;break;case 38:F=l.Up,A.y-=O;break;case 37:F=l.Left,A.x-=O;break;case 39:F=l.Right,A.x+=O;break;default:return}var w=x.getRestrictionParent();if(w&&0!==w.length){var I=function(T){return{left:parseFloat(T.css("padding-left"))||0,right:parseFloat(T.css("padding-right"))||0,top:parseFloat(T.css("padding-top"))||0,bottom:parseFloat(T.css("padding-bottom"))||0}}(w),B=x.getDimensionsFromElement(w);A=x.restrictTo(A,B,I)}x.transformRelativeDimensionFromElement(x.element,A),R.stopPropagation&&R.stopPropagation(),R.preventDefault&&R.preventDefault(),x.notifyNudge(A,{bigNudge:D,direction:F})}})},T.prototype.restrictTo=function(x,R,D){var F=-D.top||0;return{x:Math.max(-D.left||0,Math.min(x.x,R.width-x.width)),y:Math.max(F,Math.min(x.y,R.height-x.height)),width:Math.min(x.width,R.width+D.left+D.right),height:Math.min(x.height,R.height+D.top+D.bottom)}},T.prototype.destroy=function(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)},T.prototype.getResizeHandleDirectionArray=function(){var x=[],R=this.options.resizeHandleDirections;return R&n.Up&&x.push("up"),R&n.Down&&x.push("down"),R&n.Left&&x.push("left"),R&n.Right&&x.push("right"),R&n.UpLeft&&x.push("up-left"),R&n.UpRight&&x.push("up-right"),R&n.DownLeft&&x.push("down-left"),R&n.DownRight&&x.push("down-right"),x},T.prototype.getRestrictionString=function(){var x;switch(this.options.restriction){case p.Parent:x="parent";break;case p.Custom:x=this.options.getCustomRestrictionSelector();break;default:x=""}return x},T.prototype.getRestrictionParent=function(){var x=this.getRestrictionString();switch(x){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(x)}},T.prototype.getAutoScrollOptions=function(){var x=this.options.autoScrollParent;return null==x?void 0:{enabled:!0,container:x[0]}},T.prototype.updateOptions=function(x){var R=this.options||{};this.options=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},M),R),x),this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==p.None?this.getRestrictionParent():void 0,this.updateHandlers()},T.prototype.updateHandlers=function(){if(this.dragInteractable||this.resizeInteractable){var x=this.getAutoScrollOptions();if(this.dragInteractable){var R=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:R,autoScroll:x})}this.resizeInteractable&&(R={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}},this.resizeInteractable.draggable({restrict:R,autoScroll:x}))}},T.prototype.attachDragHandler=function(){var x=this,R=this.element.get(0),D=this.options.autoScrollParent,L=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(function(){return interact(R).preventDefault(L).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:function(w){return x.ngZone.run(function(){return x.onDragStart(w)})},onmove:function(w){return x.ngZone.run(function(){return x.onDragMove(w)})},onend:function(w){return x.ngZone.run(function(){return x.onDragEnd()})}})}),this.element.on("pointerdown.transform",function(){x.dragInteractable&&x.options.getDragRestriction&&(x.dragInteractable.options.drag.restrict.elementRect=x.options.getDragRestriction())}),D){var F=h.S5,A=0,O=0;this.autoScrollParent=D,this.autoScrollParentScrollHandlerFn=F(function(){var N=D.scrollTop(),w=D.scrollLeft(),I=w-O,B=N-A;if(0!==I||0!==B){var j={dx:I,dy:B};x.element.hasClass(d)?x.onDragMove(j):x.element.hasClass(S)&&x.onResizeMove(j)}A=N,O=w}),D.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}},T.prototype.onDragStart=function(x){this.dragStopped=!1,s.M.isCtrlOrMeta(x)||x.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&T.pointerTrap.setPointerCapture&&x.interaction.pointerIds.length>0&&null!=x.interaction.pointerIds[0]&&T.pointerTrap.setPointerCapture(x.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,e.__assign)({},this.dimensions),this.element.addClass(d),this.notifyDragStart(this.dimensions))},T.prototype.onDragMove=function(x){this.dragStopped||(this.dimensions.x+=x.dx,this.dimensions.y+=x.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))},T.prototype.onDragEnd=function(){this.dragStopped||(this.element.removeClass(d),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))},T.prototype.attachResizeHandles=function(){for(var R,x=this,D=this.getResizeHandleDirectionArray(),L=this.options,F=L.customHandleClass,A=L.transformId,O=0,N=D.length;O<N;O++){var w=$("<div></div>").addClass("resizeHandle").attr("data-direction",D[O]).appendTo(this.element);F&&w.addClass(F),A&&w.addClass(y+this.options.transformId)}var I=".resizeHandle"+(this.options.transformId?".".concat(y).concat(this.options.transformId):"");this.resizeInteractable=this.ngZone.runOutsideAngular(function(){return interact(I,{context:x.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:function(j){return x.ngZone.run(function(){return x.onResizeStart(j)})},onmove:function(j){return x.ngZone.run(function(){R=j,x.onResizeMove(j)})},onend:function(){return x.ngZone.run(function(){R=null,x.onResizeEnd()})}})}),this.element.bind("keydown","keyup",function(B){var j="keydown"===B.type;x.element.hasClass(S)&&16===B.keyCode&&R&&j!==R.shiftKey&&(R.shiftKey=j,x.onResizeMove(R))})},T.prototype.onResizeStart=function(x){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var R=x.target;this.element.addClass(S),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,e.__assign)({},this.dimensions),this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var D=R.getAttribute("data-direction");this.resizeDirection={up:/up/.test(D),down:/down/.test(D),left:/left/.test(D),right:/right/.test(D)},this.setTransformDelta(x),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)},T.prototype.setTransformDelta=function(x){this.transformDelta.width=x.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=x.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)},T.prototype.calculateAspectRatio=function(x,R){var D=x.height,L=x.width;return R&&(D+=R.height,L+=R.width),D/L},T.prototype.onResizeMove=function(x){var R=this.options.aspectRatioOffset||{width:0,height:0},D=x.clientY-this.transformDelta.height,L=x.clientX-this.transformDelta.width,F=0;for(var A in this.resizeDirection)F+=this.resizeDirection[A];if(this.resizeDirection.left&&(this.dimensions.x=L,this.dimensions.width=this.resizeStartRect.right-L),this.resizeDirection.up&&(this.dimensions.y=x.clientY,this.dimensions.height=this.resizeStartRect.bottom-D),this.resizeDirection.right&&(this.dimensions.width=L-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=D-this.resizeStartRect.top),(this.preserveAspectRatio||x.shiftKey)&&2===F){var O=void 0,N=this.getRestrictionParent();if(N&&N.length){var w=this.rawElement.getBoundingClientRect().top-N.get(0).getBoundingClientRect().top;O=this.resizeDirection.up?this.dimensions.height+w:N.get(0).clientHeight-w}else O=void 0;T.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,O,R,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=f(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)},T.fixDimensionsBasedOnAspectRatio=function(x,R,D,L,F){void 0===D&&(D=Number.MAX_VALUE);var A=Math.min(F.width,x.maxWidth)+L.width,O=A*R;O>(D=Math.min(x.maxHeight,D)+L.height)&&(A=(O=D)/R),O<x.minHeight+L.height&&(A=(O=x.minWidth+L.height)/R),A<x.minWidth+L.width&&(O=(A=x.minWidth+L.width)*R),F.height=O-L.height,F.width=A-L.width},T.prototype.onResizeEnd=function(){this.isResizing=!1,this.element.removeClass(S),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)},T.prototype.getDimensionsFromElement=function(x,R){var D=this;void 0===R&&(R=!1);var L=this.getPositionFromElement(x);if(R){var F=x.parents("."+V);F.length&&F.each(function(N,w){var I=D.getPositionFromElement($(w));L.x+=I.x,L.y+=I.y})}var A=this.getSizeFromElement(x),O=f(x);return{x:L.x,y:L.y,width:A.width,height:A.height,angle:O}},T.prototype.transformRelativeDimensionFromElement=function(x,R){var D=this,L=x.parents("."+V);L.length&&L.each(function(F,A){var O=D.getPositionFromElement($(A));R.x-=O.x,R.y-=O.y})},T.prototype.getSizeFromElement=function(x){return{width:x.width(),height:x.height()}},T.prototype.getPositionFromElement=function(x){return function(T){var x={x:0,y:0};if(T&&T.length){var R=T.get(0).style,D=R.transform||R.webkitTransform;if(D&&D.length>0){var L=D.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);L?(x.x=parseFloat(L[1]),x.y=parseFloat(L[2])):(L=D.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(x.x=parseFloat(L[1]),x.y=0)}}return x}(x)},T.prototype.draw=function(x){if(!this.options.disableDrawing){var D,R=this.prevDimensions;x=x||this.dimensions,this.options.getIntermediateDimensions&&(D=this.options.getIntermediateDimensions(x)),x=_.extend({},D||x);var L=this.element.get(0).style,F=x.angle;if(!_.isEmpty(this.restrictionElement)){var A=this.getDimensionsFromElement(this.restrictionElement);x.x=Math.max(A.x,x.x),x.y=Math.max(A.y,x.y);var O=Math.max(0,x.x+x.width-(A.x+A.width)),N=Math.max(0,x.y+x.height-(A.y+A.height));this.isResizing?(x.height=x.height-N,x.width=x.width-O):(x.x=x.x-O,x.y=x.y-N,c.fF.assert(function(){return x.x>=A.x},"dimensions.x is less than restriction"),c.fF.assert(function(){return x.y>=A.y},"dimensions.y is less than restriction"))}(x.x!==R.x||x.y!==R.y||x.angle!==R.angle)&&(L.webkitTransform=L.transform="translate("+x.x+"px, "+x.y+"px)"+(F?" rotate("+F+"deg)":""),R.x=x.x,R.y=x.y,R.angle=R.angle),R.width!==x.width&&(L.width=x.width+"px",R.width=x.width),R.height!==x.height&&(L.height=x.height+"px",R.height=x.height)}},T.prototype.snapToGridIfNeeded=function(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))},T.prototype.snapToGrid=function(x){var R=this.options.gridSize;x.x=Math.round(x.x/R.width)*R.width,x.y=Math.round(x.y/R.height)*R.height,x.width=Math.round(x.width/R.width)*R.width,x.height=Math.round(x.height/R.height)*R.height,this.draw(x)},T.prototype.notifyResizeStart=function(x){this.options&&this.options.onResizeStart&&this.options.onResizeStart(x)},T.prototype.notifyResizeMove=function(x){this.options&&this.options.onResizeMove&&this.options.onResizeMove(x)},T.prototype.notifyResizeEnd=function(x){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(x)},T.prototype.notifyDragStart=function(x){this.options&&this.options.onDragStart&&this.options.onDragStart(x)},T.prototype.notifyDragMove=function(x){this.options&&this.options.onDragMove&&this.options.onDragMove(x)},T.prototype.notifyDragEnd=function(x){this.options&&this.options.onDragEnd&&this.options.onDragEnd(x)},T.prototype.notifyNudge=function(x,R){this.options&&this.options.onNudge&&this.options.onNudge(x,R)},T}()},518304:function(Je,H,t){t.d(H,{$V:function(){return S},E9:function(){return l},Fp:function(){return p},IJ:function(){return V},K0:function(){return o},Kj:function(){return s},Kk:function(){return n},LX:function(){return R},MX:function(){return h},Nf:function(){return C},OA:function(){return r},_h:function(){return c},dx:function(){return y},gn:function(){return u},iQ:function(){return e},nt:function(){return b},td:function(){return f},tk:function(){return i},tz:function(){return g},wu:function(){return v},xu:function(){return d}});var e="Explore_ExplorationCreation",c="ExportExcel_EmptyColumnName",s="modelFailednoErrorInfo",f="ModelSizeExceedsSharedCapacityLimit",v="ModelWithIncrementalRefreshIsNotDownloadable",b="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",h="ExportData_DisabledForModelModifiedByXmlaEndpoint",p="ExportData_DisabledForModelWithInferredPartition",n="UnsupportedModelWithRefreshPolicyInSharedCapacity",l="DatasetsWithCompositeModelsNotSupported",r="PowerBIEntityNotFound",o="PowerBINotAuthorizedException",i="rsErrorOpeningConnection",u="TokenExpired",V="UserNotLicensed",d="NetworkConnectionIssue",S="NavigateAway",g="ChangeDetectionMeasureExecutionDisabledException",y="UnsupportedChangeDetectionMeasureException",C="FailedToAutoAssignLicense",R="PowerBIOperationNotSupported"},772714:function(Je,H,t){t.d(H,{Q:function(){return s},W:function(){return c}});var e=t(831917);function c(f){(0,e.hG)().errorService=f}function s(){return(0,e.hG)().errorService}},267698:function(Je,H,t){t.d(H,{Dd:function(){return l},GA:function(){return d},NJ:function(){return S},OM:function(){return C},PF:function(){return v},Qq:function(){return m},SV:function(){return a},VF:function(){return u},Z:function(){return e},dJ:function(){return s},dm:function(){return n},i5:function(){return h},ii:function(){return g},lH:function(){return i},m:function(){return y},pG:function(){return o},qw:function(){return r},sc:function(){return p},t1:function(){return b},v7:function(){return f}});var e=function(E){return E[E.AzureMapsDomain=1]="AzureMapsDomain",E[E.All=1]="All",E}({}),s={type:2,name:"visualContainerResizeStart"},f={type:2,name:"visualContainerResizeEnd"},v={type:2,name:"visualContainerInteraction"},b={type:2,name:"canvasItemContainerShowHover"},h={type:2,name:"canvasItemContainerHideHover"},p={type:2,name:"liveReportTileReady"},n={type:2,name:"printSectionReady"},l={type:3,name:"reportPrintSectionStarted"},r={type:3,name:"reportPrintSectionFinished"},o={type:4,name:"loadPowerViewReport"},a={type:4,name:"explorationUnloaded"},i={type:4,name:"informationProtectionLoaded"},m={type:4,name:"printModeChanged"},u={name:"reportRefreshStateChanged",type:4},d={name:"tileVisualLoadedChanged",type:4},S={name:"externalUrlChanged",type:4},g={type:4,name:"scrollToSelectedTile"},y={type:4,name:"Tile_RLS_NoAccess"},C={name:"dashboardTileScaleChanged",type:2}},180951:function(Je,H,t){t.d(H,{Ed:function(){return l},XP:function(){return f},ZV:function(){return e},aE:function(){return s},ep:function(){return n},jX:function(){return b},qu:function(){return c},qz:function(){return h},rO:function(){return v}});var e={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},c="https://go.microsoft.com/fwlink/?LinkId=532757",s="https://go.microsoft.com/fwlink/?linkid=2179788",f="https://go.microsoft.com/fwlink/?LinkId=525916",v="https://go.microsoft.com/fwlink/?LinkId=823121",b="https://go.microsoft.com/fwlink/?LinkId=786855",h="https://go.microsoft.com/fwlink/?LinkId=823122",n="https://go.microsoft.com/fwlink/?LinkID=825665",l="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},481657:function(Je,H,t){t.d(H,{J8:function(){return h}});var e=t(358724),c=t(787941),s=t(932178),f=t(267698),h=function(){function p(){}return p.getPrintTargetViewPort=function(n){var l={width:e.SZk,height:e.qvT};if(n.width()>n.height()&&(l.width=e.nDG,l.height=e.Td2),s.M.isChrome()){var a=n.parent();l.width=a.width(),l.height=a.height()}return l},p.calculateScaleFactor=function(n,l,r){var o=l.width/n.width,a=l.height/n.height;return r?Math.max(o,a):Math.min(o,a)},p.prototype.getStyleString=function(n){for(var l=Object.keys(n),r="",o=0,a=l.length;o<a;o++){var i=l[o];r=r+i+":"+n[i]+";"}return r},p.prototype.onInit=function(n,l,r,o,a,i,m){var u=this;i||(this.globalSubscriptionManager=m.createChannelSubscriptionManager().subscribe(f.Qq,function(V,d){d===e.WMs?u.insertPrintStylingInDOM(n,l,r,o,a):d===e.IBn&&u.removePrintStylingFromDOM(n)}))},p.prototype.onDestroy=function(n,l){l||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(n,!0)},p.prototype.insertPrintStylingInDOM=function(n,l,r,o,a){if(null!=r){var i=window.location.pathname.toLowerCase();if(!1===a.featureSwitches.printingEnabled&&"/export/report"!==i&&"/reportembedexporthost"!==i){if(!this.printDisabledElement){var u=o.get("PrintingIsDisabledForThisTenantMessage"),V=$("<div>").addClass("errorTitle").text(u),d=$("<div>").attr("id","printDisabledOverlay").append(V);this.printDisabledElement=d,$("body").append(this.printDisabledElement)}return void n.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var S=l(n);c.fF.assertValue(S,"printStylesObject");var g=this.getStyleString(S);this.printStyleElement.get(0).sheet.insertRule(".".concat(r," { ").concat(g," }"))}},p.prototype.removePrintStylingFromDOM=function(n,l){if(void 0===l&&(l=!1),this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,n.show()),this.printStyleElement)if(l)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var r=this.printStyleElement.get(0).sheet,o=r.cssRules.length;o--;)r.removeRule(o)},p}()},49404:function(Je,H,t){t.d(H,{$i:function(){return A},$v:function(){return D},A7:function(){return S},DS:function(){return B},Fk:function(){return I},Gw:function(){return w},KZ:function(){return ee},NQ:function(){return R},OJ:function(){return a},QS:function(){return E},ZW:function(){return m},c9:function(){return g},ee:function(){return u},gF:function(){return re},gY:function(){return y},ov:function(){return i},qg:function(){return d},ql:function(){return L},t6:function(){return J},tL:function(){return N},vs:function(){return x},w$:function(){return G},xA:function(){return V},yU:function(){return M}});var e=t(776791),c=t(358724),s=t(497610),f=t(239144),v=t(787941),b=t(690016),h=t(772714),p=t(588078),n=2998,r={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},o={year:"2-digit",month:"numeric",day:"numeric"};function a(X){for(var oe=X.refreshConnections,Ve=void 0!==oe?oe.length:0,Te=0;Te<Ve;Te++)if(oe[Te].onpremGatewayRequired)return!0;return!1}function i(X){return a(X)||m(X)}function m(X){var oe=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===X.onPremModelConnectionString||oe.test(X.onPremModelConnectionString))&&X.dataCacheMode!==s.Vv.DirectQuery}function u(X){try{var oe=b.b$.getDateFromWcfJsonString(X,!0);return X&&!oe&&v.fF.assertFail("malformed refresh time could not be parsed to date: "+X),oe}catch(Ve){return v.fF.assertFail(Ve.message),null}}function V(X,oe,Ve){void 0===Ve&&(Ve=!0);try{var Te=u(X);return!Ve||!Te||Te.getFullYear()>n||Te.getFullYear()<2?oe.get("ManageDatasets_NextRefresh_NA"):Te.toLocaleString()}catch(Qe){return v.fF.assertFail(Qe.message),oe.get("ManageDatasets_NextRefresh_NA")}}function d(X,oe){try{var Ve=u(X);return!Ve||Ve.getFullYear()>n||Ve.getFullYear()<2?oe&&oe.invalidDateTimePlaceholder||"":Ve.toLocaleDateString((null==oe?void 0:oe.locale)||void 0,oe&&oe.format||o)}catch(Te){return v.fF.assertFail(Te.message),oe&&oe.invalidDateTimePlaceholder||""}}function S(X,oe){try{var Ve=u(X);return!Ve||Ve.getFullYear()>n||Ve.getFullYear()<2?oe&&oe.invalidDateTimePlaceholder||"":Ve.toLocaleString(void 0,oe&&oe.format||r)}catch(Te){return v.fF.assertFail(Te.message),oe&&oe.invalidDateTimePlaceholder||""}}function g(X,oe,Ve){for(var Te=new Array,Qe=0,He=oe;Qe<He.length;Qe++){var Ce=He[Qe],de=E(X,Ce,Ve);de.datasourceId=Ce.dataSourceId,de.dataSourceObjectId=Ce.dataSourceObjectId,de.gatewayId=Ce.gatewayId,de.gatewayObjectId=Ce.gatewayObjectId,de.testConnectionState=Ce.credentialDetails?p.x9.NotStart:p.x9.NotSpecified,de.alreadyExecutedTestConnection=!1,Te.push(de)}return Te}function y(X,oe){switch(X){case f.d3.NotSpecified:return oe.get("AuthenticationMethod_NotSpecified");case f.d3.Windows:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case f.d3.Anonymous:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case f.d3.Basic:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case f.d3.Key:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case f.d3.OAuth2:return oe.get("AuthenticationMethod_OAuth2");case f.d3.EffectiveUserName:return oe.get("AuthenticationMethod_EffectiveUserName");case f.d3.SingleSignOn:return oe.get("AuthenticationMethod_SingleSignOn");case f.d3.WindowsWithoutImpersonation:return oe.get("AuthenticationMethod_WindowsWithoutImpersonation");case f.d3.SAS:return oe.get("AuthenticationMethod_SAS");case f.d3.ServicePrincipal:return oe.get("AuthenticationMethod_ServicePrincipal");default:return f.d3[X]}}function C(X,oe){return _.map(X,function(Ve){return y(Ve,oe)})}function E(X,oe,Ve){var Te=oe.credentialDetails,Qe={modelId:X,datasourceId:oe.dataSourceId,dataSourceObjectId:oe.dataSourceObjectId,gatewayId:oe.gatewayId,gatewayObjectId:oe.gatewayObjectId,name:oe.dataSourceName,oAuth2URL:oe.oAuth2Endpoint,oAuth2Nonce:oe.oAuth2Nonce,datasourceType:oe.dataSourceType,datasourceReference:P(oe.dataSourceReference),credentialTypes:oe.supportedAuthenticationTypes,credentialTypesNames:C(oe.supportedAuthenticationTypes,Ve),connectionStringGeneralProperties:M(oe.connectionDetails),onpremGatewayRequired:oe.onPremGatewayRequired,singleSignOnType:oe.singleSignOnType,skipTestConnection:!!Te&&Te.skipTestConnection,selectedCredentialType:Te?Te.credentialType:void 0,selectedPrivacyLevel:Te?Te.privacyLevel:void 0,gatewayType:oe.gatewayType};if(Qe.datasourceType===f.ye.Extension){var He=JSON.parse(oe.dataSourceReference);Qe.dataSourceKind=He.kind}return Qe.fullName=O(Qe,Ve),Qe.displayName=A(Qe,Ve),Qe}function M(X){return P(X)}function P(X){var oe=new Array;if(X){var Ve=JSON.parse(X);for(var Te in Ve)oe.push({name:Te,value:Ve[Te]})}return oe}function T(X){return X?null!=X.server?(v.fF.assertValue(X.database,"database"),[{name:"Server",value:X.server},{name:"Database",value:X.database}]):null!=X.path?[{name:"path",value:X.path}]:null!=X.modelId?[{name:"modelId",value:X.modelId},{name:"workspaceId",value:X.workspaceId}]:(v.fF.assertValue(X.extensionDataSourceKind,"extensionDataSourceKind"),v.fF.assertValue(X.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:X.extensionDataSourceKind},{name:"extensionDataSourcePath",value:X.extensionDataSourcePath}]):[]}function x(X,oe,Ve){var Te=(0,e.K)(oe.connectionDetails),Qe=[];_.includes(oe.supportedAuthenticationTypes,f.d3.Basic)&&Qe.push(f.d3.Basic),_.includes(oe.supportedAuthenticationTypes,f.d3.OAuth2)&&Qe.push(f.d3.OAuth2),oe.supportedAuthenticationTypes=Qe;var He={modelId:X,datasourceId:oe.dataSourceId,dataSourceObjectId:oe.dataSourceObjectId,name:f.ye[oe.dataSourceType],oAuth2URL:oe.oAuth2Endpoint,oAuth2Nonce:oe.oAuth2Nonce,datasourceType:oe.dataSourceType,credentialTypes:oe.supportedAuthenticationTypes,credentialTypesNames:C(oe.supportedAuthenticationTypes,Ve),connectionStringGeneralProperties:T(Te),onpremGatewayRequired:!1,gatewayId:oe.gatewayId,gatewayObjectId:oe.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:oe.credentialDetails?null:Ve.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:oe.credentialDetails?p.x9.Passed:p.x9.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:oe.singleSignOnType};return He.fullName=O(He,Ve),He.displayName=A(He,Ve),He}function R(X,oe){return{importAndRefreshBehavior:X.importAndRefreshBehavior,refreshEnabled:X.refreshEnabled,refreshFrequency:ne(X),refreshDays:I(X.weekDays),refreshTimeWindowIndex:W(X.executionTime,oe),refreshTimesHourly:te(X.executionTimeHourly,oe),refreshTimeZoneId:X.localTimeZoneId,sendFailureEmail:!0,isRefreshable:X.isRefreshable,refreshNotificationEnabled:X.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function D(X,oe){var Ve=X.refreshSchedule,Te=R(Ve,oe);return 10080===Te.refreshFrequency&&Ve.refreshFrequency&&Ve.refreshFrequency===1440..toString()&&9===X.contentProviderId&&(Te.refreshFrequency=1440,Te.refreshEnabled=!0,X.nextRefreshTime&&((!Te.refreshTimesHourly||Te.refreshTimesHourly.length<1)&&(Te.refreshTimesHourly=function(X){var oe=u(X),Ve=oe.getMinutes(),Te=oe.getHours();return Ve>30?(Ve=0,++Te>24&&(Te-=24)):Ve=30,[{refreshHourIndex:(Te+11)%12,refreshMinuteIndex:Math.floor(Ve/30),refreshAmPmIndex:Math.floor(Te/12),isIncomplete:!1,isDuplicate:!1}]}(X.nextRefreshTime)),(!Te.refreshTimeWindowIndex||0===Te.refreshTimeWindowIndex)&&(Te.refreshTimeWindowIndex=function(X){var oe=u(X),Ve=oe.getHours();return oe.getMinutes()>30&&++Ve>24&&(Ve-=24),Ve}(X.nextRefreshTime)))),new p.$Z(X,X.id,X.displayName,X.description,4===X.lastRefreshStatus||2===X.lastRefreshStatus,_.isEmpty(X.refreshHistories)?"":X.refreshHistories[0].friendlyErrorMessage,u(X.nextRefreshTime).toString(),Te,X.parameters,oe)}function L(X,oe){var Ve=1440===X.refreshFrequency,Te=10080===X.refreshFrequency,Qe=null;Ve?Qe=c.r90:Te&&(Qe=B(X.refreshDays));var He=null;return!Ve&&!Te&&(He=X.refreshFrequency.toString()),{importAndRefreshBehavior:X.importAndRefreshBehavior,refreshEnabled:X.refreshEnabled,isDaily:1440===X.refreshFrequency,refreshFrequency:He,weekDays:Qe,executionTime:oe?U(6*X.refreshTimeWindowIndex):null,executionTimeHourly:oe?null:j(X.refreshTimesHourly),localTimeZoneId:X.refreshTimeZoneId,refreshNotificationEnabled:X.refreshNotificationEnabled,refreshContacts:X.refreshEmails.emailsList?X.refreshEmails.emailsList.inputUserList:[]}}function A(X,oe){switch(X.datasourceType){case f.ye.AnalysisServices:case f.ye.Oracle:case f.ye.SqlServer:case f.ye.MySql:case f.ye.PostgreSql:case f.ye.Sybase:case f.ye.Teradata:case f.ye.DB2:var Ve=void 0,Te=void 0,Qe=X.connectionStringGeneralProperties;if(!Qe)return f.ye[X.datasourceType];for(var He=Qe.length,Ce=0;Ce<He;Ce++){var de=Qe[Ce];"database"===de.name?Ve=de.value:"server"===de.name&&(Te=de.value)}return Ve||Te?(Ve||"")+(Ve&&Te?"-":"")+(Te||""):f.ye[X.datasourceType];case f.ye.Folder:case f.ye.File:var pe=_.find(X.connectionStringGeneralProperties,{name:"path"});return b.b$.extractFileNameFromPath(pe.value);case f.ye.Extension:return _.find(X.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case f.ye.AdoDotNet:var me=_.find(X.connectionStringGeneralProperties,{name:"workspaceId"}),be=_.find(X.connectionStringGeneralProperties,{name:"modelId"});return oe.format("SettingsDataset_AdoDotNetText",[me.value,be.value]);case f.ye.ActiveDirectory:case f.ye.AzureTable:case f.ye.AzureBlob:case f.ye.Web:case f.ye.OData:case f.ye.SharePoint:case f.ye.GoogleAnalytics:case f.ye.Exchange:case f.ye.Facebook:case f.ye.HDInsight:case f.ye.AzureMarketplace:case f.ye.Salesforce:case f.ye.SAPBW:case f.ye.SAP:case f.ye.OleDb:case f.ye.ODBC:case f.ye.Essbase:return f.ye[X.datasourceType];case f.ye.SharePointList:return"SharePoint";default:return X.name}}function O(X,oe){switch(+X.datasourceType){case f.ye.Folder:case f.ye.File:return _.find(X.connectionStringGeneralProperties,{name:"path"}).value;default:return A(X,oe)}}function N(X,oe){if(!_.isEmpty(X))for(var Ve=0,Te=X;Ve<Te.length;Ve++){var Qe=Te[Ve];Qe.displayName=A(Qe,oe),Qe.fullName=O(Qe,oe)}}function w(X){if(X){if(null!=X.clientCategory)return X.clientCategory;switch(X.category){case 1:case 3:case 6:return s.Bs.Service;case 2:case 5:case 4:case 7:return s.Bs.Organizational;default:v.fF.assertFail("Unknown content provider category")}}}function I(X){for(var oe=new Array,Ve=0;Ve<7;Ve++)oe[Ve]=1==(1&X),X>>=1;return oe}function B(X){for(var oe=0,Ve=6;Ve>=0;Ve--)oe<<=1,oe=!0===X[Ve]?1|oe:oe;return oe}function j(X){for(var oe=[],Ve=X.length,Te=0;Te<Ve;Te++){var Qe=X[Te],Ce=30*Qe.refreshMinuteIndex;oe.push(((Qe.refreshHourIndex+1)%12+12*Qe.refreshAmPmIndex).toString()+":"+(0===Ce?"00":Ce.toString())+":00")}return JSON.stringify(oe)}function W(X,oe){var Ve;if(X){var Te=X.split(":"),Qe=parseInt(Te[0],10);Qe>=0&&Qe<24?Ve=Math.floor(Qe/6):((0,h.Q)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Ve=0)}else Ve=0;return Ve}function U(X){var oe=new Date;oe.setHours(X),oe.setMinutes(0),oe.setSeconds(0);var Ve=oe.toTimeString(),Te=Ve.indexOf(" ");return Ve.substr(0,Te)}function te(X,oe){var Ve=[];if(X){try{var Te=JSON.parse(X)}catch(be){return void(0,h.Q)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var Qe=Te.length,He=0;He<Qe;He++){var de=Te[He].split(":"),pe=parseInt(de[0],10),le=parseInt(de[1],10);if(pe<0||pe>=24)(0,h.Q)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(le<0||le>=60)(0,h.Q)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var me={refreshHourIndex:(pe+11)%12,refreshMinuteIndex:Math.floor(le/30),refreshAmPmIndex:Math.floor(pe/12),isIncomplete:!1,isDuplicate:!1};Ve.push(me)}}}return Ve}function ee(X){return _.isEmpty(X.displayName)?X.qnaSupported:!0===X.qnaSupported&&(1===X.pushDataVersion||2===X.pushDataVersion||X.dataCacheMode===s.Vv.Import&&!1!==X.powerBIQnaEnabled||!!X.onPremModelConnectionString&&X.powerBIQnaEnabled||(X.dataCacheMode===s.Vv.DirectQuery||X.dataCacheMode===s.Vv.Mixed)&&X.powerBIQnaEnabled)}function J(X){return!(!X||X.dataCacheMode!==s.Vv.DirectQuery&&X.dataCacheMode!==s.Vv.Mixed&&_.isEmpty(X.onPremModelConnectionString))}function re(X){for(var oe=0,Ve=X.monikers;oe<Ve.length;oe++){var Qe=_.filter(Ve[oe].monikerDataSources,function(le){return null==le.dataSourceId});if(Qe&&0!==Qe.length){if(_.every(Qe,function(le){return!le.matchingDataSourceObjectIds||0===le.matchingDataSourceObjectIds.length}))return!0;for(var He=0,Ce=Qe;He<Ce.length;He++){var pe=_.map(Ce[He].matchingDataSourceObjectIds,function(le){return _.find(X.datasources,function(me){return me.dataSourceObjectId===le})});if(_.every(pe,function(le){return"Personal"!==(null==le?void 0:le.gatewayType)}))return!0}}}return!1}function G(X,oe){for(var Ve=[],Te=0,Qe=X.monikers;Te<Qe.length;Te++){var Ce=_.map(Qe[Te].monikerDataSources,function(pe){return pe.dataSourceObjectId});_.every(Ce,function(pe){return pe})&&Ve.push.apply(Ve,Ce||[])}return _.filter(X.datasources,function(pe){return(pe.gatewayObjectId===oe||!1===pe.onPremGatewayRequired)&&_.includes(Ve,pe.dataSourceObjectId)})}function ne(X){switch(v.fF.assertValue(X,"schedule"),parseInt(X.refreshFrequency,10)){case 15:return 15;case 30:return 30;case 60:return 60;case 120:return 120;case 180:return 180}return X.isDaily?1440:10080}},884765:function(Je,H,t){t.d(H,{f:function(){return v}});var e=t(358724),c=t(787941),s=t(261374),f=window,v=function(){function b(h,p,n){void 0===n&&(n=!1),this.redirectPath=h,this.appSettings=p,this.useMsPbi=n}return b.webRedirectUrlHelper=function(h){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new b("Redirect",h)),this._webRedirectUrlHelper},b.mobileRedirectUrlHelper=function(h){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new b("MobileRedirect.html",h)),this._mobileRedirectUrlHelper},b.prototype.getAppRedirectUrl=function(h,p,n,l){return c.fF.assertValue(p,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:h,context:l,appId:p,ctid:n})},b.prototype.getDashboardRedirectUrl=function(h,p,n,l,r,o,a,i){return c.fF.assert(function(){return"MSTeams"===a||"ChatInTeams"===a||!_.isEmpty(h)||!_.isEmpty(p)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue("MSTeams"===a||"ChatInTeams"===a||n,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:r,groupObjectId:h,appId:p,dashboardObjectId:n,ctid:l,tileId:o,pbi_source:a,openDashboardSource:i})},b.prototype.getReportRedirectUrl=function(h,p,n,l,r,o,a,i,m){c.fF.assert(function(){return"MSTeams"===i||"ChatInTeams"===i||!_.isEmpty(h)||!_.isEmpty(p)},"getReportRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue("MSTeams"===i||"ChatInTeams"===i||n,"getReportRedirectUrl: reportObjectId");var u={action:1===a?"OpenRdlReport":"OpenReport",context:o,groupObjectId:h,appId:p,reportObjectId:n,ctid:r,pbi_source:i,bookmarkGuid:m};return _.isEmpty(l)||(u.reportPage=l),this.getRedirectUrl(u)},b.prototype.getDatasetRedirectUrl=function(h,p,n,l){return c.fF.assert(function(){return"MSTeams"===l||"ChatInTeams"===l||!_.isEmpty(h)},"getDatasetRedirectUrl: groupId shouldn't be null"),c.fF.assertValue("MSTeams"===l||"ChatInTeams"===l||p,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:n,groupObjectId:h,datasetObjectId:p,pbi_source:l})},b.prototype.getScorecardRedirectUrl=function(h,p,n,l,r){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:h,scorecardObjectId:p,ctid:n,context:l,pbi_source:r})},b.prototype.getWorkbookRedirectUrl=function(h,p,n,l,r){return c.fF.assert(function(){return!_.isEmpty(h)||!_.isEmpty(p)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(n,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:r,groupObjectId:h,appId:p,workbookUniqueId:n,ctid:l})},b.prototype.getTileRedirectUrl=function(h,p,n,l,r){return c.fF.assert(function(){return!_.isEmpty(h)||!_.isEmpty(p)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(n,"getDashboardRedirectUrl: dashboardObjectId"),c.fF.assertValue(l,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:r,groupObjectId:h,appId:p,dashboardObjectId:n,tileObjectId:l})},b.prototype.getServiceAppInstallRedirectUrl=function(h,p,n,l){c.fF.assertValue(h,"getAppRedirectUrl: appKey"),c.fF.assertValue(p,"getAppRedirectUrl: packageKey");var r={action:"InstallApp",appId:h,packageKey:p.replace("=",""),ownerId:n};_.isEmpty(l)||(r.buildVersion=l);var a=(window.location.protocol+"//"+window.location.host).replace(f.baseUrl,f.feUrl);return this.getRedirectUrl(r,a)},b.prototype.getLineageViewRedirectUrl=function(h,p){return c.fF.assert(function(){return!_.isEmpty(h)},"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),c.fF.assertValue(p,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:h,reportObjectId:p})},b.prototype.getRedirectUrl=function(h,p){if(c.fF.assertValue(h,"getRedirectUrl: params"),this.useMsPbi){var n=h.action;return h=this.removeEmptyParams(h,this.useMsPbi),(0,s.W)("{0}/{1}?{2}","mspbi://app",n,$.param(h))}return h=this.removeEmptyParams(h),(0,s.W)("{0}/{1}?{2}",p||this.appSettings.baseUrl,this.redirectPath,$.param(h))},b.prototype.removeEmptyParams=function(h,p){void 0===p&&(p=!1);var n=[];return(_.isEmpty(h.groupObjectId)||h.groupObjectId===e.wku)&&n.push("groupObjectId"),_.isEmpty(h.appId)&&n.push("appId"),_.isEmpty(h.context)&&n.push("context"),_.isEmpty(h.reportObjectId)&&n.push("reportObjectId"),_.isEmpty(h.ctid)&&n.push("ctid"),_.isEmpty(h.openDashboardSource)&&n.push("openDashboardSource"),_.isEmpty(h.tileId)&&n.push("tileId"),_.isEmpty(h.dashboardObjectId)&&n.push("dashboardObjectId"),_.isEmpty(h.bookmarkGuid)&&n.push("bookmarkGuid"),_.isEmpty(h.pbi_source)&&n.push("pbi_source"),(_.isEmpty(h.action)||p)&&n.push("action"),n.length>0&&(h=_.omit(h,n)),h},b}()},84867:function(Je,H,t){t.d(H,{B:function(){return s},V:function(){return c}});var e=t(787941);function c(f){switch(f){case 0:return"Master";case 1:return"PhonePortrait";default:e.fF.assertFail("Unsupported telemetry canvas layout")}return null}var s=function(){function f(v){this.options=v}return f.prototype.start=function(v){this.reject(),this.event=v()},f.prototype.resolve=function(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)},f.prototype.reject=function(v){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,v),this.event.reject(v),this.event=void 0)},f}()},909748:function(Je,H,t){function e(c,s,f){var v=_.trim(c),b=_.trim(s);return _.isEmpty(v)?f||"":_.isEmpty(b)?v:"".concat(v," ").concat(b)}t.d(H,{P:function(){return e}})},406585:function(Je,H,t){t.d(H,{Y:function(){return c}});var e=t(787941),c=function(){function s(){this.css={},this.elems=[]}return s.prototype.setDimensionBehavior=function(f){this.skipJqueryDimension=f},s.prototype.addAttributes=function(f){for(var v in f)this.css[v]=f[v]},s.prototype.element=function(f){e.fF.assertValue(f,"element"),this.elems=[f]},s.prototype.addElement=function(f){e.fF.assertValue(f,"element"),this.elems.push(f)},s.prototype.removeElement=function(f){e.fF.assertValue(f,"element"),_.pull(this.elems,f)},s.prototype.position=function(f){e.fF.assertValue(f,"position");var v=this.css;v.WebkitTransform=v.transform="translate("+f.x+"px, "+f.y+"px)"},s.prototype.viewport=function(f){e.fF.assertValue(f,"viewport");var v=this.css;v.height=f.height,v.width=f.width},s.prototype.zIndex=function(f){e.fF.assertValue(f,"zIndex"),this.css.zIndex=f},s.prototype.rotate=function(f){if(e.fF.assertValue(f,"rotate angle"),f){var v=this.css;v.WebkitTransform=v.transform+=" rotate("+f+"deg)"}},s.prototype.apply=function(f){if(this.skipJqueryDimension)if(f)this.applyStyleWithoutDimensionHooks(f);else for(var v=0,b=this.elems;v<b.length;v++)this.applyStyleWithoutDimensionHooks(b[v]);else if(f)f.css(this.css);else for(var p=0,n=this.elems;p<n.length;p++)n[p].css(this.css)},s.prototype.applyStyleWithoutDimensionHooks=function(f){var v=f.get(0);null!=this.css.height&&(v.style.height="".concat(this.css.height,"px")),null!=this.css.width&&(v.style.width="".concat(this.css.width,"px"));var b=_.omit(this.css,["height","width"]);f.css(b)},s.prototype.getCss=function(){return this.css},s}()},749559:function(Je,H,t){t.d(H,{Rb:function(){return c},XM:function(){return m},be:function(){return l},bq:function(){return p},u:function(){return e},ws:function(){return s}});var e=5,c=1e3,s=100;function p(){return 7}function l(){return 7}var m=function(u){return u[u.drag=0]="drag",u[u.resizing=1]="resizing",u[u.resized=2]="resized",u[u.refresh=3]="refresh",u}({})},654218:function(Je,H,t){t.d(H,{Q:function(){return s}});var e=t(613181),c=t(749559),s=function(){function f(){this.resizeBuffer=10,this.isLayoutLocked=!1,this.willOverrideDisplayPosition=!1,this.gridWidth=e.A4,this.gridHeight=e.lT,this.gridItemSpacing=e.zy,this.gridMinWidthOnResize=this.gridWidth-this.resizeBuffer,this.gridMinHeightOnResize=this.gridHeight-this.resizeBuffer,this.gridMaxWidthOnResize=this.gridWidth*(0,c.bq)(),this.gridMaxHeightOnResize=this.gridHeight*(0,c.bq)(),this.isDynamic=!1}return f.prototype.calculateDisplayPositions=function(v){for(var b=0,h=v;b<h.length;b++)h[b].clearOverrides()},f.prototype.calculateDisplaySize=function(v){},f}()},462549:function(Je,H,t){t.d(H,{SS:function(){return c},rg:function(){return f}});var c=function(){function v(){}return v.Normal="normal",v.Elevated="elevated",v}(),f=function(){return function(b,h,p,n,l,r,o){void 0===l&&(l=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),this.localizationService=n,this.isConfirmButtonDisabled=b,this.confirmButtonText=h,this.autoCloseDialogOnConfirmButtonSelected=p,this.cancelButtonText=this.localizationService.get("ModalDialog_Cancel"),this.contentFilledDialog=l,this.hideActionsButtons=r,this.hideCancelButton=o,this.confirmButtonImportance=c.Normal,this.cancelButtonImportance=c.Normal}}()},12617:function(Je,H,t){t.d(H,{H:function(){return v}});var e=t(226514),c=t(497610),s=t(49404),v=function(b){function h(p){var n=b.call(this)||this;return n.contract=p,n.isRefreshInProgress=!1,n.uniqueId=h.getUniqueId(p.id,p.packageId),n.categories=0,n}return(0,e.__extends)(h,b),h.prototype.getPermissions=function(){var p;return this.getPermissionsCallback&&null!=(p=this.getPermissionsCallback())?p:this.contract&&this.contract.permissions},Object.defineProperty(h.prototype,"hasError",{get:function(){return this.contract&&(2===this.packagePublishStatus||4===this.packagePublishStatus||2===this.contract.lastRefreshStatus||4===this.contract.lastRefreshStatus)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lastRefreshTimeInLocaleString",{get:function(){var n=this.getLastRefreshTime();if(n)return n.toLocaleString()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lastRefreshEpochTime",{get:function(){var n=this.getLastRefreshTime();if(n)return n.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contentTileType",{get:function(){return c.ty.Dataset},enumerable:!1,configurable:!0}),h.prototype.getRefreshDisabledReason=function(){var p;return null!==(p=this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)&&void 0!==p?p:0},h.getUniqueId=function(p,n){return"".concat(c.ty.Dataset,"_").concat(p,"_").concat(n)},h.prototype.getLastRefreshTime=function(){var p=this.contract;return(0,s.ee)(p.onPremModelConnectionString?p.lastTimeAModelChangeWasDetectedInTheCluster:p.lastRefreshTime)},h}(t(184343)._)},967480:function(Je,H,t){t.d(H,{Y:function(){return b},y:function(){return v}});var e=t(226514),c=t(497610),s=t(725182),v=function(h){function p(n){var l=h.call(this,void 0===n?0:n.id,0,void 0===n?0:n.packageId)||this;return l.contract=n,l.isRefreshInProgress=!1,l.reportType=l.contract&&1===l.contract.reportType?1:0,l.contentTileType=1===l.reportType?c.ty.RdlReport:c.ty.Report,l}return(0,e.__extends)(p,h),p.prototype.getPermissions=function(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions},Object.defineProperty(p.prototype,"canWrite",{get:function(){return(0,s.yE)(this.getPermissions(),b.Write)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canCopy",{get:function(){return(0,s.yE)(this.getPermissions(),b.CopyOnWrite)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canExplore",{get:function(){return(0,s.yE)(this.getPermissions(),b.Explore)},enumerable:!1,configurable:!0}),p}(t(422255).H),b=function(h){return h[h.None=0]="None",h[h.Read=1]="Read",h[h.Write=2]="Write",h[h.ReShare=4]="ReShare",h[h.Explore=8]="Explore",h[h.CopyOnWrite=17]="CopyOnWrite",h[h.ReadWrite=3]="ReadWrite",h[h.ReadReshare=5]="ReadReshare",h[h.Personalized=11]="Personalized",h[h.All=7]="All",h}({})},422255:function(Je,H,t){t.d(H,{H:function(){return s}});var e=t(226514),s=function(f){function v(b,h,p){var n=f.call(this,h)||this;return n.uniqueId=v.getUniqueId(h,b,p),n}return(0,e.__extends)(v,f),v.getUniqueId=function(b,h,p){return b+"_"+h+"_"+p},v}(t(184343)._)},184343:function(Je,H,t){t.d(H,{_:function(){return e}});var e=function(){return function(s){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=s}}()},588078:function(Je,H,t){t.d(H,{$Z:function(){return b},a0:function(){return v},a6:function(){return h},x9:function(){return f}});var e=t(358724),c=t(497610),s=t(239144),f=function(p){return p[p.NotSpecified=0]="NotSpecified",p[p.NotStart=1]="NotStart",p[p.Progressing=2]="Progressing",p[p.Failed=3]="Failed",p[p.Passed=4]="Passed",p}({}),v=function(){function p(n,l){this.localizationService=l,this.refreshSettings=n,this.refreshSectionExpand=!1}return Object.defineProperty(p.prototype,"showWeekDays",{get:function(){return 10080===this.refreshSettings.refreshFrequency},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showRefreshTimeInfo",{get:function(){var l=this.refreshSettings.refreshFrequency;return 1440===l||10080===l},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshFrequencyString",{get:function(){return this.refreshSettings.refreshFrequency.toString()},set:function(l){this.refreshSettings.refreshFrequency=parseInt(l,10)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"weekdayKeys",{get:function(){return h.weekdayKeys()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeWindows",{get:function(){return h.refreshTimeWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeHourWindows",{get:function(){return h.refreshTimeHourWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeMinuteWindows",{get:function(){return h.refreshTimeMinuteWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeAmPmWindows",{get:function(){return h.refreshTimeAmPmWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeZones",{get:function(){return h.refreshTimeZones(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"refreshTimeZonesViewModel",{get:function(){return h.refreshTimeZonesViewModel(this.localizationService)},enumerable:!1,configurable:!0}),p}(),b=function(){function p(n,l,r,o,a,i,m,u,V,d){this.localizationService=d,this.contract=n,this.modelId=l,this.name=r,this.description=o,this.lastRefreshFailed=a,this.lastRefreshFailedMessage=i,this.nextRefresh=m,this.refreshSettingsModel=new v(u,d),this.parameters=V,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=null==n?void 0:n.paSupported,this.paEnabled=null==n?void 0:n.paEnabled,this.paSettings=null==n?void 0:n.paSettings,this.hasAggregationTable=null==n?void 0:n.hasAggregationTable,this.directLakeAutoSync=null==n?void 0:n.directLakeAutoSync,this.directLakeMode=null==n?void 0:n.directLakeMode,this.directLakeAutoSyncResult=null==n?void 0:n.directLakeAutoSyncResult,this.storageMode=null==n?void 0:n.storageMode,this.isQsoSupported=null==n?void 0:n.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=null==n?void 0:n.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=null==n?void 0:n.qsoCommitVersionTimestamp}return Object.defineProperty(p.prototype,"takeoverStatusText",{get:function(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"takeoverButtonText",{get:function(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasDatasourceWithWrongCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(l){return!l.isCloudDirectQuery&&l.testConnectionState!==f.Passed})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showSkipTestConnectionWarning",{get:function(){return _.some(this.datasources,function(l){return!0===l.skipTestConnection})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasDirectQueryDatasourceWithMissingCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(l){return l.isCloudDirectQuery&&l.testConnectionState===f.Failed})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasRDataSource",{get:function(){return this.datasources&&_.some(this.datasources,function(l){return l.datasourceType===s.ye.Extension&&(l.name===e.kJ$||l.fullName===e.kJ$)})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isPlainDirectQueryOrOnPremModel",{get:function(){return p.isPlainDirectQueryOrOnPremModel(this.contract)},enumerable:!1,configurable:!0}),p.isPlainDirectQueryOrOnPremModel=function(n){return n.dataCacheMode===c.Vv.DirectQuery||!_.isEmpty(n.onPremModelConnectionString)},p.prototype.getTakeoverStatusTextForUser=function(n){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+n+'">'+n+"</a>"])},p}(),h=function(){function p(){}return p.weekdayKeys=function(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]},p.refreshTimeWindows=function(n){return[n.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),n.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),n.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),n.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]},p.refreshTimeHourWindows=function(n){return[n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),n.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]},p.refreshTimeMinuteWindows=function(n){return[n.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),n.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]},p.refreshTimeAmPmWindows=function(n){return[n.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),n.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]},p.refreshTimeZones=function(n){return{"Dateline Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":n.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":n.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":n.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":n.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:n.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":n.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":n.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}},p.refreshTimeZonesViewModel=function(n){var l=[];return _.forOwn(this.refreshTimeZones(n),function(r,o){l.push({key:o,value:r})}),l},p}()},75554:function(Je,H,t){function e(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}t.d(H,{Q:function(){return e}})},819523:function(Je,H,t){t.d(H,{y:function(){return h}});var e=t(787941),c=t(826691),s=t(261374),h=function(){function p(n,l){this.promiseFactory=n,this.httpService=l,e.fF.assertValue(n,"promiseFactory"),e.fF.assertValue(l,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}return p.prototype.startMonitoring=function(n){var l=this;void 0===n&&(n=0),this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(function(){l.sendLongPollRequest()},n))},p.prototype.setLongPollInitialized=function(n){this.longPollInitialized=n},p.prototype.cancelCurrentRequest=function(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)},p.prototype.pause=function(){this.paused=!0,this.cancelCurrentRequest()},p.prototype.resume=function(){this.paused=!1,this.startMonitoring()},p.prototype.trySendRequest=function(n){var l=this.requestOptions,r=l.headers.Authorization,o=!1;if(r){var a=r.split(" ");o=a.length>1&&!(0,s.g)(a[1])&&"undefined"!==a[1]}if(o)return this.httpService.post(this.getEndpointUrl(),{request:n},l);c.f.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")},Object.defineProperty(p.prototype,"requestHeader",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"longPollDurationInMs",{get:function(){return 6e4},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"requestOptions",{get:function(){var l=this,r=this.requestDeferred;e.fF.assertValue(r,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(function(){l.lastLongPollTimedOut=!0,r.resolve(null)},this.longPollDurationInMs);var o=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return o.retryCount=0,o.timeout=r.promise,o.silentlyFailOnExpiry=!0,o},enumerable:!1,configurable:!0}),p.prototype.sendLongPollRequest=function(){var n=this;if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var l=this.getRequest();if(!l)return void this.reset();var r=this.trySendRequest(l);if(!r)return;r.then(function(o){n.retryCount=0,n.requestDeferred.resolve(null),n.processResponse(o.data),n.sendLongPollRequest()},function(o){n.requestDeferred.resolve(null),n.lastLongPollTimedOut?(n.retryCount=0,n.sendLongPollRequest()):n.lastLongPollCancelled?n.retryCount=0:n.retryCount<3?(n.retryCount++,n.sendLongPollRequest()):(n.processError(o&&o.error),n.suspend())})}},p.prototype.suspend=function(){var n=this,l=this.promiseFactory.defer();l.promise.then(function(){n.cancelCurrentRequest(),n.startMonitoring()}),this.httpService.registerResponseCallback(function o(a){a&&(n.httpService.unregisterResponseCallback(o),l.resolve(null))}),setTimeout(function(){l.resolve(null)},12e4)},p.prototype.reset=function(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1},p}()},784683:function(Je,H,t){t.d(H,{z:function(){return p}});var e=t(226514),c=t(37743),s=t(787941),f=t(778186),v=t(543054),b=window;function h(n,l,r,o){void 0===r&&(r=!0);var m,u,a=(0,f.Xr)(),i="";switch(r&&(i=c.s.getQueryStringValue("unmin")?"":".min"),l){case 0:m="scripts",u=".js";break;case 1:m="styles",u=".css";break;case 2:m="externals",u=".js";break;case 3:m="externals",u=".css";break;default:s.fF.assertNever(l)}var V=[a];if("True"===b.useCDN&&b.hashMappings){var d=void 0;d=o?[o,m,"".concat(n).concat(i).concat(u)].join("/"):[m,"".concat(n).concat(i).concat(u)].join("/");var S=(0,v.i)();S.isRtlLayout&&(1===l||3===l)&&(d=d.indexOf(".min")>-1?d.replace(".min.css",".rtl.min.css"):d.replace(".css",".rtl.css"));var g=b.hashMappings[d];if(!g&&S.isRtlLayout&&(1===l||3===l)&&(d=d.replace(".rtl.min.css",".min.rtl.css"),g=b.hashMappings[d]),g)return[V=b.cdnUrl,g.substring(0,g.indexOf(u))].join("/")}return o&&V.push(o),(0,e.__spreadArray)((0,e.__spreadArray)([],V||[],!0),[m,"".concat(n).concat(i)],!1).join("/")}function p(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":h("angular-ui-datetimepicker",2,!0),"d3-array":h("d3-array",2,!0),"d3-geo":h("d3-geo",2,!0),"es6-promise":h("es6-promise",2,!0),filesaver:h("filesaver",2,!0),"jquery-qrcode":h("jquery-qrcode",2,!0),"jquery-ui":h("jquery-ui",2,!0),msrcrypto:h("msrcrypto",2,!0),ngTagsInput:h("ngTagsInput",2,!0),pubnub:h("pubnub",2,!0),quill:h("quill",2,!0),resizeSensor:h("resizeSensor",2,!0),"powerbi-models":h("powerbi-models",2,!0),topojson:h("topojson",2,!0),cropperjs:h("cropper",2,!0),"globalize.cultures":h("jquery.globalize/globalize.cultures",0,!1)},bundles:{},cssPaths:{"jquery-ui":h("jquery-ui.min",3,!1),ngTagsInput:h("ngTagsInput",3,!0),"quill.core":h("quill.core",3,!1),cropperjs:h("cropper",3,!1),accessibleTableVisual:h("accessibleTableVisual",1,!0),adminPortal:h("adminPortal",1,!0),advancedSlicerVisual:h("advancedSlicerVisual",1,!0),aiNarrativesVisual:h("aiNarrativesVisual",1,!0),azureMapVisuals:h("azureMapVisuals",1,!0),capacityAdmin:h("capacityAdmin",1,!0),cardVisual:h("cardVisual",1,!0),exploreUIDialogs:h("exploreUIDialogs",1,!0),getData:h("getData",1,!0),mobileAuthoring:h("mobileAuthoring",1,!0),permissions:h("permissions",1,!0),pivotTableVisuals:h("pivotTableVisuals",1,!0),rdlVisual:h("rdlVisual",1,!0),scorecardVisual:h("scorecardVisual",1,!0),settings:h("settings",1,!0),sharing:h("sharing",1,!0)}}}},221364:function(Je,H,t){t.d(H,{I:function(){return s}});var e=t(912126),c=t(454869);function s(f,v,b){return(0,c.I)((0,e.k2)(f,v),b)}},320569:function(Je,H,t){t.d(H,{CJ:function(){return a},I:function(){return s},Zg:function(){return f},a9:function(){return r},av:function(){return o},eg:function(){return p},gY:function(){return n},jm:function(){return E},lV:function(){return v},lZ:function(){return l},p2:function(){return V},sw:function(){return m}});var e=t(654218),c=t(613181),s=44,f=50,v=4,p=1,n=1,l=2*p,r=2*n,o=3*p,a=3*n;function m(){return{rowSpan:l,colSpan:r}}function V(M){return{height:M.rowSpan*c.lT-c.zy,width:M.colSpan*c.A4-c.zy}}function E(){return{strategy:new e.Q,displayLayout:0,skipVisualManualUpdate:!1,setViewport:_.noop,resetZoom:_.noop,setStrategy:_.noop}}m()},613181:function(Je,H,t){t.d(H,{A4:function(){return e},lT:function(){return c},zy:function(){return s}});var e=260,c=180,s=10},456232:function(Je,H,t){t.d(H,{Ue:function(){return f},pi:function(){return b},rc:function(){return c},yx:function(){return s}});var e=t(831917),c="x-powerbi-error-info",s="x-powerbi-error-details";function f(h,p,n,l){var r={method:h,url:p};return void 0!==l&&(r.data=l),Object.assign(r,n)}function b(h){(0,e.hG)().httpService=h}},72911:function(Je,H,t){t.d(H,{h1:function(){return c},oY:function(){return s},pm:function(){return b}});var e=t(831917);function c(p){return p||(0,e.hG)().localize}function s(p){(0,e.hG)().localize=p}function b(){return(0,e.hG)().localizedStrings}},823542:function(Je,H,t){t.d(H,{n$:function(){return c},uD:function(){return f}});var e=t(831917);function c(){return(0,e.hG)().cultureInfo}function f(){return(0,e.hG)().unmappedCultureInfo}},915716:function(Je,H,t){t.d(H,{z:function(){return b}});var e=t(630326),c=t(358724),s=t(787941),f=t(608014),v=t(919439);function b(a,i,m,u){return new o(a,i,m,u)}var h="overlayActive",p="overlay",o=function(){function a(i,m,u,V){var d=this;this.root=u,this.rtl=V,this.dropdowns=[],this.$window=$(i).on(f.Ti+".overlayService",function(S){return d.mouseClickHideDialog(S,d.dropdowns)}).on("resize.overlayService",function(){return d.hideAllDropdowns()}),this.root=u||$("body")}return a.prototype.onDestroy=function(){$(this.$window).off(f.Ti+".overlayService"),$(this.$window).off("resize.overlayService")},a.prototype.register=function(i,m){this.dropdowns.push({element:i}),i.addClass(p).appendTo(m||this.root)},a.prototype.unregister=function(i){_.remove(this.dropdowns,function(m){return m.element.is(i)}),i.removeClass(p).removeClass(h).remove()},a.prototype.isRegistered=function(i){return _.some(this.dropdowns,function(m){return m.element.is(i)})},a.prototype.mouseClickHideDialog=function(i,m){var u=this;!_.some(this.dropdowns,function(d){return d.element.hasClass(h)&&!u.outOfBoundsClickHandler(i,d.element)})&&this.hideAllDropdowns(!0)},a.prototype.showOverlay=function(i,m){var u=this;if(s.fF.assert(function(){return+!(!m.anchorElement&&!m.anchorDimensions)+ +!!m.position==1},"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),s.fF.assert(function(){return i.length>0},"element to show does not exist."),m.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,i),i.addClass(h),i.attr("aria-modal","false"),i.attr("role","dialog"),m.anchorElement||m.anchorDimensions){m.blurNeeded&&this.registerBlurHandler(m.anchorElement,m.disableAnimation);var V=m.anchorDimensions||(0,v.E)(m.anchorElement);this.repositionDropdownWithAnchorCoordinates(i,V,!!m.preferLeft,m.horizontal,m.showOutsideAnchorElement,m.showIndicator,m.scale)}else m.position&&m.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(i,{left:m.position.x,top:m.position.y,width:0,height:0},!!m.preferLeft,!1,m.showOutsideAnchorElement,m.showIndicator,m.scale):m.position&&this.repositionDropdown(i,m.position);var d=_.filter(this.dropdowns,function(y){return y.element.is(i)});if(!_.isEmpty(d)){var S=d[0];S.escHandler=function(y){u.keyPress(y,S,m.anchorElement)};var g=S.element.get(0);g&&g.addEventListener("keydown",S.escHandler),S.isModal=m.isModal,S.returnFocusToElement=m.returnFocusToElement}this.registerScrollHandler(),e.IK.focusChildInGroup(i.get(0))},a.prototype.registerScrollHandler=function(){var i=this;setTimeout(function(){return i.registerScrollHandlerCore()})},a.prototype.registerScrollHandlerCore=function(){var i=this;this.scrollEventListener||(this.scrollEventListener=function(m){i.isResizeSensorScrollEvent(m)||$(m.target).parents().addBack().hasClass(h)||i.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))},a.prototype.unregisterScrollHandler=function(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0},a.prototype.keyPress=function(i,m,u){!i.skipOverlayServiceEscHandler&&27===i.keyCode&&(u&&u.focus(),this.hideDropdown(m,!0),i.stopPropagation())},a.prototype.registerBlurHandler=function(i,m){var u=this;i.on("focusout.overlay",function(V){i.off("focusout.overlay"),setTimeout(function(){return u.hideAllDropdowns(!!m)})})},a.prototype.getOverlayElement=function(i,m){var u=this.getOverlaySelector(i);return m?m.siblings(u):$(u)},a.prototype.getOverlaySelector=function(i){return'[dropdown-overlay-name="'.concat(i,'"]')},a.prototype.outOfBoundsClickHandler=function(i,m){return!$(i.target).parents().addBack().hasClass(h)},a.prototype.repositionDropdownWithAnchorCoordinates=function(i,m,u,V,d,S,g){var T,x,A,O,N,y=this.$window.width(),C=this.$window.height(),E=i.find(".explorationAppBarMenu"),M=E.length?E.outerWidth(!0):i.outerWidth(!0),P=E.length?E.outerHeight(!0):i.outerHeight(!0),R=null==g?M:M*g,D=null==g?P:P*g,L=S?16:0,F=S?Math.floor(Math.sqrt(L*L+L*L)/2):0;if(V){var w=void 0,I=void 0,B=void 0;I=m.left,x=(N=D+(w=m.top)-L>C)?w+m.height-P+L:w-L,this.rtl&&this.rtl.isRtlLayout?(O=!(j=(B=I)-R-F<0),T=j?B+F:B-M-F):(O=j=R+(B=I+m.width)+F>y,T=j?B-M-F:B+F),d&&T+M>=I&&T<B&&(T=I-M)}else{var j;I=void 0,x=(N=D+(w=m.top+m.height)-L>C)?w-P+L:w-L,u||this.rtl&&this.rtl.isRtlLayout?(O=!(j=(I=m.left+m.width)-M-F<0),T=j?I-m.width+F:I-M-F):T=(O=j=M+(I=m.left)+F>y)?I+m.width-M-F:I+F,T<0&&(T=I)}x<0&&(x=10);var W={x:Math.ceil(T),y:x};if(S){var U=m.top-W.y-L/2;U<0?U+=L:U>i.height()-L&&(U-=L),A={top:U},W.x>=m.left?A.left=-8:A.right=-8}this.repositionDropdown(i,W,A,g,O,N)},a.prototype.repositionDropdown=function(i,m,u,V,d,S){if(u){var g="top: ".concat(u.top,"px"),y=u.left?"left: ".concat(u.left,"px"):"right: ".concat(u.right,"px"),C="height: ".concat(16,"px;width: ").concat(16,"px"),E="position: absolute;transform: rotate(45deg);".concat(C,";").concat(g,";").concat(y,";"),M='<div class="indicator" style="'.concat(E,'"></div>');i.append($.parseHTML(M))}var P={top:m.y,left:m.x};void 0!==V&&(P.transform="scale(".concat(V,")"),P["transform-origin"]="".concat(d?"right":"left"," ").concat(S?"bottom":"top")),i.css(P)},a.prototype.hideAllDropdowns=function(i,m,u){var V;m||(V=_.find(this.dropdowns,function(d){return d.isModal})),this.hideAllDropdownsExcept(i,V&&V.element)},a.prototype.hideAllDropdownsExcept=function(i,m){for(var u=[],V=0,d=this.dropdowns;V<d.length;V++){var S=d[V];S&&!S.element.is(m)&&S.element.hasClass(h)&&(this.hideDropdown(S,i),u.push(S))}this.removeAllFromRegister(u)},a.prototype.hideDropdown=function(i,m){var u=this;if(i.escHandler){var V=i.element.get(0);V&&V.removeEventListener("keydown",i.escHandler),i.escHandler=null}i.returnFocusToElement&&i.returnFocusToElement.focus(),m?this.hideOverlay(i):i.element.animate({opacity:0},250,function(){return u.hideOverlay(i)}),this.unregisterScrollHandler(),this.removeSingleFromRegister(i)},a.prototype.removeSingleFromRegister=function(i){i.element.trigger(c.HV_)},a.prototype.removeAllFromRegister=function(i){_.forEach(i,function(m){return m.element.trigger(c.HV_)})},a.prototype.hideOverlay=function(i){i.element.removeClass(h).removeAttr("style")},a.prototype.isResizeSensorScrollEvent=function(i){return i&&$(i.target).parent().hasClass("ResizeSensor")},a}()},446077:function(Je,H,t){function e(c){var s=[];for(var f in c){var v=c[f];!v.start||!v.end||s.push({start:new Date(v.start).toISOString(),end:new Date(v.end).toISOString(),startEval:v.startEval?new Date(v.startEval).toISOString():void 0,endEval:v.endEval?new Date(v.endEval).toISOString():void 0,fileName:f})}return s}t.d(H,{p:function(){return e}})},543054:function(Je,H,t){t.d(H,{B:function(){return c},i:function(){return s}});var e=t(831917);function c(){return(0,e.hG)().isCurrentContextRtl}function s(){return{isRtlLayout:"True"===c()}}},227185:function(Je,H,t){t.d(H,{K:function(){return v},W:function(){return f}});var e=t(776791),c=t(177497),s=t(433992);function f(b,h){return null==b?!h:"string"==typeof b&&(0,c.cu)(b)}function v(b,h,p){void 0===h&&(h=[]);var n=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],l=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],r=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(n,l,h);try{var o=(0,e.K)(b);if(_.isObject(o)&&!_.isArray(o)&&!p){var i=o.name;if(!i||!_.isString(i))throw new Error("Theme name missing");var m=o.dataColors;if(null!=m&&(!_.isArray(m)||_.some(m,function(y){return!f(y,!0)})))throw new Error("Invalid theme data colors");for(var u=0,V=n;u<V.length;u++)if(!f(o[d=V[u]],!1))throw new Error("Invalid theme data color");for(var d in o)if(-1===r.indexOf(d))throw new Error("Invalid theme field: "+d);var S=o.textClasses;if(!_.isEmpty(S))for(var d in S)if(-1===l.indexOf(d))throw new Error("Invalid theme text class: "+d)}if(o){if(!_.isEmpty(o.dataColors)){var g=s.ng.getDefaultColors();o.dataColors.length<g.length&&(o.dataColors=o.dataColors.concat(g.slice(o.dataColors.length).map(function(y){return y.value})))}return o}}catch(y){}}},834189:function(Je,H,t){function f(b){return new v(b)}t.d(H,{i0:function(){return f}});var v=function(){function b(h){this.promiseFactory=h,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}return b.prototype.setTimeout=function(h,p){void 0===h&&(h=0),void 0===p&&(p=!1);var n=this.promiseFactory.defer(p),l=50,r=this.queueDictionaryForBigDelays;h<=100&&(l=5,r=this.queueDictionaryForSmallDelays);var o=-1===h?-1:h?Math.ceil((Date.now()+h)/l):0,a=r[o];if(!a){a=r[o]=[];var i=function(){delete r[o],_.forEach(a,function(u){return u.resolve(null)})};-1===h?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",i):window.setTimeout(i,h)}return a.push(n),n},b}()},135487:function(Je,H,t){t.d(H,{$9:function(){return we},$d:function(){return De},Bl:function(){return Nr},CF:function(){return X},F4:function(){return rr},F5:function(){return nt},Fx:function(){return gr},G7:function(){return O},GA:function(){return y},Gf:function(){return V},Gl:function(){return Z},Jw:function(){return me},Ob:function(){return ve},P9:function(){return Be},PI:function(){return it},SR:function(){return Ce},Sh:function(){return k},Sj:function(){return Qe},Sr:function(){return ei},VV:function(){return J},Wc:function(){return Rr},Wm:function(){return Ve},Xv:function(){return F},ZD:function(){return Pe},_$:function(){return Ee},_m:function(){return gt},aR:function(){return ie},ao:function(){return wr},bD:function(){return Wt},be:function(){return St},eU:function(){return G},eg:function(){return Oe},f8:function(){return Re},fS:function(){return kt},fq:function(){return W},gP:function(){return D},gc:function(){return S},gu:function(){return nr},iE:function(){return zr},j6:function(){return pt},jD:function(){return xt},kG:function(){return dr},lj:function(){return B},lt:function(){return Pr},q0:function(){return Hr},qN:function(){return ut},qi:function(){return dt},rM:function(){return Ar},ty:function(){return ae},uL:function(){return v},vE:function(){return Xe},vF:function(){return at},xT:function(){return te},xb:function(){return E},xo:function(){return $r},xx:function(){return w},zu:function(){return pe}});var e=t(853811),c="PBI.Dashboard.BITokenRefreshPrompt",f=(e.cx[c]=(0,e.b1)(c),"PBI.Dashboard.FailedToRefreshToken"),v=e.cx[f]=(0,e.b1)(f),b="PBI.Dashboard.OpenLink",p=(e.cx[b]=(0,e.b1)(b),"PBI.MashUpContentProvider.ConnectButtonClicked"),l=(e.cx[p]=(0,e.b1)(p),"PBI.MashUpContentProvider.OrgAppPassThrough"),o=(e.cx[l]=(0,e.b1)(l),"PBI.MashUpContentProvider.PreparePackageSucceed"),i=(e.cx[o]=(0,e.b1)(o),"PBI.MashUpContentProvider.GetPackageModels"),u=(e.cx[i]=(0,e.b1)(i),"PBI.MashUpContentProvider.SaveModelParameters"),V=e.cx[u]=(0,e.b1)(u),d="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",S=e.cx[d]=(0,e.b1)(d),g="PBI.MashUpContentProvider.UpdateDatasource",y=e.cx[g]=(0,e.b1)(g),C="PBI.MashUpContentProvider.ValidateParameters",E=e.cx[C]=(0,e.b1)(C),M="PBI.ContentProvider.UrlParametersPassed",T=(e.cx[M]=(0,e.b1)(M),"PBI.ContentProvider.UrlParametersDecodingFailed"),R=(e.cx[T]=(0,e.b1)(T),"PBI.ContentProvider.Http.GetContentProviders"),D=e.cx[R]=(0,e.b1)(R),L="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",F=e.cx[L]=(0,e.b1)(L),A="PBI.Dashboard.ParametersDialogSaveParameters",O=e.cx[A]=(0,e.b1)(A),N="PBI.Dashboard.RefreshNowFailedToRetrieveModel",w=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.AuthenticationDialogSaveCredentials",B=e.cx[I]=(0,e.b1)(I),j="PBI.Dashboard.RetrieveGateway",W=e.cx[j]=(0,e.b1)(j),U="PBI.Dashboard.PrepareRefreshNow",k=e.cx[U]=(0,e.b1)(U),Q="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",te=e.cx[Q]=(0,e.b1)(Q),ee="PBI.Dashboard.DatasetRefresh",J=e.cx[ee]=(0,e.b1)(ee),re="PBI.Dashboard.DatasetRefreshCancellation",G=e.cx[re]=(0,e.b1)(re),ne="PBI.Dashboard.InitializeSettingsDatasetModel",X=e.cx[ne]=(0,e.b1)(ne),oe="PBI.Dashboard.GetRefreshHistory",Ve=e.cx[oe]=(0,e.b1)(oe),Te="PBI.Dashboard.GetGroupIcon",Qe=e.cx[Te]=(0,e.b1)(Te),He="PBI.Dashboard.RefreshAndGetUserMetadata",Ce=e.cx[He]=(0,e.b1)(He),de="PBI.UserInfo.GetSelfServiceEligibility",pe=e.cx[de]=(0,e.b1)(de),le="PBI.UserInfo.GetIsModernCommerceAdmin",me=e.cx[le]=(0,e.b1)(le),be="PBI.Quota.UpgradeInteraction",Be=e.cx[be]=(0,e.b1)(be),Se="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",Pe=e.cx[Se]=(0,e.b1)(Se),ue="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",ve=e.cx[ue]=(0,e.b1)(ue),xe="PBI.LicenseEnforcement.ShowUpgradeToProDialog",ie=e.cx[xe]=(0,e.b1)(xe),Fe="PBI.LicenseEnforcement.Accept2017proTrial",at=e.cx[Fe]=(0,e.b1)(Fe),We="PBI.LicenseEnforcement.AutoTrialAssignment",Oe=e.cx[We]=(0,e.b1)(We),Ze="PBI.LicenseEnforcement.LeadsCollection",Ee=e.cx[Ze]=(0,e.b1)(Ze),K="PBI.TeamsLicenseEnforcement.UpgradeNowClick",Y=(e.cx[K]=(0,e.b1)(K),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),rt=(e.cx[Y]=(0,e.b1)(Y),"PBI.DashboardAndReports.Print"),it=e.cx[rt]=(0,e.b1)(rt,{logExpAssignment:!0}),Ue="PBI.DashboardAndReports.AnalyzeInExcel",De=e.cx[Ue]=(0,e.b1)(Ue,{logExpAssignment:!0}),Le="PBI.DsrDataLimitsWarning",Xe=e.cx[Le]=(0,e.b1)(Le),et="PBI.DeprecatedNotificationToastUsage",ce=(e.cx[et]=(0,e.b1)(et),"PBI.DomainHelper.GetVerifiedDomains"),Re=e.cx[ce]=(0,e.b1)(ce),Ge="PBI.NewerExplorationVersion",ut=e.cx[Ge]=(0,e.b1)(Ge),je="PBI.DeveloperVisualEnabledChanged",ae=e.cx[je]=(0,e.b1)(je),fe="PBI.ModuleLoad",we=e.cx[fe]=(0,e.b1)(fe),ze="PBI.ModuleLoadError",ot=(e.cx[ze]=(0,e.b1)(ze),"ScriptVisualFilterAction"),ke=(e.cx[ot]=(0,e.b1)(ot),"PBI.EX.CrossFilterScriptVisual"),dt=e.cx[ke]=(0,e.b1)(ke),Tt="PBI.EX.FilterScriptVisual",Wt=e.cx[Tt]=(0,e.b1)(Tt),Kt="PBI.ClusterResolved",er=(e.cx[Kt]=(0,e.b1)(Kt),"PBI.DashboardAndReports.AuditEvent"),sr=(e.cx[er]=(0,e.b1)(er),"PBI.DownloadReport"),gr=e.cx[sr]=(0,e.b1)(sr,{logExpAssignment:!0}),mr="PBI.Settings.UpdateGateway",Mr=(e.cx[mr]=(0,e.b1)(mr),"PBI.Settings.DeleteGateway"),St=e.cx[Mr]=(0,e.b1)(Mr),Gt="PBI.Settings.CreateDataSource",rr=e.cx[Gt]=(0,e.b1)(Gt),Fr="PBI.Settings.DeleteDataSource",wr=e.cx[Fr]=(0,e.b1)(Fr),Vr="PBI.Settings.BindModelToGateway",Ar=e.cx[Vr]=(0,e.b1)(Vr),vr="PBI.Settings.AddDataSourcePrincipals",$r=e.cx[vr]=(0,e.b1)(vr),Qr="PBI.Settings.RemoveDataSourcePrincipals",zr=e.cx[Qr]=(0,e.b1)(Qr),Or="PBI.Settings.AddGatewayPrincipals",ei=e.cx[Or]=(0,e.b1)(Or),Xr="PBI.Settings.RemoveGatewayPrincipals",Nr=e.cx[Xr]=(0,e.b1)(Xr),Yr="PBI.Settings.UpdateCredentials",Hr=e.cx[Yr]=(0,e.b1)(Yr),Zr="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",ht=(e.cx[Zr]=(0,e.b1)(Zr),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),xt=e.cx[ht]=(0,e.b1)(ht),lt="PBI.Settings.TestGatewayDatasourceUPNMapping",nt=e.cx[lt]=(0,e.b1)(lt),mt="PBI.App.JavaScriptParse",gt=e.cx[mt]=(0,e.b1)(mt),At="PBI.App.PreemptiveQueryData",kt=e.cx[At]=(0,e.b1)(At),Ht="PBI.GeocodingSummary",nr=e.cx[Ht]=(0,e.b1)(Ht,{logRatio:.1}),lr="PBI.GeocodingCacheLimitExceeded",dr=e.cx[lr]=(0,e.b1)(lr,{logRatio:.1}),fr="PBI.SyncServiceUpdate",Pr=e.cx[fr]=(0,e.b1)(fr),yr="PBI.LicenseEnforcement.AccessCustomizedProperties",Rr=e.cx[yr]=(0,e.b1)(yr),Mt="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",pt=e.cx[Mt]=(0,e.b1)(Mt),se="PBI.Settings.OAuthPopup",Z=e.cx[se]=(0,e.b1)(se),Ye="PBI.LegacyServiceUsed";e.cx[Ye]=(0,e.b1)(Ye)},972817:function(Je,H,t){t.d(H,{AF:function(){return C},Et:function(){return a},K_:function(){return i},MJ:function(){return E},SW:function(){return S},TD:function(){return g},WE:function(){return h},Z6:function(){return M},cD:function(){return l},pZ:function(){return u},py:function(){return R},um:function(){return y},vq:function(){return p}});var e=t(787941),s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,f=[.6,.4,.2,.1,0],v=[-.1,-.2,-.3,-.5,-.6],b=[.6,.4,.2,-.25,-.5];function h(O,N,w){var I,B,j,W=Math.floor(6*O),U=6*O-W,k=w*(1-N),Q=w*(1-U*N),te=w*(1-(1-U)*N);switch(W%6){case 0:I=w,B=te,j=k;break;case 1:I=Q,B=w,j=k;break;case 2:I=k,B=w,j=te;break;case 3:I=k,B=Q,j=w;break;case 4:I=te,B=k,j=w;break;case 5:I=w,B=k,j=Q}return[Math.round(255*I),Math.round(255*B),Math.round(255*j)]}function p(O,N,w){return"#"+n(O)+n(N)+n(w)}function n(O){var N=O.toString(16);return 1===N.length?"0"+N:N}function l(O,N){var w=M(O);return null===w?"":N||0===N?"rgba("+w.r+","+w.g+","+w.b+","+N+")":"rgb("+w.r+","+w.g+","+w.b+")"}function a(O,N){if(i(O))return l(O,N);if(function(O){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(O)}(O)){var w=function(O){var w,N=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(O);if(!N)return null;N[5]&&(w=parseFloat(N[5])),N[6]&&(w=parseFloat(N[6]));var I=parseInt(N[1],10);I%=360;var B=parseInt(N[2],10);B=B>100?100:B;var j=parseInt(N[3],10);return{h:I,s:B,l:j=j>100?100:j,a:w}}(O);return"hsla("+w.h+","+w.s+"%,"+w.l+"%,"+(w.a||0===w.a?w.a:N)+")"}if(function(O){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(O)}(O)){var B=function(O){var w,N=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(O);if(!N)return null;N[5]&&(w=parseFloat(N[5])),N[6]&&(w=parseFloat(N[6]));var I=parseInt(N[1],10);I=I>255?255:I;var B=parseInt(N[2],10);B=B>255?255:B;var j=parseInt(N[3],10);return{r:I,g:B,b:j=j>255?255:j,a:w}}(O);return"rgba("+B.r+","+B.g+","+B.b+","+(B.a||0===B.a?B.a:N)+")"}return""}function i(O){return null!=O&&!!O.match("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$")}function u(O){return e.fF.assertValue(O,"color"),function(O){return"#FFFFFF"===O||"#FFF"===O}(O)?v:function(O){return"#000000"===O||"#000"===O}(O)?f:b}function S(O){return i(O)||i(O="#"+O)?O:null}function g(O){return 1-O/100}function y(O){var N=M(O);return(.299*N.r+.587*N.g+.114*N.b)/255}function C(O){return O&&!!O.match("^#([A-Fa-f0-9]{3})$")}function E(O,N){return O=(O=N?O.substring(1):O).replace(s,function(w,I,B,j){return I+I+B+B+j+j}),N?"#"+O:O}function M(O){O=E(O,!1);var N=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);return N?{r:parseInt(N[1],16),g:parseInt(N[2],16),b:parseInt(N[3],16)}:null}function R(O,N,w){O/=255,N/=255,w/=255;var j,W,I=Math.max(O,N,w),B=Math.min(O,N,w),U=I,k=I-B;if(W=0===I?0:k/I,I===B)j=0;else{switch(I){case O:j=(N-w)/k+(N<w?6:0);break;case N:j=(w-O)/k+2;break;case w:j=(O-N)/k+4}j/=6}return[j,W,U]}},379139:function(Je,H,t){function e(c){return{dsrV2:c.dsrV2||c.dsrV2_Staging,queryCancellation:c.queryCancellation,telemetryV2:c.telemetryV2,scopedAggregates:c.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:c.addVisualIdToQueryDataAsHttpBodyId,queryContext:c.queryContext,lruCacheEvictionPolicy:c.lruCacheEvictionPolicy,categoricalSecondaryCF:c.categoricalSecondaryCF,useEnrichedApplicationContext:c.useEnrichedApplicationContext}}t.d(H,{u:function(){return e}})},535909:function(Je,H,t){t.d(H,{q:function(){return s}});var e=t(787941),c=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/,s=function(){function f(){}return f.generateId=function(v,b){var h=f.generateUUID();return"".concat(v||"").concat(h).concat(b||"")},f.generateShortId=function(v){return(Math.random().toString(36)+"00000000000000000").slice(2,v+2)},f.generateUniqueId=function(v,b,h){e.fF.assertValue(v,"usedIds");for(var p,n=0;void 0===p||v[p];){if(++n>1e3){e.fF.assertFail("iterationCount is greater than ".concat(1e3," while generating a unique id"));break}p=f.generateId(b,h)}return p},f.isGuid=function(v){if(_.isEmpty(v)||36!==v.length)return!1;var b=v.match(c);return!_.isEmpty(b)&&1===b.length},f.generateUUID=function(){var v=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(v+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(b){var h=v+16*Math.random()&15|0;return v>>=4,h.toString(16)})},f}()},919439:function(Je,H,t){function e(c){var s=c.offset();return{left:s.left,top:s.top,width:c.outerWidth(!0),height:c.outerHeight(!0)}}t.d(H,{E:function(){return e}})},499550:function(Je,H,t){t.d(H,{C:function(){return f}});var e=t(787941);function c(v){if(v){var h,b=v.value();if(v.firstChange?(v.firstChange=!1,h=!0):v.equal(b,v.oldValue)||(h=!1),void 0!==h){var p=v.oldValue;v.oldValue=v.copy(b),v.onChange(b,p,h)}}}var f=function(){function v(){this.watches={}}return v.prototype.has=function(b){return null!=this.watches[b]},v.prototype.add=function(b,h,p,n){var r,o,l=this;e.fF.assertValue(b,"id"),e.fF.assert(function(){return!l.watches[b]},"Added watch twice: ".concat(b)),e.fF.assertValue(h,"value"),e.fF.assertValue(p,"onChange"),n&&2===n.mode?(r=function(i,m){return _.isEqual(i,m)},o=function(i){return _.cloneDeep(i)}):n&&1===n.mode?(r=function(i,m){return function(v,b){if(!v||!b)return v===b;var h=v.length;if(h!==b.length)return!1;for(var p=h;p-- >0;)if(v[p]!==b[p])return!1;return!0}(i,m)},o=function(i){return _.clone(i)}):(r=function(i,m){return i===m},o=function(i){return i}),this.watches[b]={id:b,value:h,onChange:p,firstChange:!0,equal:r,copy:o}},v.prototype.remove=function(b){delete this.watches[b]},v.prototype.doCheck=function(){_.forEach(this.watches,c)},v}()},358724:function(Je,H,t){t.d(H,{$Ez:function(){return P},AsH:function(){return gr},Deb:function(){return gi},F15:function(){return Si},F3x:function(){return se},HV_:function(){return F},HhA:function(){return Ar},I8X:function(){return d},IBn:function(){return Mr},ISm:function(){return Lt},Imn:function(){return c},Jam:function(){return S},KRp:function(){return T},LBm:function(){return ht},M0n:function(){return yr},M6c:function(){return Zr},Nbb:function(){return Br},NkG:function(){return u},OsI:function(){return vt},Pg6:function(){return b},PpD:function(){return st},Px$:function(){return zr},Q15:function(){return Ai},RCq:function(){return x},RGx:function(){return Kr},S9q:function(){return Zt},SZk:function(){return y},SlI:function(){return Bi},Td2:function(){return M},UZB:function(){return or},Va2:function(){return xt},WMs:function(){return Sr},Wnf:function(){return ft},Yh0:function(){return vr},_W6:function(){return Vt},a4P:function(){return ei},bTS:function(){return Qr},bb_:function(){return Vr},c41:function(){return Ui},cP$:function(){return Wt},cmI:function(){return It},dJM:function(){return v},eBl:function(){return g},ebA:function(){return ze},gMq:function(){return ke},hOU:function(){return fr},j7U:function(){return ti},jb4:function(){return p},k4X:function(){return Yt},kJ$:function(){return N},kWQ:function(){return sr},ly2:function(){return w},miy:function(){return dr},nDG:function(){return E},nKy:function(){return Ut},ne5:function(){return dt},p5r:function(){return oe},qvT:function(){return C},r2l:function(){return ir},r90:function(){return ar},rEb:function(){return D},sVl:function(){return L},uMK:function(){return s},uTR:function(){return lr},uWP:function(){return f},wME:function(){return Tr},wku:function(){return O},yOS:function(){return we},ykK:function(){return $r},ykb:function(){return er},ymx:function(){return V}});var e=t(497610),c="ActivityId",s="RequestId",f="x-ms-root-activity-id",v="http",b="X-PowerBI-UploadFileSize",p="refreshAccessToken",u="dashboardTileRepeatFinished",V="azure",d="office",S="trial",g="dc",y=673,C=860,E=940,M=578,P="/openReport",T="/openWorkbook",x="/openQnA",D="/openInsights",L="/openUrl",F="overlay.close",O="me",N="R",w="sobe_onpremisevirtualserver",oe="selectedQueryId",we={name:"datasetDatasourceUpdated",type:4},ze="$destroy",ke=980,dt=640,Wt={name:"datasetShowAuthDialog",type:4},Zt={name:"datasetShowParameterDialogAfterInvalidParameter",type:4},er="ContentProvider_InvalidModelParameter",ar=127,sr=8,gr=48,Sr="enterPrintModeEvent",Mr="exitPrintModeEvent",Vr="tileError",Ar="PackageOperationInProgress",vr="DataRefreshTooSoon",$r="OnPremiseServiceException",Qr="RefreshNotSupportedFFXL",zr="CloudRLSAccessDeniedErrorCode",ei=location.origin||location.protocol+"//"+location.hostname,Zr="contentProviderStoreCancelModalDialogMessage",ft="contentProviderStoreCloseModalDialogMessage",ht="contentProviderStoreGoBackModalDialogMessage",xt="contentProviderStoreGoToAppDocModalDialogMessage",lr=6,dr=7,fr=26,yr=1073741824,se=1004,vt=10,ir=2147483647,It=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12}],Ut="dsr",Br=".dashboard",ti="needStrategySwap";function st(si){var Ei=si.contentProviderId;return 103===Ei||102===Ei||si.packageType===e.yR.UsageMetricsV2}function Lt(si){return(null==si?void 0:si.packageType)===e.yR.Scorecard}function Vt(si){return(null==si?void 0:si.originalPackageType)===e.yR.Scorecard}function Yt(si){return 103===si||102===si}function or(si){return(null==si?void 0:si.packageType)===e.yR.Datamart}function Tr(si){return(null==si?void 0:si.packageType)===e.yR.SeeThruModel}var Kr=60,Si="invitationCode",Bi="i",Ai="00000000-0000-0000-0000-000000000000",Ui=2147483647,gi=[22,43,44,45,46,47,48,49]},497610:function(Je,H,t){t.d(H,{Bs:function(){return p},Bz:function(){return n},GY:function(){return i},Kx:function(){return e},Sr:function(){return l},UX:function(){return c},Vv:function(){return r},kQ:function(){return a},mx:function(){return h},nW:function(){return m},tP:function(){return f},ty:function(){return o},wg:function(){return v},yR:function(){return b},zS:function(){return s}});var e=["PowerBIServicePlan0"],c=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],s=["PowerBIServicePlan3"],f=["PowerBIServicePlan1"],v=["PowerBIServicePlan1","PowerBIServicePlan2"],b=function(u){return u[u.Undefined=0]="Undefined",u[u.AppTemplate=1]="AppTemplate",u[u.AppInstance=2]="AppInstance",u[u.AppCopy=3]="AppCopy",u[u.UsageMetricsV2=4]="UsageMetricsV2",u[u.ProtectionMetrics=5]="ProtectionMetrics",u[u.AdminUsageMetrics=6]="AdminUsageMetrics",u[u.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",u[u.Sample=8]="Sample",u[u.Scorecard=9]="Scorecard",u[u.TeamsAnalytics=10]="TeamsAnalytics",u[u.Datamart=11]="Datamart",u[u.AdminMonitoring=12]="AdminMonitoring",u[u.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",u[u.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",u[u.AdminInsights=15]="AdminInsights",u[u.SeeThruModel=16]="SeeThruModel",u}({}),h=function(u){return u.None="",u.BuiltIn="BuiltIn",u.Organizational="Organizational",u.Services="Services",u.OrganizationalTemplate="OrganizationalTemplate",u.OrganizationalApp="OrganizationalApp",u.ServiceApp="ServiceApp",u.OrganizationalTemplateApp="OrganizationalTemplateApp",u.PowerBIServiceApp="PowerBIServiceApp",u}({}),p=function(u){return u[u.Service=1]="Service",u[u.Organizational=2]="Organizational",u[u.File=3]="File",u[u.Sample=4]="Sample",u[u.Learn=5]="Learn",u[u.BigDataAndMore=6]="BigDataAndMore",u[u.Dataflows=7]="Dataflows",u[u.OrgContentPacks=8]="OrgContentPacks",u[u.Apps=9]="Apps",u}({}),n=function(u){return u[u.Unknown=0]="Unknown",u[u.Dashboard=1]="Dashboard",u[u.Report=2]="Report",u[u.Model=3]="Model",u[u.Workbook=4]="Workbook",u[u.App=5]="App",u[u.RdlReport=6]="RdlReport",u[u.Dataflow=7]="Dataflow",u[u.Tile=8]="Tile",u[u.StreamingDataflow=9]="StreamingDataflow",u[u.Folder=10]="Folder",u[u.Datamart=11]="Datamart",u[u.Artifact=12]="Artifact",u[u.Connection=13]="Connection",u}({}),l=function(u){return u[u.MyFolder=0]="MyFolder",u[u.AppFolder=1]="AppFolder",u[u.AdminFolder=2]="AdminFolder",u[u.TransientFolder=1e4]="TransientFolder",u}({}),r=function(u){return u[u.Import=0]="Import",u[u.DirectQuery=1]="DirectQuery",u[u.Mixed=2]="Mixed",u}({}),o=function(u){return u[u.Favorite=1]="Favorite",u[u.Report=2]="Report",u[u.Dashboard=4]="Dashboard",u[u.Workbook=8]="Workbook",u[u.OrgApp=16]="OrgApp",u[u.MRU=128]="MRU",u[u.Workspace=256]="Workspace",u[u.Dataset=512]="Dataset",u[u.AppPlaceHolder=1024]="AppPlaceHolder",u[u.RdlReport=2048]="RdlReport",u[u.CdsaModel=4096]="CdsaModel",u[u.StreamingCdsaModel=8192]="StreamingCdsaModel",u[u.Scorecard=16384]="Scorecard",u[u.StreamingDataset=32768]="StreamingDataset",u[u.Datamart=65536]="Datamart",u}({}),a=function(u){return u[u.AlmPipelineDeployment=0]="AlmPipelineDeployment",u[u.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",u[u.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",u[u.LiveConnectModel=3]="LiveConnectModel",u[u.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",u[u.NonV3Model=5]="NonV3Model",u[u.SharedCapacityModel=6]="SharedCapacityModel",u}({}),i=function(u){return u[u.Shared=0]="Shared",u[u.Dedicated=1]="Dedicated",u[u.ASAzure=2]="ASAzure",u[u.ASOnPrem=3]="ASOnPrem",u}({}),m=function(u){return u[u.Dashboard=1]="Dashboard",u[u.Report=2]="Report",u[u.App=3]="App",u[u.RdlReport=4]="RdlReport",u[u.ResourcePackage=5]="ResourcePackage",u[u.Artifact=6]="Artifact",u[u.Datamart=7]="Datamart",u}({})},239144:function(Je,H,t){t.d(H,{JL:function(){return v},Rf:function(){return c},TA:function(){return l},ZG:function(){return p},d3:function(){return b},uY:function(){return o},uk:function(){return h},ye:function(){return n}});var c=function(a){return a[a.Resource=0]="Resource",a[a.Personal=1]="Personal",a[a.VirtualNetwork=2]="VirtualNetwork",a[a.TenantCloud=3]="TenantCloud",a}({}),v=function(a){return a[a.Live=0]="Live",a[a.NotInstalled=1]="NotInstalled",a[a.NotReachable=2]="NotReachable",a[a.Installed=3]="Installed",a}({}),b=function(a){return a[a.NotSpecified=0]="NotSpecified",a[a.Windows=1]="Windows",a[a.Anonymous=2]="Anonymous",a[a.Basic=3]="Basic",a[a.Key=4]="Key",a[a.OAuth2=5]="OAuth2",a[a.EffectiveUserName=6]="EffectiveUserName",a[a.SingleSignOn=7]="SingleSignOn",a[a.WindowsWithoutImpersonation=8]="WindowsWithoutImpersonation",a[a.SAS=9]="SAS",a[a.ServicePrincipal=10]="ServicePrincipal",a}({}),h=function(a){return a[a.None=0]="None",a[a.Private=1]="Private",a[a.Organizational=2]="Organizational",a[a.Public=3]="Public",a}({}),p=function(a){return a[a.None=0]="None",a[a.Kerberos=1]="Kerberos",a[a.AzureActiveDirectory=2]="AzureActiveDirectory",a[a.SAML=3]="SAML",a[a.KerberosDQAndRefresh=4]="KerberosDQAndRefresh",a}({}),n=function(a){return a[a.SqlServer=0]="SqlServer",a[a.AnalysisServices=1]="AnalysisServices",a[a.SAP=2]="SAP",a[a.File=3]="File",a[a.Folder=4]="Folder",a[a.Oracle=5]="Oracle",a[a.Teradata=6]="Teradata",a[a.SharePointList=7]="SharePointList",a[a.Web=8]="Web",a[a.OData=9]="OData",a[a.DB2=10]="DB2",a[a.MySql=11]="MySql",a[a.PostgreSql=12]="PostgreSql",a[a.Sybase=13]="Sybase",a[a.Extension=14]="Extension",a[a.SAPBW=15]="SAPBW",a[a.AzureTable=16]="AzureTable",a[a.AzureBlob=17]="AzureBlob",a[a.Informix=18]="Informix",a[a.ODBC=19]="ODBC",a[a.SharePoint=21]="SharePoint",a[a.GoogleAnalytics=25]="GoogleAnalytics",a[a.Exchange=27]="Exchange",a[a.Facebook=28]="Facebook",a[a.HDInsight=29]="HDInsight",a[a.AzureMarketplace=30]="AzureMarketplace",a[a.ActiveDirectory=31]="ActiveDirectory",a[a.OleDb=35]="OleDb",a[a.AdoDotNet=36]="AdoDotNet",a[a.Salesforce=39]="Salesforce",a[a.SAPBWMessageServer=41]="SAPBWMessageServer",a[a.Essbase=43]="Essbase",a[a.AzureDataLakeStorage=44]="AzureDataLakeStorage",a[a.CDPA=47]="CDPA",a}({}),l=function(a){return a[a.EffectiveUserName=0]="EffectiveUserName",a[a.CustomData=1]="CustomData",a}({}),o=function(a){return a[a.AadSSO=0]="AadSSO",a}({})},361952:function(Je,H,t){t.d(H,{l:function(){return c},m:function(){return e}});var e=function(s){return s[s.NewFeatureProductMessage=0]="NewFeatureProductMessage",s[s.DashboardSharing=2]="DashboardSharing",s[s.DashboardAddedToGroup=3]="DashboardAddedToGroup",s[s.Trial=5]="Trial",s[s.DataDrivenAlert=6]="DataDrivenAlert",s[s.AccessRequest=14]="AccessRequest",s[s.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",s[s.CapacityOverloaded=34]="CapacityOverloaded",s[s.CapacityAutoScaled=35]="CapacityAutoScaled",s[s.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",s[s.TeamsAppInstallation=42]="TeamsAppInstallation",s[s.ScdProvisioningFailed=62]="ScdProvisioningFailed",s[s.DynamicMessage=999]="DynamicMessage",s}({}),c=function(s){return s[s.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",s[s.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",s[s.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",s[s.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",s[s.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",s[s.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",s[s.UsersNotifications_UserName=6]="UsersNotifications_UserName",s[s.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",s[s.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",s[s.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",s[s.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",s[s.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",s[s.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",s[s.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",s[s.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",s[s.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",s[s.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",s[s.UsersNotifications_TileName=17]="UsersNotifications_TileName",s[s.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",s[s.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",s[s.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",s[s.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",s[s.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",s[s.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",s[s.Generic_LearnMore=24]="Generic_LearnMore",s[s.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",s[s.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",s[s.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",s[s.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",s[s.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",s[s.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",s[s.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",s[s.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",s[s.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",s[s.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",s[s.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",s[s.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",s[s.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",s[s.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",s[s.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",s[s.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",s[s.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",s[s.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",s[s.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",s[s.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",s[s.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",s[s.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",s[s.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",s[s.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",s[s.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",s[s.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",s[s.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",s[s.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",s[s.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",s[s.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",s[s.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",s[s.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",s[s.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",s[s.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",s[s.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",s[s.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",s[s.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",s[s.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",s}({})},420422:function(Je,H,t){t.d(H,{S:function(){return e}});var e=function(){function c(s){s&&(this.uniqueId=s.objectId,this.displayName=s.displayName,this.capacity=s.capacityObjectId&&{id:s.capacityObjectId,name:s.capacityName,region:s.region},this.contract=s,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!s||!s.isMyWorkspace),this.folderType=s.folderType||s.type)}return c.prototype.getPermissions=function(){},c}()},880133:function(Je,H,t){t.d(H,{g:function(){return v}});var e=t(226514),c=t(690016),s=t(420422),f=window,v=function(b){function h(p){var n=b.call(this,p)||this;return p&&(n.id=p.id,n.description=p.description,n.icon=p.iconUrl&&c.b$.urlCombine(f.clusterUri,p.iconUrl),n.permissions=p.permissions,n.contacts=p.contacts,n.allowContributorUpdateApp=p.allowContributorUpdateApp,n.defaultDatasetStorageMode=p.defaultDatasetStorageMode,n.type=p.type,n.folderType=p.type,n.domainObjectId=p.domainObjectId,n.allowWebModeling=p.allowWebModeling,n.datasourceBindingSecurityMode=p.datasourceBindingSecurityMode),n}return(0,e.__extends)(h,b),Object.defineProperty(h.prototype,"folderContract",{get:function(){return this.contract},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"sharePointStorage",{get:function(){return this.folderContract.sharePointStorage},set:function(n){this.folderContract.sharePointStorage=n},enumerable:!1,configurable:!0}),h}(s.S)},602610:function(Je,H,t){t.d(H,{Z:function(){return v}});var e=t(226514),c=t(497610),s=t(420422),f=function(){return function(h){var p=this;this.contextMenuItemList=[],h&&h.metadata&&(h.metadata.contextMenuItemList.forEach(function(n){p.contextMenuItemList.push(n)}),this.contextMenuSeparatorPosition=h.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),h&&h.isMyWorkspace?this.contextMenuItemList.push({linkType:9}):(this.contextMenuItemList.push(h.isOwner?{linkType:5}:{linkType:6}),this.contextMenuItemList.push({linkType:7}))}}(),v=function(b){function h(p){var n=b.call(this,p)||this;return p&&(n.aadGroupId=p.objectId,n.metadata=new f(p)),n.lastOwnershipFilter=0,n.contentTileType=c.ty.Workspace,n}return(0,e.__extends)(h,b),h}(s.S)},196930:function(Je,H,t){t.d(H,{AA:function(){return n},kO:function(){return l},SV:function(){return r},YA:function(){return o},n8:function(){return i},HA:function(){return a},ki:function(){return m},Ih:function(){return u},Ug:function(){return V}});var e=t(36623),s=t(787941),f=t(698129),v=t(129035),b=t(448711),h=t(950870),p=t(592042);function n(d,S){for(var y=[],C=0,E=d;C<E.length;C++){var T=r(E[C].value,S);T&&y.push(T)}return y.join("")}function l(d,S){var g;if((0,h.U)(d.expression)){var C=null==S?void 0:S[d.expression.selector.id];g=null==C?void 0:C.value}else g=d.expression;var E=function(d,S){return _.find(d.cases,function(g){return g.pattern===S})||d.defaultCase}(d,g);return E.textRuns}function r(d,S){return(0,h.U)(d)?o(d.selector.id,S):d}function o(d,S){var g=null==S?void 0:S[d];return null==g?void 0:g.formattedValue}function a(d){var S=d;return s.fF.assertValue(S,"textRun"),_.isString(S.value)||(0,h.U)(S.value)}function i(d){return!_.isNil(d.mentionEmail)}function m(d){var S=d;return s.fF.assertValue(S,"textRunConditional"),_.isArray(S.cases)&&!!S.defaultCase&&_.isArray(S.defaultCase.textRuns)&&((0,h.U)(S.expression)||_.isString(S.expression)||_.isNumber(S.expression)||_.isBoolean(S.expression)||_.isDate(S.expression))}function u(d,S,g){s.fF.assertValue(S,"evaluatedValues must be defined");var y=e.RL.values.expr.objectName;s.fF.assert(function(){return y===e.RL.values.formatString.objectName},"Format strings are expected in the same object as evaluated values");var C=(0,f.AO)(d,y);if(!_.isEmpty(C)){for(var E in C){var M=(0,v.N)(C[E],e.RL.values.expr.propertyName),P=new b.g({column:{displayName:"",objects:C,type:p.Ge.fromPrimitiveTypeAndCategory(V(M))},formatStringPropId:{objectName:E,propertyName:e.RL.values.formatString.propertyName},nullsAreBlank:!1});S[E]={value:M,formattedValue:P.format(M)}}g&&g.trace(2,"TextboxWithSmartNarrativeValuesDataChanged")}}function V(d){return _.isDate(d)?7:_.isInteger(d)?4:_.isNumber(d)?3:_.isBoolean(d)?5:_.isString(d)?1:(s.fF.assert(function(){return!d},"Unsupported primitive value"),0)}},723342:function(Je,H,t){function e(){return $("<div></div>")}function c(){return $("<span></span>")}function h(){return $("<select></select>")}function p(){return $('<input type="text"/>')}t.d(H,{Ys:function(){return h},hi:function(){return e},yP:function(){return c},ze:function(){return p}})},629925:function(Je,H,t){function e(Ze){return{class:Ze,selector:"."+Ze}}t.d(H,{$Z:function(){return b},AI:function(){return Pe},At:function(){return pe},B1:function(){return Qe},BF:function(){return ve},By:function(){return Q},CB:function(){return V},CH:function(){return e},G7:function(){return Se},Ji:function(){return w},K:function(){return Oe},LR:function(){return r},Mq:function(){return A},OF:function(){return u},QX:function(){return I},Rg:function(){return X},SJ:function(){return s},SU:function(){return m},Sd:function(){return a},Ux:function(){return k},Uy:function(){return i},VM:function(){return M},Xn:function(){return g},YY:function(){return te},Z7:function(){return C},a_:function(){return He},dj:function(){return B},ei:function(){return f},en:function(){return ue},f0:function(){return xe},fw:function(){return le},hK:function(){return ne},hy:function(){return at},j4:function(){return U},jO:function(){return be},jU:function(){return L},k2:function(){return S},kP:function(){return v},l6:function(){return ie},mA:function(){return E},ps:function(){return N},py:function(){return oe},rb:function(){return F},t0:function(){return O},vp:function(){return j},wF:function(){return Te},wu:function(){return D},zo:function(){return W},zu:function(){return me}});var s="px",f="height",v="width",b="top",r="margin-top",a="margin-left",i="margin-right",m="display",u="background",V="background-color",S="background-size",g="background-image",C="text-align",E="border",M="border-top",D="border-radius",L="border-color",F="box-shadow",A="font-family",O="font-size",N="font-weight",w="font-style",I="text-decoration",B="color",j="opacity",W="padding",U="padding-top",k="padding-left",Q="padding-right",te="padding-bottom",ne="overflow-x",X="overflow-y",oe="transform",Te="cursor",Qe="visibility",He="fill",pe="auto",le="hidden",me="none",be="block",Se="transparent",Pe="normal",ue="bold",ve="italic",xe="underline",ie="visible",at="cover",Oe="scroll"},608014:function(Je,H,t){t.d(H,{$U:function(){return b},$u:function(){return A},A3:function(){return G},AA:function(){return P},CA:function(){return h},Cj:function(){return k},DL:function(){return C},G6:function(){return I},LS:function(){return te},N8:function(){return ee},NN:function(){return Ve},O4:function(){return X},OV:function(){return ne},Of:function(){return c},PG:function(){return Q},Rh:function(){return g},Ti:function(){return D},V:function(){return re},Wo:function(){return Ce},XR:function(){return B},ZI:function(){return d},bS:function(){return m},bd:function(){return S},cp:function(){return E},iV:function(){return f},n:function(){return x},nP:function(){return N},oe:function(){return O},pX:function(){return l},tc:function(){return s},wx:function(){return e},x5:function(){return R},xw:function(){return Te},y4:function(){return y}});var e=[50,51,52,53,54,72,75,66,84],c=function(pe){return pe[pe.Enter=13]="Enter",pe[pe.F1=112]="F1",pe[pe.F2=113]="F2",pe[pe.F6=117]="F6",pe[pe.F10=121]="F10",pe[pe.ArrowRight=39]="ArrowRight",pe[pe.KeyT=84]="KeyT",pe}({}),s=function(pe){return pe[pe.Main=0]="Main",pe[pe.Auxilary=1]="Auxilary",pe[pe.Secondary=2]="Secondary",pe[pe.Fourth=3]="Fourth",pe[pe.Fifth=4]="Fifth",pe}({}),f="body",b=":text, textarea",h='[type="number"]',l="id",m="_self",d="src",S="contenteditable",g="skip-children-focus",y="contextmenu",C="blur",E="keyup",P="change",x="keydown",R="mousemove",D="mousedown",A="mouseover",O="mouseout",N="mouseup",I="click",B="dblclick",k="hover",Q="focus",te="focusin",ee="focusout",re="message",G="load",ne="beforeunload",X="pointermove",Ve="pointerdown",Te="pointerout",Ce="pointerover"},764365:function(Je,H,t){t.d(H,{BM:function(){return p},Eo:function(){return y},GG:function(){return m},GW:function(){return L},Po:function(){return u},QO:function(){return P},U:function(){return D},Uy:function(){return g},W0:function(){return M},Xo:function(){return f},aP:function(){return d},bA:function(){return S},bl:function(){return V},cT:function(){return C},iD:function(){return E},kg:function(){return v},mv:function(){return a},oI:function(){return R},p8:function(){return i},qO:function(){return h},wA:function(){return o}});var e=t(787941),f=-308,v=308,h=1e-4,p=12,n=Math.log(10),l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],r=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function o(A){return e.fF.assertValue(A,"exp"),A>=0?A<l.length?l[A]:1/0:(A=-A)>0&&A<r.length?r[A]:0}function a(A){return e.fF.assert(function(){return A>=0},"val"),A>1&&A<1e16?A<1e8?A<1e4?A<100?A<10?0:1:A<1e3?2:3:A<1e6?A<1e5?4:5:A<1e7?6:7:A<1e12?A<1e10?A<1e9?8:9:A<1e11?10:11:A<1e14?A<1e13?12:13:A<1e15?14:15:A>1e-16&&A<1?A<1e-8?A<1e-12?A<1e-14?A<1e-15?-16:-15:A<1e-13?-14:-13:A<1e-10?A<1e-11?-12:-11:A<1e-9?-10:-9:A<1e-4?A<1e-6?A<1e-7?-8:-7:A<1e-5?-6:-5:A<.01?A<.001?-4:-3:A<.1?-2:-1:g(Math.log(A)/n)}function i(A,O){if(void 0===O?O=p:e.fF.assert(function(){return O>=0},"decimalDigits"),A&&isFinite(A)){var N=a(Math.abs(A));return N<f?0:o(Math.max(N-O,1-r.length))}}function m(A,O,N){return N=F(N,A,O),e.fF.assert(function(){return N>=0},"precision"),A===O||Math.abs(A-O)<N}function u(A,O,N){return N=F(N,A,O),e.fF.assert(function(){return N>=0},"precision"),A<O&&Math.abs(A-O)>N}function V(A,O,N){return N=F(N,A,O),e.fF.assert(function(){return N>=0},"precision"),A<O||Math.abs(A-O)<N}function d(A,O,N){return N=F(N,A,O),e.fF.assert(function(){return N>=0},"precision"),A>O&&Math.abs(A-O)>N}function S(A,O,N){return N=F(N,A,O),e.fF.assert(function(){return N>=0},"precision"),A>O||Math.abs(A-O)<N}function g(A,O){O=null!=O?O:h,e.fF.assert(function(){return O>=0},"precision");var N=Math.round(A);return Math.abs(A-N)<O?N:Math.floor(A)}function y(A,O){O=F(O,h),e.fF.assert(function(){return O>=0},"precision");var N=Math.round(A);return Math.abs(A-N)<O?N:Math.ceil(A)}function C(A,O){return O=F(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===A?A:Math.floor(A/O)*O}function E(A,O){return O=F(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===A?A:Math.ceil(A/O)*O}function M(A,O){if(O=F(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===A)return A;var N=Math.round(A/O)*O,w=Math.round(a(Math.abs(A))-a(O))+1;return w>0&&w<16&&(N=parseFloat(N.toPrecision(w))),N}function P(A,O,N){return e.fF.assert(function(){return O<=N},"min must be less or equal to max"),null==A?A:A<O?O:A>N?N:A}function R(A){return M(A,i(A))}function D(A){return null!==A&&A%1==0}function L(A,O){return Math.round(A/O)*O}function F(A,O,N){return void 0!==A?A:i(N?O?Math.min(Math.abs(O),Math.abs(N)):N:O)||h}},927891:function(Je,H,t){t.d(H,{DH:function(){return n},ap:function(){return b},dV:function(){return v},q$:function(){return f},wJ:function(){return p}});var e=t(226514),s=function(l){function r(o,a,i){var m=l.call(this,o,a+": "+i)||this;return m.argument=i,m}return(0,e.__extends)(r,l),r}(function(l){function r(o,a){var i=l.call(this,a)||this;return i.name=o,i}return(0,e.__extends)(r,l),r}(Error));function f(l){return new s("argumentNull","Argument was null",l)}function v(l){return new s("argumentUndefined","Argument was undefined",l)}function b(l){return new s("argumentOutOfRange","Argument was out of range",l)}var p=function(l){function r(o){return l.call(this,o)||this}return(0,e.__extends)(r,l),r}(Error);function n(l){var r,o;void 0===l&&(l=1);try{throw new Error}catch(a){null!=(r=a.stack)&&((o=r.split("\n")).splice(1,l),r=o.join("\n"))}return r}},166851:function(Je,H,t){t.d(H,{o:function(){return c}});var e=t(787941),c=function(){function s(f){e.fF.assertValue(f,"factoryMethod"),this.factoryMethod=f}return s.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},s}()},299747:function(Je,H,t){function e(b,h){if(null===b)return null;var p=Object.create(b);return h&&h(p),p}function c(b){if(null==b)return!1;var h=Object.getPrototypeOf(b);return h!==Object.prototype&&h!==Array.prototype}function s(b){return null===b?null:(c(b)||(b=e(b)),b)}function f(b,h){if(null!=b){for(var p,n=0,l=b.length;n<l;n++){var r=h(b[n]);r&&(p||(p=e(b)),p[n]=r)}return p}}function v(b,h){if(b&&h&&"object"==typeof b)for(var p in Object.getPrototypeOf(b)!==Object.getPrototypeOf(h)&&(h.__proto__=b.__proto__),b)v(b[p],h[p])}t.d(H,{ED:function(){return e},Jx:function(){return c},VW:function(){return f},Zx:function(){return v},qO:function(){return s}})},688612:function(Je,H,t){function e(c){for(var s in Object.freeze(c),c){var f=c[s];f&&"object"==typeof f&&e(f)}}t.d(H,{_:function(){return e}})},520907:function(Je,H,t){t.d(H,{FP:function(){return p},Gj:function(){return f},KH:function(){return n},PR:function(){return v},fS:function(){return s},ys:function(){return c}});var e=t(787941);function c(l,r){return(l||r)&&!(l&&r)}function s(l,r){return l===r||JSON.stringify(l)===JSON.stringify(r)}var f=8,v=60,p=function(){function l(){}return l.fromPoint=function(r){return l.toString(l.fromPointToPixel(r))},l.fromPointToPixel=function(r){return l.PxPtRatio*r},l.toPoint=function(r){return r/l.PxPtRatio},l.toString=function(r){return r+l.PixelString},l.PxPtRatio=4/3,l.PixelString="px",l}();function n(l,r,o){return e.fF.assertValue(l,"regex"),l.lastIndex=o||0,l.exec(r)}},725182:function(Je,H,t){t.d(H,{AS:function(){return f},BB:function(){return v},Js:function(){return b},mB:function(){return s},yE:function(){return c}});var e=t(787941);function c(h,p){return e.fF.assert(function(){return!!p},"flag must be specified and nonzero."),(h&p)===p}function s(h,p){return e.fF.assert(function(){return!!p},"flag must be specified and nonzero."),h|p}function f(h,p){return e.fF.assert(function(){return!!p},"flag must be specified and nonzero."),h&~p}function v(h,p){return h[p]}function b(h){if(null===h||h%1!=0)return 0;for(var p=0,n=h;0!==n;)1==(1&n)&&p++,n>>>=1;return p}},690016:function(Je,H,t){t.d(H,{B1:function(){return ne},BL:function(){return G},FA:function(){return Ve},GE:function(){return I},HZ:function(){return k},Io:function(){return W},Ir:function(){return V},JA:function(){return i},Jj:function(){return D},Nx:function(){return te},Ny:function(){return g},Oi:function(){return P},S5:function(){return oe},aT:function(){return r},b$:function(){return ee},cb:function(){return T},eT:function(){return u},g5:function(){return a},hM:function(){return F},k4:function(){return B},ko:function(){return L},m5:function(){return M},ms:function(){return E},nH:function(){return o},qv:function(){return j},r3:function(){return C},sc:function(){return U},t6:function(){return m},vr:function(){return S},xz:function(){return R},yQ:function(){return w},zE:function(){return A},zb:function(){return X}});var e=t(787941),c=t(831917),s=t(927891),f=t(16062),v=t(826691),b=t(710545),h=t(261374),p=window,n=window.location.protocol+"//"+window.location.host,l="__DataProperty__5941464455110614";function r(Ce,de,pe){if(e.fF.assertValue(Ce,"element"),null!=Ce){var le=Ce[l];if(!le){if(void 0===pe)return;le=Ce[l]={}}return void 0===pe?le[de]:le[de]=pe}}var o="application/octet-stream",a="application/json",i="image/jpeg",m="blob",u="arraybuffer",V="Accept",d=new RegExp("[<>]","g");function S(Ce,de){return M(Ce)===M(de)}function g(Ce,de){return null!=Ce&&0===Ce.indexOf(de)}function C(Ce,de){return null!=Ce&&-1!==Ce.indexOf(de)}function E(Ce,de){return null!=Ce&&C(M(Ce),M(de))}function M(Ce){return ee.throwIfNullOrUndefined(Ce,ee,"normalizeCase","value"),Ce.toUpperCase()}function P(Ce){return ee.throwIfNullOrUndefined(Ce,ee,"containsWhitespace","str"),/\s/.test(Ce)}function T(Ce){return""===_.trim(Ce)}function R(Ce){return ee.throwIfNullOrUndefined(Ce,ee,"trimWhitespace","str"),Ce.replace(/^\s+/,"").replace(/\s+$/,"")}function D(Ce){return Ce.replace(/\s/g,"")}function L(Ce,de,pe){if(!de)return Ce;var le=I(de);return Ce.replace(new RegExp(le,"gi"),pe)}function F(Ce){e.fF.assertValue(Ce,"names");for(var de={},pe=0,le=Ce;pe<le.length;pe++)de[le[pe]]=!1;for(var be=[],Be=0,Se=Ce;Be<Se.length;Be++){var Pe=Se[Be],ue=Pe;if(de[ue])for(var ve=0;void 0!==de[ue];)ue=Pe+"."+ ++ve;be.push(ue),de[ue]=!0}return be}function A(Ce,de,pe,le){e.fF.assertValue(Ce,"usedNames"),e.fF.assertValue(de,"baseName"),e.fF.assert(function(){return null==pe||pe>=0},"startSuffix == null || startSuffix >= 0");var me=le?" ":"",be=pe||0,Be=de;for(pe&&(Be+=me+pe);O(Ce,Be);)Be=de+me+ ++be;return Be}function O(Ce,de){return _.isSet(Ce)?Ce.has(de):Ce[de]}function w(Ce,de,pe){if(!Ce||0===Ce.length)return"";null==pe&&(pe=Number.MAX_VALUE);for(var le=Math.min(pe,Ce.length),me=[],be=0;be<2;be++)for(var Be="{"+be+"}",Se="_|_<"+be+">_|_",Pe=0;Pe<le;Pe++)Ce[Pe].indexOf(Be)>-1&&(Ce[Pe]=Ce[Pe].replace(Be,Se),me.push({targetValue:Be,replaceValue:Se}));var ue="";for(Pe=0;Pe<le;Pe++)ue=0===Pe?Ce[Pe]:(0,h.W)(de.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),ue,Ce[Pe]);for(var ve=0,xe=me;ve<xe.length;ve++){var ie=xe[ve];ue=ue.replace(ie.replaceValue,ie.targetValue)}return ue}function I(Ce){return Ce.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function B(Ce){return e.fF.assertValue(Ce,"fileName"),Ce.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function j(Ce){return JSON.stringify(Ce)}function W(Ce,de){e.fF.assertValue(Ce,"input");var pe=Ce.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return pe.length>0?pe:de}function U(Ce){return Ce.replace(d,"")}function k(Ce,de,pe){if(void 0===de&&(de=!1),void 0===pe&&(pe=!1),!Ce||pe&&"&nbsp;"===Ce)return Ce;var le=Ce.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(me){return"&#"+(1024*(me.charCodeAt(0)-55296)+(me.charCodeAt(1)-56320)+65536)+";"}).replace(/([^!-~ ])/g,function(me){return"&#"+me.charCodeAt(0)+";"});return de&&(le=le.replace(/\ /g,"&nbsp;")),le}function te(Ce){return Ce>=0&&Ce<=55295||Ce>=57344&&Ce<=65535}var ee=function(){function Ce(){}return Ce.ensureError=function(de){return de instanceof Error||(de=new Error(de?de.message||de.toString():"<null-or-undefined> error was thrown")),de},Ce.throwIfNullOrUndefined=function(de,pe,le,me){null===de?this.throwException((0,s.q$)(this.getComponentName(pe)+le+"."+me)):void 0===de&&this.throwException((0,s.dV)(this.getComponentName(pe)+le+"."+me))},Ce.throwIfNullOrEmptyString=function(de,pe,le,me){this.throwIfNullOrUndefined(de,pe,le,me),de.length<1&&this.throwException((0,s.ap)(this.getComponentName(pe)+le+"."+me))},Ce.valueOrDefault=function(de,pe){return null!=de?de:pe},Ce.urlCombine=function(de,pe){if(this.throwIfNullOrUndefined(de,Ce,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(pe,Ce,"urlCombine","path"),(0,h.g)(pe))return de;if((0,h.g)(de))return pe;var le=de;return"/"===le.charAt(le.length-1)?"/"===pe.charAt(0)&&(pe=pe.slice(1)):"/"!==pe.charAt(0)&&(pe="/"+pe),le+pe},Ce.getAbsoluteUri=function(de){this.throwIfNullOrUndefined(de,Ce,"getAbsoluteUri","path");var pe=de;return pe&&-1===pe.indexOf("http")&&(pe=this.urlCombine(p.clusterUri,pe)),pe},Ce.getStaticResourceUri=function(de){this.throwIfNullOrUndefined(de,Ce,"getStaticResourceUri","path");var pe=de;return pe&&-1===pe.indexOf("http")&&(pe=this.urlCombine(n,pe)),pe},Ce.getComponentName=function(de){return de?(typeof de).toString()+".":""},Ce.throwException=function(de){throw v.f.error("Throwing exception: ".concat(JSON.stringify(de)),null==de.stack),this.ensureError(de)},Ce.createClassSelector=function(de){return this.throwIfNullOrEmptyString(de,null,"CreateClassSelector","className"),"."+de},Ce.createIdSelector=function(de){return this.throwIfNullOrEmptyString(de,null,"CreateIdSelector","id"),"#"+de},Ce.clampValue=function(de,pe,le){return e.fF.assert(function(){return pe<=le},"min value must be less than or equal the max value"),de=Math.min(de,le),Math.max(de,pe)},Ce.generateGuid=function(){var de="",pe=0;for(pe=0;pe<32;pe+=1){var le=16*Math.random()|0;switch(pe){case 8:case 12:case 16:case 20:de+="-"}de+=le.toString(16)}return de},Ce.getCookieValue=function(de){for(var le=0,me=document.cookie.split(";");le<me.length;le++){var be=me[le],Be=be.split("=");if(Be.length>0&&Be[0].trim()===de)return be.substr(be.indexOf("=")+1)}return null},Ce.getDomainForUrl=function(de){var pe=this.getHrefObjectFromUrl(de);return pe.prop("protocol")+"//"+pe.prop("hostname")},Ce.getHostNameForUrl=function(de){var pe=this.getHrefObjectFromUrl(de);return this.urlCombine(pe.prop("hostname"),pe.prop("pathname"))},Ce.getUrlWithoutQueryString=function(de){var pe=this.getHrefObjectFromUrl(de);return pe.prop("protocol")+"//"+this.urlCombine(pe.prop("host"),pe.prop("pathname"))},Ce.getProtocolFromUrl=function(de){return this.getHrefObjectFromUrl(de).prop("protocol").replace(":","")},Ce.getHrefObjectFromUrl=function(de){var pe=$("<a>");return pe.prop("href",de)},Ce.getDateFromWcfJsonString=function(de,pe){if(_.isEmpty(de))return null;var le=de.indexOf("("),me=de.indexOf(")");if(-1!==le&&-1!==me){var be=parseInt(de.substring(le+1,me),10);if(isNaN(be)&&(be=0),pe)return new Date(be);var Be=new Date(0);return Be.setUTCMilliseconds(be),Be}return null},Ce.isValidImageDataUrl=function(de){return this.ImageDataRegex.test(de)},Ce.encodeUriForImageDataSvg=function(de){if(this.ImageDataSvgRegex.test(de)){var pe=de.indexOf(",");if(pe>-1){var le=de.substring(0,pe).split(";"),me=de.substring(pe+1);try{me=decodeURIComponent(me)}catch(be){}return"".concat(le[0],",").concat(encodeURIComponent(me))}}return de},Ce.isLocalUrl=function(de){return _.startsWith(de,"data:")||_.startsWith(de,"blob:")},Ce.extractFileNameFromPath=function(de){return de.replace(/^.*[\\\/]/,"")},Ce.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},Ce.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},Ce.parseNumber=function(de,pe){if(null===de)return null;if(void 0===de)return pe;var le=Number(de);return isFinite(le)?le:isNaN(le)&&"number"!=typeof de&&"NaN"!==de?pe:le},Ce.getURLParamValue=function(de){var pe=new RegExp("[?&]"+de+"=([^&#]*)").exec(window.location.href);return null==pe?null:pe[1]||0},Ce.getLocalTimeZoneString=function(){var pe=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),me=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===pe&&-720===me?"Dateline Standard Time":-660===pe&&-660===me?"UTC-11":-660===pe&&-660===me?"Samoa Standard Time":-600===pe&&-600===me?"Hawaiian Standard Time":-480===pe&&-540===me?"Alaskan Standard Time":-420===pe&&-480===me?"Pacific Standard Time":-420===pe&&-420===me?"US Mountain Standard Time":-360===pe&&-420===me?"Mountain Standard Time":-360===pe&&-360===me?"Central America Standard Time":-300===pe&&-360===me?"Central Standard Time":-300===pe&&-300===me?"SA Pacific Standard Time":-240===pe&&-300===me?"Eastern Standard Time":-270===pe&&-270===me?"Venezuela Standard Time":-240===pe&&-240===me?"SA Western Standard Time":-240===pe&&-180===me?"Central Brazilian Standard Time":-180===pe&&-240===me?"Atlantic Standard Time":-180===pe&&-180===me?"Montevideo Standard Time":-180===pe&&-120===me?"E. South America Standard Time":-150===pe&&-210===me?"Mid-Atlantic Standard Time":-120===pe&&-120===me?"SA Eastern Standard Time":0===pe&&0===me?"UTC":60===pe&&0===me?"GMT Standard Time":60===pe&&120===me?"Namibia Standard Time":120===pe&&60===me?"Romance Standard Time":120===pe&&120===me?"South Africa Standard Time":180===pe&&120===me?"GTB Standard Time":180===pe&&180===me?"E. Africa Standard Time":240===pe&&180===me?"Russian Standard Time":240===pe&&240===me?"Arabian Standard Time":270===pe&&210===me?"Iran Standard Time":270===pe&&270===me?"Afghanistan Standard Time":300===pe&&240===me?"Pakistan Standard Time":300===pe&&300===me?"West Asia Standard Time":330===pe&&330===me?"India Standard Time":345===pe&&345===me?"Nepal Standard Time":360===pe&&300===me?"N. Central Asia Standard Time":360===pe&&360===me?"Central Asia Standard Time":390===pe&&390===me?"Myanmar Standard Time":420===pe&&360===me?"North Asia Standard Time":420===pe&&420===me?"SE Asia Standard Time":480===pe&&420===me?"North Asia East Standard Time":480===pe&&480===me?"China Standard Time":540===pe&&480===me?"Yakutsk Standard Time":540===pe&&540===me?"Tokyo Standard Time":570===pe&&570===me?"Cen. Australia Standard Time":600===pe&&600===me?"E. Australia Standard Time":600===pe&&660===me?"AUS Eastern Standard Time":660===pe&&600===me?"Tasmania Standard Time":660===pe&&660===me?"West Pacific Standard Time":690===pe&&690===me?"Central Pacific Standard Time":720===pe&&660===me?"Magadan Standard Time":720===pe&&720===me?"Fiji Standard Time":720===pe&&780===me?"New Zealand Standard Time":780===pe&&780===me?"Tonga Standard Time":"UTC"},Ce.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),Ce.ImageDataSvgRegex=new RegExp("data:(image/svg)"),Ce}(),re=0;function G(Ce){var de=window.performance;if(!de||!de.mark)return function(){return 0};var pe="Begin "+(Ce=++re+" "+Ce);de.mark(pe);var le=(0,f.z)();return function(){var me="End "+Ce;return de.mark(me),de.measure&&de.measure(Ce,pe,me),(0,f.z)()-le}}function ne(Ce){var de=window.performance;!de||!de.mark||(Ce=++re+" "+Ce,de.mark(Ce))}function X(Ce){var de=(0,f.z)();return Ce(),(0,f.z)()-de}function oe(Ce){var de,pe,le;return window.requestAnimationFrame||(window.requestAnimationFrame=function(me){return setTimeout(me,20)}),function(){de||(de=!0,pe=arguments,le=this,b.l.requestAnimationFrame(function(){de=!1,Ce.apply(le,pe)}))}}function Ve(Ce){return null!=Ce&&Ce%1!=0}var He=!1;!function(){if(!He){var Ce=h.W;(function(){var Ce=(0,c.kx)();return Ce.StringExtensions||(Ce.StringExtensions={}),Ce.StringExtensions}()).format=function(){for(var de=[],pe=0;pe<arguments.length;pe++)de[pe]=arguments[pe];return Ce.apply(void 0,de)},He=!0}}()},287027:function(Je,H,t){t.d(H,{W:function(){return s}});var e=t(226514),c=t(144900),s=function(){function v(b){this.onReEntry=b,this.active=0}return v.prototype.enqueue=function(b){var h=this;this.tail||(this.tail=new c.B,function(v){(0,e.__awaiter)(this,void 0,c.J,function(){var b,h,p,n;return(0,e.__generator)(this,function(l){switch(l.label){case 0:return[4,v];case 1:b=l.sent(),v=b.next,l.label=2;case 2:return l.trys.push([2,4,,5]),p=(h=b.result).resolve,[4,b.callback()];case 3:return p.apply(h,[l.sent()]),[3,5];case 4:return n=l.sent(),b.result.reject(n),[3,5];case 5:return[3,0];case 6:return[2]}})})}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var p=new c.B,n={next:p.promise,callback:b,result:new c.B};this.tail.resolve(n),this.tail=p;var l=n.result.promise;return++this.active,l.finally(function(){return--h.active}),l},v}()},932178:function(Je,H,t){t.d(H,{D:function(){return s},M:function(){return c}});var e=t(787941),c=function(){function f(){}return f.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},f.isChrome=function(){if(null!=this.isChromeCache)return this.isChromeCache;var v=this.navigator.vendor||"",b=this.navigator.userAgent.toLowerCase();return this.isChromeCache=v.toLowerCase().indexOf("google")>-1&&b.indexOf("chrome")>-1&&-1===b.indexOf("edge")&&-1===b.indexOf("opr"),this.isChromeCache},f.isInternetExplorerOrEdge=function(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var v=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=v.indexOf("msie")>-1||v.indexOf("trident")>-1||v.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache},f.isInternetExplorer11=function(){var v=this.navigator.userAgent.toLowerCase(),b=v.match(/rv:(\d+)/i);return!!(b&&b[1]&&parseInt&&11===parseInt(b[1],10))&&v.indexOf("trident")>-1&&-1===v.indexOf("msie")},f.isEdgeLegacy=function(){return!f.isInternetExplorer11()&&"StyleMedia"in window},f.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},f.isKeyboardClick=function(v){return 0===v.clientX&&0===v.clientX},f.isCtrlOrMeta=function(v){return!0===v[f.isMacOs()?"metaKey":"ctrlKey"]},f.noModifierPressed=function(v){var b=f.isMacOs()?"metaKey":"ctrlKey";return!v.shiftKey&&!v.altKey&&!v[b]},f.isPointerTypeTouch=function(v){return"touch"===v.pointerType},f.getInternetExplorerVersion=function(){var v=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var h=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);h&&(v=parseFloat(h[1]))}return v},f.isFirefox=function(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1},f.isMacOs=function(){return this.navigator.userAgent.indexOf("Macintosh")>=0},f.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},f.isSafari11OrHigher=function(){if(!this.isSafari())return!1;var v=this.navigator.userAgent.match(/version\/(\d+)/i),b=null==v?void 0:v[1];return!(null==b||!parseInt)&&parseInt(b,10)>=11},f.isIOSWebView=function(){var v=this.navigator.userAgent.toLowerCase();return v.indexOf("iphone")>-1||v.indexOf("ipad")>-1||v.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1},f.isAndroidWebView=function(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1},f.focus=function(v,b){if(v)if(v.focus)b?v.focus(b):v.focus();else try{HTMLElement.prototype.focus.apply(v)}catch(h){e.fF.assertFail("BrowserUtils.focus: failed to set focus on element: "+h)}},f.setBrowserSupportsHttp2=function(v){this.browserSupportsHttp2=v},f.calculateBrowserSupportsHttp2=function(){if(!window||!window.performance)return!1;var v=window.performance;return"h2"===(v.getEntriesByType&&v.getEntriesByType("navigation")&&v.getEntriesByType("navigation")[0]&&v.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())},f.navigator=window.navigator,f.browserSupportsHttp2=function(){return null!=f.browserSupportsHttp2Cache||(f.browserSupportsHttp2Cache=f.calculateBrowserSupportsHttp2()),f.browserSupportsHttp2Cache},f}();function s(f){return f.shiftKey?1:c.isCtrlOrMeta(f)?3:0}},106266:function(Je,H,t){t.d(H,{BT:function(){return G},CQ:function(){return w},Cv:function(){return Ve},Dw:function(){return n},G8:function(){return r},G_:function(){return Be},Gp:function(){return ee},IN:function(){return N},IW:function(){return f},JJ:function(){return Qe},JN:function(){return ue},Jr:function(){return xe},Kw:function(){return o},LB:function(){return Se},LY:function(){return d},M$:function(){return ne},Nq:function(){return x},Q:function(){return C},Qs:function(){return D},Qu:function(){return v},SS:function(){return F},UH:function(){return a},UN:function(){return He},Vc:function(){return pe},Xo:function(){return l},_m:function(){return Ce},bD:function(){return de},bP:function(){return P},bd:function(){return Fe},d5:function(){return u},fq:function(){return ie},hz:function(){return X},ie:function(){return V},k0:function(){return Pe},lg:function(){return L},mQ:function(){return I},mu:function(){return be},n$:function(){return S},oM:function(){return re},ob:function(){return le},q6:function(){return te},tL:function(){return J},uM:function(){return me},uY:function(){return oe},vX:function(){return ve},vi:function(){return k},wZ:function(){return T}});var e=t(226514),c=t(787941),s=t(690016);function f(We){return void 0===We.control.properties.descriptor}function v(We){return!!We.type}function b(We){return"card"===We.type}function h(We){return"group"===We.type}function p(We){return"slice"===We.type}function n(We){return"host"===We.source}function l(We){return b(We)}function r(We){return h(We)}function o(We){return p(We)}function a(We,Oe){return{name:We,source:"host",type:"card",suppressDefaultValue:Oe}}function u(We){return"visual"===We.source}function V(We){return b(We)}function d(We){return h(We)}function S(We){return p(We)}function C(We,Oe){return{name:We,source:"visual",type:"slice",suppressDefaultValue:Oe}}function P(We,Oe){return We+"-"+Oe}function T(We){var Oe={};for(var Ze in We)if(_.isString(Ze)){var Ee={},Ne=We[Ze].properties;for(var Y in Ne)_.isString(Y)?Ee[Y]={objectName:Ze,propertyName:Y}:c.fF.assertFail('Expected propertyName "'.concat(Y,'" to be a string'));Oe[Ze]=Ee}else c.fF.assertFail('Expected objectName "'.concat(Ze,'" to be a string'));return Oe}var x=function(){function We(){for(var Oe=[],Ze=0;Ze<arguments.length;Ze++)Oe[Ze]=arguments[Ze];this.cards=Oe}return We.prototype.addCards=function(){for(var Oe,Ze=[],Ee=0;Ee<arguments.length;Ee++)Ze[Ee]=arguments[Ee];return(Oe=this.cards).push.apply(Oe,Ze),this},We.prototype.withWarnings=function(Oe){return this.warnings=Oe,this},We.prototype.build=function(){var Oe=this;return{cards:this.cards.reduce(function(Ee,K){if(!K)return Ee;var Ne;if(!(Ne=_.isFunction(K)?K():K))return Ee;if(_.isArray(Ne))for(var Y=0,ye=Ne;Y<ye.length;Y++){var rt=ye[Y];rt&&(v(rt)||(it=Oe.shouldDisableCard(rt,Oe.disabledCards))&&(rt=(0,e.__assign)((0,e.__assign)({},rt),{disabled:it.disabled,disabledReason:it.disabledReason})),Ee.push(rt))}else{var it,Ue=Ne;v(Ue)||(it=Oe.shouldDisableCard(Ue,Oe.disabledCards))&&(Ue=(0,e.__assign)((0,e.__assign)({},Ue),{disabled:it.disabled,disabledReason:it.disabledReason})),Ee.push(Ue)}return Ee},[]),warnings:this.warnings}},We.prototype.withDisabledCards=function(Oe){return this.disabledCards=Oe,this},We.prototype.shouldDisableCard=function(Oe,Ze){var Ee=null==Ze?void 0:Ze[Oe.uid];if(Ee)return{disabled:!0,disabledReason:Ee.disabledReason}},We}();function D(We){var Oe=We.uid.split(" "),Ze=function(We){return new L(We)}(Oe[0]);return Ze.withGroup(Oe[1])}var L=function(){function We(Oe){this.cardName=Oe,this.groupNames=new Set}return We.prototype.build=function(){return(0,s.Jj)(this.cardName)},We.prototype.withGroup=function(Oe){var Ze=this;return void 0===Oe&&(Oe="default"),c.fF.assert(function(){return!Ze.groupNames.has(Oe)},'Already have group "'.concat(Oe,'"')),this.groupNames.add((0,s.Jj)(Oe)),new F(this,Oe)},We}(),F=function(){function We(Oe,Ze){this.cardUidBuilder=Oe,this.groupName=Ze,this.sliceNames=new Set}return We.getGroupUid=function(Oe){var Ze=Oe.split("-");return c.fF.assert(function(){return Ze.length>=2},"GroupUid must have at least two sections in the uid"),"".concat(Ze[Ze.length-1])},We.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var Oe=(0,s.Jj)(this.groupName);return"".concat(this.cardUid,"-").concat(Oe)},We.prototype.withSlice=function(Oe){return this.sliceNames.add(Oe),new N(this,Oe)},We.prototype.withContainer=function(Oe){return new O(this,Oe)},We}(),A=function(){function We(Oe,Ze){this.containerUidBuilder=Oe,this.itemName=Ze,this.sliceNames=new Set,this.groupNames=new Set}return We.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var Oe=(0,s.Jj)(this.itemName);return"".concat(this.containerUid,"-").concat(Oe)},We.prototype.withSlice=function(Oe){return this.sliceNames.add(Oe),new N(this,Oe)},We.prototype.withGroup=function(Oe){return void 0===Oe&&(Oe="default"),this.groupNames.add(Oe),new F(this,Oe)},We.prototype.withContainer=function(Oe){return new O(this,Oe)},We}(),O=function(){function We(Oe,Ze){this.groupUidBuilder=Oe,this.containerName=Ze}return We.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var Oe=(0,s.Jj)(this.containerName);return"".concat(this.groupUid,"-").concat(Oe)},We.prototype.withContainerItem=function(Oe){return new A(this,Oe)},We}(),N=function(){function We(Oe,Ze){this.groupUidBuilder=Oe,this.sliceName=Ze}return We.getGroupAndSliceUid=function(Oe){var Ze=Oe.split("-");return c.fF.assert(function(){return Ze.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(Ze[Ze.length-2],"-").concat(Ze[Ze.length-1])},We.getSliceUid=function(Oe){var Ze=Oe.split("-");return c.fF.assert(function(){return Ze.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(Ze[Ze.length-1])},We.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var Oe=(0,s.Jj)(this.sliceName);return"".concat(this.groupUid,"-").concat(Oe)},We}(),w=function(){function We(Oe,Ze,Ee,K,Ne,Y){void 0===Ne&&(Ne=!0),this.uidBuilder=Oe,this.displayName=Ze,this.localize=K,this.localizeDisplayName=Ne,this.analyticsPane=Y,this.suppressDisplayName=!1,this.groups=[],Ee&&(this.revertToDefaultDescriptors=_.isArray(Ee)?Ee:_.values(Ee))}return We.prototype.withDisabled=function(Oe,Ze){return this.disabled=Oe,this.disabledReason=Ze?this.localize(Ze):void 0,this},We.prototype.withDisabledLocalized=function(Oe,Ze){return this.disabled=Oe,this.disabledReason=Ze,this},We.prototype.withDescription=function(Oe){return this.description=Oe,this},We.prototype.withAliasName=function(Oe){var Ze;return this.aliasNames=null!==(Ze=this.aliasNames)&&void 0!==Ze?Ze:[],this.aliasNames.push(this.localize(Oe)),this},We.prototype.withGroups=function(Oe){return this.groups=Oe,this},We.prototype.addGroupPlaceholder=function(Oe){return this.groups.push(Oe),this},We.prototype.addGroup=function(Oe,Ze){var Ee=this.getGroupBuilder(Oe);return Ze(Ee),this.groups.push(Ee.build()),this},We.prototype.getGroupBuilder=function(Oe){var Ze=this;return void 0===Oe&&(Oe="default"),new I(this.uidBuilder.withGroup(Oe),function(Ee){return Ze.localize(Ee)})},We.prototype.addTopLevelToggle=function(Oe,Ze,Ee){var K=this.uidBuilder.withGroup("topLevelToggle").withSlice(Oe),Ne=Ze(),ye=new at({control:Ne,localize:this.localize,uidBuilder:K});return Ee&&Ee(ye),this.topLevelToggle=ye.build(),this},We.prototype.assertDescriptorsAreAdded=function(){if(this.revertToDefaultDescriptors){var Oe=[];this.groups.forEach(function(K){!v(K)&&K.slices&&K.slices.forEach(function(Ne){v(Ne)||Oe.push(Ne)})});var Ze=new Set,Ee="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(function(K){return Ze.add(K.objectName+"-"+K.propertyName)}),Oe.forEach(function(K){if(!v(K))if(f(K)){var Ne=K.control.properties;Object.keys(Ne).forEach(function(rt){var it,Ue=null===(it=Ne[rt])||void 0===it?void 0:it.descriptor;if(void 0!==Ue){var De=Ue.objectName+"-"+Ue.propertyName;c.fF.assert(function(){return Ze.has(De)},"".concat(Ee," ").concat(De?"- missing '".concat(De,"'"):""))}})}else{var Y=K.control.properties.descriptor,ye=Y.objectName+"-"+Y.propertyName;c.fF.assert(function(){return Ze.has(ye)},"".concat(Ee," ").concat(ye?"- missing '".concat(ye,"'"):""))}})}},We.prototype.build=function(){var Oe=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:Oe,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},We}(),I=function(){function We(Oe,Ze){this.uidBuilder=Oe,this.localize=Ze,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}return We.prototype.withContainer=function(Oe){return this.container=Oe,this},We.prototype.withContainerDisabled=function(Oe){return void 0===Oe&&(Oe=!0),this.containerDisabled=Oe,this.sliceWithContainer=!0,this},We.prototype.withDescription=function(Oe){return this.description=Oe,this},We.prototype.withAliasName=function(Oe){var Ze;return this.aliasNames=null!==(Ze=this.aliasNames)&&void 0!==Ze?Ze:[],this.aliasNames.push(this.localize(Oe)),this},We.prototype.withInheritDisabled=function(Oe){return this.inheritDisabled=Oe,this},We.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},We.prototype.withCollapsible=function(Oe){return void 0===Oe&&(Oe=!0),this.collapsible=Oe,this},We.prototype.withDisplayName=function(Oe,Ze){return void 0===Ze&&(Ze=!0),this.displayName=Ze?Oe?this.localize(Oe):void 0:Oe,this.suppressDisplayName=!1,this},We.prototype.withSlices=function(Oe){return this.slices=Oe,this},We.prototype.withDisabled=function(Oe,Ze){return this.disabled=Oe,this.disabledReason=Ze?this.localize(Ze):void 0,this},We.prototype.addSlicePlaceholder=function(Oe){return this.slices.push(Oe),this},We.prototype.addSlice=function(Oe){return this.slices.push(Oe),this},We.prototype.addSimpleSlice=function(Oe,Ze,Ee){var K=this.getSliceName(Oe),Ne=_.isFunction(Ze)?Ze():Ze,Y=this.getSimpleSliceBuilder(K,Ne);return Ee&&Ee(Y),this.slices.push(Y.build()),this},We.prototype.addCompositeSlice=function(Oe,Ze,Ee,K){var Ne=_.isFunction(Ee)?Ee():Ee,Y=this.getCompositeSliceBuilder(Oe,Ze,Ne);return K&&K(Y),this.slices.push(Y.build()),this},We.prototype.addSlices=function(Oe){return this.slices=this.slices.concat(Oe),this},We.prototype.getSimpleSliceBuilder=function(Oe,Ze){var Ee=this.getSliceName(Oe),K=this.uidBuilder.withSlice(Ee);return new k({control:Ze,localize:this.localize,uidBuilder:K})},We.prototype.addTopLevelToggle=function(Oe,Ze,Ee){var K=this.uidBuilder.withSlice(Oe),Ne=Ze(),ye=new at({control:Ne,localize:this.localize,uidBuilder:K});return Ee&&Ee(ye),this.topLevelToggle=ye.build(),this},We.prototype.getCompositeSliceBuilder=function(Oe,Ze,Ee){var K=this.getSliceName(Oe),Ne=this.uidBuilder.withSlice(K);return new Q({control:Ee,displayName:Ze,localize:this.localize,uidBuilder:Ne})},We.prototype.getSliceName=function(Oe){if(_.isString(Oe))return(0,s.Jj)(Oe);var Ee=Oe;return"".concat(Ee.objectName,"-").concat(Ee.propertyName)},We.prototype.addContainer=function(Oe,Ze){var Ee=this.getContainerBuilder(Oe);return Ze(Ee),this.container=Ee.build(),this},We.prototype.getContainerBuilder=function(Oe){return new W(this.uidBuilder.withContainer(Oe),this.localize)},We.prototype.build=function(){var Oe,Ze=null!==(Oe=this.displayName)&&void 0!==Oe?Oe:"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:Ze,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}},We}(),B=function(We){function Oe(){return null!==We&&We.apply(this,arguments)||this}return(0,e.__extends)(Oe,We),Oe.prototype.build=function(){return We.prototype.build.call(this)},Oe}(I),j=function(){function We(Oe,Ze,Ee){this.uidBuilder=Oe,this.displayName=Ze,this.localize=Ee,this.slices=[],this.groups=[]}return We.prototype.withSlices=function(Oe){return this.slices=Oe,this},We.prototype.addSimpleSlice=function(Oe,Ze,Ee){var K=this.getSliceName(Oe),Ne=_.isFunction(Ze)?Ze():Ze,Y=this.getSimpleSliceBuilder(K,Ne);return Ee&&Ee(Y),this.slices.push(Y.build()),this},We.prototype.addCompositeSlice=function(Oe,Ze,Ee,K){var Ne=_.isFunction(Ee)?Ee():Ee,Y=this.getCompositeSliceBuilder(Oe,Ze,Ne);return K&&K(Y),this.slices.push(Y.build()),this},We.prototype.getSimpleSliceBuilder=function(Oe,Ze){var Ee=this.getSliceName(Oe),K=this.uidBuilder.withSlice(Ee);return new k({control:Ze,localize:this.localize,uidBuilder:K})},We.prototype.getCompositeSliceBuilder=function(Oe,Ze,Ee){var K=this.getSliceName(Oe),Ne=this.uidBuilder.withSlice(K);return new Q({control:Ee,displayName:Ze,localize:this.localize,uidBuilder:Ne})},We.prototype.addContainer=function(Oe,Ze){var Ee=this.getContainerBuilder(Oe);return Ze(Ee),this.container=Ee.build(),this},We.prototype.getContainerBuilder=function(Oe){return new W(this.uidBuilder.withContainer(Oe),this.localize)},We.prototype.getSliceName=function(Oe){if(_.isString(Oe))return Oe;var Ee=Oe;return"".concat(Ee.objectName,"-").concat(Ee.propertyName)},We.prototype.withGroups=function(Oe){return this.groups=Oe,this},We.prototype.addGroup=function(Oe,Ze){var Ee=Oe?(0,s.Jj)(Oe):void 0,K=this.getGroupBuilder(Ee);return Ze(K),this.groups.push(K.build()),this},We.prototype.getGroupBuilder=function(Oe){return void 0===Oe&&(Oe="default"),new B(this.uidBuilder.withGroup(Oe),this.localize)},We.prototype.withDefaultSelected=function(Oe){return this.defaultSelected=Oe,this},We.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build()}},We}(),W=function(){function We(Oe,Ze){this.uidBuilder=Oe,this.localize=Ze,this.suppressDisplayName=!0,this.containerItems=[]}return We.prototype.withDisplayName=function(Oe){return this.displayName=Oe,this.suppressDisplayName=!1,this},We.prototype.withDescription=function(Oe){return this.description=Oe,this},We.prototype.addContainerItem=function(Oe,Ze,Ee){var K=(0,s.Jj)(Oe),Ne=this.getContainerItemBuilder(K,Ze);return Ee(Ne),this.containerItems.push(Ne.build()),this},We.prototype.getContainerItemBuilder=function(Oe,Ze){return new j(this.uidBuilder.withContainerItem(""),Ze,this.localize)},We.prototype.build=function(){var Oe=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:Oe,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},We}(),U=function(){function We(Oe){this.control=Oe.control,this.localize=Oe.localize,this.uidBuilder=Oe.uidBuilder}return We.prototype.withDisabled=function(Oe,Ze){return this.disabled=Oe,this.disabledReason=Ze?this.localize(Ze):void 0,this},We.prototype.withHidden=function(Oe){return this.hidden=Oe,this},We}(),k=function(We){function Oe(Ze){return We.call(this,Ze)||this}return(0,e.__extends)(Oe,We),Oe.prototype.withCustomDisplayName=function(Ze,Ee){return void 0===Ee&&(Ee=!0),this.displayName=Ee?this.localize(Ze):Ze,this},Oe.prototype.withSuppressDisplayName=function(Ze){return this.suppressDisplayName=Ze,this},Oe.prototype.withCustomDescription=function(Ze,Ee){return void 0===Ee&&(Ee=!0),c.fF.assertValue(Ze,"description"),this.description=Ee?this.localize(Ze):Ze,this},Oe.prototype.withCustomDescriptionIf=function(Ze,Ee,K){return void 0===K&&(K=!0),Ze()?this.withCustomDescription(Ee,K):this},Oe.prototype.withAliasName=function(Ze){var Ee;return this.aliasNames=null!==(Ee=this.aliasNames)&&void 0!==Ee?Ee:[],this.aliasNames.push(this.localize(Ze)),this},Oe.prototype.withInfoIconText=function(Ze){return this.infoIconText=Ze,this},Oe.prototype.build=function(){var Ze=this;return c.fF.assert(function(){return!!Ze.control},"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}},Oe}(U),Q=function(We){function Oe(Ze){var Ee=We.call(this,Ze)||this;return Ee.displayName=Ze.displayName,Ee.description=Ze.description,Ee}return(0,e.__extends)(Oe,We),Oe.prototype.withInfoIconText=function(Ze){return this.infoIconText=Ze,this},Oe.prototype.withAliasName=function(Ze){var Ee;return this.aliasNames=null!==(Ee=this.aliasNames)&&void 0!==Ee?Ee:[],this.aliasNames.push(this.localize(Ze)),this},Oe.prototype.withSuppressDisplayName=function(Ze){return this.suppressDisplayName=Ze,this},Oe.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},Oe}(U),te=function(){function We(){}return We.prototype.withDisplayName=function(Oe,Ze,Ee){return this.description=Ze,this.displayName=Oe,this.suppressDisplayName=Ee,this},We.prototype.withUid=function(Oe){return this.uid=P(Oe.objectName,Oe.propertyName),this},We.prototype.withControlProperties=function(Oe){return this.control=Oe,this},We.prototype.withDisabled=function(Oe){return void 0===Oe&&(Oe=!0),this.disabled=Oe,this},We.prototype.build=function(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}},We}(),ee=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},We}(),J=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},We}(),re=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},We}(),G=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},We}(),ne=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},We}(),X=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},We}(),oe=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},We}(),Ve=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"DurationPicker",properties:this.properties}},We}(),Qe={minValue:{type:0,value:8},maxValue:{type:1,value:60}},He=function(){function We(){}return We.prototype.withFontSizeProperties=function(Oe){var K,Ze=Oe.options,Ee=(0,e.__assign)({},Qe);K=Ze?(0,e.__assign)((0,e.__assign)({},Ee),Ze):Ee;var Ne=(0,e.__assign)((0,e.__assign)({},Oe),{options:K});return this.fontSize=Ne,this},We.prototype.withFontFamily=function(Oe){return this.fontFamily=Oe,this},We.prototype.withBold=function(Oe){return this.bold=Oe,this},We.prototype.withItalic=function(Oe){return this.italic=Oe,this},We.prototype.withUnderline=function(Oe){return this.underline=Oe,this},We.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},We}(),Ce=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},We}(),de=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ImageUpload",properties:this.properties}},We}(),pe=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"Link",properties:this.properties}},We}(),le=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},We}(),me=function(){function We(){}return We.prototype.withLeft=function(Oe){return this.left=Oe,this},We.prototype.withRight=function(Oe){return this.right=Oe,this},We.prototype.withTop=function(Oe){return this.top=Oe,this},We.prototype.withBottom=function(Oe){return this.bottom=Oe,this},We.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},We}(),be=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){var Oe=this.properties;return null==Oe.placeholderText&&(Oe=(0,e.__assign)({},Oe)),{type:"NumUpDown",properties:Oe}},We}(),Be=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ReadOnlyText",properties:this.properties}},We}(),Se=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},We}(),Pe=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},We}(),ue=function(){function We(Oe){this.properties=Oe}return We.getTransparencySliderBuilder=function(Oe,Ze){var Y={descriptor:Oe.descriptor,value:Oe.value,localize:Oe.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new We(Ze?Ze(Y):Y)},We.getRotationSliderBuilder=function(Oe,Ze){var Y={descriptor:Oe.descriptor,value:Oe.value,localize:Oe.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new We(Ze?Ze(Y):Y)},We.prototype.build=function(){var Oe=(0,e.__assign)({},this.properties);return delete Oe.localize,{type:"Slider",properties:Oe}},We}(),ve=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},We}(),xe=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){var Oe=this.properties.placeholder;Oe&&(Oe=this.properties.localize(Oe));var Ze=(0,e.__assign)((0,e.__assign)({},this.properties),{placeholder:Oe});return delete Ze.localize,{type:"TextArea",properties:Ze}},We}(),ie=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"TextInput",properties:this.properties}},We}(),Fe=function(){function We(Oe){this.properties=Oe}return We.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},We}(),at=function(We){function Oe(Ze){return We.call(this,Ze)||this}return(0,e.__extends)(Oe,We),Oe.prototype.build=function(){var Ze=this;return c.fF.assert(function(){return!!Ze.control},"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}},Oe.prototype.withNoDefaultImpact=function(Ze){return this.noDefaultImpact=Ze,this},Oe}(U)},289135:function(Je,H,t){function e(b){return b instanceof Date&&"number"==typeof b.epochTimeStamp}function c(b){var h=new Date(b.getTime());return h.epochTimeStamp=b.epochTimeStamp,h}function s(b,h,p,n,l,r,o){void 0===h&&(h=0),void 0===p&&(p=1),void 0===n&&(n=0),void 0===l&&(l=0),void 0===r&&(r=0),void 0===o&&(o=0);var a=new Date(b,h,p,n,l,r,o);return a.epochTimeStamp=Date.UTC(b,h,p,n,l,r,o),a}function f(b){var h=b;return h.epochTimeStamp=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),h}function v(b){return f(new Date(b))}t.d(H,{Fg:function(){return f},Fh:function(){return c},M4:function(){return e},tU:function(){return v},yI:function(){return s}})},143509:function(Je,H,t){function e(c){c&&Object.getOwnPropertyNames(c).forEach(function(s){"constructor"!==s&&Object.defineProperty(c,s,{enumerable:!0})})}t.d(H,{y:function(){return e}})},10660:function(Je,H,t){function e(s){var f=_.lastIndexOf(s,".");return f>=0?s.substr(f+1):""}function c(s){var f=_.lastIndexOf(s,".");return f>=0?s.substr(0,f):s}t.d(H,{K:function(){return c},m:function(){return e}})},261374:function(Je,H,t){function e(s){return _.isEmpty(s)||_.isEmpty(s.trim())}function c(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var v=s[0];if(e(v))return v;for(var b=0;b<s.length-1;b++){var h=new RegExp("\\{"+b+"\\}","gm");v=v.replace(h,s[b+1])}return v}t.d(H,{W:function(){return c},g:function(){return e}})},959138:function(Je,H,t){function e(b){return 40===b||38===b||37===b||39===b}function c(b){return"ArrowDown"===b||"ArrowUp"===b||"ArrowRight"===b||"ArrowLeft"===b}function s(b){return 65===b||67===b||88===b||86===b||90===b||89===b}function f(b){return 16===b}function v(b){return 46===b}t.d(H,{FJ:function(){return c},SF:function(){return f},Wl:function(){return e},iZ:function(){return s},rH:function(){return v}})},383052:function(Je,H,t){t.d(H,{DR:function(){return s},GG:function(){return c}});var e=t(189950),c=function(){function v(b){void 0===b&&(b=!1);var h=this;this.promise=new e.I(function(p,n){h.resolver=p,h.rejector=n})}return v.prototype.resolve=function(b){this.resolver(b)},v.prototype.reject=function(b){this.rejector(b)},v}();function s(v){if(e.I.useNativePromise)return Promise.resolve(v);var b=new c(!0);return b.resolve(v),b.promise}},189950:function(Je,H,t){t.d(H,{I:function(){return h}});var e=t(787941),c=t(750005),s=t(826691);function f(p){return p&&_.isObject(p)&&p.then&&_.isFunction(p.then)}function v(p){return f(p)?p.then:null}var h=function(){function p(l,r){var o=this;if(this[n]="Promise",this.timeout=p.ensurePbiTimeout(),this.autoFlush=p.autoFlushInitialized||!!r,this.state={status:0},l){if(p.useNativePromise)return new Promise(l);l(function(a){return p.resolvePromise(o,a)},function(a){return p.rejectPromise(o,a)})}}var n;return p.prototype.then=function(l,r){if(_.isUndefined(l)&&_.isUndefined(r))return this;var o=new p(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:o,onFulfilled:l,onRejected:r}),this.state.status>0&&this.scheduleProcessQueue(),o},p.prototype.catch=function(l){return this.then(null,l)},p.prototype.finally=function(l){return this.then(function(r){return p.handleCallback(r,p.resolve,l)},function(r){return p.handleCallback(r,p.reject,l)})},p.all=function(l,r){if(p.useNativePromise)return Promise.all(l);var o,a,i=new p(function(g,y){o=g,a=y},r),m=[],u=l.length;if(u>0)for(var V=0,d=function(y){var C=l[y];v(C)||(C=p.resolve(C,r)),C.then(function(P){m[y]=P}).catch(function(P){a(P)}).finally(function(){++V===u&&o(m)})},S=0;S<u;S++)d(S);else o(m);return i},p.setUseNativePromise=function(l){p.useNativePromise=l},p.resolvePromise=function(l,r){this.useNativePromise&&this.traceError&&(this.traceError=!1,s.f.error("resolvePromise should not be called when useNativePromise is true")),!l.state.status&&(r===l?l.rejectInternal("Expected promise to be resolved with value other than itself"):l.resolveInternal(r))},p.rejectPromise=function(l,r){this.useNativePromise&&this.traceError&&(this.traceError=!1,s.f.error("rejectPromise should not be called when useNativePromise is true")),!l.state.status&&l.rejectInternal(r)},p.reset=function(){p.usingMicrotask=void 0,p.pbiTimeout=void 0,p.autoFlushInitialized=void 0},p.init=function(l,r,o,a){void 0!==a&&(p.useNativePromise=a)||p.usingMicrotask||(p.autoFlushInitialized=r,o?(p.pbiTimeout=(0,c.k)(function(i){Zone.current.scheduleMicroTask("PbiPromise.useMicrotask",i)}),p.usingMicrotask=!0):(e.fF.assertValue(l,"pbiTimeout"),p.pbiTimeout=l||p.pbiTimeout))},p.resolve=function(l,r,o,a){if(p.useNativePromise)return Promise.resolve(l);var i=new p(null,r);return p.resolvePromise(i,l),i.then(null!=o?o:null,a)},p.reject=function(l,r){return p.useNativePromise?Promise.reject(l):new p(function(o,a){return a(l)},r)},p.prototype.defer=function(l){e.fF.assert(function(){return _.isFunction(l)},"callback"),this.autoFlush&&this.state.status>0?l():(e.fF.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(l,0))},p.prototype.resolveInternal=function(l){var o,r=this;try{(o=v(l))?(this.state.status=-1,o.call(l,function(a){r.resolveInternal(a)},function(a){r.rejectInternal(a)})):(this.state.value=l,this.state.status=1,this.scheduleProcessQueue())}catch(a){this.rejectInternal(a)}},p.prototype.rejectInternal=function(l){this.state.value=l,this.state.status=2,this.scheduleProcessQueue()},p.prototype.scheduleProcessQueue=function(){var l=this.state;l.processScheduled||_.isEmpty(l.pending)||(l.processScheduled=!0,this.defer(function(){return p.processQueue(l)}))},p.ensurePbiTimeout=function(){var l=p.pbiTimeout;return l||(l=p.pbiTimeout=(0,c.k)()),l},p.handleCallback=function(l,r,o){var a=null;try{_.isFunction(o)&&(a=o())}catch(i){return p.reject(i)}return f(a)?a.then(function(i){return r(l)},p.reject):r(l)},p.processQueue=function(l){var r=l.pending;l.processScheduled=!1,l.pending=void 0;for(var o=0,a=r;o<a.length;o++){var i=a[o],m=i.result,u=void 0;u=1===l.status?i.onFulfilled:u,u=2===l.status?i.onRejected:u;try{_.isFunction(u)?p.resolvePromise(m,u(l.value)):1===l.status?p.resolvePromise(m,l.value):p.rejectPromise(m,l.value)}catch(V){p.rejectPromise(m,V)}}},n=Symbol.toStringTag,p.useNativePromise=!0,p.traceError=!0,p}()},144900:function(Je,H,t){t.d(H,{B:function(){return f},J:function(){return s}});var e=t(787941),c=t(121157),s=function(){function b(p){var n=this;if(this[h]="Promise",b.useNativePromise)return new window.Promise(p);this.defer=b.ensureFactory().defer(),p(function(l){return n.onResolve(l)},function(l){return n.onReject(l)})}var h;return b.prototype.then=function(p,n){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==n,this.defer.promise.then(p,n)},b.prototype.catch=function(p){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==p,this.defer.promise.catch(p)},b.prototype.finally=function(p){return this.defer.promise.finally(p)},b.init=function(p,n,l,r){e.fF.assertValue(p,"promiseFactory"),e.fF.assertAnyValue(n,"exceptionHandler"),e.fF.assert(function(){return l||!b.defaultFactoryWasProvided},"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=r&&(b.useNativePromise=r),b.factory=p,b.exceptions=n,b.defaultFactoryWasProvided=!1},b.setUseNativePromise=function(p){b.useNativePromise=p},b.ensureFactory=function(){var p=b.factory;return p||(p=b.factory=(0,c.p)(),b.defaultFactoryWasProvided=!0),p},b.resolve=function(p){return b.useNativePromise?window.Promise.resolve(p):new b(function(n,l){return n(p)})},b.reject=function(p){return b.useNativePromise?window.Promise.reject(p):new b(function(n,l){return l(p)})},b.allSettled=function(p){return b.useNativePromise?window.Promise.allSettled(p):new b(function(n,l){var r=p.length;if(r>0)for(var o=[],a=0;a<r;a++)p[a].then(function(i){return o.push({value:i,type:0})}).catch(function(i){return o.push({value:i,type:1})}).finally(function(){o.length===r&&n(o)});else n([])})},b.prototype.onResolve=function(p){var n=this;e.fF.assertAnyValue(p,"value"),function(b){return b&&_.isFunction(b.then)}(p)?p.then(function(l){return n.onResolve(l)},function(l){return n.onReject(l)}):this.defer.resolve(p)},b.prototype.onReject=function(p){if(e.fF.assertAnyValue(p,"error"),!this.hasRejectionHandling&&p instanceof Error&&!p.suppressExceptionHandler){var n=b.exceptions;n&&(p.suppressExceptionHandler=!0,n(p))}this.defer.reject(p)},h=Symbol.toStringTag,b.useNativePromise=!0,b}(),f=function(){function b(){var h=this;this.promise=new s(function(p,n){h.resolver=p,h.rejector=n})}return b.prototype.resolve=function(h){this.resolver(h)},b.prototype.reject=function(h){this.rejector(h)},b}()},569071:function(Je,H,t){t.d(H,{AD:function(){return i},Ay:function(){return V},I2:function(){return b},Iu:function(){return s},O7:function(){return v},OH:function(){return c},Pu:function(){return S},aI:function(){return p},bL:function(){return r},fg:function(){return d},jL:function(){return m},lO:function(){return o},nd:function(){return a},y4:function(){return f}});var e=t(787941),c=1e-6;function s(g,y){return e.fF.assertValue(g,"x"),e.fF.assertValue(y,"y"),"translate("+g+","+y+")"}function f(g){return e.fF.assertValue(g,"x"),"translateX("+g+"px)"}function v(g,y){return e.fF.assertValue(g,"x"),e.fF.assertValue(y,"y"),"translate("+g+"px,"+y+"px)"}function b(g,y,C,E,M){return e.fF.assertValue(g,"x"),e.fF.assertValue(y,"y"),e.fF.assertValue(C,"px"),e.fF.assertValue(E,"py"),e.fF.assertValue(M,"angle"),"translate("+g+","+y+") rotate("+M+","+C+","+E+")"}function p(g,y,C){return e.fF.assertValue(g,"x"),e.fF.assertValue(y,"y"),e.fF.assertValue(C,"ratio"),"translate("+g+","+y+") scale("+C+")"}function l(g){return function(){g.forEach(function(y){null!=y&&y.each(function(){var C;if(null!=this.__transition){if(_.some(this.__transition,function(N){return 0===N.state})){var E=d3.select(this);return void requestAnimationFrame(l([E]))}for(var M=this.__transition||{},T=0,x=Object.keys(M);T<x.length;T++){var D=M[x[T]];D&&(null===(C=D.timer)||void 0===C||C._call());for(var F=0,A=D.on._.end;F<A.length;F++)A[F].value.apply(this)}}})})}}function r(g){for(var y=[],C=1;C<arguments.length;C++)y[C-1]=arguments[C];if(g){var E=g,M=g;M.animation&&(E=M.animation),E&&E.transitionImmediate&&(_.isEmpty(y)||requestAnimationFrame(l(y)))}}function o(g){isNaN(g.x)&&(g.x=0),isNaN(g.y)&&(g.y=0)}function a(g){if(!g||0===g.length)return{x:"0",y:"0"};var y=g.split(/[\s,]+/);e.fF.assertValue(y,"translateCoordinates"),e.fF.assert(function(){return y.length>0},"translate array must atleast have one value");var E,C="0",M=y[0];if(1===y.length)E=M.substring(10,M.length-1);else{var P=y[1];C=P.substring(0,P.length-1),E=M.substring(10,M.length)}return{x:E,y:C}}function i(g,y,C){var M="M0 0";return M+="L0 "+y,{path:M+="L"+g+" "+y/2+" Z",transform:"rotate("+C+" "+g/2+" "+y/2+")"}}function m(g){var y;try{y=g.getBBox()}catch(C){}return y||{x:0,y:0,width:0,height:0}}function V(g){return _.map(g,function(E,M){return function(M){return 1==(1&M)?",":0===M?"M":"L"}(M)+E}).join("")+"z"}function d(g,y){if(!(g.length<4||g.length%2!=0)){var C=_.map(g,function(L){return Math.round(L*y)}),E=[],M=C[0],P=C[1];E.push(M),E.push(P);for(var T=2;T<C.length;T+=2){var x=C[T],R=C[T+1];Math.abs(M-x)+Math.abs(P-R)<2||(E.push(x),E.push(R))}return V(E)}}function S(g,y,C){if("vectorEffect"in document.documentElement.style)return C;var E=g.split(" ");return e.fF.assert(function(){return 4===E.length},"viewBox must be of length 4"),C*(Math.max(+E[2],+E[3])/y)}},565146:function(Je,H,t){t.d(H,{DJ:function(){return v},DQ:function(){return u},Fj:function(){return V},HH:function(){return c},MN:function(){return E},ZY:function(){return T},av:function(){return C},en:function(){return y},fS:function(){return S},gU:function(){return s},mA:function(){return d},oB:function(){return g},pU:function(){return f},wo:function(){return h}});var e=t(516619);function c(L,F){if(void 0===F&&(F=!0),_.isEmpty(L))return!1;var A=y(L);if(!A)return!1;switch(x(A.scheme)){case C.http:case C.https:return F||!_.isEmpty(A.host);default:return!1}}function s(L){return c(L)}function f(L){return!(!L||0!==L.indexOf("data:"))}function v(L){if(!f(L))throw new Error("Expected data uri");var F=";base64,",A=L.indexOf(F);if(A<0)throw new Error("Expected base 64 content in data url");var O=A+F.length;return L.substr(O,L.length-O)}function h(L){return F=L,"data:application/json;base64,"+u(F);var F}var o=e.AK||function(L){return L&&L.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,function(F,A,O){return String.fromCharCode(parseInt(A||O,16))})},a=e.YU||function(L){return L&&L.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,function(F){var A=F.charCodeAt(0).toString(16).toUpperCase();switch(A.length){case 1:return"%0"+A;case 2:return"%"+A;case 3:return"%u0"+A;default:return"%u"+A}})};function u(L){return btoa(function(L){return o(encodeURIComponent(L))}(L))}function V(L){return function(L){return decodeURIComponent(a(L))}(atob(L))}function d(L){var F=R(L);if(F)return D(F)}function S(L,F,A){void 0===A&&(A=!1);var O=g(L),N=O.baseUrl;if(A&&_.assign(F,O.queryParameters),_.isEmpty(F))return N;var w=[];for(var I in F){var B=F[I];if(null==B)w.push(encodeURIComponent(I));else if("string"==typeof B)w.push(encodeURIComponent(I)+"="+encodeURIComponent(B));else for(var j=0,W=B;j<W.length;j++){var U=W[j];w.push(encodeURIComponent(I)+"="+encodeURIComponent(U))}}return N+"?"+w.join("&")}function g(L){var F=R(L);return{baseUrl:F?L.slice(0,L.indexOf("?")):L,queryParameters:D(F)}}function y(L){var F={scheme:"",host:"",path:"",query:"",fragment:""};if(null==L)return F;var A=L.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return A?{scheme:A[1],host:A[2],path:A[3],query:A[4],fragment:A[5]}:F}var C=function(L){return L[L.NONE=0]="NONE",L[L.http=1]="http",L[L.https=2]="https",L[L.file=3]="file",L[L.ftp=4]="ftp",L[L.mailto=5]="mailto",L[L.news=6]="news",L[L.telnet=7]="telnet",L}({});function E(L){var F=y(L);return null==F||null==F.scheme?C.NONE:x(F.scheme)}var P=/https?:\/\/[^\/]+/i;function T(L){return L&&L.replace(P,"")}function x(L){if(_.isEmpty(L))return C.NONE;switch(L.toLowerCase()){case"http":return C.http;case"https":return C.https;case"file":return C.file;case"ftp":return C.ftp;case"mailto":return C.mailto;case"news":return C.news;case"telnet":return C.telnet;default:return C.NONE}}function R(L){var F=document.createElement("a");return F.href=L,F.search}function D(L){if(!L)return{};_.startsWith(L,"?")&&(L=L.substring(1));for(var A={},O=0,N=L.split("&");O<N.length;O++){var I=N[O].split("="),B=decodeURIComponent(I[0]),j=decodeURIComponent(I[1]),W=A[B];null==W?A[B]=j:"string"==typeof W?A[B]=[W,j]:W.push(j)}return A}},240849:function(Je,H,t){t.d(H,{sE:function(){return h},bY:function(){return l},r:function(){return p},ql:function(){return m},iD:function(){return n}});var e=t(787941),c=/\n+/g,s=/[\s\n]+/g,f=/([^\S\r\n])/g,v=" ";function b(g,y,C){if(C){for(var E=g-1;E>-1;E--)if(p(y[E]))return E+1}else{E=g;for(var M=y.length;E<M;E++)if(p(y[E]))return E}return C?0:y.length}function h(g,y){e.fF.assert(function(){return g>=0&&g<=y.length},"index within content string bounds");var C={start:0,end:0};return 0===y.length||(C.start=b(g,y,!0),C.end=b(g,y,!1)),C}function p(g){return s.lastIndex=0,s.test(g)}function n(g){var y=1;for(s.lastIndex=0,s.exec(g);0!==s.lastIndex;)y++,s.exec(g);return y}function l(g,y,C){for(var M=0,P=0,T=S(g);P<T.length;P++)C.text=T[P],M=Math.max(M,y(C));return M}function r(g,y,C){return y.text=g,C(y)}var a=function(){function g(){this.words=[],this.width=0}return g.prototype.getWidth=function(){return this.width},g.prototype.addWord=function(y,C){this.words.push(y),this.width+=C},g.prototype.toString=function(y){return this.words.join(y?"":v)},g.prototype.isEmpty=function(){return _.isEmpty(this.words)},g}(),i=function(){function g(){this.lastLine=new a,this.lines=[this.lastLine]}return g.prototype.newLine=function(){var y=this.lastLine;return this.lastLine=new a,this.lines.push(this.lastLine),y},Object.defineProperty(g.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),g.prototype.getLastLine=function(){return this.lastLine},g.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},g.prototype.addWord=function(y,C){this.lastLine.addWord(y,C)},g.prototype.getLines=function(){return this.lines},g}();function m(g,y,C,E,M,P,T,x,R){if(void 0===R&&(R=!1),!g)return[""];if("string"!=typeof g&&(g=String(g)),e.fF.assert(function(){return"string"==typeof g},"splitByWidth: content should be of type string"),M<1&&(M=Number.POSITIVE_INFINITY),x){for(var L=[],F=0,A=g.split(c);F<A.length;F++){var N=m(A[F],y,C,E,Math.max(1,M),P,T,!1,R);if(M>0)L.push.apply(L,N||[]),M-=N.length;else{var w=_.last(L);L[L.length-1]=w+v+N}}return L}P=P||function(Ve,Te){return Ve.text};for(var I=r(v,y,C),B=new i,W=0,U=S(g,R);W<U.length;W++){var k=U[W],Q=r(k,y,C),te=Q,ee=B.getLastLine().isEmpty();if(!ee&&k!==v&&(te+=I),B.getLastLineWidth()+te<=E||B.count>=M)B.addWord(k,te);else if(ee||B.newLine(),Q<=E)B.addWord(k,Q);else{var J=M-B.count;if(!T||J<=0)B.addWord(k,Q);else for(var re=u(k,y,C,E,J+1),G=0,ne=re.chunks.length;G<ne;G++){var X=re.chunks[G];G<ne-1?(B.addWord(X,E),B.newLine()):B.addWord(X,re.lastChunkWidth)}}}var oe=_.map(B.getLines(),function(Ve){return Ve.getWidth()>E?function(g,y,C,E){return y.text=g,C(y,E)}(Ve.toString(R),y,P,E):Ve.toString(R)});return oe}function u(g,y,C,E,M){var P={chunks:[],lastChunkWidth:0};if(M<1||0===g.length)return P;for(var T=function(g,y,C){return g.text="a",Math.floor(C/y(g))}(y,C,E),x=g,R=function(){if(P.chunks.length===M-1)return P.chunks.push(x),P.lastChunkWidth=r(x,y,C),"break";var F=function(g,y,C,E,M){if(_.isEmpty(g))return{sizeInCharacters:0,sizeInPixels:0};if(0===E)return{sizeInCharacters:1,sizeInPixels:r(g.substr(0,1),y,C)};for(var T={sizeInCharacters:0,sizeInPixels:0},x=Math.min(M,g.length),R=-1,D=g.length+1;R<D-1;){var L=r(g.substr(0,x),y,C),F=L/E;if(L<=E){R=x,T.sizeInCharacters=x,T.sizeInPixels=L;var A=F>0?Math.ceil(x/F):x+1;A=Math.max(A,x+1),x=A=Math.min(A,D-1)}else D=x,A=F>0?Math.floor(x/F):x-1,A=Math.min(A,x-1),x=A=Math.max(A,R+1)}return 0===T.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:r(g.substr(0,1),y,C)}:T}(x,y,C,E,T);T=F.sizeInCharacters;var A=F.sizeInCharacters;if(e.fF.assert(function(){return A<=x.length},"Chunk size is greater than the whole text"),P.chunks.push(x.substr(0,A)),P.lastChunkWidth=F.sizeInPixels,A===x.length)return"break";x=x.substr(A,x.length-A)};x.length>0&&"break"!==R(););return P}function S(g,y){return y&&(g=g.replace(c,"")),g.split(y?f:s)}},710545:function(Je,H,t){t.d(H,{l:function(){return c}});var c=new(function(){function s(){}return s.prototype.initialize=function(f){this.runOutsideAngular=function(v){return f.runOutsideAngular(v)}},s.prototype.setInterval=function(f,v){return this.runOutsideAngular(function(){return setInterval(f,v)})},s.prototype.setTimeout=function(f,v){return this.runOutsideAngular(function(){return setTimeout(f,v)})},s.prototype.requestAnimationFrame=function(f){this.runOutsideAngular(function(){return requestAnimationFrame(f)})},s.prototype.runOutsideAngular=function(f){return f()},s}())},883863:function(Je,H,t){t.d(H,{Br:function(){return m},EB:function(){return f},Gz:function(){return E},JG:function(){return n},JN:function(){return A},Jq:function(){return u},LF:function(){return R},NF:function(){return l},Rl:function(){return B},U1:function(){return a},UR:function(){return i},UU:function(){return w},X_:function(){return Q},ZH:function(){return T},bv:function(){return d},cq:function(){return o},dB:function(){return D},f1:function(){return k},g2:function(){return y},iv:function(){return N},pT:function(){return F},qn:function(){return p},rC:function(){return g},rY:function(){return O},rd:function(){return L},rm:function(){return r},s_:function(){return j},w6:function(){return h},x:function(){return I},yg:function(){return C},z8:function(){return S}});var e=t(787941);function f(te){for(var ee=[],J=0,re=te.length;J<re;J++){var G=te[J];-1===ee.indexOf(G)&&ee.push(G)}return ee}function h(te,ee,J){e.fF.assert(function(){return ee>=0&&ee<te.length},"startIndex is out of range."),e.fF.assert(function(){return J>=0&&J<te.length},"endIndex is out of range.");for(var re=[],G=ee;G<=J;++G)re.push(te[G]);return re}function p(te,ee){e.fF.assert(function(){return ee>=0},"Count is negative."),e.fF.assert(function(){return ee<=te.length},"Count is too large.");for(var J=[],re=0;re<ee;++re)J.push(te[re]);return J}function n(te){return e.fF.assertValue(te,"source"),p(te,te.length)}function l(te,ee,J){var re;if(te||(te=null),ee||(ee=null),te===ee)return!0;if(!!te!=!!ee)return!1;var G=null!==(re=null==te?void 0:te.length)&&void 0!==re?re:0;if(G!==(null==ee?void 0:ee.length))return!1;for(var ne=0;ne<G&&J(null==te?void 0:te[ne],null==ee?void 0:ee[ne]);)++ne;return ne===G}function r(te){return te&&0===te.length?null:te}function o(te,ee){e.fF.assertValue(te,"array"),e.fF.assertValue(ee,"predicate");for(var J=0,re=te.length;J<re;++J)if(ee(te[J]))return J;return-1}function a(te,ee){if(0===ee)return te.slice();var J=te.slice(ee);return Array.prototype.push.apply(J,te.slice(0,ee)),J}function i(){return m([])}function m(te){e.fF.assertValue(te,"array");var ee=te;return ee.withId=V,ee}function u(te,ee){for(var J=0,re=te.length;J<re;J++){var G=te[J];if(G.id===ee)return G}}function V(te){return u(this,te)}function d(){return S([])}function S(te){e.fF.assertValue(te,"array");var ee=te;return ee.withName=P,ee}function g(te,ee){var J=y(te,ee);if(J>=0)return te[J]}function y(te,ee){for(var J=0,re=te.length;J<re;J++)if(te[J].name===ee)return J;return-1}function C(te,ee){e.fF.assertValue(te,"list"),e.fF.assertValue(ee,"value");for(var re=te.length-1;re>=0;re--){var G=te[re]-ee;if(0===G)return!1;if(!(G>0))return te.splice(re+1,0,ee),!0}return te.unshift(ee),!0}function E(te,ee){e.fF.assertValue(te,"list"),e.fF.assertValue(ee,"value");for(var J=0,re=te;J<re.length;J++)if(re[J]===ee)return!1;return te.push(ee),!0}function P(te){return g(this,te)}function T(te){if(te)for(;te.length>0;)te.pop()}function R(te,ee,J){var re=te[ee];te[ee]=te[J],te[J]=re}function D(te,ee,J){return _.some(te,function(re){return J(re,ee)})}function L(te){e.fF.assertValue(te,"obj");for(var ee=te;null!=ee;){if(_.isArray(ee))return!0;ee=Object.getPrototypeOf(ee)}return!1}function F(te,ee){e.fF.assertValue(te,"values"),e.fF.assertValue(ee,"compareFunction");var J=te.length;if(J>=2)for(var re=1;re<J;re++)if(ee(te[re-1],te[re])>0)return!1;return!0}function A(te,ee){return e.fF.assertValue(te,"values"),e.fF.assertAnyValue(ee,"descendingOrder"),F(te,ee?function(re,G){return G-re}:function(re,G){return re-G})}function O(te){return _.isArray(te)?te:[te]}function N(te){return _.uniqBy(te,function(ee){return ee.name}).length===te.length}function w(te,ee){e.fF.assertValue(te,"array");for(var J,re=0,G=te.length;re<G;re++){var ne=te[re],X=ee(ne);ne!==X&&!J&&(J=p(te,re)),J&&J.push(X)}return J||te}function I(te,ee){e.fF.assertValue(te,"array");for(var J,re=0,G=te.length;re<G;re++){var ne=te[re],X=ee(ne,re),oe=1!==X.length||X[0]!==ne;oe&&!J&&(J=p(te,re)),J&&(oe?J.push.apply(J,X||[]):J.push(ne))}return J||te}function B(te,ee){e.fF.assertValue(te,"array");for(var J,re=0,G=te.length;re<G;re++){var ne=te[re],X=ee(ne,re);!X&&!J&&(J=p(te,re)),J&&X&&J.push(ne)}return J||te}function j(te,ee,J){return _.isEmpty(te)||_.isEmpty(ee)?_.isEmpty(te)&&_.isEmpty(ee):te.length===ee.length&&function(te,ee,J){for(var re=new Array(ee.length),G=0,ne=te;G<ne.length;G++){for(var X=ne[G],oe=!1,Ve=0;Ve<ee.length;Ve++)if(!re[Ve]&&J(X,ee[Ve])){oe=!0,re[Ve]=!0;break}if(!oe)return!1}return!0}(te,ee,J)}function k(te,ee,J){if(_.isEmpty(te)||_.isEmpty(ee))return[];for(var re=[],G=0;G<=te.length;G++){re[G]=[];for(var ne=0;ne<=ee.length;ne++)re[G][ne]=0===G||0===ne?0:J(te[G-1],ee[ne-1])?re[G-1][ne-1]+1:Math.max(re[G-1][ne],re[G][ne-1])}for(var X=[],oe=re[te.length][ee.length],Ve=te.length,Te=ee.length;Ve>0&&Te>0;)J(te[Ve-1],ee[Te-1])?(X[oe-1]=te[Ve-1],Ve--,Te--,oe--):re[Ve-1][Te]>re[Ve][Te-1]?Ve--:Te--;return X}function Q(te,ee){e.fF.assertValue(te,"dictionary");for(var J,re=Object.getOwnPropertyNames(te),G=0,ne=re.length;G<ne;G++){var X=re[G],oe=te[X],Ve=ee(X,oe);oe!==Ve&&!J&&(J=_.pick(te,p(re,G))),J&&(J[X]=Ve)}return J||te}},325333:function(Je,H,t){t.d(H,{Bm:function(){return b},Gx:function(){return u},Hx:function(){return m},N6:function(){return n},RU:function(){return l},Vh:function(){return s},e$:function(){return r},hC:function(){return d},j:function(){return h},jK:function(){return v},mB:function(){return o},nE:function(){return p},qw:function(){return V},xs:function(){return S},zd:function(){return f}});var e=t(226514),c=t(787941);function s(g){return!(!g||!g.performanceActivities)}var f="Client Error Code",v="Error Code",b="Error Details",h="HTTP Request Id",p="Job Id",n="OData Error Message",l="Stack Trace",r="QueryCacheMissError",o=function(){function g(y){this.code=y,this.ignorable=!1,c.fF.assertValue(y,"code")}return g.prototype.getDetails=function(y){return{resourceKey:"ClientError_UnknownClientErrorKey",message:y.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:y.get("ClientError_UnknownClientErrorKey"),errorInfoValue:y.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:f,errorInfoValue:this.code}]}},g}(),a={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},i={RLSNotAuthorizedForModel:a,NotAuthorizedForImpersonation:a};function m(g){return null!=g&&void 0!==g.code&&void 0!==g.ignorable&&void 0!==g.requestId&&void 0!==g.getDetails}var u=function(){function g(y,C,E,M,P){this.statusCode=y,this.httpRequestId=C,this.detailedErrorCode=E,this.detailedMessage=M,this.source=P,c.fF.assertValue(y,"httpStatusCode")}return Object.defineProperty(g.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),g.prototype.getDetails=function(y){var C=this.detailedErrorCode&&i[this.detailedErrorCode];if(C){var E=C.localizedMessage,M=C.additionalInfoKey||"DsrError_Key",P=C.additionalInfoValue||E||"DsrError_UnknownErrorValue",T=C.helpLinkInfo;return{resourceKey:M,message:E?y.get(E):null,displayableErrorInfo:[{errorInfoKey:y.get(M),errorInfoValue:y.get(P)}],debugErrorInfo:[],helpLink:T&&T.helpLink,helpLinkType:T&&T.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(y)},g.prototype.getGenericErrorDetails=function(y){var C={resourceKey:"DsrError_Key",message:null,displayableErrorInfo:[{errorInfoKey:y.get("DsrError_Key"),errorInfoValue:y.get("DsrError_UnknownErrorValue")},{errorInfoKey:y.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:h,errorInfoValue:this.httpRequestId},{errorInfoKey:f,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&C.debugErrorInfo&&C.debugErrorInfo.push({errorInfoKey:b,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&C.debugErrorInfo&&C.debugErrorInfo.push({errorInfoKey:v,errorInfoValue:this.detailedErrorCode}),C},g}(),V=function(){function g(y){this.debugInfo=y,this.code=g.Code,this.ignorable=!0}return g.prototype.getDetails=function(y){return{message:"",displayableErrorInfo:[]}},g.Code="IgnorableClientError",g}(),d=function(g){function y(C){var E=g.call(this,"QueryCancellationClientError: "+C)||this;return E.cancellationSource=C,E}return(0,e.__extends)(y,g),Object.defineProperty(y.prototype,"queryCancellationSource",{get:function(){return this.cancellationSource},enumerable:!1,configurable:!0}),y}(V),S=function(){function g(){this.errorCode=r}return Object.defineProperty(g.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),g.prototype.getDetails=function(y){return{message:y.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:y.get("ServiceError_QueryExecutionRequired"),errorInfoValue:y.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:y.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:f,errorInfoValue:this.code}]}},g}()},177497:function(Je,H,t){t.d(H,{$Q:function(){return P},A7:function(){return u},Bx:function(){return m},HO:function(){return R},HS:function(){return S},TD:function(){return a},U1:function(){return s},U8:function(){return i},WV:function(){return v},X6:function(){return T},_j:function(){return n},b9:function(){return l},ci:function(){return f},cu:function(){return d},iC:function(){return L},jd:function(){return E},ok:function(){return g},rJ:function(){return r}});var e=t(787941),c=t(764365);function s(F,A){if(0===A)return F;var O=v(F);if(O){var N=b(O);if(N){var w=function(F,A){var O=F.H+A;return{H:O>1?O-1:O,S:F.S,V:F.V}}(N,A);if(w){var I=h(w);if(I)return m(I)}}}}function f(F){var A=v(F);if(A)return m(A)}function v(F){if(F.indexOf("#")>=0){if(7===F.length)return null==(A=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(F))||A.length<4?void 0:{R:parseInt(A[1],16),G:parseInt(A[2],16),B:parseInt(A[3],16)};if(4===F.length)return null==(A=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(F))||A.length<4?void 0:{R:parseInt(A[1]+A[1],16),G:parseInt(A[2]+A[2],16),B:parseInt(A[3]+A[3],16)}}else{var A;if(F.indexOf("rgb(")>=0)return null==(A=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(F))||A.length<4?void 0:{R:parseInt(A[1],10),G:parseInt(A[2],10),B:parseInt(A[3],10)};if(F.indexOf("rgba(")>=0)return null==(A=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(F))||A.length<5?void 0:{R:parseInt(A[1],10),G:parseInt(A[2],10),B:parseInt(A[3],10),A:parseFloat(A[4])}}}function b(F){if(F){var A,O,N=F.R/255,w=F.G/255,I=F.B/255,B=Math.min(N,Math.min(w,I)),j=Math.max(N,Math.max(w,I)),U=j-B;return 0===j||0===U?(A=0,O=0):(A=U/j,O=N===j?(w-I)/U:w===j?2+(I-N)/U:4+(N-w)/U),(O/=6)<0&&(O+=1),{H:O,S:A,V:j}}}function h(F){var A,O,N,j,W,U,k,Q,te,I=F.S,B=F.V;if(0===I)A=B,O=B,N=B;else switch(j=B*(1-I),W=B*(1-I*(k=(te=6*F.H)-(Q=Math.floor(te)))),U=B*(1-I*(1-k)),Q){case 0:A=B,O=U,N=j;break;case 1:A=W,O=B,N=j;break;case 2:A=j,O=B,N=U;break;case 3:A=j,O=W,N=B;break;case 4:A=U,O=j,N=B;break;case 5:A=B,O=j,N=W;break;default:return void e.fF.assertFail("unexpected")}return{R:Math.floor(255*A),G:Math.floor(255*O),B:Math.floor(255*N)}}function n(F,A){var O=Math.floor(A);return{R:Math.max(0,F.R-O),G:Math.max(0,F.G-O),B:Math.max(0,F.B-O)}}function l(F,A){return F.A=A,F}function r(F){var A=v(F);if(A)return function(F){return _.isNumber(F.A)?Math.round(100*(1-F.A)):0}(A)}function a(F){return 1-F/100}function i(F){return null==F.A?"rgb("+F.R+","+F.G+","+F.B+")":"rgba("+F.R+","+F.G+","+F.B+","+F.A+")"}function m(F){return"#"+M(F.R)+M(F.G)+M(F.B)}function u(F){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(F)}function d(F){return/^#[0-9a-f]{6}$/i.test(F)}function S(F){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(F)}function g(F,A,O){var N=v(F),w=v(O);if(N&&w)return m(function(F,A,O){return A=(0,c.QO)(A,0,1),{R:C(F.R,A,O.R),G:C(F.G,A,O.G),B:C(F.B,A,O.B)}}(N,A,w))}function C(F,A,O){return A=(0,c.QO)(A,0,1),F=(0,c.QO)(F,0,255),O=(0,c.QO)(O,0,255),Math.round(A*F+(1-A)*O)}function E(F,A,O){var N=b(F);if(N){(A+O>1||A<=0||O<=0)&&(e.fF.assert(function(){return!1},"Invalid lumianceThreshold and highlightColor adjusting delta."),A=.8,O=.2),N.V=N.V<A?N.V+O:N.V-O;var w=h(N);if(w)return m(w)}}function M(F){var O=(0,c.QO)(F,0,255).toString(16).toUpperCase();return 1===O.length?"0"+O:O}function P(F,A,O){e.fF.assert(function(){return F.length===A.length},"createLinearColorScale - domain and range must be the same size"),e.fF.assert(function(){return F.length>1},"createLinearColorScale - domain and range must contain at least 2 values");var N=A.map(function(w){return v(w)});return function(w){if(null==w&&(w=0),!isNaN(w)){if(O){var I=_.last(F);if(null==I||w>=I)return _.last(A);if(w<=F[0])return A[0]}for(var B,j,W,U,k=1,Q=F.length;k<Q;k++){if(j=F[k],(B=F[k-1])===Number.NEGATIVE_INFINITY&&isNaN(j))return A[k];if(isNaN(B)||isNaN(j))return;if(w===j)return A[k];if(w>=B&&w<=j){W=N[k-1],U=N[k];break}}if(void 0!==B&&void 0!==j&&void 0!==W&&void 0!==U)return m({R:x(w,B,j,W.R,U.R),G:x(w,B,j,W.G,U.G),B:x(w,B,j,W.B,U.B)})}}}function T(F,A){void 0===A&&(A=.25),e.fF.assert(function(){return A>0&&A<=.5},"valueOffset must be positive and less than 0.5");var N=b(v(F));if(N){N.V=N.V>1-A?1-A:N.V<A?A:N.V;var w=_.clone(N),I=_.clone(N);w.V=Math.min(N.V+A,1),I.V=Math.max(N.V-A,0);var B=h(w),j=h(I);if(B&&j)return P([0,1],[m(B),m(j)],!0)}}function x(F,A,O,N,w){return A===Number.NEGATIVE_INFINITY&&O===Number.POSITIVE_INFINITY?Math.round((w+N)/2):A===Number.NEGATIVE_INFINITY?w:O===Number.POSITIVE_INFINITY?N:Math.round(N+(F-A)*(w-N)/(O-A))}function R(F,A){var O=parseInt(F.slice(1),16),N=A<0?0:255,w=A<0?-1*A:A,I=O>>16,B=O>>8&255,j=255&O;return"#"+(16777216+65536*(Math.round((N-I)*w)+I)+256*(Math.round((N-B)*w)+B)+(Math.round((N-j)*w)+j)).toString(16).slice(1)}var D={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function L(F){return e.fF.assertValue(F,"getWebColorValue - colorName"),D[F.toLocaleLowerCase()]}},251912:function(Je,H,t){t.d(H,{U:function(){return s},Xy:function(){return f},fA:function(){return e},md:function(){return c}});var e="foreground",c="foregroundDark",s="background",f="backgroundNeutral"},489470:function(Je,H,t){function e(v,b){!0!==v&&f(b||"condition: "+v)}function c(v,b){null==v&&f(b||"condition: "+v)}function f(v){throw new Error("Contract check failed: "+v)}t.d(H,{BF:function(){return e},bG:function(){return f},wS:function(){return c}})},787941:function(Je,H,t){t.d(H,{fF:function(){return c}}),t(226514);var c=function(){function v(){}return v.setAssertFailFunction=function(b){v.assertFailFunction=b},v.assert=function(b,h){},v.setAssert=function(b){v.assert=b},v.assertValue=function(b,h){},v.assertNonEmpty=function(b,h){},v.assertAnyValue=function(b,h){},v.assertFail=function(b){},v.log=function(b){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p]},v.logDebug=function(b){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p]},v.warn=function(b){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p]},v.assertNever=function(b){},v.breakDebugger=function(){},v.execute=function(b){},v.isDisabled=function(){return this.disbaled},v.disable=function(){window.DEBUG=!1,this.disbaled=!0},v.disbaled=!1,v}(),f=!1;f||(window.debug=c,window.DEBUG=!1,f=!0)},516619:function(Je,H,t){t.d(H,{AK:function(){return f},YU:function(){return s},x9:function(){return v}});var s=window.escape,f=window.unescape;function v(b){}},831917:function(Je,H,t){function e(){return window.powerbi||(window.powerbi={}),window.powerbi}function c(){var v=e();return v.common||(v.common={}),v.common}function s(){var v=e();return v.visuals||(v.visuals={}),v.visuals}function f(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}t.d(H,{Z7:function(){return s},hG:function(){return c},kx:function(){return f},wg:function(){return e}})},803018:function(Je,H,t){t.d(H,{Wn:function(){return f},_b:function(){return b},bw:function(){return v}});var s=function(){function n(l){this.families=l}return Object.defineProperty(n.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),n.prototype.getFamily=function(){return this.families.join(", ")},Object.defineProperty(n.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),n.prototype.getCSS=function(){return this.families?this.families.map(function(l){return l.indexOf(" ")>-1?"'".concat(l,"'"):l}).join(", "):null},n}(),f={light:new s(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new s(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new s(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new s(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new s(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new s(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new s(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new s(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new s(["PowerVisuals"])},v={"Segoe UI Light":f.light,"Segoe UI Semilight":f.semilight,"Segoe UI":f.regular,"Segoe UI Semibold":f.semibold,"Segoe (Bold)":f.bold,"Segoe UI Bold":f.bold,DIN:f.regularSecondary,"DIN Light":f.lightSecondary,Heading:f.light,Body:f.regular};function b(n,l){return void 0===l&&(l=!0),null==n||""===n?n:-1===n.indexOf(",")?-1===n.indexOf(" ")?n:l?function(n){if(n)return'"'+n.replace(/['"]+/g,"")+'"'}(n):function(n){if(n)return n.replace(/['"]+/g,"")}(n):n.split(",").map(function(o){return b(o.trim(),l)}).join(", ")}},564809:function(Je,H,t){t.d(H,{U:function(){return e}});var e=function(s,f,v,b){this.left=s||0,this.top=f||0,this.width=v||0,this.height=b||0}},786277:function(Je,H,t){t.d(H,{Sp:function(){return h},ao:function(){return o},fS:function(){return s},oY:function(){return r}});var e=t(307172);function s(a,i){return null!=a&&null!=i&&a.x===i.x&&a.y===i.y}function h(a,i){if(null===a||null===i)return null;var m=i.x-a.x,u=i.y-a.y;return Math.sqrt(m*m+u*u)}function r(a,i,m){var u=(i.y-a.y)*(m.x-i.x)-(i.x-a.x)*(m.y-i.y);return 0===u?e.i.Colinear:u>0?e.i.Clockwise:e.i.Counterclockwise}function o(a,i,m){return m.x<=Math.max(a.x,i.x)&&m.x>=Math.min(a.x,i.x)&&m.y<=Math.max(a.y,i.y)&&m.y>=Math.min(a.y,i.y)}},423794:function(Je,H,t){function V(d,S){if(d&&S)return{x:S.x-d.x,y:S.y-d.y}}t.d(H,{Au:function(){return V}})},344888:function(Je,H,t){t.d(H,{$X:function(){return V},Az:function(){return A},BD:function(){return T},F2:function(){return b},H6:function(){return O},HL:function(){return x},I:function(){return h},IH:function(){return u},Oq:function(){return l},WN:function(){return N},d9:function(){return a},f6:function(){return n},fS:function(){return o},hT:function(){return r},rr:function(){return d},w3:function(){return p},wf:function(){return R}});var e=t(787941),c=t(764365);function b(w){return w.left+w.width}function h(w){return w.top+w.height}function p(w){return{x:w.left,y:w.top}}function n(w){return{x:w.left+w.width,y:w.top}}function l(w){return{x:w.left,y:w.top+w.height}}function r(w){return{x:w.left+w.width,y:w.top+w.height}}function o(w,I){return null!=I&&w.left===I.left&&w.top===I.top&&w.width===I.width&&w.height===I.height}function a(w){return null!==w?{left:w.left,top:w.top,width:w.width,height:w.height}:null}function u(w,I){return e.fF.assertValue(w,"rect"),e.fF.assertValue(I,"rect2"),{left:w.left+I.left,top:w.top+I.top,height:w.height+I.height,width:w.width+I.width}}function V(w,I){return e.fF.assertValue(w,"rect"),e.fF.assertValue(I,"rect2"),{left:w.left-I.left,top:w.top-I.top,height:w.height-I.height,width:w.width-I.width}}function d(w,I){var B=a(w);return B?(I&&(B.left-=I.left,B.top-=I.top,B.width+=I.left+I.right,B.height+=I.top+I.bottom),B):null}function T(w,I,B){return void 0===B&&(B=!1),null!==w&&null!==I&&(B?(0,c.Po)(w.left,I.x)&&(0,c.Po)(I.x,w.left+w.width)&&(0,c.Po)(w.top,I.y)&&(0,c.Po)(I.y,w.top+w.height):(0,c.bl)(w.left,I.x)&&(0,c.bl)(I.x,w.left+w.width)&&(0,c.bl)(w.top,I.y)&&(0,c.bl)(I.y,w.top+w.height))}function x(w,I){return!(!w||!I||I.left>w.left+w.width||I.left+I.width<w.left||I.top>w.top+w.height||I.top+I.height<w.top)}function R(w,I){if(!w)return I;if(!I)return w;var B=Math.max(w.left,I.left),j=Math.max(w.top,I.top),W=Math.min(w.left+w.width,I.left+I.width),U=Math.min(w.top+w.height,I.top+I.height);return B<=W&&j<=U?{left:B,top:j,width:W-B,height:U-j}:{left:0,top:0,width:0,height:0}}function A(w){return{x:w.left+w.width/2,y:w.top+w.height/2}}function O(w,I){var B=I.width||0,j=I.height||0;w.left+w.width>B&&(w.left=Math.max(B-w.width,0)),w.top+w.height>j&&(w.top=Math.max(j-w.height,0)),w.left=Math.max(0,w.left),w.top=Math.max(0,w.top)}function N(w,I,B,j){return void 0!==w&&void 0!==I&&void 0!==B&&void 0!==j&&(e.fF.assert(function(){return w<=I},"Lower bound for range should not be greater than upper bound."),e.fF.assert(function(){return B<=j},"Lower bound for range should not be greater than upper bound."),(0,c.bl)(w,j)&&(0,c.bl)(B,I))}},373644:function(Je,H,t){t.d(H,{m:function(){return f}});var e=t(307172),c=t(786277),s=t(344888),f=function(){function v(b){b&&(this.polygonPoints=this.convertArrayPathToPoints(b))}return v.fromPolygonPoints=function(b){var h=new v(null);return h.polygonPoints=b,h},v.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},v.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},v.prototype.contains=function(b){var p={x:b.left+b.width,y:b.top},n={x:b.left,y:b.top+b.height},l={x:b.left+b.width,y:b.top+b.height};return this.inside({x:b.left,y:b.top})&&this.inside(p)&&this.inside(n)&&this.inside(l)},v.prototype.conflicts=function(b){if(!this.isConflictWithBoundingBox(b))return!1;var p={x:b.left+b.width/2,y:b.top},n={x:b.left+b.width,y:b.top},l={x:b.left,y:b.top+b.height},r={x:b.left+b.width/2,y:b.top+b.height},o={x:b.left+b.width,y:b.top+b.height},a={x:b.left,y:b.top+b.height/2},i={x:b.left+b.width,y:b.top+b.height/2};return this.inside({x:b.left,y:b.top})||this.inside(p)||this.inside(n)||this.inside(l)||this.inside(r)||this.inside(o)||this.inside(a)||this.inside(i)},v.prototype.lineIntersectionPoint=function(b,h){for(var p=0;p<this.polygonPoints.length;p++){var r=this.getLineIntersection(b,h,this.polygonPoints[p],p===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[p+1]);if(null!==r)return r}return null},v.calculateAbsolutePolygonArea=function(b){var h,p=1,n=0;for(h=0;h<b.length;h++)n+=b[h].x*b[p].y-b[p].x*b[h].y,p=(p+1)%b.length;return.5*n},v.prototype.overlapPath=function(b){if(this.inside({x:b[0],y:b[1]}))return!0;var h=new v(b);if(h.inside(this.polygonPoints[0]))return!0;for(var p=0;p<this.polygonPoints.length;p++)if(h.lineIntersectionPoint(this.polygonPoints[p],this.polygonPoints[(p+1)%this.polygonPoints.length]))return!0;return!1},v.prototype.inside=function(b){for(var h=b.x,p=b.y,n=!1,l=0,r=this.polygonPoints.length-1;l<this.polygonPoints.length;r=l++){var o=this.polygonPoints[l].x,a=this.polygonPoints[l].y,m=this.polygonPoints[r].y;a>p!=m>p&&h<(this.polygonPoints[r].x-o)*(p-a)/(m-a)+o&&(n=!n)}return n},v.translateX=function(b,h){for(var p=new Float64Array(2*b.polygonPoints.length),n=0;n<b.polygonPoints.length;n++)p[2*n]=b.polygonPoints[n].x+h,p[2*n+1]=b.polygonPoints[n].y;return new v(p)},v.polygonBoundsOverlap=function(b,h){var p=(0,s.WN)(v.getPolyBoundLeft(b),v.getPolyBoundRight(b),v.getPolyBoundLeft(h),v.getPolyBoundRight(h)),n=(0,s.WN)(v.getPolyBoundLower(b),v.getPolyBoundUpper(b),v.getPolyBoundLower(h),v.getPolyBoundUpper(h));return p&&n},v.circleRectangleOverlap=function(b,h,p){var n=Math.max(b.left,Math.min(h.x,b.right)),l=Math.min(b.bottom,Math.max(h.y,b.top)),r=n-h.x,o=l-h.y;return r*r+o*o<=p*p},v.linesIntersect=function(b,h,p,n,l){void 0===l&&(l=!0);var r=(0,c.oY)(b,h,p),o=(0,c.oY)(b,h,n),a=(0,c.oY)(p,n,b),i=(0,c.oY)(p,n,h);return r!==o&&a!==i||!!l&&!!(r===e.i.Colinear&&(0,c.ao)(b,h,p)||o===e.i.Colinear&&(0,c.ao)(b,h,n)||a===e.i.Colinear&&(0,c.ao)(p,n,b)||i===e.i.Colinear&&(0,c.ao)(p,n,h))},v.resize=function(b,h){if(0===h)return b;for(var p=v.calculateAbsolutePolygonArea(b.polygonPoints)>0,l=_.clone(h>0&&!0===p||h<0&&!1===p?b.polygonPoints.reverse():b.polygonPoints),r=b.absoluteCentroid(),o=[],a=0;a<l.length;a++){var i=l[a],m=l[(a+1)%l.length],u=m.y-i.y,V=void 0;0!==u&&(V=-(m.x-i.x)/u);var d=0;_.isUndefined(V)||(d=(i.y<m.y?-1:1)*Math.sqrt(h*h/(1+V*V)));var S=0;0===d?S=(i.x>m.x?-1:1)*h:_.isUndefined(V)||(S=V*d);var g={x:i.x+d,y:i.y+S},y={x:0,y:0};0===V?(y.x=g.x,y.y=g.y+10):_.isUndefined(V)||(y.x=g.x+10,y.y=g.y-10/V);var C=(g.x-y.x)*(r.y-i.y)-(g.y-y.y)*(r.x-i.x);if(0!==C){var E={x:((g.x*y.y-g.y*y.x)*(r.x-i.x)-(g.x-y.x)*(r.x*i.y-r.y*i.x))/C,y:((g.x*y.y-g.y*y.x)*(r.y-i.y)-(g.y-y.y)*(r.x*i.y-r.y*i.x))/C};isFinite(E.x)&&isFinite(E.y)&&o.push(E)}}return v.fromPolygonPoints(o)},v.getPolyBoundLeft=function(b){var h;return null===(h=_.minBy(b.polygonPoints,function(p){return p.x}))||void 0===h?void 0:h.x},v.getPolyBoundRight=function(b){var h;return null===(h=_.maxBy(b.polygonPoints,function(p){return p.x}))||void 0===h?void 0:h.x},v.getPolyBoundUpper=function(b){var h;return null===(h=_.maxBy(b.polygonPoints,function(p){return p.y}))||void 0===h?void 0:h.y},v.getPolyBoundLower=function(b){var h;return null===(h=_.minBy(b.polygonPoints,function(p){return p.y}))||void 0===h?void 0:h.y},v.prototype.isConflictWithBoundingBox=function(b){return(0,s.HL)(this.absoluteBoundingRect(),b)},v.prototype.calculatePolygonCentroid=function(){var b,h,p,n,l,r;for(b=v.calculateAbsolutePolygonArea(this.polygonPoints),p=n=0,r=1,l=0;l<this.polygonPoints.length;l++)p+=(this.polygonPoints[l].x+this.polygonPoints[r].x)*(h=this.polygonPoints[l].x*this.polygonPoints[r].y-this.polygonPoints[r].x*this.polygonPoints[l].y),n+=(this.polygonPoints[l].y+this.polygonPoints[r].y)*h,r=(r+1)%this.polygonPoints.length;return{x:p/=6*b,y:n/=6*b}},v.prototype.calculateBoundingRect=function(){for(var b=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,l=0,r=this.polygonPoints;l<r.length;l++){var o=r[l];o.x<b?b=o.x:o.x>p&&(p=o.x),o.y<h?h=o.y:o.y>n&&(n=o.y)}return{left:b,top:h,width:p-b,height:n-h}},v.prototype.getLineIntersection=function(b,h,p,n){var l=b.x,r=b.y,i=p.x,m=p.y,d=h.x-l,S=h.y-r,g=n.x-i,y=n.y-m,C=(-S*(l-i)+d*(r-m))/(-g*S+d*y),E=(g*(r-m)-y*(l-i))/(-g*S+d*y);return C>=0&&C<=1&&E>=0&&E<=1?{x:l+E*d,y:r+E*S}:null},v.prototype.convertArrayPathToPoints=function(b){for(var h=[],p=0;p<b.length;p+=2)h.push({x:b[p],y:b[p+1]});return h},v}()},11560:function(Je,H,t){t.d(H,{C$:function(){return f},Iq:function(){return n},T7:function(){return h},eg:function(){return s},mH:function(){return b},yf:function(){return v}});var e=t(325333),c=t(509838),s="ServerError_";function f(l,r,o){if(!r)return l;for(var a=0,i=r;a<i.length;a++){var m=i[a],u=o.getOptional(s+m.code),V=m.detail.value;0===m.detail.type&&(V=o.get(s+V)),l.displayableErrorInfo.push({errorInfoKey:u||m.code,errorInfoValue:V})}return l}function v(l,r,o,a,i){var m=l.debugErrorInfo=l.debugErrorInfo||[];return i&&m.push({errorInfoKey:e.j,errorInfoValue:i}),r&&m.push({errorInfoKey:e.zd,errorInfoValue:r}),o&&m.push({errorInfoKey:e.Bm,errorInfoValue:o}),a&&m.push({errorInfoKey:e.RU,errorInfoValue:a}),l}function b(l,r){return{message:l.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:l.get("ServiceError_CannotLoadVisual"),errorInfoValue:r.message}]}}function h(l,r,o,a){var i,m={};if(o)if(_.isArray(o))for(var u=0,V=o;u<V.length;u++){var d=V[u];m[d.Key]=d.Value}else m=o;return i={message:p(l,r,m),displayableErrorInfo:[]},a&&f(i,a,l),i}function p(l,r,o){if(!r)return"";var a,i=l.get(s+r);return i&&(a=i.replace(/\{\s*([^}\s]+)\s*\}/g,function(m,u,V,d){return o[u]})),a}function n(l,r){var u,o="",a="",i="",m="",V=!1;switch(r.errorCode){case c.jt:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("PremiumRequired_TitleText"),i=l.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),V=!0;break;case c.$f:o=l.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),a=l.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),i=p(l,"LargeModelMovedAcrossRegions",r.parameters),m="https://aka.ms/moving-large-datasets",V=!0;break;case c.ts:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelFetchingFailureKey"),i=l.get("DsrError_NoPermissionDueToRLSGroupMessage"),V=!0;break;case c.Fr:case c.x4:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelFetchingFailureKey"),i=l.get("DsrError_CanNotRetrieveModelMessage"),V=!0;break;case c.hR:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelFetchingFailureKey"),i=l.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),V=!0;break;case c.Lb:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelFetchingFailureKey"),i=l.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),V=!0;break;case c.NC:o=l.get("ServiceError_CannotLoadVisual"),a=l.get("ServiceError_AuthenticationErrorKey"),i=l.get("ServiceError_AuthenticationErrorValue"),V=!0;break;case c.Ew:o=l.get("ServiceError_CannotLoadVisual"),a=l.get("ServiceError_AuthenticationErrorKey"),i=l.get("ServiceError_WindowsAuthNotSupportedErrorValue"),V=!0;break;case c.iQ:o=l.get("ServiceError_CannotLoadVisual"),a=l.get("ServiceError_AuthenticationErrorKey"),i=l.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),V=!0;break;case c.zd:o=l.get("UploadPowerBICompanion_AccessDatasetWarning"),V=!0;break;case c.LM:o=l.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),a=l.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),i=l.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),V=!0;break;case c.rW:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("PremiumRequired_TitleText"),i=l.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),V=!0;break;case c.me:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelCannotLoad"),i=l.get("ServerError_CustomerKeyNotAccessible_Report"),V=!0;break;case c.Bm:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelCannotLoad"),i=l.get("ServerError_CustomerKeyVaultError_Report"),V=!0;break;case c.Yu:o=l.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),a=l.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),i=l.get("ServiceError_CapacityOverloadedMessage"),m="https://aka.ms/AboutFabricCapacity",V=!0,u="Capacity_Limit_Exceeded_LearnMore"}if(!V)switch(r.statusCode){case 2:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelConvertFailureKey"),i=l.get("ServiceError_ModelConvertFailureValue");break;case 3:o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelCreationFailureKey"),i=l.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(o=l.get("ServiceError_ModelCannotLoad"),a=l.get("ServiceError_ModelCannotLoad"),r.errorDetails){var d=_.find(r.errorDetails,function(g){return"ModelMode"===g.code});if(d)switch(d.detail.value){case"Internal":i=l.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":i=l.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":i=l.get("ServiceError_ModelConnectFailurePBIServiceValue")}}i||(i=l.get("ServiceError_ModelFetchingFailureValue"));break;case 4:o=l.get("ServiceError_CannotLoadVisual"),a=l.get("ServiceError_ExecuteSemanticQueryErrorKey"),i=l.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:o=l.get("ServiceError_CannotLoadVisual"),a=l.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),i=l.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:o=l.get("ServiceError_GeneralError"),a=l.get("ServiceError_GeneralErrorKey"),i=l.get("ServiceError_GeneralErrorValue")}var S={message:o,displayableErrorInfo:[{errorInfoKey:a,errorInfoValue:i}]};return r.errorCode===c.Yu&&(S.helpLinkType=1),u&&(S.helpLinkOverrideText=u),m&&(S.helpLink=m),S}},16062:function(Je,H,t){t.d(H,{z:function(){return c}});var c=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now},327260:function(Je,H,t){t.d(H,{n8:function(){return v},sI:function(){return f}});var e=t(787941),c=t(11560),s=t(509838),f=function(){function b(h){this.message=h.message?h.message:"",this.m_serviceError=h}return Object.defineProperty(b.prototype,"code",{get:function(){return this.m_serviceError.errorCode||b.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(p){this.httpRequestId=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"source",{get:function(){var p=this.m_serviceError.exceptionCulprit;if(null!=p)switch(p){case s.jJ:case s.aJ:return"PowerBI";case s.jV:return"External";case s.dB:return"User";default:return e.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),b.prototype.getDetails=function(h){var p;return p=6===this.m_serviceError.statusCode?(0,c.mH)(h,this.m_serviceError):(0,c.Iq)(h,this.m_serviceError),this.m_serviceError.errorDetails&&(0,c.C$)(p,this.m_serviceError.errorDetails,h),(0,c.yf)(p,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),p.source=this.source,p},b.codeName="ServiceErrorToClientError",b}(),v=function(){function b(h){this.innerError=h}return Object.defineProperty(b.prototype,"code",{get:function(){return this.innerError.code},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"source",{get:function(){var p=this.innerError["pbi.error"],n=p&&p.exceptionCulprit;if(null!=n)switch(n){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return e.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),b.prototype.getDetails=function(h){var p=this.innerError["pbi.error"];if(p){var n=(0,c.T7)(h,p.code,p.parameters,p.details);return n.source=this.source,n}},b}()},509838:function(Je,H,t){t.d(H,{$f:function(){return c},Bm:function(){return R},EL:function(){return d},Ew:function(){return o},Fr:function(){return f},KX:function(){return g},LM:function(){return S},Lb:function(){return p},NC:function(){return l},QW:function(){return v},Y:function(){return D},YT:function(){return a},Yu:function(){return L},_L:function(){return u},_e:function(){return V},aJ:function(){return E},b$:function(){return n},cq:function(){return i},dB:function(){return M},hR:function(){return h},iQ:function(){return r},jJ:function(){return C},jV:function(){return P},jt:function(){return e},me:function(){return x},qL:function(){return m},rW:function(){return T},ts:function(){return s},x4:function(){return b},zd:function(){return y}});var e="PremiumFilesModelRequiresPremiumCapacity",c="LargeModelMovedAcrossRegions",s="rsAccessDeniedDueToRLSGroup",f="rsCannotRetrieveModel",v="RLSNotAuthorizedForModel",b="CannotRetrieveModelError",h="DMTS_NoGatewayWithAllDatasourcesToBindError",p="DM_GWPipeline_UnknownError",n="DM_GWPipeline_Gateway_GatewayUpgradeRequired",l="pbidAccessDenied",r="pbidWindowsAuthWindowsAuthImpersonationNotSupported",o="pbidWindowsAuthNotSupported",a="PowerBIAdomdErrorResponseExternal",i="PowerBIAdomdErrorResponseSystem",m="PowerBIAdomdErrorResponseUser",u="ConnectionThrottledDueToCapacityOverload",V="DatasourceNotFound",d="DatabaseDoesNotExistOrUserDoesNotHavePermission",S="InsecureLibraryLoadingPatchMissing",g="MaximumAllowableMemoryReached",y="PowerBIServiceLiveConnectModelNotFound",C="System",E="PowerBI",M="User",P="External",T="BYOKEncryptedModelRequiresPremiumCapacity",x="CustomerKeyNotAccessible",R="CustomerKeyVaultError",D="rsOrphanedModel",L="CapacityLimitExceeded"},778186:function(Je,H,t){t.d(H,{FM:function(){return h},VJ:function(){return v},Xr:function(){return c},tm:function(){return n}});var e=t(831917);function c(){return(0,e.wg)().build}function v(){return(0,e.wg)().clientVersion}function h(){return(0,e.wg)().cvUrl}function n(){return(0,e.wg)().visualCDNBlobContainerUrl}},49792:function(Je,H,t){t.d(H,{P:function(){return c}});var e=t(787941);function c(){var f={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"},v=function(){function b(h){this.getLocalized=h,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}return b.prototype.ensureCategoriesArePopulated=function(){if(this.GeotaggingString_Continent)return!0;var h=this.getLocalized,p=h("GeotaggingString_Continent");return null==p?(e.fF.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=p.toLowerCase(),this.GeotaggingString_Continents=h("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=h("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=h("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=h("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=h("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=h("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=h("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=h("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=h("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=h("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=h("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=h("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=h("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=h("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=h("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=h("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=h("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=h("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=h("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=h("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=h("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=h("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=h("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=h("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=h("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=h("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=h("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=h("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=h("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=h("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=h("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=h("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=h("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=h("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=h("GeotaggingString_Territories").toLowerCase(),!0)},b.prototype.isLongitudeOrLatitude=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(h)||this.isLatitude(h))},b.prototype.isGeographic=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(h)||this.isGeocodable(h))},b.prototype.isGeocodable=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(h)||this.isCity(h)||this.isContinent(h)||this.isCountry(h)||this.isCounty(h)||this.isStateOrProvince(h)||this.isPlace(h)||this.isPostalCode(h)||this.isTerritory(h))},b.prototype.isGeoshapable=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isCity(h)||this.isContinent(h)||this.isCountry(h)||this.isCounty(h)||this.isStateOrProvince(h)||this.isPostalCode(h)||this.isTerritory(h)||this.isPlace(h)||this.isGeoshapableEnglish(h))},b.prototype.isGeoshapableEnglish=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(h)||this.isEnglishContinent(h)||this.isEnglishCountry(h)||this.isEnglishCounty(h)||this.isEnglishStateOrProvince(h)||this.isEnglishPostalCode(h)||this.isEnglishTerritory(h)||this.isEnglishPlace(h))},b.prototype.isAddress=function(h){return b.hasMatches(h,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])},b.prototype.isPlace=function(h){return b.hasMatches(h,[this.GeotaggingString_Place,this.GeotaggingString_Places])},b.prototype.isCity=function(h){return b.hasMatches(h,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])},b.prototype.isStateOrProvince=function(h){return b.hasMatches(h,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])},b.prototype.isCountry=function(h){return b.hasMatches(h,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])},b.prototype.isCounty=function(h){return b.hasMatches(h,[this.GeotaggingString_County,this.GeotaggingString_Counties])},b.prototype.isContinent=function(h){return b.hasMatches(h,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])},b.prototype.isPostalCode=function(h){var p=b.hasMatches(h,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&b.hasMatches(h,[this.GeotaggingString_Code])||b.hasMatches(h,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!p){var n=/\s+/,l=h.replace(n,"");p=b.hasMatches(l,[this.GeotaggingString_PostalCode.replace(n,""),this.GeotaggingString_PostalCodes.replace(n,""),this.GeotaggingString_ZipCode.replace(n,""),this.GeotaggingString_ZipCodes.replace(n,"")])}return p},b.prototype.isLongitude=function(h){return b.hasMatches(h,[this.GeotaggingString_Longitude])||b.hasMatches(h,[this.GeotaggingString_Longitude_Short],!0)||b.hasMatches(h,[this.GeotaggingString_Longitude_Short2],!0)},b.prototype.isLatitude=function(h){return b.hasMatches(h,[this.GeotaggingString_Latitude])||b.hasMatches(h,[this.GeotaggingString_Latitude_Short],!0)},b.prototype.isTerritory=function(h){return b.hasMatches(h,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])},b.hasMatches=function(h,p,n){for(var l=/\W/,r=h.toLowerCase(),o=0,a=p.length;o<a;o++){var i=p[o].toLowerCase();if(n){var m=r.indexOf(i);if(m>-1){var u=void 0,V=void 0;if(u=V=!0,m-1>0&&(V=l.test(r[m-1])),m+i.length<r.length&&(u=l.test(r[m+i.length])),V&&u)return!0}}else if(r.indexOf(i)>-1)return!0}return!1},b.prototype.getFieldType=function(h){if(this.ensureCategoriesArePopulated()&&void 0!==h)return this.isLatitude(h)?"Latitude":this.isLongitude(h)?"Longitude":this.isPostalCode(h)?"PostalCode":this.isAddress(h)?"Address":this.isPlace(h)?"Place":this.isCity(h)?"City":this.isCountry(h)?"Country":this.isCounty(h)?"County":this.isStateOrProvince(h)?"StateOrProvince":this.isContinent(h)?"Continent":this.getEnglishFieldType(h)},b.prototype.getFieldTypeFromDescriptor=function(h){if(null!=h&&null!=h.geography){var p=h.geography;if(p.latitude)return"Latitude";if(p.longitude)return"Longitude";if(p.postalCode)return"PostalCode";if(p.address)return"Address";if(p.place)return"Place";if(p.city)return"City";if(p.country)return"Country";if(p.county)return"County";if(p.stateOrProvince)return"StateOrProvince";if(p.continent)return"Continent"}},b.prototype.isEnglishAddress=function(h){return b.hasMatches(h,[f.GeotaggingString_Address,f.GeotaggingString_Addresses,f.GeotaggingString_Street,f.GeotaggingString_Streets])},b.prototype.isEnglishPlace=function(h){return b.hasMatches(h,[f.GeotaggingString_Place,f.GeotaggingString_Places])},b.prototype.isEnglishCity=function(h){return b.hasMatches(h,[f.GeotaggingString_City,f.GeotaggingString_Cities,f.GeotaggingString_Town,f.GeotaggingString_Towns,f.GeotaggingString_Village,f.GeotaggingString_Villages])},b.prototype.isEnglishStateOrProvince=function(h){return b.hasMatches(h,[f.GeotaggingString_State,f.GeotaggingString_States,f.GeotaggingString_Province,f.GeotaggingString_Provinces,f.GeotaggingString_VRMBackCompat_StateOrProvince])},b.prototype.isEnglishCountry=function(h){return b.hasMatches(h,[f.GeotaggingString_Country,f.GeotaggingString_Countries,f.GeotaggingString_VRMBackCompat_CountryRegion])},b.prototype.isEnglishCounty=function(h){return b.hasMatches(h,[f.GeotaggingString_County,f.GeotaggingString_Counties])},b.prototype.isEnglishContinent=function(h){return b.hasMatches(h,[f.GeotaggingString_Continent,f.GeotaggingString_Continents])},b.prototype.isEnglishPostalCode=function(h){var p=b.hasMatches(h,[f.GeotaggingString_Post,f.GeotaggingString_Zip])&&b.hasMatches(h,[this.GeotaggingString_Code])||b.hasMatches(h,[f.GeotaggingString_PostalCode,f.GeotaggingString_PostalCodes,f.GeotaggingString_ZipCode,f.GeotaggingString_ZipCodes]);if(!p){var n=new RegExp("s");p=b.hasMatches(h,[f.GeotaggingString_PostalCode.replace(n,""),f.GeotaggingString_PostalCodes.replace(n,""),f.GeotaggingString_ZipCode.replace(n,""),f.GeotaggingString_ZipCodes.replace(n,"")])}return p},b.prototype.isEnglishLongitude=function(h){return b.hasMatches(h,[f.GeotaggingString_Longitude])||b.hasMatches(h,[f.GeotaggingString_Longitude_Short],!0)||b.hasMatches(h,[f.GeotaggingString_Longitude_Short2],!0)},b.prototype.isEnglishLatitude=function(h){return b.hasMatches(h,[f.GeotaggingString_Latitude])||b.hasMatches(h,[f.GeotaggingString_Latitude_Short],!0)},b.prototype.isEnglishTerritory=function(h){return b.hasMatches(h,[f.GeotaggingString_Territory,f.GeotaggingString_Territories])},b.prototype.getEnglishFieldType=function(h){if(null!=h){if(this.isEnglishLatitude(h))return"Latitude";if(this.isEnglishLongitude(h))return"Longitude";if(this.isEnglishPostalCode(h))return"PostalCode";if(this.isEnglishAddress(h))return"Address";if(this.isEnglishPlace(h))return"Place";if(this.isEnglishCity(h))return"City";if(this.isEnglishCountry(h))return"Country";if(this.isEnglishCounty(h))return"County";if(this.isEnglishStateOrProvince(h))return"StateOrProvince";if(this.isEnglishContinent(h))return"Continent"}},b}();return{create:function(h){return new v(h)}}}},121157:function(Je,H,t){t.d(H,{O:function(){return f},p:function(){return s}});var c,e=t(787941);function s(){return new v}var f=function(p){return p[p.pending=0]="pending",p[p.resolved=1]="resolved",p[p.rejected=2]="rejected",p}({}),v=function(){function p(){}return p.prototype.defer=function(n){return new b($.Deferred())},p.prototype.reject=function(n){var l=this.defer();return l.reject(n),l.promise},p.prototype.resolve=function(n){var l=this.defer();return l.resolve(n),l.promise},p.prototype.all=function(n){return this.when.apply(this,n).then(function(){return Array.prototype.slice.call(arguments)})},p.prototype.allSettled=function(n){var l=this.defer(),r=n.length;if(r>0)for(var o=0,a=[],i=function(V){n[V].then(function(d){a[V]={value:d,type:0}}).catch(function(d){a[V]={value:d,type:1}}).finally(function(){++o===r&&l.resolve(a)})},m=0;m<r;m++)i(m);else l.resolve([]);return l.promise},p.prototype.when=function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var r=n.map(function(a){return a&&a.promise?a.promise:a});if(1===r.length){var o=r[0];return null!=o&&o.pipe?new h(o):this.resolve(o)}return new h($.when.apply($,r))},p}(),b=function(){function p(n){e.fF.assertValue(n,"deferred"),this.deferred=n,this.promise=new h(n.promise())}return p.prototype.resolve=function(n){this.deferred.resolveWith(this.deferred.promise,[n])},p.prototype.reject=function(n){this.deferred.rejectWith(this.deferred.promise,[n])},p}(),h=function(){function p(n){this[c]="Promise",e.fF.assertValue(n,"promise"),this.promise=n}return p.prototype.then=function(n,l){var r=p.wrapCallback(n),o=p.wrapCallback(l);return new p(this.promise.pipe(r||null,o))},p.prototype.catch=function(n){return this.then(null,n)},p.prototype.finally=function(n){return this.promise.always(p.wrapCallback(n)),this},p.wrapCallback=function(n){return n&&function(){var l=n.apply(this,arguments);return l instanceof p?l.promise:l}},p}();c=Symbol.toStringTag},376461:function(Je,H,t){t.d(H,{LK:function(){return o},T5:function(){return r},y4:function(){return a}});var b,h,p,D,e=t(826691),c=t(847069),f="`",v=f+f,n=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function r(D,L,F,A){g();var O=p[D];if(!O){R("information","ensuring localStorageCache ".concat(D));var N=h.caches[D];N&&N.version!==L&&(R("information","Clearing old version cache ".concat(D)),T(D),delete h.caches[D],y(),N=void 0),O=new d(D,F,A),p[D]=O,N||(R("information","Adding initial cache metadata for ".concat(D)),h.caches[D]={version:L,size:0,nextId:1,added:Date.now()},y(),E())}return O}function o(D){T(D),g();var L=h.caches[D];L&&(p[D]?h.caches[D]={version:L.version,size:0,nextId:1,added:Date.now()}:delete h.caches[D],y())}function a(D,L){if(D){var F=m(D),A=h.caches[D],O=[],N=0;b.forEach(function(j){if(F.test(j)){var W=b.getData(j);if(W&&W.added){var U=W.id,k=null;null!=U&&(k=u(D,U)),S(A.added)-W.added>L&&(k&&O.push(k),O.push(j),N+=W.size)}}}),A.size-=N,y();for(var w=0,I=O;w<I.length;w++)b.setData(I[w],void 0)}}function i(D,L){return f+D+"-"+L}function m(D){return new RegExp("^`"+D+"-")}function u(D,L){return v+D+"-"+L}b=c.DU,h=D,p={};var d=function(){function D(L,F,A){this.cacheName=L,this.maxSpace=F,this.maxAge=A,this.disabled=!1}return D.prototype.getData=function(L){if(!this.disabled){var F=i(this.cacheName,L),A=b.getData(F),O=A&&A.id;if(null!=O){var N=u(this.cacheName,O),w=h.caches[this.cacheName];if(S(w.added)-A.added<=this.maxAge)return b.getData(N);w.size-=A.size,y(),b.setData(N,void 0),b.setData(F,void 0)}}},D.prototype.setData=function(L,F,A){if(!this.disabled){if(!(h=C()))return void(this.disabled=!0);var O=i(this.cacheName,L),N=b.getData(O);void 0===F?this.removeEntry(O,N):this.setEntry(O,N,F,A)}},D.prototype.removeEntry=function(L,F){if(F){var A=F.size;null!=A&&(h.caches[this.cacheName].size-=A,y());var O=F.id;null!=O&&b.setData(u(this.cacheName,O),void 0)}b.setData(L,void 0)},D.prototype.setEntry=function(L,F,A,O){var N=h.caches[this.cacheName];if(!N)return this.disabled=!0,void R("error","Did't find cache metadata for ".concat(this.cacheName," in directory ").concat(JSON.stringify(h)));var w=S(N.added),I=F&&F.id;I?(F.added=w,N.size-=F.size):F={id:I=N.nextId++,added:w,size:0};var B=u(this.cacheName,I),j=JSON.stringify(A);F.size=j.length+L.length+B.length,F.size+=JSON.stringify(F).length,F.size+=1,N.size+=F.size,N.size>this.maxSpace&&(O&&O(),T(this.cacheName),N.added=Date.now(),N.nextId=2,F.added=S(N.added),F.id=1,B=u(this.cacheName,F.id),F.size=j.length+L.length+B.length,F.size+=JSON.stringify(F).length,F.size+=1,N.size=F.size),y(),b.setData(L,F),b.setJSONData(B,j)},D}();function S(D){return Math.floor((Date.now()-D)/6e4)}function g(){if(h=C()){if("2"===h.version)return;R("information","Clearing old verion ".concat(h.version," localStorage entries")),x(function(D){return D.length>0&&D[0]===f})}else R("information","Clearing obsolete localStorage entries"),x(function(D){return n.test(D)});h={version:"2",caches:{}},y(),E()}function y(){b.setData(v,h)}function C(){return b.getData(v)}function E(){try{var D=C();_.isEqual(D,h)||R("warning","Cache directory different after save: saved=".concat(JSON.stringify(h)," reloaded=").concat(JSON.stringify(D)))}catch(L){R("error","Error checking cache directory after save: ".concat(L&&L.stack?L.stack:JSON.stringify(L)))}}function T(D){var L=m(D),F=function(D){return new RegExp("^``"+D+"-")}(D);x(function(A){return L.test(A)||F.test(A)})}function x(D){var L=[];b.forEach(function(N){D(N)&&L.push(N)});for(var F=0,A=L;F<A.length;F++)b.setData(A[F],void 0);return L.length}function R(D,L){var F=window.jsCommon;!F||!F.Trace||e.f[D]("localStorageCache: "+L)}},847069:function(Je,H,t){t.d(H,{DU:function(){return s},UD:function(){return f}});var e=function(){function v(){}return v.prototype.getData=function(b){try{if(localStorage){var h=localStorage[b];if(h)return JSON.parse(h)}}catch(p){}},v.prototype.setData=function(b,h){try{if(localStorage)return void(void 0===h?localStorage.removeItem(b):localStorage[b]=JSON.stringify(h))}catch(p){}},v.prototype.setJSONData=function(b,h){try{localStorage&&(void 0===h?localStorage.removeItem(b):localStorage[b]=h)}catch(p){}},v.prototype.forEach=function(b){try{if(!localStorage)return;for(var h=localStorage.length;h-- >0;)b(localStorage.key(h))}catch(p){}},v}(),c=function(){function v(b){this.cache={},this.clearCacheInterval=null!=b?b:v.defaultClearCacheInterval,this.clearCache()}return v.prototype.getData=function(b){return this.cache[b]},v.prototype.setData=function(b,h,p){var n=this;this.cache[b]=h,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout(function(){return n.clearCache()},this.clearCacheInterval))},v.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},v.defaultClearCacheInterval=864e5,v}(),s=new e,f=new c},185664:function(Je,H,t){t.d(H,{G2:function(){return p},hQ:function(){return b}});var e=t(226514),c=t(787941),s=t(16062),f=t(826691),v=t(690016),b=function(C,E,M,P){return new n(C,E,M,P)};function p(y){return!!y&&y instanceof Function}var n=function(){function y(C,E,M,P){this.promiseFactory=C,this.telemetry=E,this.options=(0,e.__assign)((0,e.__assign)({},P),{rjs:P&&P.rjs||window.require}),this.active={},c.fF.assertValue(this.options.rjs,"Could not load require.js."),M?(this.options.rjs.config(M),this.cssPaths=M.cssPaths,this.bundles=M.bundles):(this.cssPaths={},this.bundles={})}return y.prototype.require=function(C){var M,E=this;c.fF.assertValue(C,"moduleLoader: require Module Dependency has to be defined");var T,P=C.javascript;if(p(P))return this.loadModuleES6(C,P);if(P)T=P;else{if(!C.css)return this.promiseFactory.resolve();T=C.css.join(",")}var x=S(this.cssPaths,C.css,null!==(M=this.options.rtl)&&void 0!==M&&M,this.promiseFactory),R=this.active,D=R[T];if(D)return D;if(!P)return R[T]=x,x.finally(function(){return delete R[T]}),x.then(function(){return E.promiseFactory.resolve()});var L=function(y,C){for(var E in c.fF.assertValue(y,"script"),c.fF.assertValue(C,"bundles"),C)if(_.includes(C[E],y))return E}(P,this.bundles),F=this.promiseFactory.defer(!0),A=function(){return o(E.options.rjs,E.telemetry,P,function(j){return F.resolve(j)},function(j){return F.reject(j)})};if(null==L||this.options.rjs.defined(L))A();else{var O=(0,s.z)(),N=setTimeout(function(){f.f.warning("Module bundle load is delayed",void 0,{bundleName:L,duration:(0,s.z)()-O}),N=setTimeout(function(){f.f.warning("Module bundle load is very delayed",void 0,{bundleName:L,duration:(0,s.z)()-O}),N=void 0},E.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);o(this.options.rjs,this.telemetry,L,function(){N||f.f.warning("Module bundle eventually loaded",void 0,{bundleName:L,duration:(0,s.z)()-O}),clearTimeout(N),A()},function(B){return F.reject(B)})}var I=this.promiseFactory.all([x,F.promise]).then(function(){return F.promise});return R[T]=I,I.finally(function(){return delete R[T]}),I},y.prototype.loadModuleES6=function(C,E){var M,P=E();return C.css?this.promiseFactory.all([S(this.cssPaths,C.css,null!==(M=this.options.rtl)&&void 0!==M&&M,this.promiseFactory),P]).then(function(){return P}):P},y}(),l=".js",r=".min.js";function o(y,C,E,M,P){if(c.fF.assertValue(y,"rjs"),c.fF.assertValue(E,"script"),c.fF.assertValue(M,"success"),c.fF.assertValue(P,"failure"),y.defined(E))M(y(E));else{var T=(0,v.BL)("moduleLoader.require('".concat(E,"')")),x=null==C?void 0:C.startEvent();y([E],function(){var L,R=window.parseTimeMarkers,D=E;R&&((L=R[E+r])?D+=r:(L=R[E+l])&&(D+=l));var F={start:L&&L.start,end:L&&L.end},A={start:L&&L.startEval,end:L&&L.endEval};null==x||x.resolve(D,F,A),T(),M(arguments[0])},function(R){null==x||x.reject(E),T(),P(R)})}}var i=document,m=i.head,u=i.createElement("link"),V=[],d=m.getElementsByTagName("script")[0];function S(y,C,E,M){var P,T;if(!C)return M.resolve();(null===(T=null===(P=m.getElementsByTagName("script"))||void 0===P?void 0:P[0])||void 0===T?void 0:T.src)!==(null==d?void 0:d.src)&&(d=m.getElementsByTagName("script")[0]);for(var x=["quill.core"],R=[],D=0,L=C;D<L.length;D++){var F=L[D],A=-1!==x.indexOf(F);if(F=y[F]||F,_.endsWith(F,".css")||(F+=".css"),E&&!A&&-1===F.indexOf(".rtl")&&(F=_.endsWith(F,".min.css")?F.replace(".min.css",".rtl.min.css"):F.replace(".css",".rtl.css")),-1===V.indexOf(F)){V.push(F);var O=g(F,M);R.push(O)}}return R.length?M.all(R):M.resolve()}function g(y,C){var E=u.cloneNode(),M=C.defer();return E.addEventListener("load",function(){return M.resolve()}),E.addEventListener("error",function(){return M.reject()}),E.href=y,d?m.insertBefore(E,d):m.appendChild(E),M.promise}u.setAttribute("rel","stylesheet")},750005:function(Je,H,t){t.d(H,{k:function(){return c}});var e=t(787941);function c(f,v){return new s(f,v)}var s=function(){function f(v,b){this.deferMethod=v,this.drainMethod=b,this.asyncQueue=[],this.processing=!1}return f.prototype.defer=function(v,b){for(var h=[],p=2;p<arguments.length;p++)h[p-2]=arguments[p];e.fF.assertValue(v,"callback"),this.deferMethod?this.deferMethod(v):this.deferInternal(v,b,h)},f.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},f.prototype.deferInternal=function(v,b){for(var h=this,p=[],n=2;n<arguments.length;n++)p[n-2]=arguments[n];!this.processing&&!this.asyncQueue.length&&setTimeout(function(){h.asyncQueue.length>0&&h.drainQueue()},b),this.asyncQueue.push({callback:v,args:p})},f.prototype.drainQueue=function(){this.processing=!0;for(var v=0,b=this.asyncQueue;v<b.length;v++){var h=b[v];h.callback(h.args)}this.asyncQueue.length=0,this.processing=!1},f}()},14253:function(Je,H,t){t.d(H,{b:function(){return n}});var e=t(629925),c=t(787941),s=t(516619),f=t(764365),v=t(520907),b=t(569071),h=t(240849),p=t(847069),n=function(){function l(){}return l.setCanvasCtx=function(r){l.canvasCtx=r},l.ensureDOM=function(){var r;if(!l.canvasCtx){if(l.spanElement||(l.spanElement=$("<span></span>"),$("body").append(l.spanElement)),null==l.letterSpacing)try{var o=window.getComputedStyle(null===(r=l.spanElement)||void 0===r?void 0:r.get(0));o.letterSpacing.indexOf("px")>0&&(l.letterSpacing=+o.letterSpacing.replace("px",""))}catch(i){}l.svgTextElement||(l.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),l.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var a=window.getComputedStyle(l.svgTextElement.node());l.fallbackFontFamily=a?a.fontFamily:""}},l.removeSpanElement=function(){l.spanElement&&l.spanElement.remove&&l.spanElement.remove(),l.spanElement=null},l.measureSvgTextWidth=function(r,o){if(c.fF.assertValue(r,"textProperties"),c.fF.assert(function(){return _.isEmpty(r.fontSize)||-1!==r.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!r||!r.fontSize)return 0;if(l.ensureDOM(),!l.canvasCtx)return((null!=o?o.length:null!=r.text&&r.text.length)||0)*(parseInt(r.fontSize,10)||9);if(!l.setCanvasFont(l.canvasCtx,r)||null==o&&null==r.text)return 0;var i=null!=o?o:r.text;return l.canvasCtx.measureText(i).width+(null!=l.letterSpacing?l.letterSpacing*i.length:0)},l.measureSvgTextRect=function(r,o){return c.fF.assertValue(r,"textProperties"),c.fF.assert(function(){return _.isEmpty(r.fontSize)||-1!==r.fontSize.indexOf("px")},"TextProperties' text size should be in px."),l.ensureDOM(),l.svgTextElement.text(o||r.text).attrs({visibility:"hidden","font-family":r.fontFamily||l.fallbackFontFamily,"font-variant":r.fontVariant,"font-size":r.fontSize,"font-weight":r.fontWeight,"font-style":r.fontStyle,"text-decoration":r.textDecoration||"none","white-space":r.whiteSpace||"nowrap"}),(0,b.jL)(l.svgTextElement.node())},l.measureSvgTextHeight=function(r,o){var a=l.measureSvgTextRect(r,o);return a?a.height:0},l.measureSvgGlyphHeight=function(r,o,a){c.fF.assert(function(){return-1!==r.indexOf("px")},"Font size should be in px."),l.ensureDOM(),l.svgTextElement.classed(o,!0).style("font-size",r).style("position","absolute").style("visibility","hidden");var m=l.measureSvgTextRect({fontFamily:null,fontSize:r},a);return l.svgTextElement.classed(o,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),m?m.height:0},l.isFullyTruncated=function(r){return r===l.ellipsis},l.estimateSvgTextRect=function(r){c.fF.assertValue(r,"textProperties"),c.fF.assert(function(){return _.isEmpty(r.fontSize)||-1!==r.fontSize.indexOf("px")},"TextProperties' text size should be in px.");var o=(r.fontFamily||"")+(r.fontSize||""),a=p.UD.getData(o),i=null==a?void 0:a.rect,m={fontFamily:r.fontFamily,fontSize:r.fontSize,text:"M"},u=l.isFontLoaded(m);return null!=i&&a.fontLoaded||!1===u?null==i&&(i=l.measureSvgTextRect(m),p.UD.setData(o,{rect:i,fontLoaded:!1})):(i=l.measureSvgTextRect(m)).height>0&&p.UD.setData(o,{rect:i,fontLoaded:!0}),i},l.isFontLoaded=function(r){var o="16px",a=document.fonts,i=r.fontFamily,m=!1;if(l.fontLoadCache[i])return!0;if(a&&i)try{m=a.check(o+" "+i)}catch(d){}else{r.fontSize=o;var u=l.measureSvgTextRect(r),V=i?i.split(",")[0]:"";if(-1!==V.indexOf("Segoe UI"))m=(0,f.GG)(u.height,21.28,1e-5);else{if(-1===V.indexOf("wf_standard-font"))return null;m=(0,f.GG)(u.height,16.35,1e-5)}}return l.fontLoadCache[i]=m,m},l.clearFontLoadedCache=function(){l.fontLoadCache={}},l.estimateSvgTextBaselineDelta=function(r){var o=l.estimateSvgTextRect(r);return o.y+o.height},l.estimateSvgTextHeight=function(r,o){void 0===o&&(o=!1);var a=l.estimateSvgTextRect(r).height;return o&&(a*=.7),a},l.measureSvgTextElementWidth=function(r){return c.fF.assertValue(r,"svgElement"),l.measureSvgTextWidth(l.getSvgMeasurementProperties(r))},l.getMeasurementProperties=function(r){return c.fF.assertValue(r,"element"),{text:r.val()||r.text(),fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontWeight:r.css("font-weight"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),whiteSpace:r.css("white-space")}},l.getSvgMeasurementProperties=function(r){c.fF.assertValue(r,"svgElement");var o=window.getComputedStyle(r,null);return o?{text:r.textContent,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontStyle:o.fontStyle,fontVariant:o.fontVariant,whiteSpace:o.whiteSpace}:{text:r&&r.textContent,fontFamily:"",fontSize:"0"}},l.getDivElementWidth=function(r){c.fF.assert(function(){return r.is("div")},"Given element is not a div type. Cannot get width");var o=getComputedStyle(r[0]);return o?o.width:"0"},l.getTailoredTextOrDefault=function(r,o){if(c.fF.assertValue(r,"properties"),c.fF.assertValue(r.text,"properties.text"),c.fF.assert(function(){return _.isEmpty(r.fontSize)||-1!==r.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!r||!r.fontSize)return"";l.ensureDOM();var a=r.text;if(!a||!l.canvasCtx||!l.setCanvasFont(l.canvasCtx,r))return"";var i=l.canvasCtx.measureText(a).width+(null!=l.letterSpacing?l.letterSpacing*a.length:0);if(i<=o)return a;for(var m=1,u=(a=l.ellipsis+a).length;m<u;){var V=m+u>>1,d=a.substr(0,V);o>(i=l.canvasCtx.measureText(d).width+(null!=l.letterSpacing?l.letterSpacing*d.length:0))?m=V+1:o<i?u=V-1:(m=V,u=V)}var S=a.substr(0,m);return(i=l.canvasCtx.measureText(a.substr(0,m)).width+(null!=l.letterSpacing?l.letterSpacing*S.length:0))>o&&m--,a.substr(l.ellipsis.length,m-l.ellipsis.length)+l.ellipsis},l.setCanvasFont=function(r,o){try{r.font=(o.fontStyle||"")+" "+(o.fontVariant||"")+" "+(o.fontWeight||"")+" "+o.fontSize+" "+(o.fontFamily||l.fallbackFontFamily)}catch(a){return!1}return!0},l.svgEllipsis=function(r,o,a){c.fF.assertValue(r,"textElement"),a||(a=l.getSvgMeasurementProperties(r));var i=a.text,m=l.getTailoredTextOrDefault(a,o);i!==m&&(r.textContent=m)},l.wordBreak=function(r,o,a,i){void 0===i&&(i=0),(0,s.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),c.fF.assertValue(r,"textElement");var m=l.getSvgMeasurementProperties(r),u=l.estimateSvgTextHeight(m)+i,V=Math.max(1,Math.floor(a/u)),d=d3.select(r),S=d.attr("y"),g=r.textContent;r.textContent="";for(var y=(0,h.ql)(g,m,l.measureSvgTextWidth,o,V),C=0,E=y.length;C<E;C++)m.text=y[C],d.append("tspan").attrs({x:0,dy:0===C?S:u}).text(l.getTailoredTextOrDefault(m,o))},l.wordBreakOverflowingText=function(r,o,a,i){void 0===i&&(i=0),c.fF.assertValue(r,"textElement");var m=l.getSvgMeasurementProperties(r),u=l.estimateSvgTextHeight(m)+i,V=Math.max(1,Math.floor(a/u)),d=r.textContent;r.textContent="";var S=(0,h.ql)(d,m,l.measureSvgTextWidth,o,V);d3.select(r).selectAll(l.OverflowingText.selector).data(S).enter().append("span").classed(l.OverflowingText.class,!0).text(function(y){return y}).style("width",v.FP.toString(o))},l.ellipsis="\u2026",l.OverflowingText=(0,e.CH)("overflowingText"),l.letterSpacing=null,l.fontLoadCache={},l}()},307172:function(Je,H,t){t.d(H,{i:function(){return e}});var e=function(c){return c[c.Clockwise=0]="Clockwise",c[c.Counterclockwise=1]="Counterclockwise",c[c.Colinear=2]="Colinear",c}({})},433992:function(Je,H,t){t.d(H,{fJ:function(){return f},ng:function(){return b}});var e=t(883863),c=t(177497),s=t(787941),f=function(){function h(p,n,l){var r;this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=p||b.getDefaultColors(),this.sentimentColors=n||b.defaultSentimentColors,this.gradientColors=l||b.defaultGradientColors,this.scales={},(r=this.basePickerColors).push.apply(r,_.take(this.colors,8))}return h.prototype.getColorScaleByKey=function(p){var n=this.scales[p];return void 0===n&&(n=this.createScale(),this.scales[p]=n),n},h.prototype.getNewColorScale=function(){return this.createScale()},h.prototype.getColorByIndex=function(p){var n=this;return s.fF.assert(function(){return p>=0&&p<n.colors.length},"index is out of bounds"),this.colors[p]},h.prototype.getSentimentColors=function(){return this.sentimentColors},h.prototype.getGradientColors=function(){return this.gradientColors},h.prototype.getBasePickerColors=function(){return this.basePickerColors},h.prototype.getBaseColors=function(){return _.take(this.colors,8)},h.prototype.getAllColors=function(){return this.colors},h.prototype.createScale=function(){return v.createFromColors(this.colors)},h}(),v=function(){function h(p){this.scale=p}return h.prototype.getColor=function(p){return this.scale(p)},h.prototype.clearAndRotateScale=function(){var p=this.scale.domain().length,n=(0,e.U1)(this.scale.range(),p);this.scale=d3.scaleOrdinal().range(n)},h.prototype.clone=function(){return new h(this.scale.copy())},h.prototype.getDomain=function(){return this.scale.domain()},h.createFromColors=function(p){return new h(d3.scaleOrdinal().range(p))},h}(),b=function(){function h(){}return h.getDefaultColors=function(){if(!h.defaultColors){h.defaultColors=[];for(var p=h.defaultBaseColors,n=0;n<h.colorSectorCount;++n)for(var l=0,r=p.length;l<r;++l){var o=(0,c.U1)(p[l].value,n/h.colorSectorCount);h.defaultColors.push({value:null!=o?o:p[l].value})}}return h.defaultColors},h.colorSectorCount=12,h.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],h.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},h.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},h}()},750311:function(Je,H,t){t.d(H,{GK:function(){return r},Oy:function(){return n},Ue:function(){return f},V4:function(){return v},lQ:function(){return o},pe:function(){return l}});var e=t(787941),c=t(803018),s=t(433992);function f(a,i){void 0===a&&(a=new s.fJ);var m={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:a.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:a};return{isHighContrast:!1,colorPalette:m,textClasses:v(m,i),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function v(a,i,m){var u,V,d,S;if(void 0===m&&(m=!1),function(a){if(!a)return!1;for(var m=["color","fontSize","fontFace"],u=0,V=["callout","header","label","title"];u<V.length;u++){var S=a[V[u]];if(!S)return!1;for(var g=0,y=m;g<y.length;g++)if(!S[y[g]])return!1}return!0}(i)){i.callout.fontFace=b(null!==(u=i.callout.fontFace)&&void 0!==u?u:""),i.label.fontFace=b(null!==(V=i.label.fontFace)&&void 0!==V?V:""),i.title.fontFace=b(null!==(d=i.title.fontFace)&&void 0!==d?d:""),i.header.fontFace=b(null!==(S=i.header.fontFace)&&void 0!==S?S:"");var E={callout:i.callout,label:i.label,title:i.title,header:i.header,largeTitle:h(i.largeTitle,i.title,void 0,7/6),dataTitle:h(i.dataTitle,i.title,a.dataColors.getColorByIndex(0)),boldLabel:h(i.boldLabel,i.label,void 0,void 0,"700"),largeLabel:h(i.largeLabel,i.label,void 0,1.2),largeLightLabel:h(i.largeLightLabel,i.label,a.foregroundNeutralSecondary,1.2),lightLabel:h(i.lightLabel,i.label,a.foregroundNeutralSecondary),semiboldLabel:h(i.semiboldLabel,i.label,void 0,void 0,"600"),smallLabel:h(i.smallLabel,i.label,void 0,.9),smallLightLabel:h(i.smallLightLabel,i.label,a.foregroundNeutralSecondary,.9),smallDataLabel:h(i.smallDataLabel,i.label,a.dataColors.getColorByIndex(0),.9)};if(m){var M=a.foreground.value,P=void 0;for(P in E){var T=E[P];T.color?T.color.value=M:T.color={value:M}}}return E}}function b(a){var i=c.bw[a];return i?i.family:a}function h(a,i,m,u,V){if(a?null==a.color&&(a.color=m||i.color):a={color:m||i.color},null==a.fontSize){var d=_.toNumber(i.fontSize);e.fF.assert(function(){return!isNaN(d)},"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),a.fontSize=(null==u?d:Math.round(d*u*10)/10)+""}if(null==a.fontWeight&&null!=V)switch(V){case"700":a.fontWeight="700";break;case"600":a.fontWeight="600";break;default:a.fontWeight=i.fontWeight}return a.fontFace=a.fontFace||i.fontFace,a}function n(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function l(a,i){e.fF.assertValue(i,"EvalContext.getThemeColor - colorName should't be null");var m=a.colorPalette,u=m.dataColors.getGradientColors(),V=m.dataColors.getSentimentColors(),d=m[i]||u[i]||V[i];return e.fF.assertAnyValue(d,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),null==d?void 0:d.value}function r(a,i){var m;return e.fF.assertValue(a,"getThemeDataColor - visualStyle"),e.fF.assertValue(i,"getThemeDataColor - colorIdx"),null===(m=a.colorPalette.dataColors.getBasePickerColors()[i])||void 0===m?void 0:m.value}function o(a,i){return e.fF.assertValue(a,"getThemeIcon - visualStyle"),e.fF.assertValue(i,"getThemeIcon - iconId"),a.icons[i]}},826691:function(Je,H,t){t.d(H,{f:function(){return l}});var e=t(787941),c=t(831917),s=t(927891),f=t(261374),v=t(172694),b=t(452771),p=new(function(){function r(){}return r.prototype.logTrace=function(o){},r}()),l=function(){function r(){}return r.assertFail=function(o){e.fF.assertValue(o,"message"),e.fF.assertFail(o),this.error(o,!0)},r.warning=function(o,a,i){e.fF.assertValue(o,"text"),this.logTraceInternal(new v.X(o,b.U.Warning,this.sessionId,a,i))},r.error=function(o,a,i,m){e.fF.assertValue(o,"text"),a&&(o=(0,f.W)("{0}.\nStack:\n{1}",o,(0,s.DH)())),this.logTraceInternal(new v.X(o,b.U.Error,this.sessionId,i,m))},r.information=function(o,a,i){e.fF.assertValue(o,"text"),this.logTraceInternal(new v.X(o,b.U.Information,this.sessionId,a,i))},r.verbose=function(o,a,i){e.fF.assertValue(o,"text"),this.logTraceInternal(new v.X(o,b.U.Verbose,this.sessionId,a,i))},r.addListener=function(o){e.fF.assertValue(o,"listener"),_.find(this.listeners,function(a){return a===o})||this.listeners.push(o)},r.removeListener=function(o){e.fF.assertValue(o,"listener");var a=this.listeners.indexOf(o);a>=0&&this.listeners.splice(a,1)},r.resetListeners=function(){this.listeners=new Array(p)},r.reset=function(){this.lastTraceIndex=-1},r.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var o=new Array(this.lastTraceIndex+1),a=0;a<=this.lastTraceIndex;a++)o[a]=this.traces[a];return o},r.disableDefaultListener=function(){this.removeListener(p)},r.enableDefaultListener=function(){this.addListener(p)},r.logTraceInternal=function(o){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=o;for(var a=0,i=this.listeners.length;a<i;a++)this.listeners[a].logTrace(o)},r.traces=new Array(1e3),r.lastTraceIndex=-1,r.listeners=new Array(p),r}();(0,c.kx)().Trace=l},172694:function(Je,H,t){t.d(H,{X:function(){return e}});var e=function(){function c(s,f,v,b,h){this.text=s,this.type=f,this.sessionId=v,this.requestId=b,this.timeStamp=new Date,this.additionalInfo=h}return c.prototype.toString=function(){var s="";return s+="".concat(c.traceTypeStrings[this.type]," (").concat(this.timeStamp.toUTCString(),"): ").concat(this.text),this.requestId&&(s+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(s+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),s},c.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],c}()},452771:function(Je,H,t){t.d(H,{U:function(){return e}});var e=function(c){return c[c.Information=0]="Information",c[c.Verbose=1]="Verbose",c[c.Warning=2]="Warning",c[c.Error=3]="Error",c[c.ExpectedError=4]="ExpectedError",c[c.UnexpectedError=5]="UnexpectedError",c[c.Fatal=6]="Fatal",c}({})},259694:function(Je,H,t){t.d(H,{Gg:function(){return c},ZA:function(){return e},dp:function(){return s},yR:function(){return f}});var e=function(){function v(){this.success=!0}return v.prototype.check=function(b,h,p){if(h(b))return p(b);this.success=!1},v.check=function(b){var h=new v;return b(h),h.success},v}();function c(v){return!!v}function s(v){return function(b){return c(b)&&b.length===v}}function f(v){return v}},145315:function(Je,H,t){t.d(H,{DW:function(){return e},EP:function(){return s},NI:function(){return f},su:function(){return c}});var e=function(v){return v[v.Grouping=0]="Grouping",v[v.Measure=1]="Measure",v[v.GroupingOrMeasure=2]="GroupingOrMeasure",v}({}),c=function(v){return v[v.Create=0]="Create",v[v.Append=1]="Append",v[v.Segment=2]="Segment",v[v.None=3]="None",v}({}),s=function(v){return v[v.Data=2]="Data",v[v.Resize=4]="Resize",v[v.ViewMode=8]="ViewMode",v[v.Style=16]="Style",v[v.ResizeEnd=32]="ResizeEnd",v[v.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",v[v.FormatModeChange=128]="FormatModeChange",v[v.FilterOptionsChange=256]="FilterOptionsChange",v[v.All=510]="All",v}({}),f=function(v){return{}}()},738074:function(Je,H,t){t.d(H,{Z:function(){return c},y:function(){return s}});var e=t(787941),c=function(){function f(){}return f.NATURAL_LANGUAGE="NaturalLanguage",f}(),s=function(){return function(v){if(this.version=v.version,this.kind=v.kind,v.kind!==c.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var b=v.version;1===b?this.annotation={description:v.annotation.description,isAutoGenerated:v.annotation.isAutoGenerated,name:v.annotation.name,references:v.annotation.references,utterance:v.annotation.utterance}:e.fF.assertNever(b)}}()},621936:function(Je,H,t){t.d(H,{c:function(){return c},q:function(){return s}});var e=t(738074),c=1;function s(f,v){return v===e.Z.NATURAL_LANGUAGE}},524878:function(Je,H,t){t.d(H,{Wt:function(){return f},lb:function(){return s},ud:function(){return c}});var e=t(787941),c=function(){function v(){}return v.prototype.findProperty=function(b,h){var p=this.entities.withName(b);if(p&&!_.isEmpty(p.properties))return p.properties.withName(h)},Object.defineProperty(v.prototype,"isExtensionSchema",{get:function(){return this.hasOwnProperty("extends")},enumerable:!1,configurable:!0}),v.prototype.findHierarchy=function(b,h){var p=this.entities.withName(b);if(p&&!_.isEmpty(p.hierarchies))return p.hierarchies.withName(h)},v.prototype.findHierarchyLevel=function(b,h,p){var n=this.entities.withName(b);if(n&&!_.isEmpty(n.hierarchies)){var l=n.hierarchies.withName(h);if(l&&!_.isEmpty(l.levels))return l.levels.withName(p)}},v.prototype.findHierarchyByVariation=function(b,h,p,n){var l=this.findTargetEntityOfVariation(b,h,p);if(l&&!_.isEmpty(l.hierarchies))return l.hierarchies.withName(n)},v.prototype.findTargetEntityOfVariation=function(b,h,p){var n=this.entities.withName(b);if(n&&!_.isEmpty(n.properties)){var l=n.properties.withName(h);if(l){var r=l.column;if(r&&!_.isEmpty(r.variations)){var o=r.variations.withName(p);if(o)return o.navigationProperty?o.navigationProperty.targetEntity:n}}}},v.prototype.findPropertyWithKpi=function(b,h){e.fF.assertValue(h,"kpiProperty");var p=this.entities.withName(b);if(p&&!_.isEmpty(p.properties))for(var n=0,l=p.properties;n<l.length;n++){var r=l[n];if(r&&r.measure&&r.measure.kpi&&(r.measure.kpi.status===h||r.measure.kpi.goal===h))return r}},v.prototype.findVariationMappings=function(b){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[b]},v.prototype.findVariationToHierarchyMappings=function(b){var h=this.findVariationMappings(b);return _.filter(h,function(p){return p.variation.defaultHierarchy})},v.prototype.findTableNameFromMeasureName=function(b){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[b]},Object.defineProperty(v.prototype,"isMultiDimensionalModel",{get:function(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange},enumerable:!1,configurable:!0}),v.prototype.buildVariationMappings=function(){var b={};return _(this.entities).filter(function(h){return h.properties}).forEach(function(h){_(h.properties).filter(function(p){return p.column&&p.column.variations}).forEach(function(p){_(p.column.variations).filter(function(n){return n.navigationProperty&&n.navigationProperty.targetEntity}).forEach(function(n){var l=n.navigationProperty.targetEntity.name,r=b[l];r||(b[l]=r=[]),r.push({sourceEntity:h,sourceProperty:p,variation:n})})})}),b},v.prototype.buildMeasureNameToTableNameMappings=function(){for(var b={},h=0,p=this.entities;h<p.length;h++)for(var n=p[h],l=function(m){m.measure&&(e.fF.assert(function(){return!b[m.name]},"there is a collision for ".concat(m.name,"; every measure has a unqiue name in the model")),b[m.name]=n.name)},r=0,o=n.properties;r<o.length;r++)l(o[r]);return b},v}();function s(v){switch(v){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}}function f(v){switch(v){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}},870817:function(Je,H,t){t.d(H,{P:function(){return c}});var e=function(f){return f[f.None=0]="None",f[f.Log=1]="Log",f}({});function c(f,v){if(f){var b;if(f.top&&(b={Top:{}},f.top.count&&(b.Top.Count=f.top.count)),f.bottom&&(b={Bottom:{}},f.bottom.count&&(b.Bottom.Count=f.bottom.count)),f.sample&&(b={Sample:{}},f.sample.count&&(b.Sample.Count=f.sample.count)),f.window&&(b={Window:{}},f.window.count&&(b.Window.Count=f.window.count)),f.binnedLineSample&&(b={BinnedLineSample:{}},null!=f.binnedLineSample.primaryScalarKey&&(b.BinnedLineSample.PrimaryScalarKey=f.binnedLineSample.primaryScalarKey),f.binnedLineSample.count&&(b.BinnedLineSample.Count=f.binnedLineSample.count),f.binnedLineSample.warningCount&&(b.BinnedLineSample.WarningCount=f.binnedLineSample.warningCount)),f.overlappingPointsSample){var h=f.overlappingPointsSample;b={OverlappingPointsSample:{}},h.count&&(b.OverlappingPointsSample.Count=h.count);var p=h.x;p&&1===_.size(p.role.items)&&(b.OverlappingPointsSample.X=s(v,p.role.items[0].queryName,p.transform));var n=h.y;n&&1===_.size(n.role.items)&&(b.OverlappingPointsSample.Y=s(v,n.role.items[0].queryName,n.transform))}return f.topNPerLevel&&(b={TopNPerLevel:{Count:f.topNPerLevel.count}}),b}}function s(f,v,b){var h={Index:_.findIndex(f,function(p){return p.name===v})};return b&&1===b&&(h.Transform=e.Log),h}},369138:function(Je,H,t){t.d(H,{Ns:function(){return u},k4:function(){return m},od:function(){return o},s0:function(){return a}});var e=t(456535),c=t(474147),s=t(883863),f=t(787941),v=t(19632),b=t(324356),h=t(989516);function p(V,d,S){(0,e.un)(V)?(n(S),p(V.left,d,S.left),p(V.right,d,S.right)):(0,e.$Q)(V)?(f.fF.assert(function(){return(0,e.Lk)(V.left)||(0,e.kb)(V.left)||(0,e.t3)(V.left)||(0,e.iV)(V.left)},"expression.left should be fieldRef: entity/measure/column/aggregate"),n(S,V.left),f.fF.assert(function(){return(0,e.VC)(V.right)},"expression.right should be constant"),d.push(V.right)):f.fF.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function n(V,d){d?V.value=d:(V.left={},V.right={})}function l(V,d){return!(!V||!d)&&(V.left&&V.right?!(!d.left||!d.right)&&l(V.left,d.left)&&l(V.right,d.right):V.value?!!d.value&&(0,c.fS)(V.value,d.value):(f.fF.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function r(V){if((0,h.yN)(V))return V.expr;f.fF.assertFail("selectors should be scoped identities")}function o(V){if(f.fF.assertValue(V,"selectorsByColumnArray"),V){for(var d={},S=[],g=[],y=[],C=[],E=[],M=[],P=0,T=V;P<T.length;P++){var x=T[P],R=[],D={};if(M.push(x.id),E.push(x.metadata),x.dataMap){for(var L in x.dataMap)for(var A=0,O=(0,s.rY)(x.dataMap[L]);A<O.length;A++){var N=O[A],w={},I=[],B={},j=_.indexOf(y,L);j<0&&(y.push(L),j=y.length-1),p(r(N),I,B);for(var W=-1,U=0;U<g.length;U++)if(l(B,g[U])){W=U;break}W<0&&(g.push(B),W=g.length-1),w[W]=I,D[j]=D[j]||[],D[j].push(W),R.push(w)}C.push(D),S.push(R)}}return!_.isEmpty(S)&&!_.isEmpty(S)&&(d.decomposedIdentities={values:S,columns:g}),!_.isEmpty(y)&&!_.isEmpty(C)&&(d.queryNames=y,d.queryNameMap=C),_.some(E,function(Q){return!!Q})&&(d.metadata=E),_.some(M,function(Q){return!!Q})&&(d.id=M),d}}function a(V){if(f.fF.assertValue(V,"filterExpressionMetadata"),V){var d={expressions:V.expressions},S=[],g=[],y=[];if(V.cachedValueItems){for(var C=0,E=V.cachedValueItems;C<E.length;C++){var M=E[C];y.push(M.valueMap);for(var P=[],T=0,x=M.identities;T<x.length;T++){var D={},L=[],F={};p(r(x[T]),L,D);for(var A=-1,O=0;O<g.length;O++)if(l(D,g[O])){A=O;break}A<0&&(g.push(D),A=g.length-1),F[A]=L,P.push(F)}S.push(P)}d.decomposedIdentities={values:S,columns:g},d.valueMap=y}return d}}function i(V,d,S){if(d.left&&d.right){var g=i(V,d.left,S),y=i(V,d.right,S);return(0,b.xD)(g,y)}if(d.value){var C=d.value,E=V[S.index++];return f.fF.assert(function(){return(0,e.Lk)(C)||(0,e.kb)(C)||(0,e.t3)(C)||(0,e.iV)(C)},"expression.left should be fieldRef: entity/measure/column/aggregate"),f.fF.assert(function(){return(0,e.VC)(E)},"expression.right should be constant"),(0,b.qu)(0,C,E)}f.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function m(V){if(f.fF.assertValue(V,"decomposedSelectors"),V){var d=[],S=V.decomposedIdentities&&V.decomposedIdentities.values,g=V.decomposedIdentities&&V.decomposedIdentities.columns,y=V.queryNames,C=V.queryNameMap;if(S&&g)for(var E=0;E<S.length;E++){var M=S[E];(P={dataMap:{}}).metadata=V.metadata&&V.metadata[E],P.id=V.id&&V.id[E];for(var T=C[E],x=0,R=M;x<R.length;x++)for(var D=R[x],F=0,A=_.keys(D);F<A.length;F++){var N=_.toNumber(A[F]);for(var w in T){var I=T[w];if(_.indexOf(I,N)>=0){var B=y[w],U=i(D[N],g[N],{index:0}),k=(0,v.TZ)(U);P.dataMap[B]=P.dataMap[B]||[],P.dataMap[B].push(k),_.pull(I,N);break}}}d.push(P)}else{if(!_.isEmpty(V.metadata))for(var Q=0,te=V.metadata;Q<te.length;Q++)(P={}).metadata=te[Q],d.push(P);if(!_.isEmpty(V.id)){var J=_.isEmpty(d);for(E=0;E<V.id.length;E++){var P;(P=J?{}:d[E]).id=V.id[E],J&&d.push(P)}}}return d}}function u(V){if(f.fF.assertValue(V,"decomposedSelectors"),V){var d={expressions:V.expressions},S=V.decomposedIdentities&&V.decomposedIdentities.values,g=V.decomposedIdentities&&V.decomposedIdentities.columns,y=[];if(S&&g){for(var C=0;C<S.length;C++){for(var M=[],P=0,T=S[C];P<T.length;P++){var x=T[P];for(var R in x){var F=i(x[R],g[R],{index:0}),A=(0,v.TZ)(F);M.push(A)}}y.push({identities:M,valueMap:V.valueMap[C]})}_.isEmpty(y)||(d.cachedValueItems=y),V.jsonFilter&&(d.jsonFilter=V.jsonFilter)}return d}}},353705:function(Je,H,t){t.d(H,{D5:function(){return l},DX:function(){return d},Vt:function(){return n},cb:function(){return h},d9:function(){return p},iA:function(){return V},if:function(){return m},of:function(){return u},sz:function(){return S},wy:function(){return r}});var e=t(226514),c=t(474147),s=t(883863),f=t(787941),v=t(217926),b=t(989516),h=function(){function g(y,C){void 0===C&&(C={}),f.fF.assertNonEmpty(y,"Empty roles"),this.roles=y,this.root={identityValues:null,children:[],parent:null},this.levels=[];var M=C.canCollapseRoot,P=C.collapseParentAfterRemovingChildLevel;this.supportsMerge=!!C.supportsMerge,this.canCollapseRoot=!!M,this.collapseParentAfterRemovingChildLevel=!!P}return g.prototype.updateLevels=function(y,C){if(!_.isEmpty(y)&&(0!==C||this.canCollapseRoot)){f.fF.assert(function(){return C<=_.size(y)},"Number of active projections cannot be greater than the number of projections");var E=y.length,M=this.levels;this.levels=new Array(E);for(var P=0;P<E;P++){var T=P>=C-1,x=M[P],R=[y[P]];x&&_.isEqual(x.queryRefs,R)?(this.levels[P]=x,x.isCollapsed=T):this.levels[P]={isCollapsed:T,queryRefs:R,toggledNodes:[]}}this.canCollapseRoot&&(0===C?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(C)}},g.prototype.clone=function(){for(var y=this,C={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},E=new g(_.clone(this.roles),C),M=new Array(this.levels.length),P=0;P<this.levels.length;P++)M[P]=[];return E.levels=_.map(this.levels,function(T,x){return y.cloneExpansionLevel(T,M,x)}),E.root=this.cloneExpansionNode(this.root,null,M,-1),E},g.prototype.isStateModified=function(){return _.some(this.levels,function(y){return!y.isCollapsed})||!_.isEmpty(this.root.children)},g.prototype.addLevel=function(y,C){var E=this;f.fF.assert(function(){return E.supportsMerge});var M=_.findLastIndex(this.levels,function(D){return D.isPinned}),P={isCollapsed:!0,queryRefs:[y],toggledNodes:[],isPinned:C<=M||void 0};f.fF.assert(function(){return C<=_.size(E.levels)},"position > count of levels");for(var T=_.findIndex(this.levels,function(D){return!_.isEmpty(D.toggledNodes)},C),R=-1===T?C:T;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.levels.splice(C,0,P),this.unlockLevels(C),P.isPinned)for(R=0;R<C;R++)delete this.levels[R].AIInformation},g.prototype.removeLevel=function(y){var E,C=this;f.fF.assert(function(){return C.supportsMerge}),f.fF.assert(function(){return y>=0&&y<_.size(C.levels)},"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(E=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,function(M){return M===y}),this.levels.splice(y,1),this.collapseParentAfterRemovingChildLevel&&y>0&&y===E-1&&this.setLevelState(y-1,!0),y<_.size(this.levels)&&this.unlockLevels(y)},g.prototype.moveLevels=function(y,C,E){var M,P=this;f.fF.assert(function(){return P.supportsMerge}),f.fF.assert(function(){return y<_.size(P.levels)},"sourceIndex >= count of level"),f.fF.assert(function(){return C<_.size(P.levels)},"targetIndex >= count of level");var T=_.findLastIndex(this.levels,function(A){return A.isPinned}),x=Math.min(y,C);if(C>y){f.fF.assert(function(){return y+E<=_.size(P.levels)},"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,function(A){return A>=y&&A<y+E});for(var R=y;R<Math.min(y+E,_.size(this.levels));R++)this.levels[R].toggledNodes=[]}var D=this.levels.splice(y,E);(M=this.levels).splice.apply(M,(0,e.__spreadArray)([C,0],D||[],!1));var L=_.findIndex(this.levels,function(A){return!_.isEmpty(A.toggledNodes)},C);for(R=-1===L?C:L;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.unlockLevels(x),y>T&&C<=T?_.forEach(D,function(A){return A.isPinned=!0}):y<=T&&C>T&&_.forEach(D,function(A){return A.isPinned=!1}),_.forEach(D,function(A){return delete A.AIInformation}),this.levels[C].isPinned)for(R=0;R<C;R++)delete this.levels[R].AIInformation},g.prototype.getVisibleDescendentsDepth=function(y,C){var E=this.levels.length;if(f.fF.assert(function(){return C<E},"node out of bounds"),-1===C&&this.canCollapseRoot&&y.isToggled)return 0;for(var M=[y];;){if(C===E-1)return C+1;for(var P=this.levels[C]&&this.levels[C].isCollapsed,T=void 0,x=[],R=0,D=M;R<D.length;R++){var L=D[R];!P==!L.isToggled&&(x.push.apply(x,L.children||[]),T=!0)}if(T&&C++,!(x.length>0))break;M=x}for(;C<E-1&&(-1===C||!this.levels[C].isCollapsed);)C++;return C+1},g.prototype.removeIntermediateNodes=function(y,C,E){var M=this;if(E(C)){var P=!!y.isToggled!=!!this.levels[C].isCollapsed;_.pull(y.parent.children,y),_.forEach(y.children,function(T){P&&(T.isToggled=!M.levels[C+1].isCollapsed),T.parent=y.parent,y.parent.children.push(T)})}_.forEach((0,e.__spreadArray)([],y.children||[],!0),function(T){return M.removeIntermediateNodes(T,C+1,E)})},g.prototype.cloneExpansionLevel=function(y,C,E){return{isCollapsed:y.isCollapsed,identityKeys:this.cloneExpressionList(y.identityKeys),queryRefs:_.clone(y.queryRefs),toggledNodes:C[E],isPinned:y.isPinned,isLocked:y.isLocked,AIInformation:y.AIInformation?{method:y.AIInformation.method,disabled:y.AIInformation.disabled}:void 0}},g.prototype.cloneExpansionNode=function(y,C,E,M){var P={identityValues:this.cloneExpressionList(y.identityValues),children:[],parent:C};void 0!==y.isToggled&&(P.isToggled=y.isToggled),M>=0&&E[M].push(P);for(var T=0,x=y.children;T<x.length;T++)P.children.push(this.cloneExpansionNode(x[T],P,E,M+1));return P},g.prototype.cloneExpressionList=function(y){return y?_.map(y,function(C){return C}):null},g.prototype.setNodeState=function(y,C){var E=this;if(y&&_.isEmpty(y.data))return f.fF.assert(function(){return E.canCollapseRoot},"Collapse to root capability is not enabled"),C?this.root.isToggled=!0:delete this.root.isToggled,this.root;var M=(0,b.CT)(y);if(M){for(var P=M.length,T=this.root,x=0;x<P;x++){var R=M[x],D=(0,v.RR)(R.expr);if(!this.ensureLevel(x,D))return;var F=(0,v.KX)(R.expr);T=this.ensureChildNode(x,T,F,x===P-1?C:void 0)}if(!this.pruneNonToggledLeaf(T))return T}},g.prototype.ensureLevel=function(y,C){var E=this.levels[y];if(f.fF.assertValue(E,"level does not exist"),E.identityKeys){if(!(0,s.NF)(E.identityKeys,C,c.fS))return}else E.identityKeys=C;return E},g.prototype.ensureChildNode=function(y,C,E,M){f.fF.assertValue(C,"parent"),f.fF.assertValue(E,"identityValues"),f.fF.assertValue(y>=0,"levelIdx >= 0");var P=this.levels[y];f.fF.assertValue(P,"level does not exist");var T=this.findNodeMatchingIdentities(C.children,E);return T||C.children.push(T={children:[],identityValues:E,parent:C}),void 0!==M&&(M!==!!P.isCollapsed?(T.isToggled=!0,_.indexOf(P.toggledNodes,T)<0&&P.toggledNodes.push(T)):(delete T.isToggled,P.toggledNodes=_.filter(P.toggledNodes,function(x){return x!==T}))),T},g.prototype.pruneNonToggledLeaf=function(y){f.fF.assertValue(y,"node");for(var C=!1;y.parent&&!y.isToggled&&_.isEmpty(y.children);)y.parent.children=_.filter(y.parent.children,function(E){return E!==y}),y=y.parent,C=!0;return C},g.prototype.setLevelState=function(y,C){var E=this;if(-1===y)return f.fF.assert(function(){return E.canCollapseRoot},"Collapse to root capability is not enabled"),void(C?this.root.isToggled=!0:delete this.root.isToggled);f.fF.assert(function(){return y>-1},"levelIdx");var M=this.levels[y];if(M){M.isCollapsed=C;for(var P=0,T=M.toggledNodes;P<T.length;P++){var x=T[P];delete x.isToggled,this.pruneNonToggledLeaf(x)}M.toggledNodes=[]}},g.prototype.pinLevels=function(y){var C=this;f.fF.assert(function(){return y<=_.size(C.levels)},"Requested pinning of too many levels");for(var E=0;E<Math.min(y,_.size(this.levels));E++)this.levels[E].isPinned=!0},g.prototype.unpinLevels=function(y){var C=this;f.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist");var E=this.getVisibleDescendentsDepth(this.root,-1);f.fF.assert(function(){return y>=E-1},"cannot unpin projected level");for(var M=Math.max(y,E-1);M<_.size(this.levels);M++)delete this.levels[M].isPinned},g.prototype.lockLevels=function(y){var C=this;f.fF.assert(function(){return y<=_.size(C.levels)},"Requested locking of too many levels");for(var E=0;E<Math.min(y,_.size(this.levels));E++)this.levels[E].isLocked=!0},g.prototype.unlockLevels=function(y){var C=this;f.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist");for(var E=y;E<_.size(this.levels);E++)delete this.levels[E].isLocked},g.prototype.setAILevelInformation=function(y,C){var E=this;f.fF.assert(function(){return y<_.size(E.levels)},"Level does not exist"),C?this.levels[y].AIInformation=_.cloneDeep(C):delete this.levels[y].AIInformation},g.prototype.getAILevelInformation=function(y){var C=this;return f.fF.assert(function(){return y<_.size(C.levels)},"Level does not exist"),_.cloneDeep(this.levels[y].AIInformation)},g.prototype.isWholeLevelExpanded=function(y){var C=this.levels[y];return!C||!C.isCollapsed&&_.isEmpty(C.toggledNodes)},g.prototype.isHierarchyExpanded=function(){var y=this;f.fF.assertNonEmpty(this.levels,"levels"),f.fF.assert(function(){return y.isWholeLevelCollapsed(y.levels.length-1)},"Last level should be collapsed");for(var C=0;C<this.levels.length-1;C++)if(!this.isWholeLevelExpanded(C))return!1;return!0},g.prototype.isWholeLevelCollapsed=function(y){var C=this.levels[y];return C&&C.isCollapsed&&_.isEmpty(C.toggledNodes)},g.prototype.getNodeLevelState=function(y,C,E){if(f.fF.assertNonEmpty(y,"identities"),f.fF.assert(function(){return E>=0},"levelIndex >= 0"),E>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var M=y[0],P=this.ensureLevel(E,(0,v.RR)(M.expr));if(P){var R,T=!_.isEmpty(P.toggledNodes),x=(0,v.KX)(M.expr);return C&&(R=this.findNodeMatchingIdentities(C.children,x)),1===y.length?R?{isNodeCollapsed:R.isToggled?!P.isCollapsed:P.isCollapsed,levelHasToggledNodes:T}:{isNodeCollapsed:P.isCollapsed,levelHasToggledNodes:T}:(y.splice(0,1),this.getNodeLevelState(y,R,E+1))}},g.prototype.rewrite=function(y){for(var C=0,E=this.levels;C<E.length;C++){var M=E[C];M.identityKeys&&(M.identityKeys=_.map(M.identityKeys,function(P){return P.accept(y)}))}return this.root=this.rewriteNodeExpansionState(this.root,y),this},g.prototype.rewriteNodeExpansionState=function(y,C){var E=this;return y.identityValues&&(y.identityValues=_.map(y.identityValues,function(M){return M.accept(C)})),y.children=_.map(y.children,function(M){return E.rewriteNodeExpansionState(M,C)}),y},g.prototype.findNodeMatchingIdentities=function(y,C){return _.find(y,function(E){return(0,s.NF)(E.identityValues,C,c.fS)})},g}();function p(g){if(g)return _.map(g,function(y){return y.clone()})}function n(g,y){return f.fF.assertValue(g,"ExpansionStates"),f.fF.assertNonEmpty(y,"Empty roles"),_.find(g,function(C){return _.isEqual(C.roles,y)})}function l(g,y){return f.fF.assertValue(g,"ExpansionStates"),f.fF.assertValue(y,"Role"),_.find(g,function(C){return _.includes(C.roles,y)})}function r(g,y){return(0,s.NF)(g,y,o)}function o(g,y){return!(!g!=!y||!_.isEqual(g.roles,y.roles)||!(0,s.NF)(g.levels,y.levels,a))&&i(g.root,y.root)}function a(g,y){return!g&&!y||!!(g&&y&&_.isEqual(g.queryRefs,y.queryRefs)&&(0,s.NF)(g.identityKeys,y.identityKeys,c.fS)&&g.isCollapsed===y.isCollapsed&&(0,s.NF)(g.toggledNodes,y.toggledNodes,i))}function i(g,y){return!(!(0,s.NF)(g.identityValues,y.identityValues,c.fS)||!!g.isToggled!=!!y.isToggled||!(0,s.NF)(g.children,y.children,i))}function m(g){return!_.isEmpty(g)}function u(g){return!_.isEmpty(g.root.children)||!_.isEmpty(g.root.identityValues)}function V(g){return _.findIndex(g.levels,function(y){return y.isPinned})>=0}function d(g,y,C){var E=n(g,y);if(E)return E.getAILevelInformation(C)}function S(g,y){var C=n(g,y);return C?_.findLastIndex(C.levels,function(E){return E.isPinned})+1:0}},572643:function(Je,H,t){t.d(H,{l:function(){return s}});var e=t(226514),c=t(787941),s=function(){function f(v){c.fF.assertValue(v,"options"),this.schemasByName=v.schemas,v.links&&(this.links=v.links)}return f.merge=function(v){if(1===v.length)return v[0];for(var b={},h=[],p=0,n=v;p<n.length;p++){var l=n[p],r=function(V){c.fF.assert(function(){return!b[V]},"Duplicate schema name ".concat(V," found while merging")),b[V]=l.schemasByName[V]};for(var o in l.schemasByName)r(o);h.push.apply(h,l.links||[])}var a=function(V){var d=b[V];if(d.isExtensionSchema){var S=b[d.extends];c.fF.assert(function(){return!S.isExtensionSchema},"Extension schemas cannot themselves be extended"),f.mergeCapabilities(S,d)}};for(var i in b)a(i);var m={schemas:b};return _.some(h)&&(m.links=h),new f(m)},Object.defineProperty(f.prototype,"schemas",{get:function(){return _.values(this.schemasByName)},enumerable:!1,configurable:!0}),f.prototype.schema=function(v){return this.schemasByName[v]},f.mergeCapabilities=function(v,b){b.capabilities=(0,e.__assign)((0,e.__assign)({},v.capabilities),{canEdit:b.capabilities.canEdit,isExtendable:b.capabilities.isExtendable})},f}()},745969:function(Je,H,t){t.d(H,{K:function(){return s},b:function(){return f}});var e=t(489470),c=t(787941);function s(v){switch(v){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return(0,e.bG)("Unexpected ArithmeticOperatorKind: "+v)}function f(v){switch(v){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance";default:c.fF.assert(function(){return null==v},"Unrecognized aggregate function.")}}},426827:function(Je,H,t){t.d(H,{NQ:function(){return b},cY:function(){return p},d9:function(){return h}});var e=t(226514),c=t(474147),s=t(787941),f=t(143509),v=t(188238),b=function(){function n(l,r,o,a){s.fF.assertValue(l,"items"),this.items=l,this._activeProjectionRefs=r,this._showAll=o,this.parameters=a||[]}return n.prototype.all=function(){return this.items},n.prototype.resetHiddenState=function(l){if(!_.isEmpty(this.items))for(var r=0,o=this.items;r<o.length;r++){var a=o[r];a.queryRef===l&&delete a.hidden}},n.prototype.toggleHidden=function(l){if(!_.isEmpty(this.items))for(var r=0,o=this.items;r<o.length;r++){var a=o[r];a.queryRef===l&&(a.hidden=!a.hidden)}},n.prototype.resetAllHiddenState=function(){for(var l=0,r=this.items;l<r.length;l++)delete r[l].hidden},n.prototype.projected=function(){return _.isEmpty(this.items)?this.items:_.filter(this.items,function(l){return l&&!l.hidden})},n.prototype.addProjection=function(l,r){var o,a,i;r&&(o=r.fieldIndex,a=r.parameter,i=r.indexInParameter);var m=this.getProjectionIndex(o,a,i);this.fixUpParameterIndices(a,o,1),m>=this.items.length?this.items.push(l):this.items.splice(m,0,l)},n.prototype.removeProjection=function(l){var r,o,a;l&&(r=l.fieldIndex,o=l.parameter,a=l.indexInParameter),s.fF.assert(function(){return null!=r||null!=o&&null!=a},"When removing a projection we expect field index or the parameter options to be complete.");var i=this.getProjectionIndex(r,o,a);this.fixUpParameterIndices(o,r,-1),this.items.splice(i,1)},n.prototype.fixUpParameterIndices=function(l,r,o){for(var a=0,i=this.parameters;a<i.length;a++){var m=i[a];l?m.index===l.index&&(void 0===m.length&&(m.length=0),m.length+=o):null!=r&&m.index>=r&&(o>0?m.index>=r:m.index>r)&&(m.index+=o)}},n.prototype.moveFields=function(l,r,o){var a,m,u,V,i=this;if(0===this.parameters.length)m=l,u=o,V=r;else{if(s.fF.assert(function(){return l>=0&&l<i.getFieldCount()&&r>=0&&r<i.getFieldCount()},"Should use valid field indices"),s.fF.assert(function(){return l+o<=i.getFieldCount()},"Should not attempt to move more fields than exist in collection"),s.fF.assert(function(){return r+o<=i.getFieldCount()},"Moving projections should not change the length of collection"),o<=0||l===r)return[];m=this.convertFieldIndexToProjectionIndex(l);var S=this.indexOfLastProjectionInField(l+o-1);u=S-m+1,V=this.convertFieldIndexToProjectionIndex(r),r>l&&(V+=this.indexOfLastProjectionInField(r+o-1)-V+1-u);for(var E=0,M=this.parameters;E<M.length;E++){var P=M[E];P.index>=l&&P.index<=l+o-1?P.index=r+P.index-l:P.index>l&&P.index<=r+o-1?P.index-=o:P.index<l&&P.index>=r&&(P.index+=o)}if(S<m)return[]}var T=this.items.splice(m,u);return(a=this.items).splice.apply(a,(0,e.__spreadArray)([V,0],T||[],!1)),T},n.prototype.assignProjection=function(l,r){this.items[r]=l},n.prototype.updateQueryRef=function(l,r){this.items[l].queryRef=r},n.prototype.getQueryRefs=function(){return _.map(this.items,function(l){return l.queryRef})},n.prototype.getFieldParameters=function(){return this.parameters},n.prototype.addFieldParameter=function(l){for(var r=0,o=this.parameters;r<o.length;r++){var a=o[r];a.index>=l.index&&a.index++}this.parameters.push(l)},n.prototype.getColumnProjectionIndex=function(l){var r=this;return s.fF.assert(function(){return!_.find(r.parameters,function(o){return o.index===l})},"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(l)},n.prototype.getProjectionsByProjectionIndex=function(l){var r=this.convertProjectionIndexToFieldIndex(l),o=this.getParameterByFieldIndex(r);return o?this.getParameterProjections(o):[this.items[l]]},n.prototype.getProjectionsByFieldIndex=function(l){var r=this.getParameterByFieldIndex(l);if(r){var o=this.getParameterProjections(r),a=_.filter(o,function(u){return null!=u});return a.length!==o.length&&s.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),a}var i=this.convertFieldIndexToProjectionIndex(l),m=this.items[i];return null==m?(s.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[m]},n.prototype.convertProjectionIndexToFieldIndex=function(l){var r,o;if(_.isEmpty(this.parameters))return l;for(var a=0,i=0,u=0,V=_.sortBy(this.parameters,function(S){return S.index});u<V.length;u++){var d=V[u];if(a+l-i<d.index)break;if((i+=d.index-a-1)+(null!==(r=d.length)&&void 0!==r?r:0)>l)return d.index;a=d.index,i+=null!==(o=d.length)&&void 0!==o?o:0}return a+l-i},n.prototype.doesParameterExist=function(l){return _.some(this.parameters,function(r){return r.index===l})},n.prototype.getParameterProjectionIndex=function(l,r){var o=this;return s.fF.assert(function(){return l&&null!=r},"Parameter and indexInParameter should both be defined"),s.fF.assert(function(){return o.doesParameterExist(l.index)},"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(l.index)+r},n.prototype.getColumnProjection=function(l){if(!this.doesParameterExist(l))return this.items[this.getColumnProjectionIndex(l)]},n.prototype.getParameterProjections=function(l){if(!l||!l.length)return[];var r=this.convertFieldIndexToProjectionIndex(l.index);return this.items.slice(r,r+l.length)},n.prototype.removeFieldParameters=function(l){for(var r=function(d){var S=_.findIndex(o.parameters,function(P){return P.index===d.index&&(0,c.fS)(P.expr,d.expr)});if(S<0)return{value:!1};var g=o.parameters.splice(S,1)[0],y=g.index;s.fF.assert(function(){return 0===g.length||null==g.length},"there should be no projections for this removed parameter");for(var C=0,E=o.parameters;C<E.length;C++){var M=E[C];M.index>y&&M.index--}},o=this,a=0,i=l;a<i.length;a++){var u=r(i[a]);if("object"==typeof u)return u.value}return!0},n.prototype.findParameterBySQExpr=function(l){return _.isEmpty(this.parameters)?[]:this.parameters.filter(function(r){return(0,c.fS)(r.expr,l)})},n.prototype.getParameterByFieldIndex=function(l){return _.find(this.parameters,function(r){return r.index===l})},Object.defineProperty(n.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(r){if(_.isEmpty(r))this._activeProjectionRefs=void 0;else{for(var o=this.items.map(function(u){return u.queryRef}),a=0,i=r;a<i.length;a++)if(!_.includes(o,i[a]))return;this._activeProjectionRefs=r}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showAll",{get:function(){return this._showAll},set:function(r){this._showAll=r},enumerable:!1,configurable:!0}),n.prototype.addActiveQueryReference=function(l){this._activeProjectionRefs?this._activeProjectionRefs.push(l):this._activeProjectionRefs=[l]},n.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},n.prototype.replaceQueryRef=function(l,r){var o=this;s.fF.assertValue(l,"oldQueryRef"),s.fF.assertValue(r,"newQueryRef"),s.fF.assert(function(){return l!==r},"oldQueryRef !== newQueryRef"),s.fF.assert(function(){return _.isEmpty(o._activeProjectionRefs)},"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role");for(var a=0,i=this.items;a<i.length;a++){var m=i[a];m.queryRef===l&&(m.queryRef=r)}},n.prototype.clone=function(){return new n(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,function(l){return{expr:l.expr,index:l.index,length:l.length}}))},n.prototype.getProjectionIndex=function(l,r,o){var a,i;if(r){var m=null!==(a=r.length)&&void 0!==a?a:0;null!=o?(s.fF.assert(function(){return o<=m},"indexInParameter should not exceed the current length of the parameter's projections."),i=this.convertFieldIndexToProjectionIndex(r.index)+o):i=this.convertFieldIndexToProjectionIndex(r.index)+m}else i=null!=l?this.convertFieldIndexToProjectionIndex(l):this.items.length;return i},n.prototype.convertFieldIndexToProjectionIndex=function(l){return(0,v.VZ)(l,this.parameters)},n.prototype.indexOfLastProjectionInField=function(l){var r=this.convertFieldIndexToProjectionIndex(l),o=_.find(this.parameters,function(a){return a.index===l});return o&&(r+=o.length-1),r},n.prototype.getFieldCount=function(){for(var l,r=this.items.length,o=0,a=this.parameters;o<a.length;o++)r-=(null!==(l=a[o].length)&&void 0!==l?l:0)-1;return r},n}();function h(n){if(!n)return n;var l={};for(var r in n)l[r]=n[r].clone();return l}function p(n,l){if(s.fF.assertAnyValue(n,"roles"),s.fF.assertValue(l,"name"),n)return n[l]}(0,f.y)(b.prototype)},989516:function(Je,H,t){t.d(H,{AV:function(){return w},AZ:function(){return F},CT:function(){return S},GT:function(){return A},Ic:function(){return x},Li:function(){return E},N6:function(){return d},Or:function(){return R},QV:function(){return i},Yw:function(){return M},_Q:function(){return O},cY:function(){return D},d9:function(){return B},fS:function(){return P},fd:function(){return I},gU:function(){return g},hp:function(){return T},j9:function(){return u},k_:function(){return C},km:function(){return L},mV:function(){return y},qm:function(){return V},tQ:function(){return m},tV:function(){return N},xO:function(){return o},yN:function(){return a}});var e=t(226514),c=t(883863),s=t(787941),f=t(389521),v=t(19632),b=t(755397),h=t(799863),p=t(45696),n=t(217926),l=t(324356),r=t(744104),o="{}";function a(j){return null!=j&&1===j.kind}function i(j){return null!=j&&3===j.kind}function m(j){return null!=j&&2===j.kind}function u(j){return null!=j&&0===j.kind}function V(j){return null!=j&&4===j.kind}function d(j){return!(!j||!j.data)&&j&&j.data&&1===j.data.length&&V(j.data[0])}function S(j){if(j&&!_.isEmpty(j.data)){for(var W=j.data.length,U=new Array(W),k=0;k<W;k++){var Q=j.data[k];if(!a(Q))return;U[k]=Q}return U}}function g(j){if(j&&j.dataMap){var W=[];for(var U in j.dataMap){var k=(0,c.rY)(j.dataMap[U]);W.push.apply(W,k||[])}return W}}function y(j,W){if(!_.isEmpty(j)){var U=E(j);if(!_.isEmpty(U))return(0,v.Lu)(U,W)}}function C(j){return y(_.map(j,function(W){return N(W)}))}function E(j){if(!_.isEmpty(j)){for(var W=[],U=function(ee,J){var re=j[ee];s.fF.assert(function(){return!!re},"There is an undefined selector in a list of selectors");var G=null==re?void 0:re.data,ne=void 0;if(!_.isEmpty(G))for(var X=0,oe=G.length;X<oe;X++)ne=(0,l.xD)(ne,(null==re?void 0:re.data[X]).expr);ne&&W.push(ne)},k=0,Q=j.length;k<Q;k++)U(k);return W}}function M(j){if(!_.isEmpty(j))for(var W=0,U=j;W<U.length;W++){var k=U[W];if(k.dataMap)for(var Q in k.dataMap){var te=k.dataMap[Q];if(!_.isEmpty(te)&&_.some(te,function(ee){return null!=ee}))return!0}}}function P(j,W,U){return(j=j||null)===(W=W||null)||!(!j!=!W||(s.fF.assertValue(j,"x"),s.fF.assertValue(W,"y"),j.metadata!==W.metadata)||!T(j.data,W.data)||j.highlightMatching!==W.highlightMatching||(null==U||!U.skipId)&&j.id!==W.id||(null==U||!U.skipOrder)&&j.order!==W.order)}function T(j,W){if((j=j||null)===(W=W||null))return!0;if(!j!=!W||j.length!==W.length)return!1;for(var U=0,k=j.length;U<k;U++)if(!D(j[U],W[U]))return!1;return!0}function x(j,W){return(j=j||null)===(W=W||null)||!j==!W&&P(N(j),N(W))}function R(j,W){if((j=j||null)===(W=W||null))return!0;if(!j!=!W||j.length!==W.length)return!1;for(var U=0;U<j.length;U++)if(!x(j[U],W[U]))return!1;return!0}function D(j,W){return a(j)&&a(W)?(0,v.fS)(j,W):i(j)&&i(W)?(0,h.fS)(j,W):m(j)&&m(W)?(0,b.fS)(j,W):u(j)&&u(W)?(0,f.fS)(j,W):!(!V(j)||!V(W))&&(0,p.fS)(j,W)}function L(j){var W;if(j.data)if(j.data.length>0){W="data: [".concat(j.data[0].key);for(var U=1,k=j.data.length;U<k;U++)W+=", ".concat(j.data[U].key);W+="]"}else W="data: []";var Q=j.metadata;Q&&(W?W+=", metadata: "+Q:W="metadata: "+Q);var te=j.id;return te&&(W?W+=", id: "+te:W="id: "+te),W?"{"+W+"}":"{}"}function F(j,W){if(_.isEmpty(j.data))return[o];var U=[];if(W)U=_.map(j.data,function(J){return J.key});else for(var k=0,Q=j.data;k<Q.length;k++){var te=Q[k];if(a(te)){var ee=(0,n.RR)(te.expr);ee=ee||(0,n.KX)(te.expr),_.forEach(ee,function(J){U.push((0,r.qC)(J))})}}return U}function A(j){s.fF.assertValue(j,"selector");var W=j.data;return!!W&&_.some(W,function(U){return u(U)||i(U)||V(U)})}function O(j){s.fF.assertValue(j,"selector");var W=j.data;if(_.isEmpty(W))return!1;for(var U=0,k=W;U<k.length;U++)if(u(k[U]))return!0;return!1}function N(j){if(j){var W=[];for(var U in j.dataMap)for(var Q=0,te=(0,c.rY)(j.dataMap[U]);Q<te.length;Q++)W.push(te[Q]);var J={};return W.length>0&&(J.data=W),j.metadata&&(J.metadata=_.head(j.metadata)),j.id&&(J.id=j.id),J}}function w(j,W){if(j&&j.metadata){s.fF.assertNonEmpty(W,"getSelectorTargetExpr - selectTransforms");var U=_.find(W,function(k){return k.queryName===j.metadata});if(U)return U.expr}}function I(j){return s.fF.assertAnyValue(j,"selector"),j&&j.data?{data:j.data}:j}function B(j){var W={};return j.data&&(W.data=(0,e.__spreadArray)([],j.data,!0)),j.metadata&&(W.metadata=j.metadata),j.id&&(W.id=j.id),void 0!==j.highlightMatching&&(W.highlightMatching=j.highlightMatching),null!=j.order&&(W.order=j.order),W}},760182:function(Je,H,t){t.d(H,{M:function(){return s},V:function(){return c}});var e=t(787941),c=function(f){return f[f.Default=0]="Default",f[f.Verbose=1]="Verbose",f[f.WholeUnits=2]="WholeUnits",f[f.DataLabels=3]="DataLabels",f}({});function s(f){e.fF.assertValue(f,"visualElements shouldn't be empty");for(var v=[],b=0,h=f;b<h.length;b++)for(var n=function(i){_.find(v,function(m){return _.isEqual(m,i)})||v.push(i)},l=0,r=h[b].DataRoles;l<r.length;l++)n(r[l]);return v}},647639:function(Je,H,t){t.d(H,{W7:function(){return o},tY:function(){return r}});var e=t(456535),c=t(474147),s=t(883863),f=t(787941),v=t(217926),b=t(989516);function p(m){return _.cloneDeep(m)}function l(m){return{windowValues:_.map(m.windowValues,function(u){return function(m){return{identityValues:_.clone(m.identityValues),restartValues:_.clone(m.restartValues),windowKind:m.windowKind}}(u)}),identityValues:_.clone(m.identityValues),children:_.map(m.children,function(u){return l(u)})}}function r(m,u,V,d){if(m){m=function(m){if(m)return{levels:p(m.levels),root:l(m.root)}}(m);var S=(0,b.CT)(u);if(!S)return f.fF.assertFail("Empty selector"),m;for(var g=m.root,y=0,C=function(){var x=(0,v.RR)(S[y].expr);if(!m.levels[y]||!(0,s.NF)(x,m.levels[y].identityKeys,c.fS))return f.fF.assertFail("Level not found"),{value:m};var R=(0,v.KX)(S[y].expr);g=_.find(g.children,function(D){return(0,s.NF)(D.identityValues,R,c.fS)}),y++};g&&y<_.size(S)-1;){var E=C();if("object"==typeof E)return E.value}if(!g||y<_.size(S)-1)return f.fF.assertFail("Cannot find node"),m;var M=(0,v.KX)(S[y].expr);if(d)g.windowValues=[{identityValues:M,windowKind:V,restartValues:d}];else{var P=_.find(g.windowValues,function(T){return(0,s.NF)(M,T.identityValues,c.fS)});if(!P)return f.fF.assertValue(P,"Cannot find a window for the specified node"),g.windowValues=[],m;P.windowKind=V,g.windowValues=[P]}return m}}function o(m,u,V,d){if(m&&m.root){var S=_.map(m.levels,function(y){return function(m,u,V){if(m.identityKeys)return m.identityKeys;var d=_.map(m.queryRefs,function(S){var g=u.withName(S);f.fF.assertValue(g,"Cannot find expr "+S);var y=g.expr;return(0,e.ez)(y)?y.getTargetColumnRef(V):y});return f.fF.assert(function(){return 1===_.size(d)},"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),d[0].getKeyColumns(V)}(y,V,d)}),g=0;return u&&(g=-1===(g=_.findIndex(u.levels,function(y,C){return!(0,s.NF)(y.identityKeys,S[C],c.fS)}))?_.size(u.levels):g),{levels:_.map(S,function(y){return{identityKeys:y}}),root:i(m.root,u&&u.root,g,0,m.levels)}}}function i(m,u,V,d,S){f.fF.assertValue(m,"Expansion node should be defined");var g=u&&u.children||[],y=u&&u.windowValues||[];d>=V&&(g=[],y=[]);var E=_.filter(m.children,function(M){return S[d]&&!!M.isToggled==!!S[d].isCollapsed});return{children:_.map(E,function(M){return i(M,(P=M.identityValues,u&&_.find(g,function(T){return(0,s.NF)(P,T.identityValues,c.fS)})),V,d+1,S);var P}),identityValues:m.identityValues,windowValues:y}}},927928:function(Je,H,t){t.d(H,{P:function(){return e},U:function(){return c}});var e=function(s){return s[s.Default=0]="Default",s[s.BypassCache=1]="BypassCache",s}({}),c=function(s){return s[s.None=0]="None",s[s.AllowCache=1]="AllowCache",s[s.AllowQuery=2]="AllowQuery",s[s.CacheResult=4]="CacheResult",s[s.PreventRefresh=8]="PreventRefresh",s}({})},499995:function(Je,H,t){t.d(H,{oA:function(){return g},Sz:function(){return y}});var e=t(226514),c=t(787941),s=t(116170),f=t(615419),r=t(655981),a=t(60495),i=t(340608),m=t(939141),u=t(950870),V=t(668268),d=t(45696),S=t(456535);function g(M,P,T,x){var R=C(M,P,T,x);return R&&R.expressions}function y(M,P,T,x){return c.fF.assertValue(M,"propDefn"),C(M,P,T,x)}function C(M,P,T,x){var D,L,R=new u.S;return(0,V.er)(M)?((D=new E(P,T,x,M.context)).propertyVisitor=L,(L=new i._(D,R)).visitExpr(M.value)):(0,V.Rc)(M)?(D=new E(P,T,x),L=new i._(D,R),D.propertyVisitor=L,L.visitExpr(M)):(D=new E(P,T,x),L=new i._(D,R),D.propertyVisitor=L,(0,m.RL)(M,D)),{expressions:D.exprs,references:R.references}}var E=function(M){function P(T,x,R,D){var L=M.call(this)||this;return L.selector=T,L.querySelects=x,L.context=D,L.exprs=[],L.inputExpr=L.resolveSelectRef(R),L}return(0,e.__extends)(P,M),P.prototype.resolveSelectRef=function(T){return T&&(0,S.NH)(T)?this.getSelectByRef(T):T},P.prototype.add=function(T){this.context&&(T.context=this.context),null!=this.relatedProjectionQueryName&&(T.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(T)},P.prototype.visitMeasureRef=function(T){this.add({expr:T,selector:this.selector})},P.prototype.visitArithmetic=function(T){this.add({expr:T,selector:this.selector})},P.prototype.visitAggr=function(T){if((0,S.NH)(T.arg)){var R={expr:this.getSelectByRef(T.arg),selector:this.selector,aggregates:this.getAggregates(T.func)};this.add(R)}else this.add({expr:T,selector:this.selector})},P.prototype.checkIfOrdinal=function(T){},P.prototype.getAggregates=function(T){switch(T){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0};default:c.fF.assertFail("Unsupported Projection Aggregate")}},P.prototype.visitPercentile=function(T){if((0,S.NH)(T.arg)){var R={expr:this.getSelectByRef(T.arg),selector:this.selector,aggregates:{percentiles:[{k:T.k,exclusive:T.exclusive}]}};this.add(R)}else this.add({expr:T,selector:this.selector})},P.prototype.visitColumnRef=function(T){this.add({expr:T,selector:this.selector})},P.prototype.visitContains=function(T){this.checkIfOrdinal(T),M.prototype.visitContains.call(this,T)},P.prototype.visitStartsWith=function(T){this.checkIfOrdinal(T),M.prototype.visitStartsWith.call(this,T)},P.prototype.visitCompare=function(T){this.checkIfOrdinal(T),M.prototype.visitCompare.call(this,T)},P.prototype.visitHierarchyLevel=function(T){this.add({expr:T,selector:this.selector})},P.prototype.visitNativeMeasure=function(T){this.add({expr:T,selector:this.selector})},P.prototype.visitSelectRef=function(T){var x=this.getSelectByRef(T);x&&this.add({expr:x,selector:this.selector})},P.prototype.getSelectByRef=function(T){var x=this.querySelects.withName(T.expressionName);return x&&x.expr},P.prototype.visitScopedEval=function(T){var x=T.decomposeGlobalAggregateOfScopedExpr();if(x){var R={expr:this.resolveSelectRef(x.source),selector:this.selector,aggregates:this.getAggregates(x.func)};this.add(R)}else T.hasGlobalScope()?this.add(R={expr:T.expression,selector:null}):(R={expr:T,selector:{data:[(0,d.Ue)()]}},this.add(R))},P.prototype.visitFillRule=function(T){T.input.accept(this),this.inputExpr=this.resolveSelectRef(T.input),this.visitFillRuleDefinition(T.rule)},P.prototype.visitFillDefinition=function(T){(0,f.RL)(T,this.propertyVisitor)},P.prototype.visitFillRuleDefinition=function(T){c.fF.assertValue(T,"fillRule"),c.fF.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var x=T.linearGradient2||T.linearGradient3;c.fF.assertValue(x,"fillRule needs either linearGradient2 or linearGradient3"),c.fF.assertValue(x.min,"gradient.min"),c.fF.assertValue(x.max,"gradient.max");var R={};x.min.value||(R.min=!0),x.max.value||(R.max=!0),(R.min||R.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:R}),(0,r.RL)(T,this.propertyVisitor))},P.prototype.visitDataBarsDefinition=function(T){c.fF.assertValue(this.inputExpr,"Databars without an input Expr"),c.fF.assertValue(T,"dataBars");var x={};T.minValue||(x.min=!0),T.maxValue||(x.max=!0),(x.min||x.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:x}),function(M,P){c.fF.assertValue(M,"dataBars"),M.minValue&&P.visitExpr(M.minValue),M.maxValue&&P.visitExpr(M.maxValue),(0,f.RL)(M.positiveColor,P),(0,f.RL)(M.negativeColor,P),(0,f.RL)(M.axisColor,P),P.visitExpr(M.reverseDirection),P.visitExpr(M.hideText)}(T,this.propertyVisitor))},P.prototype.visitIconDefinition=function(T){!function(M,P){c.fF.assertValue(M,"fillRule"),M.layout&&P.visitExpr(M.layout),M.verticalAlignment&&P.visitExpr(M.verticalAlignment),M.value&&P.visitExpr(M.value)}(T,this.propertyVisitor)},P.prototype.visitParagraphs=function(T){(0,a.RL)(T,this.propertyVisitor)},P.prototype.visitErrorRangeDefinition=function(T){var x=this;c.fF.assert(function(){return null!=x.selector.metadata},"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,function(M,P){M.explicit?function(M,P){P.visitExpr(M.isRelative),M.lowerBound&&P.visitExpr(M.lowerBound),M.upperBound&&P.visitExpr(M.upperBound)}(M.explicit,P):M.symmetricalExplicit?P.visitExpr(M.symmetricalExplicit.delta):M.standardDeviation?function(M,P){M.visitExpr(P.value),M.visitExpr(P.multiplier)}(P,M.standardDeviation):M.percentage?function(M,P){P.visitExpr(M.lowerBoundDelta),P.visitExpr(M.upperBoundDelta)}(M.percentage,P):M.percentile?function(M,P){P.visitExpr(M.lowerBound),P.visitExpr(M.upperBound)}(M.percentile,P):c.fF.assertFail("Unsupported ErrorRangeDefinition")}(T,this.propertyVisitor),this.relatedProjectionQueryName=void 0},P}(s.PA)},195393:function(Je,H,t){t.d(H,{V:function(){return v}});var e=t(177497),c=t(787941),s=t(831917),f=t(655981);function v(){return new p}var h=!1;!function(){if(!h){var i=v;(0,s.Z7)().createColorAllocatorFactory=function(){return i()},h=!0}}();var p=function(){function i(){}return i.prototype.fromFillRule=function(m,u){var V=m.linearGradient2,d=m.linearGradient3;if(V||d){var S;d&&(S=void 0===d.min.value&&void 0===d.max.value&&void 0!==d.mid.value);var g=V?V.min:d.min,y=V?V.max:d.max;if(void 0===g.value&&(g.value=u.aggregates&&u.aggregates.min),void 0===y.value&&(y.value=u.aggregates&&u.aggregates.max),void 0!==g.value&&void 0!==y.value)return d&&void 0===d.mid.value&&(d.mid.value=(g.value+y.value)/2),V?new r(V,u):S?new a(d,u):new o(d,u)}},i}();function n(i){return i.strategy===f.LX}function l(i){switch(i.strategy){case f.TJ:return;case f.Sx:return i.color;case f.LX:c.fF.assertFail("getColorFromNullStrategy - called with asZero");break;default:c.fF.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+i.strategy)}}var r=function(){function i(m,u){this.options=m,this.source=u,c.fF.assertValue(m,"options"),c.fF.assertValue(u,"source");var V=m.min,d=m.max;this.scale=(0,e.$Q)([V.value,d.value],[V.color,d.color],!0)}return i.prototype.color=function(m){var u=this.options.nullColoringStrategy;if(null===m&&u){if(!n(u))return l(u);m=0}return this.scale(m)},i.prototype.getRule=function(){return{linearGradient2:this.options}},i.prototype.getSource=function(){return this.source},i}(),o=function(){function i(m,u){this.options=m,this.source=u,c.fF.assertValue(m,"options"),c.fF.assertValue(u,"source"),this.options=m;var V=m.min,d=m.mid,S=m.max;this.scale=(0,e.$Q)([V.value,d.value,S.value],[V.color,d.color,S.color],!0)}return i.prototype.color=function(m){var u=this.options.nullColoringStrategy;if(null===m&&u){if(!n(u))return l(u);m=0}return this.scale(m)},i.prototype.getRule=function(){return{linearGradient3:this.options}},i.prototype.getSource=function(){return this.source},i}(),a=function(){function i(m,u){this.options=m,this.source=u,c.fF.assertValue(m,"options"),c.fF.assertValue(u,"source"),this.options=m;var V=m.min,d=m.mid,S=m.max;this.scale1=(0,e.$Q)([V.value,d.value],[V.color,d.color],!0),this.scale2=(0,e.$Q)([d.value,S.value],[d.color,S.color],!0)}return i.prototype.color=function(m){var u=this.options.nullColoringStrategy;if(null===m&&u){if(!n(u))return l(u);m=0}return m<=this.options.mid.value?this.scale1(m):this.scale2(m)},i.prototype.getRule=function(){return{linearGradient3:this.options}},i.prototype.getSource=function(){return this.source},i}()},238435:function(Je,H,t){t.d(H,{Ay:function(){return p},Dt:function(){return m},Sr:function(){return f},fl:function(){return v},hw:function(){return l},nA:function(){return u},oF:function(){return c},vS:function(){return C},vV:function(){return b},yL:function(){return n}});var e=t(787941);function c(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var x=P.categorical;x&&function(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor"),f(P.categories,T);var x=P.values;v(x,T),C(x,T),E(P,T)}(x,T);var R=P.table;R&&b(R,T);var D=P.matrix;D&&function(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor"),p(P.rows,T),n(P.columns,T),l(P.values,T)}(D,T);var L=P.tree;L&&function(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor"),m(P.nodes,T),u(P.values,T)}(L,T);var F=P.single;F&&function(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor"),T.visitRole(P.role)}(F,T)}function f(P,T){P&&(V(P,T,"CategoricalCategory"),d(P,T,"CategoricalCategory"),g(P,T,"CategoricalCategory"),E(P,T))}function v(P,T){if(P){V(P,T,"CategoricalValue"),d(P,T,"CategoricalValue"),g(P,T,"CategoricalValue");var x=P.group;if(x)for(var R=0,D=x.select;R<D.length;R++){var L=D[R];V(L,T,"CategoricalValueGroup"),d(L,T,"CategoricalValueGroup")}}}function b(P,T){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var x=P.rows;V(x,T,"TableField"),d(x,T,"TableField"),g(x,T,"TableField"),E(x,T)}function p(P,T){!function(P,T,x){if(e.fF.assertAnyValue(P,"mapping"),e.fF.assertValue(T,"visitor"),P){var R=null==P?void 0:P.values;d(P,T,x),function(P,T,x){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var R=P.select;if(R)for(var D=0,L=R;D<L.length;D++){var F=L[D];V(F,T,x),d(F,T,x),S(F,T,x)}}(P,T,x),e.fF.assert(function(){return!(P.dataReductionAlgorithm&&function(P){return P&&_.some(P,function(T){return T.dataReductionAlgorithm})}(P.select))},"Mapping has overall data reduction but also scoped data reduction(s)"),E(P,T),R&&(d(R,T,"MatrixRowsScopedValue"),g(R,T,"MatrixRowsScopedValue"))}}(P,T,"MatrixRowsGroup")}function n(P,T){a(P,T,"MatrixColumnsGroup")}function l(P,T){a(P,T,"MatrixIntersection")}function a(P,T,x){e.fF.assertAnyValue(P,"mapping"),e.fF.assertValue(T,"visitor"),P&&(d(P,T,x),g(P,T,x),E(P,T))}function m(P,T){e.fF.assertAnyValue(P,"mapping"),e.fF.assertValue(T,"visitor"),P&&(d(P,T,"TreeNode"),E(P,T))}function u(P,T){e.fF.assertAnyValue(P,"mapping"),e.fF.assertValue(T,"visitor"),P&&d(P,T,"TreeValue")}function V(P,T,x){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var R=P.bind;R&&T.visitRole(R.to,x)}function d(P,T,x){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var R=P.for;R&&T.visitRole(R.in,x)}function S(P,T,x){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var R=P.composite;if(R){T.enterComposite&&T.enterComposite(P);for(var D=0,L=R;D<L.length;D++){var F=L[D];V(F,T,x),d(F,T,x)}T.exitComposite&&T.exitComposite(P)}}function g(P,T,x){e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor");var R=P.select;if(R)for(var D=0,L=R;D<L.length;D++){var F=L[D];V(F,T,x),d(F,T,x)}}function C(P,T){if(e.fF.assertAnyValue(P,"mapping"),e.fF.assertValue(T,"visitor"),P){var x=P.group;x&&(T.visitRole(x.by,"CategoricalSeries"),E(x,T))}}function E(P,T){if(e.fF.assertValue(P,"mapping"),e.fF.assertValue(T,"visitor"),T.visitReduction){var x=P.dataReductionAlgorithm;x&&T.visitReduction(x)}}},726672:function(Je,H,t){t.d(H,{L:function(){return s}});var e=t(787941),c=t(261374),s=function(){function f(v,b,h,p,n,l,r,o,a,i){this.featureSwitches=v,this.warningType=b,this.propertyId=h,this.selector=p,this.objectDisplayNameGetter=n,this.propertyDisplayNameGetter=l,this.valueExpr=r,this.value=o,this.expectedValueType=a,this.columnExpr=i,1===this.warningType?(e.fF.assertValue(a,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}return Object.defineProperty(f.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:e.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),f.prototype.getMessages=function(v,b){if(b){if(this.cachedMessage)return this.cachedMessage;var p=v.get("NamePattern_Colon"),n=[],l=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(v):this.propertyDisplayNameGetter,r=(0,c.W)(v.get(this.titleKey),l),o=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(v):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var a=(0,c.W)(p,v.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),o);n.push(a)}var i=b(this.valueExpr);if(i){var m=(0,c.W)(p,v.get("Field_Source"),i);n.push(m)}if(void 0!==this.columnExpr){var u=b(this.columnExpr),V=(0,c.W)(p,v.get("Field_Target"),u);n.push(V)}if(1===this.warningType&&this.expectedValueType){var d=(0,c.W)(p,v.get("DataBoundExprWarning_ExpectedDataType"),f.getPrimitiveValueType(this.expectedValueType,v));n.push(d)}if(0===this.warningType&&this.value){var S=(0,c.W)(p,v.get("Value"),this.value.toString());n.push(S)}var g=v.get(this.hintKey);return n.push(g),this.cachedMessage={title:r,message:g,detail:n.join("\n")},this.cachedMessage}e.fF.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")},f.prototype.getTitle=function(v){var b=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(v):this.propertyDisplayNameGetter;return(0,c.W)(v.get(this.titleKey),b)},f.prototype.getMessage=function(v){return v.get(this.hintKey)},f.getPrimitiveValueType=function(v,b){switch(v.primitiveType){case 1:return b.get("Text");case 2:case 3:case 4:return b.get("ConditionalFormattingDialog_Number");case 5:return b.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return b.get("ConditionalFormattingDialog_Date");default:e.fF.assertFail("Invalid expected data type")}},f}()},396894:function(Je,H,t){function e(p,n){if(!_.isEmpty(p)){var l=p[0];if(l.values&&l.values.length>0)for(var r=0,o=l.values.length;r<o;++r){var a=l.values[r];if(a&&a.source&&f(a.source,n))return r}}return-1}function c(p,n){if(!_.isEmpty(p))for(var l=0,r=p.length;l<r;l++)if(f(p[l].source,n))return l;return-1}function s(p,n){var l=[];if(!_.isEmpty(p))for(var r=0,o=p.length;r<o;r++)f(p[r].source,n)&&l.push(r);return l}function f(p,n){var l=p.roles;return l&&l[n]}function v(p,n){return _.some(p,function(l){return f(l,n)})}function b(p,n){return null!=p&&null!=p.metadata&&p.metadata.columns&&_.some(p.metadata.columns,function(l){return l.roles&&void 0!==l.roles[n]})}function h(p,n){return p&&p.source&&p.source.roles&&!0===p.source.roles[n]}t.d(H,{R:function(){return h},a2:function(){return e},aJ:function(){return v},c5:function(){return b},nu:function(){return f},pc:function(){return c},zT:function(){return s}})},283427:function(Je,H,t){t.d(H,{Hy:function(){return d},JU:function(){return T},Lo:function(){return F},fs:function(){return A},ih:function(){return w},sw:function(){return N},ul:function(){return a},zS:function(){return o}});var e=t(474147),c=t(883863),s=t(787941),f=t(750311),v=t(145315),b=t(983172),h=t(668268),p=t(682324),n=t(19632),l=t(926720),r=t(351025),o=function(B){return B.conditionRangeTooLarge="conditionRangeTooLarge",B.conditionRangeTooSmall="conditionRangeTooSmall",B.conditionKindExpectedMeasure="conditionKindExpectedMeasure",B.conditionKindExpectedGrouping="conditionKindExpectedGrouping",B.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",B.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",B.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",B}({});function a(B,j){if(!j||0===j.length)return{dataView:B,isValid:!0};if(B){for(var W=0,U=j;W<U.length;W++){var k=U[W];if(g(B,k))return{dataView:B,isValid:!0};if(k.categorical&&B.categorical)return i(B,k);if(k.tree&&B.tree)return u(B,k.tree);if(k.single&&B.single)return m(B,k.single);if(k.table&&B.table)return V(B,k.table)}if(B.metadata)return{dataView:{metadata:B.metadata},isValid:!0}}return{isValid:!1}}function i(B,j){s.fF.assertValue(j,"dataViewMapping");var k,W=j.categorical,U=B.categorical;if(!U)return{isValid:!1};if(W.rowCount&&(k=W.rowCount.supported)&&k.max){var Q=void 0,te=U.categories,ee=k.max,J=void 0;if(te)for(var re=0,G=te.length;re<G;re++){var ne=te[re];if(J=ne.values.length,void 0!==ee&&J>ee){var X=(0,c.w6)(ne.values,0,ee-1);(Q=Q||{categories:[]}).categories.push({source:ne.source,values:X})}}if(U.values&&U.values.length>0&&ee&&(J||(J=U.values[0].values.length),void 0!==ee&&J>ee))for((Q=Q||{}).values=(0,l.Yv)(),re=0,G=U.values.length;re<G;re++){var oe=U.values[re],Ve={source:oe.source,values:(0,c.w6)(oe.values,0,ee-1)};void 0!==oe.min&&(Ve.min=oe.min),void 0!==oe.max&&(Ve.max=oe.max),void 0!==oe.subtotal&&(Ve.subtotal=oe.subtotal),Q.values.push(Ve)}Q&&(B={metadata:B.metadata,categorical:Q})}return y(B,j)?{dataView:B,isValid:!0}:null}function m(B,j){return s.fF.assertValue(B,"dataView"),s.fF.assertValue(j,"singleRoleMapping"),B.single?{dataView:B,isValid:!0}:{isValid:!1}}function u(B,j){return s.fF.assertValue(B,"dataView"),s.fF.assertValue(j,"treeRoleMapping"),E(B,j)?{dataView:B,isValid:!0}:{isValid:!1}}function V(B,j){return s.fF.assertValue(B,"dataView"),s.fF.assertValue(j,"tableRoleMapping"),B.table?{dataView:B,isValid:!0}:{isValid:!1}}function d(B){for(var j=0,W=0,U=B.length;W<U;W++)B[W].isMeasure||++j;return j}function g(B,j,W){return!(!j||!B||j.scriptResult&&!function(B,j){return s.fF.assertValue(j,"scriptResultRoleMapping"),!(!B||!B.payloadBase64)}(B.scriptResult,j.scriptResult)||j.categorical&&!y(B,j.categorical,W)||j.tree&&!E(B,j.tree,W)||j.single&&!function(B,j){return s.fF.assertValue(j,"singleRoleMapping"),!!B}(B.single,j.single)||j.table&&!function(B,j,W){if(s.fF.assertValue(j,"tableRoleMapping"),!B)return!1;if(j.rowCount){var U=j.rowCount.supported;if(W&&j.rowCount.preferred&&(U=j.rowCount.preferred),U){var k=0;if(B.rows&&B.rows.length&&(k=B.rows.length),null!=T(k,U))return!1}}return!0}(B.table,j.table,W))}function y(B,j,W){s.fF.assertValue(j,"categoryRoleMapping");var U=B.categorical;if(!U)return!1;if(j.rowCount){var k=j.rowCount.supported;if(W&&j.rowCount.preferred&&(k=j.rowCount.preferred),k){var Q=0;if(U.values&&U.values.length?Q=U.values[0].values.length:U.categories&&U.categories.length&&(Q=U.categories[0].values.length),null!=T(Q,k))return!1}}return!0}function E(B,j,W){s.fF.assertValue(j,"treeRoleMapping");var k=j.depth,Q=k&&W?k.preferred:k.supported;return null==T(d(B.metadata.columns),Q)}function T(B,j,W){if(s.fF.assertValue(B,"value"),j){if(!W&&void 0!==j.min&&j.min>B)return o.conditionRangeTooSmall;if(void 0!==j.max&&j.max<B)return o.conditionRangeTooLarge}}function x(B,j,W,U){if(B&&void 0!==B.kind){var k=B.kind,Q=W[j];if(Q)for(var ee=0,J=Q.all();ee<J.length;ee++)if(U[J[ee].queryRef]!==k)switch(k){case v.DW.Measure:return o.conditionKindExpectedMeasure;case v.DW.Grouping:return o.conditionKindExpectedGrouping;case v.DW.GroupingOrMeasure:return o.conditionKindExpectedGroupingOrMeasure}}}function R(B,j,W,U){if(B&&B.areHierarchicallyRelated&&!_.isEmpty(j)&&!_.isEmpty(W)&&U){var Q=L(_.map(j,function(te){return te.queryRef}),W);if(!b.m.areHierarchicallyRelated(U,Q))return o.conditionNotHierarchicallyRelated}}function D(B,j,W){if(s.fF.assertAnyValue(B,"can be called with empty role"),s.fF.assertNonEmpty(j,"must have selects"),s.fF.assertValue(W,"must have Schema"),1!==_.chain(j).map(function(J){return J.name}).uniq().value().length){var Q=L(_.map(B,function(J){return J.queryRef}),j),te=_.chain(Q).map(function(J){return W.schema(J.schema)}).uniq().value(),ee=_.uniqWith(Q,function(J,re){return(0,e.fS)(J,re)});if(s.fF.assertNonEmpty(ee,"uniqueEntityExprs"),ee.length<2)return _.some(te,function(J){return!J.capabilities||!J.capabilities.supportsInstanceFilters})?o.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(te,function(J){return!J.capabilities||!J.capabilities.supportsMultiTableTupleFilters||!J.capabilities.supportsInstanceFilters}))return o.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function L(B,j){if(!_.isEmpty(B)&&!_.isEmpty(j)){var W={};B.forEach(function(ee){W[ee]=!0});for(var U=[],k=0,Q=j;k<Q.length;k++){var te=Q[k];te.name&&W[te.name]&&te.expr&&U.push(te.expr.getTargetEntity())}return U}}function F(B,j,W,U,k,Q,te,ee){s.fF.assertValue(B,"projections"),s.fF.assertAnyValue(j,"mappings"),s.fF.assert(function(){return _.every(j,function(ue){return _.isPlainObject(ue)})},"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var J=[],re=[];if(!_.isEmpty(j))for(var G=0,ne=j.length;G<ne;G++){var X=j[G],oe=X.conditions,Te=O(X.requiredProperties,k,U,Q),Qe=[];if(_.isEmpty(oe))Qe.push({});else for(var He=0,Ce=oe.length;He<Ce;He++){var de=oe[He],pe=A(B,de,W,void 0,te,ee);if(_.isEmpty(pe))Qe.push(de);else for(var le=0,me=pe;le<me.length;le++){var be=me[le];be.mappingIndex=G,be.conditionIndex=He,re.push(be)}}if(!_.isEmpty(Qe)&&Te){var Be=_.cloneDeep(X);Be.single&&(Be={table:{rows:{for:{in:Be.single.role}}}});var Pe=_.filter(Qe,function(ue){return Object.keys(ue).length>0});_.isEmpty(Pe)||(Be.conditions=Pe),J.push(Be)}}return{supportedMappings:(0,c.rm)(J),mappingErrors:(0,c.rm)(re)}}function A(B,j,W,U,k,Q){s.fF.assertValue(B,"projections"),s.fF.assertValue(j,"condition");for(var te=Object.keys(j),ee=[],J=0,re=te.length;J<re;J++){var G=te[J],ne=B[G]&&!_.isEmpty(B[G].activeProjectionRefs),X=j[G],oe=!X.suppressDrill,He=T(N(G,B,oe&&(null!=U?U:ne)&&oe),X);null!=He&&ee.push({code:He,roleName:G}),null!=(He=x(X,G,B,W))&&ee.push({code:He,roleName:G});var Ce=B[G]&&B[G].projected(),de=void 0;_.isEmpty(k)||(de=_.map(Ce,function(pe){return k.withName(pe.queryRef)})),null!=(He=R(X,Ce,de,Q))&&ee.push({code:He,roleName:G}),X.multiTableTupleFiltersSupported&&Q&&!_.isEmpty(k)&&!_.isEmpty(de)&&null!=(He=D(Ce,de,Q))&&ee.push({code:He,roleName:G})}return ee}function O(B,j,W,U){if(_.isEmpty(B))return!0;if(!j||!U)return!1;var k=(0,f.Ue)(),Q=(0,r.X)(),te=new p.Q(W,k);return _.every(B,function(ee){var J=null,re=U[ee.objectName];if(!re)return!1;var ne,G=j[ee.objectName];return G&&(J=G.properties[ee.propertyName]),!_.isEmpty(re)&&re[0]&&(ne=(0,h.NA)(U,ee,re[0].selector)),!(!J||!ne)&&te.evaluateProperty(Q,J,ne)})}function N(B,j,W){s.fF.assertValue(B,"roleName"),s.fF.assertValue(j,"projections");var U=j[B];return U?W?1:U.projected().length:0}function w(B,j){if(B&&j&&B.categorical&&j.categorical){var W=B.categorical.categories,U=j.categorical.categories;if(W&&U&&W.length===U.length){for(var k=0,Q=W.length;k<Q;k++){var te=W[k].identity,ee=U[k].identity,J=I(te);if(J!==I(ee))return!1;for(var re=0;re<J;re++)if(!(0,n.fS)(te[re],ee[re]))return!1}return!0}}return!1}function I(B){return B?B.length:0}},654558:function(Je,H,t){t.d(H,{h:function(){return v}});var e=t(787941),c=t(324356),s=t(19632),f=t(926720);function v(){return new b}var b=function(){function l(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}return l.prototype.withCategory=function(r){var o=r.values,a=r.identityFrom,i=r.source.type,m={source:r.source,identityFields:r.identityFrom.fields,identity:r.identityFrom.identities||[],values:o};if(!r.identityFrom.identities)for(var u=0,V=o.length;u<V;u++)m.identity.push(h(a,u,o[u],i));return this.categories||(this.categories=[]),this.categories.push(m),this},l.prototype.withCategories=function(r){return _.isEmpty(this.categories)?this.categories=r:Array.prototype.push.apply(this.categories,r),this},l.prototype.withValues=function(r){e.fF.assertValue(r,"options");var o=r.columns;e.fF.assertValue(o,"columns");for(var a=0,i=o;a<i.length;a++)this.staticMeasureColumns.push(i[a].source);return this.staticSeriesValues=o,this},l.prototype.withGroupedValues=function(r){e.fF.assertValue(r,"options");var o=r.groupColumn;e.fF.assertValue(o,"groupColumn"),this.dynamicSeriesMetadata={column:o.source,identityFrom:o.identityFrom,values:o.values};for(var i=0,m=r.valueColumns;i<m.length;i++)this.dynamicMeasureColumns.push(m[i].source);return this.dynamicSeriesValues=r.data,this},l.prototype.fillData=function(r){var o=this,a=_.head(this.categories),i=a&&a.values?a.values.length:0;if(this.hasDynamicSeries())for(var m=function(E,M){var P=u.dynamicSeriesValues[E];e.fF.assert(function(){return P.length===o.dynamicMeasureColumns.length},"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var T=0,x=u.dynamicMeasureColumns.length;T<x;T++)n(r[E*x+T],P[T],i)},u=this,V=0,d=this.dynamicSeriesMetadata.values.length;V<d;V++)m(V);if(this.hasStaticSeries())for(var S=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,g=0,y=this.staticMeasureColumns.length;g<y;g++)n(r[S+g],this.staticSeriesValues[g],i)},l.prototype.build=function(){for(var r,o,a=[],i={},u=this.dynamicSeriesMetadata,V=0,d=this.categories;V<d.length;V++)p(a,d[V].source);if(this.hasDynamicSeries()){p(a,u.column),i.values=(0,f.Yv)([],u.identityFrom.fields,u.column);for(var g=u.values,y=new Map,C=0,E=this.dynamicMeasureColumns;C<E.length;C++)null!==(r=(M=E[C]).formatSource)&&void 0!==r&&r.formatString&&y.set(M.formatSource.formatString,new Map);for(var P=0;P<g.length;P++)for(var T=g[P],x=h(u.identityFrom,P,T,u.column.type),R=0,D=this.dynamicMeasureColumns;R<D.length;R++){var M=D[R];(L=_.toPlainObject(M)).groupName=T,y.has(M)&&y.get(M).set(L.groupName,L),L.rolesIndex&&delete L.rolesIndex,p(a,L),i.values.push({source:L,values:[],identity:x})}if(y.size>0)for(var F=function(U){null!==(o=U.formatSource)&&void 0!==o&&o.formatString&&(e.fF.assert(function(){return y.has(U.formatSource.formatString)},"formatString column must be in dynamicFormatStringMappings"),U.formatSource={formatString:y.get(U.formatSource.formatString).get(U.groupName)})},A=0,O=a;A<O.length;A++)F(L=O[A]);if(0===g.length)for(var N=0,w=this.dynamicMeasureColumns;N<w.length;N++){var L;M=w[N],p(a,L=_.toPlainObject(M)),i.values.push({source:L,values:[]})}if(this.hasStaticSeries()){var I=i.values.grouped();i.values.grouped=function(){return I},this.appendStaticMeasureColumns(a,i.values)}}else i.values=(0,f.Yv)(),this.appendStaticMeasureColumns(a,i.values);var B=this.categories;_.isEmpty(B)||(i.categories=B),this.fillData(i.values);var j={metadata:{columns:a},categorical:i};if(this.isLegalDataView(j))return j},l.prototype.appendStaticMeasureColumns=function(r,o){if(e.fF.assertValue(r,"metadataColumns"),e.fF.assertValue(o,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var a=0,i=this.staticMeasureColumns;a<i.length;a++){var m=i[a];p(r,m),o.push({source:m,values:[]})}},l.prototype.isLegalDataView=function(r){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&l.isVisualDataView(r.metadata.columns))},l.isVisualDataView=function(r){return!_.isEmpty(r)&&_.some(r,function(o){return!!o.queryName})},l.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},l.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},l}();function h(l,r,o,a){var i=l.identities;return i?i[r]:(e.fF.assert(function(){return l.fields&&1===l.fields.length},"Inferring identity, expect exactly one field."),(0,s.TZ)((0,c.Dg)(l.fields[0],(0,c.kQ)(o,a))))}function p(l,r){_.includes(l,r)||l.push(r)}function n(l,r,o){e.fF.assertValue(l,"target"),e.fF.assertValue(r,"source"),e.fF.assertValue(o,"categoryLength");var a=r.values;e.fF.assert(function(){return o===a.length||0===o},"categoryLength === values.length || categoryLength === 0"),l.values=a;var i=r.highlights;i&&(e.fF.assert(function(){return o===i.length},"categoryLength === highlights.length"),l.highlights=i);var u,m=r.objects;m&&(e.fF.assert(function(){return o===m.length},"categoryLength === objects.length"),l.objects=m),void 0!==r.minLocal&&(u||(u={}),u.minLocal=r.minLocal),void 0!==r.maxLocal&&(u||(u={}),u.maxLocal=r.maxLocal),u&&(l.source.aggregates=u,_.extend(l,u))}},870629:function(Je,H,t){t.d(H,{KH:function(){return V},PO:function(){return E}});var e=t(226514),c=t(456535),s=t(787941),f=t(299747),v=t(989516),b=t(324356),h=t(939141),p=t(32756),n=t(698129),l=t(98196),r=t(473667);function o(N){return new a(N)}var a=function(){function N(w){var I;this.dataView=w,s.fF.assertValue(w,"dataView"),this.columnsByRole={},this.valueSources=[];var B={};if(this.dataView.values)for(var j=0,W=this.dataView.values;j<W.length;j++){var U=W[j];this.valueSources.push(U.source);var k=U.source.rootSource;k&&(B[U.source.index]=k)}(I=this.valueSources).unshift.apply(I,_.values(B))}return N.prototype.getExprColumn=function(w,I){return(0,r.T5)(w,this.valueSources,I?void 0:this.groupName)},N.prototype.getScopedEvalExprValue=function(w){var I=w.decomposeGlobalAggregateOfScopedExpr();if(I){var B=_.chain(this.valueSources).filter(function(W){return null==W.groupName}).value(),j=(0,r.T5)(I.source,B);return j?(0,r._L)(j,I.func):void 0}if(w.hasInnerMostScope())return this.getExprValue(w.expression);w.hasGlobalScope()?s.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):s.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},N.prototype.getExprValue=function(w){var I=this.index;if(_.isNumber(I)){var B=this.dataView.values;if(B){var j=(0,r.T5)(w,this.valueSources,this.groupName),W=_.find(B,function(U){return U.source===j});if(W)return this.useHighlightValues?W.highlights[I]:W.values[I]}}},N.prototype.getRoleValues=function(w){var I=this,B=this.columnsByRole,j=B[w];if(j||(j=B[w]=function(N,w){return s.fF.assertValue(N,"dataViewCategorical"),m(N.values,w)||m(N.categories,w)}(this.dataView,w)),j&&null!=this.index)return _.map(j,function(U){return U.values[I.index]})},N.prototype.setCurrentRowIndex=function(w){s.fF.assertValue(w,"index"),this.index=w},N.prototype.resetCurrentRowIndex=function(){delete this.index},N.prototype.setCurrentColumnGroupName=function(w){s.fF.assertValue(void 0!==w,"groupName"),this.groupName=w},N.prototype.useHighlights=function(w){this.useHighlightValues=w},N}();function m(N,w){if(s.fF.assertAnyValue(N,"columns"),N){for(var I=[],B=0,j=N;B<j.length;B++){var W=j[B],U=W.source.roles;!U||!U[w]||I.push(W)}return I}}var u=t(731590);function V(N,w,I,B,j,W,U,k){s.fF.assertValue(N,"dataViewCategorical"),s.fF.assertAnyValue(w,"selectTransforms"),s.fF.assertValue(I,"objectDescriptors"),s.fF.assertValue(B,"objectDefnsForSelector");for(var Q=0,te=B;Q<te.length;Q++){var ee=te[Q],J=ee.selector,re=ee.rules,G=ee.objects;s.fF.assertValue(J,"selector"),s.fF.assertAnyValue(re,"rules"),s.fF.assertValue(G,"objectDefns");var ne=(0,v.GT)(J);J=x(N,J);var X=(0,u.U)(J,j);U&&(U.selector=J,U.targetExpr=(0,v.AV)(J,w)),d(N,I,J,ne,G,X,W,U),C(N,I,J,ne,G,X,W,U,k),P(N,I,J,G,W,U,k)}}function d(N,w,I,B,j,W,U,k){if(s.fF.assertValue(N,"dataViewCategorical"),s.fF.assertValue(w,"objectDescriptors"),s.fF.assertValue(I,"selector"),s.fF.assertValue(B,"containsWildcard"),s.fF.assertValue(j,"objectDefns"),N.categories&&0!==N.categories.length){var Q=function(N,w,I){s.fF.assertValue(N.categories[0],"dataViewCategorical.categories[0]");for(var B=N.categories[0].identity,j=[],W=0,U=N.categories;W<U.length;W++){var k=U[W];if(!k.identityFields||!I.matchesKeys([k.identityFields],1))return;j.push(k)}s.fF.assert(function(){return j.length===N.categories.length},"Column length mismatch");var Q=w.metadata;if(Q){var te=N.values;if(te)for(var ee=0,J=te.length;ee<J;ee++){var re=te[ee];if(re.source.queryName===Q){j=[re];break}}}return{columns:j,identities:B}}(N,I,W);if(Q){var J,te=function(N){return _.some(N.values,function(w){return!!w.highlights})}(N),ee=Q.identities,re=o(N);if(ee){for(var G,ne,X=0,oe=ee.length;X<oe;X++)if(B||W.matches([ee[X]])){switch(re.setCurrentRowIndex(X),I.highlightMatching){case void 0:case 0:G=!0,ne=!1;break;case 1:G=!0,ne=te;break;case 2:G=!te,ne=te;break;default:s.fF.assertNever(I.highlightMatching)}if(G){re.useHighlights(!1);var Te=(0,l.PJ)(U,re,w,j,k);if(Te)for(var Qe=0,He=Q.columns;Qe<He.length;Qe++){var de=(Ce=He[Qe]).objects;de||(de=Ce.objects=new Array(oe)),de[X]||(de[X]={}),(0,n.PM)(de[X],Te,I.id,I.order)}J=!0}if(ne){re.useHighlights(!0);var pe=(0,l.PJ)(U,re,w,j,k);if(pe)for(var le=0,me=Q.columns;le<me.length;le++){var Ce,be=(Ce=me[le]).highlightObjects;be||(be=Ce.highlightObjects=new Array(oe)),be[X]||(be[X]={}),(0,n.PM)(be[X],pe,I.id,I.order)}J=!0}if(!B)return J}return J}}}}function y(N,w,I){return s.fF.assertAnyValue(w,"propertyDefn"),!!(w instanceof b.Il&&(0,c.NH)(w)&&0===w.attributeKind)||function(N,w,I){return I.measureDrivenDataLabels&&"labels"===N&&null!=w}(N,w,I)||(0,h.ZG)(w)||function(N,w,I){var B,j,W=null===(j=null===(B=w.solid)||void 0===B?void 0:B.color)||void 0===j?void 0:j.kind;return I.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(N)&&(24===W||42===W||4===W||3===W)}(N,w,I)}function C(N,w,I,B,j,W,U,k,Q){s.fF.assertValue(N,"dataViewCategorical"),s.fF.assertValue(w,"objectDescriptors"),s.fF.assertValue(I,"selector"),s.fF.assertValue(B,"containsWildcard"),s.fF.assertValue(j,"objectDefns");var te=N.values;if(te&&te.identityFields&&W.matchesKeys([te.identityFields],1)){var ee=te.grouped();if(ee){for(var ne,J=o(N),re=I.metadata,G=L(j,y,Q),X=0,oe=ee;X<oe.length;X++){var Ve=oe[X];if(void 0!==Ve.name){_.isEmpty(G)||(J.setCurrentColumnGroupName(Ve.name),T(w,I,G,U,k,J,Ve,Q));var Te=Ve.values;if(B||W.matches([Ve.identity])){var Qe=(0,l.PJ)(U,J,w,j,k);if(Qe)if(re)for(var He=0,Ce=Te.length;He<Ce;He++){var de=Te[He],pe=de.source;if(pe.queryName===re){var le=(0,f.ED)(pe),me=le.objects;me||(me=le.objects={}),(0,n.PM)(me,Qe,I.id,I.order),de.source=le,ne=!0;break}}else{var be=Ve.objects;be||(be=Ve.objects={}),(0,n.PM)(be,Qe,I.id,I.order),E(te,ee),ne=!0}if(!B)return!0}}}return ne}}}function E(N,w){N.grouped=w?function(){return w}:function(){return function(N){s.fF.assertValue(N,"values");for(var I,w=[],B=0,j=N.length;B<j;B++){var W=N[B];if(!I||I.identity!==W.identity){if(I={values:[]},W.identity){I.identity=W.identity;var U=W.source;void 0!==U.groupName?I.name=U.groupName:U.displayName&&(I.name=U.displayName)}w.push(I)}I.values.push(W)}return w}(N)}}function P(N,w,I,B,j,W,U){if(s.fF.assertValue(N,"dataViewCategorical"),s.fF.assertValue(w,"objectDescriptors"),s.fF.assertValue(I,"selector"),s.fF.assertValue(B,"objectDefns"),_.isEmpty(N.categories)){var k=N.values;if(!k||_.isEmpty(k.identityFields)){var Q=function(N,w){var I=w.metadata;if(void 0!==I&&N)return s.fF.assert(function(){return 1===_.filter(N,function(B){return B.source.queryName===I}).length},"Only one column has to match"),_.find(N,function(B){return B.source.queryName===I})}(N.values,I);if(Q){var te=o(N),ee=(0,v.N6)(I);if(B=L(B,y,U),!_.isEmpty(B)&&ee){s.fF.assert(function(){return N.values.length>0},"dataViewCategorical.values.length > 0"),s.fF.assert(function(){return N.values[0].values.length<=1},"There has to be max 1 row since there are no category groupings"),te.setCurrentRowIndex(0);var re=(0,l.PJ)(j,te,w,B,W);if(re){var G=Q.objects;G||(G=Q.objects=[]),G[0]||(G[0]={}),(0,n.PM)(G[0],re,I.id,I.order)}}}}}}function T(N,w,I,B,j,W,U,k){if(s.fF.assertValue(N,"objectDescriptors"),s.fF.assertValue(w,"selector"),s.fF.assertValue(I,"objectDefns"),s.fF.assertValue(W,"evalContext"),s.fF.assertValue(U,"valueGrouping"),(0,v.N6)(w))for(var Q=function(N,w,I){return void 0===(null==w?void 0:w.metadata)&&I.categoricalSecondaryCF?N:_.filter(N,function(B){return B.source.queryName===w.metadata})}(U.values,w,k),te=0,ee=Q;te<ee.length;te++){var J=ee[te];s.fF.assertValue(J.source.groupName===U.name,"targetColumn.source.groupName");for(var re=J.values.length,G=0;G<re;G++){W.setCurrentRowIndex(G),W.useHighlights(!1);var ne=(0,l.PJ)(B,W,N,I,j);if(ne){var X=J.objects;X||(X=J.objects=new Array(re)),X[G]||(X[G]={}),(0,n.PM)(X[G],ne,w.id,w.order)}if(null!=J.highlights){W.useHighlights(!0);var oe=(0,l.PJ)(B,W,N,I,j);if(oe){var Ve=J.highlightObjects;Ve||(Ve=J.highlightObjects=new Array(re)),Ve[G]||(Ve[G]={}),(0,n.PM)(Ve[G],oe,w.id,w.order)}}W.resetCurrentRowIndex()}}}function x(N,w){return(0,v._Q)(w)&&(w=(0,p.w)(w,function(I){return function(N,w){if(w.categories)for(var I=0,B=w.categories;I<B.length;I++){var j=B[I];if(j.source&&(0,p.s)([j.source],N))return[j.identityFields]}}(I,N)})),w}function L(N,w,I){return s.fF.assertValue(N,"objectDefns"),_.chain(N).map(function(B){return(0,e.__assign)((0,e.__assign)({},B),{properties:_.pickBy(B.properties,function(j){return w(B.name,j,I)})})}).filter(function(B){return!_.isEmpty(Object.keys(B.properties))}).value()}},232225:function(Je,H,t){t.d(H,{eC:function(){return l},pP:function(){return n},zq:function(){return r}});var e=t(787941),c=t(299747),s=t(448711),f=t(592042),v=t(474505),b=t(620108),h=t(292042),p=t(473667);function n(y,C,E,M,P){e.fF.assertValue(y,"dataView"),e.fF.assertAnyValue(C,"objectDescriptors"),e.fF.assertAnyValue(E,"applicableRoleMappings"),e.fF.assertAnyValue(M,"projectionActiveItems");var T=y,x=y.categorical;if(x){var R=function(y,C,E){e.fF.assertValue(y,"dataViewCategorical"),e.fF.assertAnyValue(C,"applicableRoleMappings");var M,P=_.chain(C).filter(function(L){return!(0,v.zY)(L)}).map(function(L){return L.categorical}).value(),T=!_.isEmpty(P)&&_.every(P,function(L){return!!L});if(T){var x=function(y){e.fF.assertNonEmpty(y,"categoricalRoleMappings"),e.fF.assert(function(){return _.every(y,function(E){return!!E})},"categoricalRoleMappings must not contain falsy element");var C=(0,v.y4)(y,v.O2);if(1===_.size(C))return _.head(C)}(P);if(x&&_.includes(E,x)&&function(y,C){e.fF.assertValue(y,"categoricalRoleName"),e.fF.assertNonEmpty(C,"roleMappings"),e.fF.assert(function(){return _.every(C,function(M){return M.categorical})},"All specified roleMappings are expected to target categorical");var E=_.every(C,function(M){return!_.isEmpty(M.conditions)&&_.every(M.conditions,function(P){return P[y]&&1===P[y].max})});return E}(x,C)){var R=_.filter(y.categories,function(L){return L.source.roles&&!!L.source.roles[x]});if(!_.isEmpty(R)){var D=_.every(R,function(L){return L.values.length===R[0].values.length});D&&(M={roleName:x,categories:R})}}}return M}(x,E,P),D=(0,p.dM)(y.metadata.columns);if(R&&(R.categories.length>=2||D)){var L=_.chain(M&&M[R.roleName]).filter(function(A){return A.suppressConcat}).map(function(A){return A.queryRef}).value();T=m(y,(0,b.$v)(C),R.roleName,R.categories,L,D)}}return T}function l(y,C,E,M,P){var T;if(void 0===P&&(P=!1),e.fF.assertValue(y,"metadata"),e.fF.assertAnyValue(C,"formatStringPropId"),e.fF.assertValue(M,"categorical"),!_.isEmpty(M.categories)&&M.categories.length>=2){var x=(0,c.ED)(y.columns);T=m({metadata:(0,c.ED)(y,function(L){L.columns=x}),categorical:M},C,E,M.categories,[],void 0,P)}else T={metadata:y,categorical:M};return T}function r(y){var C=Object.getPrototypeOf(y);return C&&C.categories?C.categories:y.categories}function m(y,C,E,M,P,T,x){void 0===x&&(x=!1),e.fF.assert(function(){return y&&y.categorical&&_.size(y.categorical.categories)>=1},"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),e.fF.assertAnyValue(C,"formatStringPropId"),e.fF.assertValue(E,"roleName"),e.fF.assert(function(){return!_.isEmpty(M)},"!_.isEmpty(columnsSortedByProjectionOrdering)"),e.fF.assert(function(){return _.every(M,function(ee){return _.includes(y.categorical.categories,ee)})},"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var L,F,R=M.length-1,D=_.filter(M,function(ee,J){return J===R||!_.includes(P,ee.source.queryName)});1===M.length?(x||(L=D[0].values),F=D[0].source.type):(x||(L=function(y,C){e.fF.assertValue(y,"columnsSortedByProjectionOrdering"),e.fF.assertAnyValue(C,"formatStringPropId");for(var E=[],M=0,P=y;M<P.length;M++)for(var T=P[M],x=(0,s.EO)(T.source,C),R=0,D=T.values.length;R<D;R++){var F=(0,s.WU)(T.values&&T.values[R],x);E[R]=void 0===E[R]?F:E[R]+" "+F}return E}(D,C)),F=f.Ge.fromDescriptor({text:!0}));var O=function(y,C,E,M){var P;if(e.fF.assertValue(y,"roleName"),e.fF.assertNonEmpty(C,"sourceColumnsSortedByProjectionOrdering"),e.fF.assert(function(){return 1===_.chain(C).map(function(O){return O.isMeasure}).uniq().value().length},"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),M)P=function(y,C){return y+" "+C}(M,_.last(C).displayName);else for(var x=0,R=C;x<R.length;x++){var D=R[x];P=null==P?D.displayName:P+" "+D.displayName}var L={};L[y]=!0;var F={displayName:P,roles:L,type:E},A=_.last(C);return void 0!==A.isMeasure&&(F.isMeasure=A.isMeasure),F.queryName=A.queryName,F}(E,_.map(D,function(ee){return ee.source}),F,T),N=(0,c.qO)(y);if(function(y,C){e.fF.assertValue(y,"transformedDataView"),e.fF.assertValue(C,"newColumn");var E=(0,c.qO)(y.metadata.columns);E.push(C);var M=(0,c.qO)(y.metadata);M.columns=E,y.metadata=M}(N,O),!x){var w=y.categorical,B=function(y,C,E,M){e.fF.assert(function(){return y&&y.length>=1},"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),e.fF.assertValue(C,"columnMetadata"),e.fF.assertValue(E,"concatenatedValues"),e.fF.assertAnyValue(M,"dataViewObjects");var P={source:C,values:E},T=y[0];return T.identity&&(P.identity=T.identity),T.identityFields&&(P.identityFields=T.identityFields),M&&(P.objects=M),P}(D,O,L,(0,h.OC)(w.categories)),j=_.last(M),W=_.findIndex(w.categories,function(ee){return ee===j}),U=(0,c.qO)(w.categories);U.splice(W,0,B);for(var k=function(J){_.find(M,function(re){return re===U[J]})&&U.splice(J,1)},Q=U.length-1;Q>=0;Q--)k(Q);var te=(0,c.qO)(w);te.categories=U,N.categorical=te}return N}},32756:function(Je,H,t){t.d(H,{s:function(){return f},w:function(){return s}});var e=t(989516),c=t(799863);function s(v,b){for(var h={data:[],id:v.id,metadata:v.metadata,order:v.order},p=0,n=v.data;p<n.length;p++){var l=n[p];if((0,e.j9)(l)){var r=b(l.roles);if(!_.isEmpty(r)){for(var o=0,a=r;o<a.length;o++)h.data.push((0,c.ms)(a[o]));continue}}else h.data.push(l)}return h}function f(v,b){for(var h=0,p=v;h<p.length;h++){var l=p[h].roles;if(!l||!_.some(b,function(r){return l[r]}))return!1}return!0}},474505:function(Je,H,t){t.d(H,{G8:function(){return x},O2:function(){return l},Ti:function(){return m},V3:function(){return u},VO:function(){return h},VV:function(){return V},Xs:function(){return o},Xw:function(){return I},ZZ:function(){return b},_1:function(){return r},eD:function(){return w},mn:function(){return P},nG:function(){return v},oJ:function(){return T},u5:function(){return R},wj:function(){return E},y4:function(){return n},zY:function(){return f}});var e=t(883863),c=t(787941),s=t(722089);function f(B){return B&&B.usage&&B.usage.regression||void 0}var v=function(){function B(j){this.includeScopedValuesRoles=j,this.roleNames=[]}return B.prototype.visitRole=function(j,W){(this.includeScopedValuesRoles||"MatrixRowsScopedValue"!==W)&&this.roleNames.push(j)},B.fromMatrixRows=function(j,W){var U=new this(W);return(0,s.Ay)(j,U),U.roleNames},B.fromMatrixColumns=function(j){var W=new this;return(0,s.Ay)(j,W),W.roleNames},B.fromMatrixValues=function(j){var W=new this;return(0,s.hw)(j,W),W.roleNames},B.FromCategoricalValues=function(j){var W=new this;return(0,s.fl)(j,W),W.roleNames},B.fromCategoricalCategories=function(j){var W=new this;return(0,s.Sr)(j,W),W.roleNames},B}();function b(B){return!!(B&&B.usage&&B.usage.forecast)}function h(B){return!!(B&&B.usage&&B.usage.anomalyDetection)}function n(B,j){if(c.fF.assertValue(B,"categoricalRoleMappings"),c.fF.assertValue(j,"rolesGetter"),0!==_.size(B)){var W=_.map(B,function(k){return j(k)}),U=W[0];if(!(W.length>=2)||_.every(W,function(k){return(0,e.NF)(k,U,function(Q,te){return Q===te})}))return U}}function l(B){if(c.fF.assertValue(B,"categoricalRoleMapping"),!B.categories)return[];var j=[];return(0,s.Sr)(B.categories,{visitRole:function(U){j.push(U)}}),j}function r(B){if(c.fF.assertAnyValue(B,"roleMappings"),!B)return 0;for(var j=0,W=0,U=B;W<U.length;W++){var k=U[W];k.categorical&&(j|=1),k.matrix&&(j|=2),k.single&&(j|=8),k.table&&(j|=8),k.tree&&(j|=16)}return j}function o(B){if(B){if(B.top)return"top";if(B.window)return"window";if(B.bottom)return"bottom";if(B.binnedLineSample)return"binnedLineSample";if(B.overlappingPointsSample)return"overlappingPointsSample";if(B.sample)return"sample";if(B.topNPerLevel)return"topNPerLevel"}}function m(B){return!!B&&!!B.for}function u(B){return!!B&&!!B.composite}function V(B){return!!B&&!!B.select}function E(B){return!!B&&!!B.group}function P(B){return!!B&&!!B.for}function T(B){return!!B&&!!B.composite}function x(B){return!!B&&!!B.select}function R(B){return!!B&&!!B.scope}function w(B){return function(B){return!!B&&!!B.bind}(B)?B.bind.to:P(B)?B.for.in:void c.fF.assertNever(B)}function I(B){return c.fF.assertValue(B,"role"),_.isEmpty(B.items)?[]:_.isEmpty(B.activeItems)?B.items:_.filter(B.items,function(j){return _.includes(B.activeItems,j.queryName)})}},722089:function(Je,H,t){t.d(H,{Ay:function(){return p},Jj:function(){return h},Sr:function(){return f},aU:function(){return s},fl:function(){return v},hw:function(){return l},oF:function(){return c},vS:function(){return y}});var e=t(787941);function c(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var T=M.categorical;T&&s(T,P);var x=M.table;x&&function(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var T=M.rows;u(T,P,"TableField"),V(T,P,"TableField"),S(T,P,"TableField"),C(T,P)}(x,P);var R=M.matrix;R&&h(R,P);var D=M.tree;D&&function(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor"),function(M,P){e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M&&(V(M,P,"TreeNode"),C(M,P))}(M.nodes,P),function(M,P){e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M&&V(M,P,"TreeValue")}(M.values,P)}(D,P);var L=M.single;L&&function(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor"),P.visitRole(M.role,"SingleField")}(L,P)}function s(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor"),f(M.categories,P);var T=M.values;v(T,P),y(T,P),C(M,P)}function f(M,P){e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M&&(u(M,P,"CategoricalCategory"),V(M,P,"CategoricalCategory"),S(M,P,"CategoricalCategory"),C(M,P))}function v(M,P){if(e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M){u(M,P,"CategoricalValue"),V(M,P,"CategoricalValue"),S(M,P,"CategoricalValue");var T=M.group;if(T)for(var x=0,R=T.select;x<R.length;x++){var D=R[x];u(D,P,"CategoricalValueGroup"),V(D,P,"CategoricalValueGroup")}}}function h(M,P){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor"),p(M.rows,P),function(M,P){o(M,P,"MatrixColumnsGroup")}(M.columns,P),l(M.values,P)}function p(M,P){!function(M,P,T){if(e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M){V(M,P,T),function(M,P,T){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var x=M.select;if(x)for(var R=0,D=x;R<D.length;R++){var L=D[R];u(L,P,T),V(L,P,T),d(L,P,T)}}(M,P,T),C(M,P);var x=M.values;if(!x)return;V(x,P,"MatrixRowsScopedValue"),S(x,P,"MatrixRowsScopedValue")}}(M,P,"MatrixRowsGroup")}function l(M,P){o(M,P,"MatrixIntersection")}function o(M,P,T){e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M&&(V(M,P,T),S(M,P,T),C(M,P))}function u(M,P,T){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var x=M.bind;x&&P.visitRole(x.to,T)}function V(M,P,T){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var x=M.for;x&&P.visitRole(x.in,T)}function d(M,P,T){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var x=M.composite;if(x){P.enterComposite&&P.enterComposite();for(var R=0,D=x;R<D.length;R++){var L=D[R];u(L,P,T),V(L,P,T)}P.exitComposite&&P.exitComposite()}}function S(M,P,T){e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor");var x=M.select;if(x)for(var R=0,D=x;R<D.length;R++){var L=D[R];u(L,P,T),V(L,P,T)}}function y(M,P){if(e.fF.assertAnyValue(M,"mapping"),e.fF.assertValue(P,"visitor"),M){var T=M.group;T&&(P.visitRole(T.by,"CategoricalSeries"),C(T,P))}}function C(M,P){if(e.fF.assertValue(M,"mapping"),e.fF.assertValue(P,"visitor"),P.visitReduction){var T=M.dataReductionAlgorithm;T&&P.visitReduction(T)}}},698129:function(Je,H,t){t.d(H,{AO:function(){return v},NA:function(){return s},PM:function(){return l},RK:function(){return f},RR:function(){return b},W7:function(){return p},bC:function(){return n},t6:function(){return h}});var e=t(787941),c=t(129035);function s(o,a,i,m){return e.fF.assertAnyValue(o,"objects"),e.fF.assertValue(a,"propertyId"),e.fF.assert(function(){return"$"!==a.propertyName.charAt(0)},"Properties starting with $ are reserved."),o?(0,c.N)(o[a.objectName],a.propertyName,i,m):i}function f(o,a,i){return o&&o[a]?o[a]:i}function v(o,a){var i=f(o,a);if(i)return i.$instances}function b(o,a){var i=v(o,a);if(i){var m={};for(var u in i){var V=i[u].$order;null!=V&&(m[u]=V)}return m}}function h(o,a){var i,m,u,V;if(a)return null===(V=null===(u=null===(m=null===(i=null==o?void 0:o.metadata)||void 0===i?void 0:i.objectsRules)||void 0===m?void 0:m[a.objectName])||void 0===u?void 0:u[a.propertyName])||void 0===V?void 0:V.gradient}function p(o,a,i,m){var u=s(o,a,void 0,m);return u&&u.solid&&void 0!==u.solid.color?u.solid.color:i}function n(o,a,i){var m=s(o,a,void 0,i);return!(!m||!m.solid||!m.solid.color)}function l(o,a,i,m){var u;for(var V in e.fF.assertValue(o,"DataViewObjects.mergeObjects - destination"),e.fF.assertValue(a,"DataViewObjects.mergeObjects - source"),a){var d=a[V];if(null!=d){var S=o[V];if(!S){null==i?o[V]=d:(o[V]={$instances:(u={},u[i]=d,u)},null!=m&&(o[V].$instances[i].$order=m));continue}r(S,d,i,m)}}}function r(o,a,i,m){if(e.fF.assertValue(o,"DataViewObjects.mergeObject - destination"),e.fF.assertValue(a,"DataViewObjects.mergeObject - source"),e.fF.assert(function(){return null==a.$instances},"DataViewObjects.mergeObject - source should not include $instances"),i){var u=o.$instances;null==u&&(u=o.$instances={});var V=u[i];V||(V=u[i]={}),r(V,a,null),null!=m&&(V.$order=m)}else for(var d in a)"$instances"!==d&&"$order"!==d&&null!=a[d]&&(o[d]=a[d])}},129035:function(Je,H,t){t.d(H,{N:function(){return c},y:function(){return s}});var e=t(787941);function c(f,v,b,h){if(e.fF.assertAnyValue(f,"object"),e.fF.assertValue(v,"propertyName"),!f)return b;if(h){var p=f.$instances;if(!p)return b;var n=p[h];if(!n)return b;f=n}var l=f[v];return void 0===l?b:l}function s(f,v,b,h,p){e.fF.assertAnyValue(f,"object"),e.fF.assertValue(v,"propertyName");var n=c(f,v,void 0,h);return n&&n.solid&&(n.solid.color||p&&null===n.solid.color)?n.solid.color:b}},668268:function(Je,H,t){t.d(H,{AV:function(){return u},E2:function(){return C},ES:function(){return O},GQ:function(){return L},Gc:function(){return V},Lo:function(){return I},NA:function(){return T},On:function(){return P},Pg:function(){return N},Rc:function(){return J},TX:function(){return S},Vj:function(){return te},d9:function(){return B},dM:function(){return M},dn:function(){return W},e4:function(){return k},er:function(){return re},hO:function(){return R},hu:function(){return w},hz:function(){return F},l7:function(){return d},my:function(){return D},rQ:function(){return Q},sO:function(){return E},u4:function(){return ee},ug:function(){return x},xb:function(){return j},xl:function(){return m},zx:function(){return i}});var e=t(226514),c=t(456535),s=t(474147),f=t(787941),v=t(520907),b=t(989516),h=t(13106),p=t(324356),n=t(60495),l=t(939141),r=t(950870),o=t(41941),a=t(620108);function i(G,ne,X){f.fF.assertValue(G,"defns");var oe=G[ne];oe||(G[ne]=[],oe=G[ne]);for(var Ve=0,Te=oe.length;Ve<Te;Ve++){var Qe=oe[Ve];if((0,b.fS)(Qe.selector,X))return Qe}return oe.push({selector:X,properties:{}}),oe[oe.length-1]}function m(G,ne,X,oe){f.fF.assertValue(G,"defns");var Ve=_.find(G[ne],function(Te){return(0,b.fS)(Te.selector,X)});Ve&&(Ve.selector=oe)}function u(G,ne,X){f.fF.assertValue(G,"defns");var oe=G[ne];if(!oe)return!1;var Ve=_.remove(oe,function(Te){return(0,b.fS)(Te.selector,X)}).length>0;return _.isEmpty(oe)&&delete G[ne],Ve}function V(G,ne){if(G&&ne)for(var X in ne)for(var Ve=0,Te=ne[X];Ve<Te.length;Ve++){var Qe=Te[Ve];for(var He in Qe.properties)C(G,X,Qe.selector,He)}}function d(G,ne,X){if(f.fF.assertValue(G,"Trying to cascade into undefined DataViewObjectDefinitions"),G&&ne)for(var oe in ne){var Ve=ne[oe];if(Ve){var Te=G[oe];Te||(Te=G[oe]=[]),g(Te,Ve,X)}}}function S(G,ne,X,oe,Ve){var Te=D(G,ne,X);if(Te){var Qe=Te.properties[oe];Qe&&(i(G,Ve,X).properties[oe]=Qe,delete Te.properties[oe])}}function g(G,ne,X){var oe;if(X)G.splice.apply(G,(0,e.__spreadArray)([0,0],ne||[],!1));else for(var Ve=0,Te=ne;Ve<Te.length;Ve++){var Qe=Te[Ve];oe=!1;for(var He=0,Ce=G;He<Ce.length;He++){var de=Ce[He];if((0,b.fS)(de.selector,Qe.selector)){y(de.properties,Qe.properties),oe=!0;break}}if(!oe){var pe={selector:Qe.selector,properties:{}};y(pe.properties,Qe.properties),G.push(pe)}}}function y(G,ne){for(var X in ne){var oe=ne[X];oe&&(G[X]||(G[X]=oe))}}function C(G,ne,X,oe){f.fF.assertValue(G,"defns");var Ve=L(G,ne,X),Te=_.sumBy(Ve,function(Qe){return(0,o.Ow)(Qe,oe)?1:0});return M(G,{objectName:ne,propertyName:oe},X),Te}function E(G,ne,X,oe){f.fF.assertValue(G,"defns"),f.fF.assertValue(ne,"propertyId"),i(G,ne.objectName,X).properties[ne.propertyName]=oe}function M(G,ne,X){if(null==(null==X?void 0:X.order))return!1;var oe=L(G,ne.objectName,X,{skipId:!0,skipOrder:!0}).filter(function(le){var me;return null!=(null===(me=le.properties)||void 0===me?void 0:me[ne.propertyName])}),Ve=_.map(oe,function(le){var me;return null===(me=le.selector)||void 0===me?void 0:me.order}).filter(function(le){return null!=le}).sort();Ve=_.uniq(Ve);for(var Te=function(me,be){var Be;return null!=(null===(Be=me.selector)||void 0===Be?void 0:Be.order)&&(me.selector.order=be++),be},Qe=0,He=function(me){var be=_.filter(oe,function(ve){var xe;return(null===(xe=ve.selector)||void 0===xe?void 0:xe.order)===me});if(f.fF.assert(function(){return!!be.length},"should find definitions that match given order"),1===be.length)Qe=Te(be[0],Qe);else{var Be=_.findIndex(be,function(ve){return(0,b.fS)(ve.selector,X)});Be>=0&&(Qe=Te(be[Be],Qe),be.splice(Be,1));for(var Se=0,Pe=be;Se<Pe.length;Se++)Qe=Te(Pe[Se],Qe)}_.pullAll(oe,be)},Ce=0,de=Ve;Ce<de.length;Ce++)He(de[Ce]);return 0!==Ve.length}function P(G,ne,X,oe,Ve){var Te=A(ne,X);Te?Ve?E(G,Te,oe,Ve):C(G,Te.objectName,oe,Te.propertyName):f.fF.assertFail("Property does not have an associated format string object")}function T(G,ne,X){var oe=x(G,ne,X);if(oe)return oe[ne.propertyName]}function x(G,ne,X){var oe=L(G,ne.objectName,X);if(oe)for(var Ve=0,Te=oe;Ve<Te.length;Ve++){var Qe=Te[Ve];if(Qe.properties[ne.propertyName])return Qe.properties}}function R(G,ne,X,oe){var Ve=A(ne,X);if(Ve){var Te=T(G,Ve,oe);if(Te){if(J(Te)&&(0,c.AW)(Te))return Te;f.fF.assertFail("Format value is not of the expected type")}}else f.fF.assertFail("Property does not have an associated format string object")}function D(G,ne,X){if(f.fF.assertAnyValue(G,"defns"),f.fF.assertValue(ne,"objectName"),f.fF.assertAnyValue(X,"selector"),G){var oe=G[ne];if(oe)for(var Ve=0,Te=oe.length;Ve<Te;Ve++){var Qe=oe[Ve];if((0,b.fS)(Qe.selector,X))return Qe}}}function L(G,ne,X,oe){if(f.fF.assertAnyValue(G,"defns"),f.fF.assertValue(ne,"objectName"),f.fF.assertAnyValue(X,"selector"),!G)return[];var Ve=G[ne];return Ve?_.filter(Ve,function(Te){return(0,b.fS)(Te.selector,X,oe)}):[]}function F(G,ne,X){var oe,Te=ne.propertyName,Qe=L(G,ne.objectName,X,{skipId:!0,skipOrder:!0});if(Qe){var He=_.filter(Qe,function(be){return!!be.properties[Te]});if(!_.isEmpty(He)){for(var Ce={},de=function(Be){var Se=null===(oe=Be.selector)||void 0===oe?void 0:oe.id;f.fF.assert(function(){return null!=Se},"expected user-defined value"),Ce[Se]={selector:Be.selector,value:Be.properties[Te]}},pe=0,le=He;pe<le.length;pe++)de(le[pe]);return Ce}}}function A(G,ne){var X=(0,a.VM)(G,ne);if(X)return X.formatStringProperty;f.fF.assertFail("Property is missing from the object descriptors")}function O(G,ne){return G===ne||(G instanceof h.yl&&ne instanceof h.yl?h.yl.isSameFilter(G,ne):G instanceof p.Il&&ne instanceof p.Il?(0,s.fS)(G,ne):(0,v.fS)(G,ne))}function N(G,ne){if(f.fF.assertValue(G,"a"),f.fF.assertValue(ne,"b"),Object.keys(G).length!==Object.keys(ne).length)return!1;for(var X in G)if(!O(G[X],ne[X]))return!1;return!0}function w(G,ne){f.fF.assertValue(G,"a"),f.fF.assertValue(ne,"b");var X=[];for(var oe in G)O(G[oe],ne[oe])||X.push(oe);for(var oe in ne)_.includes(X,oe)||O(G[oe],ne[oe])||X.push(oe);return X}function I(G,ne){f.fF.assertAnyValue(G,"value"),f.fF.assertValue(ne,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var X=ne,oe=ne;if(X.variantDeleteEmpty&&X.variant&&null==G)return G;if(X.bool||X.operations&&X.operations.searchEnabled)return"boolean"!=typeof G&&(G=!1),(0,p.O7)(!!G);if(X.text||X.duration||X.scripting&&X.scripting.source)return(0,p.fL)(G?G.toString():"");if(X.numeric){if($.isNumeric(G))return(0,p.tx)(+G)}else if(X.integer){if($.isNumeric(G))return(0,p.cA)(Math.floor(+G))}else if(oe.fill){if(G){var Ve=G;return null==Ve.id||null==Ve.shade?{solid:{color:(0,p.fL)((Ve.value||G).toString())}}:{solid:{color:(0,p.e7)(Ve.id,Ve.shade)}}}if(null===G&&oe.fill.solid&&oe.fill.solid.color){var Te=!1,Qe=oe.fill.solid.color;if("boolean"!=typeof Qe&&(Te=Qe.nullable),Te)return{solid:{color:(0,p.IF)()}}}}else if(X.formatting){if(!(X.formatting.labelDisplayUnits||X.formatting.displayUnitsWithoutAuto||X.formatting.fontSize))return(0,p.fL)(G?G.toString():"");if(null!=G)return(0,p.tx)(+G)}else{if(X.enumeration||X.flagsEnumeration)return $.isNumeric(G)?(0,p.tx)(+G):(0,p.fL)(G?G.toString():"");if(X.misc)G=G?(0,p.fL)(G.toString()):null;else if(X.dateTime)G=G?(0,p.CQ)(G):null;else if(!X.variant)if(oe.image){if(G){var He=G,Ce={name:(0,p.fL)(He.name.toString()),url:(0,p.fL)(He.url.toString())};return He.scaling&&(Ce.scaling=(0,p.fL)(He.scaling.toString())),Ce}}else if(oe.geoJson){if(G){var de=G;return{type:(0,p.fL)(de.type.toString()),name:(0,p.fL)(de.name.toString()),content:de.content?(0,p.fL)(de.content.toString()):(0,p.IF)()}}}else if(X.reference)(X.reference.bookmark||X.reference.section||X.reference.perspective||X.reference.bookmarkGroup||X.reference.rowRefText)&&(G=(0,p.fL)(G?G.toString():""));else if(oe.filter)f.fF.assert(function(){return G instanceof h.yl},"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(oe.paragraphs){var le=G,me=[];if(_.isEmpty(le))return me;for(var be=0,Be=le;be<Be.length;be++){var Se=Be[be],Pe=(0,e.__assign)((0,e.__assign)({},Se),{textRuns:[]});if(_.isEmpty(Se.textRuns))me.push(Pe);else{for(var ue=0,ve=Se.textRuns;ue<ve.length;ue++){var xe=ve[ue];if((0,n.Y0)(xe))Pe.textRuns.push(xe);else if((0,n.Zm)(xe)){var ie=void 0;_.isNumber(xe.expression)?ie=I(xe.expression,{integer:!0}):(0,r.U)(xe.expression)?ie=xe.expression:f.fF.assertNever(xe.expression);var Fe={cases:[],defaultCase:xe.defaultCase,expression:ie};if(!_.isEmpty(xe.cases))for(var at=0,We=xe.cases;at<We.length;at++){var Oe=We[at],Ze={pattern:I(Oe.pattern,{integer:!0}),textRuns:Oe.textRuns};Fe.cases.push(Ze)}Pe.textRuns.push(Fe)}else f.fF.assertNever(xe)}me.push(Pe)}}return me}if(!oe.queryTransform){if(oe.exprList){var K={exprs:[],kind:"ExprList"};return K.exprs=_.map(G.exprs,function(ye){return ye}),K}if(oe.itemLocation){var Ne=G,Y={kind:"ItemLocation",byReference:{itemId:(0,p.fL)(Ne.byReference.itemId)}};return Ne.byReference.workspaceId&&(Y.byReference.workspaceId=(0,p.fL)(Ne.byReference.workspaceId)),Ne.byReference.folderId&&(Y.byReference.folderId=(0,p.fL)(Ne.byReference.folderId)),Y}f.fF.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return G}function B(G){var ne={};for(var X in G){var oe=G[X];_.isEmpty(oe)||(ne[X]=W(oe))}return ne}function j(G){if(_.isEmpty(G))return!0;for(var ne in G){var X=G[ne];if(!_.isEmpty(X))for(var oe=0,Ve=X;oe<Ve.length;oe++)if(!_.isEmpty(Ve[oe].properties))return!1}return!0}function W(G){for(var ne=[],X=0,oe=G;X<oe.length;X++){var Ve=oe[X];ne.push({properties:U(Ve.properties),selector:Ve.selector})}return ne}function U(G){return f.fF.assertValue(G,"original"),_.clone(G)}function k(G){return!!G&&!!(G instanceof p.Il||(0,l.hl)(G))}function Q(G,ne,X){for(var oe in G){var Ve=G[oe],Te=ne&&ne[oe];if(Ve&&(!ne||Te))for(var Qe=0,He=Ve;Qe<He.length;Qe++){var Ce=He[Qe];for(var de in Ce.properties)!Ce.properties[de]||ne&&(!Te||!Te.properties[de])||X(Ce.properties,de,Ce.selector,oe,Te)}}}function te(G){var ne=G.definitions,X=G.descriptors,oe=G.visitor,Ve=G.structuralObjectVisitor;f.fF.assertValue(ne,"dataViewObjectDefinition.visitPropertyExprs - definitions"),f.fF.assertAnyValue(X,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),f.fF.assertAnyValue(oe,"dataViewObjectDefinition.visitPropertyExprs - visitor"),f.fF.assertAnyValue(Ve,"dataViewObjectDefinition.visitPropertyExprs - visitor"),f.fF.assert(function(){return!!oe||!!Ve},"Either sqExprVisitor or structuralObjectVisitor are required");var Te=[],Qe={stopVisiting:!1};function He(Pe,ue,ve){var xe=Pe[ue];if(oe&&xe instanceof p.Il)oe(xe,Pe,ue,ve,Te,Qe);else if("object"==typeof xe&&(Ve&&Ve(xe,Pe,ue,ve,Te,Qe),oe))for(var ie in xe){if(Qe.stopVisiting)return;Te.push(ie),He(xe,ie,ve),Te.pop()}}for(var Ce in ne){var de=X&&X[Ce];if(!_.isEmpty(ne[Ce])&&(de||!X)){for(var pe=0,le=ne[Ce];pe<le.length;pe++){var be=le[pe].properties;if(be)for(var Be in be){if(Qe.stopVisiting)return;var Se=de&&de.properties[Be];(Se||!X)&&He(be,Be,Se&&Se.type)}}f.fF.assert(function(){return _.isEmpty(Te)},"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function ee(G){if(f.fF.assertAnyValue(G,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(G)){for(var ne in G)if(G[ne]){for(var X=[],oe=0,Ve=G[ne];oe<Ve.length;oe++){var Qe=(0,o.u4)(Ve[oe]);Qe&&X.push(Qe)}_.isEmpty(X)?delete G[ne]:G[ne]=X}else delete G[ne];if(!_.isEmpty(G))return G}}function J(G){return G instanceof p.Il}function re(G){return G&&"ExprWithContext"===G.propertyDefinitionKind}},41941:function(Je,H,t){t.d(H,{Ow:function(){return c},e4:function(){return s},u4:function(){return f}});var e=t(787941);function c(v,b){if(b in v.properties)return delete v.properties[b],!0}function s(v){return!_.startsWith(v,"$")}function f(v){e.fF.assertAnyValue(v,"DataViewObjectDefinition.reduce - defn can have any value.");var b=v&&v.properties;if(b){for(var h in b)_.isEmpty(b[h])&&c(v,h);if(!_.isEmpty(b))return v}}},620108:function(Je,H,t){t.d(H,{$v:function(){return s},Cr:function(){return v},H_:function(){return h},Ln:function(){return p},MD:function(){return f},VM:function(){return n}});var e=t(787941),c=t(592042);function s(r){return l(r,function(o){var a=c.Ge.fromDescriptor(o.type).formatting;return a&&a.formatString})}function f(r){return l(r,function(o){var a=o.type;return a&&a.filter&&!a.filter.selfFilter})}function v(r){return l(r,b)}function b(r){var o=r&&r.type;return o&&o.filter&&o.filter.selfFilter}function h(r){return l(r,function(o){var a=o.type;return a&&a.operations&&a.operations.searchEnabled})}function p(r){return l(r,function(o){var a=o.type;return a&&!!a.expression&&a.expression.defaultValue})}function n(r,o){if(e.fF.assertValue(r,"descriptors"),e.fF.assertValue(o,"propertyId"),!_.isEmpty(r)){var a=r[o.objectName];if(a&&!_.isEmpty(a.properties))return a.properties[o.propertyName]}}function l(r,o){if(e.fF.assertAnyValue(r,"descriptors"),e.fF.assertAnyValue(o,"propPredicate"),r)for(var a in r){var i=r[a].properties;for(var m in i)if(o(i[m]))return{objectName:a,propertyName:m}}}},98196:function(Je,H,t){t.d(H,{Me:function(){return h},PJ:function(){return b},UQ:function(){return n}});var e=t(787941),c=t(989516),s=t(324356),f=t(698129),v=t(620108);function b(d,S,g,y,C){var E;e.fF.assertValue(S,"evalContext"),e.fF.assertValue(g,"objectDescriptors"),e.fF.assertValue(y,"objectDefns");for(var M,P=0,T=y;P<T.length;P++){var x=T[P],R=x.name;C&&(C.objectName=R);var D=d.run(R,S,g[R],x.properties,C);D&&(M||(M={}),M[R]?(0,f.PM)(M,((E={})[R]=D,E)):M[R]=D)}return M}function h(d){e.fF.assertAnyValue(d,"objectDefinitions");var S={data:[]};if(d)for(var g in d)for(var y=d[g],C=0,E=y.length;C<E;C++){var M=y[C];p(S,M.selector).objects.push({name:g,properties:M.properties})}return S}function p(d,S){var g;e.fF.assertValue(d,"grouped"),e.fF.assertAnyValue(S,"selector"),S&&S.data?g=d.data:S&&S.metadata?(d.metadata||(d.metadata=[]),g=d.metadata):(d.metadataOnce||(d.metadataOnce=[]),g=d.metadataOnce),e.fF.assert(function(){return!!g},"GroupedObjects is not defined.  Indicates malformed selector.");for(var y=0,C=g;y<C.length;y++){var E=C[y];if((0,c.fS)(S,E.selector))return E}var M={selector:S,objects:[]};return g.push(M),M}function n(d,S,g,y){e.fF.assertValue(d,"objectsForAllSelectors"),e.fF.assertValue(S,"objectDescriptors"),e.fF.assertValue(g,"columns"),e.fF.assertAnyValue(y,"selectTransforms"),y&&(function(d,S,g,y){e.fF.assertValue(d,"objectsForAllSelectors"),e.fF.assertValue(S,"objectDescriptors"),e.fF.assertValue(g,"columns"),e.fF.assertValue(y,"selectTransforms");var C=(0,v.$v)(S);if(C)for(var E=0,M=y.length;E<M;E++){var P=y[E];P&&(e.fF.assertValue(P.queryName,"selectTransform.queryName"),a(d,C,P.queryName,P.format||o(g,E)))}}(d,S,g,y),function(d,S,g){e.fF.assertValue(d,"objectsForAllSelectors"),e.fF.assertValue(S,"objectDescriptors"),e.fF.assertValue(g,"selectTransforms");var y=(0,v.Ln)(S);if(y)for(var C=0,E=g;C<E.length;C++){var M=E[C];M&&(e.fF.assertValue(M.queryName,"selectTransform.queryName"),i(d,y,M.queryName,M.defaultValue))}}(d,S,y))}function o(d,S){for(var g=0,y=d.length;g<y;g++){var C=d[g];if(C&&C.index===S)return C.format}}function a(d,S,g,y){y&&m(d,S,{metadata:g},(0,s.fL)(y))}function i(d,S,g,y){y&&m(d,S,{metadata:g},y)}function m(d,S,g,y){var C;if(g){var E=d.metadata;E||(E=d.metadata=[]),C=E}else{var M=d.metadataOnce;M||(M=d.metadataOnce=[{selector:g,objects:[]}]),C=M}var T,P=function(d,S){e.fF.assertValue(d,"objects"),e.fF.assertAnyValue(S,"selector");for(var g=0,y=d.length;g<y;g++){var C=d[g];if((0,c.fS)(C.selector,S))return C}}(C,g);if(P){var x=P.objects;if(T=function(d,S){e.fF.assertValue(d,"objectDefns"),e.fF.assertValue(S,"objectName");for(var g=0,y=d.length;g<y;g++){var C=d[g];if(C.name===S)return C}}(x,S.objectName),T){if(T.properties[S.propertyName])return}else x.push(T={name:S.objectName,properties:{}})}else C.push({selector:g,objects:[T={name:S.objectName,properties:{}}]});T.properties[S.propertyName]=y}},682324:function(Je,H,t){t.d(H,{Q:function(){return y}});var e=t(226514),c=t(177497),s=t(787941),f=t(750311),v=t(690016),b=t(324356),h=t(116170),p=t(655981),n=t(813297),l=t(60495),r=t(939141),o=t(950870),a=t(592042),i=t(195393),m=t(726672),V=function(){function E(){this.cache=[]}return E.prototype.get=function(M){s.fF.assertValue(M,"key");for(var P=0,T=this.cache;P<T.length;P++){var x=T[P];if(x.key===M)return x.allocator}},E.prototype.register=function(M,P){var T=this;return s.fF.assertValue(M,"key"),s.fF.assert(function(){return void 0!==P},"colorAllocator (it can be null, but not undefined)"),s.fF.assert(function(){return null==T.get(M)},"Trying to re-register for same key expr."),this.cache.push({key:M,allocator:P}),this},E}(),d=t(351025),S=t(97181),y=function(){function E(M,P){var T=this;this.featureSwitches=M,this.visualStyle=P,s.fF.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new V,this.expressionEvaluator=new C(function(x){return T.evaluateThemeDataColor(x)},function(x,R){return T.ensureColorAllocator(x,R)})}return E.prototype.getObjectsRules=function(){return this.objectsRules},E.prototype.run=function(M,P,T,x,R){if(s.fF.assertValue(P,"evalContext"),s.fF.assertAnyValue(T,"objectDescriptor"),s.fF.assertValue(x,"propertyDefinitions"),T){var D,L=T.properties;for(var F in x){this.propertyId={objectName:M,propertyName:F};var A=x[F],O=L[F];if(O){R&&(R.objectDescriptor=T,R.propertyName=F);var N=this.evaluateProperty(P,O,A);void 0!==N&&(D||(D={}),D[F]=N)}}return this.propertyId=void 0,D}},E.prototype.evaluateProperty=function(M,P,T,x){var R,D,L;s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"propertyDescriptor"),s.fF.assertValue(T,"propertyDefinition");var F=P.type;if(F&&F.expression)return T;var O,A=this.evaluateValue(M,T,a.Ge.fromDescriptor(P.type));return void 0!==A||T instanceof S.t?A:(F.fillRule?O=this.evaluateFillRule(T):null!==(D=null===(R=F.fill)||void 0===R?void 0:R.solid)&&void 0!==D&&D.color&&null!==(L=null==T?void 0:T.solid)&&void 0!==L&&L.color?O=this.evaluateSolidColorFill(M,T,F.fill.solid.color.nullable):F.dataBars&&(O=this.evaluateDataBars(M,T)),O?(x&&O.error&&x.warnings.push(new m.L(this.featureSwitches,0,{objectName:x.objectName,propertyName:x.propertyName},x.selector,x.objectDescriptor.displayName,P.displayName,O.error.expr,O.error.value,null,x.targetExpr)),O.value):F.image?this.evaluateImage(M,T):F.paragraphs?this.evaluateParagraphs(M,T):F.geoJson?this.evaluateGeoJson(M,T):F.filter?this.evaluateSemanticFilter(T):F.icon?this.evaluateIcon(M,T):F.exprList?this.evaluateExprList(T):F.errorRange?this.evaluateErrorRange(M,T):F.qnaVisualLink?this.evaluateQnaVisualLink(M,T):F.itemLocation?this.evaluateItemLocation(M,T):void 0)},E.prototype.evaluateSemanticFilter=function(M){return M},E.prototype.evaluateSolidColorFill=function(M,P,T){var x;if(null!==(x=null==P?void 0:P.solid)&&void 0!==x&&x.color){var R=this.evaluateColor(M,P.solid.color,T);if(R.error)return R;var D=R.value;if(D||null===D&&T)return{value:{solid:{color:D}}}}},E.prototype.ensureColorAllocator=function(M,P){var T=this.colorAllocatorCache.get(M);return void 0!==T||(T=this.createColorAllocator(M,P),this.colorAllocatorCache.register(M,T,this.propertyId),this.propertyId&&T&&this.addObjectRule(T)),T},E.prototype.addObjectRule=function(M){this.objectsRules||(this.objectsRules={});var P=this.objectsRules[this.propertyId.objectName];P||(P=this.objectsRules[this.propertyId.objectName]={}),P[this.propertyId.propertyName]={gradient:{options:M.getRule(),source:M.getSource()}}},E.prototype.createColorAllocator=function(M,P){var T=P.getExprColumn(M.input,this.featureSwitches.categoricalSecondaryCF);if(!T)return null;var x=this.evaluateFillRule(M.rule).value;return x?(0,i.V)().fromFillRule(x,T):null},E.prototype.evaluateFillRule=function(M){var T,P=(0,d.X)();if(M.linearGradient2){if((R=this.evaluateColorStop(P,(x=M.linearGradient2).min)).error)return R;if((D=this.evaluateColorStop(P,x.max)).error)return D;if(T={linearGradient2:{min:R.value,max:D.value}},L=this.evaluateNullStrategy(P,x.nullColoringStrategy)){if(L.error)return L;T.linearGradient2.nullColoringStrategy=L.value}}else if(M.linearGradient3){var x,R;if((R=this.evaluateColorStop(P,(x=M.linearGradient3).min)).error)return R;var D,L,A=this.evaluateColorStop(P,x.mid);if(A.error)return A;if((D=this.evaluateColorStop(P,x.max)).error)return D;if(T={linearGradient3:{min:R.value,mid:A.value,max:D.value}},L=this.evaluateNullStrategy(P,x.nullColoringStrategy)){if(L.error)return L;T.linearGradient3.nullColoringStrategy=L.value}}return{value:T}},E.prototype.evaluateColorStop=function(M,P){s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"colorStop");var T=this.evaluateColor(M,P.color,!1);if(T.error)return T;var x={color:T.value},R=this.evaluateValue(M,P.value,E.numericType);return null!=R&&(x.value=R),{value:x}},E.prototype.evaluateColor=function(M,P,T){s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"evaluateColor - color");var x=this.evaluateValue(M,P,E.colorValueType),R=null!=x?(0,f.pe)(this.visualStyle,x):x;if(null!=R)return{value:R};if(null===x&&T)return{value:null};if(!x)return{value:void 0};var D=x.toString();return D&&(D=D.replace(/\s+/g,""),D=(0,c.HS)(D)?D:(0,c.iC)(D)),void 0===D?{error:{expr:P,value:x}}:{value:D}},E.prototype.evaluateNullStrategy=function(M,P){if(P){s.fF.assertValue(M,"evaluateNullStrategy - undefined evalContext"),s.fF.assertValue(P.strategy,"evaluateNullStrategy - undefined strategy");var T={strategy:this.evaluateValue(M,P.strategy,E.nullStrategyType)};if(P.color){var x=this.evaluateColor(M,P.color,!1);if(x.error)return x;T.color=x.value}return{value:T}}},E.prototype.evaluateImage=function(M,P){if(s.fF.assertValue(M,"evalContext"),s.fF.assertAnyValue(P,"definition"),P){var T={name:this.evaluateValue(M,P.name,E.textType),url:this.evaluateValue(M,P.url,a.Ge.fromDescriptor(n.z))};return P.scaling&&(T.scaling=this.evaluateValue(M,P.scaling,E.textType)),T}},E.prototype.evaluateParagraphs=function(M,P){var T=this;if(s.fF.assertValue(M,"evalContext"),s.fF.assertAnyValue(P,"definition"),P)return this.evaluateArrayCopyOnChange(M,P,function(x,R){return T.evaluateParagraph(x,R)})},E.prototype.evaluateParagraph=function(M,P){var T=this;s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definition");var x,R=P.textRuns,D=this.evaluateArrayCopyOnChange(M,R,function(L,F){return T.evaluateTextRun(L,F)});return R!==D&&((x=_.clone(P)).textRuns=D),x||P},E.prototype.evaluateTextRun=function(M,P){return s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definition"),(0,l.IM)(P)?this.evaluateTextRunDefinition(M,P):(0,l.Kt)(P)?this.evaluateTextRunConditional(M,P):void s.fF.assertNever(P)},E.prototype.evaluateTextRunDefinition=function(M,P){var T,x;P.value instanceof b.Il?(T=P.value,x=this.evaluateValue(M,P.value,E.textType)):x=P.value;var R={value:x};return P.textStyle&&(R.textStyle=P.textStyle),P.url&&(R.url=P.url),P.mentionEmail&&(R.mentionEmail=P.mentionEmail),T&&(R.valueExpr=T),R},E.prototype.evaluateTextRunConditional=function(M,P){var T=this;return{cases:this.evaluateArrayCopyOnChange(M,P.cases,function(R,D){return T.evaluateTextRunConditionalCase(R,D)}),defaultCase:this.evaluateTextRunCaseValue(M,P.defaultCase),expression:this.evaluateTextRunConditionalExpression(M,P.expression)}},E.prototype.evaluateTextRunConditionalCase=function(M,P){return(0,e.__assign)({pattern:this.evaluateValue(M,P.pattern,E.textType)},this.evaluateTextRunCaseValue(M,P))},E.prototype.evaluateTextRunCaseValue=function(M,P){var T=this;return{textRuns:this.evaluateArrayCopyOnChange(M,P.textRuns,function(R,D){return T.evaluateTextRunDefinition(R,D)})}},E.prototype.evaluateTextRunConditionalExpression=function(M,P){return P instanceof b.Il?this.evaluateValue(M,P,E.textType):(0,o.U)(P)?P:void s.fF.assertNever(P)},E.prototype.evaluateGeoJson=function(M,P){if(s.fF.assertValue(M,"evalContext"),s.fF.assertAnyValue(P,"definition"),P)return{name:this.evaluateValue(M,P.name,E.textType),type:this.evaluateValue(M,P.type,E.textType),content:this.evaluateValue(M,P.content,E.textType)}},E.prototype.evaluateDataBars=function(M,P){var T=this.evaluateSolidColorFill(M,P.positiveColor,!1);if(T.error)return{error:T.error};var x=this.evaluateSolidColorFill(M,P.negativeColor,!1);if(x.error)return{error:x.error};var R=this.evaluateSolidColorFill(M,P.axisColor,!1);return R.error?{error:R.error}:{value:{minValue:this.evaluateValue(M,P.minValue,E.numericType),maxValue:this.evaluateValue(M,P.maxValue,E.numericType),positiveColor:T.value,negativeColor:x.value,axisColor:R.value,reverseDirection:this.evaluateValue(M,P.reverseDirection,E.boolType),hideText:this.evaluateValue(M,P.hideText,E.boolType)}}},E.prototype.evaluateIcon=function(M,P){var T;if(s.fF.assertValue(M,"evalContext"),s.fF.assertAnyValue(P,"definition"),(0,r.r)(P)){var x={kind:"Icon"};if(P.layout&&(x.layout=this.evaluateValue(M,P.layout,E.textType)),P.verticalAlignment&&(x.verticalAlignment=this.evaluateValue(M,P.verticalAlignment,E.textType)),P.value){var R=this.evaluateValue(M,P.value,E.textType);if(null===R)x.value=null;else if(void 0===R)x.value=null;else{var D=(0,f.lQ)(this.visualStyle,R);if(D)if(D.svgId){var L=null===(T=D.description)||void 0===T?void 0:T.resourceKey;x.value={svgId:D.svgId},L&&(x.value.descriptionKey=L)}else D.url?x.value={url:D.url}:s.fF.assertFail("incorrect themeIcon");else x.value={url:R}}}return x}},E.prototype.evaluateThemeDataColor=function(M){return(0,f.GK)(this.visualStyle,M)},E.prototype.evaluateExprList=function(M){if(s.fF.assertAnyValue(M,"definition"),(0,r.bA)(M))return{exprs:M.exprs,kind:"ExprList"}},E.prototype.evaluateArrayCopyOnChange=function(M,P,T){s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definitions"),s.fF.assertValue(T,"evaluator");for(var x,R=0,D=P.length;R<D;R++){var L=P[R],F=T(M,L);!x&&L!==F&&(x=_.take(P,R)),x&&x.push(F)}return x||P},E.prototype.evaluateErrorRange=function(M,P){if(s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definition"),(0,r.ZG)(P)){if(P.explicit)return this.evaluateExplicitErrorRange(M,P.explicit);if(P.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(M,P.symmetricalExplicit);if(P.standardDeviation)return this.evaluateStandardDeviationErrorRange(M,P.standardDeviation);if(P.percentage)return this.evaluatePercentageErrorRange(M,P.percentage);if(P.percentile)return this.evaluatePercentileErrorRange(M,P.percentile)}},E.prototype.evaluateExplicitErrorRange=function(M,P){var T={isRelative:!0===this.evaluateValue(M,P.isRelative,E.boolType)};return P.lowerBound&&(T.lowerBound=this.evaluateValue(M,P.lowerBound,E.numericType)),P.upperBound&&(T.upperBound=this.evaluateValue(M,P.upperBound,E.numericType)),{explicit:T}},E.prototype.evaluateSymmetricalErrorRange=function(M,P){return{symmetricalExplicit:{delta:this.evaluateValue(M,P.delta,E.numericType)}}},E.prototype.evaluateStandardDeviationErrorRange=function(M,P){return{standardDeviation:{value:this.evaluateValue(M,P.value,E.numericType),multiplier:this.evaluateValue(M,P.multiplier,E.numericType)}}},E.prototype.evaluatePercentageErrorRange=function(M,P){return{percentage:{lowerBoundDelta:this.evaluateValue(M,P.lowerBoundDelta,E.numericType),upperBoundDelta:this.evaluateValue(M,P.upperBoundDelta,E.numericType)}}},E.prototype.evaluatePercentileErrorRange=function(M,P){return{percentile:{lowerBound:this.evaluateValue(M,P.lowerBound,E.numericType),upperBound:this.evaluateValue(M,P.upperBound,E.numericType)}}},E.prototype.evaluateQnaVisualLink=function(M,P){if(s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definition"),(0,r.Xz)(P))return{suggestedUtterances:_.map(P.suggestedUtterances,function(T){return{utterance:T.utterance}})}},E.prototype.evaluateItemLocation=function(M,P){if(s.fF.assertValue(M,"evalContext"),s.fF.assertValue(P,"definition"),(0,r.DS)(P)&&P.byReference){var T={byReference:{itemId:this.evaluateValue(M,P.byReference.itemId,E.textType)}};return P.byReference.workspaceId&&(T.byReference.workspaceId=this.evaluateValue(M,P.byReference.workspaceId,E.textType)),P.byReference.folderId&&(T.byReference.folderId=this.evaluateValue(M,P.byReference.folderId,E.textType)),T}},E.prototype.evaluateValue=function(M,P,T){return P instanceof b.Il?this.expressionEvaluator.evaluate(P,M):P instanceof S.t?P.evaluate(M):void 0},E.boolType=a.Ge.fromDescriptor({bool:!0}),E.colorValueType=a.Ge.fromDescriptor({formatting:{color:!0}}),E.numericType=a.Ge.fromDescriptor({numeric:!0}),E.textType=a.Ge.fromDescriptor({text:!0}),E.nullStrategyType=a.Ge.fromDescriptor({enumeration:p.dt}),E}(),C=function(E){function M(P,T){var x=E.call(this)||this;return x.dataColorEvaluator=P,x.colorAllocatorGetter=T,x}return(0,e.__extends)(M,E),M.prototype.evaluate=function(P,T){if(null!=P)return P.accept(this,T)},M.prototype.visitColumnRef=function(P,T){return T.getExprValue(P)},M.prototype.visitConstant=function(P,T){return P.value},M.prototype.visitMeasureRef=function(P,T){return T.getExprValue(P)},M.prototype.visitArithmetic=function(P,T){return T.getExprValue(P)},M.prototype.visitNativeMeasure=function(P,T){return T.getExprValue(P)},M.prototype.visitAggr=function(P,T){return T.getExprValue(P)},M.prototype.visitScopedEval=function(P,T){return T.getScopedEvalExprValue(P)},M.prototype.visitFillRule=function(P,T){var x=this.colorAllocatorGetter(P,T);if(x){var R=this.evaluate(P.input,T);if(void 0!==R)return x.color(R)}},M.prototype.visitPercentile=function(P,T){return T.getExprValue(P)},M.prototype.visitRangePercent=function(P,T){var x=this.evaluate(P.min,T);if(_.isFinite(x)){var R=this.evaluate(P.max,T);if(_.isFinite(R)){var D=P.percent;return 0===D?x:1===D?R:x+D*(R-x)}}},M.prototype.visitSelectRef=function(P,T){return T.getExprValue(P)},M.prototype.visitThemeDataColor=function(P,T){var x=this.dataColorEvaluator(P.colorId);if(x)return(0,c.HO)(x,P.percent)},M.prototype.visitNot=function(P,T){return!this.evaluate(P.arg,T)},M.prototype.visitAnd=function(P,T){return P.left.accept(this,T)&&P.right.accept(this,T)},M.prototype.visitContains=function(P,T){if(!P.isOrdinalEvaluation())return s.fF.assertFail("Contains expression should be evaluated as ordinal"),!1;var x=this.getExprString(P.left,T),R=this.getExprString(P.right,T);return _.isString(x)?(0,v.r3)(x,R):(s.fF.warn("Contains expression should only be applied to string types"),!1)},M.prototype.visitStartsWith=function(P,T){if(!P.isOrdinalEvaluation())return s.fF.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var x=this.getExprString(P.left,T),R=this.getExprString(P.right,T);return _.isString(x)?(0,v.Ny)(x,R):(s.fF.warn("StartsWith expression should only be applied to strings"),!1)},M.prototype.getExprString=function(P,T){var x;if(null!==P)return null!==(x=(0,b.Ls)(P))&&void 0!==x?x:this.evaluate(P,T)},M.prototype.visitCompare=function(P,T){var x=this.evaluate(P.left,T);if(_.isNaN(x))return!1;var R=this.evaluate(P.right,T);if(_.isNaN(R))return!1;var D=P.comparison;if(P.isOrdinalEvaluation())return 0===D?x===R:(s.fF.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===R||null===x)return R===x&&(0===D||2===D||4===D);switch(D){case 0:return x===R;case 1:return x>R;case 2:return x>=R;case 3:return x<R;case 4:return x<=R}},M.prototype.visitConditional=function(P,T){var x=P.cases;if(s.fF.assertNonEmpty(x,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(x))for(var R=0,D=x;R<D.length;R++){var L=D[R],A=L.value;if(!0===this.evaluate(L.condition,T))return this.evaluate(A,T)}return this.evaluate(P.defaultValue,T)},M}(h.Ml)},838592:function(Je,H,t){t.d(H,{AR:function(){return l},wi:function(){return a}});var e=t(226514),c=t(883863),s=t(787941),f=t(299747),v=t(145315),b=t(870817),h=t(474505),p=t(722089),n=t(255780);function l(d,S,g,y,C,E){!S||1!==S.length||!g.categorical||!g.categorical.dataReductionAlgorithm||d&&function(d){return!(!r(d.Primary)||!r(d.Secondary)||1!==d.Secondary.Groupings[0].Projections.length||d.DataReduction&&(d.DataReduction.Primary||d.DataReduction.Secondary||d.DataReduction.Intersection))}(d)&&(d.Primary.Groupings=[d.Secondary.Groupings[0],d.Primary.Groupings[0]],d.Secondary=void 0,d.DataReduction={Primary:(0,b.P)(g.categorical.dataReductionAlgorithm,y),DataVolume:E||g.categorical.dataVolume||C})}function r(d){return d&&d.Groupings&&1===d.Groupings.length&&!_.isEmpty(d.Groupings[0].Projections)&&!d.Groupings[0].Subtotal&&_.isEmpty(d.Groupings[0].SuppressedProjections)}function a(d,S,g,y,C){if(!function(d,S,g,y,C){if(_.isEmpty(S)||!d||_.isEmpty(C))return!1;var E=_.filter(C,function(w){return!(0,h.zY)(w)});if(1!==E.length)return!1;var M=E[0].categorical;if(!M)return!1;var P=d.matrix;if(!P||!P.rows||!P.rows.levels||2!==P.rows.levels.length)return!1;var T=[],x=[],R=function(I,B){var j=y[I];if(j)for(var W=0,U=j.all();W<U.length;W++){var k=U[W];g[k.queryRef]===v.DW.Grouping&&B.push(k.queryRef)}};if((0,p.Sr)(M.categories,{visitRole:function(I){R(I,T)}}),(0,p.vS)(M.values,{visitRole:function(I){R(I,x)}}),(0,p.fl)(M.values,{visitRole:function(I){R(I,x)}}),_.isEmpty(T)||_.isEmpty(x))return!1;for(var D=0,L=P.columns.levels;D<L.length;D++)for(var A=0,O=L[D].sources;A<O.length;A++)if(!O[A].isMeasure)return!1;return!0}(d,S,g,y,C))return d;var E={metadata:{columns:(0,c.JG)(d.metadata.columns)}};if(d.single&&(E.single=d.single),d.table&&(E.table=d.table),d.matrix){var M=function(d){var de,pe,S=d.rows,g=S.root,y=g.children,C=[],E=S.levels[0],M=g.childIdentityFields,P={},T=[],x=S.levels[1],R=_.isEmpty(y)?void 0:y[0].childIdentityFields,D=d.valueSources.length,L=function(de){var pe=P[de.key];return s.fF.assert(function(){return void 0!==pe},"findcat() !== undefined"),pe};if(y)for(var A=0,O=y;A<O.length;A++){C.push(N=O[A]);for(var w=0,I=N.children;w<I.length;w++)de=B=I[w],pe=void 0,void 0,void 0===P[pe=de.identity.key]&&(P[pe]=T.length,T.push(de))}for(var j=new Array(T.length),W=0;W<C.length;++W)for(var N,U=0,k=(N=y[W]).children;U<k.length;U++){var B;j[Q=L((B=k[U]).identity)]||(j[Q]=new Array(C.length)),j[Q][W]=B.values}var te={root:{children:_.map(C,function(Ce){var de=(0,f.qO)(Ce);return de.level=0,de.children=void 0,de.childIdentityFields=void 0,de}),childIdentityFields:M},levels:[E]};if(D>0){for(var ee=_.map(d.columns.root.children,function(Ce){var de={level:1};return Ce.levelSourceIndex&&(de.levelSourceIndex=Ce.levelSourceIndex),de}),J=0,re=te.root.children;J<re.length;J++)re[J].children=ee;te.levels.push(d.columns.levels[0])}var ne={root:{children:_.map(T,function(Ce){var de=(0,f.qO)(Ce);return de.level=0,de.children=void 0,de.childIdentityFields=void 0,de}),childIdentityFields:R},levels:[x]};if(D>0)for(var Q=0;Q<T.length;++Q){var X=ne.root.children[Q],oe={};for(W=0;W<C.length;++W)for(var Ve=j[Q]&&j[Q][W],Te=0;Te<D;++Te)oe[W*D+Te]=Ve?Ve[Te]:0===Te?{value:null}:{value:null,valueSourceIndex:Te};X.values=oe}return{rows:ne,columns:te,valueSources:d.valueSources}}(d.matrix);_.isEmpty(M.valueSources)||(0,n.CF)(M.columns)||(E.categorical=function(d,S){for(var g=d.columns.root.children.length,y=d.valueSources,C=y.length,E=function(d){s.fF.assertValue(d,"unpivotedMatrix"),s.fF.assert(function(){return d&&d.rows&&d.rows.levels&&1===d.rows.levels.length},"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var S=_.map(d.rows.root.children,function(T){return T.identity}),g=d.rows.root.childIdentityFields,y=d.rows.levels[0].sources,C=[],E=0,M=y.length;E<M;E++){var P=_.map(d.rows.root.children,function(T){var x=T.levelValues;if(void 0!==x)return s.fF.assert(function(){return x[E]&&x[E].levelSourceIndex===E},"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),x[E].value});C.push({source:y[E],values:P,identity:S,identityFields:g})}return C}(d),M=[],P=0;P<g;++P){var T=d.columns.root.children[P];M.push(x={values:[],identity:T.identity,name:null!=T.value?T.value:null});for(var R=0;R<C;++R){var L=(0,e.__assign)({},y[R]);L.groupName=x.name,S.push(L);var F={source:L,values:[],identity:x.identity};x.values.push(F);for(var A=R+P*C,O=0,N=d.rows.root.children;O<N.length;O++)F.values.push(N[O].values[A].value)}}for(var B=[],j=0,W=M;j<W.length;j++){var x=W[j];for(R=0;R<C;++R)B.push(x.values[R])}return B.grouped=function(){return M},B.identityFields=d.columns.root.childIdentityFields,B.source=d.columns.levels[0].sources[0],{categories:E,values:B}}(M,E.metadata.columns))}return E}},178910:function(Je,H,t){t.d(H,{JM:function(){return y},KH:function(){return o}});var e=t(787941),c=t(324356),s=t(654558),f=t(474505),v=t(698129),b=t(19632),h=t(926720),p=t(411916),n="RegressionX",l="RegressionSeries",r="RegressionY";function o(E){e.fF.assertValue(E,"options");var M=E.visualDataViews,P=E.dataRoles,T=E.objectDescriptors,x=E.objectDefinitions,R=E.transformSelects,D=E.applicableDataViewMappings,L=E.roleKindByQueryRef,F=E.queryProjectionsByRole,A=E.visualStyle,O=E.featureSwitches;if(!_.isEmpty(M)&&R){if(!L||!F||_.isEmpty(D)||!T||!x)return M;var N=_.find(D,function(U){return!!(0,f.zY)(U)});if(N){for(var w=[],I=0,B=M;I<B.length;I++){var W=a(B[I],D,P,N,T,x,A,O);W&&w.push(W)}_.isEmpty(w)||M.push.apply(M,w||[])}}return M}function a(E,M,P,T,x,R,D,L){return e.fF.assertValue(M,"applicableDataViewMappings"),2===(0,f._1)(M)?function(){function E(L,F,A,O,N,w,I){e.fF.assertValue(L,"sourceDataView"),e.fF.assertValue(L.matrix,"sourceDataView.matrix"),e.fF.assertValue(F,"dataRoles"),e.fF.assertValue(O,"objectDescriptors"),e.fF.assertValue(N,"objectDefinitions");var B=L.matrix;if(B&&B.rows&&B.rows.root&&0!==_.size(B.rows.root.children)&&!(_.size(B.rows.levels)>2)){var j=M(0,B,F),W=M(1,B,F);if(void 0!==j&&void 0!==W){var U=j.valuesCol,k=W.valuesCol,Q=function(L,F,A){var O=L.matrix;if(O){var N=function(Q,te){if(Q.children)for(var ee=0,J=Q.children;ee<J.length;ee++){var re=J[ee];re.isSubtotal||(te.xValues.push(F(re)),te.yValues.push(A(re)))}},w=[],I=O.rows;if(2===I.levels.length)for(var B=0,j=O.rows.root.children;B<j.length;B++){var W=j[B];W.isSubtotal||(w.push(U={xValues:[],yValues:[]}),N(W,U))}else if(1===I.levels.length){var U;w.push(U={xValues:[],yValues:[]}),N(I.root,U)}return w}}(L,j.getValues,W.getValues),te=!0,ee=(0,f.zY)(A);if(ee&&L.metadata.objects){var J=ee.combineSeries;J&&(te=(0,v.NA)(L.metadata.objects,J,!0))}var re=Q;te&&(re=function(L){for(var F,A,O=[],N=0,w=L;N<w.length;N++){var I=w[N];_.isEmpty(I.xValues)||_.isEmpty(I.yValues)||(O[0]||O.push({xValues:[],yValues:[]}),(F=O[0].xValues).push.apply(F,I.xValues||[]),(A=O[0].yValues).push.apply(A,I.yValues||[]))}return O}(Q));var G=V(re);if(d(G)){for(var ne=G.xMin,X=G.xMax,oe=[],Ve=0,Te=G.lineDefs;Ve<Te.length;Ve++)oe.push(C(Te[Ve],+ne,+X));return function(L,F,A,O,N,w,I,B,j,W){var U,k,Q;e.fF.assertValue(L,"xColumnSource"),e.fF.assertValue(F,"yColumnSource"),e.fF.assertValue(O,"categories"),e.fF.assertValue(N,"values"),e.fF.assertValue(I,"objectDescriptors"),e.fF.assertValue(B,"objectDefinitions");var oe,ee=w.matrix.rows.select[1].bind.to,J=w.matrix.values.select[0].for.in,re=((U={})[w.matrix.rows.select[0].bind.to]=!0,U),G=((k={})[J]=!0,k),ne=((Q={})[ee]=!0,Q),X={columns:[]},Ve={levels:[],root:{children:[]}},Te={metadata:X,matrix:{rows:Ve,columns:oe,valueSources:[]}},Qe=u(L,n,!1,"",re),He=u(F,l,F.isMeasure,"Regression",ne),Ce=u(F,r,F.isMeasure,"",G);X.columns.push(He),X.columns.push(Qe),X.columns.push(Ce),Ve.levels.push({sources:[He]}),Ve.levels.push({sources:[Qe]}),Te.matrix.valueSources.push(Ce);for(var de=(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionSeries"),pe=(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionCategories"),le=0;le<A.length;le++){var me=A[le],be={level:0,value:me,levelValues:[{levelSourceIndex:0,value:me}],children:[],childIdentityFields:[pe],identity:(0,b.TZ)((0,c.xD)(de,(0,c.kQ)(me,He.type)))};_.isEmpty(Ve.root.childIdentityFields)&&(Ve.root.childIdentityFields=[de]),Ve.root.children.push(be);for(var Be=0;Be<O.length;Be++){var Se=O[Be],Pe={level:1,value:Se,levelValues:[{levelSourceIndex:1,value:Se}],values:{},identity:(0,b.TZ)((0,c.xD)(pe,(0,c.kQ)(Se,Qe.type)))};Pe.values[0]={value:N[le][Be]},be.children.push(Pe)}}return(0,h.ni)(Te,1,I,B,[],j,W),Te}(U,k,te?["combinedRegressionSeries"]:2===B.rows.levels.length?_.chain(B.rows.root.children).filter(function(de){return!de.isSubtotal}).map(function(de){return de.value}).value():["combinedRegressionSeries"],[ne,X],oe,A,O,N,w,I)}}}}function M(L,F,A){var N,w,O=F.valueSources,I=function(L,F,A){if(!_.isEmpty(F))return _.findIndex(F,function(O){var N=function(j){if(!O.roles[j])return"continue";var W=_.find(A,function(U){return U.name===j});return W&&W.cartesianKind===L?{value:!0}:void 0};for(var w in O.roles){var I=N(w);if("object"==typeof I)return I.value}})}(L,F.valueSources,A);if(I>=0&&void 0!==I)N=O[I],w=function(W){return W.values[I].value};else{var B=function(L,F,A){if(!_.isEmpty(F.root.children)){for(var O=-1,N=0,w=F.levels.length;N<w&&-1===(O=_.findIndex(F.levels[N].sources,function(B){var j=function(Q){if(!B.roles[Q])return"continue";var te=_.find(A,function(ee){return ee.name===Q});return te&&te.cartesianKind===L?{value:!0}:void 0};for(var W in B.roles){var U=j(W);if("object"==typeof U)return U.value}}));N++);return{level:N,index:O}}}(L,F.rows,A);if(-1===(I=B?B.index:-1))return;N=F.rows.levels[B.level].sources[I],w=function(W){return W.levelValues[I].value}}return{valuesCol:N,getValues:w}}return{apply:function(F,A,O,N,w,I,B){return E(F,A,O,N,w,I,B)}}}().apply(E,P,T,x,R,D,L):function(){function E(F,A,O,N,w,I,B){if(e.fF.assertValue(F,"sourceDataView"),e.fF.assertValue(F.categorical,"sourceDataView.categorical"),e.fF.assertValue(A,"dataRoles"),e.fF.assertValue(N,"objectDescriptors"),e.fF.assertValue(w,"objectDefinitions"),F.categorical){var j=M(0,F.categorical,A),W=M(1,F.categorical,A);if(!_.isEmpty(j)&&!_.isEmpty(W)){var U=j[0].source,k=W[0].source,Q=!0,te=(0,f.zY)(O);if(te&&F.metadata.objects){var ee=te.combineSeries;ee&&(Q=(0,v.NA)(F.metadata.objects,ee,!0))}var re=V(R(j,W,Q,!1));if(d(re)){var oe,de,me,G=re.xMin,ne=re.xMax,X=L(W)||L(j);X&&(d(oe=V(R(j,W,Q,!0)))?(G=_.min([G,oe.xMin]),ne=_.max([ne,oe.xMax])):X=!1);for(var Te=[],Qe=0,He=re.lineDefs;Qe<He.length;Qe++)Te.push(C(He[Qe],+G,+ne));if(X){de=[];for(var pe=0,le=oe.lineDefs;pe<le.length;pe++)de.push(C(le[pe],+G,+ne))}if(Q)me=["combinedRegressionSeries"];else if(F.categorical.values.source){var be=F.categorical.values.grouped();me=_.map(be,function(Se){return Se.name})}else me=_.map(W,function(Se){return Se.source.queryName});return function(F,A,O,N,w,I,B,j,W,U,k){var Q,te,ee;e.fF.assertValue(F,"xColumnSource"),e.fF.assertValue(A,"yColumnSource"),e.fF.assertValue(N,"categories"),e.fF.assertValue(w,"values"),e.fF.assertValue(j,"objectDescriptors"),e.fF.assertValue(W,"objectDefinitions"),e.fF.assertAnyValue(I,"highlights"),e.fF.assert(function(){return!I||I.length===w.length},"highlights should have the same length as values");var G,ne,J=B.categorical.categories.for.in,re=B.categorical.values.group;if(re&&!_.isEmpty(re.select)&&(G=re.select[0].for?re.select[0].for.in:re.select[0].bind.to,ne=re.by),G&&ne){var X=((Q={})[J]=!0,Q),oe=((te={})[G]=!0,te),Ve=((ee={})[ne]=!0,ee),Te=[];for(var Qe in w){var He={values:w[Qe]};I&&(He.highlights=I[Qe]),Te.push([He])}var Ce=(0,s.h)().withCategory({source:u(F,n,!1,"",X),values:N,identityFrom:{fields:[(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:u(A,l,A.isMeasure,"Regression",Ve),values:O,identityFrom:{fields:[(0,c.Oh)((0,c.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:u(A,r,A.isMeasure,"",oe)}],data:Te}).build();return(0,h.ni)(Ce,1,j,W,[],U,k),Ce}}(U,k,me,[G,ne],Te,de,O,N,w,I,B)}}}}function M(F,A,O){e.fF.assertValue(F,"roleKind"),e.fF.assertValue(A,"categorical");var N=P(F,A.values,O);if(!_.isEmpty(N))return N;var w=A.categories;if(!_.isEmpty(w)){var I=w[0],B=P(F,[I],O);if(!_.isEmpty(B)&&(1===w.length||_.isEmpty(I.values)||!_.isEmpty(I.objects)&&void 0!==T(I.objects[0])))return B}}function P(F,A,O){if(!_.isEmpty(A))return _.filter(A,function(N){var w=function(W){if(!N.source.roles[W])return"continue";var U=_.find(O,function(k){return k.name===W});return U&&U.cartesianKind===F?{value:!0}:void 0};for(var I in N.source.roles){var B=w(I);if("object"==typeof B)return B.value}return!1})}function T(F){return(0,v.NA)(F,p.it)}function x(F,A){var O=_.head(F.objects);return O&&T(O)?_.map(F.objects,function(w){return T(w)}):A&&F.highlights?F.highlights:F.values}function R(F,A,O,N){for(var w=[],I=_.map(F,function(Q){return x(Q,N)}),B=_.map(A,function(Q){return x(Q,N)}),j=F.length>1,W=0;W<B.length;W++){var U=j?I[W]:I[0],k=B[W];O&&w.length>0?(w[0].xValues=w[0].xValues.concat(U),w[0].yValues=w[0].yValues.concat(k)):w.push({xValues:U,yValues:k})}return w}function L(F){return _.some(F,function(A){return null!=A.highlights})}return{apply:function(A,O,N,w,I,B,j){return E(A,O,N,w,I,B,j)}}}().apply(E,P,T,x,R,D,L)}function u(E,M,P,T,x){return{displayName:E.displayName+T,queryName:M,type:E.type,isMeasure:P,roles:x}}function V(E){for(var M,P,T=[],x=0,R=E;x<R.length;x++){var D=R[x],L=D.xValues,F=D.yValues;if(_.isEmpty(L)||_.isEmpty(F))T.push(null);else{var A=S(L),O=S(F);if(A&&O){var N=g(L,F);if(!N||_.isEmpty(N.xValues)||_.isEmpty(N.yValues))T.push(null);else{var w=N.xValues[0],I=N.xValues[N.xValues.length-1],B=y(N.xValues,N.yValues);M=_.min([M,w]),P=_.max([P,I]),T.push(B)}}else T.push(null)}}return{lineDefs:T,xMin:M,xMax:P}}function d(E){return E&&!_.isEmpty(E.lineDefs)&&_.some(E.lineDefs,function(M){return M})}function S(E){var M=_.find(E,function(T){return null!=T});if(null!=M){var P=typeof M;if(!_.some(E,function(T){return null!=T&&typeof T!==P}))return P}}function g(E,M){e.fF.assertValue(E,"unsortedXValues"),e.fF.assertValue(M,"unsortedYValues");var P=_.zip(E,M),T=_.chain(P).filter(function(D){return null!=D[0]&&null!=D[1]}).sortBy(function(D){return D[0]}).unzip().value(),x=T[0],R=T[1];return{xValues:x=_.map(x,_.toNumber),yValues:R=_.map(R,_.toNumber)}}function y(E,M,P){void 0===P&&(P=!1),e.fF.assertValue(E,"xValues"),e.fF.assertValue(M,"yValues");var T=_.sum(E),x=_.sum(M),R=T/E.length,D=x/M.length,L=_.chain(E).map(function(U){return Math.pow(U-R,2)}).sum().value();if(0!==L){var N,A=_.chain(E).map(function(U,k){return(U-R)*(M[k]-D)}).sum().value()/L,O=D-R*A;if(P){var w=_.size(E),I=_.chain(E).map(function(U,k){return U*M[k]}).sum().value(),B=_.chain(E).map(function(U){return U*U}).sum().value(),j=_.chain(M).map(function(U){return U*U}).sum().value(),W=Math.sqrt((w*B-Math.pow(T,2))*(w*j-Math.pow(x,2)));0!==W&&(N=Math.pow((w*I-T*x)/W,2))}return{incline:A,intercept:O,rSquared:N}}}function C(E,M,P){return E?[M*E.incline+E.intercept,P*E.incline+E.intercept]:[null,null]}},389521:function(Je,H,t){t.d(H,{Yp:function(){return v},fS:function(){return b}});var e=t(883863),c=t(787941),s=t(166851),f=t(143509);function v(p){return new h(p)}function b(p,n){return p.key&&n.key&&p.key===n.key&&(0,e.NF)(p.roles,n.roles,function(l,r){return l===r})}var h=function(){function p(n){var l=this;this.kind=0,c.fF.assertNonEmpty(n,"roles"),this._roles=n,this._key=new s.o(function(){return JSON.stringify(l.roles)})}return Object.defineProperty(p.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),p}();(0,f.y)(h.prototype)},19632:function(Je,H,t){t.d(H,{Lu:function(){return o},SN:function(){return r},TZ:function(){return a},fS:function(){return n},yz:function(){return l}});var e=t(787941),c=t(166851),s=t(143509),f=t(217926),v=t(13106),b=t(324356),h=t(744104),p=t(474147);function n(m,u,V){return(m=m||null)===(u=u||null)||!m==!u&&(e.fF.assertValue(m,"x"),e.fF.assertValue(u,"y"),(0,p.fS)(m.expr,u.expr,V))}function l(m,u,V){if(!(m=m||null)!=!(u=u||null))return!1;e.fF.assertValue(m,"thisComparisonExpr"),e.fF.assertValue(u,"otherComparisonIdentity");var S=m,g=(0,f.Dh)(u.expr),y=(0,f.Dh)(S);if(!g||!y)return n(a(S),u,V);for(var C=function(R){if(!_.some(g,function(D){return(0,p.fS)(R,D,V)}))return{value:!1}},E=0,M=y;E<M.length;E++){var T=C(M[E]);if("object"==typeof T)return T.value}return!0}function r(m,u){if(!_.isEmpty(m)){for(var V=[],d=0,S=m;d<S.length;d++)V.push(S[d].expr);return o(V,u)}}function o(m,u){if(!_.isEmpty(m)){for(var V,d=0,S=m;d<S.length;d++){var g=S[d],y=(0,f.FD)(g);V=V?(0,b.or)(V,y):y||g}return V&&u&&(V=(0,b.ff)(V)),(0,f.Cj)(V)?void e.fF.assertFail("SelectRef based identities can not be translated into a filter without additional context."):v.yl.fromSQExpr(V)}}function a(m){return new i(m)}var i=function(){function m(u){this.kind=1,e.fF.assertValue(u,"expr"),this._expr=u,this._key=new c.o(function(){return(0,h.qC)(u)})}return Object.defineProperty(m.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),m}();(0,s.y)(i.prototype)},755397:function(Je,H,t){t.d(H,{fS:function(){return h},ms:function(){return p},wB:function(){return b}});var e=t(787941),c=t(166851),s=t(143509),f=t(983172),v=t(744104);function b(l,r){return!_.isEmpty(r)&&f.m.sequenceEqual(l.exprs,r)}function h(l,r){return l===r||f.m.sequenceEqual(l.exprs,r.exprs)}function p(l){return new n(l)}var n=function(){function l(r){this.kind=2,e.fF.assertValue(r,"scopeExprs"),this._exprs=r,this._key=new c.o(function(){return(0,v.Gg)(r)})}return Object.defineProperty(l.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),l}();(0,s.y)(n.prototype)},799863:function(Je,H,t){t.d(H,{fS:function(){return p},ms:function(){return n},wB:function(){return h}});var e=t(787941),c=t(166851),s=t(143509),f=t(217926),v=t(983172),b=t(744104);function h(r,o){var a=(0,f.RR)(o.expr);return!!a&&v.m.sequenceEqual(r.exprs,a)}function p(r,o){return r===o||v.m.sequenceEqual(r.exprs,o.exprs)}function n(r){return new l(r)}var l=function(){function r(o){this.kind=3,e.fF.assertValue(o,"exprs"),this._exprs=o,this._key=new c.o(function(){return(0,b.Gg)(o)})}return Object.defineProperty(r.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),r}();(0,s.y)(l.prototype)},771201:function(Je,H,t){t.d(H,{_v:function(){return h},bG:function(){return p},f_:function(){return r},ij:function(){return l}});var e=t(226514),c=t(456535),s=t(474147),f=t(787941),v=t(145315),b=t(426827);function h(o,a){if(f.fF.assertAnyValue(o,"selects"),f.fF.assertAnyValue(a,"projectionActiveItems"),_.isEmpty(o))return{};for(var i={},m=0,u=o;m<u.length;m++){var V=u[m];if(V){var d=V.roles;if(d)for(var S in d)if(d[S]){var g=i[S];g||(g=i[S]=new b.NQ([])),g.addProjection({queryRef:V.queryName}),a&&a[S]&&(g.activeProjectionRefs=_.map(a[S],function(y){return y.queryRef}))}}}return i}function p(o,a){for(var i={},m=0,u=a.columns;m<u.length;m++){var V=u[m];if(!(!V.index&&0!==V.index||V.index<0||V.index>=o.length)){var d=o[V.index];if(d){var S=d.queryName;S&&void 0===i[S]&&(i[S]=V.isMeasure?v.DW.Measure:v.DW.Grouping)}}}return i}function l(o,a,i){if(f.fF.assertValue(o,"expr"),f.fF.assertAnyValue(a,"selectTransforms"),!a)return-1;var m;(0,c.NH)(o)&&(m=o.expressionName);for(var u=i||0,V=a.length;u<V;u++){var d=a[u];if(d&&(!m||d.queryName))if(m){if(d.queryName===m)return u}else if((0,s.fS)(d.expr,o))return u}return-1}function r(o,a){if(!_.isEmpty(o)&&!_.isEmpty(a)){for(var i={},m=function(g){var y=o[g];if(!_.isEmpty(y.relatedSelects))for(var C=function(x){var R=x.queryName,D=_.findIndex(o,function(B){return B.queryName&&B.queryName===R});if(D>-1)for(var F=0,A=_.keys(o[D].roles);F<A.length;F++){var O=A[F],N=_.remove(a[O],function(B){return B===g});if(!_.isEmpty(N)){var w=i[D]=i[D]||{};(w[O]=w[O]||[]).push(g)}}},E=0,M=y.relatedSelects;E<M.length;E++)C(M[E])},u=0;u<o.length;u++)m(u);if(!_.isEmpty(i)){var V=function(g){var y=i[g];for(var C in y){var E=a[C],M=_.findIndex(E,function(P){return P===parseInt(g,10)});E.splice.apply(E,(0,e.__spreadArray)([M+1,0],y[C],!1))}};for(var d in i)V(d)}}}},967908:function(Je,H,t){t.d(H,{nn:function(){return Qr},G3:function(){return pt},iZ:function(){return $r}});var e=t(883863),c=t(787941),s=t(299747),f=t(725182),v=t(353705),b=t(217926),h=t(983172),p=t(592042),n=t(926720);function l(Ae){return void 0===Ae.source.index}function r(Ae){return _.some(Ae,l)}var a=t(292042);function i(Ae){c.fF.assertValue(Ae,"categorical");var tt=Ae.values;if(tt){var bt;if(tt.source){bt=(0,s.qO)(tt.grouped());var Dt=0===(0,a.Ed)(Ae),Rt=tt.length>=1&&(Dt||void 0!==_.head(tt).identity);if(!_.isEmpty(tt)&&Rt)for(var Ut,It=0,$t=function(_r,Ur){var Lr=tt[_r];if(l(Lr))return"continue";if(!Ut||Lr.identity!==Ut.identity){var Wr=bt[It];Wr?Ut=(0,s.qO)(Wr):(c.fF.assert(function(){return!Lr.identity},"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),Ut=Wr=bt[It]={values:null}),bt[It]=Ut,Ut.values=[],It++,c.fF.assert(function(){return Lr.identity===Ut.identity},"expecting the value columns are sequenced by series groups")}Ut.values.push(Lr)},Ot=0,tr=tt.length;Ot<tr;Ot++)$t(Ot);else for(Ot=0,tr=bt.length;Ot<tr;Ot++){var cr=bt[Ot];_.isEmpty(cr.values)||(bt[Ot]=cr=(0,s.qO)(cr),cr.values=[])}}else bt=[{values:tt}];tt.grouped=function(){return bt},Ae.values=tt}}var m=t(226514),u=t(474505),V=t(473667);function L(Ae,tt){c.fF.assertValue(Ae,"measureSources"),c.fF.assertValue(tt,"projectionOrder");var ct=(0,V.jh)(Ae,tt);if(ct=_.chain(ct).filter(function(Dt){return void 0!==Dt.projectionOrderIndex}).sortBy(function(Dt){return Dt.projectionOrderIndex}).value(),!(0,e.NF)(Ae,ct,function(Dt,Rt){return Dt.index===Rt.metadataColumn.index}))return ct}function A(Ae){if(c.fF.assertValue(Ae,"groups"),!_.isEmpty(Ae))return _.chain(Ae[0].values).map(function(ct){return ct.source}).filter(function(ct){return void 0!==ct.index}).value()}var O=t(232225),N=t(261374),w=t(324356),I=t(331115),B=t(326621),j=t(19632),W=t(411916);function k(Ae,tt,ct){if(c.fF.assertValue(tt,"Category type is not specified"),!_.isDate(Ae)||!tt||!tt.temporal)return null;var bt=Ae;return tt.temporal.year?function(Ae){return c.fF.assertValue(Ae,"date"),Ae.getFullYear()}(bt):tt.temporal.quarter?function(Ae,tt){c.fF.assertValue(Ae,"date");var bt=Math.floor((Ae.getMonth()+3)/3);return(0,N.W)(tt,bt.toLocaleString())}(bt,ct):tt.temporal.month?function(Ae){return c.fF.assertValue(Ae,"date"),B.dx.formatValue(Ae,"MMMM")}(bt):tt.temporal.day?function(Ae){return c.fF.assertValue(Ae,"date"),Ae.getDate()}(bt):void 0}function re(Ae,tt){c.fF.assertValue(Ae,"dataViewMatrix"),tt.columnHierarchyRewritten||(Ae.columns=(0,s.ED)(Ae.columns));var ct=Ae.columns;tt.rowHierarchyRewritten||(Ae.rows=(0,s.ED)(Ae.rows));var bt=Ae.rows;if(!(ct.levels.length>1)){var Dt={level:0},Rt=ct.root.children,It=_.size(Rt),Ut=bt.levels.length;if(It>0){var $t=0,Ot=function(_r){if(_r.values){Dt.values||(Dt.values={});for(var Ur=0;Ur<It;Ur++)Dt.values[$t++]=_r.values[Ur];_r.values=void 0}if(It>1){_r.children||(_r.children=[]);for(var Lr=0;Lr<It;Lr++){var Wr={level:Ut};Wr.levelSourceIndex=Rt[Lr].levelSourceIndex,_r.isSubtotal&&(Wr.isSubtotal=!0),_r.children.push(Wr)}}};tt.hierarchyTreesRewritten?G(bt.root,Ot):Ae.columns.root=X(bt.root,Ot)}else tt.hierarchyTreesRewritten||(Ae.columns.root=function(Ae){return X(Ae)}(bt.root));if(It>1&&(bt.levels.push({sources:ct.levels[0].sources}),ct.levels.length=0),tt.hierarchyTreesRewritten)Ae.columns.root=bt.root,Ae.rows.root={children:[Dt]};else{var cr=(0,s.ED)(Ae.rows.root);cr.children=[Dt],Ae.rows.root=cr}Ae.columns.levels=bt.levels,Ae.rows.levels=[]}}function G(Ae,tt){var ct=Ae.children;if(ct&&ct.length>0)for(var bt=0,Dt=ct.length;bt<Dt;bt++)G(ct[bt],tt);else tt(Ae)}function X(Ae,tt){var ct={};return tt&&(ct.nodeProcessor=function(bt){_.isEmpty(bt.children)&&tt(bt)}),oe(Ae,ct)}function oe(Ae,tt){var ct,bt,Dt=(0,s.ED)(Ae),Rt=Ae.children;if(!(tt.nodeProcessor&&tt.nodeProcessor(Dt),_.isEmpty(Rt)||null!==(bt=null===(ct=tt.skipChildren)||void 0===ct?void 0:ct.call(tt,Ae))&&void 0!==bt&&bt))for(var Ut=Rt.length,$t=Dt.children=new Array(Ut),Ot=0;Ot<Ut;Ot++)$t[Ot]=oe(Rt[Ot],tt);return Dt}var Ve=t(255780);function Qe(Ae,tt,ct){if(_.isEmpty(ct))return[];var bt=u.nG.fromMatrixValues(tt);if(_.isEmpty(bt))return[];var Dt=de(Ae,bt),Rt=(0,V.jh)(ct,Dt,bt);return _.chain(Rt).filter(function(It){return void 0!==It.projectionOrderIndex}).sortBy(function(It){return It.projectionOrderIndex}).value()}function de(Ae,tt){c.fF.assertValue(Ae,"projectionOrdering"),c.fF.assertValue(tt,"roles");for(var ct=[],bt=0,Dt=tt;bt<Dt.length;bt++){var It=Ae[Dt[bt]];_.isEmpty(It)||ct.push.apply(ct,It||[])}return ct}function pe(Ae,tt){return c.fF.assertValue(Ae,"valueSources"),c.fF.assertValue(tt,"valueProjectionOrdering"),(0,e.NF)(Ae,tt,function(ct,bt){return ct===bt.metadataColumn})}function le(Ae,tt,ct,bt,Dt){c.fF.assertValue(Ae,"prototypeRowHierarchy"),c.fF.assertNonEmpty(tt,"originalValueSources"),c.fF.assertValue(ct,"projectedValueSourceEntries"),c.fF.assert(function(){return void 0===Dt||0===bt.length},"staticValueSources are not supported with Scoped Measures");var Ut,Ot,Rt=tt.length,It=ct.length,$t=(0,s.qO)(Ae),tr=function(_r,Ur){var Lr=Ur?_r.values:(0,Ve.Lr)(_r);if(Lr&&0!==Rt){if(!Ot){Ot=0;var Wr={};for(var Br in Lr)Ot++,Wr[Lr[Br].valueSourceIndex||0]=!0;Rt=Object.keys(Wr).length}if(void 0===Ut){if(Rt>It&&bt.length>0&&(Rt-=bt.length,0==(Ot-=bt.length)))return;c.fF.assert(function(){return Ot%Rt==0},"expecting the intersection values to have one value per measure column per column group instance"),Ut=Ot/Rt}else c.fF.assert(function(){return Ut===Ot/Rt},"expecting every interaction values collection to have the same length");var kr;if(It>0){kr={};for(var ti=0;ti<Ut;ti++)for(var Qt=ti*Rt,Me=ti*It,Ct=0;Ct<It;Ct++)Ct!==((st=Lr[Qt+ct[Ct].sourceIndex]).valueSourceIndex||0)&&((st=(0,s.qO)(st)).valueSourceIndex=Ct||void 0),kr[Me+Ct]=st;for(var Lt=It,Vt=Object.keys(kr).length,Yt=Ot+bt.length,or=Ot;or<Yt;or++){var st;(st=Lr[or]).valueSourceIndex=Lt++||void 0,kr[Vt++]=st}}else kr=void 0;Ur?_r.values=kr:_r.nodeValues=kr?{0:kr}:void 0}};return $t.root=void 0===Dt?X($t.root,function(pr){return tr(pr,!0)}):oe($t.root,{nodeProcessor:function(_r){_r.level===Dt&&tr(_r,!1)},skipChildren:function(_r){return _r.level>=Dt}}),$t}function be(Ae,tt){c.fF.assertValue(Ae,"matrixHierarchy"),c.fF.assertValue(tt,"projectionOrdering");var bt,ct=Ae.levels,Dt=_.chain(ct).map(function(cr,pr){return pr}).filter(function(cr){var pr=ct[cr];return _.size(pr.sources)>=2&&!(0,Ve.Ro)(pr)}).value();if(!_.isEmpty(Dt)){for(var Rt=_.uniq(tt),It=Dt.length-1;It>=0;It--){var Ut=Dt[It],$t=Ae.levels[Ut],Ot=Be($t,Rt);if(!_.isEmpty(Ot)){void 0===bt&&((bt=(0,s.qO)(Ae)).levels=(0,s.qO)(Ae.levels),bt.root=(0,Ve.no)(Ae.root,Ut,!0));var tr=(0,s.qO)($t);bt.levels[Ut]=Se(tr,Ot),Pe(bt.root,Ut,Ot)}}return bt}}function Be(Ae,tt){c.fF.assertValue(Ae,"hierarchyLevel"),c.fF.assertValue(tt,"hierarchyProjection");var ct,bt=Ae.sources;if(bt&&bt.length>=2){var Dt=(0,V.jh)(bt,tt);c.fF.assert(function(){return _.every(Dt,function(It){return It.metadataColumn.isMeasure||void 0!==It.projectionOrderIndex||null==tt[It.sourceIndex]})},"Removed grouping during Matrix Projection ordering");var Rt=_.sortBy(Dt,function(It){return It.projectionOrderIndex});ct=_.map(Rt,function(It,Ut){return{originalSourceIndex:It.sourceIndex,newSourceIndex:Ut}})}return ct}function Se(Ae,tt){c.fF.assertValue(Ae,"transformingHierarchyLevel"),c.fF.assertNonEmpty(tt,"levelSourceIndexMappings");var ct=Ae.sources;Ae.sources=ct.slice(0);for(var bt=function($t){c.fF.assert(function(){return $t.originalSourceIndex<ct.length},"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Ae.sources[$t.newSourceIndex]=ct[$t.originalSourceIndex]},Dt=0,Rt=tt;Dt<Rt.length;Dt++)bt(Rt[Dt]);return Ae}function Pe(Ae,tt,ct){c.fF.assertValue(Ae,"transformingHierarchyRootNode"),c.fF.assertNonEmpty(ct,"levelSourceIndexMappings"),c.fF.assert(function(){return ct.length===_.uniqBy(ct,function(Dt){return Dt.originalSourceIndex}).length},"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var bt=_.reduce(ct,function(Dt,Rt){return Dt[Rt.originalSourceIndex]=Rt,Dt},{});return(0,Ve.X2)(Ae,tt,function(Dt){var Rt=Dt.levelValues;if(!_.isEmpty(Rt)){c.fF.assert(function(){return _.every(Rt,function(pr){return!!bt[pr.levelSourceIndex]})},"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var It=_.sortBy(Rt,function(pr){var _r=bt[pr.levelSourceIndex];return _r&&_r.newSourceIndex}),Ut=0,$t=It.length;Ut<$t;Ut++){var Ot=(0,s.qO)(It[Ut]),tr=bt[Ot.levelSourceIndex];Ot.levelSourceIndex=tr&&tr.newSourceIndex,It[Ut]=Ot}Dt.levelValues=It;var cr=_.last(It);Dt.value!==cr.value&&(Dt.value=cr.value),(Dt.levelSourceIndex||0)!==cr.levelSourceIndex&&(Dt.levelSourceIndex=cr.levelSourceIndex)}}),Ae}function Fe(Ae,tt){c.fF.assert(function(){return Ae&&_.every(Ae.children,function(bt){return bt.level===Ae.children[0].level})},"node must be defined and all of its child nodes must have the same level value."),c.fF.assertValue(tt,"measureHeadersLevelIndex");var ct=Ae.children;return!_.isEmpty(ct)&&ct[0].level===tt}function at(Ae,tt,ct,bt){for(var Dt=new Array(tt),Rt=0,It=tt;Rt<It;Rt++){var Ut=void 0,$t=bt&&bt[Rt].sourceIndex;null!=$t&&(Ut=ct.children&&ct.children[$t]);var Ot=Ut?(0,s.qO)(Ut):{};Ot.level=Ae,ct.isSubtotal&&(Ot.isSubtotal=!0),Ot.levelSourceIndex=Rt>0?Rt:void 0,Dt[Rt]=Ot}return Dt}function We(Ae){c.fF.assertValue(Ae,"options");var tt=_.filter(Ae.dataRoles,function(ct){return!_.isEmpty(ct.requiredTypes)});!function(Ae,tt,ct){if(c.fF.assertValue(Ae,"dataview"),!_.isEmpty(tt)&&!_.isEmpty(ct)){for(var bt=function(Ae,tt){if(!Ae||!tt)return function(){return!1};for(var ct={},bt=0,Dt=Ae;bt<Dt.length;bt++){var Rt=Dt[bt],It=Rt.roles;if(It)for(var Ut=0,$t=tt;Ut<$t.length;Ut++)if(It[$t[Ut].name]){ct[Rt.index]=!0;break}}return function(tr){return!isNaN(tr)&&!!ct[tr]}}(Ae.metadata.columns,ct),Dt=function(Ae,tt){if(!Ae||!tt)return function(){return!0};for(var ct=[],bt=0,Dt=Ae;bt<Dt.length;bt++){var Rt=Dt[bt],It=K(Rt,tt);It&&(ct[Rt.index]=It)}return function(Ut,$t){return!ct[Ut]||ct[Ut]($t)}}(Ae.metadata.columns,ct),Rt={},It=0,Ut=tt;It<Ut.length;It++){var $t=Ut[It];$t.table&&Ae.table&&(Rt.table=!0),$t.matrix&&Ae.matrix&&(Rt.matrix=!0),$t.categorical&&Ae.categorical&&(Rt.categorical=!0),$t.tree&&Ae.tree&&(Rt.tree=!0),$t.single&&Ae.single&&(Rt.single=!0)}Rt.categorical&&function(Ae,tt,ct){var bt=Ae&&Ae.values;if(bt){var Dt=bt.grouped();if(Dt)for(var Rt=0,It=Dt;Rt<It.length;Rt++)for(var Ot=0,tr=It[Rt].values;Ot<tr.length;Ot++){var cr=tr[Ot],pr=cr.source.index;if(tt(pr))for(var _r=0,Ur=cr.values.length;_r<Ur;_r++)cr.values=Le(cr.values,_r,pr,ct)}}}(Ae.categorical,bt,Dt),Rt.table&&function(Ae,tt,ct){var bt=Ae&&Ae.columns;if(bt){for(var Dt=[],Rt=0,It=bt;Rt<It.length;Rt++){var Ut=It[Rt];tt(Ut.index)&&Dt.push(Ut.index)}for(var $t=Ae.rows,Ot=0,tr=$t.length;Ot<tr;Ot++)for(var cr=0,pr=Dt;cr<pr.length;cr++){var _r=pr[cr];$t[Ot]=Le($t[Ot],_r,_r,ct)}}}(Ae.table,bt,Dt),Rt.tree&&rt(Ae.tree.root,bt,Dt),Rt.matrix&&function(Ae,tt,ct){var bt=Ae&&Ae.rows&&Ae.rows.root;bt&&Ue(Ae,bt,tt,ct)}(Ae.matrix,bt,Dt),Rt.single&&function(Ae,tt,ct,bt){if(Ae.single){for(var Dt=[],Rt=0,It=ct;Rt<It.length;Rt++){var Ut=It[Rt];Ut.name&&Dt.push(Ut.name)}for(var $t=Ae.metadata.columns,Ot=0,tr=tt;Ot<tr.length;Ot++){var pr=tr[Ot].single.role;if(-1!==Dt.indexOf(pr)){var _r=et($t,pr);return void(_r&&(Ae.single=Le(Ae.single,"value",_r.index,bt)))}}}}(Ae,tt,ct,Dt)}}(Ae.dataview,Ae.dataViewMappings,tt)}function K(Ae,tt){var ct=function(Ae,tt){var ct=[],bt=Ae&&Ae.roles;if(!bt)return ct;for(var Dt=0,Rt=tt;Dt<Rt.length;Dt++){var It=Rt[Dt];if(bt[It.name])for(var Ut=0,$t=It.requiredTypes;Ut<$t.length;Ut++){var tr=p.Ge.fromDescriptor($t[Ut]);ct.push(tr)}}return ct}(Ae,tt);if(!_.isEmpty(ct))return function(bt){return function(Ae,tt){for(var ct=0,bt=tt;ct<bt.length;ct++){var Dt=bt[ct];if(Dt.numeric||Dt.integer)return"number"==typeof Ae}return!1}(bt,ct)}}function rt(Ae,tt,ct){if(Ae.values)for(var bt in Ae.values)tt(bt)&&("object"==typeof Ae.values[bt]&&"value"in Ae.values[bt]?Ae.values[bt]=Le(Ae.values[bt],"value",bt,ct):Ae.values=Le(Ae.values,+bt,+bt,ct));else if(Ae.children)for(var Dt=0,Rt=Ae.children;Dt<Rt.length;Dt++)rt(Rt[Dt],tt,ct)}function Ue(Ae,tt,ct,bt){if(tt.values)for(var Dt in tt.values){var Rt=tt.values[Dt],Ut=Ae.valueSources[Rt.valueSourceIndex||0].index;_.isNumber(Ut)&&ct(Ut)&&(tt.values[Dt]=Le(Rt,"value",Ut,bt))}else if(tt.children)for(var $t=0,Ot=tt.children;$t<Ot.length;$t++)Ue(Ae,Ot[$t],ct,bt)}function Le(Ae,tt,ct,bt){if(Ae){var Dt=Ae[tt];return null!==Dt&&!bt(ct,Dt)&&((Ae=(0,s.qO)(Ae))[tt]=null),Ae}}function et(Ae,tt){for(var ct=0,bt=Ae;ct<bt.length;ct++){var Dt=bt[ct],Rt=Dt&&Dt.roles;if(Rt&&Rt[tt])return Dt}}var he=t(698129),ce=t(98196),Re=t(682324),ut=function(){function Ae(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}return Ae.prototype.trackOriginalDynamicFormatColumn=function(tt,ct){this.originalDynamicFormatColumns.push({valueColumnIndex:tt,dynamicFormatStringColumn:ct})},Ae.prototype.addPivotedDynamicFormatColumn=function(tt,ct,bt){var Dt=this;void 0===this.categoryIndexToDynamicFormatColumn[tt]&&(this.categoryIndexToDynamicFormatColumn[tt]=[]),c.fF.assert(function(){return void 0===Dt.categoryIndexToDynamicFormatColumn[tt][ct]},"categoryIndexToDynamicFormatColumn[".concat(tt,"][").concat(ct,"] === undefined")),this.categoryIndexToDynamicFormatColumn[tt][ct]=bt},Ae.prototype.getPivotedDynamicFormatColumn=function(tt,ct){var bt=this.getValueColumnIndex(tt);if(void 0!==bt)return c.fF.assertValue(this.categoryIndexToDynamicFormatColumn[bt][ct],"categoryIndexToDynamicFormatColumn[".concat(bt,"][").concat(ct,"]")),this.categoryIndexToDynamicFormatColumn[bt][ct]},Ae.prototype.getValueColumnIndex=function(tt){var ct=_.find(this.originalDynamicFormatColumns,function(bt){return bt.dynamicFormatStringColumn===tt});if(ct)return ct.valueColumnIndex},Ae}(),je=t(838592);var ze=t(178910),$e=t(654558);function Kt(Ae,tt,ct){for(var bt=(0,s.ED)(Ae),Dt=0,Rt=ct;Dt<Rt.length;Dt++){var It=Rt[Dt];bt[It]=tt[It]}return bt}var Zt=t(283427),er=t(771201),sr=["Series","Category"],gr=["Series","X","Y"];function St(Ae,tt,ct,bt){c.fF.assertValue(Ae,"groupingLevelSelectIndices"),c.fF.assertValue(tt,"selectTransforms"),c.fF.assertAnyValue(ct,"drillableRoles"),c.fF.assertValue(bt,"rolesToMatch");for(var Dt=0,Rt=Ae.length,It=0,Ut=bt;It<Ut.length;It++){var $t=Ut[It];if(Rt<=Dt)return!1;var Ot=Gt(Ae,tt,$t);if(0===Ot)return!1;if(Ot>=2&&!_.includes(ct,$t))return!1;Dt+=Ot}return!(Dt<Rt)}function Gt(Ae,tt,ct){c.fF.assertValue(Ae,"selectIndices"),c.fF.assertValue(tt,"selectTransforms"),c.fF.assertValue(ct,"roleToMatch");for(var bt=0,Dt=0,Rt=Ae;Dt<Rt.length;Dt++){var It=Rt[Dt];if((0,V.iN)(tt[It]&&tt[It].roles,ct))bt++;else if(bt>0)break}return bt}var wr=t(351025),Vr=t(647457),Ar=t(474147),vr={quarterPrefix:"Qtr {0}"};function $r(Ae){c.fF.assertValue(Ae,"options"),vr=Ae}function Qr(Ae){c.fF.assertValue(Ae,"options");var tt=Ae.prototype,ct=Ae.objectDescriptors,bt=Ae.transforms,Dt=Ae.visualStyle,Rt=Ae.withWarnings?[]:void 0;if(!tt)return{dataViews:ei(ct,bt,Dt,Ae.featureSwitches)};if(!bt)return{dataViews:[tt]};var It=function(Ae,tt,ct,bt,Dt,Rt,It,Ut,$t,Ot){c.fF.assertValue(Ae,"queryDataViewMetadata"),c.fF.assertAnyValue(tt,"objectDescriptors"),c.fF.assertAnyValue(ct,"dataViewMappings"),c.fF.assertAnyValue(bt,"dataRoles"),c.fF.assertAnyValue(Dt,"drillCapabilities"),c.fF.assertValue(It,"transforms"),c.fF.assertValue(Ut,"DataViewTransformContext.create - visualStyle");var tr=It.selects,cr=It.roles&&It.roles.activeItems,pr=_.isEmpty(tr)?{}:(0,er.bG)(tr,Ae),_r=(0,er._v)(tr,cr),Lr=(0,Zt.Lo)(_r,ct,pr,Ot,tt,It.objects).supportedMappings;return{queryDataViewMetadata:Ae,objectDescriptors:tt,dataRoles:bt,drillCapabilities:Dt,expandCollapseCapabilities:Rt,transforms:It,selectTransforms:tr,projectionOrdering:It.roles&&It.roles.ordering,projectionActiveItems:cr,roleKindByQueryRef:pr,queryProjectionsByRole:_r,visualCapabilitiesRoleMappings:ct,visualCapabilitiesDataViewKinds:(0,u._1)(ct),applicableRoleMappings:Lr,applicableDataViewKinds:(0,u._1)(Lr),visualStyle:Ut,visualCapabilitiesKeepAllMetadataColumns:$t}}(tt.metadata,ct,Ae.dataViewMappings,Ae.dataRoles,Ae.drillCapabilities,Ae.expandCollapseCapabilties,bt,Dt,Ae.keepAllMetadataColumnsCapability,Ae.featureSwitches),Ut=function(Ae,tt){var ct,bt;c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"transformContext");var Dt=tt.transforms,Rt=tt.applicableRoleMappings,It=(0,je.wi)(Ae,tt.selectTransforms,tt.roleKindByQueryRef,tt.queryProjectionsByRole,Rt),Ut=null===(bt=null===(ct=tt.transforms)||void 0===ct?void 0:ct.roles)||void 0===bt?void 0:bt.isDrillDisabled;return function(Ae,tt,ct,bt){if(!function(Ae,tt,ct,bt){if(_.isEmpty(tt)||!Ae||_.isEmpty(ct))return!1;var Dt=Ae.matrix;if(!Dt||!Dt.rows||_.isEmpty(Dt.rows.levels)||!Dt.columns||_.isEmpty(Dt.columns.levels))return!1;for(var Rt=[],It=0,Ut=Dt.columns.levels;It<Ut.length;It++)for(var Ot=0,tr=Ut[It].sources;Ot<tr.length;Ot++)(cr=tr[Ot]).isMeasure||Rt.push(cr);for(var pr=[],_r=0,Ur=Dt.rows.levels;_r<Ur.length;_r++)for(var Lr=0,Wr=Ur[_r].sources;Lr<Wr.length;Lr++)(cr=Wr[Lr]).isMeasure||pr.push(cr);for(var Br=[],kr=0,ti=Dt.rows.levels;kr<ti.length;kr++)for(var Qt=0,Me=ti[kr].sources;Qt<Me.length;Qt++){var cr;(cr=Me[Qt]).isMeasure&&Br.push(cr)}if(!_.isEmpty(Br)||1!==Rt.length||pr.length<1)return!1;var Ct=_.filter(ct,function(Tr){return!(0,u.zY)(Tr)});if(1!==Ct.length)return!1;if(2!==(0,u._1)(Ct))return!1;var st=Ct[0].matrix;if(!st)return!1;var Lt=u.nG.fromMatrixRows(st.rows),Vt=u.nG.fromMatrixColumns(st.columns);if(_.size(Lt)<2||0!==_.size(Vt))return!1;var Yt=_.uniq([].concat.apply([],_.map(pr,function(Tr){return Object.keys(tt[Tr.index].roles)}))),or=_.uniq([].concat.apply([],_.map(Rt,function(Tr){return Object.keys(tt[Tr.index].roles)})));return _.isEqual(Lt,[].concat(or,Yt))&&_.isEqual(bt,Yt)}(Ae,tt,bt,ct))return Ae;var Dt={metadata:{columns:(0,m.__spreadArray)([],Ae.metadata.columns||[],!0)}};if(Ae.single&&(Dt.single=Ae.single),Ae.table&&(Dt.table=Ae.table),Ae.matrix){var Rt=function(Ae){var tt=Ae.rows,ct=Ae.columns,bt=tt.root,Dt=bt.children;c.fF.assert(function(){return 1===tt.levels.length},"oldRows.levels.length ===1"),c.fF.assert(function(){return ct.levels.length>=1},"oldColumns.levels.length >=1"),c.fF.assert(function(){return 1===ct.levels[0].sources.length},"oldColumns.levels[0].sources.length === 1");var Rt={levels:[],root:{children:[]}},Ut={rows:Rt,columns:{levels:[],root:{children:[]}},valueSources:Ae.valueSources},$t=Rt.root.children;Rt.levels.push(ct.levels[0]),Rt.root.childIdentityFields=ct.root.childIdentityFields;for(var Ot=0,tr=ct.root.children;Ot<tr.length;Ot++){var cr=tr[Ot];void 0!==cr.levelValues&&void 0!==cr.value&&$t.push({children:[],value:cr.value,levelValues:cr.levelValues,identity:cr.identity,level:0})}var pr=_.size(Ae.valueSources);if(Rt.levels.push(tt.levels[0]),_.isEmpty($t))return Ut;for(var _r in Dt){var Ur=Dt[_r];for(var Lr in Ur.values){var Br=$t[Math.floor(Lr/pr)];Br.childIdentityFields||(Br.childIdentityFields=bt.childIdentityFields);var kr=Ur.values[Lr];if(null!=kr){var ti=Br.children[_r];ti||Br.children.push(ti={level:Br.level+1,value:Ur.value,levelValues:Ur.levelValues,values:{},identity:Ur.identity}),ti.values[Lr%pr]=kr}}}return Ut}(Ae.matrix);_.isEmpty(Rt.valueSources)||(0,Ve.CF)(Rt.columns)||(Dt.matrix=Rt)}return Dt}(It=function(Ae,tt,ct,bt){if(c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"transformActions"),c.fF.assertAnyValue(ct,"applicableRoleMappings"),c.fF.assertAnyValue(bt,"drillableRoles"),!_.isEmpty(tt.splits))return Ae;var Dt=Ae.matrix;if(!Dt)return Ae;var Rt=_.chain(ct).map(function(Ot){return function(Ae){c.fF.assertValue(Ae,"dataViewMapping");var tt=Ae.matrix;if(tt&&tt.rows&&!tt.columns&&!tt.values){var ct=u.nG.fromMatrixRows(tt.rows);if((0,e.NF)(ct,sr,function(Dt,Rt){return Dt===Rt})||(0,e.NF)(ct,gr,function(Dt,Rt){return Dt===Rt}))return{primaryAxisRoles:ct.slice(1),secondaryAxisRole:ct[0]}}}(Ot)}).filter(function(Ot){return!!Ot}).value();if(1!==Rt.length)return Ae;if(!function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"dataViewSelectIndices"),c.fF.assertValue(tt,"transformActions"),c.fF.assertAnyValue(ct,"drillableRoles"),c.fF.assertValue(bt,"matchingUpgradeSourceRolesStructure");var Dt=Ae.primaryAxis,Rt=Ae.secondaryAxis;if(!_.isEmpty(Ae.intersection)||1!==_.size(Dt)||1!==_.size(Rt))return!1;var It=tt.selects;return!(!St(Dt[0].selectIndices,It,ct,bt.primaryAxisRoles)||!St(Rt[0].selectIndices,It,ct,[bt.secondaryAxisRole]))}((0,Ve.GJ)(Dt),tt,bt,Rt[0]))return Ae;var Ut=function(Ae){c.fF.assertValue(Ae,"dataViewMatrix"),c.fF.assert(function(){return 1===Ae.columns.levels.length},"dataViewMatrix.columns.levels.length === 1"),c.fF.assert(function(){return 1===Ae.rows.levels.length},"dataViewMatrix.rows.levels.length === 1"),c.fF.assert(function(){return _.isEmpty(Ae.valueSources)},"_.isEmpty(dataViewMatrix.valueSources)");var tt=(0,s.qO)(Ae),ct=tt.rows=(0,s.qO)(Ae.rows),bt=tt.columns=(0,s.qO)(Ae.columns),Rt=(bt.levels=(0,s.qO)(bt.levels)).splice(0,1)[0];(ct.levels=(0,s.qO)(ct.levels)).splice(0,0,Rt);var Ut=Ae.rows.root,$t=ct.root=(0,s.qO)(bt.root);bt.root={children:[]};var Ot=(0,s.VW)($t.children,function(tr){var cr=(0,s.qO)(tr);return cr.childIdentityFields=Ut.childIdentityFields,cr.children=function(Ae){if(c.fF.assertAnyValue(Ae,"nodes"),!Ae)return Ae;var tt=(0,s.VW)(Ae,function(ct){var bt=(0,s.ED)(ct);return bt.level+=1,bt});return tt||(0,s.ED)(Ae)}(Ut.children),cr});return Ot&&($t.children=Ot),tt}(Dt),$t=(0,s.qO)(Ae);return $t.matrix=Ut,$t}(It,Dt,Rt,Xt(tt.drillCapabilities,Ut)),tt.selectTransforms,Xt(tt.drillCapabilities,Ut),Rt)}(tt,It),$t=function(Ae,tt,ct,bt,Dt,Rt){c.fF.assertValue(tt,"transformContext");var It=[],Ut=tt.transforms.splits;if(_.isEmpty(Ut))It.push(Xr(Ae,tt,ct,bt,null,Dt,Rt));else for(var $t=0,Ot=Ut;$t<Ot.length;$t++){var cr=Xr(Ae,tt,ct,bt,Ot[$t].selects,null,Rt);It.push(cr)}return It}(Ut,It,Ae.featureSwitches,Rt,Ae.bypassConcatenation,Ae.orderIndependentSelectorMatching);return{dataViews:$t=(0,ze.KH)({visualDataViews:$t,dataRoles:It.dataRoles,objectDescriptors:ct,objectDefinitions:bt.objects,transformSelects:bt.selects,applicableDataViewMappings:It.applicableRoleMappings,roleKindByQueryRef:It.roleKindByQueryRef,queryProjectionsByRole:It.queryProjectionsByRole,visualStyle:It.visualStyle,featureSwitches:Ae.featureSwitches}),warnings:Rt}}function ei(Ae,tt,ct,bt){if(tt&&tt.objects){var Dt={metadata:{columns:[]}};return(0,n.ni)(Dt,0,Ae,tt.objects,tt.selects,ct,bt),[Dt]}return[]}function Xr(Ae,tt,ct,bt,Dt,Rt,It){var Ut,$t;c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"transformContext"),c.fF.assert(function(){return!Dt||_.every(Dt,function(Qt,Me){var Ct;return!Qt||(null===(Ct=tt.selectTransforms)||void 0===Ct?void 0:Ct[Me])})},"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var Ot=(0,s.ED)(Ae);Ot.metadata=(0,s.ED)(Ae.metadata),Ot=function(Ae,tt){if(c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"transformContext"),(0,f.Js)(tt.visualCapabilitiesDataViewKinds)<=1)return Ae;var bt=tt.applicableDataViewKinds;if(0===(0,f.Js)(bt))return Ae;var Rt=(0,s.qO)(Ae);return Rt.categorical&&!(0,f.yE)(bt,1)&&(Rt.categorical=void 0),Rt.matrix&&!(0,f.yE)(bt,2)&&(Rt.matrix=void 0),Rt.table&&!(0,f.yE)(bt,8)&&(Rt.table=void 0),Rt.tree&&!(0,f.yE)(bt,16)&&(Rt.tree=void 0),Rt.single&&!(0,f.yE)(bt,4)&&(Rt.single=void 0),Rt}(Ot,tt);var tr=tt.visualCapabilitiesDataViewKinds,cr=tt.visualCapabilitiesRoleMappings,pr=tt.selectTransforms,_r=tt.expandCollapseCapabilities,Ur=tt.objectDescriptors,Lr=tt.visualStyle,Wr=null===(Ut=tt.transforms)||void 0===Ut?void 0:Ut.roles,Br=null==Wr?void 0:Wr.isDrillDisabled,kr={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},ti=[];return Ot=function(Ae,tt,ct,bt,Dt,Rt,It,Ut,$t){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"targetDataViewKinds"),c.fF.assert(function(){return 0===tt||!_.isEmpty(ct)},"if targetDataViewKinds !== None, then roleMappings must be non-empty"),c.fF.assertAnyValue(bt,"selectTransforms"),c.fF.assertValue(Dt,"columnRewrites"),c.fF.assertValue(Rt,"matrixTransformationContext"),c.fF.assertValue(It,"DataViewTransform.transformSelects - visualStyle");var Ot=new Re.Q($t,It);return Dt.length=0,bt&&(Ae.metadata.columns=function(Ae,tt,ct,bt){if(c.fF.assertValue(Ae,"columns"),!tt)return Ae;for(var Dt=(0,s.ED)(Ae),Rt={},It=function(Wr,Br){var kr=Ae[Wr],ti=tt[kr.index];Rt[kr.index]=!0;var Qt=kr;if(ti)Qt=Dt[Wr]=lt(kr,ti);else if(!_.some(Ae,function(Me){return Me.formatSource&&Me.formatSource.formatString===kr}))return"continue";ct.push({from:kr,to:Qt})},Ut=0,$t=Ae.length;Ut<$t;Ut++)It(Ut);if(bt)for(Ut=0;Ut<tt.length;Ut++)if(!Rt[Ut]){var Ot=tt[Ut];tr=nt(Ot,tr={displayName:Ot.displayName,index:Ut,identityExprs:Ot.identityExprs}),Dt.push(tr)}for(var cr={},pr=0,_r=Dt;pr<_r.length;pr++){var tr;if((tr=_r[pr]).roles&&!tr.groupName&&tr.index)for(var Ur in tr.rolesIndex||(tr.rolesIndex={}),tr.roles)void 0===cr[Ur]&&(cr[Ur]=0),tr.roles[Ur]&&(tr.rolesIndex[Ur]=[cr[Ur]++])}return c.fF.assert(function(){return _.every(ct,function(Lr){return Lr.from.index===Lr.to.index})},"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),Dt}(Ae.metadata.columns,bt,Dt,Ut),function(Ae,tt,ct){if(c.fF.assertValue(Ae,"dataView"),c.fF.assertAnyValue(ct,"selects"),ct)for(var Dt,bt=Ae.metadata.columns,Rt=0,It=ct.length;Rt<It;Rt++){var Ut=ct[Rt],$t=Ut&&Ut.aggregateSources;if($t){Dt||(Dt=(0,Vr._x)(Ae,ct));var Ot=gt(bt,Rt,Ut),tr=Ot.aggregates={},cr=p.Ge.fromDescriptor(Ot.type),pr=At(tt,Dt,ct,cr,$t.min);void 0!==pr&&(tr.min=pr),void 0!==(pr=At(tt,Dt,ct,cr,$t.max))&&(tr.max=pr)}}}(Ae,Ot,bt)),Ae.categorical&&(0,f.yE)(tt,1)&&(Ae.categorical=function(Ae,tt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"columnRewrites");var ct=(0,s.ED)(Ae);function bt(Ut){var $t=function(Ae,tt){for(var ct={},bt=Ae.source,Dt=Ae.source.rootSource,Rt=0,It=tt;Rt<It.length;Rt++){var Ut=It[Rt];Ut.from===bt&&(ct.source=Ut.to),Ut.from===Dt&&(ct.rootSource=Ut.to)}return ct}(Ut,tt),Ot=$t.source,tr=$t.rootSource;if(Ot){var cr=(0,s.ED)(Ut);return cr.source=Ot,tr&&(cr.source.rootSource=tr),cr}}var Dt=(0,s.VW)(Ae.categories,bt);if(Dt&&(ct.categories=Dt),Ae.values){var Rt=(0,s.VW)(Ae.values,bt)||(0,s.qO)(Ae.values);if(ct.values=Rt,Rt.source){var It=yr(Rt.source,tt);It&&(Rt.source=It)}}return i(ct),ct}(Ae.categorical,Dt),Ae=function(Ae,tt){c.fF.assertValue(Ae,"dataView");var ct,bt=function(Ae,tt){if(Ae&&!_.isEmpty(tt)){var ct=Ae.categories;if(!_.isEmpty(ct)){var bt=Ae.values;if(!_.isEmpty(bt)&&!bt.grouped().some(function($t){return!!$t.identity}))for(var Dt=function(Ot,tr){var cr=tt[Ot].categorical;if(!cr)return"continue";c.fF.assert(function(){return _.filter(ct,function(kr){return jt(kr.source.roles,cr.values)}).length<=1},"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories.");for(var pr=0,_r=ct;pr<_r.length;pr++){var Ur=_r[pr],Lr=Ur.source.roles;if(jt(Lr,cr.values)){var Wr=cr.categories;if(Pt(Lr,Wr)||Nt(Lr,Wr))return{value:{type:2,selfCrossJoinCategory:Ur}};if(1===ct.length)return{value:{type:1}}}}},Rt=0,It=tt.length;Rt<It;Rt++){var Ut=Dt(Rt);if("object"==typeof Ut)return Ut.value}}}}(Ae.categorical,tt);if(bt)switch(bt.type){case 1:ct=function(Ae){var tt;c.fF.assertValue(Ae,"dataView");var ct=Ae.categorical;if(!ct)return null;var bt=ct.categories;if(!bt||1!==bt.length)return null;var Dt=ct.values;if(_.isEmpty(Dt)||Dt.source)return null;for(var Rt=bt[0],It=Rt.identity,Ut=Rt.values,$t=[],Ot=[],tr=new ut,cr=0,pr=Ut.length;cr<pr;cr++)for(var _r=Ut[cr],Ur=It[cr],Lr=0,Wr=Dt.length;Lr<Wr;Lr++){var Br=Dt[Lr],kr=tr.getPivotedDynamicFormatColumn(Br.source,cr);if(void 0===kr&&(kr=(0,s.ED)(Br.source)),Br.identity)return null;if(kr.groupName=_r,kr.rootSource=Br.source,null!==(tt=kr.formatSource)&&void 0!==tt&&tt.formatString){var ti=kr.formatSource.formatString;tr.trackOriginalDynamicFormatColumn(Lr,ti);var Qt=(0,s.ED)(ti);kr.formatSource={formatString:Qt},tr.addPivotedDynamicFormatColumn(Lr,cr,Qt)}var Me={source:kr,values:[Br.values[cr]],identity:Ur,min:Br.min,max:Br.max,subtotal:Br.subtotal},Ct=Br.highlights;Ct&&(Me.highlights=[Ct[cr]]),$t.push(kr),Ot.push(Me)}var Bt=(0,s.ED)(Ae.metadata);return Bt.columns=$t,{metadata:Bt,categorical:{values:Dt=(0,n.Yv)(Ot,Rt.identityFields,Rt.source)},matrix:Ae.matrix}}(Ae);break;case 2:c.fF.assertValue(bt.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),ct=function(Ae,tt){if(c.fF.assertValue(Ae,"dataView"),c.fF.assert(function(){return!tt||_.includes(Ae.categorical.categories,tt)},"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Ae.categorical&&tt){var ct=Ae.categorical;if(!(_.isEmpty(ct.categories)||ct.values&&ct.values.source)){var bt=function(Ae,tt){return c.fF.assertValue(Ae,"dataViewCategorical"),c.fF.assertValue(tt,"selfCrossJoinCategory"),c.fF.assert(function(){return _.includes(Ae.categories,tt)},"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),tt.source.identityExprs||(1===Ae.categories.length?tt.identityFields:void 0)}(ct,tt);if(!_.isEmpty(bt))return function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"dataViewMetadata"),c.fF.assertValue(tt,"dataViewCategorical"),c.fF.assertValue(tt.categories,"dataViewCategorical.categories"),c.fF.assertValue(ct,"selfCrossJoinCategory"),c.fF.assert(function(){return _.size(ct.values)===_.size(ct.identity)},"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),c.fF.assertValue(bt,"seriesGroupIdentityFields");var Rt=ct.values.length;if(0!==Rt){var It=tt.values?tt.values.grouped()[0].values:[],Ut=function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"category"),c.fF.assertValue(tt,"categoryLength"),c.fF.assertValue(ct,"measures"),c.fF.assertValue(bt,"seriesGroupIdentityFields");var Dt=function(Ae){c.fF.assertValue(Ae,"length");for(var tt=new Array(Ae),ct=0;ct<Ae;ct++)tt[ct]=null;return tt}(tt),Rt=function(Ae,tt){c.fF.assertValue(Ae,"category"),c.fF.assert(function(){return _.size(Ae.values)===_.size(Ae.identity)},"_.size(category.values) === _.size(category.identity)"),c.fF.assertValue(!_.isEmpty(tt),"!_.isEmpty(seriesGroupIdentityFields)");for(var ct=Ae.identity,bt=Ae.values,Dt=[],Rt={},It=0,Ut=_.size(ct);It<Ut;It++){var Ot=(0,b.J2)(ct[It].expr,tt),tr=Ot&&(0,j.TZ)(Ot),cr=tr&&tr.key,pr=Rt[cr],_r=void 0;void 0===pr?(Dt.push(_r={identity:tr,groupValue:bt[It],groupIndex:Dt.length,valueRowIndices:[]}),Rt[cr]=_r.groupIndex):_r=Dt[pr],_r.valueRowIndices.push(It)}return c.fF.assert(function(){return(0,e.pT)(Dt,function(Ur,Lr){return Ur.groupIndex-Lr.groupIndex})},"post-condition: seriesGroups is sorted by group index"),Dt}(Ae,bt);if(!_.isEmpty(Rt)){var It=_.map(Rt,function(Ut){var $t=Ut.valueRowIndices;return _.map(ct,function(tr){var cr={values:Kt(Dt,tr.values,$t)};return tr.highlights&&(cr.highlights=Kt(Dt,tr.highlights,$t)),cr})});return{groupColumn:{source:Ae.source,identityFrom:{fields:bt,identities:_.map(Rt,function(Ut){return Ut.identity})},values:_.map(Rt,function(Ut){return Ut.groupValue})},valueColumns:_.map(ct,function(Ut){return{source:Ut.source}}),data:It}}}(ct,Rt,It,bt);if(Ut){var $t=(0,$e.h)().withCategories(tt.categories).withGroupedValues(Ut).build();return(Ae=(0,s.ED)(Ae)).columns=$t.metadata.columns,{metadata:Ae,categorical:$t.categorical}}}}(Ae.metadata,ct,tt,bt)}}}(Ae,bt.selfCrossJoinCategory)}return ct||Ae}(Ae,ct)),Ae.matrix&&(0,f.yE)(tt,2)&&(Ae.matrix=function(Ae,tt,ct){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"columnRewrites");var bt=(0,s.ED)(Ae),Dt=function(tr){return yr(tr,tt)};function Rt(Ot){var tr=null,cr=(0,s.VW)(Ot.levels,function(pr){var _r=null,Ur=(0,s.VW)(pr.sources,Dt);if(Ur&&(_r=Mt(_r,pr,function(Wr){return Wr.sources=Ur})),pr.valueSources){c.fF.assert(function(){return _.isEqual(_.keys(pr.valueSources),["0"])},"Scoped Measures with column groupings are not supported"),c.fF.assertValue(pr.valueSources[0],"Empty Scoped measures metadata");var Lr=(0,s.VW)(pr.valueSources[0],Dt);Lr&&(_r=Mt(_r,pr,function(Wr){return Wr.valueSources={0:Lr}}))}return _r});return cr&&(tr=Mt(tr,Ot,function(pr){return pr.levels=cr})),tr}var It=Rt(bt.rows);It&&(bt.rows=It,ct.rowHierarchyRewritten=!0);var Ut=Rt(bt.columns);Ut&&(bt.columns=Ut,ct.columnHierarchyRewritten=!0);var $t=(0,s.VW)(bt.valueSources,Dt);return $t&&(bt.valueSources=$t),bt}(Ae.matrix,Dt,Rt)),Ae.table&&(0,f.yE)(tt,8)&&(Ae.table=function(Ae,tt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"columnRewrites");var ct=(0,s.ED)(Ae),Dt=(0,s.VW)(Ae.columns,function(It){return yr(It,tt)});return Dt&&(ct.columns=Dt),ct}(Ae.table,Dt)),Ae.single&&(0,f.yE)(tt,4)&&(Ae.single=function(Ae,tt){var ct=yr(Ae.column,tt);return ct&&((Ae=(0,s.qO)(Ae)).column=ct),Ae}(Ae.single,Dt)),Ae}(Ot,tr,cr,pr,ti,kr,Lr,tt.visualCapabilitiesKeepAllMetadataColumns,ct),(0,n.ni)(Ot,tt.visualCapabilitiesDataViewKinds,Ur,tt.transforms.objects,pr,Lr,ct,bt,It),Ot=function(Ae,tt,ct,bt,Dt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"transformContext"),c.fF.assertValue(bt,"matrixTransformationContext"),c.fF.assertAnyValue(Dt,"selectsToInclude");var Rt=tt.projectionOrdering,It=tt.applicableRoleMappings,Ut=(0,s.qO)(Ae);if(function(Ae,tt,ct){if(tt){for(var bt=new Array(ct.length),Dt=0,Rt=Ae;Dt<Rt.length;Dt++)if(void 0!==(It=Rt[Dt]).index&&void 0!==It.roles&&null==It.groupName)for(var Ut in bt[It.index]=It,It.rolesIndex=It.rolesIndex||{},It.roles)It.roles[Ut]&&(It.rolesIndex[Ut]=[]);for(var Ut in tt)for(var $t=tt[Ut],Ot=0;Ot<$t.length;Ot++){var It;(It=bt[$t[Ot]])&&It.rolesIndex[Ut].push(Ot)}}}(Ut.metadata.columns,Rt,ct),Ut.table&&(0,f.yE)(tt.applicableDataViewKinds,8)&&function(Ae,tt,ct){if(!tt)return Ae;var bt=function(Ae,tt){var ct=Object.keys(Ae);if(1===ct.length){var bt=ct[0],Dt=_.map(tt,function(It){return It.from.index});return function(Ae,tt){if(!(0,e.NF)(Ae,tt,function(It,Ut){return It===Ut})){for(var ct=[],bt=0,Dt=tt.length;bt<Dt;++bt)ct[bt]=Ae.indexOf(tt[bt]);return ct}}(Dt,Ae[bt])}}(tt,ct);if(!bt)return Ae;var Dt=function(Ut){for(var $t=bt.length,Ot=new Array($t),tr=0;tr<$t;tr++)Ot[tr]=Ut[bt[tr]];return Ot};if((Ae=(0,s.qO)(Ae)).columns=Dt(Ae.columns),_.isEmpty(Ae.rows)||(Ae.rows=(0,s.VW)(Ae.rows,function(It){var Ut=Dt(It);return It.objects&&(Ut.objects=Dt(It.objects)),Ut})),Ae.totals){var Rt=Dt(Ae.totals);Ae.totals.objects&&(Rt.objects=Dt(Ae.totals.objects)),Ae.totals=Rt}}(Ut.table,Rt,ct),Ut.matrix&&(0,f.yE)(tt.applicableDataViewKinds,2)){var $t=_.filter(It,function(Ot){return!!Ot.matrix});c.fF.assertValue(0!==$t.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),c.fF.assertValue($t.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),Ut.matrix=function(Ae,tt,ct,bt){var Dt;c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"matrixMapping"),c.fF.assertAnyValue(ct,"projectionOrdering"),c.fF.assertValue(bt,"context");var Rt=Ae;if(ct){Rt=function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"matrixRoleMapping"),c.fF.assertValue(ct,"projectionOrdering"),c.fF.assertValue(bt,"context");var Dt=Ae.valueSources,Rt=Qe(ct,tt.values,Dt);if(pe(Dt,Rt))return Ae;c.fF.assert(function(){return Rt.length>0||!_.isEmpty(Dt)},"Nothing to re-order!");var It=(0,s.qO)(Ae),Ut=It.columns.levels,$t=[];Ut.length>0&&($t=Ut[0].sources.filter(function(tr){return tr.isMeasure&&null!=tr.index&&!_.isEmpty(tr.roles)&&!_.find(Rt,function(cr){return cr.metadataColumn===tr})})),It.rows=le(It.rows,It.valueSources,Rt,$t);var Ot=_.map(Rt,function(tr){return tr.metadataColumn});return It.valueSources=Ot,It.valueSources=It.valueSources.concat($t),It.columns=function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"prototypeColumnHierarchy"),c.fF.assertValue(tt,"newValueSources");var $t,Dt=Ae.levels,Rt=(0,Ve.Lt)(Dt),Ut=(Rt?_.size(Dt)>=2:_.size(Dt)>=1)?tt.length>=2:tt.length>=1;return $t=Rt?Ut?function(Ae,tt,ct,bt){c.fF.assert(function(){return Ae&&(0,Ve.Lt)(Ae.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),c.fF.assertValue(tt,"newValueSources");var Dt=(0,s.qO)(Ae),Rt=Dt.levels=(0,s.qO)(Dt.levels),It=Rt.length-1,Ut=Rt[It]=(0,s.qO)(Rt[It]);return Ut.sources=tt,Dt.root=(0,Ve.no)(Dt.root,It,!0),(0,Ve.w1)(Dt.root,function($t){var Ot;if(Fe($t,It)){var tr=at(It,tt.length,$t,bt);if(0===It&&ct.length>0){for(var cr=Ut.sources.length,pr=0;pr<ct.length;pr++)tr.push({level:0,levelSourceIndex:cr+pr});$t.children=tr,(Ot=Ut.sources).push.apply(Ot,ct||[])}else $t.children=tr;return 2}return 1}),Dt}(Ae,tt,ct,bt):function(Ae){c.fF.assert(function(){return Ae&&(0,Ve.Lt)(Ae.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var tt=(0,s.qO)(Ae),ct=tt.levels=(0,s.qO)(tt.levels),bt=ct.length-1;return ct.splice(bt,1),tt.root=(0,Ve.no)(tt.root,bt,!0),(0,Ve.w1)(tt.root,function(Dt){return Fe(Dt,bt)?(Dt.children=void 0,2):1}),tt}(Ae):Ut?function(Ae,tt){c.fF.assert(function(){return Ae&&!(0,Ve.Lt)(Ae.levels)},"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),c.fF.assertValue(tt,"newValueSources");var ct=(0,s.qO)(Ae),bt=ct.levels=(0,s.qO)(ct.levels);bt.push({sources:tt});var Rt=bt.length-1;return ct.root=(0,Ve.no)(ct.root,Rt,!0),(0,Ve.w1)(ct.root,function(It){return(0,Ve.N9)(It)?(It.children=at(Rt,tt.length,It),2):1}),ct}(Ae,tt):Ae,$t}(It.columns,(0,m.__spreadArray)([],Ot||[],!0),$t,Rt),bt.hierarchyTreesRewritten=!0,It}(Rt,tt,ct,bt),Rt=function(Ae,tt,ct){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"applicableDataViewMapping"),c.fF.assertValue(ct,"projectionOrdering");var Ot,Dt=de(ct,u.nG.fromMatrixRows(tt.rows)),Rt=be(Ae.rows,Dt),Ut=de(ct,u.nG.fromMatrixColumns(tt.columns)),$t=be(Ae.columns,Ut);return(Rt||$t)&&((Ot=(0,s.qO)(Ae)).rows=Rt||Ot.rows,Ot.columns=$t||Ot.columns),Ot||Ae}(Rt,tt,ct);var It=null===(Dt=tt.rows)||void 0===Dt?void 0:Dt.values;_.isEmpty(It)||(Rt=function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"scopedMeasuresRoleMapping"),c.fF.assertValue(ct,"projectionOrdering"),c.fF.assertValue(bt,"context");for(var Dt=Ae,Rt=0;Rt<Ae.rows.levels.length;Rt++){var Ut=(0,Ve.vC)(Ae.rows.levels[Rt]);if(!_.isEmpty(Ut)){var $t=[];Rt===Ae.rows.levels.length-1&&(c.fF.assert(function(){return(0,Ve.pr)(Ae.columns)>0},"Scoped measures at last row level aren't expected without Column grouping"),$t=Qe(ct,tt,Ut)),pe(Ut,$t)||((Dt=(0,s.qO)(Dt)).rows=le(Dt.rows,Ut,$t,[],Rt),Dt.rows.levels=(0,s.qO)(Dt.rows.levels),(Dt.rows.levels[Rt]=(0,s.qO)(Dt.rows.levels[Rt])).valueSources=$t.length>0?{0:_.map($t,function(tr){return tr.metadataColumn})}:void 0,bt.hierarchyTreesRewritten=!0)}}return Dt}(Rt,It,ct,bt))}return Rt}(Ut.matrix,$t[0].matrix,Rt,bt),function(Ae,tt){if(Ae&&!_.isEmpty(tt)){var ct=Ae.rows.levels;if(!(ct.length<1)){var bt=Ae.rows.root.children;if(bt&&0!==bt.length)for(var Dt=ct[0].sources[0].roles,Rt=0,It=tt.length;Rt<It;Rt++){var Ut=tt[Rt].matrix;if(Ut&&!Nt(Dt,Ut.rows)&&Nt(Dt,Ut.columns))return!0}}}}(Ut.matrix,It)&&re(Ut.matrix,bt)}return function(Ae,tt,ct,bt,Dt){c.fF.assertValue(Ae,"prototype"),c.fF.assertAnyValue(tt,"applicableRoleMappings"),c.fF.assertAnyValue(ct,"dataRoles"),c.fF.assertAnyValue(bt,"projectionOrdering"),c.fF.assertAnyValue(Dt,"splitSelects");var Rt,It=_.chain(tt).filter(function(Ot){return Ot.categorical&&!(0,u.zY)(Ot)}).map(function(Ot){return Ot.categorical}).value();if(Ae.categorical&&It.length>=1){var Ut=Ae.categorical,$t=function(Ae,tt,ct,bt){if(c.fF.assertValue(Ae,"prototypeCategorical"),c.fF.assertValue(tt,"categoricalRoleMappingsWithoutRegression"),c.fF.assert(function(){return _.every(tt,function(It){return!!It})},"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),c.fF.assertAnyValue(ct,"projectionOrdering"),c.fF.assertAnyValue(bt,"splitSelects"),!_.isEmpty(Ae.categories)){var Dt=(0,u.y4)(tt,u.O2);if(Dt){var Rt=function(Ae,tt,ct){if(c.fF.assertValue(Ae,"roles"),c.fF.assertAnyValue(tt,"projectionOrdering"),c.fF.assertAnyValue(ct,"splitSelects"),tt){var bt=_.reduce(Ae,function(Dt,Rt){var It=_.filter(tt[Rt],function(Ut){return!ct||ct[Ut]});return Dt.push.apply(Dt,It||[]),Dt},[]);return bt}}(Dt,ct,bt);if(Rt)return function(Ae,tt,ct){c.fF.assertValue(Ae,"prototypeCategorical"),c.fF.assertValue(tt,"projectionOrder"),c.fF.assertValue(ct,"categoryRoles");var bt=Ae.categories;if(_.isEmpty(bt))c.fF.assert(function(){return _.isEmpty(tt)},"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Ae,tt){return c.fF.assertValue(Ae,"categories"),c.fF.assertValue(tt,"selectIndexOrder"),Ae.length===tt.length&&_.every(tt,function(ct,bt){return Ae[bt].source.index===ct})}(bt,tt)){var Dt=_.map(bt,function(tr){return tr.source}),Rt=(0,V.jh)(Dt,tt,ct),It=_.chain(Rt).filter(function(tr){return void 0!==tr.projectionOrderIndex}).sortBy(function(tr){return tr.projectionOrderIndex}).value(),Ut=_.map(It,function(tr){return bt[tr.sourceIndex]}),$t=(0,s.qO)(Ae);if(_.isEmpty(Ut))$t.categories=void 0;else{var Ot=(0,a.OC)(bt);Ot&&(Ut=(0,a.gp)(Ut,Ot)||Ut),$t.categories=Ut}return $t}}(Ae,Rt,Dt)}}}(Ut,It,bt,Dt);$t=function(Ae,tt,ct,bt){c.fF.assertValue(Ae,"prototypeCategorical"),c.fF.assertAnyValue(tt,"dataRoles"),c.fF.assertAnyValue(ct,"projectionOrdering"),c.fF.assertAnyValue(bt,"splitSelects");var Dt=Ae.values;if(Dt){var Rt=function(Ae){if(r(Ae)){var tt=(0,n.Yv)(Ae.filter(function(ct){return!l(ct)}),void 0,Ae.source);return tt.grouped=Ae.grouped.bind(tt),tt}}(Dt),It=function(Ae){c.fF.assertValue(Ae,"values"),c.fF.assert(function(){return!r(Ae)},"Dynamic format values should have already been removed");var ct,bt,Dt,Rt,tt=Ae.source,It=Ae.grouped();if(tt){bt=A(It);var $t=(ct=It.length)*_.size(bt),Ot=Ae.length-$t;Ot>0&&(Dt=$t,Rt=_.chain(Ae).takeRight(Ot).map(function(tr){return tr.source}).value())}else Dt=0,Rt=A(It);return{secondaryAxisSource:tt,dynamicSeriesGroupCount:ct,dynamicSeriesMeasureSources:bt,staticSeriesMeasureStartingIndex:Dt,staticSeriesMeasureSources:Rt}}(Rt||Dt),Ut=function(Ae,tt,ct,bt){if(c.fF.assertValue(Ae,"valueColumnsInfo"),c.fF.assertAnyValue(tt,"dataRoles"),c.fF.assertAnyValue(ct,"projectionOrdering"),c.fF.assertAnyValue(bt,"splitSelects"),!ct)return function(Ae,tt){c.fF.assertValue(Ae,"valueColumnsInfo"),c.fF.assertAnyValue(tt,"splitSelects");var Dt=(Ae.dynamicSeriesMeasureSources||[]).concat(Ae.staticSeriesMeasureSources||[]),Rt=_.chain(Dt).filter(function(It){return!tt||!!tt[It.index]}).map(function(It){return It.index}).uniq().value();return Rt}(Ae,bt);var Dt=_.reduce(tt,function(tr,cr,pr){var _r=cr.name;return void 0===tr[_r]&&(tr[_r]=pr),tr},{}),Ut=(Ae.dynamicSeriesMeasureSources||[]).concat(Ae.staticSeriesMeasureSources||[]),$t=_.chain(Ut).filter(function(tr){return!bt||!!bt[tr.index]}).uniqBy(function(tr){return tr.index}).map(function(tr){var cr=tr.roles;return cr?_.filter(Object.keys(cr),function(pr){return cr[pr]}):[]}).flatten().uniq().sortBy(function(tr){return Dt[tr]}).value(),Ot=_.chain($t).map(function(tr){return ct[tr]||[]}).flatten().filter(function(tr){return!bt||!!bt[tr]}).uniq().value();return Ot}(It,tt,ct,bt);if(Rt=function(Ae,tt,ct){c.fF.assertValue(Ae,"prototypeValues"),c.fF.assertValue(tt,"prototypeValueColumnsInfo"),c.fF.assertValue(ct,"measureRolesProjectionOrder"),c.fF.assert(function(){return!r(Ae)},"Dynamic format values should have already been removed");var bt=function(Ae,tt,ct){if(c.fF.assertValue(Ae,"prototypeValues"),c.fF.assertValue(tt,"prototypeValueColumnsInfo"),c.fF.assertValue(ct,"measureRolesProjectionOrder"),tt.dynamicSeriesGroupCount&&!_.isEmpty(tt.dynamicSeriesMeasureSources)){var bt=L(tt.dynamicSeriesMeasureSources,ct);if(bt){var Dt=bt.length;if(0===Dt)return[];for(var Rt=tt.dynamicSeriesMeasureSources.length,It=tt.dynamicSeriesGroupCount,Ut=[],$t=0;$t<It;$t++)for(var Ot=$t*Rt,tr=0;tr<Dt;tr++)Ut.push(Ae[Ot+bt[tr].sourceIndex]);return Ut}}}(Ae,tt,ct),Dt=function(Ae,tt,ct){if(c.fF.assertValue(Ae,"prototypeValues"),c.fF.assertValue(tt,"prototypeValueColumnsInfo"),c.fF.assertValue(ct,"measureRolesProjectionOrder"),!_.isEmpty(tt.staticSeriesMeasureSources)){var bt=L(tt.staticSeriesMeasureSources,ct);if(bt){var Dt=bt.length;if(0===Dt)return[];for(var Rt=tt.staticSeriesMeasureStartingIndex,It=[],Ut=0;Ut<Dt;Ut++)It.push(Ae[Rt+bt[Ut].sourceIndex]);return It}}}(Ae,tt,ct);if(bt||Dt){var Rt=(0,s.qO)(Ae);return bt?Dt?(c.fF.assert(function(){return _.isEmpty(bt)||_.isEmpty(Dt)},"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),Rt.splice(0,Rt.length),Rt.push.apply(Rt,bt||[]),Rt.push.apply(Rt,Dt||[])):(c.fF.assertValue(tt.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),c.fF.assertValue(tt.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),Rt.splice.apply(Rt,(0,m.__spreadArray)([0,tt.dynamicSeriesMeasureSources.length*tt.dynamicSeriesGroupCount],bt||[],!1))):Dt&&(c.fF.assertValue(tt.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),c.fF.assertValue(tt.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),Rt.splice.apply(Rt,(0,m.__spreadArray)([tt.staticSeriesMeasureStartingIndex,tt.staticSeriesMeasureSources.length],Dt||[],!1))),Rt}}(Rt||Dt,It,Ut)||Rt,Rt=function(Ae,tt){if(c.fF.assertValue(Ae,"prototypeValues"),c.fF.assertAnyValue(tt,"splitSelects"),tt&&Ae.source&&!tt[Ae.source.index]){var bt=(0,s.qO)(Ae);return bt.source=void 0,bt.identityFields=void 0,bt}}(Rt||Dt,bt)||Rt,Rt){var $t=!!Rt.source,Ot=Rt.length>0,tr=(0,s.qO)(Ae);return $t||Ot?(tr.values=Rt,i(tr)):tr.values=void 0,tr}}}($t||Ut,ct,bt,Dt),$t&&((Rt=(0,s.qO)(Ae)).categorical=$t)}return Rt||Ae}(Ut,It,tt.dataRoles,Rt,Dt)}(Ot,tt,ti,kr,Dt),Ot=function(Ae,tt,ct,bt,Dt,Rt,It){if(_.isEmpty(ct)||!Dt)return Ae;var Ut=Dt&&Dt.roles;if(_.isEmpty(Ut)||It)return Ae;c.fF.assertValue(Ae,"dataView"),c.fF.assertValue(tt,"targetDataViewKinds"),c.fF.assertNonEmpty(bt,"selectTransforms"),c.fF.assertAnyValue(Rt,"expansionStates");var $t=Dt.addDataViewFlags;if(c.fF.assertValue($t,"addDataViewFlags"),!0!==($t.propertyIdentifier?(0,he.NA)(Ae.metadata.objects,$t.propertyIdentifier,$t.defaultValue):$t.defaultValue))return Ae;var tr=_.find(ct,function(_r){return _r.matrix}),cr=tr&&tr.matrix;if(cr&&Ae.matrix&&(0,f.yE)(tt,2)){var pr=function(Ae,tt,ct,bt,Dt,Rt,It){c.fF.assertNonEmpty(bt,"Expand/Collapse is not supported");var Ut=u.nG.fromMatrixRows(tt.rows),$t=Dt&&(0,v.Vt)(Dt,Ut),Ot=function(Ae,tt,ct,bt,Dt,Rt,It){if(c.fF.assertAnyValue(Dt,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(tt,function(Ur){return!_.includes(bt,Ur)})){for(var Ut=0,$t=function(Lr){_.some(tt,function(Wr){return Lr.roles[Wr]})&&Ut++},Ot=0,tr=ct;Ot<tr.length;Ot++)$t(tr[Ot]);if(Ut>0){(Ae=(0,s.qO)(Ae)).levels=(0,s.qO)(Ae.levels),c.fF.assertValue(Ae.levels,"hierarchy.levels");for(var pr=0;pr<Ae.levels.length;pr++)pr<Ut-1&&(Ae.levels[pr]=(0,s.qO)(Ae.levels[pr]),Ae.levels[pr].canBeExpanded=!0);var _r=vt(Ae.root,Ae.levels,Dt&&Dt.root,Dt&&Dt.levels,Ut);return _r&&(Ae.root=_r),It&&Dt&&function(Ae,tt,ct){c.fF.assertValue(Ae,"hierarchy"),c.fF.assertValue(tt,"metadataColumns"),c.fF.assertValue(ct,"expansionState");var bt=ct.levels;if(!_.isEmpty(bt)){for(var Dt={},Rt=0,It=tt;Rt<It.length;Rt++){var Ut=It[Rt];Dt[Ut.queryName]=Ut}for(var $t=new Array(bt.length),Ot=Ae.levels,tr=0,cr=function(Br){var kr=Br.queryRefs;if(!_.isEmpty(kr)&&!_.isEmpty(Ot)&&Ot[tr])for(var ti=Ot[tr].sources,Qt=function(Lt){c.fF.assert(function(){return _.some(ti,function(Vt){return Vt.queryName===Lt})},"ExpansionState levels should match matrix levels.")},Me=0,Ct=kr;Me<Ct.length;Me++)Qt(Ct[Me]);$t[tr++]={isCollapsed:Br.isCollapsed,isPinned:Br.isPinned,isLocked:Br.isLocked,AIInformation:_.cloneDeep(Br.AIInformation),sources:_.map(kr,function(st){return Dt[st]})}},pr=0,_r=bt;pr<_r.length;pr++)cr(_r[pr]);var Lr=ir(ct.root,$t,void 0,h.m.getPrimitiveValuesFromSQConstantExpr);Ae.expansionStates=[{levels:$t,root:Lr}]}}(Ae,Rt,Dt),Ae}}}(Ae.rows,Ut,ct,bt,$t,Rt,It);if(Ot)return(Ae=(0,s.qO)(Ae)).rows=Ot,Ae}(Ae.matrix,cr,bt,Ut,Rt,Ae.metadata.columns,Dt.addDataViewExpansionState);pr&&((Ae=(0,s.qO)(Ae)).matrix=pr)}return Ae}(Ot,tr,cr,pr,_r,tt.transforms.expansionStates,!!Br),Ot=function(Ae,tt){c.fF.assertValue(Ae,"prototype"),c.fF.assertValue(tt,"quarterPrefix");var ct=Ae.categorical;if(!ct||_.isEmpty(ct.categories))return Ae;var bt=ct.categories,Dt=(0,W.A8)(bt[0],W.it);if(!Dt||_.isEmpty(Dt.values))return Ae;for(var Rt,It,Ut,Ot,$t=[],tr=0,cr=bt.length;tr<cr;tr++)for(var pr=bt[tr],_r=pr.source.type,Ur=pr.values,Lr=void 0,Wr=void 0,Br=0,kr=_.size(Ur);Br<kr;Br++){var Qt=Dt.values[Br];if(null==Ur[Br]&&null!=Qt){Rt||(It=(Rt=(0,s.qO)(Ae)).categorical=(0,s.qO)(ct),Ut=It.categories=(0,s.qO)(bt)),Lr||(Wr=(Lr=Ut[tr]=(0,s.qO)(pr)).values=(0,s.qO)(Ur));var Me=k(Qt.min,_r,tt);Wr[Br]=Me,$t[Br]||(Ot||(Ot=Br),$t[Br]=[]),$t[Br][tr]=(0,w.kQ)(Me,_r)}}var Ct=function(st,Lt){for(var Vt=Ut[st],Yt=function(Si,Bi){var yi=$t[Si];yi&&(c.fF.assert(function(){return yi.length===Vt.identityFields.length},"category values must match category identities"),Vt.identity[Si]=(0,j.TZ)((0,I.R)(Vt.identityFields,yi)))},or=Ot,Tr=_.size(Vt.identity);or<Tr;or++)Yt(or)};for(tr=0,cr=_.size(Ut);tr<cr;tr++)Ct(tr);return Rt||Ae}(Ot,vr.quarterPrefix),Ot=function(Ae){var tt=Ae.table;if(tt&&1===tt.columns.length&&tt.columns[0].isMeasure&&1===tt.rows.length&&1===tt.rows[0].length){var bt=tt.rows[0];return Ae.single={column:tt.columns[0],value:bt[0]},bt.objects&&(Ae.single.objects=bt.objects[0]),Ae}return Ae}(Ot),Rt||(Ot=(0,O.pP)(Ot,Ur,tt.applicableRoleMappings,tt.projectionActiveItems,Xt(tt.drillCapabilities,Br))),We({dataview:Ot,dataViewMappings:cr,dataRoles:tt.dataRoles}),Ot.metadata&&!(null===($t=null==tt?void 0:tt.transforms)||void 0===$t)&&$t.isDataFilterApplied&&(Ot.metadata.isDataFilterApplied=!0),Wr&&Ot.metadata&&(Wr.drillableRoles&&(Ot.metadata.dataRoles||(Ot.metadata.dataRoles={}),Ot.metadata.dataRoles.drillableRoles=Wr.drillableRoles),void 0!==Br&&(Ot.metadata.dataRoles||(Ot.metadata.dataRoles={}),Ot.metadata.dataRoles.isDrillDisabled=Br)),Ot}function lt(Ae,tt){return c.fF.assertValue(Ae,"prototypeColumn"),c.fF.assertValue(tt,"select"),nt(tt,(0,s.ED)(Ae))}function nt(Ae,tt){return Ae.roles&&(tt.roles=Ae.roles),Ae.type&&(tt.type=Ae.type),tt.format=function(Ae,tt){return Ae.format||tt.format}(Ae,tt),Ae.displayName&&(tt.displayName=Ae.displayName),Ae.queryName&&(tt.queryName=Ae.queryName),Ae.expr&&(tt.expr=Ae.expr),Ae.kpi&&Ae.kpi.graphic&&(tt.kpi=Ae.kpi),Ae.sort&&(tt.sort=Ae.sort),null!=Ae.sortOrder&&(tt.sortOrder=Ae.sortOrder),Ae.discourageAggregationAcrossGroups&&(tt.discourageAggregationAcrossGroups=Ae.discourageAggregationAcrossGroups),Ae.parameter&&(tt.parameter=Ae.parameter),Ae.relatedObjects&&(tt.relatedObjects=Ae.relatedObjects),tt}function gt(Ae,tt,ct){c.fF.assertValue(Ae,"columns"),c.fF.assertValue(tt,"selectIdx"),c.fF.assertValue(ct,"select");for(var bt=0,Dt=Ae;bt<Dt.length;bt++){var Rt=Dt[bt];if(Rt.index===tt&&void 0===Rt.groupName)return Rt}var It=lt({displayName:ct.displayName},ct);return Ae.push(It),It}function At(Ae,tt,ct,bt,Dt){c.fF.assertValue(tt,"evalContext"),c.fF.assertValue(ct,"selects"),c.fF.assertValue(bt,"type"),c.fF.assertValue(Dt,"source");var Rt=ct[Dt.index];if(Rt)return Ae.evaluateValue(tt,Rt.expr,bt)}function yr(Ae,tt){var ct=_.find(tt,function(bt){return bt.from===Ae});if(ct)return ct.to}function Mt(Ae,tt,ct){return Ae||(Ae=(0,s.ED)(tt)),ct&&ct(Ae),Ae}function pt(Ae,tt,ct,bt,Dt,Rt,It){var Ut,$t=(0,ce.Me)(Ae);if(_.isEmpty($t.metadataOnce))return{dataViewObjects:void 0};var Ot,tr,cr=new Re.Q(bt,ct);tr=Rt&&It?(0,Vr._x)(Rt,It):(0,wr.X)();for(var pr=Dt?{warnings:[]}:void 0,_r=0,Ur=$t.metadataOnce;_r<Ur.length;_r++){var Lr=Ur[_r],Wr=Lr.selector&&Lr.selector.id,Br=null===(Ut=Lr.selector)||void 0===Ut?void 0:Ut.order;pr&&(pr.selector=Lr.selector);var kr=(0,ce.PJ)(cr,tr,tt,Lr.objects,pr);kr&&(Ot||(Ot={}),(0,he.PM)(Ot,kr,Wr,Br))}return pr&&!_.isEmpty(pr.warnings)?{dataViewObjects:Ot,warnings:pr.warnings}:{dataViewObjects:Ot}}function vt(Ae,tt,ct,bt,Dt){if(!Ae.isSubtotal&&Ae.level!==Dt-1){var Rt=!1;if(void 0!==Ae.level){if(Ae=(0,s.qO)(Ae),bt){var Ut=bt[Ae.level];Ae.isCollapsed=!!(+!(!Ut||!Ut.isCollapsed)^+!(!ct||!ct.isToggled))}else Ae.isCollapsed=_.isEmpty(Ae.children)||1===Ae.children.length&&!!Ae.children[0].isSubtotal;Rt=!0}if(!_.isEmpty(Ae.children))for(var Ot=function(pr){var _r=Ae.children[pr],Ur=_r.identity,Lr=Ur&&(0,b.KX)(Ur.expr),Wr=Lr&&_.find(ct&&ct.children,function(kr){return(0,e.NF)(kr.identityValues,Lr,Ar.fS)}),Br=vt(_r,tt,Wr,bt,Dt);Br&&((Ae=(0,s.qO)(Ae)).children=(0,s.qO)(Ae.children),Ae.children[pr]=Br,Rt=!0)},tr=0;tr<Ae.children.length;tr++)Ot(tr);return Rt?Ae:void 0}c.fF.assert(function(){return _.isEmpty(Ae.children)},"Leaf node with children")}function ir(Ae,tt,ct,bt){if(Ae){var Rt,It,Dt=Ae.identityValues;if(_.isEmpty(Dt)||(Rt=_.map(Dt,bt)),!_.isEmpty(Ae.children)){var Ut=Ae.children;It=new Array(Ut.length);for(var $t=0,Ot=0,tr=Ut;Ot<tr.length;Ot++){var pr=ir(tr[Ot],tt,void 0===ct?0:ct+1,bt);It[$t++]=pr}}return{isExpanded:void 0===ct?void 0:!!tt[ct].isCollapsed==!!Ae.isToggled,values:Rt,children:It}}}function Pt(Ae,tt){if(Ae&&tt&&tt.bind)return Ae[tt.bind.to]}function Nt(Ae,tt){if(Ae&&tt&&tt.for)return Ae[tt.for.in]}function jt(Ae,tt){if(Ae&&tt&&tt.group)return Ae[tt.group.by]}function Xt(Ae,tt){var ct;return tt?[]:null!==(ct=null==Ae?void 0:Ae.roles)&&void 0!==ct?ct:[]}},926720:function(Je,H,t){t.d(H,{Yv:function(){return ne},ni:function(){return X}});var e=t(787941),c=t(299747),s=t(725182),f=t(989516),v=t(324356),b=t(195393),h=t(870629),p=t(32756),n=t(698129),l=t(98196),r=t(396894),o=t(255780),a=t(473667),m=function(){function le(me,be){if(this.dataView=me,e.fF.assertValue(me,"dataView"),me){this.columnLeavesPath=(0,o.sx)(me.columns.root),this.hasColumnGrouping=(0,o.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(me.valueSources,function(ue){return ue.queryName}),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var Be=me.rows.levels;if(e.fF.assertAnyValue(Be,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(Be))for(var Se=0;Se<Be.length;Se++){var Pe=(0,o.vC)(Be[Se]);this.scopedValueSourcesByLevel[Se]=Pe,Pe&&(this.scopedValuesQueryNamesByLevel[Se]=_.map(Pe,function(ue){return ue.queryName}))}}}return le.prototype.setAsRowNode=function(me){e.fF.assertNonEmpty(me,"Invalid context: Empty rowPath"),this.rowPath=me,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},le.prototype.setAsColumnNode=function(me){e.fF.assertNonEmpty(me,"Invalid context: Empty columnPath"),this.columnPath=me,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},le.prototype.setAsIntersection=function(me,be,Be,Se,Pe){void 0===Pe&&(Pe=!1),e.fF.assertValue(me,"Invalid context: Undefined intersection"),e.fF.assertNonEmpty(be,"Intersection context must have a rowPath"),e.fF.assertNonEmpty(Be,"Intersection context must have a columnPath"),e.fF.assert(function(){return null!=Se&&Se>=0},"Intersection context must have a valid nodeValueIndex"),e.fF.assertAnyValue(Pe,"By default, FALSE"),this.nodeValue=me,this.rowPath=be,this.columnPath=Be,this.nodeValueIndex=Se,this.forHighlight=!!Pe,this.isScopedValue=!1},le.prototype.setAsScopedValue=function(me,be,Be,Se){void 0===Se&&(Se=!1),e.fF.assertValue(me,"Invalid context: Undefined intersection"),e.fF.assertNonEmpty(be,"Intersection context must have a rowPath"),e.fF.assertAnyValue(Se,"By default, FALSE"),this.nodeValue=me,this.rowPath=be,this.columnPath=void 0,this.nodeValueIndex=Be,this.forHighlight=!!Se,this.isScopedValue=!0,e.fF.assert(function(){return _.isEqual(_.keys(_.last(be).nodeValues),["0"])},"Scoped Values are expected to be grouped by Rows only")},le.prototype.getScopedEvalExprValue=function(me){var be=me.decomposeGlobalAggregateOfScopedExpr();if(be){var Be=(0,a.T5)(be.source,this.getContextValueSources());return Be?(0,a._L)(Be,be.func):void 0}if(me.hasInnerMostScope())return this.getExprValue(me.expression);me.hasGlobalScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},le.prototype.getExprValue=function(me){return e.fF.assertValue(me,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(me):this.rowPath?this.evaluateRowHeader(me):this.columnPath?this.evaluateColumnHeader(me):void e.fF.assertFail("getExprValue - context is empty")},le.prototype.getExprColumn=function(me){return(0,a.T5)(me,this.getContextValueSources())},le.prototype.findExprValueSourceIndex=function(me){var be=this.getContextValueSources();if(e.fF.assertAnyValue(be,"For ScopedValues, DataView may contain cached Data without Value Sources"),!be)return-1;var Be=(0,a.T5)(me,be);return Be?be.indexOf(Be):-1},le.prototype.evaluateMatrixMeasure=function(me){e.fF.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),e.fF.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var be=this.nodeValue.valueSourceIndex||0,Be=this.findExprValueSourceIndex(me);if(!(Be<0)){var Se;if(Be===be)Se=this.nodeValue;else{var Pe=Be-be+this.nodeValueIndex,ue=_.last(this.rowPath),ve=this.isScopedValue?(0,o.Lr)(ue):ue.values;if(!(Se=null==ve?void 0:ve[Pe]))return}return this.forHighlight?Se.highlight:Se.value}},le.prototype.evaluateRowHeader=function(me){var be=this;e.fF.assert(function(){return!be.columnPath},"matrixEvalContext.evaluateRowHeader - context has columnNode"),e.fF.assert(function(){return!be.nodeValue},"matrixEvalContext.evaluateRowHeader - context has value");var Be=this.findExprValueSourceIndex(me);if(!(Be<0)){var Pe,Se=_.last(this.rowPath);if(Se&&(Pe=this.shouldConsiderScopedValues(Se.level)?(0,o.Lr)(Se):Se.values,e.fF.assertAnyValue(Pe,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Pe))return Pe[Be].value}},le.prototype.evaluateColumnHeader=function(me){var be=this;e.fF.assert(function(){return!be.rowPath},"matrixEvalContext.evaluateColumnHeader - context has rowNode"),e.fF.assert(function(){return!be.nodeValue},"matrixEvalContext.evaluateColumnHeader - context has value"),e.fF.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")},le.prototype.getRoleValues=function(me){var be=this;e.fF.assert(function(){return!be.columnPath||!be.nodeValue},"getRoleValues returns values for row groupings only"),e.fF.assert(function(){return!be.isScopedValue},"getRoleValues is unimplemented for ScopedMeasures");var Be=_.last(this.rowPath);if(Be&&!Be.isSubtotal){for(var Se=this.dataView.valueSources,Pe=[],ue=0,ve=Se.length;ue<ve;ue++)(0,r.nu)(Se[ue],me)&&Pe.push(Be.values[ue].value);if(Pe.length>0)return Pe}},le.prototype.getDataView=function(){return this.dataView},le.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},le.prototype.getScopedValueSourcesQueryNames=function(me){return this.scopedValuesQueryNamesByLevel[me]},le.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(e.fF.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},le.prototype.getContextValueSources=function(){if(this.nodeValue)return e.fF.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var me=this.getRowLevelIndex();return this.shouldConsiderScopedValues(me)?this.scopedValueSourcesByLevel[me]:this.dataView.valueSources}e.fF.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")},le.prototype.shouldConsiderScopedValues=function(me){return this.hasColumnGrouping||me<this.dataView.rows.levels.length-1},le.prototype.getRowLevelIndex=function(){return e.fF.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level},le}(),u=t(731590);function d(le){if(_.isEmpty(le))return[];for(var me=[],be=0,Be=le;be<Be.length;be++){for(var Pe=[],ue=0,ve=Be[be].sources;ue<ve.length;ue++){var xe=ve[ue];xe.identityExprs&&Pe.push.apply(Pe,xe.identityExprs||[])}_.isEmpty(Pe)||me.push(Pe)}return me}function S(le,me){for(var be=[],Be=le.length,Se=0;Se<Be;Se++)if(be.push(le[Se]),me.matchesKeys(be,Be))return!0;return!1}function y(le,me,be,Be,Se,Pe,ue,ve,xe){if(e.fF.assertAnyValue(Be,"dataViewMatrixHierarchy"),e.fF.assertValue(Se,"objectDescriptors"),e.fF.assertValue(ue,"selector"),e.fF.assertValue(Pe,"objectDefns"),Be){var ie=Be.root;if(ie){var Fe=C(le,me,be,[ie],Se,Pe,ue,ve,xe);if(Fe){var at=(0,c.qO)(Be);return at.root=Fe,at}}}}function C(le,me,be,Be,Se,Pe,ue,ve,xe){e.fF.assertValue(me,"evalContext"),e.fF.assertValue(Be,"nodePath"),e.fF.assertValue(Se,"objectDescriptors"),e.fF.assertValue(ue,"selectorInfo"),e.fF.assertValue(Pe,"objectDefns");var ie=_.last(Be);return(0,o.N9)(ie)?"Rows"===le&&(ue.canMatchScopedValue||ue.canMatchIntersection)?function(le,me,be,Be,Se,Pe,ue,ve){e.fF.assertNonEmpty(be,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),e.fF.assert(function(){return Pe.canMatchIntersection||Pe.canMatchScopedValue},"Unexpected Selector");var xe=_.last(be),ie=(0,c.qO)(xe),Fe=Pe.canMatchScopedValue,at=Pe.selector,We=Fe?(0,o.Lr)(xe):xe.values,Oe=Fe?le.getScopedValueSourcesQueryNames(xe.level)||[]:le.getValueSourcesQueryNames(),Ze=Fe?Oe.length:le.columnLeavesPath.length;if(!_.isEmpty(We)){We=(0,c.qO)(We);for(var Ee=!1,K=function(ye){var rt=We[ye];if(e.fF.assertAnyValue(rt,"By-Design, ValueCollection can be sparse"),!rt)return"continue";var De,it=Fe?void 0:le.columnLeavesPath[ye];if(!function(le,me,be,Be,Se,Pe){if(me!==le.metadata)return!1;for(var ue=[],ve=[],xe=0,ie=be;xe<ie.length;xe++)(Fe=ie[xe]).identity&&ue.push(Fe.identity);if(!Se){for(var at=0,We=Be;at<We.length;at++){var Fe;(Fe=We[at]).identity&&ue.push(Fe.identity)}_.last(Be).isSubtotal&&ve.push.apply(ve,T(Be)||[])}return _.last(be).isSubtotal&&ve.push.apply(ve,T(be)||[]),_.isEmpty(ve)&&(ve=void 0),Pe.matches(ue,ve)}(Pe.selector,Oe[rt.valueSourceIndex||0],be,it,Fe,Pe.selectorComparer))return"continue";ve&&(De={warnings:ve,selector:at,targetExpr:(0,f.AV)(at,me)});var Le=function(he){Fe?le.setAsScopedValue(rt,be,ye,he):le.setAsIntersection(rt,be,it,ye,he);var ce=(0,l.PJ)(ue,le,Be,Se,De);if(ce){var Re=(0,c.qO)(rt);he&&!Re.highlightObjects?Re.highlightObjects={}:!he&&!Re.objects&&(Re.objects={}),(0,n.PM)(he?Re.highlightObjects:Re.objects,ce,at.id,at.order),Ee=!0,rt=We[ye]=Re}},Xe=void 0!==rt.highlight;switch(at.highlightMatching){case void 0:case 0:Le(!1);break;case 1:Le(!1),Xe&&Le(!0);break;case 2:Le(!!Xe);break;default:e.fF.assertNever(at.highlightMatching)}},Ne=0;Ne<Ze;Ne++)K(Ne);if(Ee)return Fe?ie.nodeValues={0:We}:ie.values=We,ie}}(me,be,Be,Se,Pe,ue,ve,xe):void 0:function(le,me,be,Be,Se,Pe,ue,ve,xe){var We,ie=ue.selector,Fe=ue.selectorComparer,at=me.getDataView();Be[0]===at.rows.root?We=at.rows:Be[0]===at.columns.root?We=at.columns:e.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var Oe=_.last(Be),Ze=Oe.children;e.fF.assertNonEmpty(Ze,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var Ee=!1,K=!1,Ne=Oe.childIdentityFields,Y=[],ye=Ze[0].level;e.fF.assert(function(){return 0===ye||ye<We.levels.length},"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var rt=at.valueSources.length>1&&We===at.columns,it=rt&&ye===We.levels.length-1;if(!_.isEmpty(We.levels)){var Ue=We.levels[ye],De=Ue.sources;if(it){Y=me.getValueSourcesQueryNames();var Le=_.compact(_.map(Be,function(sr){return sr.identity})),Xe=void 0;Oe.isSubtotal&&Be.length>1&&(Xe=Be[Be.length-2].childIdentityFields),Ee=null!=ue.selector.metadata&&_.some(Y,function(sr){return sr===ie.metadata})&&Fe.matches(Le,Xe),K=!1}else if(!_.isEmpty(Ne)){Y=_.map(De,function(sr){return sr.queryName});var et=_.map(Be,function(sr){return sr.childIdentityFields});Ee=null==ie.metadata&&Fe.matchesKeys(et,We.levels.length-(rt?1:0));var ce=(0,o.vC)(Ue);e.fF.assert(function(){return!ce||We===at.rows},"Scoped measures on Column nodes are not supported"),K=ce&&null!=ie.metadata&&null!=_.find(ce,function(sr){return sr.queryName===ie.metadata}),e.fF.assert(function(){return!Ee||!K},"A Selector can't match nodes and Scoped measures")}}for(var Re=!1,Ge=x(Oe),ut=0,je=Ze.length;ut<je;ut++){var ae=!1,fe=Ze[ut],we=x(fe),ze=Be.concat(we),$e=!1;if(Ee||K){We===at.rows?Ee&&me.setAsRowNode(ze):We===at.columns?me.setAsColumnNode(ze):e.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");for(var ot=[],_t=0,ke=ze;_t<ke.length;_t++){var dt=ke[_t];dt.identity&&ot.push(dt.identity)}var Tt=void 0;_.isEmpty(Y)||(Tt=Y[fe.levelSourceIndex||0]);var Wt=void 0;if(fe.isSubtotal&&(it?Be.length>1&&(Wt=Be[Be.length-2].childIdentityFields):Wt=Ne),(null==ie.metadata||ie.metadata===Tt&&!ue.isWildcard)&&Fe.matches(ot,Wt)){$e=!0;var Zt=void 0;xe&&(Zt={warnings:xe,selector:ie,targetExpr:(0,f.AV)(ie,be)});var er=(0,l.PJ)(ve,me,Se,Pe,Zt);er&&(ae=!0,we.objects||(we.objects={}),(0,n.PM)(we.objects,er,ie.id,ie.order))}}if($e&&!ue.isWildcard||C(le,me,be,ze,Se,Pe,ue,ve,xe)&&(ae=!0),ae&&(Re=!0,Ge.children[ut]=we,!ue.containsWildcard))break}if(Re)return Ge}(le,me,be,Be,Se,Pe,ue,ve,xe)}function T(le){var me=_.findLast(le,function(be){return null!=be.childIdentityFields});return me?me.childIdentityFields:[]}function x(le){if(Object.getPrototypeOf(le)!==Object.prototype)return le;var me=(0,c.qO)(le);return le.children&&(me.children=(0,c.qO)(le.children)),me}function L(le,me){if(!le||!me)return[];for(var be=[],Be=0,Se=me.levels;Be<Se.length;Be++){for(var ue=[],ve=0,xe=Se[Be].sources;ve<xe.length;ve++){var ie=xe[ve];ie.identityExprs&&(0,p.s)([ie],le)&&ue.push.apply(ue,ie.identityExprs||[])}_.isEmpty(ue)||be.push(ue)}return be}var F=t(668268),A=t(620108),O=t(682324),N=t(389521),w=t(647457),B=t(226514);function j(le,me){return new W(le,me)}var W=function(){function le(me,be){this.dataView=me,this.selectTransforms=be,e.fF.assertValue(me,"dataView"),e.fF.assertValue(be,"selectTransforms")}return le.prototype.getExprColumn=function(me){return(0,a.T5)(me,this.dataView.columns)},le.prototype.getScopedEvalExprValue=function(me){var be=me.decomposeGlobalAggregateOfScopedExpr();if(be){var Be=(0,a.T5)(be.source,this.dataView.columns);return Be?(0,a._L)(Be,be.func):void 0}if(me.hasInnerMostScope())return this.getExprValue(me.expression);me.hasGlobalScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},le.prototype.getExprValue=function(me){e.fF.assertValue(me,"expr");var be=this.row;if(null!=be)return(0,w.vR)(me,this.selectTransforms,this.dataView.columns,be)},le.prototype.getRoleValues=function(me){},le.prototype.setCurrentRow=function(me){e.fF.assertValue(me,"row"),this.row=me},le}();function k(le,me,be,Be,Se,Pe,ue,ve,xe,ie,Fe,at,We){if(e.fF.assertValue(le,"evalContext"),e.fF.assertValue(be,"columns"),e.fF.assertValue(Be,"rows"),e.fF.assertAnyValue(Se,"identities"),e.fF.assertAnyValue(Pe,"identityFields"),e.fF.assertValue(ue,"objectDescriptors"),e.fF.assertValue(ve,"selector"),e.fF.assertValue(ie,"objectDefns"),ve.metadata&&!_.isEmpty(ve.data)){var Oe=_.findIndex(be,function(Le){return Le.queryName===ve.metadata});if(!(Oe<0)&&Fe.matchesKeys([Pe],1)){var Ze;if(_.every(be,function(Le){return Le.isMeasure})){e.fF.assert(function(){return _.isEmpty(Se)},"table identity mismatch with identityFields"),e.fF.assert(function(){return _.isEmpty(Pe)},"table identity mismatch with identityFields"),e.fF.assert(function(){return 1===Be.length},"table without identity has incorrect row count");var Ee=ee(le,me,be,Be[0],Pe,ue,ve,ie,Fe,at,We);Ee&&((Ze=(0,c.qO)(Be))[0]=Ee)}else{if(_.some(ve.data,function(Le){return(0,f.qm)(Le)&&2===Le.matchingOption}))return;e.fF.assert(function(){return Be.length===Se.length},"row length mismatch");for(var K=be.length,Ne=0,Y=Se.length;Ne<Y;Ne++)if(xe||Fe.matches([Se[Ne]])){le.setCurrentRow(Be[Ne]);var rt=void 0;We&&(rt={warnings:We,selector:ve,targetExpr:(0,f.AV)(ve,me)});var it=(0,l.PJ)(at,le,ue,ie,rt);if(it){Ze||(Ze=(0,c.qO)(Be));var Ue=Ze[Ne]=(0,c.qO)(Ze[Ne]),De=Ue.objects;De||(Ue.objects=De=new Array(K)),De[Oe]||(De[Oe]={}),(0,n.PM)(De[Oe],it,ve.id,ve.order)}if(!xe)break}}return Ze}}}function Q(le,me){return(0,f._Q)(me)&&(me=(0,p.w)(me,function(be){return function(le,me){if(!le)return[];for(var be=[],Be=0,Se=me.columns;Be<Se.length;Be++){var Pe=Se[Be];Pe.identityExprs&&(0,p.s)([Pe],le)&&be.push((0,B.__spreadArray)([],Pe.identityExprs||[],!0))}return be}(be,le)})),me}function ee(le,me,be,Be,Se,Pe,ue,ve,xe,ie,Fe){e.fF.assertValue(le,"evalContext"),e.fF.assertValue(be,"columns"),e.fF.assertValue(Be,"row"),e.fF.assertValue(Pe,"objectDescriptors"),e.fF.assertValue(ue,"selector"),e.fF.assertValue(ve,"objectDefns");var at=_.isEmpty(Se)?void 0:Se;if(ue.metadata&&xe.matches([],at)){var We=_.findIndex(be,function(Y){return Y.queryName===ue.metadata});if(!(We<0)){var Ze,Ee,Oe=be.length;le.setCurrentRow(Be),Fe&&(Ee={warnings:Fe,selector:ue,targetExpr:(0,f.AV)(ue,me)});var K=(0,l.PJ)(ie,le,Pe,ve,Ee);if(K){var Ne=(Ze=(0,c.qO)(Be)).objects;Ne||(Ze.objects=Ne=new Array(Oe)),Ne[We]||(Ne[We]={}),(0,n.PM)(Ne[We],K)}return Ze}}}var J=t(45696),G=function(le){function me(be,Be){var Se=this;return e.fF.assertValue(be,"inputRole"),e.fF.assertValue(Be,"allocator"),(Se=le.call(this)||this).inputRole=be,Se.allocator=Be,Se}return(0,B.__extends)(me,le),me.prototype.evaluate=function(be){e.fF.assertValue(be,"evalContext");var Be=be.getRoleValues(this.inputRole);e.fF.assert(function(){return _.size(Be)<=1},"Color Rule Evaluation can run with only one value");var Se=_.head(Be);if(void 0!==Se)return this.allocator.color(Se)},me}(t(97181).t);function ne(le,me,be){void 0===le&&(le=[]);var Be=le;return(0,h.PO)(Be),me&&(Be.identityFields=me),be&&(Be.source=be),Be}function X(le,me,be,Be,Se,Pe,ue,ve,xe){if(e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"targetDataViewKinds"),e.fF.assertAnyValue(be,"objectDescriptors"),e.fF.assertAnyValue(Be,"objectDefinitions"),e.fF.assertAnyValue(Se,"selectTransforms"),be){var ie=function(le,me,be,Be){var Se;e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"objectDescriptors"),e.fF.assertAnyValue(be,"prototype");var Pe=(0,A.$v)(me);if(Pe&&le.metadata&&!_.isEmpty(le.metadata.columns)){for(var ve,ue=!1,xe=0,ie=le.metadata.columns;xe<ie.length;xe++){var Fe=ie[xe],at=Fe.queryName;if(Fe.formatSource&&(null===(Se=null==Fe?void 0:Fe.aggregates)||void 0===Se||!Se.single)){ue||(ve=be?(0,c.qO)(be):{},ue=!0);var We={metadata:Fe.queryName,data:[J.Ue()],highlightMatching:1},Oe=(0,v.xA)(at,0);if((0,F.sO)(ve,Pe,We,Oe),null!=Be&&Be.cardReferenceLabels&&Fe.relatedObjects)for(var Ze=0,Ee=Object.keys(Fe.relatedObjects);Ze<Ee.length;Ze++)for(var K=Ee[Ze],Ne=Fe.relatedObjects[K],Y=0,ye=Object.keys(Ne);Y<ye.length;Y++){var rt=ye[Y],it=(0,A.VM)(me,{objectName:K,propertyName:rt});if(null!=it&&it.formatStringProperty)for(var Ue=0,De=Ne[rt];Ue<De.length;Ue++)(0,F.sO)(ve,it.formatStringProperty,De[Ue],Oe)}}}return ve}}(le,be,Be,ue);ie&&(Be=ie);var Fe=(0,l.Me)(Be);(0,l.UQ)(Fe,be,le.metadata.columns,Se);var at=Fe.metadataOnce,We=Fe.data;at&&function(le,me,be,Be,Se,Pe,ue,ve,xe){var ie;e.fF.assertValue(le,"dataView"),e.fF.assertAnyValue(me,"selectTransforms"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector"),e.fF.assertValue(Se,"dataObjects"),e.fF.assertValue(Pe,"targetDataViewKinds");for(var Fe=new O.Q(ve,ue),at=0,We=Be;at<We.length;at++){var Oe=We[at],Ze=Oe.selector&&Oe.selector.id,Ee=null===(ie=Oe.selector)||void 0===ie?void 0:ie.order,K=Oe.objects;e.fF.assertValue(!_.isEmpty(K),"objectDefns");var Ne=(0,w._x)(le,me),Y=void 0;xe&&(Y={warnings:xe,selector:Oe.selector,targetExpr:(0,f.AV)(Oe.selector,me)});var ye=(0,l.PJ)(Fe,Ne,be,K,Y);if(ye){var rt=le.metadata.objects;for(var it in rt||(rt=le.metadata.objects={}),(0,n.PM)(rt,ye,Ze,Ee),ye){var Ue=ye[it],De=be[it];for(var Le in Ue){var Xe=De.properties[Le],et=Xe.rule;if(et){var he=Qe(le,et,it,Ue[Le],Xe.type);_.isEmpty(he)||Se.push.apply(Se,he||[])}}}}}}(le,Se,be,at,We,me,Pe,ue,ve);var Oe=Fe.metadata;_.isEmpty(Oe)||function(le,me,be,Be,Se,Pe,ue){e.fF.assertValue(le,"dataView"),e.fF.assertAnyValue(me,"selectTransforms"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve=new O.Q(Pe,Se),xe=0,ie=Be;xe<ie.length;xe++){var Fe=ie[xe],at=Fe.selector,We=Fe.objects;e.fF.assertValue(at,"selector"),e.fF.assertValue(We,"objectDefns");for(var Oe=le.metadata.columns,Ze=at.metadata,Ee=(0,w._x)(le,me),K=0,Ne=Oe.length;K<Ne;K++){var Y=Oe[K];if(Y.queryName===Ze){var ye=void 0;ue&&(ye={warnings:ue,selector:at,targetExpr:(0,f.AV)(at,me)});var rt=(0,l.PJ)(ve,Ee,be,We,ye);rt&&(Y.objects||(Y.objects={}),(0,n.PM)(Y.objects,rt,at.id,at.order))}}}}(le,Se,be,Oe,Pe,ue,ve),_.isEmpty(We)||function(le,me,be,Be,Se,Pe,ue,ve,xe){e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"targetDataViewKinds"),e.fF.assertAnyValue(be,"selectTransforms"),e.fF.assertValue(Be,"objectDescriptors"),e.fF.assertValue(Se,"dataViewObjectDefnsForSelector"),e.fF.assertValue(Pe,"DataViewTransform.evaluateDataRepetition - visualStyle");var ie=new O.Q(ve,Pe);le.categorical&&(0,s.yE)(me,1)&&(0,h.KH)(le.categorical,be,Be,Se,ue,ie,xe&&{warnings:xe},ve);var at=le.matrix;if(at&&(0,s.yE)(me,2)){var We=function(le,me,be,Be,Se,Pe,ue,ve){e.fF.assertValue(le,"dataViewMatrix"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");var xe=le.valueSources,ie=xe.length,Fe=function(le,me){return new m(le,me)}(le,Pe),at=le.rows.levels;e.fF.assertAnyValue(at,"A Matrix with no Row groupings has empty Row levels");var We=d(at),Oe=d(le.columns.levels),Ze=[];Ze.push.apply(Ze,We||[]),Ze.push.apply(Ze,Oe||[]);for(var Ee=!1,K=(0,c.qO)(le),Ne=function(Ue){e.fF.assertValue(Ue.selector,"selector"),e.fF.assertAnyValue(Ue.rules,"rules");var De=Ue.objects;e.fF.assertValue(De,"objectDefns");var Le=function(le,me){return(0,f._Q)(me)&&(me=(0,p.w)(me,function(be){return function(le,me){if(me){var be=[];return be.push.apply(be,L(le,me.rows)||[]),be.push.apply(be,L(le,me.columns)||[]),be}}(be,le)})),me}(le,Ue.selector),Xe=(0,u.U)(Le,Se),et=(0,f.GT)(Le),he=(0,f.N6)(Le),ce=null==Le.metadata&&S(We,Xe),Re=function(le,me,be,Be){if(e.fF.assertAnyValue(le,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(le)||(e.fF.assertValue(be,"selectorComparer"),e.fF.assertAnyValue(Be,"selectorMetadata"),e.fF.assert(function(){return le.length===me.length},"levels identity keys mismatch"),!Be))return!1;for(var Se=0;Se<le.length;Se++)if(be.matchesKeys(_.take(me,Se+1),Se+1)){var Pe=(0,o.vC)(le[Se]);if(!_.isEmpty(Pe)&&_.find(Pe,function(ue){return ue.queryName===Be}))return!0}return!1}(at,We,Xe,Le.metadata),Ge=(ie>1||ie<=1&&null==Le.metadata)&&S(Oe,Xe),ut=null!=Le.metadata&&ie>0&&_.some(xe,function(we){return we.queryName===Le.metadata})&&Xe.matchesKeys(Ze,Ze.length),je={selector:Le,selectorComparer:Xe,containsWildcard:et,isWildcard:he,canMatchColumnNode:Ge,canMatchRowNode:ce,canMatchIntersection:ut,canMatchScopedValue:Re},ae=void 0,fe=void 0;Ge&&(fe=y("Columns",Fe,me,K.columns,be,De,je,ue,ve)),(ut||Re||ce)&&(ae=y("Rows",Fe,me,K.rows,be,De,je,ue,ve)),(ae||fe)&&(Ee=!0,ae&&(K.rows=ae),fe&&(K.columns=fe))},Y=0,ye=Be;Y<ye.length;Y++)Ne(ye[Y]);if(Ee)return K}(at,be,Be,Se,ue,ve,ie,xe);We&&(le.matrix=We)}var Oe=le.table;if(Oe&&(0,s.yE)(me,8)){var Ze=function(le,me,be,Be,Se,Pe,ue){e.fF.assertValue(le,"dataViewTable"),e.fF.assertAnyValue(me,"selectTransforms"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve=!1,xe=0,ie=Be;xe<ie.length;xe++){var Fe=ie[xe],at=Fe.selector,We=Fe.objects;e.fF.assertValue(at,"selector"),e.fF.assertValue(We,"objectDefns");var Oe=(0,f.GT)(at);at=Q(le,at);var Ze=(0,u.U)(at,Se),Ee=j(le,me),K=void 0;_.isEmpty(le.rows)||(K=k(Ee,me,le.columns,le.rows,le.identity,le.identityFields,be,at,Oe,We,Ze,Pe,ue));var Ne=void 0;le.totals&&(Ne=ee(Ee,me,le.columns,le.totals,le.identityFields,be,at,We,Ze,Pe,ue)),(K||Ne)&&(ve=!0,le=(0,c.qO)(le),K&&(le.rows=K),Ne&&(le.totals=Ne))}if(ve)return le}(Oe,be,Be,Se,ue,ie,xe);Ze&&(le.table=Ze)}var Ee=le.single;if(e.fF.assert(function(){return!Ee||!!Ee&&!!Oe},"DataViewTable should be always present with DataViewSingle"),Ee&&Oe&&(0,s.yE)(me,4)){var K=function(le,me,be,Be,Se,Pe,ue){e.fF.assertValue(le,"dataView"),e.fF.assertAnyValue(me,"selectTransforms"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve,xe=(0,w._x)(le,me),ie=0,Fe=Be;ie<Fe.length;ie++){var at=Fe[ie],We=at.selector,Oe=at.objects,Ze=(0,u.U)(We,Se);if(e.fF.assertValue(We,"selector"),e.fF.assertValue(Oe,"objectDefns"),We.metadata===le.single.column.queryName&&Ze.matches([])){var Ee=void 0;ue&&(Ee={warnings:ue,selector:We,targetExpr:(0,f.AV)(We,me)});var K=(0,l.PJ)(Pe,xe,be,Oe,Ee);K&&(ve||(ve=(0,c.qO)(le.single)),ve.objects||(ve.objects={}),(0,n.PM)(ve.objects,K,We.id,We.order))}}return ve}(le,be,Be,Se,ue,ie,xe);K&&(le.single=K)}le.metadata.objectsRules=ie.getObjectsRules()}(le,me,Se,be,We,Pe,xe,ue,ve)}}function Qe(le,me,be,Be,Se){e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"ruleDesc"),e.fF.assertValue(Be,"propertyValue"),e.fF.assertValue(Se,"ruleType");var Pe=me.output;if(Pe){var ue=function(le){return e.fF.assertValue(le,"selectorRoles"),[{data:[(0,N.Yp)(le)]}]}(Pe.selector);if(Se.fillRule)return function(le,me,be,Be,Se){e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"ruleDesc"),e.fF.assertValue(be,"selectorsToCreate"),e.fF.assertValue(Se,"propertyValue");var Pe=function(le,me,be){e.fF.assertValue(le,"dataView"),e.fF.assertValue(me,"identifier"),e.fF.assertValue(1,"identifierKind");var Be=le.metadata.columns;return _.find(Be,function(Se){return Se.roles&&Se.roles[me]})}(le,me.inputRole);if(Pe){var ue=(0,b.V)().fromFillRule(Se,Pe);if(ue){var ve=new G(me.inputRole,ue),xe={};xe[me.output.property]={solid:{color:ve}};for(var ie=[],Fe=0,at=be.length;Fe<at;Fe++)ie.push({selector:be[Fe],rules:[ve],objects:[{name:Be,properties:xe}]});return ie}}}(le,me,ue,be,Be)}}},45696:function(Je,H,t){t.d(H,{Ue:function(){return b},fS:function(){return f},wB:function(){return v}});var e=t(787941),c=t(166851),s=t(143509);function f(p,n){return!p&&!n||!(!p||!n)&&(e.fF.assertValue(p,"x"),e.fF.assertValue(n,"y"),p===n||p.matchingOption===n.matchingOption)}function v(p,n){switch(e.fF.assertValue(p,"DataViewWildcard.matches - wildcard"),p.matchingOption){case 0:return!0;case 1:return!n;case 2:return n;default:e.fF.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function b(p){return null==p&&(p=0),new h(p)}var h=function(){function p(n){var l=this;this.kind=4,e.fF.assertValue(n,"matchingOption"),this._matchingOption=n,this._key=new c.o(function(){return JSON.stringify(l._matchingOption)})}return Object.defineProperty(p.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),p}();(0,s.y)(h.prototype)},351025:function(Je,H,t){function e(){var c=function(f){};return{getExprValue:c,getExprColumn:c,getScopedEvalExprValue:c,getRoleValues:c}}t.d(H,{X:function(){return e}})},97181:function(Je,H,t){t.d(H,{t:function(){return c}});var e=t(787941),c=function(){function s(){}return s.prototype.evaluate=function(f){e.fF.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")},s}()},647457:function(Je,H,t){t.d(H,{_x:function(){return v},vR:function(){return h}});var e=t(456535),c=t(787941),s=t(771201),f=t(473667);function v(r,o){return new b(r,o)}var b=function(){function r(o,a){this.dataView=o,this.selectTransforms=a,c.fF.assertValue(o,"dataView"),c.fF.assertAnyValue(a,"selectTransforms")}return r.prototype.getExprColumn=function(o){var a=(0,s.ij)(o,this.selectTransforms);if(!(a<0))return _.find(this.dataView.metadata.columns,function(i){return i.index===a})},r.prototype.getScopedEvalExprValue=function(o){var a=o.decomposeGlobalAggregateOfScopedExpr();if(a){var i=(0,f.T5)(a.source,this.dataView.metadata.columns);return i?(0,f._L)(i,a.func):void 0}if(o.hasGlobalScope())return this.getExprValue(o.expression);o.hasInnerMostScope()?c.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):c.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},r.prototype.getExprValue=function(o){var a=this.dataView,i=this.selectTransforms;if(a&&i){if((0,e.iV)(o)||(0,e.T5)(o)||(0,e.kb)(o)||(0,e.cY)(o)){var m=function(r,o,a){c.fF.assertValue(r,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertValue(a,"columns");var i,m=-1;do{if((m=(0,s.ij)(r,o,m+1))<0)break;if(i=_.find(a,function(V){return V.index===m&&V.aggregates&&void 0!==V.aggregates.single}))return i.aggregates.single}while(m<o.length);if((0,e.iV)(r)||(0,e.T5)(r)){var u=r.arg;if((0,e.g5)(u)&&u.hasInnerMostScope()?m=(0,s.ij)(u.expression,o):((0,e.NH)(u)||(0,e.kb)(u)||(0,e.iV)(u)||(0,e.jk)(u))&&(m=(0,s.ij)(u,o)),!(m<0)&&(i=_.find(a,function(V){return V.index===m&&V.aggregates})))return function(r,o){var a,i;if(c.fF.assertValue(r,"aggregates"),c.fF.assertValue(o,"expr"),(0,e.T5)(o)){var m=_.find(r.percentiles,function(u){return u.k===o.k&&o.exclusive===!!u.exclusive});if(m)return m.value}else if((0,e.iV)(o))switch(c.fF.assertValue(o.func,"func"),o.func){case 3:return null!==(a=r.min)&&void 0!==a?a:r.minLocal;case 4:return null!==(i=r.max)&&void 0!==i?i:r.maxLocal;case 6:return r.median;case 1:return r.average}c.fF.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(i.aggregates,r)}}(o,i,a.metadata.columns);if(void 0!==m)return m}if(a.table)return _.isEmpty(a.table.columns)||_.isEmpty(a.table.rows)||!_.isEmpty(a.table.identityFields)?void 0:(c.fF.assert(function(){return 1===a.table.rows.length},"A data view with no identity fields should have a single row"),h(o,i,a.table.columns,a.table.rows[0]));if(a.categorical&&!_.isEmpty(a.metadata.columns)&&!_.isEmpty(a.categorical.values))return function(r,o,a){c.fF.assertValue(r,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertValue(a,"categorical");var i=a.values;if(c.fF.assertValue(i,"categorical.values"),1===i.grouped().length&&!a.categories){var m=(0,s.ij)(r,o);if(!(m<0)){var u=_.findIndex(i,function(d){return d.source.index===m});if(-1!==u){var V=i[u].values;if(V&&1===V.length)return V[0]}}}}(o,i,a.categorical);a.matrix||a.tree||c.fF.assert(function(){return _.isEqual(Object.getOwnPropertyNames(a),["metadata"])},"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}},r.prototype.getRoleValues=function(o){},r}();function h(r,o,a,i){if(c.fF.assertValue(r,"expr"),c.fF.assertValue(o,"selectTransforms"),c.fF.assertNonEmpty(a,"tableColumns"),c.fF.assertValue(i,"tableRow"),1===i.length&&null===i[0])return null;var m=(0,s.ij)(r,o);if(!(m<0)){var u=_.findIndex(a,function(S){return S.index===m});if(!(u<0)){if((0,e.NH)(r)&&0===r.attributeKind){var V=a[u];if((u=a.indexOf(V.formatSource&&V.formatSource.formatString))<0)return}return c.fF.assert(function(){return u in i},"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),i[u]}}}},454262:function(Je,H,t){t.d(H,{$T:function(){return i},Hc:function(){return a},QB:function(){return m},Uo:function(){return y},oy:function(){return o}});var e=t(787941),c=t(764365),s=t(261374),f=t(690016),v=t(44615),b=t(597098),h=t(230762),p=t(698129),n=t(129035),l=t(668268);function o(P){if(e.fF.assertAnyValue(P,"dataViewMappings"),P&&1===P.length&&P[0])return P[0].scriptResult}function a(P){e.fF.assertAnyValue(P,"dataViewMappings");var T=o(P);if(T)return function(P,T){if(P&&P.script&&P.script.source&&P.script.provider&&T)return S((0,p.NA)(T,P.script.source),(0,p.NA)(T,P.script.provider),P.script.scriptOutputType)}(T,P[0].metadata&&P[0].metadata.objects)}function i(P,T){if(e.fF.assertAnyValue(P,"dataViewMappings"),e.fF.assertAnyValue(T,"objects"),T){var x=o(P);if(x&&x.script&&x.script.source&&x.script.provider){var R=(0,l.NA)(T,x.script.source,null),D=(0,l.NA)(T,x.script.provider,null);return S(R?R.value:null,D?D.value:null,x.script.scriptOutputType)}}}function m(P){return e.fF.assertAnyValue(P,"dataViewMappings"),function(P){return d(P&&P.script)}(o(P))}function d(P){if(e.fF.assertAnyValue(P,"scriptMapping"),P)return S(P.scriptSourceDefault,P.scriptProviderDefault,P.scriptOutputType)}function S(P,T,x){if(!(0,s.g)(P)&&!(0,s.g)(T))return{source:P,provider:T,outputType:x||"png"}}function y(P,T,x,R,D){e.fF.assertAnyValue(P,"projections"),e.fF.assertAnyValue(T,"selects"),e.fF.assertAnyValue(x,"schema"),e.fF.assertAnyValue(R,"scriptDefinition");var L=!!d(R),F={VariableName:"dataset",Columns:[],Parameters:[]};if(P&&T&&!_.isEmpty(T)){var A=[],O=[];for(var N in P)for(var w=0,I=P[N].all();w<I.length;w++){var j=T.withName(I[w].queryRef);if(j){var W={QueryName:j.name},U=(0,v.Vn)((0,b.Q)(j.expr),new M(x));L&&(W.Role=N,U=N+"."+U),O.push(W),A.push(U)}}A=(0,f.hM)(A);for(var k=0;k<A.length;k++)(W=O[k]).Name=A[k];F.Columns=O}return F.Parameters=function(P,T){var x=[];if(T)for(var R in T){var D=(0,p.RK)(T,R);if(D)for(var L in D){var F=E(P,D,R,L);F&&x.push({ObjectName:R,PropertyName:L,Value:F})}}return x}(R,D),F}function E(P,T,x,R){if(!(P&&P.source&&P.source.objectName===x&&P.source.propertyName===R||P&&P.provider&&P.provider.objectName===x&&P.provider.propertyName===R)){var D=(0,n.y)(T,R);if(D)return(0,h.fL)(D);var L=(0,n.N)(T,R);if(null!=L)switch(typeof L){case"string":return(0,h.fL)(L);case"number":var F=L;return(0,c.U)(F)?(0,h._L)(F):(0,h.tx)(F);case"boolean":return(0,h.O7)(L)}}}var M=function(){function P(T){this.federatedSchema=T}return P.prototype.visitNativeVisualCalc=function(T){},P.prototype.visitColumn=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitColumnAggr=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitGroupingColumn=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitGroupingColumnAggr=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitColumnHierarchyVariation=function(T){return P.getVariationHierarchyName(T,this.federatedSchema)},P.prototype.visitColumnHierarchyLevelVariation=function(T){return P.getVariationLevelName(T,this.federatedSchema)},P.prototype.visitColumnSubquery=function(T){},P.prototype.visitColumnAggrSubquery=function(T){},P.prototype.visitColumnTransformRef=function(T){},P.prototype.visitEntity=function(T){return T.entity},P.prototype.visitEntityAggr=function(T){return T.entity},P.prototype.visitHierarchy=function(T){return P.getNameForHierarchy(T,this.federatedSchema)},P.prototype.visitHierarchyLevel=function(T){return P.getNameForHierarchyLevel(T,this.federatedSchema)},P.prototype.visitHierarchyLevelAggr=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitMeasure=function(T){return P.getNameForProperty(T,this.federatedSchema)},P.prototype.visitSelectRef=function(T){return(0,v.Vn)(T,this)},P.prototype.visitPercentile=function(T){return(0,v.Vn)(T.arg,this)},P.prototype.visitPercentOfGrandTotal=function(T){return(0,v.Vn)(T.baseExpr,this)},P.prototype.visitPercentOfRoleTotal=function(T){return(0,v.Vn)(T.baseExpr,this)},P.prototype.visitTransformOutputRoleRef=function(T){return(0,v.Vn)(T,this)},P.prototype.visitFilteredEval=function(T){return(0,v.Vn)(T,this)},P.prototype.visitArithmetic=function(T){},P.prototype.visitConstant=function(T){e.fF.assertFail("ScriptResultUtil - Not expecting to be called")},P.prototype.visitSparklineData=function(T){},P.getNameForHierarchy=function(T,x){e.fF.assertValue(T,"pattern");var D=x.schema(T.schema).findHierarchy(T.entity,T.name);if(D)return D.name},P.getNameForHierarchyLevel=function(T,x){e.fF.assertValue(T,"pattern");var D=x.schema(T.schema).findHierarchyLevel(T.entity,T.name,T.level);if(D)return D.column.name},P.getNameForProperty=function(T,x){e.fF.assertValue(T,"pattern");var D=x.schema(T.schema).findProperty(T.entity,T.name);if(D)return D.name},P.getVariationHierarchyName=function(T,x){e.fF.assertValue(T,"pattern"),e.fF.assertValue(x,"federatedSchema");var R=T.source,D=x.schema(R.schema).findProperty(R.entity,R.name);if(D)for(var F=0,A=D.column.variations;F<A.length;F++){var O=A[F];if(O.name===T.variationName&&T.hierarchy.name===O.defaultHierarchy.name)return T.hierarchy.name}},P.getVariationLevelName=function(T,x){e.fF.assertValue(T,"pattern");var R=T.source,D=x.schema(R.schema).findProperty(R.entity,R.name);if(D)for(var F=0,A=D.column.variations;F<A.length;F++){var O=A[F];if(O.name===T.variationName)for(var N=0,w=O.defaultHierarchy.levels;N<w.length;N++){var I=w[N];if(I.name===T.level.level)return I.column.name}}},P}()},731590:function(Je,H,t){t.d(H,{U:function(){return l}});var e=t(474147),c=t(883863),s=t(787941),f=t(989516),v=t(217926),b=t(19632),h=t(755397),p=t(799863),n=t(45696);function l(a,i){return i?new r(a):new o(a)}var r=function(){function a(i){var m;if(s.fF.assertValue(i,"selector"),s.fF.assertValue(i.data,"selector.data"),this.dataParts=i.data,(0,f.N6)(i))this.isWildcard=!0;else{var u=_.last(i.data);this.totalIdentity=(0,f.tQ)(u)?u:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,i.data.length-1)),this.selectorDataExprs=a.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,function(V){return V.key}),this.totalIdentity&&(m=this.keys).push.apply(m,this.totalIdentity.exprs||[])}}return a.prototype.matches=function(i,m){if(this.isWildcard)return(0,n.wB)(this.dataParts[0],!_.isEmpty(m));if(i.length!==this.dataParts.length||_.isEmpty(m)&&this.totalIdentity||!_.isEmpty(m)&&!this.totalIdentity||this.totalIdentity&&!(0,c.s_)(this.totalIdentity.exprs,m,e.fS))return!1;if(_.isEmpty(i)&&_.isEmpty(this.dataParts))return!0;var u=a.flattenDataParts(i);return!_.isEmpty(u)&&(0,c.s_)(this.selectorDataExprs,u,a.isDataExprsMatch)},a.prototype.matchesKeys=function(i,m){if(this.isWildcard)return i.length===m;var u=_.flatten(i);return 0!==this.keys.length&&0!==u.length&&this.keys.length===u.length&&(0,c.s_)(u,this.keys,e.fS)},a.flattenDataParts=function(i){for(var m=[],u=0,V=i;u<V.length;u++){var d=V[u];if((0,f.yN)(d)){var S=new v.aL;d.expr.accept(S);for(var g=0;g<S.pairs.length;g++)m.push({value:S.values[g],key:S.keys[g]})}else if((0,f.QV)(d))for(var y=0,C=d.exprs;y<C.length;y++)m.push({key:C[y]});else{if(!(0,f.tQ)(d))return s.fF.assertFail("unexpected Selector data item kind: "+d.kind.toString()),[];s.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}}return m},a.isDataExprsMatch=function(i,m){return s.fF.assert(function(){return null!=i.value||null!=m.value},"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),i.value&&m.value?(0,e.fS)(i.key,m.key)&&(0,e.fS)(i.value,m.value):(0,e.fS)(i.key,m.key)},a}(),o=function(){function a(i){var m;if(this.selector=i,s.fF.assertValue(this.selector,"selector"),s.fF.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,f.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var u=0,V=this.dataParts;u<V.length;u++){var S=a.getDataRepetitionIdentityKeys(V[u]);if(!S){this.keys=[];break}(m=this.keys).push.apply(m,S)}}return a.prototype.matches=function(i,m){s.fF.assertValue(i,"identities");var u=this.dataParts,V=u.length,d=i.length,S=!_.isEmpty(m);if(S&&d++,this.isWildcard)return(0,n.wB)(u[0],S);if(V!==d)return!1;for(var g=0,y=i.length;g<y;g++){var E=i[g];if((0,f.j9)(C=u[g]))return s.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,f.yN)(C)){if(!(0,b.fS)(C,E))return!1}else{if(!(0,f.QV)(C))return(0,f.tQ)(C)?(_.isEmpty(m)||s.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(s.fF.assertFail("unexpected Selector data item kind: "+C.kind.toString()),!1);if(!(0,p.wB)(C,E))return!1}}if(!_.isEmpty(m)){var C=_.last(u);return(0,f.tQ)(C)&&(0,h.wB)(C,m)}return!0},a.prototype.matchesKeys=function(i,m){if(s.fF.assertValue(i,"keysList"),s.fF.assert(function(){return i.length<=m},"expected keysList to be within the hierarchy levels"),this.isWildcard)return i.length===m;var u=_.flatten(i),V=this.keys.length;if(0===V||0===u.length||V!==u.length)return!1;for(var d=0;d<V;d++)if(!(0,e.fS)(u[d],this.keys[d]))return!1;return!0},a.getDataRepetitionIdentityKeys=function(i){return(0,f.yN)(i)?(0,v.RR)(i.expr):(0,f.QV)(i)||(0,f.tQ)(i)?i.exprs:void((0,f.j9)(i)?s.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,f.qm)(i)?s.fF.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):s.fF.assertNever(i))},a}()},292042:function(Je,H,t){t.d(H,{Ed:function(){return v},OC:function(){return s},gp:function(){return f}});var e=t(787941),c=t(299747);function s(b){return e.fF.assertValue(b,"categories"),!_.isEmpty(b)&&b[0].objects}function f(b,h){if(e.fF.assertValue(b,"prototypeCategories"),e.fF.assertValue(h,"objects"),!_.isEmpty(b)){var p=(0,c.qO)(b);return(p[0]=(0,c.qO)(p[0])).objects=h,p}}function v(b){e.fF.assertValue(b,"dataViewCategorical");var h=_.isEmpty(b.categories)?_.isEmpty(b.values)?0:b.values[0].values.length:b.categories[0].values.length;return e.fF.assert(function(){return _.every(b.categories,function(p){return p.values.length===h})},"Invariant: every category column is expected to have the same number of values."),e.fF.assert(function(){return _.every(b.categories,function(p){return p.identity.length===h})},"Invariant: every category column is expected to have the same number of identities as there are values."),e.fF.assert(function(){return _.every(b.values,function(p){return p.values.length===h})},"Invariant: every value column is expected to have the same number of values."),h}},919910:function(Je,H,t){t.d(H,{Oj:function(){return f},VR:function(){return p},Vh:function(){return s},kK:function(){return h},qt:function(){return b}});var e=t(474505),c=t(633888);function s(n){if(_.isEmpty(n))return!1;for(var l=0,r=n;l<r.length;l++){var o=r[l];if(o.matrix&&o.matrix.rows&&void 0!==o.matrix.rows.values)return!0}return!1}function f(n){if(_.isEmpty(n))return!1;var l=n.filter(function(T){return void 0!==T.categorical&&void 0!==T.categorical.categories});if(_.isEmpty(l))return!1;for(var r=0;r<l.length;r++){var o=l[r],a=o.conditions;if(!_.isEmpty(a))for(var i=r+1;i<l.length;i++){var m=l[i];if(_.isEqual(o.categorical.categories,m.categorical.categories)&&!_.isEqual(o.categorical.values,m.categorical.values)){var u=m.conditions;if(_.isEmpty(u))return!0;var V=v(a),d=v(u),S=Object.keys(V),g=Object.keys(d);if(S.length!==g.length||!_.isEqual(S,g))return!0;for(var y=0,C=S;y<C.length;y++){var E=C[y];if(!_.isEqual(V[E],d[E]))return!0}}}}return!1}function v(n){for(var l={},r=0,o=n;r<o.length;r++){var a=o[r];for(var i in a)l[i]||(l[i]=a[i])}return l}function b(n,l){if(_.isEmpty(n))return!1;var r=n.map(function(R){return R.matrix}).filter(function(R){return void 0!==R});if(_.isEmpty(r)||_.isEmpty(l))return!1;for(var o=new Set,a=new Set,i=0,m=r;i<m.length;i++){for(var u=m[i],V=u.rows?e.nG.fromMatrixRows(u.rows):[],d=u.columns?e.nG.fromMatrixColumns(u.columns):[],S=0,g=V;S<g.length;S++)o.add(g[S]);for(var C=0,E=d;C<E.length;C++)a.add(E[C])}for(var P=0,T=l;P<T.length;P++){var x=T[P];if(o.has(x)&&a.has(x))return!0}return!1}function h(n){if(_.isEmpty(n))return!1;var l=n.filter(function(a){return!(0,c.D4)(a)}),r=l.some(function(a){return void 0!==a.categorical}),o=l.some(function(a){return void 0!==a.matrix});return r&&o}function p(n,l){if(_.isEmpty(n))return!1;var r=n.map(function(D){return D.categorical}).filter(function(D){return void 0!==D});if(_.isEmpty(r)||_.isEmpty(l))return!1;for(var o=new Set,a=new Set,i=0,m=r;i<m.length;i++){for(var u=m[i],V=u.categories?e.nG.fromCategoricalCategories(u.categories):[],d=u.values,S=d&&d.group?e.nG.FromCategoricalValues(d):[],g=0,y=V;g<y.length;g++)o.add(y[g]);for(var E=0,M=S;E<M.length;E++)a.add(M[E])}for(var T=0,x=l;T<x.length;T++){var R=x[T];if(o.has(R)&&a.has(R))return!0}return!1}},255780:function(Je,H,t){t.d(H,{CF:function(){return r},GJ:function(){return o},Lr:function(){return y},Lt:function(){return u},N9:function(){return f},Ro:function(){return V},X2:function(){return n},be:function(){return i},no:function(){return l},pr:function(){return m},sx:function(){return S},vC:function(){return g},w1:function(){return v},y9:function(){return h}});var e=t(883863),c=t(787941),s=t(299747);function f(C){return c.fF.assertValue(C,"node"),_.isEmpty(C.children)}function v(C,E){if(c.fF.assertAnyValue(C,"rootNodes"),c.fF.assertValue(E,"callback"),C)if(function(C){return(0,e.rd)(C)}(C))for(var M=0,P=C;M<P.length;M++){var T=P[M];T&&b(T,[],E)}else b(C,[],E)}function b(C,E,M){c.fF.assertValue(C,"matrixNode"),c.fF.assertValue(E,"traversalPath"),c.fF.assertValue(M,"callback"),c.fF.assert(function(){return!_.includes(E,C)},"pre-condition: traversalPath must not already contain matrixNode"),E.push(C);var P=M(C,E),T=null!=P&&0!==P;if(1===P){var x=C.children;if(!_.isEmpty(x))for(var R=0,D=x;R<D.length;R++){var L=D[R];if(L&&!(T=b(L,E,M)))break}}return c.fF.assert(function(){return _.last(E)===C},"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),E.pop(),T}function h(C,E){c.fF.assertAnyValue(C,"rootNodes"),c.fF.assertValue(E,"callback");var M=0;v(C,function(P,T){return f(P)&&(E(P,M,T),M++),1})}function n(C,E,M){if(c.fF.assertValue(C,"node"),c.fF.assert(function(){return E>=0},"targetLevel >= 0"),c.fF.assertValue(M,"callback"),C.level!==E){var P=C.children;if(P&&P.length>0)for(var T=0,x=P.length;T<x;T++)n(P[T],E,M)}else M(C)}function l(C,E,M){c.fF.assertValue(C,"node"),c.fF.assert(function(){return E>=0},"deepestLevelToInherit >= 0"),c.fF.assertValue(M,"useInheritSingle");var P=C,T=void 0===C.level;if(T||C.level<=E){var R=M?s.qO:s.ED,D=R(C);if((T||C.level<E)&&!_.isEmpty(C.children)){D.children=R(C.children);for(var F=0,A=D.children.length;F<A;F++)D.children[F]=l(D.children[F],E,M)}P=D}return P}function r(C){c.fF.assertAnyValue(C,"matrixOrHierarchy");var E=!1;if(C)if(function(C){return"rows"in C&&"columns"in C&&"valueSources"in C}(C))E=r(C.rows)||r(C.columns);else{var M=C.levels;if(!_.isEmpty(M))for(var P=0,T=M;P<T.length;P++){var x=T[P];if(x.sources&&x.sources.length>=2&&(c.fF.assert(function(){return _.every(x.sources,function(D){return D.isMeasure===x.sources[0].isMeasure})},"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!x.sources[0].isMeasure)){E=!0;break}}}return E}function o(C){c.fF.assertValue(C,"matrix");var E=C.rows&&C.rows.levels,M=C.columns&&C.columns.levels,P=C.valueSources;return{primaryAxis:!_.isEmpty(E)&&a(E),secondaryAxis:!_.isEmpty(M)&&a(M),intersection:!_.isEmpty(P)&&_.map(P,function(x){return x.index})}}function a(C){return c.fF.assertValue(C,"levels"),_.map(C,function(E){return{selectIndices:_.map(E.sources,function(T){return T.index})}})}function i(C){return C&&C.rows&&!_.isEmpty(C.rows.levels)?C.rows.levels.length:0}function m(C){return!C||_.isEmpty(C.levels)?0:C.levels.length-(u(C.levels)?1:0)}function u(C){return c.fF.assertAnyValue(C,"columnHierarchyLevels"),!_.isEmpty(C)&&V(_.last(C))}function V(C){return c.fF.assertAnyValue(C,"columnHierarchyLevel"),C&&_.every(C.sources,function(E){return E.isMeasure})}function S(C){if(c.fF.assertAnyValue(null==C?void 0:C.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!C||_.isEmpty(C.children))return[];var E=[];return h(C,function(M,P,T){E.push(_.clone(T))}),E}function g(C){c.fF.assertValue(C,"undefined Level");var E=C.valueSources;if(E)return c.fF.assert(function(){return _.isEqual(_.keys(E),["0"])},"There is no support for Measures with a Scope containing any column levels"),c.fF.assertValue(E[0],"Empty Scoped measures metadata"),E[0]}function y(C){if(c.fF.assertValue(C,"getNodeScopedValues called for an Undefined node"),c.fF.assertAnyValue(C.nodeValues,"Synchronized nodes have undefined nodeValues"),C.nodeValues)return c.fF.assert(function(){return _.isEqual(_.keys(C.nodeValues),["0"])},"There is no support for Measures with a Scope containing any column levels"),C.nodeValues[0]}},473667:function(Je,H,t){t.d(H,{T5:function(){return l},_L:function(){return r},dM:function(){return p},iN:function(){return b},jh:function(){return h}});var e=t(456535),c=t(474147),s=t(787941);function v(o,a){s.fF.assertValue(o,"metadataColumn"),s.fF.assertValue(a,"targetRoles");var i=o.roles;return!!i&&_.some(a,function(m){return i[m]})}function b(o,a){if(s.fF.assertAnyValue(o,"roles"),s.fF.assertValue(a,"targetRole"),!o||!o[a])return!1;if(_.size(o)>=2)for(var i in o)if(i!==a&&o[i])return!1;return!0}function h(o,a,i){s.fF.assertAnyValue(o,"columnSources"),s.fF.assertValue(a,"projectionOrdering"),s.fF.assertAnyValue(i,"filterByRoles");var m=[];if(!_.isEmpty(o))for(var u=function(o){s.fF.assertValue(o,"selectIndicesByProjectionOrder");for(var a={},i=0,m=o.length;i<m;i++){var u=o[i],V=a[u];V||(V=a[u]=[]),V.push(i)}return a}(a),V=0,d=o.length;V<d;V++){var S=o[V];if(!i||v(S,i)){var g=u[S.index];if(_.isEmpty(g))m.push({metadataColumn:S,sourceIndex:V,projectionOrderIndex:void 0});else for(var y=0,C=g;y<C.length;y++)m.push({metadataColumn:S,sourceIndex:V,projectionOrderIndex:C[y]})}}return m}function p(o){var a=_.find(o,function(V){return V.expr&&(0,e.ez)(V.expr)});if(a){var m=a.expr.arg;if((0,e.y3)(m)){var u=m.arg;if((0,e.jc)(u))return u.property}}}function l(o,a,i){if(s.fF.assertValue(o,"expr"),s.fF.assertNonEmpty(a,"columns"),!(0,e.NH)(o))return _.find(a,function(u){return(0,c.fS)(u.expr,o)&&u.groupName===i});var m=_.find(a,function(u){return u.queryName===o.expressionName&&u.groupName===i});return m?0!==o.attributeKind?m:m.formatSource&&m.formatSource.formatString?m.formatSource.formatString:void 0:void 0}function r(o,a){s.fF.assertValue(o,"column"),s.fF.assertValue(a,"aggrFunc");var i=o.aggregates;if(i)switch(a){case 3:return i.min;case 4:return i.max;case 2:return i.count;case 1:return i.average;case 6:return i.median;default:return}}},907453:function(Je,H,t){t.d(H,{C0:function(){return s},F:function(){return f},Mw:function(){return c},jR:function(){return b},rX:function(){return v}});var e=t(787941);function c(h,p){return!h&&!p||!(!h||!p||h.displayName!==p.displayName||h.queryName!==p.queryName||h.isMeasure!==p.isMeasure||h.type!==p.type||h.sort!==p.sort)}function s(h,p){if(!h&&!p)return!0;if(!h||!p)return!1;var l=p.columns.length;if(h.columns.length!==l)return!1;for(var r=0;r<l;r++)if(!c(h.columns[r],p.columns[r]))return!1;return!0}function f(h){return h&&h.values&&h.values[0]&&!!h.values[0].values}function v(h){return h&&void 0!==h.length}function b(h,p){return e.fF.assert(function(){return 0!==p}),!!h&&!!(1&p&&h.categorical||2&p&&h.matrix||4&p&&h.single||8&p&&h.table||16&p&&h.tree)}},188238:function(Je,H,t){t.d(H,{SA:function(){return f},VZ:function(){return b},XP:function(){return s},r:function(){return v}});var e=t(787941),c=t(983172);function s(n,l,r){e.fF.assertValue(n,"query"),e.fF.assertValue(l,"projectionsByRole"),e.fF.assertValue(r,"roleName");var o=l[r];if(o){var a=o.all();return _.filter(_.map(a,function(i){return f(n,i)}),function(i){return i})}}function f(n,l){var r=h(n,l);if(r)return r}function v(n,l,r){var o,a=l[r];if(a){var i=a.getFieldParameters();if(_.isEmpty(i)){var m=s(n,l,r);return _.map(m,function(R){var D,L=null===(D=_.find(a.all(),function(F){return F.queryRef===R.name}))||void 0===D?void 0:D.hidden;return c.m.transformToVisualQueryField(R.expr,R.name,!1,R.nativeReferenceName,L)})}for(var u=[],V=a.all()||[],d=0,S=0,g=0,y=i=_.sortBy(i,function(R){return R.index});g<y.length;g++){var C=y[g],M=C.index+S,P=V.slice(d,M);u.push.apply(u,p(n,P)),u.push(c.m.transformToVisualQueryField(C.expr,void 0,!0));var T=null!==(o=C.length)&&void 0!==o?o:0;S+=T-1,d=M+T}var x=V.slice(d,V.length);return u.push.apply(u,p(n,x)),u}}function b(n,l){for(var r,o=_.filter(l,function(V){return V.index<n}),a=n,i=0,m=o;i<m.length;i++)a+=(null!==(r=m[i].length)&&void 0!==r?r:0)-1;return a}function h(n,l){if(e.fF.assertValue(n,"query"),l)return n.select().withName(l.queryRef)}function p(n,l){var r=_.filter(_.map(l,function(o){return h(n,o)}),function(o){return o});return _.map(r,function(o){var a,i=null===(a=_.find(l,function(m){return m.queryRef===o.name}))||void 0===a?void 0:a.hidden;return c.m.transformToVisualQueryField(o.expr,o.name,!1,o.nativeReferenceName,i)})}},411916:function(Je,H,t){t.d(H,{A8:function(){return o},A9:function(){return a},YN:function(){return m},_T:function(){return i},it:function(){return r}});var e=t(787941),c=t(597098),s=t(324356),f=t(242895),v=t(983172),b=t(799818),h=t(523487),p=t(238435),n=t(698129),l=t(188238),r={objectName:"scalarKey",propertyName:"min"};function o(u,V){var d;if(u&&(d=u.objects),!_.isEmpty(d)){for(var S=void 0,g=d.length,y=0;y<g;y++){var E=(0,n.NA)(d[y],V);void 0!==E&&(S||(S={values:new Array(g)}),S.values[y]={min:E})}return S}}function a(u){var V=!1,d={visitRole:function(C){V=V||_.some(C.items,function(E){return E.scalarKeyInfo&&E.scalarKeyInfo.hasScalarKey})}};return u.categorical?(0,p.Sr)(u.categorical.categories,d):u.matrix&&(0,p.Ay)(u.matrix.rows,d),V}function i(u,V,d,S){var g,y,C;if(e.fF.assertValue(u,"schema"),e.fF.assertValue(V,"query"),e.fF.assertValue(d,"projections"),e.fF.assertValue(S,"roleName"),V.hasVisualCalculations())return!1;var E=(0,l.XP)(V,d,S);if(_.isEmpty(E)||!((null===(g=E[0])||void 0===g?void 0:g.expr)instanceof s.vD))return!1;var M=null===(y=E[0])||void 0===y?void 0:y.expr;if(1!==(0,f.q)(u,_.map(E,function(w){return w.expr}),{}).length)return!1;var T=(0,c.Q)(M,u),x=(0,b.S7)(u,T),R=x&&x.column;if(!R)return!1;var D=R.type;if(!D.temporal||!D.temporal.year||!m(null===(C=E[0])||void 0===C?void 0:C.expr,u))return!1;var L=d[S],F=L.getLastActiveQueryReference();if(F){var A=L.all(),O=_.findIndex(A,function(w){return w.queryRef===F});if(-1===O)return!1;for(var N=0;N<O;N++)if(!_.includes(L.activeProjectionRefs,A[N].queryRef))return!1}return!0}function m(u,V){if(e.fF.assertValue(V,"schema"),u){var d=(u=(0,h.K)(u,V)).getTargetEntity();if(d){var S=v.m.getConceptualEntity(d,V),g=_.filter(S.properties,function(y){return y.type.temporal&&y.type.temporal.paddedDateTableDate});if(1===g.length)return(0,s.Oh)(d,g[0].name)}}}},233643:function(Je,H,t){t.d(H,{x9:function(){return s}});var e=t(787941),c=t(217926);function s(p){if(p&&p.matrix&&p.matrix.rows&&p.matrix.rows.root&&!_.isEmpty(p.matrix.rows.levels))return e.fF.assert(function(){return _.every(p.matrix.rows.levels,function(n){return 1===_.size(n.sources)})},"Composite groups are not supported"),{levels:_.map(p.matrix.rows.levels,function(n){return{identityKeys:n.sources[0].identityExprs}}),root:b(p.matrix.rows.root)}}function f(p,n){if(!_.isEmpty(p)){var l,r;switch(n){case 1:var o=_.findIndex(p,function(i){return i&&!i.isSubtotal&&i.identity});l=p[o],r=p[o+1];break;case 2:var a=_.findLastIndex(p,function(i){return i&&!i.isSubtotal&&i.identity});l=p[a],r=p[a-1];break;default:e.fF.assertFail("Unexpected restart kind "+n)}if(l&&l.restartKind===n)return l;if(r&&r.restartKind===n)return r}}function v(p){return{restartValues:p.restartValues,identityValues:(0,c.KX)(p.identity.expr),windowKind:h(p.restartKind)}}function b(p){var n=[],l=f(p.children,1);l&&n.push(v(l));var r=f(p.children,2);r&&n.push(v(r));var o=_.filter(p.children,function(a){return _.some(a.children,function(i){return i.identity&&!i.isSubtotal})});return{identityValues:p.identity&&p.identity.expr&&(0,c.KX)(p.identity.expr),children:_.map(o,function(a){return b(a)}),windowValues:n}}function h(p){switch(p){case 1:return 2;case 2:return 1}e.fF.assertFail("Invalid restartKind")}},734287:function(Je,H,t){function e(s){return function(f){return f.get(s)}}function c(s,f){return"function"==typeof s?s(f):"string"==typeof s?s:void 0}t.d(H,{G:function(){return c},V:function(){return e}})},84685:function(Je,H,t){t.d(H,{EP:function(){return p}});var e=t(787941),c=t(764365),s=t(398491),f=t(326621),v=function(){function y(){}return y.prototype._ensureIncludeZero=function(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},y.prototype._ensureNotEmpty=function(){if(this.min===this.max)if(this.min){var C=this.min,E=(0,c.mv)(Math.abs(C)),M=void 0;E>=0&&E<4?(M=.5,this.forcedSingleStop=C):(M=(0,c.wA)(E)/2,this.forcedSingleStop=null),this.min=C-M,this.max=C+M}else this.min=0,this.max=y.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0},y.prototype._ensureDirection=function(){if(this.min>this.max){var C=this.min;this.min=this.max,this.max=C}},y.prototype.getSize=function(){return this.max-this.min},y.prototype.shrinkByStep=function(C,E){e.fF.assertValue(C,"range"),e.fF.assert(function(){return E>0},"step");var M=this.min/E,P=C.min/E,T=Math.floor(P-M);this.min+=T*E,M=this.max/E,P=C.max/E,T=Math.ceil(P-M),this.max+=T*E},y.calculate=function(C,E,M,P,T){e.fF.assert(function(){return C<=E},"dataMin should be less or equal to dataMax."),e.fF.assert(function(){return!M||!P||M<=P},"fixedMin should be less or equal to fixedMax.");var x=new y;return x.includeZero=!!T,x.hasDataRange=b(C)&&b(E),x.hasFixedMin=b(M),x.hasFixedMax=b(P),C=(0,c.QO)(C,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),E=(0,c.QO)(E,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),x.hasFixedMin&&x.hasFixedMax?(x.min=M,x.max=P):x.hasFixedMin?(x.min=M,x.max=E>M?E:M):x.hasFixedMax?(x.min=C<P?C:P,x.max=P):x.hasDataRange?(x.min=C,x.max=E):(x.min=0,x.max=0),x._ensureIncludeZero(),x._ensureNotEmpty(),x._ensureDirection(),0===x.min?x.hasFixedMin=!0:0===x.max&&(x.hasFixedMax=!0),x},y.calculateDataRange=function(C,E,M){return b(C)&&b(E)?y.calculate(C,E,null,null,M):y.calculateFixedRange(0,y.DEFAULT_MAX)},y.calculateFixedRange=function(C,E,M){e.fF.assertValue(C,"fixedMin"),e.fF.assertValue(E,"fixedMax");var P=new y;return P.hasDataRange=!1,P.includeZero=M,P.min=C,P.max=E,P._ensureIncludeZero(),P._ensureNotEmpty(),P._ensureDirection(),P.hasFixedMin=!0,P.hasFixedMax=!0,P},y.DEFAULT_MAX=10,y.MIN_SUPPORTED_DOUBLE=-1e307,y.MAX_SUPPORTED_DOUBLE=1e307,y}();function b(y){return null!=y}var h=function(){function y(){}return y.calculate=function(C,E,M,P,T,x){e.fF.assertValue(C,"range"),e.fF.assert(function(){return void 0===E||E>=y.MIN_COUNT&&E<=y.MAX_COUNT},"expectedCount"),e.fF.assert(function(){return void 0===P||P>=c.Xo&&P<=c.kg},"minPower"),e.fF.assert(function(){return void 0===M||M>=0},"maxAllowedMargin");var R=new y;if(E=void 0===E?10:(0,c.QO)(E,y.MIN_COUNT,y.MAX_COUNT),void 0===P&&(P=c.Xo),void 0===T&&(T=!1),void 0===M&&(M=1),void 0===x&&(x=[1,2,5]),C.forcedSingleStop)return R.interval=C.getSize(),R.intervalOffset=R.interval-(C.forcedSingleStop-C.min),R.min=C.min,R.max=C.max,R.sequence=[C.forcedSingleStop],R;var j,D=0,L=0,F=9,A=M>0&&!C.hasFixedMin,O=M>0&&!C.hasFixedMax,N=C.getSize(),w=(0,c.mv)(N),I=(0,c.mv)(x[0]);if(w-=I,w-=(0,c.mv)(E),w=Math.max(w,P-I+1),0!==D){var W=(0,c.wA)(w),U=(0,c.cT)(C.min,W),k=(0,c.iD)(C.max,W);(Q=v.calculateFixedRange(U,k)).shrinkByStep(C,D),L=Q.min,F=Q.max,j=Math.floor(Q.getSize()/D)}else{var te=void 0;for(te=0;te<3;te++){for(var ee=w+te,J=(W=(0,c.wA)(ee),U=(0,c.cT)(C.min,W),k=(0,c.iD)(C.max,W),x.length),re=(0,c.wA)(ee-1),G=0;G<J;G++){var Q,ne=x[G]*re;if((Q=v.calculateFixedRange(U,k,T)).shrinkByStep(C,ne),A&&C.min===Q.min&&M>=1&&(Q.min-=ne),O&&C.max===Q.max&&M>=1&&(Q.max+=ne),(j=(0,c.Eo)(Q.getSize()/ne,c.qO))<=E||2===te&&G===J-1||1===E&&2===j&&(ne>C.getSize()||C.min<0&&C.max>0&&2*ne>=C.getSize())){D=ne,L=Q.min,F=Q.max;break}}if(0!==D)break}}(j>32*E||j>y.MAX_COUNT)&&(D=(F-L)/(j=Math.min(32*E,y.MAX_COUNT))),R.min=L,R.max=F,R.interval=D,R.intervalOffset=L-C.min,R.maxAllowedMargin=M,R.canExtendMin=A,R.canExtendMax=O;var X=(0,c.p8)(D,0);R.precision=X;var oe=[],Ve=(0,c.W0)(L,X);for(oe.push(Ve),G=0;G<j;G++)Ve=(0,c.W0)(Ve+D,X),oe.push(Ve);return R.sequence=oe,R.trimMinMax(C.min,C.max),R},y.calculateUnits=function(C,E,M,P){M=(0,c.QO)(M,y.MIN_COUNT,y.MAX_COUNT),C===E&&(E=C+1);for(var x=0,R=0,D=P;R<D.length&&!((0,c.Eo)(E/(x=D[R]))-(0,c.Uy)(C/x)<=M);R++);var A=-C;A%=x;var O=new y;O.sequence=[];for(var N=C+A;O.sequence.push(N),!(N>=E);N+=x);return O.interval=x,O.intervalOffset=A,O.min=O.sequence[0],O.max=O.sequence[O.sequence.length-1],O},y.prototype.trimMinMax=function(C,E){var M=(C-this.min)/this.interval,P=(this.max-E)/this.interval;(!this.canExtendMin||M>this.maxAllowedMargin&&M>.001)&&(this.min=C),(!this.canExtendMax||P>this.maxAllowedMargin&&P>.001)&&(this.max=E)},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),p=function(){function y(C){this.unit=C,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}return y.prototype.add=function(C){C<this.min&&(this.min=C),C>this.max&&(this.max=C),this.sequence.push(C)},y.prototype.moveToCover=function(C,E){var M=y.getDelta(C,E,this.unit),P=Math.floor(M/this.interval);for(this.min=y.addInterval(this.min,P*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<E;)this.max=y.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)},y.calculate=function(C,E,M,P){switch(P||(P=y.getIntervalUnit(C,E,M)),P){case s.l.Year:return y.calculateYears(C,E,M);case s.l.Month:return y.calculateMonths(C,E,M);case s.l.Week:return y.calculateWeeks(C,E,M);case s.l.Day:return y.calculateDays(C,E,M);case s.l.Hour:return y.calculateHours(C,E,M);case s.l.Minute:return y.calculateMinutes(C,E,M);case s.l.Second:return y.calculateSeconds(C,E,M);case s.l.Millisecond:return y.calculateMilliseconds(C,E,M);default:e.fF.assertFail("Unsupported DateTimeUnit")}},y.calculateYears=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return!M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"Expected count is out of range");var P=v.calculateDataRange(C.getFullYear(),E.getFullYear(),!1),T=h.calculate(v.calculate(0,P.max-P.min),M,0,null,null,[1,2,5]),x=Math.floor(P.min/T.interval)*T.interval,R=f.y3.fromDateParts(x,0,1);return y.fromNumericSequence(R,T,s.l.Year)},y.calculateMonths=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=C.getFullYear(),T=E.getFullYear(),x=C.getMonth(),R=12*(T-P)+E.getMonth(),D=f.y3.fromDateParts(P,0,1),L=h.calculateUnits(x,R,M,[1,2,3,6,12]);return y.fromNumericSequence(D,L,s.l.Month)},y.calculateWeeks=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var x=(C.getDay()-0+7)%7,R=C.getDate()-x,D=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),R),F=(0,c.Eo)(y.getDelta(D,E,s.l.Week)),A=h.calculateUnits(0,F,M,[1,2,4,8]);return y.fromNumericSequence(D,A,s.l.Week)},y.calculateDays=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate()),x=(0,c.Eo)(y.getDelta(C,E,s.l.Day)),R=h.calculateUnits(0,x,M,[1,2,7,14]);return y.fromNumericSequence(P,R,s.l.Day)},y.calculateHours=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate()),T=(0,c.Uy)(y.getDelta(P,C,s.l.Hour)),x=(0,c.Eo)(y.getDelta(P,E,s.l.Hour)),R=h.calculateUnits(T,x,M,[1,2,3,6,12,24]);return y.fromNumericSequence(P,R,s.l.Hour)},y.calculateMinutes=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()),T=(0,c.Uy)(y.getDelta(P,C,s.l.Minute)),x=(0,c.Eo)(y.getDelta(P,E,s.l.Minute)),R=h.calculateUnits(T,x,M,[1,2,5,10,15,30,60,120,180,360,720,1440]);return y.fromNumericSequence(P,R,s.l.Minute)},y.calculateSeconds=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes()),T=(0,c.Uy)(y.getDelta(P,C,s.l.Second)),x=(0,c.Eo)(y.getDelta(P,E,s.l.Second)),R=h.calculateUnits(T,x,M,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return y.fromNumericSequence(P,R,s.l.Second)},y.calculateMilliseconds=function(C,E,M){e.fF.assertValue(C,"dataMin"),e.fF.assertValue(E,"dataMax"),e.fF.assert(function(){return void 0===M||M>=y.MIN_COUNT&&M<=y.MAX_COUNT},"expected count is out of range");var P=f.y3.fromDateParts(C.getFullYear(),C.getMonth(),C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds()),T=y.getDelta(P,C,s.l.Millisecond),x=y.getDelta(P,E,s.l.Millisecond),R=h.calculate(v.calculate(T,x),M,0);return y.fromNumericSequence(P,R,s.l.Millisecond)},y.addInterval=function(C,E,M){switch(E=Math.round(E),M){case s.l.Year:return function(y,C){var E=y.getFullYear(),M=y.getMonth(),P=y.getDate(),T=2===M&&29===P,x=f.y3.fromTimeValue(y.getTime());return E+=C,T&&!r(E)&&(P=28),x.setUTCFullYear(E,M,P),x}(C,E);case s.l.Month:return function(y,C){var E=y.getFullYear(),M=y.getMonth(),P=y.getDate(),T=f.y3.fromTimeValue(y.getTime());return E+=(C-C%12)/12,(M+=C%12)>11&&(M%=12,E++),P=Math.min(P,function(y,C){return r(y)?l[C]:n[C]}(E,M)),T.setUTCFullYear(E,M,P),T}(C,E);case s.l.Week:return function(y,C){return u(y,7*C)}(C,E);case s.l.Day:return u(C,E);case s.l.Hour:return function(y,C){return f.y3.fromTimeValue(y.getTime()+36e5*C)}(C,E);case s.l.Minute:return function(y,C){return f.y3.fromTimeValue(y.getTime()+6e4*C)}(C,E);case s.l.Second:return function(y,C){return f.y3.fromTimeValue(y.getTime()+1e3*C)}(C,E);case s.l.Millisecond:return function(y,C){return f.y3.fromTimeValue(y.getTime()+C)}(C,E)}},y.fromNumericSequence=function(C,E,M){for(var P=new y(M),T=0,x=E.sequence;T<x.length;T++){var D=y.addInterval(C,x[T],M);P.add(D)}return P.interval=E.interval,P.intervalOffset=E.intervalOffset,P},y.getDelta=function(C,E,M){var P=0;switch(M){case s.l.Year:P=E.getFullYear()-C.getFullYear();break;case s.l.Month:P=12*(E.getFullYear()-C.getFullYear())+E.getMonth()-C.getMonth();break;case s.l.Week:P=(E.getTime()-C.getTime())/6048e5;break;case s.l.Day:P=(E.getTime()-C.getTime())/864e5;break;case s.l.Hour:P=(E.getTime()-C.getTime())/36e5;break;case s.l.Minute:P=(E.getTime()-C.getTime())/6e4;break;case s.l.Second:P=(E.getTime()-C.getTime())/1e3;break;case s.l.Millisecond:P=E.getTime()-C.getTime()}return P},y.getIntervalUnit=function(C,E,M){M=Math.max(M,2);var P=y.getDelta(C,E,s.l.Day);if(P>356&&P>=180*M)return s.l.Year;if(P>60&&P>7*M)return s.l.Month;if(P>14&&P>2*M)return s.l.Week;var T=y.getDelta(C,E,s.l.Hour);if(P>2&&T>12*M)return s.l.Day;if(T>=24&&T>=M)return s.l.Hour;var x=y.getDelta(C,E,s.l.Minute);if(x>2&&x>=M)return s.l.Minute;var R=y.getDelta(C,E,s.l.Second);if(R>2&&R>=.8*M)return s.l.Second;if(y.getDelta(C,E,s.l.Millisecond)>0)return s.l.Millisecond;var L=C;return 0!==L.getMilliseconds()?s.l.Millisecond:0!==L.getSeconds()?s.l.Second:0!==L.getMinutes()?s.l.Minute:0!==L.getHours()?s.l.Hour:1!==L.getDate()?s.l.Day:0!==L.getMonth()?s.l.Month:s.l.Year},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),n=[31,28,31,30,31,30,31,31,30,31,30,31],l=[31,29,31,30,31,30,31,31,30,31,30,31];function r(y){return y%4==0&&y%100!=0||y%400==0}function u(y,C){var E=y.getFullYear(),M=y.getMonth(),P=y.getDate(),T=f.y3.fromTimeValue(y.getTime());return T.setUTCFullYear(E,M,P+C),T}},648887:function(Je,H,t){t.d(H,{KO:function(){return s},Re:function(){return b},hU:function(){return f},t0:function(){return p},wj:function(){return v}});var e=t(787941),c=t(326621),s=function(n){return n[n.Last=0]="Last",n[n.Current=1]="Current",n[n.Next=2]="Next",n}({}),f=function(n){return n[n.Second=0]="Second",n[n.Minute=1]="Minute",n[n.Hour=2]="Hour",n[n.Day=3]="Day",n[n.Week=4]="Week",n[n.CalendarWeek=5]="CalendarWeek",n[n.Month=6]="Month",n[n.CalendarMonth=7]="CalendarMonth",n[n.Year=8]="Year",n[n.CalendarYear=9]="CalendarYear",n}({}),v=function(n){return n[n.Unsupported=0]="Unsupported",n[n.Time=1]="Time",n[n.Date=2]="Date",n}({});function b(n){switch(n){case f.Minute:case f.Hour:return!0;default:return!1}}var p=function(){function n(){}return n.convertRelativeDateUnitToRelativeFilterType=function(l){switch(l){case f.Second:case f.Minute:case f.Hour:return v.Time;case f.Day:case f.Week:case f.CalendarWeek:case f.Month:case f.CalendarMonth:case f.Year:case f.CalendarYear:return v.Date;default:return void e.fF.assertNever(l)}},n.convertTimeUnitToRelativeFilterType=function(l){switch(l){case 5:return v.Unsupported;case 6:case 7:return v.Time;case 0:case 1:case 2:case 3:case 4:return v.Date;default:return void e.fF.assertNever(l)}},n.getDateRange=function(l,r){switch(r.relativeUnit){case f.Minute:return this.getMinutesRange(l,r);case f.Hour:return this.getHoursRange(l,r);case f.Day:return this.getDaysRange(l,r);case f.Week:return this.getWeeksRange(l,r);case f.CalendarWeek:return this.getCalendarWeekRange(l,r);case f.Month:return this.getMonthRange(l,r);case f.CalendarMonth:return this.getCalendarMonthRange(l,r);case f.Year:return this.getYearRange(l,r);case f.CalendarYear:return this.getCalendarYearRange(l,r);default:return void e.fF.assertFail("Unexpected RelativeDateUnit: "+r.relativeUnit)}},n.getMinutesRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.min=new Date(l.valueOf()-6e4*r.duration),o.max=l;break;case s.Current:o.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),0)),o.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),59));break;case s.Next:o.min=l,o.max=new Date(l.valueOf()+6e4*r.duration)}return o},n.getHoursRange=function(l,r){var o={min:null,max:null},a=36e5;switch(r.relativeQualifier){case s.Last:o.min=new Date(l.valueOf()-r.duration*a),o.max=l;break;case s.Current:o.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),0,0)),o.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),59,59));break;case s.Next:o.min=l,o.max=new Date(l.valueOf()+r.duration*a)}return o},n.getDaysRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.max=r.includeToday?l:this.addDays(l,-1),o.min=this.addDays(o.max,1-r.duration);break;case s.Current:o.min=l,o.max=l;break;case s.Next:o.min=r.includeToday?l:this.addDays(l,1),o.max=this.addDays(o.min,r.duration-1)}return o},n.getWeeksRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.max=r.includeToday?l:this.addDays(l,-1),o.min=this.addDays(o.max,-7*r.duration+1);break;case s.Current:o=this.getCalendarWeek(l);break;case s.Next:o.min=r.includeToday?l:this.addDays(l,1),o.max=this.addDays(o.min,7*r.duration-1)}return o},n.getCalendarWeekRange=function(l,r){var o={min:null,max:null},a=l.getUTCDay();switch(r.relativeQualifier){case s.Last:var i=this.addDays(l,-a-1);o.min=this.addDays(i,-7*r.duration+1),o.max=i;break;case s.Current:o=this.getCalendarWeek(l);break;case s.Next:var m=this.addDays(l,7-a);o.min=m,o.max=this.addDays(m,7*r.duration-1)}return o},n.getMonthRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.max=r.includeToday?l:this.addDays(l,-1),o.min=this.addMonths(o.max,-r.duration);break;case s.Current:o=this.getCalendarMonth(l);break;case s.Next:o.min=r.includeToday?l:this.addDays(l,1),o.max=this.addMonths(o.min,r.duration)}return o},n.getCalendarMonthRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()-r.duration,1)),o.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),0));break;case s.Current:o=this.getCalendarMonth(l);break;case s.Next:o.min=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1,1)),o.max=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1+r.duration,0))}return o},n.getYearRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.max=r.includeToday?l:this.addDays(l,-1),o.min=this.addYears(o.max,-r.duration);break;case s.Current:o=this.getCalendarYear(l);break;case s.Next:o.min=r.includeToday?l:this.addDays(l,1),o.max=this.addYears(o.min,r.duration)}return o},n.getCalendarYearRange=function(l,r){var o={min:null,max:null};switch(r.relativeQualifier){case s.Last:o.min=new Date(Date.UTC(l.getUTCFullYear()-r.duration,0,1)),o.max=new Date(Date.UTC(l.getUTCFullYear()-1,11,31));break;case s.Current:o=this.getCalendarYear(l);break;case s.Next:o.min=new Date(Date.UTC(l.getUTCFullYear()+1,0,1)),o.max=new Date(Date.UTC(l.getUTCFullYear()+r.duration,11,31))}return o},n.getTimeRangeRestatement=function(l,r,o,a){return r?this.getDetailedTimeRestatement(o):this.getSimplifiedTimeRestatement(l,a)},n.getDetailedTimeRestatement=function(l){return Math.abs(l.max.valueOf()-l.min.valueOf())/864e5>1||l.max.getUTCDate()!==l.min.getUTCDate()?c.dx.format("{0} - {1}",[l.min,l.max]):c.dx.format("{0:T} - {1:T}",[l.min,l.max])},n.getSimplifiedTimeRestatement=function(l,r){switch(l.relativeQualifier){case s.Current:switch(l.relativeUnit){case f.Minute:return r("RelativeTimeRestatement_this_Minute");case f.Hour:return r("RelativeTimeRestatement_this_Hour");default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(l.relativeUnit))}break;case s.Last:switch(l.relativeUnit){case f.Minute:return 1===l.duration?r("RelativeTimeRestatement_last_Minute"):r("RelativeTimeRestatement_last_Minutes",l.duration);case f.Hour:return 1===l.duration?r("RelativeTimeRestatement_last_Hour"):r("RelativeTimeRestatement_last_Hours",l.duration);default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(l.relativeUnit))}break;case s.Next:switch(l.relativeUnit){case f.Minute:return 1===l.duration?r("RelativeTimeRestatement_next_Minute"):r("RelativeTimeRestatement_next_Minutes",l.duration);case f.Hour:return 1===l.duration?r("RelativeTimeRestatement_next_Hour"):r("RelativeTimeRestatement_next_Hours",l.duration);default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(l.relativeUnit))}break;default:e.fF.assertFail("The following is an Unsupported relativeQualifer: ".concat(l.relativeQualifier))}return""},n.getDateRangeRestatement=function(l){return c.dx.format("{0:d} - {1:d}",[l.min,l.max])},n.getRestatement=function(l,r,o,a){var i;if(b(l.relativeUnit)?(e.fF.assert(function(){return!!a},"For Relative time restatement, anchor time should be defined"),i=a||new Date):i=new Date,l.anchorDate&&function(n){return!b(n)}(l.relativeUnit)){var m=l.anchorDate;i=new Date(Date.UTC(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()))}var u=this.getDateRange(i,l);return u.min.epochTimeStamp=u.min.getTime(),u.max.epochTimeStamp=u.max.getTime(),b(l.relativeUnit)?this.getTimeRangeRestatement(l,r,u,o):n.getDateRangeRestatement(u)},n.addMinutes=function(l,r){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()+r,l.getSeconds())},n.addHours=function(l,r){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours()+r,l.getMinutes(),l.getSeconds())},n.addDays=function(l,r){return new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()+r))},n.addMonths=function(l,r){if(0===r)return l;var i=l.getUTCDate()-(r>0?1:-1),m=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+r,i)),u=m.getUTCDate();if(i>0)if(u!==i&&r>0)m=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+r+1,0));else if(r<0){var V=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),i));(u!==i||V.getUTCMonth()!==l.getUTCMonth())&&(m=new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+r+1,1)))}return m},n.addYears=function(l,r){return this.addMonths(l,12*r)},n.getDurationMax=function(l,r){if(l===s.Current)return 1;switch(r){case f.Year:case f.CalendarYear:return 100;case f.Month:case f.CalendarMonth:case f.CalendarWeek:case f.Week:return 1e3;default:return 1e4}},n.getCalendarWeek=function(l){var r=l.getUTCDay(),o=this.addDays(l,-r);return{min:o,max:this.addDays(o,6)}},n.getCalendarMonth=function(l){return{min:new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),1)),max:new Date(Date.UTC(l.getUTCFullYear(),l.getUTCMonth()+1,0))}},n.getCalendarYear=function(l){return{min:new Date(Date.UTC(l.getUTCFullYear(),0,1)),max:new Date(Date.UTC(l.getUTCFullYear(),11,31))}},n}()},448711:function(Je,H,t){t.d(H,{g:function(){return ee},CH:function(){return D},J6:function(){return R},Ue:function(){return k},E3:function(){return U},Ym:function(){return J},WU:function(){return Q},aY:function(){return He},KF:function(){return Ce},kA:function(){return te},v1:function(){return oe},p$:function(){return re},G2:function(){return j},EO:function(){return X},eU:function(){return Te},h1:function(){return Ve},Z:function(){return F},X0:function(){return W}});var e=t(787941),c=t(764365),s=t(826691),f=t(261374),v=t(760182),b=t(698129),h=t(326621),p=t(592042),n=t(84685),l=t(226514),r=t(112430),a=1e15,i=1e-4,d=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,S=function(){function le(){}return le.prototype.project=function(me){return this.value?(0,c.oI)(me/this.value):me},le.prototype.isApplicableTo=function(me){me=Math.abs(me);var be=(0,c.p8)(me,3);return(0,c.bA)(me,this.applicableRangeMin,be)&&(0,c.Po)(me,this.applicableRangeMax,be)},le.prototype.isScaling=function(){return this.value>1},le}(),g=function(){function le(me){this.units=me||[]}return le.prototype.getUnits=function(me){void 0===me&&(me=!1);var be=_.clone(this.units);return me&&_.remove(be,function(Be){return 0===Be.value}),be},Object.defineProperty(le.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),le.prototype.update=function(me){void 0!==me&&(this.displayUnit=this.findApplicableDisplayUnit(me))},le.prototype.findApplicableDisplayUnit=function(me){for(var be=0,Be=this.units;be<Be.length;be++){var Se=Be[be];if(Se.isApplicableTo(me))return Se}},le.prototype.format=function(me,be,Be,Se){e.fF.assert(function(){return"number"==typeof me},"value must be a number"),Be=this.getNumberOfDecimalsForFormatting(Be);var Pe="";return this.isFormatSupported(be)&&!this.hasScientificFormat(be)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(me=this.displayUnit.project(me),Pe=this.displayUnit.labelFormat),this.formatHelper(me,Pe,be,Be,Se)},le.prototype.isFormatSupported=function(me){return!le.UNSUPPORTED_FORMATS.test(me)},le.prototype.isPercentageFormat=function(me){return me&&me.indexOf("%")>=0},le.prototype.shouldRespectScalingUnit=function(){return!0},le.prototype.getNumberOfDecimalsForFormatting=function(me){return me},le.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},le.prototype.formatHelper=function(me,be,Be,Se,Pe){if(("g"===Be||"G"===Be)&&null!=Se&&(Be=r.Pe),(Be=(0,h.dc)(Be,Se,Pe))&&!h.dx.isStandardNumberFormat(Be))return h.dx.formatNumberWithCustomOverride(me,Be,be);Be||(Be="G"),be||(be="{0}");var ue=h.dx.formatValue(me,Be);return h.dx.format(be,[ue])},le.prototype.formatSingleValue=function(me,be,Be,Se){return this.update(this.shouldUseValuePrecision(me)?(0,c.p8)(me,8):me),this.format(me,be,Be,Se)},le.prototype.shouldUseValuePrecision=function(me){if(0===this.units.length)return!0;for(var be=0,Be=0,Se=this.units;Be<Se.length;Be++){var Pe=Se[Be];if(Pe.isScaling()){be=Pe.applicableRangeMin;break}}return Math.abs(me)<be},le.prototype.isScientific=function(me){return me<-a||me>a||-i<me&&me<i&&0!==me},le.prototype.hasScientificFormat=function(me){return me&&(-1!==me.toUpperCase().indexOf("E+")||-1!==me.toUpperCase().indexOf("E-"))},le.prototype.supportsScientificFormat=function(me){return!me||d.test(me)},le.prototype.shouldFallbackToScientific=function(me,be){return!this.hasScientificFormat(be)&&this.supportsScientificFormat(be)&&this.isScientific(me)},le.prototype.getScientificFormat=function(me,be,Be,Se){if(this.isFormatSupported(be)&&this.shouldFallbackToScientific(me,be)){var Pe=(0,h.IE)(me,be);return Be&&(Pe=(0,h.dc)(Pe||"0",Math.abs(Be),Se)),Pe?Pe+"E+0":"0.##E+0"}return be},le.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,le}(),y=function(le){function me(){return le.call(this,[])||this}return(0,l.__extends)(me,le),me}(g),C=function(le){function me(be){return le.call(this,me.getUnits(be))||this}return(0,l.__extends)(me,le),me.prototype.format=function(be,Be,Se,Pe){return Be=this.getScientificFormat(be,Be,Se,Pe),le.prototype.format.call(this,be,Be,Se,Pe)},me.reset=function(){me.units=null},me.getUnits=function(be){return me.units||(me.units=P(be,function(Be,Se,Pe){return Be-Se>=1e3?Be/10:Pe})).length>=1&&(me.units[me.units.length-1].applicableRangeMax=1/0),me.units},me}(g),E=function(le){function me(be){return le.call(this,me.getUnits(be))||this}return(0,l.__extends)(me,le),me.reset=function(){me.units=null},me.getUnits=function(be){return me.units||(me.units=P(be)).length>=1&&(me.units[me.units.length-1].applicableRangeMax=1/0),me.units},me.prototype.format=function(be,Be,Se,Pe){return Be=this.getScientificFormat(be,Be,Se,Pe),le.prototype.format.call(this,be,Be,Se,Pe)},me}(g),M=function(le){function me(be){return le.call(this,me.getUnits(be))||this}return(0,l.__extends)(me,le),me.prototype.isFormatSupported=function(be){return!me.UNSUPPORTED_FORMATS.test(be)},me.getUnits=function(be){if(!me.units){var Be=[],Se=function(ve,xe,ie){return-1===ve&&ve-xe>=1e3?ve/10:ie},Pe=be(-1);T(Be,0,Pe.title,Pe.format,Se),T(Be,1,(Pe=be(0)).title,Pe.format,Se),(me.units=Be.concat(P(be,Se))).length>=1&&(me.units[me.units.length-1].applicableRangeMax=1/0)}return me.units},me.prototype.format=function(be,Be,Se,Pe){return Be=this.getScientificFormat(be,Be,Se,Pe),le.prototype.format.call(this,be,Be,Se,Pe)},me.UNSUPPORTED_FORMATS=/^(e\d*)$/i,me}(g);function P(le,me){for(var be=[],Be=3;Be<24;Be++){var Se=le(Be);Se&&T(be,(0,c.wA)(Be),Se.title,Se.format,me)}return be}function T(le,me,be,Be,Se){if(be||Be){var Pe=me;if(le.length>0){var ue=le[le.length-1];Se&&(Pe=Se(me,ue.value,Pe)),ue.applicableRangeMax=Pe}var ve=new S;ve.value=me,ve.applicableRangeMin=Pe,ve.applicableRangeMax=1e3*Pe,ve.title=be,ve.labelFormat=Be,le.push(ve)}}function R(le){D||(s.f.information("allowFormatBeautification used",void 0,{key:le}),D=!0)}var D=!1;function F(le){return r.um[le]}var A={null:r.um.NullValue,true:r.um.BooleanTrue,false:r.um.BooleanFalse,NaN:r.um.NaNValue,infinity:r.um.InfinityValue,negativeInfinity:r.um.NegativeInfinityValue,beautify:function(me){return function(le){var me=r.A0[le];return me?(R(me),r.um[me]||le):le}(me)},describe:function(me){return function(le){var me=-1===le?"Auto":le.toString(),Se=r.um["DisplayUnitSystem_E"+me+"_Title"],Pe=le<=0?"{0}":r.um["DisplayUnitSystem_E"+me+"_LabelFormat"];if(Se||Pe)return{title:Se,format:Pe}}(me)},restatementComma:r.um.RestatementComma,restatementCompoundAnd:r.um.RestatementCompoundAnd,restatementCompoundOr:r.um.RestatementCompoundOr},B={displayName:"",type:p.Ge.fromPrimitiveTypeAndCategory(7)};function j(le){return(0,h.rH)(le)}function W(le){e.fF.assertValue(le,"options"),A=le,C.reset(),E.reset()}function U(le,me){void 0===me&&(me=!1);var be=me?A.beautify(le):le;return{format:function(Se){return null==Se?A.null:de(Se,be)}}}function k(le){e.fF.assertValue(le,"options");var me=le.allowFormatBeautification?A.beautify(le.format):le.format;if(function(le){var me=le.value,be=le.value2,Be=le.format,Se=le.columnType;if(le.formatSingleValues&&Be&&Math.abs(me)<1e4)if((0,h.iH)(Be)){if((0,c.U)(me))return!1}else if((0,h.rH)(Be,!0).precision<2)return!1;if("number"==typeof me||"number"==typeof be)return!(Se&&Se.temporal&&Se.temporal.year)}(le)){var be=J(le.displayUnitSystemType),Be=!!le.formatSingleValues;be.update(Math.max(Math.abs(le.value||0),Math.abs(le.value2||0)));var Pe,Se=null!=le.precision;return Se?Pe=-le.precision:be.displayUnit&&be.displayUnit.value>1&&(Pe=-2),{format:function(xe){var ie=pe(xe,!0);if(!(0,f.g)(ie))return ie;var Fe=Number(xe);return Fe&&!be.isScalingUnit()&&Math.abs(Fe)<1e3&&!Se&&(xe=(0,c.W0)(Fe)),Be?be.formatSingleValue(Fe,me,Pe,Se):be.format(Fe,me,Pe,Se)},displayUnit:be.displayUnit,options:le}}if(function(le,me,be){return le instanceof Date&&me instanceof Date&&null!=be}(le.value,le.value2,le.tickCount)){var ue=n.EP.getIntervalUnit(le.value,le.value2,le.tickCount);return{format:function(xe){return null==xe?A.null:de(xe,h.dx.dateFormatString(ue))},options:le}}return U(me)}function Q(le,me,be){return null==le?A.null:de(le,be?A.beautify(me):me)}function te(le,me,be,Be,Se){return!(be&&be.type&&be.type.dateTime)&&le instanceof Date?de(le,X(B,null,!1),Se):de(le,Te(me,be,Be),Se)}var ee=function(){function le(me){e.fF.assertValue(me,"createVariantMeasureFormatter - options"),e.fF.assertValue(me.column,"createVariantMeasureFormatter - options.column"),e.fF.assertValue(me.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=me,this.columnFormatString=X(me.column,me.formatStringPropId,!1),this.isDateTimeColumn=me.column&&me.column.type&&me.column.type.dateTime,(null!=me.displayUnit&&1!==me.displayUnit||null!=me.precision)&&(this.displayUnitSystem=J(me.displayUnitSystemType),this.displayUnitSystem.update(me.displayUnit))}return le.prototype.setDisplayUnitSystem=function(me,be){null==me&&null==be?this.displayUnitSystem=void 0:(this.displayUnitSystem=J(be),this.displayUnitSystem.update(me))},le.prototype.format=function(me,be){var Be=this.options;if(!this.isDateTimeColumn&&me instanceof Date)return de(me,X(B,null,!1),Be.nullsAreBlank);var Pe=this.columnFormatString;if(be){var ue=(0,b.NA)(be,Be.formatStringPropId);null!=ue&&(Pe=ue)}if(this.displayUnitSystem&&"number"==typeof me&&null!=me){var ve=Be.precision;return Be.defaultPrecisionForScaledValues&&null==(ve=Ve(ve,Pe))&&Be.displayUnit>1&&(ve=2),Be.formatSingleValues?this.displayUnitSystem.formatSingleValue(me,Pe,ve,Be.trailingZeroes):this.displayUnitSystem.format(me,Pe,ve,Be.trailingZeroes)}return de(me,Pe,Be.nullsAreBlank)},le}();function J(le){if(null==le)return new C(A.describe);switch(le){case v.V.Default:return new C(A.describe);case v.V.WholeUnits:return new E(A.describe);case v.V.Verbose:return new y;case v.V.DataLabels:return new M(A.describe);default:return e.fF.assertFail("Unknown display unit system type"),new C(A.describe)}}function re(le){return void 0===le&&(le=!1),new M(A.describe).getUnits(le)}function X(le,me,be){if(le){if(me){var Be=(0,b.NA)(le.objects,me);if(Be)return Be}if(!be&&le.type)return oe(le.type)}}function oe(le){return e.fF.assertValue(le,"type must be defined"),le.dateTime?r.eF:le.integer?le.temporal&&le.temporal.year?"0":r.Bq:le.numeric?r.Pe:void 0}function Ve(le,me){if(e.fF.assertAnyValue(me,"format"),void 0!==le)return le;if("g"!==me&&"G"!==me){if(me){var be=(0,h.OQ)(me).positive,Be=(0,h.rH)(be,!0);if(Be.hasDots)return Be.optionalPrecision?void 0:Be.precision}return 0}}function Te(le,me,be,Be){return(0,b.NA)(le,be)||X(me,be,Be)}function Qe(le,me){var be;if(!le)return null;var Be=le.length;if(Be>0){be=le[0];for(var Se=Be-1,Pe=1,ue=Se;Pe<ue;Pe++)be=(0,f.W)(A.restatementComma,be,le[Pe]);Be>1&&(be=(0,f.W)(me,be,le[Se]))}else be=null;return be}function He(le){return Qe(le,A.restatementCompoundAnd)}function Ce(le){return Qe(le,A.restatementCompoundOr)}function de(le,me,be){var Be=pe(le,be||!1);return(0,f.g)(Be)?h.dx.formatValue(le,me):Be}function pe(le,me){return null==le&&me?A.null:!0===le?A.true:!1===le?A.false:"number"==typeof le&&isNaN(le)?A.NaN:le===Number.NEGATIVE_INFINITY?A.negativeInfinity:le===Number.POSITIVE_INFINITY?A.infinity:""}},112430:function(Je,H,t){t.d(H,{A0:function(){return v},Bq:function(){return e},Pe:function(){return c},eF:function(){return s},um:function(){return f}});var e="g",c="#,0.00",s="d",f={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},v={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},398491:function(Je,H,t){t.d(H,{l:function(){return e}});var e=function(c){return c[c.Year=0]="Year",c[c.Month=1]="Month",c[c.Week=2]="Week",c[c.Day=3]="Day",c[c.Hour=4]="Hour",c[c.Minute=5]="Minute",c[c.Second=6]="Second",c[c.Millisecond=7]="Millisecond",c}({})},876128:function(Je,H,t){t.d(H,{$n:function(){return s},Iu:function(){return l},dp:function(){return n}});var e=t(787941),c=t(907453);function s(V,d){if(V.matrix||e.fF.assert(function(){return(0,c.C0)(V.metadata,d.metadata)},"Cannot merge data views with different metadata columns"),d.metadata.segment?V.metadata.segment=d.metadata.segment:delete V.metadata.segment,V.table&&d.table&&function(V,d){if(e.fF.assertValue(V,"source"),e.fF.assertValue(d,"segment"),!_.isEmpty(d.rows)){var S=d.lastMergeIndex+1;b(V.rows,d.rows,S),e.fF.assert(function(){return!V.identity==!d.identity},"The existence of identity in the new segment is different than the source"),d.identity&&b(V.identity,d.identity,S)}}(V.table,d.table),V.categorical&&d.categorical&&function(V,d){if(e.fF.assertValue(V,"source"),e.fF.assertValue(d,"segment"),e.fF.assert(function(){return _.size(V.categories)===_.size(d.categories)},"pre-condition: source categories and segment categories should have the same length"),e.fF.assert(function(){return _.every(V.categories,function(T){return V.categories[0].identity===T.identity})},"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(V.categories)&&!_.isEmpty(d.categories)){for(var S=d.lastMergeIndex+1,g=d.categories.length,y=function(x){var R=d.categories[x],D=V.categories[x];e.fF.assert(function(){return(0,c.Mw)(D.source,R.source)},"Source and segment category have different sources."),e.fF.assert(function(){return void 0!==D.values||void 0===D.identity},"Source category is missing values but has identities."),R.values&&b(D.values,R.values,S)},C=0;C<g;C++)y(C);d.categories[0].identity&&b(V.categories[0].identity,d.categories[0].identity,S)}if(V.values&&d.values){var E=d.values.length;e.fF.assert(function(){return V.values.length===E},"Source and segment values have different lengths.");for(var M=function(x){var R=d.values[x],D=V.values[x];e.fF.assert(function(){return(0,c.Mw)(D.source,R.source)},"Source and segment value have different sources."),!D.values&&R.values&&(D.values=[]);var L=d.lastMergeIndex+1;R.values&&b(D.values,R.values,L),R.highlights&&b(D.highlights,R.highlights,L)},P=0;P<E;P++)M(P)}}(V.categorical,d.categorical),V.tree&&d.tree&&h(V.tree.root,d.tree.root,!0),V.matrix&&d.matrix){e.fF.assertValue(V.matrix.rows,"source.matrix.rows"),e.fF.assertValue(V.matrix.rows.levels,"source.matrix.rows.levels"),e.fF.assertValue(d.matrix.rows,"segment.matrix.rows"),e.fF.assertValue(d.matrix.rows.levels,"segment.matrix.rows.levels"),e.fF.assertValue(V.metadata,"source.metadata"),e.fF.assertValue(V.metadata.columns,"source.metadata.columns"),e.fF.assertValue(d.metadata,"segment.metadata"),e.fF.assertValue(d.metadata.columns,"segment.metadata.columns");var S=V.matrix.rows.levels.length,g=d.matrix.rows.levels.length;if(S>g)_.remove(V.metadata.columns,function(T){return null!=T.index&&!_.some(d.metadata.columns,function(x){return x.index===T.index})}),V.metadata.columns.length=d.metadata.columns.length,function(V,d){var S=d.levels.length;V.levels.length=S,e.fF.assert(function(){return _.isEqual(V.levels,d.levels)},"Segments have different levels");var g=[];m(V.root.children,S-1,g);for(var y=0,C=g;y<C.length;y++)o(C[y])}(V.matrix.rows,d.matrix.rows);else if(S<g){for(var C=0,E=0,M=_.filter(d.metadata.columns,function(T){return null!=T.index&&!_.some(V.metadata.columns,function(x){return x.index===T.index})});E<M.length;E++){for(var P=M[E];C<V.metadata.columns.length&&(null==V.metadata.columns[C].index||V.metadata.columns[C].index<P.index);)C++;V.metadata.columns.splice(C,0,P)}!function(V,d){for(var S=d.levels.length,g=V.levels.length,y=g;y<S;y++)V.levels.push(d.levels[y]);e.fF.assert(function(){return _.isEqual(V.levels,d.levels)},"Segments have different levels");var C=[];m(V.root.children,g-1,C);for(var E=0,M=C;E<M.length;E++)i(M[E],g);(function(V,d){for(var S=V.root,g=0;g<d;g++)if(_.isEmpty(S.children)||(e.fF.assertValue(S=S.children[0],"Segment has fewer levels than expected"),!S.isMerge||S.isSubtotal))return!1;return!0})(d,g)&&delete _.last(C).children}(V.matrix.rows,d.matrix.rows)}h(V.matrix.rows.root,d.matrix.rows.root,S!==g)}}function b(V,d,S){if(S>=d.length)return d;var g=[];return void 0!==S&&(g=d.splice(0,S)),Array.prototype.push.apply(V,d),g}function h(V,d,S){if(e.fF.assertValue(V,"sourceRoot"),e.fF.assertValue(d,"segmentRoot"),d.children&&0!==d.children.length){if(S&&(!V.children||0===V.children.length))return void(V.children=d.children);e.fF.assert(function(){return V.children&&V.children.length>=0},"Source tree has different structure than segment.");var g=p(d.children),y=V.children[V.children.length-1],C=b(V.children,d.children,g);C.length>0&&h(y,C[C.length-1],S)}}function p(V){if(0===V.length)return 0;for(var d=0;d<V.length&&V[d].isMerge;d++);return d}function n(V,d){e.fF.assertValue(V,"dataViewMerger.pruneTree - root"),e.fF.assertNonEmpty(d,"dataViewMerger.pruneTree - Zero-depth index");for(var S,g=0,y=d;g<y.length;g++){var C=y[g];if(S=V.children,_.isEmpty(S))return!0;if(C>=S.length)return!1;S.length=C+1,V=_.last(S)}return!0}function l(V,d){var S=V.children;e.fF.assertNonEmpty(V.children,"Empty segment");for(var g=0,y=!0;!_.isEmpty(S);){var C=p(S);if(C>=S.length)y=!0;else{var E=S.length-C;y?void 0===d[g]?d[g]=E-1:d[g]+=E:d[g]=E-1,y=!1}S=_.last(S).children,g++}g<d.length&&(d.length=g)}function o(V){if(!_.isEmpty(V.children)){var d=_.find(V.children,function(S){return S.isSubtotal});d&&(V.values=d.values),delete V.children,delete V.childIdentityFields}}function i(V,d){V.isSubtotal||(e.fF.assert(function(){return V.level===d-1},"Leaf was found on a non-last level"),e.fF.assert(function(){return 0===_.size(V.children)},"Node has children"),V.children=[{isSubtotal:!0,level:d,values:V.values}],delete V.values)}function m(V,d,S){e.fF.assertValue(V,"nodes");for(var g=0,y=V;g<y.length;g++){var C=y[g];C.isSubtotal||(C.level===d?S.push(C):!_.isEmpty(C.children)&&void 0!==C.level&&C.level<d&&m(C.children,d,S))}}},161414:function(Je,H,t){t.d(H,{Y:function(){return n},dw:function(){return l},l0:function(){return p}});var e=t(226514),c=t(787941),s=t(166851),f=t(989516),v=t(19632),b=t(907453),h=t(448711),p=function(){function r(o,a,i){this.selector=r.ensureSelector(o),this.highlight=a,this._columnLevelKeys=new s.o(function(){if(o)return(0,f.AZ)(o,!1)}),this._identityLevelKeys=new s.o(function(){if(o)return(0,f.AZ)(o,!0)}),this.selectorsByColumn=i}return r.fromSelectorsByColumn=function(o){return new r((0,f.tV)(o),!1,o)},r.fromSelectorsByColumnAndRoles=function(o,a){var m=new r((0,f.tV)(o),!1,o);return m.role=a,m},r.prototype.equals=function(o){return this.selector&&o.selector?this.highlight===o.highlight&&(0,f.fS)(this.selector,o.selector):!this.selector==!o.selector&&this.highlight===o.highlight},r.isEqual=function(o,a){return o===a||null!=o&&null!=a&&o.equals(a)},r.prototype.includes=function(o,a,i){if(void 0===a&&(a=!1),void 0===i&&(i=!1),!o)return!1;var m=this.selector,u=o.selector;if(!m||!u)return!1;var V=m.data,d=u.data;if(!V&&m.metadata&&m.metadata!==u.metadata||!a&&this.highlight!==o.highlight)return!1;if(V){if(!d)return!1;if(V.length>0)for(var S=function(M,P){var T=V[M];if(i){var x=T.expr;if(!_.some(d,function(R){return(0,v.yz)(x,R)}))return{value:!1}}else if(!d.some(function(R){return(0,v.fS)(T,R)}))return{value:!1}},g=0,y=V.length;g<y;g++){var C=S(g);if("object"==typeof C)return C.value}}return!0},r.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: ".concat(this.selector?this.getSelectorKey():null,", highlight: ").concat(this.highlight,"}")),this._key},r.prototype.getDecomposedKeys=function(o){return o?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()},r.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: ".concat(this.selector?this.getSelectorKey():null,"}")),this._keyWithoutHighlight},r.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},r.prototype.getSelector=function(){return this.selector},r.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},r.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=(0,f.km)(this.selector)),this._selectorKey},r.createNull=function(o){return void 0===o&&(o=!1),new r(null,o)},r.createWithId=function(o,a){void 0===a&&(a=!1);var i=null;return o&&(i={data:[o]}),new r(i,a)},r.createWithMeasure=function(o,a){void 0===a&&(a=!1),c.fF.assertValue(o,"measureId");var m=new r({metadata:o},a);return m.selectorsByColumn={metadata:[o]},m},r.createWithIdAndMeasure=function(o,a,i){void 0===i&&(i=!1);var m={};return o&&(m.data=[o]),a&&(m.metadata=a),!o&&!a&&(m=null),new r(m,i)},r.createWithIdAndMeasureAndCategory=function(o,a,i,m,u){void 0===m&&(m=!1),void 0===u&&(u=[]);var V=this.createWithIdAndMeasure(o,a,m);return V.selector&&(V.selectorsByColumn={},o&&i&&(V.selectorsByColumn.dataMap={},V.selectorsByColumn.dataMap[i]=[o]),a&&(V.selectorsByColumn.metadata=[a]),_.isEmpty(u)||(V.selectorsByColumn.valueDetails=u)),V},r.createWithIds=function(o,a,i){void 0===i&&(i=!1);var m=null,u=r.idArray(o,a);return u&&(m={data:u}),new r(m,i)},r.createWithIdsAndMeasure=function(o,a,i,m){void 0===m&&(m=!1);var u={},V=r.idArray(o,a);return V&&(u.data=V),i&&(u.metadata=i),!o&&!a&&!i&&(u=null),new r(u,m)},r.createWithSelectorForColumnAndMeasure=function(o,a,i,m){void 0===i&&(i=!1),void 0===m&&(m=[]);var u={};return _.isEmpty(o)||(u.dataMap=o),a&&(u.metadata=[a]),!o&&!a&&(u=null),_.isEmpty(m)||(u.valueDetails=m),new r((0,f.tV)(u),i,u)},r.createWithSelectorForColumnAndMeasures=function(o,a,i,m){void 0===m&&(m=!1);var u={};return _.isEmpty(o)||(u.dataMap=o),_.isEmpty(a)||(u.metadata=a),i&&(u.valueDetails=i),!o&&_.isEmpty(a)&&(u=null),new r((0,f.tV)(u),m,u)},r.createWithHighlight=function(o){c.fF.assertValue(o,"original"),c.fF.assert(function(){return!o.highlight},"!original.highlight");var a=new r(o.getSelector(),!0);return a.selectorsByColumn=o.selectorsByColumn,a},r.idArray=function(o,a){if(o||a){var i=[];return o&&i.push(o),a&&a!==o&&i.push(a),i}},r.ensureSelector=function(o){return o&&o.data&&(o.data=_.uniqWith(o.data,f.cY)),o},r}();function n(r,o,a){var m,i=r.format;return{expr:r.expr,get formattedValue(){return void 0===m&&(m=(0,h.WU)(o,i)),m},value:o,identity:a,queryName:r.queryName}}var l=function(){function r(){}return r.builder=function(){return new r},r.prototype.withColumnIdentity=function(o,a,i){var m;return this.addItemToDataMap(a,o),i&&(this.ensureValueDetails(),(m=this.valueDetails).push.apply(m,i)),this},r.prototype.withCategoryIdentity=function(o,a,i){return o&&o.source&&o.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(n(o.source,o.values[a],o.identity[a])),this.addItemToDataMap(o.source.queryName,i)),this},r.prototype.withCategory=function(o,a,i,m){if(void 0===m&&(m=!1),(0,b.rX)(o)){if(m&&i)for(var u=0,V=o;u<V.length;u++)this.addCategoryValueDetails(V[u],a);o[0]&&i&&o[0].identity&&this.addItemToDataMap(i,o[0].identity[a])}else m&&this.addCategoryValueDetails(o,a),o&&o.source&&o.source.queryName&&o.identity&&this.addItemToDataMap(o.source.queryName,o.identity[a]);return this},r.prototype.addCategoryValueDetails=function(o,a){o&&o.source&&o.source.queryName&&o.identity&&(this.ensureValueDetails(),this.valueDetails.push(n(o.source,o.values[a],o.identity[a])))},r.prototype.withSeries=function(o,a,i){return void 0===i&&(i=!1),o&&o.source&&o.source.queryName&&a&&(i&&(0,b.F)(a)&&(this.ensureValueDetails(),this.valueDetails.push(n(o.source,a.name,a.identity))),this.addItemToDataMap(o.source.queryName,a.identity)),this},r.prototype.withMeasure=function(o,a,i){if(this.ensureMeasures(),null!=o&&this.measures.push(o),a&&a.source.queryName===o)if(this.ensureValueDetails(),i>=0)this.valueDetails.push(n(a.source,a.values[i],void 0));else for(var m=0,u=a.values;m<u.length;m++)this.valueDetails.push(n(a.source,u[m],void 0));return this},r.prototype.withMeasures=function(o){this.ensureMeasures();for(var a=0,i=o;a<i.length;a++)this.measures.push(i[a]);return this},r.prototype.createSelectionId=function(){return p.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},r.prototype.clone=function(){var o=new r,a=this.dataMap;if(a){var i=o.dataMap={};for(var m in this.dataMap)i[m]=(0,e.__spreadArray)([],a[m]||[],!0)}return this.measures&&(o.measures=(0,e.__spreadArray)([],this.measures||[],!0)),o},r.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},r.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},r.prototype.addItemToDataMap=function(o,a){if(a){this.dataMap||(this.dataMap={});var i=this.dataMap,m=i[o];if(null==m)return void(i[o]=[a]);m.push(a)}},r}()},44615:function(Je,H,t){t.d(H,{$s:function(){return Se},$t:function(){return R},$x:function(){return u},Bn:function(){return M},Gk:function(){return o},Hp:function(){return me},Ig:function(){return C},J1:function(){return ue},Mu:function(){return Ce},R$:function(){return i},Sr:function(){return T},TI:function(){return a},U5:function(){return S},Um:function(){return Fe},Vn:function(){return D},W2:function(){return V},_6:function(){return Pe},_L:function(){return de},a4:function(){return P},bO:function(){return pe},dR:function(){return n},fv:function(){return We},gz:function(){return be},jS:function(){return E},lH:function(){return y},pV:function(){return at},qP:function(){return m},tg:function(){return l},uT:function(){return Oe},vH:function(){return d},vf:function(){return g},ym:function(){return r}});var e=t(226514),c=t(456535),s=t(474147),f=t(787941),v=t(324356),b=t(998583),h=t(475615),p=t(597098);function n(Y){return(0,v.m_)(l(Y),Y.aggregate)}function l(Y){return(0,v.Oh)(a(Y),Y.name)}function r(Y){return(0,v.m_)((0,v.Wp)(Y.name,a(Y),x(Y.groupedColumns)),Y.aggregate)}function o(Y){return(0,v.Wp)(Y.name,a(Y),x(Y.groupedColumns))}function a(Y){return(0,v.nw)(Y.schema,Y.entity,Y.entityVar)}function i(Y){return(0,v.m_)(a(Y),Y.aggregate)}function m(Y){var ye=a(Y.source),rt=(0,v.yU)(ye,Y.variationName,Y.source.name);return(0,v.bT)(rt,Y.hierarchy.name)}function u(Y){var ye=a(Y.source),rt=(0,v.yU)(ye,Y.variationName,Y.source.name),it=(0,v.bT)(rt,Y.level.name);return(0,v.os)(it,Y.level.level)}function V(Y){return Y.subqueryRef?(0,v.Oh)((0,v.v5)(Y.subqueryRef),Y.name):Y.subquery?(0,v.Oh)((0,v.v5)(Y.subquery),Y.name):void 0}function d(Y){return(0,v.m_)((0,v.Oh)((0,v.v5)(Y.subqueryRef),Y.name),Y.aggregate)}function S(Y){return(0,v.Oh)((0,v.GB)(Y.transformTable.name),Y.name)}function g(Y){return(0,v.m_)(y(Y),Y.aggregate)}function y(Y){return(0,v.os)(C(Y),Y.level)}function C(Y){return(0,v.bT)(a(Y),Y.name)}function E(Y){return(0,v.Y8)((0,b.B)(Y.left),(0,b.B)(Y.right),Y.operator)}function M(Y){return(0,v.kQ)(Y.value,Y.type)}function P(Y){return(0,v.Zy)((0,b.B)(Y.measure),_.map(Y.grouping,function(ye){return(0,b.B)(ye)}))}function T(Y){return new v.Wr(Y.name,Y.language,Y.expression)}function x(Y){return _.map(Y,function(ye){return(0,b.B)(ye)})}var R=function(){function Y(){}return Y.prototype.visitColumn=function(ye){return l(ye)},Y.prototype.visitColumnAggr=function(ye){return n(ye)},Y.prototype.visitGroupingColumn=function(ye){return o(ye)},Y.prototype.visitGroupingColumnAggr=function(ye){return r(ye)},Y.prototype.visitColumnHierarchyVariation=function(ye){return m(ye)},Y.prototype.visitColumnHierarchyLevelVariation=function(ye){return u(ye)},Y.prototype.visitColumnSubquery=function(ye){return V(ye)},Y.prototype.visitColumnAggrSubquery=function(ye){return d(ye)},Y.prototype.visitColumnTransformRef=function(ye){return S(ye)},Y.prototype.visitEntity=function(ye){return a(ye)},Y.prototype.visitEntityAggr=function(ye){return i(ye)},Y.prototype.visitHierarchy=function(ye){return C(ye)},Y.prototype.visitHierarchyLevel=function(ye){return y(ye)},Y.prototype.visitHierarchyLevelAggr=function(ye){return g(ye)},Y.prototype.visitMeasure=function(ye){return(0,v.mv)(this.visitEntity(ye),ye.name)},Y.prototype.visitPercentile=function(ye){var rt=(0,b.B)(ye.arg);return(0,v.Pe)(rt,ye.k,ye.exclusive)},Y.prototype.visitPercentOfGrandTotal=function(ye){var rt=(0,b.B)(ye.baseExpr);return(0,v.Y8)(rt,(0,v.ed)(rt,[]),3)},Y.prototype.visitPercentOfRoleTotal=function(ye){var rt=(0,b.B)(ye.baseExpr);return(0,v.Y8)(rt,(0,v.ed)(rt,_.map(ye.roles,function(it){return(0,v.Wu)(it)})),3)},Y.prototype.visitSelectRef=function(ye){return(0,v.xA)(ye.expressionName)},Y.prototype.visitTransformOutputRoleRef=function(ye){return(0,v.hu)(ye.expressionName)},Y.prototype.visitFilteredEval=function(ye){return(0,v.Xw)((0,b.B)(ye.baseExpr),_.map(ye.filters,function(rt){return(0,h.SO)(rt)}))},Y.prototype.visitArithmetic=function(ye){return E(ye)},Y.prototype.visitConstant=function(ye){return M(ye)},Y.prototype.visitSparklineData=function(ye){return P(ye)},Y.prototype.visitNativeVisualCalc=function(ye){return T(ye)},Y.instance=new Y,Y}();function D(Y,ye){return f.fF.assertValue(Y,"expr"),f.fF.assertValue(ye,"visitor"),f.fF.assertValue(Y,"expected sqExpr to conform to a fieldExprPattern"),Y.column?function(Y,ye){return f.fF.assertValue(Y,"column"),f.fF.assertValue(ye,"visitor"),ye.visitColumn(Y)}(Y.column,ye):Y.columnAggr?function(Y,ye){return f.fF.assertValue(Y,"columnAggr"),f.fF.assertValue(ye,"visitor"),ye.visitColumnAggr(Y)}(Y.columnAggr,ye):Y.groupingColumn?function(Y,ye){return f.fF.assertValue(Y,"column"),f.fF.assertValue(ye,"visitor"),ye.visitGroupingColumn(Y)}(Y.groupingColumn,ye):Y.groupingColumnAggr?function(Y,ye){return f.fF.assertValue(Y,"columnAggr"),f.fF.assertValue(ye,"visitor"),ye.visitGroupingColumnAggr(Y)}(Y.groupingColumnAggr,ye):Y.columnHierarchyVariation?function(Y,ye){return f.fF.assertValue(Y,"columnHierarchyVariation"),f.fF.assertValue(ye,"visitor"),ye.visitColumnHierarchyVariation(Y)}(Y.columnHierarchyVariation,ye):Y.columnHierarchyLevelVariation?function(Y,ye){return f.fF.assertValue(Y,"columnHierarchyLevelVariation"),f.fF.assertValue(ye,"visitor"),ye.visitColumnHierarchyLevelVariation(Y)}(Y.columnHierarchyLevelVariation,ye):Y.columnSubquery?function(Y,ye){return f.fF.assertValue(Y,"columnSubquery"),f.fF.assertValue(ye,"visitor"),ye.visitColumnSubquery(Y)}(Y.columnSubquery,ye):Y.columnAggrSubquery?function(Y,ye){return f.fF.assertValue(Y,"columnAggrSubquery"),f.fF.assertValue(ye,"visitor"),ye.visitColumnAggrSubquery(Y)}(Y.columnAggrSubquery,ye):Y.columnTransformRef?function(Y,ye){return f.fF.assertValue(Y,"columnTransformRef"),f.fF.assertValue(ye,"visitor"),ye.visitColumnTransformRef(Y)}(Y.columnTransformRef,ye):Y.entity?function(Y,ye){return f.fF.assertValue(Y,"entity"),f.fF.assertValue(ye,"visitor"),ye.visitEntity(Y)}(Y.entity,ye):Y.entityAggr?function(Y,ye){return f.fF.assertValue(Y,"entityAggr"),f.fF.assertValue(ye,"visitor"),ye.visitEntityAggr(Y)}(Y.entityAggr,ye):Y.hierarchy?function(Y,ye){return f.fF.assertValue(Y,"hierarchy"),f.fF.assertValue(ye,"visitor"),ye.visitHierarchy(Y)}(Y.hierarchy,ye):Y.hierarchyLevel?function(Y,ye){return f.fF.assertValue(Y,"hierarchyLevel"),f.fF.assertValue(ye,"visitor"),ye.visitHierarchyLevel(Y)}(Y.hierarchyLevel,ye):Y.hierarchyLevelAggr?function(Y,ye){return f.fF.assertValue(Y,"hierarchyLevelAggr"),f.fF.assertValue(ye,"visitor"),ye.visitHierarchyLevelAggr(Y)}(Y.hierarchyLevelAggr,ye):Y.measure?function(Y,ye){return f.fF.assertValue(Y,"measure"),f.fF.assertValue(ye,"visitor"),ye.visitMeasure(Y)}(Y.measure,ye):Y.percentile?function(Y,ye){return f.fF.assertValue(Y,"percentile"),f.fF.assertValue(ye,"visitor"),ye.visitPercentile(Y)}(Y.percentile,ye):Y.percentOfGrandTotal?function(Y,ye){return f.fF.assertValue(Y,"percentOfGrandTotal"),f.fF.assertValue(ye,"visitor"),ye.visitPercentOfGrandTotal(Y)}(Y.percentOfGrandTotal,ye):Y.percentOfRoleTotal?function(Y,ye){return f.fF.assertValue(Y,"percentOfRoleTotal"),f.fF.assertValue(ye,"visitor"),ye.visitPercentOfRoleTotal(Y)}(Y.percentOfRoleTotal,ye):Y.selectRef?function(Y,ye){return f.fF.assertValue(Y,"selectRef"),f.fF.assertValue(ye,"visitor"),ye.visitSelectRef(Y)}(Y.selectRef,ye):Y.transformOutputRoleRef?function(Y,ye){return f.fF.assertValue(Y,"transformOutputRoleRef"),f.fF.assertValue(ye,"visitor"),ye.visitTransformOutputRoleRef(Y)}(Y.transformOutputRoleRef,ye):Y.filteredEval?function(Y,ye){return f.fF.assertValue(Y,"filteredEval"),f.fF.assertValue(ye,"visitor"),ye.visitFilteredEval(Y)}(Y.filteredEval,ye):Y.arithmetic?function(Y,ye){return f.fF.assertValue(Y,"arithmetic"),f.fF.assertValue(ye,"visitor"),ye.visitArithmetic(Y)}(Y.arithmetic,ye):Y.constant?function(Y,ye){return f.fF.assertValue(Y,"constant"),f.fF.assertValue(ye,"visitor"),ye.visitConstant(Y)}(Y.constant,ye):Y.sparklineData?function(Y,ye){return f.fF.assertValue(Y,"sparkline"),f.fF.assertValue(ye,"visitor"),ye.visitSparklineData(Y)}(Y.sparklineData,ye):Y.nativeVisualCalc?function(Y,ye){return f.fF.assertValue(Y,"nativeVisualCalc"),f.fF.assertValue(ye,"visitor"),ye.visitNativeVisualCalc(Y)}(Y.nativeVisualCalc,ye):void f.fF.assertFail("failed to visit a fieldExprPattern.")}function Ce(Y){return(0,v.Oh)((0,v.nw)(Y.schema,Y.entity,Y.entityVar),Y.name)}function de(Y){return f.fF.assertValue(Y,"fieldExpr"),D(Y,Ze.instance)}function pe(Y){return f.fF.assertValue(Y,"fieldExpr"),D(Y,Ee.instance)}function me(Y){var ye=D(Y,Ne.instance);return f.fF.assert(function(){return!ye||1===_.size(ye)},"If there are more than 1 property names, then use getPropertyNames instead"),null==ye?void 0:ye[0]}function be(Y){return D(Y,Ne.instance)}function Se(Y){return Y.columnHierarchyLevelVariation?Y.columnHierarchyLevelVariation.source:Y.column||Y.groupingColumn||Y.groupingColumnAggr||Y.measure||Y.columnAggr}function Pe(Y){return me(Y)||Fe(Y).entity}function ue(Y){var ye=function(Y){f.fF.assertValue(Y,"fieldExpr");var ye=at(Y);return f.fF.assertAnyValue(ye,"expected fieldExpr to be an entity item"),_.isEmpty(ye)?void 0:_.map(ye,function(rt){return rt.schema})}(Y);return f.fF.assert(function(){return!ye||1===_.size(ye)},"If there are more than 1 schema, then use getSchemas instead"),null==ye?void 0:ye[0]}function Fe(Y){var ye=D(Y,K.instance);return f.fF.assert(function(){return!ye||1===_.size(ye)},"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),null==ye?void 0:ye[0]}function at(Y){return D(Y,K.instance)}function We(Y){return f.fF.assertValue(Y,"expr"),(0,c.lF)(Y)&&(0,c.g5)(Y.right)&&!_.isEmpty(Y.right.scope)&&_.every(Y.right.scope,function(ye){return(0,c.yL)(ye)})}function Oe(Y,ye){if(f.fF.assertValue(Y,"expr"),!(0,c.lF)(Y)||!(0,c.g5)(Y.right))return!1;var rt={percentOfGrandTotal:{baseExpr:Y.left.accept(new p.P(ye))}};return(0,s.fS)(Y,(0,b.B)(rt))}var Ze=function(){function Y(){}return Y.prototype.visitColumn=function(ye){},Y.prototype.visitColumnAggr=function(ye){return ye.aggregate},Y.prototype.visitGroupingColumn=function(ye){},Y.prototype.visitGroupingColumnAggr=function(ye){return ye.aggregate},Y.prototype.visitColumnHierarchyVariation=function(ye){},Y.prototype.visitColumnHierarchyLevelVariation=function(ye){},Y.prototype.visitColumnSubquery=function(ye){},Y.prototype.visitColumnAggrSubquery=function(ye){return ye.aggregate},Y.prototype.visitColumnTransformRef=function(ye){},Y.prototype.visitEntity=function(ye){},Y.prototype.visitEntityAggr=function(ye){return ye.aggregate},Y.prototype.visitHierarchy=function(ye){},Y.prototype.visitHierarchyLevel=function(ye){},Y.prototype.visitHierarchyLevelAggr=function(ye){return ye.aggregate},Y.prototype.visitMeasure=function(ye){},Y.prototype.visitSelectRef=function(ye){},Y.prototype.visitPercentile=function(ye){},Y.prototype.visitPercentOfGrandTotal=function(ye){return(0,v._L)((0,b.B)(ye.baseExpr))},Y.prototype.visitPercentOfRoleTotal=function(ye){return(0,v._L)((0,b.B)(ye.baseExpr))},Y.prototype.visitTransformOutputRoleRef=function(ye){},Y.prototype.visitFilteredEval=function(ye){return(0,v._L)((0,b.B)(ye.baseExpr))},Y.prototype.visitArithmetic=function(ye){},Y.prototype.visitConstant=function(ye){f.fF.assertFail("FieldExprPattern - Not expecting to be called")},Y.prototype.visitSparklineData=function(ye){},Y.prototype.visitNativeVisualCalc=function(ye){},Y.instance=new Y,Y}(),Ee=function(){function Y(){}return Y.prototype.visitColumn=function(ye){return l(ye)},Y.prototype.visitColumnAggr=function(ye){return n(ye)},Y.prototype.visitGroupingColumn=function(ye){return o(ye)},Y.prototype.visitGroupingColumnAggr=function(ye){return r(ye)},Y.prototype.visitColumnHierarchyVariation=function(ye){return m(ye)},Y.prototype.visitColumnHierarchyLevelVariation=function(ye){return u(ye)},Y.prototype.visitColumnSubquery=function(ye){return V(ye)},Y.prototype.visitColumnAggrSubquery=function(ye){return d(ye)},Y.prototype.visitColumnTransformRef=function(ye){return S(ye)},Y.prototype.visitEntity=function(ye){return a(ye)},Y.prototype.visitEntityAggr=function(ye){return i(ye)},Y.prototype.visitHierarchy=function(ye){return C(ye)},Y.prototype.visitHierarchyLevel=function(ye){return y(ye)},Y.prototype.visitHierarchyLevelAggr=function(ye){return g(ye)},Y.prototype.visitMeasure=function(ye){return(0,v.mv)(this.visitEntity(ye),ye.name)},Y.prototype.visitSelectRef=function(ye){return(0,v.xA)(ye.expressionName)},Y.prototype.visitPercentile=function(ye){return D((0,p.Q)((0,b.B)(ye.arg)),this)},Y.prototype.visitPercentOfGrandTotal=function(ye){return D((0,p.Q)((0,b.B)(ye.baseExpr)),this)},Y.prototype.visitPercentOfRoleTotal=function(ye){return D((0,p.Q)((0,b.B)(ye.baseExpr)),this)},Y.prototype.visitTransformOutputRoleRef=function(ye){return(0,v.hu)(ye.expressionName)},Y.prototype.visitFilteredEval=function(ye){return D((0,p.Q)((0,b.B)(ye.baseExpr)),this)},Y.prototype.visitArithmetic=function(ye){return E(ye)},Y.prototype.visitConstant=function(ye){f.fF.assertFail("FieldExprPattern - Not expecting to be called")},Y.prototype.visitSparklineData=function(ye){return P(ye)},Y.prototype.visitNativeVisualCalc=function(ye){return new v.Wr(ye.name,ye.language,ye.expression)},Y.instance=new Y,Y}(),K=function(){function Y(){}return Y.prototype.visitColumn=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitColumnAggr=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitGroupingColumn=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitGroupingColumnAggr=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitColumnHierarchyVariation=function(ye){return[Y.toEntityItemExprPattern(ye.source)]},Y.prototype.visitColumnHierarchyLevelVariation=function(ye){return[Y.toEntityItemExprPattern(ye.source)]},Y.prototype.visitColumnSubquery=function(ye){},Y.prototype.visitColumnAggrSubquery=function(ye){},Y.prototype.visitColumnTransformRef=function(ye){},Y.prototype.visitEntity=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitEntityAggr=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitHierarchy=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitHierarchyLevel=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitHierarchyLevelAggr=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitMeasure=function(ye){return[Y.toEntityItemExprPattern(ye)]},Y.prototype.visitSelectRef=function(ye){},Y.prototype.visitPercentile=function(ye){return D(ye.arg,this)},Y.prototype.visitPercentOfGrandTotal=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitPercentOfRoleTotal=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitTransformOutputRoleRef=function(ye){},Y.prototype.visitFilteredEval=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitArithmetic=function(ye){var rt=D(ye.left,this),it=D(ye.right,this),Ue=rt&&it?(0,e.__spreadArray)((0,e.__spreadArray)([],rt,!0),it,!0):null!=rt?rt:it;return _.isEmpty(Ue)?void 0:Ue},Y.prototype.visitConstant=function(ye){},Y.prototype.visitSparklineData=function(ye){var rt=this;return(0,e.__spreadArray)((0,e.__spreadArray)([],D(ye.measure,this),!0),_.chain(ye.grouping).map(function(it){return D(it,rt)}).flatten().value(),!0)},Y.prototype.visitNativeVisualCalc=function(ye){},Y.toEntityItemExprPattern=function(ye){f.fF.assertValue(ye,"exprPattern");var rt={schema:ye.schema,entity:ye.entity};return ye.entityVar&&(rt.entityVar=ye.entityVar),rt},Y.instance=new Y,Y}(),Ne=function(){function Y(){}return Y.prototype.visitColumn=function(ye){return[ye.name]},Y.prototype.visitColumnAggr=function(ye){return[ye.name]},Y.prototype.visitGroupingColumn=function(ye){return[ye.name]},Y.prototype.visitGroupingColumnAggr=function(ye){return[ye.name]},Y.prototype.visitColumnHierarchyVariation=function(ye){},Y.prototype.visitColumnHierarchyLevelVariation=function(ye){},Y.prototype.visitColumnSubquery=function(ye){return[ye.name]},Y.prototype.visitColumnAggrSubquery=function(ye){return[ye.name]},Y.prototype.visitColumnTransformRef=function(ye){return[ye.name]},Y.prototype.visitEntity=function(ye){},Y.prototype.visitEntityAggr=function(ye){},Y.prototype.visitHierarchy=function(ye){},Y.prototype.visitHierarchyLevel=function(ye){},Y.prototype.visitHierarchyLevelAggr=function(ye){},Y.prototype.visitMeasure=function(ye){return[ye.name]},Y.prototype.visitSelectRef=function(ye){},Y.prototype.visitPercentile=function(ye){return D(ye.arg,this)},Y.prototype.visitPercentOfGrandTotal=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitPercentOfRoleTotal=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitTransformOutputRoleRef=function(ye){},Y.prototype.visitFilteredEval=function(ye){return D(ye.baseExpr,this)},Y.prototype.visitArithmetic=function(ye){var rt=D(ye.left,this),it=D(ye.right,this),Ue=rt&&it?(0,e.__spreadArray)((0,e.__spreadArray)([],rt,!0),it,!0):null!=rt?rt:it;return _.isEmpty(Ue)?void 0:Ue},Y.prototype.visitConstant=function(ye){},Y.prototype.visitSparklineData=function(ye){var rt=this;return(0,e.__spreadArray)((0,e.__spreadArray)([],D(ye.measure,this),!0),_.chain(ye.grouping).map(function(it){return D(it,rt)}).flatten().value(),!0)},Y.prototype.visitNativeVisualCalc=function(ye){return[ye.name]},Y.instance=new Y,Y}()},998583:function(Je,H,t){t.d(H,{B:function(){return s}});var e=t(787941),c=t(44615);function s(f){var v=(0,c.Vn)(f,c.$t.instance);return e.fF.assertValue(v,"Failed to convert FieldExprPattern into SQExpr"),v}},597098:function(Je,H,t){t.d(H,{P:function(){return r},Q:function(){return l}});var e=t(226514),c=t(787941),s=t(13106),f=t(456535),v=t(116170),b=t(620006),h=t(474147),p=t(475615),n=t(998583);function l(i,m){return i.accept(new r(m))}var r=function(i){function m(u){var V=i.call(this)||this;return V.schema=u,V}return(0,e.__extends)(m,i),m.prototype.visitColumnRef=function(u){var V=u.source.accept(o.instance);if(V){if(V.entity){var d=V.entity;return d.name=u.ref,{column:d}}if(V.subquery)return V.subquery.variable?{columnSubquery:{name:u.ref,subqueryRef:V.subquery.variable}}:{columnSubquery:{name:u.ref,subquery:V.subquery.query}};if(V.transform)return{columnTransformRef:{name:u.ref,transformTable:V.transform}}}},m.prototype.visitMeasureRef=function(u){var V=u.source.accept(o.instance);if(V&&V.entity){var d=V.entity;return d.name=u.ref,{measure:d}}},m.prototype.visitEntity=function(u){var V={schema:u.schema,entity:u.entity};return u.variable&&(V.entityVar=u.variable),{entity:V}},m.prototype.visitAggr=function(u){var V=u.arg.accept(this);if(V){if(V.column)return(d=V.column).aggregate=u.func,{columnAggr:d};if(V.columnAggr)return(d=V.columnAggr).aggregate=u.func,{columnAggr:d};if(V.groupingColumn)return(d=V.groupingColumn).aggregate=u.func,{groupingColumnAggr:d};if(V.groupingColumnAggr)return(d=V.groupingColumnAggr).aggregate=u.func,{groupingColumnAggr:d};if(V.hierarchyLevel)return(d=V.hierarchyLevel).aggregate=u.func,{hierarchyLevelAggr:d};if(V.columnHierarchyLevelVariation)return(d=V.columnHierarchyLevelVariation.level).aggregate=u.func,{hierarchyLevelAggr:d};if(V.columnSubquery)return(d=V.columnSubquery).aggregate=u.func,{columnAggrSubquery:d}}var d,S=u.arg.accept(o.instance);if(S&&S.entity)return(d=S.entity).aggregate=u.func,{entityAggr:d}},m.prototype.visitPercentile=function(u){return{percentile:{arg:u.arg.accept(this),k:u.k,exclusive:u.exclusive}}},m.prototype.visitGroupRef=function(u){var V=u.source.accept(o.instance);if(V&&V.entity){var d=V.entity;d.name=u.ref,d.groupedColumns=[];for(var S=0,g=u.groupedExprs;S<g.length;S++){var C=g[S].accept(this);(C.column||C.groupingColumn||C.hierarchyLevel)&&d.groupedColumns.push(C)}return{groupingColumn:d}}},m.prototype.visitHierarchy=function(u){var V=u.arg.accept(o.instance);if(V){if(V.entity)return{hierarchy:{entity:V.entity.entity,name:u.hierarchy,schema:V.entity.schema}};if(V.variation&&V.variation.column){var d=V.variation;if((0,f.jc)(u.arg)){var S=u.arg;if((0,f.Lk)(S.arg)){var g=S.arg,y=this.schema.schema(d.column.schema).findTargetEntityOfVariation(g.entity,d.column.name,d.variationName);if(y)return{columnHierarchyVariation:{source:(0,e.__assign)({},d.column),hierarchy:{schema:d.column.schema,entity:y.name,name:u.hierarchy},variationName:V.variation.variationName}}}}}}},m.prototype.visitHierarchyLevel=function(u){var V=u.arg.accept(a.instance);if(V){var d;if(V.hierarchy&&(d={entity:V.hierarchy.entity,schema:V.hierarchy.schema,name:V.hierarchy.name,level:u.level}),V.variation){if(this.schema){var S=V.variation,g=this.schema.schema(V.variation.column.schema).findTargetEntityOfVariation(d.entity,S.column.name,S.variationName);g&&(d.entity=g.name)}return{columnHierarchyLevelVariation:{source:{entity:V.variation.column.entity,schema:V.variation.column.schema,name:V.variation.column.name},level:d,variationName:V.variation.variationName}}}return{hierarchyLevel:d}}},m.prototype.visitArithmetic=function(u){if(!(0,f.g5)(u.right))return{arithmetic:{left:u.left.accept(this),right:u.right.accept(this),operator:u.operator}};var V={percentOfGrandTotal:{baseExpr:u.left.accept(this)}};if((0,h.fS)(u,(0,n.B)(V)))return V;var d=u.right.scope;return!_.isEmpty(d)&&_.every(d,function(S){return(0,f.yL)(S)})?{percentOfRoleTotal:{baseExpr:u.left.accept(this),roles:_.map(d,function(S){return S.role})}}:void 0},m.prototype.visitSelectRef=function(u){return{selectRef:{expressionName:u.expressionName}}},m.prototype.visitTransformOutputRoleRef=function(u){return{transformOutputRoleRef:{expressionName:u.role}}},m.prototype.visitFilteredEval=function(u){var V=this,d=_.map(u.filters,function(S){var g=(0,p.zz)(s.yl.fromSQFromAndSQFilters(new b.cL,[S]),V.schema);if(g)return c.fF.assert(function(){return 1===g.length},"There are more than one filter pattern in this Semantic Filter"),g[0]});return{filteredEval:{baseExpr:u.expression.accept(this),filters:d}}},m.prototype.visitConstant=function(u){return{constant:{value:u.value,type:u.type}}},m.prototype.visitSparklineData=function(u){var V=this;return{sparklineData:{measure:u.measure.accept(this),grouping:_.map(u.grouping,function(d){return d.accept(V)})}}},m.prototype.visitNativeVisualCalc=function(u){return{nativeVisualCalc:{name:u.name,language:u.language,expression:u.expression}}},m}(v.vq),o=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return(0,e.__extends)(m,i),m.prototype.visitEntity=function(u){var V={schema:u.schema,entity:u.entity};return u.variable&&(V.entityVar=u.variable),{entity:V}},m.prototype.visitPropertyVariationSource=function(u){var V=u.arg;if((0,f.Lk)(V)){var d={schema:V.schema,entity:V.entity,name:u.property};return V.variable&&(d.entityVar=V.variable),{variation:{column:d,variationName:u.name}}}},m.prototype.visitSubqueryRef=function(u){return u.variable?{subquery:{variable:u.variable}}:{subquery:{query:u.query}}},m.prototype.visitTransformTableRef=function(u){return c.fF.assertValue(u,"expr"),c.fF.assertValue(u.source,"source"),{transform:{name:null==u?void 0:u.source}}},m.instance=new m,m}(v.vq),a=function(i){function m(){return null!==i&&i.apply(this,arguments)||this}return(0,e.__extends)(m,i),m.prototype.visitHierarchy=function(u){var d,S,V=u.arg.accept(o.instance);return V.variation?(d={name:u.hierarchy,schema:V.variation.column.schema,entity:V.variation.column.entity},S=V.variation):d={name:u.hierarchy,schema:V.entity.schema,entity:V.entity.entity},{hierarchy:d,variation:S}},m.instance=new m,m}(v.vq)},601139:function(Je,H,t){t.d(H,{C:function(){return f},_:function(){return v}});var e=t(226514),c=t(787941);function f(h){c.fF.assertValue(h,"expr");var p=new b;return h.accept(p),p.analyze()}function v(h){c.fF.assertValue(h,"expr");var p=new b;return h.accept(p),p.analyze().filterKind}var b=function(h){function p(){var n=h.call(this)||this;return n.entityExprs={},n.filterKind=0,n.isSubquery=!1,n}return(0,e.__extends)(p,h),p.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},p.prototype.visitMeasureRef=function(n){this.filterKind=1,n.source.accept(this)},p.prototype.visitExists=function(n){this.filterKind=2,n.arg.accept(this)},p.prototype.visitAggr=function(n){this.filterKind=1,n.arg.accept(this)},p.prototype.visitSubqueryRef=function(n){this.isSubquery=!0},p.prototype.visitEntity=function(n){this.entityExprs[n.entity]=!0},p}(t(116170).PA)},475615:function(Je,H,t){t.d(H,{SO:function(){return o},Vn:function(){return u},kL:function(){return r},zz:function(){return i}});var e=t(456535),c=t(787941),s=t(648887),f=t(324356),v=t(983172),b=t(597098),h=t(998583),p=t(184776),n=t(211763),l=t(138030);function r(T){return void 0!==T.arg}function o(T){var x={condition:u(T,a.instance)};return _.isEmpty(T.target)||(x.target=_.map(T.target,function(R){return(0,h.B)(R)})),x}var a=function(){function T(){}return T.prototype.visitIn=function(x){return(0,f.Sh)(_.map(x.args,function(R){return(0,h.B)(R)}),_.map(x.values,function(R){return _.map(R,function(D){return(0,f.kQ)(D.value,D.type)})}))},T.prototype.visitBetween=function(x){if(x&&x.lower&&x.upper){var R=(0,f.uQ)(x.lower.unit,(0,f.CQ)(x.lower.value)),D=(0,f.uQ)(x.upper.unit,(0,f.CQ)(x.upper.value));return(0,f.vX)((0,h.B)(x.arg),R,D)}},T.prototype.visitRelativeDateRange=function(x){return(0,n.kW)({field:(0,h.B)(x.arg),options:x.options})},T.prototype.visitComposite=function(x){return null},T.prototype.visitTopN=function(x){return null},T.prototype.visitComplex=function(x){c.fF.assertFail("cannot recreate complex patterns as SQExprs")},T.prototype.visitAdvanced=function(x){},T.prototype.visitCompare=function(x){},T.prototype.visitHierarchical=function(x){},T.instance=new T,T}();function i(T,x){if(T){var R=T.where();if(R){var D=new m(x),L=T.from();return R.map(function(F){var A=D.tryMatchPattern(F,L);if(A){var O={condition:A};return _.isEmpty(F.target)||(O.target=_.map(F.target,function(N){return(0,b.Q)(N)})),O}})}}}var m=function(){function T(x){this.schema=x}return T.prototype.tryMatchPattern=function(x,R){var D;if(c.fF.assert(function(){return void 0!==x},"There is no SQFilter for this Semantic filter"),D=this.matchTopN(x,R))return D;var L=x&&x.condition;if(L){if((D=this.tryMatchExpr(L,2))||(D=this.tryMatchComplex(x,R)))return D;c.fF.assert(function(){return null==D},"There is no pattern that currently matches `expr`")}},T.prototype.tryMatchExpr=function(x,R){var D;if((D=this.matchBasicFilter(x))||(D=this.matchRelativeRange(x,s.wj.Date))||(D=this.matchRelativeRange(x,s.wj.Time))||(D=this.matchDateRange(x))||(D=this.matchAdvanced(x))||(D=this.matchCompareOperator(x))||1!==R&&(D=this.tryMatchHierarchical(x))||(D=this.matchComposite(x,R)))return D;c.fF.assert(function(){return null==D},"There is no pattern that currently matches `expr`")},T.prototype.tryMatchComplex=function(x,R){var D=(0,p.J_)(x,R);if(D)return{complex:{args:_.map(D.fieldsBeingFiltered,function(L){return(0,b.Q)(L)})}}},T.prototype.matchBasicFilter=function(x){var R=!1;if((0,e.Ym)(x)&&(R=!0,x=x.arg),(0,e.Hi)(x)&&!x.table&&x.values)return{in:{args:_.map(x.args,function(D){return(0,b.Q)(D)}),values:_.map(x.values,function(D){return _.map(D,function(L,F){return{value:L.value,type:L.type}})}),not:R}}},T.prototype.matchDateRange=function(x){if((0,e.Kh)(x)&&(0,e.dZ)(x.lower)&&(0,e.dZ)(x.upper))return{between:{arg:(0,b.Q)(x.arg),lower:{value:x.lower.arg.value,unit:x.lower.unit},upper:{value:x.upper.arg.value,unit:x.upper.unit}}}},T.prototype.matchTopN=function(x,R){if(x&&R){var D=(0,l.J_)(x,R);if(D)return{topN:{fieldBeingFiltered:(0,b.Q)(D.fieldBeingFiltered),isTop:D.isTop,itemCount:D.itemCount,orderByField:(0,b.Q)(D.orderByField)}}}},T.prototype.matchRelativeRange=function(x,R){var D=(0,n.ym)(x,R);if(D)return{relativeDateRange:{arg:(0,b.Q)(D.field),options:D.options}}},T.prototype.matchCompareOperator=function(x){var R=x,D=!1;if((0,e.Ym)(x)&&(R=x.arg,D=!0),(0,e.$Q)(R)||(0,e.IS)(R)||(0,e.f8)(R)){var L=this.getValuePattern(R.left,R.right);if(L)return{compareOperator:{arg:(0,b.Q)(R.left),filterOperator:this.mapFromSQExprKindToFilterOperator(R,D),condition:L}}}},T.prototype.getValuePattern=function(x,R){if((0,e.dZ)(R)){var D=R.arg;if((0,e.VC)(D))return{dateSpan:{value:D.value,unit:R.unit}}}if((0,e.VC)(R))return{constant:{value:R.value,type:R.type}};if((0,e.FU)(R)){var L=v.m.getDefaultValue(x,this.schema);return{defaultValue:{value:L.value,type:L.type}}}return(0,e.cw)(R)?{anyValue:{}}:void 0},T.prototype.matchAdvanced=function(x){if((0,e.un)(x)||(0,e.Z8)(x)){var R=(0,e.un)(x)?0:1,D=this.matchAdvanced(x.left)||this.matchCompareOperator(x.left);if(D){var L=this.matchAdvanced(x.right)||this.matchCompareOperator(x.right);if(L)return{advancedOperator:{logicalOperator:R,left:D.advancedOperator||D.compareOperator,right:L.advancedOperator||L.compareOperator}}}}},T.prototype.mapFromSQExprKindToFilterOperator=function(x,R){var L=0;switch(x.kind){case 12:L=R?6:5;break;case 14:L=R?8:7;break;case 13:var F=x;0===F.comparison?L=(0,e.VC)(F.right)&&null==F.right.value?R?12:11:(0,e.VC)(F.right)&&""===F.right.value?R?14:13:R?10:9:1===F.comparison?L=3:2===F.comparison?L=4:3===F.comparison?L=1:4===F.comparison&&(L=2);break;default:L=0}return L},T.prototype.tryMatchHierarchical=function(x){var F,A,R=[],D=[],L={hierarchical:{included:R,excluded:D}};if(x instanceof f.uV){if(F=this.tryGetHierarchicalNode(x.left,!1)||this.tryGetHierarchicalNode(x.right,!1),A=this.tryGetHierarchicalNode(x.left,!0)||this.tryGetHierarchicalNode(x.right,!0),!F||!A)return}else if(F=this.tryGetHierarchicalNode(x,!1),A=this.tryGetHierarchicalNode(x,!0),!F&&!A)return;return F&&!this.matchHierarchicalNode(F,!1,R)||A&&!this.matchHierarchicalNode(A,!0,D)?void 0:L},T.prototype.tryGetHierarchicalNode=function(x,R){if(R){if(x instanceof f.v3){if(x.arg instanceof f.Xg||x.arg instanceof f.uV)return x.arg}else if(x instanceof f.uV)return x}else if(x instanceof f.Cc||x instanceof f.Xg)return x},T.prototype.matchHierarchicalNode=function(x,R,D){if(x instanceof f.Xg)return this.matchHierarchicalExpr(x,R,D);var L=this.tryGetHierarchicalNode(x,R);if(!L)return!1;c.fF.assert(function(){return L instanceof f.Cc||L instanceof f.uV},".matchHierarchicalNode does not expect any other expr type");var F=L;return this.matchHierarchicalExpr(F.left,R,D)&&this.matchHierarchicalExpr(F.right,R,D)},T.prototype.matchHierarchicalExpr=function(x,R,D){if(x instanceof f.Xg){var L=this.matchBasicFilter(x);return!!L&&(D.push(L.in),L.in.not=R,!0)}return this.matchHierarchicalNode(x,R,D)},T.prototype.matchComposite=function(x,R){var D=!1;(0,e.Ym)(x)&&(D=!0,x=x.arg);var L=(0,e.Z8)(x);if((!L||0!==R)&&((0,e.Z8)(x)||(0,e.un)(x))){var F=L?1:0,A=this.tryMatchExpr(x.left,F),O=this.tryMatchExpr(x.right,F);if(A&&O)return{composite:{not:D,operator:F,filters:[A,O]}}}},T}();function u(T,x){c.fF.assertValue(T,"filterPattern"),c.fF.assertValue(x,"visitor");var R=T.condition;return R.in?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitIn(T)}(R.in,x):R.between?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitBetween(T)}(R.between,x):R.relativeDateRange?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitRelativeDateRange(T)}(R.relativeDateRange,x):R.compareOperator?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitCompare(T)}(R.compareOperator,x):R.advancedOperator?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitAdvanced(T)}(R.advancedOperator,x):R.composite?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitComposite(T)}(R.composite,x):R.topN?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitTopN(T)}(R.topN,x):R.complex?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitComplex(T)}(R.complex,x):R.hierarchical?function(T,x){return c.fF.assertValue(T,"pattern"),c.fF.assertValue(x,"visitor"),x.visitHierarchical(T)}(R.hierarchical,x):void c.fF.assertFail("Failed to visit filterPattern")}},988222:function(Je,H,t){t.d(H,{F8:function(){return r},Gl:function(){return n},Qq:function(){return p},Xz:function(){return l}});var e=t(226514),c=t(474147),s=t(883863),f=t(787941),v=t(19632),b=t(324356),h=t(116170);function p(m,u){var V=n(m,u,!1);if(V)return{isNot:_.some(V,function(d){return!d.selected}),scopeIds:[_.map(V,function(d){return d.identity})]}}function n(m,u,V){void 0===V&&(V=!0),f.fF.assertValue(m,"filter"),f.fF.assertValue(u,"fieldSQExprs"),f.fF.assert(function(){return u.length>0},"There should be at least 1 field expression.");var d=m.conditions();f.fF.assert(function(){return 1===d.length},"There should be exactly 1 filter expression.");var S=d[0];if(S){var g=new o(u,V,S);if(S.accept(g))return g.getResult()}}function l(m){f.fF.assertValue(m,"identity");var u=m.expr.accept(new a);if(u)return u.value}function r(m){return f.fF.assertValue(m,"identity"),m.expr.accept(new i)}var o=function(m){function u(V,d,S){var g,y,C=m.call(this)||this;C.supportsMultiLevelFilters=d,C.filter=S,C.isNot=!1,C.isAnd=!1,C.keyIndex=0,C.valueIndex=0,C.fieldExprs=[],C.groups=[],C.supportedGroups={};var E=0,M=0;C.values=[];for(var P=0,T=V;P<T.length;P++){var x=T[P];if(f.fF.assertNonEmpty(x,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(x)){var R=_.map(x,function(D){return(0,b.p7)(D)});C.supportedGroups[M+=x.length]=!0,(g=C.fieldExprs).push.apply(g,R||[]),(y=C.groups).push.apply(y,_.map(x,function(D){return E})),E++}}return C}return(0,e.__extends)(u,m),u.prototype.getResult=function(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})},u.prototype.toFilterNode=function(V,d){for(var S=[],g=0,y=V;g<y.length;g++){var C=y[g];S.push({identity:C.identity,selected:C.selected,checked:C.checked,children:_.isEmpty(C.children)?void 0:this.toFilterNode(C.children,d),index:C.checked?d.index++:void 0})}return S},u.getScopeIdentity=function(V,d){f.fF.assert(function(){return d.length>0},"valueExprs has at least one valueExpr"),f.fF.assert(function(){return d.length===V.length},"fieldExpr and valueExpr count should match");for(var S,g=0,y=V.length;g<y;g++){var C=(0,b.Dg)(V[g],d[g]);S=S?(0,b.xD)(S,C):C}return(0,v.TZ)(S)},u.prototype.visitOr=function(V){this.resetState();var d=V.left.accept(this);return this.resetState(),d&&V.right.accept(this)},u.prototype.visitAnd=function(V){if(this.supportsMultiLevelFilters){var d=!1;if((this.isNot&&(V.left instanceof b.uV||V.left instanceof b.Xg)&&(V.right instanceof b.Xg||V.right instanceof b.uV)||!this.isNot&&(V.left instanceof b.Cc||V.left instanceof b.Xg||V.left instanceof b.uV||V.left instanceof b.v3)&&(V.right instanceof b.Cc||V.right instanceof b.Xg||V.right instanceof b.uV||V.right instanceof b.v3)||(V.left instanceof b.wU||V.left instanceof b.uV)&&(V.right instanceof b.wU||V.right instanceof b.uV))&&(d=!0),d){var S=!1===this.isAnd;S&&this.resetState(),this.isAnd=!0;var g=V.left.accept(this)&&V.right.accept(this);return S&&(this.isAnd=!1),g}}return this.unsupportedSQExpr()},u.prototype.visitNot=function(V){this.isNot=!0;var d=V.arg.accept(this);return this.isNot=!1,d},u.prototype.visitConstant=function(V){return 0===this.keyIndex&&0===V.type.primitiveType?this.unsupportedSQExpr():(this.addValue(V),!0)},u.prototype.visitCompare=function(V){return this.keyIndex>0&&!this.supportsMultiLevelFilters||0!==V.comparison?this.unsupportedSQExpr():V.right instanceof b.iE||V.left.accept(this)&&V.right.accept(this)},u.prototype.visitIn=function(V){var d=this;if(!V.values)return!1;this.resetState();for(var S,g=0,y=V.args;g<y.length;g++)if(!(S=y[g].accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();for(var M=function(F){f.fF.assert(function(){return F.length===d.keyIndex},"keys count and values count should match");for(var A=0,O=F;A<O.length;A++)if(!(S=O[A].accept(P)))return{value:P.unsupportedSQExpr()}},P=this,T=0,x=V.values;T<x.length;T++){var D=M(x[T]);if("object"==typeof D)return D.value}return S},u.prototype.visitColumnRef=function(V){var d=(0,b.p7)(V),S=(0,c.fS)(this.fieldExprs[this.keyIndex],d);return this.keyIndex++,S},u.prototype.visitDefaultValue=function(V){return this.addValue(V),!0},u.prototype.visitAnyValue=function(V){return!0},u.prototype.visitDefault=function(V){return this.unsupportedSQExpr()},u.prototype.unsupportedSQExpr=function(){return!1},u.prototype.addValue=function(V){var d=this.valueIndex%this.keyIndex,S=this.groups[d];0===d?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(V)):this.currentNode.groupIndex===S?(this.currentNode.values.push(V),this.currentNode.columns.push(this.fieldExprs[d])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(V)),this.valueIndex++},u.prototype.addScopeId=function(){if(this.currentNode){var V=this.currentNode,d=this.parent&&this.parent.children||this.values,S=_.find(d,function(g){return(0,s.NF)(g.values,V.values,c.fS)});return S?V.checked&&!S.checked&&(S.selected=V.selected,S.checked=V.checked):(V.identity=u.getScopeIdentity(V.columns,V.values),d.push(V)),S||V}},u.prototype.createNode=function(V){var d=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[V],columns:[this.fieldExprs[d]],groupIndex:this.groups[d],identity:void 0}},u.prototype.resetState=function(){this.keyIndex=0,this.valueIndex=0},u}(h.vq),a=function(m){function u(){return null!==m&&m.apply(this,arguments)||this}return(0,e.__extends)(u,m),u.prototype.visitAnd=function(V){return V.left.accept(this)||V.right.accept(this)},u.prototype.visitCompare=function(V){if(0===V.comparison){if(V.right instanceof b.jz)return V.right;if(V.left instanceof b.jz)return V.left}},u}(h.vq),i=function(m){function u(){return null!==m&&m.apply(this,arguments)||this}return(0,e.__extends)(u,m),u.prototype.visitAnd=function(V){var d=[];return(d=d.concat(V.left.accept(this))).concat(V.right.accept(this))},u.prototype.visitCompare=function(V){if(0===V.comparison){var d=[];return V.right instanceof b.jz?d.push({expr:V.left,value:V.right.value}):V.left instanceof b.jz&&d.push({expr:V.right,value:V.left.value}),d}},u}(h.vq)},184776:function(Je,H,t){t.d(H,{J_:function(){return p}});var e=t(226514),c=t(474147),s=t(787941),f=t(13106),v=t(116170),b=t(597098),h=t(7681);function p(r,o){if(r){if(r instanceof f.yl){var a=r.conditions();return _.isEmpty(a)||a.length>1?void 0:n(r.from(),a[0])}return n(o,r.condition)}}function n(r,o){var a=new l;o.accept(a);var i={fieldsBeingFiltered:_.uniqWith(a.fieldsBeingFiltered,c.fS),isSubquery:!1};if(a.subqueryName){i.isSubquery=!0;var m=r.sources(),V=(0,h.K)(m&&m[a.subqueryName]);V&&(i.orderByField=V.orderByField,i.itemCount=V.itemCount,i.isTop=V.isTop)}return i}var l=function(r){function o(){var a=r.call(this)||this;return a.fieldsBeingFiltered=[],a}return(0,e.__extends)(o,r),o.prototype.visitColumnRef=function(a){this.fieldsBeingFiltered.push(a)},o.prototype.visitHierarchyLevel=function(a){this.fieldsBeingFiltered.push(a)},o.prototype.visitGroupRef=function(a){this.fieldsBeingFiltered.push(a)},o.prototype.visitSubqueryRef=function(a){a.variable?this.subqueryName=a.variable:s.fF.assertFail("SubqueryRef with a inlined subquery not expected here")},o.prototype.visitAggr=function(a){(0,b.Q)(a)&&this.fieldsBeingFiltered.push(a)},o.prototype.visitPropertyVariationSource=function(a){this.fieldsBeingFiltered.push(a)},o.prototype.visitMeasureRef=function(a){this.fieldsBeingFiltered.push(a)},o}(v.PA)},463446:function(Je,H,t){t.d(H,{VM:function(){return b},pi:function(){return f}});var e=t(456535),c=t(787941),s=t(289135);function f(r){if(r){var o=r.conditions();if(o&&1===o.length)return function(r){var o=new l;return o.tryParseCondition(r)?{field:o.field,options:o.options}:null}(o[0])}}function b(r){return n(r,1)}function n(r,o){var a={};if(null!=r.min){c.fF.assert(function(){return(0,s.M4)(r.min)},"Implementing DateWithEpochValue is needed for serialization");var i=(0,s.Fh)(r.min);i.setHours(0,0,0,0);var m=new Date(i.epochTimeStamp);m.setUTCHours(0,0,0,0),i.epochTimeStamp=m.getTime(),a.min=i}if(null!=r.max){c.fF.assert(function(){return(0,s.M4)(r.max)},"Implementing DateWithEpochValue is needed for serialization");var u=new Date(r.max.getFullYear(),r.max.getMonth(),r.max.getDate()+o);u.epochTimeStamp=Date.UTC(u.getFullYear(),u.getMonth(),u.getDate()),a.max=u}return a}var l=function(){function r(){}return r.prototype.tryParseCondition=function(o){return(0,e.un)(o)?this.tryParseAndCondition(o):!!(0,e.$Q)(o)&&this.tryParseCompareCondition(o)},r.prototype.tryParseAndCondition=function(o){var a=o;return!(!(0,e.$Q)(a.left)||!(0,e.$Q)(a.right))&&this.tryParseCompareCondition(a.left)&&this.tryParseCompareCondition(a.right)},r.prototype.tryParseCompareCondition=function(o){var a=o;return!(!(0,e.t3)(a.left)&&!(0,e.ez)(a.left))&&(this.field=a.left,this.options=this.options||{},this.tryParseNumericCompareCondition(a)||this.tryParseDateCompareCondition(a))},r.prototype.tryParseNumericCompareCondition=function(o){if(!(0,e.S9)(o.right))return!1;switch(o.comparison){case 0:this.options.min=o.right.value,this.options.max=o.right.value;break;case 1:case 2:this.options.min=o.right.value;break;case 3:case 4:this.options.max=o.right.value;break;default:return c.fF.assertNever(o.comparison),!1}return!0},r.prototype.tryParseDateCompareCondition=function(o){return(0,e.dZ)(o.right)&&o.right.arg&&(0,e.fU)(o.right.arg)?this.tryParseDateConstantCondition(o.comparison,o.right.arg):!!(0,e.fU)(o.right)&&this.tryParseDateConstantCondition(o.comparison,o.right)},r.prototype.parseDateValue=function(o){return(0,s.M4)(o)?o:(0,s.Fg)(new Date(o))},r.prototype.tryParseDateConstantCondition=function(o,a){switch(o){case 0:this.options.min=this.parseDateValue(a.value),this.options.max=this.parseDateValue(a.value);break;case 1:case 2:this.options.min=this.parseDateValue(a.value);break;case 3:this.options.max=this.parseDateValue(a.value),this.options=function(r){return n(r,-1)}(this.options);break;case 4:this.options.max=this.parseDateValue(a.value);break;default:return c.fF.assertNever(o),!1}return 3!==o&&(this.options=function(r){return n(r,0)}(this.options)),!0},r}()},211763:function(Je,H,t){t.d(H,{UX:function(){return o},hN:function(){return u},kW:function(){return n},nh:function(){return p},pi:function(){return i},ym:function(){return m}});var e=t(456535),c=t(474147),s=t(787941),f=t(648887),v=t(13106),b=t(324356),h=t(158519);function p(g){var y=n(g);return v.yl.fromSQExpr(y)}function n(g,y){void 0===y&&(y=!1);var C=g.field,E=g.options,M=null,P=(0,b.zO)();if(g.options.anchorDate&&!(0,f.Re)(E.relativeUnit)){var T=g.options.anchorDate;T.epochTimeStamp=Date.UTC(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()),P=(0,b.CQ)(g.options.anchorDate)}var x=function(g){switch(g){case f.hU.CalendarYear:case f.hU.Year:return 3;case f.hU.CalendarMonth:case f.hU.Month:return 2;case f.hU.CalendarWeek:case f.hU.Week:return 1;case f.hU.Day:return 0;case f.hU.Hour:return 7;case f.hU.Minute:return 6;case f.hU.Second:return 5;default:return void s.fF.assertFail("Unsupported RelativeDateUnit")}}(E.relativeUnit),R=o(E.relativeUnit,y);switch(E.relativeQualifier){case f.KO.Current:var D=(0,b.uQ)(x,P);M=(0,b.qu)(0,C,D);break;case f.KO.Last:if(R)M=l(-E.duration,-1,x,P,C);else if((0,f.Re)(E.relativeUnit)){var L=P,F=(0,b.sO)(x,-E.duration,P);M=(0,b.vX)(C,F,L)}else{var A=E.includeToday?P:(0,b.sO)(0,-1,P);L=(0,b.uQ)(0,A),F=(0,b.uQ)(0,(0,b.sO)(x,-E.duration,(0,b.sO)(0,1,A))),M=(0,b.vX)(C,F,L)}break;case f.KO.Next:if(R)M=l(1,E.duration,x,P,C);else if((0,f.Re)(E.relativeUnit))F=P,L=(0,b.sO)(x,E.duration,P),M=(0,b.vX)(C,F,L);else{var O=E.includeToday?P:(0,b.sO)(0,1,P);F=(0,b.uQ)(0,O),L=(0,b.uQ)(0,(0,b.sO)(x,E.duration,(0,b.sO)(0,-1,O))),M=(0,b.vX)(C,F,L)}}return M}function l(g,y,C,E,M){var P=(0,b.uQ)(C,(0,b.sO)(C,g,E)),T=(0,b.uQ)(C,(0,b.sO)(C,y,E));return(0,b.vX)(M,P,T)}function o(g,y){switch(void 0===y&&(y=!1),g){case f.hU.Second:case f.hU.Minute:case f.hU.Hour:case f.hU.Year:case f.hU.Month:case f.hU.Week:return!1;case f.hU.Day:return y;case f.hU.CalendarYear:case f.hU.CalendarMonth:case f.hU.CalendarWeek:return!0;default:return void s.fF.assertFail("Unsupported RelativeDateUnit")}}function a(g,y){switch(g){case 0:return f.hU.Day;case 1:return y?f.hU.CalendarWeek:f.hU.Week;case 2:return y?f.hU.CalendarMonth:f.hU.Month;case 3:return y?f.hU.CalendarYear:f.hU.Year;case 7:return f.hU.Hour;case 6:return f.hU.Minute;case 5:return f.hU.Second;default:return}}function i(g,y){if(g){var C=g.conditions();if(C&&1===C.length)return m(C[0],y)}}function m(g,y){var C=new S(y);if(C.tryExtractParametersFrom(g))return{field:C.field,options:C.options}}function u(g){return!!g&&(!(!g.where()||!function(g){for(var y=new S(f.wj.Time),C=0,E=g;C<E.length;C++){var M=E[C];if(M.condition&&y.tryExtractParametersFrom(M.condition))return!0}return!1}(g.where()))||function(g){var y=g.sources();if(!y)return!1;for(var C=0,E=g.keys();C<E.length;C++){var P=y[E[C]];if((0,h.y)(P)&&P.subquery&&u(P.subquery))return!0}return!1}(g.from()))}var S=function(){function g(y){this.relativeFilterType=y}return g.prototype.tryExtractParametersFrom=function(y){return this.tryExtractCurrent(y)||this.tryExtractLastOrNext(y)},g.prototype.tryExtractCurrent=function(y){if((0,e.$Q)(y)){var C=y;if(((0,e.t3)(C.left)||(0,e.ez)(C.left))&&(this.field=C.left,(0,e.dZ)(C.right))){var E=C.right,M=f.t0.convertTimeUnitToRelativeFilterType(E.unit);if(this.relativeFilterType!==M)return!1;if(void 0!==a(E.unit,!1)&&((0,e.jr)(E.arg)||(0,e.fU)(E.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:f.KO.Current,relativeUnit:a(E.unit,!1)},(0,e.fU)(E.arg)&&(this.options.anchorDate=E.arg.value),this.validateOptions(y)))return!0}}return!1},g.prototype.tryExtractLastOrNext=function(y){if((0,e.Kh)(y)){var C=y;if((0,e.t3)(C.arg)||(0,e.ez)(C.arg))if(this.field=C.arg,(0,e.dZ)(C.upper)&&(0,e.dZ)(C.lower)){if(this.options=this.getOptionsFromDateSpan(C.lower,f.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateSpan(C.upper,f.KO.Next),this.validateOptions(y)))return!0}else if((0,e.Ok)(C.upper)||(0,e.Ok)(C.lower)){var E=C.lower,M=C.upper;if(this.options=this.getOptionsFromDateAdd(E,E.unit,f.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateAdd(M,M.unit,f.KO.Next),this.validateOptions(y)))return!0}}return!1},g.prototype.getOptionsFromDateSpan=function(y,C){if((0,e.dZ)(y))return this.getOptionsFromDateAdd(y.arg,y.unit,C)},g.prototype.getOptionsFromDateAdd=function(y,C,E){if((0,e.Ok)(y)){var M=y,P=f.t0.convertTimeUnitToRelativeFilterType(M.unit);if(this.relativeFilterType!==P)return;var T=C===M.unit&&0!==C,x=!!T||this.getIncludeToday(M.arg),R=this.getAnchorDate(M);switch(E){case f.KO.Last:if(M.amount<0)return{duration:-M.amount,includeToday:x,relativeQualifier:E,relativeUnit:a(M.unit,T),anchorDate:R};break;case f.KO.Next:if(M.amount>0)return{duration:M.amount,includeToday:x,relativeQualifier:E,relativeUnit:a(M.unit,T),anchorDate:R}}}},g.prototype.getAnchorDate=function(y){for(var C=y;(0,e.Ok)(C);)C=C.arg;if((0,e.fU)(C))return C.value},g.prototype.getIncludeToday=function(y){if((0,e.Ok)(y)){var C=y;return(0,e.jr)(C.arg)||(0,e.fU)(C.arg)}return!1},g.prototype.validateOptions=function(y){if(!this.field||!this.options)return!1;var C={field:this.field,options:this.options};return(0,c.fS)(y,n(C))||this.options.relativeUnit===f.hU.Day&&!this.options.includeToday&&(0,c.fS)(y,n(C,!0))},g}()},217926:function(Je,H,t){t.d(H,{Cj:function(){return i},Dh:function(){return l},FD:function(){return r},J2:function(){return o},KX:function(){return n},RR:function(){return p},aL:function(){return m},lZ:function(){return a}});var e=t(226514),c=t(456535),s=t(474147),f=t(883863),v=t(787941),b=t(324356),h=t(116170);function p(S){var g=new m;return S.accept(g),g.malformed?null:(0,f.rm)(g.keys)}function n(S){var g=new m;return S.accept(g),g.malformed?null:(0,f.rm)(g.values)}function l(S){var g=new m;return S.accept(g),g.malformed?null:(0,f.rm)(g.pairs)}function r(S){if((0,c.Hi)(S))return S;var g=new m;if(S.accept(g),!g.malformed){var y=(0,f.rm)(g.keys),C=(0,f.rm)(g.values);if(y&&C)return(0,b.Sh)(y,[C])}}function o(S,g){v.fF.assertValue(S,"expr"),v.fF.assertNonEmpty(g,"subsetFieldExprs");var y=new u(g);return S.accept(y),y.getResult()}function a(S,g){if(!g||!S)return[];var y=new d(S);return g.accept(y),y.getValues()}function i(S){var g=new V;return S.accept(g),!!g.containsSelectRef}var m=function(S){function g(){var y=null!==S&&S.apply(this,arguments)||this;return y.keys=[],y.values=[],y.pairs=[],y}return(0,e.__extends)(g,S),g.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},g.prototype.visitCompare=function(y){0===y.comparison?(v.fF.assert(function(){return y.left instanceof b.Il&&y.right instanceof b.jz},"invalid compare expr operands"),this.pairs.push(y),y.left.accept(this),y.right.accept(this)):this.visitDefault(y)},g.prototype.visitIn=function(y){for(var C=0,E=y.args;C<E.length;C++)E[C].accept(this);for(var P=0,T=y.values;P<T.length;P++)for(var R=0,D=T[P];R<D.length;R++)D[R].accept(this)},g.prototype.visitSelectRef=function(y){this.keys.push(y)},g.prototype.visitColumnRef=function(y){this.keys.push(y)},g.prototype.visitGroupRef=function(y){this.keys.push(y)},g.prototype.visitHierarchyLevel=function(y){this.keys.push(y)},g.prototype.visitConstant=function(y){this.values.push(y)},g.prototype.visitArithmetic=function(y){this.keys.push(y)},g.prototype.visitDefault=function(y){this.malformed=!0},g}(h.vq),u=function(S){function g(y){var C=S.call(this)||this;return v.fF.assertNonEmpty(y,"identityFieldExprs"),C.identityFieldExprs=y,C.identityComparisonExprs=[],C.identityComparisonExprCount=0,C}return(0,e.__extends)(g,S),g.prototype.getResult=function(){var y=this;if(v.fF.assert(function(){return y.identityComparisonExprCount===_.filter(y.identityComparisonExprs,function(T){return!!T}).length},"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var C,E=0,M=this.identityComparisonExprs;E<M.length;E++){var P=M[E];C=C?(0,b.xD)(C,P):P}return C}},g.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},g.prototype.visitCompare=function(y){if(0===y.comparison){var C=_.findIndex(this.identityFieldExprs,function(E){return(0,s.fS)(y.left,E)});C>=0&&!this.identityComparisonExprs[C]&&(this.identityComparisonExprs[C]=y,this.identityComparisonExprCount++)}else this.visitDefault(y)},g.prototype.visitDefault=function(y){this.malformed=!0},g}(h.vq),V=function(S){function g(){return null!==S&&S.apply(this,arguments)||this}return(0,e.__extends)(g,S),g.prototype.visitSelectRef=function(y){this.containsSelectRef=!0},g}(h.PA),d=function(S){function g(y){var C=S.call(this)||this;return C.targetExpr=y,C.orderedValues=[],C}return(0,e.__extends)(g,S),g.prototype.getValues=function(){return _.uniq(this.orderedValues)},g.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},g.prototype.visitOr=function(y){y.left.accept(this),y.right.accept(this)},g.prototype.visitCompare=function(y){0===y.comparison&&(y.right instanceof b.Wh&&(0,s.fS)(y.right,this.targetExpr)&&y.left instanceof b.jz&&this.orderedValues.push(y.left.value),y.left instanceof b.Wh&&(0,s.fS)(y.left,this.targetExpr)&&y.right instanceof b.jz&&this.orderedValues.push(y.right.value))},g.prototype.visitIn=function(y){var C=-1;if(!y.table){for(var E=0;E<y.args.length;E++)if((0,s.fS)(y.args[E],this.targetExpr)){C=E;break}if(-1!==C)for(var M=0,P=y.values;M<P.length;M++){var x=P[M][C];x instanceof b.jz&&this.orderedValues.push(x.value)}}},g}(h.vq)},7681:function(Je,H,t){t.d(H,{K:function(){return b}});var e=t(226514),c=t(158519),s=t(787941),f=t(116170),v=t(597098);function b(p){if(p&&(0,c.y)(p)){var n=p.subquery.orderBy();if(!n||1!==n.length)return;var l=n[0],r=new h;return r.visitOrderBy(l.expr)?{orderByField:r.orderByField,isTop:2===l.direction,itemCount:p.subquery.top()}:void 0}}var h=function(p){function n(){var l=p.call(this)||this;return l.orderByField=null,l}return(0,e.__extends)(n,p),n.prototype.visitOrderBy=function(l){return l.accept(this,0)},n.prototype.visitAggr=function(l,r){return 0===r&&(s.fF.assertValue((0,v.Q)(l),"expected field pattern"),this.orderByField=l,!0)},n.prototype.visitMeasureRef=function(l,r){return 0===r&&(this.orderByField=l,!0)},n}(f.Ml)},138030:function(Je,H,t){t.d(H,{J_:function(){return n},VK:function(){return l}});var e=t(226514),c=t(787941),s=t(13106),f=t(324356),v=t(116170),b=t(620006),h=t(158519),p=t(7681);function n(i,m){if(i){if(i instanceof s.yl){var u=i.conditions();return c.fF.assertValue(u,"conditions"),c.fF.assert(function(){return 1===u.length},"should be exactly one filter condition for a TopN filter"),r(i.from(),u[0])}return r(m,i.condition)}}function l(i){var m=function(i){var m=new b.cL,u=s.cX.rewrite(i.fieldBeingFiltered,null,m),V=s.cX.rewrite(i.orderByField,null,m);return s.vQ.createWith({from:m,orderBy:[{expr:V,direction:i.isTop?2:1}],select:[{name:"field",expr:u}],top:i.itemCount})}(i),u=new b.vd(m),V=new b.cL,d=V.ensureSource(u,"subquery"),S=(0,f.dY)([i.fieldBeingFiltered],(0,f.v5)(d.name));return s.yl.fromSQFromAndSQExpr(V,S)}function r(i,m){c.fF.assertValue(i,"from"),c.fF.assertValue(m,"condition");var u=new a;if(u.visitCondition(m)){var V=i.sources(),d=V&&V[u.subqueryName],S=(0,p.K)(d);if(S&&(0,h.y)(d))return{fieldBeingFiltered:u.fieldBeingFiltered,isTop:S.isTop,itemCount:d.subquery.top(),orderByField:S.orderByField}}}var a=function(i){function m(){var u=i.call(this)||this;return u.fieldBeingFiltered=null,u.subqueryName=null,u}return(0,e.__extends)(m,i),m.prototype.visitCondition=function(u){return u.accept(this,0)},m.prototype.visitIn=function(u,V){return!!(0===V&&u.args&&1===u.args.length&&u.args[0].accept(this,1)&&u.table&&u.table.accept(this,2))},m.prototype.visitColumnRef=function(u,V){return 1===V&&(this.fieldBeingFiltered=u,!0)},m.prototype.visitHierarchyLevel=function(u,V){return 1===V&&(this.fieldBeingFiltered=u,!0)},m.prototype.visitGroupRef=function(u,V){return 1===V&&(this.fieldBeingFiltered=u,!0)},m.prototype.visitSubqueryRef=function(u,V){return 2===V&&(u.variable?this.subqueryName=u.variable:c.fF.assertFail("SubqueryRef with a direct subquery not expected here"),!0)},m}(v.Ml)},588659:function(Je,H,t){t.d(H,{k:function(){return n}});var e=t(44615),c=t(597098),s=t(998583),f=t(226514),v=t(787941),b=t(324356),p=function(r){function o(a){var i=this;return v.fF.assertValue(a,"func"),(i=r.call(this)||this).func=a,i}return(0,f.__extends)(o,r),o.prototype.visitAggr=function(a){return a.func===this.func?a:new b.v0(a.arg,this.func)},o.prototype.visitColumnRef=function(a){return new b.v0(a,this.func)},o.prototype.visitGroupRef=function(a){return new b.v0(a,this.func)},o.prototype.visitHierarchyLevel=function(a){return new b.v0(a,this.func)},o.rewrite=function(a,i){v.fF.assertValue(a,"expr"),v.fF.assertValue(i,"func");var m=new o(i);return a.accept(m)},o}(t(954617).p);function n(r,o){return l.rewrite(r,o)}var l=function(){function r(o,a){this.sqExpr=o,this.aggregate=a}return r.rewrite=function(o,a){return(0,e.Vn)((0,c.Q)(o),new r(o,a))},r.prototype.visitPercentOfGrandTotal=function(o){return o.baseExpr=(0,c.Q)(p.rewrite((0,s.B)(o.baseExpr),this.aggregate)),(0,s.B)({percentOfGrandTotal:o})},r.prototype.visitPercentOfRoleTotal=function(o){return o.baseExpr=(0,c.Q)(p.rewrite((0,s.B)(o.baseExpr),this.aggregate)),(0,s.B)({percentOfRoleTotal:o})},r.prototype.visitFilteredEval=function(o){return o.baseExpr=(0,c.Q)(p.rewrite((0,s.B)(o.baseExpr),this.aggregate)),(0,s.B)({filteredEval:o})},r.prototype.visitColumn=function(o){return this.defaultRewrite()},r.prototype.visitColumnAggr=function(o){return this.defaultRewrite()},r.prototype.visitGroupingColumn=function(o){return this.defaultRewrite()},r.prototype.visitGroupingColumnAggr=function(o){return this.defaultRewrite()},r.prototype.visitColumnHierarchyVariation=function(o){return this.defaultRewrite()},r.prototype.visitColumnHierarchyLevelVariation=function(o){return this.defaultRewrite()},r.prototype.visitColumnSubquery=function(o){return this.defaultRewrite()},r.prototype.visitColumnAggrSubquery=function(o){return this.defaultRewrite()},r.prototype.visitColumnTransformRef=function(o){return this.defaultRewrite()},r.prototype.visitSelectRef=function(o){return this.defaultRewrite()},r.prototype.visitEntity=function(o){return this.defaultRewrite()},r.prototype.visitEntityAggr=function(o){return this.defaultRewrite()},r.prototype.visitHierarchy=function(o){return this.defaultRewrite()},r.prototype.visitHierarchyLevel=function(o){return this.defaultRewrite()},r.prototype.visitHierarchyLevelAggr=function(o){return this.defaultRewrite()},r.prototype.visitMeasure=function(o){return this.defaultRewrite()},r.prototype.visitPercentile=function(o){return this.defaultRewrite()},r.prototype.visitTransformOutputRoleRef=function(o){return this.defaultRewrite()},r.prototype.visitArithmetic=function(o){return this.defaultRewrite()},r.prototype.visitConstant=function(o){return this.defaultRewrite()},r.prototype.visitSparklineData=function(o){return this.defaultRewrite()},r.prototype.visitNativeVisualCalc=function(o){return this.defaultRewrite()},r.prototype.defaultRewrite=function(){return p.rewrite(this.sqExpr,this.aggregate)},r}()},435795:function(Je,H,t){t.d(H,{n:function(){return h}});var e=t(226514),c=t(44615),s=t(597098),f=t(998583),v=t(954617),b=t(787941);function h(l,r){return n.rewrite(l,r)}var p=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return(0,e.__extends)(r,l),r.prototype.visitAggr=function(o){return o.arg},r.rewrite=function(o){return b.fF.assertValue(o,"expr"),o.accept(r.instance)},r.instance=new r,r}(v.p),n=function(){function l(r){this.sqExpr=r}return l.rewrite=function(r,o){return(0,c.Vn)((0,s.Q)(r,o),new l(r))},l.prototype.visitPercentOfGrandTotal=function(r){return l.rewrite((0,f.B)(r.baseExpr))},l.prototype.visitPercentOfRoleTotal=function(r){return l.rewrite((0,f.B)(r.baseExpr))},l.prototype.visitFilteredEval=function(r){return l.rewrite((0,f.B)(r.baseExpr))},l.prototype.visitColumn=function(r){return this.defaultRewrite()},l.prototype.visitColumnAggr=function(r){return this.defaultRewrite()},l.prototype.visitGroupingColumn=function(r){return this.defaultRewrite()},l.prototype.visitGroupingColumnAggr=function(r){return this.defaultRewrite()},l.prototype.visitColumnHierarchyVariation=function(r){return this.defaultRewrite()},l.prototype.visitColumnHierarchyLevelVariation=function(r){return this.defaultRewrite()},l.prototype.visitColumnSubquery=function(r){return this.defaultRewrite()},l.prototype.visitColumnAggrSubquery=function(r){return this.defaultRewrite()},l.prototype.visitColumnTransformRef=function(r){return this.defaultRewrite()},l.prototype.visitSelectRef=function(r){return this.defaultRewrite()},l.prototype.visitEntity=function(r){return this.defaultRewrite()},l.prototype.visitEntityAggr=function(r){return this.defaultRewrite()},l.prototype.visitHierarchy=function(r){return this.defaultRewrite()},l.prototype.visitHierarchyLevel=function(r){return this.defaultRewrite()},l.prototype.visitHierarchyLevelAggr=function(r){return this.defaultRewrite()},l.prototype.visitMeasure=function(r){return this.defaultRewrite()},l.prototype.visitPercentile=function(r){return this.defaultRewrite()},l.prototype.visitTransformOutputRoleRef=function(r){return this.defaultRewrite()},l.prototype.visitArithmetic=function(r){return this.defaultRewrite()},l.prototype.visitConstant=function(r){return this.defaultRewrite()},l.prototype.visitSparklineData=function(r){return this.defaultRewrite()},l.prototype.visitNativeVisualCalc=function(r){return this.defaultRewrite()},l.prototype.defaultRewrite=function(){return p.rewrite(this.sqExpr)},l}()},880787:function(Je,H,t){t.d(H,{F:function(){return b}});var e=t(226514),c=t(334048),s=t(324356),f=t(620006),v=t(883863),b=function(h){function p(n){var l=h.call(this)||this;return l.query=n,l.hasRewrites=!1,l}return(0,e.__extends)(p,h),p.prototype.visitSubqueryRef=function(n){if(!n.query)return n;var r=new p(n.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var o=new f.vd(r),a=this.mergedFrom.ensureSource(o);return this.hasRewrites=!0,(0,s.v5)(a.name)},Object.defineProperty(p.prototype,"didRewrite",{get:function(){return this.hasRewrites},enumerable:!1,configurable:!0}),p.prototype.rewrite=function(){var n=this,l=this.query.select(),r=(0,v.z8)((0,v.UU)(l,function(o){var a=o.expr.accept(n);return a===o.expr?o:{name:o.name,expr:a}}));return r===l?this.query:this.query.createModified({from:this.mergedFrom,select:r})},p}(c.b)},230762:function(Je,H,t){t.d(H,{CI:function(){return r},O7:function(){return l},Wv:function(){return n},_L:function(){return h},fL:function(){return p},tx:function(){return b}});var e=t(787941),c=t(289135),s=/'/g,f=/\.000$/;function b(o){return e.fF.assertValue(o,"value"),o+"D"}function h(o){return e.fF.assertValue(o,"value"),o+"L"}function p(o){return e.fF.assertValue(o,"value"),"'"+o.replace(s,"''")+"'"}function n(){return"null"}function l(o){return o?"true":"false"}function r(o,a){if(null===o)return"null";switch(a.primitiveType){case 4:return e.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(a)),o+"L";case 2:return e.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(a)),o+"M";case 3:return e.fF.assert(function(){return _.isString(o)||_.isNumber(o)},"Expected either a string or number value to encode for type ".concat(a)),o+"D";case 7:case 6:var m=void 0;return o instanceof Date?(m=(0,c.M4)(o)?new Date(o.epochTimeStamp).toISOString():new Date(o.getTime()-6e4*o.getTimezoneOffset()).toISOString(),_.endsWith(m,"Z")&&(m=m.substr(0,m.length-1)),m=m.replace(f,"")):(e.fF.assert(function(){return _.isString(o)},"Expected a string or a Date value for type ".concat(a)),m=o),"datetime'".concat(m,"'");case 1:return e.fF.assert(function(){return _.isString(o)},"Expected a string value to encode for type ".concat(a)),p(o);case 5:return e.fF.assert(function(){return _.isBoolean(o)},"Expected boolean values for type ".concat(a)),l(o);case 13:return e.fF.assert(function(){return _.isString(o)},"Expected string values to encode for type ".concat(a)),o;default:e.fF.assertFail("unsupported dsrValue for type ".concat(a))}}},13106:function(Je,H,t){t.d(H,{cX:function(){return T},yl:function(){return P},vQ:function(){return M},Je:function(){return E},RD:function(){return F},d3:function(){return A}});var e=t(226514),c=t(883863),s=t(787941),f=t(261374),v=t(601139),b=t(324356),h=t(334048),p=t(116170),n=t(620006),l=t(158519),o=t(456535),a=t(474147),i=t(450802),m=t(690016),u=t(174197);function V(N,w,I){s.fF.assertValue(N,"namedItems");for(var B={},j=0,W=N.length;j<W;j++)B[N[j].name]=!0;return(0,m.zE)(B,I||(0,u.L)(w))}var d=t(374952),g=function(N){function w(){return null!==N&&N.apply(this,arguments)||this}return(0,e.__extends)(w,N),w.prototype.visitCompare=function(I){return 0===I.comparison&&I.right.accept(this)},w.prototype.visitAnd=function(I){return I.left.accept(this)&&I.right.accept(this)},w.prototype.visitAnyValue=function(I){return!0},w.prototype.visitDefault=function(I){return!1},w.instance=new w,w}(p.vq),y=t(444119),C=t(331115),E=function(){function N(w){this.exprRewriter=w}return N.rewriteFrom=function(w,I){for(var B,j=w,W=j.keys(),U=0,k=W.length;U<k;U++){var Q=W[U],te=j.source(Q),ee=te.accept(I,Q);(te!==ee||B)&&(B||(B=_.pick(j.sources(),W.slice(0,U))),B[Q]=ee)}return B?new n.cL(B):j},N.prototype.rewriteFrom=function(w){return N.rewriteFrom(w,new n.Ww(this.exprRewriter))},N.prototype.rewriteSelect=function(w,I){return s.fF.assertValue(w,"selectItems"),s.fF.assertValue(I,"from"),this.rewriteNamedSQExpressions(w,I)},N.prototype.rewriteGroupBy=function(w,I){if(s.fF.assertAnyValue(w,"groupByitems"),s.fF.assertValue(I,"from"),!_.isEmpty(w))return this.rewriteNamedSQExpressions(w,I)},N.prototype.rewriteNamedSQExpressions=function(w,I){var B=this;return s.fF.assertValue(w,"expressions"),_.map(w,function(j){return{name:j.name,expr:T.rewrite(j.expr.accept(B.exprRewriter),I,I),nativeReferenceName:j.nativeReferenceName}})},N.prototype.rewriteOrderBy=function(w,I){if(s.fF.assertAnyValue(w,"orderByItems"),s.fF.assertValue(I,"from"),!_.isEmpty(w)){for(var B=[],j=0,W=w.length;j<W;j++){var U=w[j],k=T.rewrite(U.expr.accept(this.exprRewriter),I,I);B.push({direction:U.direction,expr:k})}return B}},N.prototype.rewriteWhere=function(w,I){var B=this;if(s.fF.assertAnyValue(w,"whereItems"),s.fF.assertValue(I,"from"),!_.isEmpty(w)){for(var j=[],W=0,U=w.length;W<U;W++){var k=w[W],Q={condition:T.rewrite(k.condition.accept(this.exprRewriter),I,I)};k.target&&(Q.target=_.map(k.target,function(te){return T.rewrite(te.accept(B.exprRewriter),I,I)})),k.annotations&&(Q.annotations=k.annotations),j.push(Q)}return j}},N.prototype.rewriteTransform=function(w,I){var B=this;if(s.fF.assertAnyValue(w,"transformItems"),s.fF.assertAnyValue(I,"from"),!_.isEmpty(w)){for(var j=[],W=0,U=w;W<U.length;W++){var k=U[W],Q=void 0;k.input.table&&!_.isEmpty(k.input.table.columns)&&(Q=_.map(k.input.table.columns,function(ee){return{role:ee.role,expression:{name:ee.expression.name,expr:T.rewrite(ee.expression.expr.accept(B.exprRewriter),I,I)}}}));var te={name:k.name,algorithm:k.algorithm,input:{parameters:k.input.parameters},output:k.output};k.input.table&&(te.input.table={name:k.input.table.name,columns:Q}),j.push(te)}return j}},N}(),M=function(){function N(w,I,B,j,W,U,k){s.fF.assertValue(w,"from"),s.fF.assertValue(j,"select"),this.fromValue=w,this.whereItems=I,this.orderByItems=B,this.selectItems=j,this.groupByItems=W,this.transformItems=U,null!=k&&(this.topValue=k)}return N.create=function(){return N.empty||(N.empty=new N(new n.cL,null,null,[],null,null,null)),N.empty},N.createWith=function(w,I){return s.fF.assertValue(w,"clauses"),I||(w=N.normalize(w)),new N(w.from,w.where,w.orderBy,w.select,w.groupBy,w.transforms,w.top)},N.prototype.createModified=function(w){return N.createWith({from:void 0!==w.from?w.from:this.fromValue,where:void 0!==w.where?w.where:this.whereItems,transforms:void 0!==w.transforms?w.transforms:this.transformItems,orderBy:void 0!==w.orderBy?w.orderBy:this.orderByItems,select:void 0!==w.select?w.select:this.selectItems,groupBy:void 0!==w.groupBy?w.groupBy:this.groupByItems,top:void 0!==w.top?w.top:this.topValue})},N.normalize=function(w){var I={clauses:{from:w.from,where:w.where,orderBy:w.orderBy,select:w.select,groupBy:w.groupBy,transforms:w.transforms,top:w.top},usedSourceNames:{}};return N.removeUnreferencedKeys(I),N.renameSources(I),N.renameSourcesInSubqueries(I),I.clauses},N.removeUnreferencedKeys=function(w){var I=w.clauses,B=I.from,j=I.where,W=I.orderBy,U=I.select,k=I.groupBy,Q=I.transforms,te=new x(B.keys());if(j)for(var ee=0,J=j.length;ee<J;ee++){var re=j[ee];re.condition.accept(te);var G=re.target;if(G)for(var ne=0,X=G.length;ne<X;ne++)G[ne]&&G[ne].accept(te)}if(Q)for(ee=0,J=Q.length;ee<J;ee++){var oe=Q[ee].input.table;if(oe&&!_.isEmpty(oe.columns))for(var Ve=0,Te=oe.columns;Ve<Te.length;Ve++)Te[Ve].expression.expr.accept(te)}if(W)for(ee=0,J=W.length;ee<J;ee++)W[ee].expr.accept(te);for(ee=0,J=U.length;ee<J;ee++)U[ee].expr.accept(te);if(k)for(ee=0,J=k.length;ee<J;ee++)k[ee].expr.accept(te);var He=te.result();if(He){for(var Ce=B.clone(),de=0,pe=He;de<pe.length;de++)Ce.remove(pe[de]);w.clauses.from=Ce}},N.renameSources=function(w){var I=w.clauses.from,B=I.renameSources(w.usedSourceNames);B!==I&&(w.clauses.from=B,N.rewriteClauses(w.clauses,new T(I,B)))},N.renameSourcesInSubqueries=function(w){w.clauses.from=D.renameSources(N.renameSourcesInQuery,w.clauses.from,w.usedSourceNames)},N.renameSourcesInQuery=function(w,I){var B={clauses:w.getClauses(),usedSourceNames:I},j=B.clauses.from;return N.renameSources(B),N.renameSourcesInSubqueries(B),B.clauses.from===j?w:N.createWith(B.clauses)},N.prototype.from=function(w){return w?this.createModified({from:w}):this.fromValue.clone()},N.prototype.select=function(w){return _.isEmpty(arguments)?this.getSelect():this.setSelect(w)},N.prototype.getSelect=function(){return N.createNamedExpressionArray(this.selectItems)},N.createNamedExpressionArray=function(w){return(0,c.z8)(_.map(w,function(I){return{name:I.name,expr:I.expr,nativeReferenceName:I.nativeReferenceName}}))},N.prototype.setSelect=function(w){var I=this.fromValue.clone(),B=N.rewriteExpressionsWithSourceRenames(w,I);return this.createModified({from:I,select:B})},N.rewriteExpressionsWithSourceRenames=function(w,I){for(var B=[],j=0,W=w.length;j<W;j++){var U=w[j];B.push({name:U.name,expr:T.rewrite(U.expr,null,I)})}return B},N.prototype.removeSelect=function(w){s.fF.assertValue(w,"expr");for(var I=this.selectItems,B=[],j=0,W=I.length;j<W;j++){var U=I[j];(0,a.fS)(U.expr,w)||B.push(U)}return this.createModified({select:B})},N.prototype.removeOrderBy=function(w){for(var I=this.orderBy(),B=I.length-1;B>=0;B--)(0,a.fS)(I[B].expr,w)&&I.splice(B,1);return this.createModified({orderBy:I})},N.prototype.removeTransform=function(w){for(var I=this.transforms(),B=0,j=I.length;B<j;B++)if(I[B].name===w.name){I.splice(B,1);break}return this.createModified({transforms:I})},N.prototype.selectNameOf=function(w){var I;return null===(I=this.getSelectFor(w))||void 0===I?void 0:I.name},N.prototype.selectNativeReferenceNameOf=function(w){var I;return null===(I=this.getSelectFor(w))||void 0===I?void 0:I.nativeReferenceName},N.prototype.getSelectFor=function(w){var I=(0,i.p)(this.selectItems,w);if(I>=0)return this.selectItems[I]},N.prototype.setSelectAt=function(w,I,B){if(s.fF.assertValue(I,"expr"),!(w>=this.selectItems.length)){var j=this.select(),W=this.fromValue.clone(),k=null!=B?B:j[w].nativeReferenceName;return j[w]={name:j[w].name,expr:T.rewrite(I,null,W),nativeReferenceName:k},this.createModified({from:W,select:j})}},N.prototype.addSelect=function(w,I,B){s.fF.assertValue(w,"expr");var j=this.select(),W=this.fromValue.clone();return j.push(this.createNamedExpr(j,W,w,I,B)),this.createModified({from:W,select:j})},N.prototype.setNativeReferenceNameAt=function(w,I){var B=this;s.fF.assert(function(){return 0<=w&&w<B.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[w].nativeReferenceName=I},N.prototype.getNativeReferenceNameAt=function(w){var I=this;return s.fF.assert(function(){return 0<=w&&w<I.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[w].nativeReferenceName},N.prototype.getNativeReferenceNames=function(w){var I=this.selectItems.map(function(B){return B.nativeReferenceName});return w?_.filter(I,function(B){return!(0,f.g)(B)}):I},N.prototype.createNamedExpr=function(w,I,B,j,W){return{name:V(w,B,j),expr:T.rewrite(B,I,I),nativeReferenceName:W}},N.prototype.groupBy=function(w){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(w)},N.prototype.getGroupBy=function(){return N.createNamedExpressionArray(this.groupByItems)},N.prototype.setGroupBy=function(w){var I=this.fromValue.clone(),B=N.rewriteExpressionsWithSourceRenames(w,I);return this.createModified({from:I,groupBy:B})},N.prototype.addGroupBy=function(w){s.fF.assertValue(w,"expr");var I=this.groupBy(),B=this.fromValue.clone();return I.push(this.createNamedExpr(I,B,w)),this.createModified({from:B,groupBy:I})},N.prototype.orderBy=function(w){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(w)},N.prototype.getOrderBy=function(){var w=[],I=this.orderByItems;if(I)for(var B=0,j=I.length;B<j;B++){var W=I[B];w.push({expr:W.expr,direction:W.direction})}return w},N.prototype.setOrderBy=function(w){s.fF.assertValue(w,"values");for(var I=[],B=this.fromValue.clone(),j=0,W=w.length;j<W;j++){var U=w[j];I.push({expr:T.rewrite(U.expr,B,B),direction:U.direction})}return this.createModified({from:B,orderBy:I})},N.prototype.where=function(w,I){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],w,I)},N.prototype.getWhere=function(){var w=[],I=this.whereItems;if(I)for(var B=0,j=I.length;B<j;B++)w.push(I[B]);return w},N.prototype.setWhere=function(w,I,B){s.fF.assertValue(w,"existingFilters"),s.fF.assertValue(I,"newFilters");for(var j=_.clone(w),W=this.fromValue.clone(),U=0,k=I;U<k.length;U++){var Q=k[U],te={condition:T.rewrite(Q.condition,B,W)};Q.target&&(te.target=_.map(Q.target,function(ee){return T.rewrite(ee,B,W)})),Q.annotations&&(te.annotations=Q.annotations),j.push(te)}return this.createModified({from:W,where:j})},N.prototype.addWhere=function(w,I){return this.setWhere(this.where(),w,I)},N.prototype.addSemanticFilter=function(w){return s.fF.assertValue(w,"filter"),this.setWhere(this.where(),w.where(),w.from())},N.prototype.transforms=function(w){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(w)},N.prototype.getTransforms=function(){var w=[];if(!_.isEmpty(this.transformItems))for(var I=0,B=this.transformItems;I<B.length;I++)w.push(B[I]);return w},N.prototype.setTransforms=function(w){for(var I=this,B=this.fromValue.clone(),j=[],W=0,U=w;W<U.length;W++){var k=U[W],Q=void 0;k.input.table&&!_.isEmpty(k.input.table.columns)&&(Q=_.map(k.input.table.columns,function(ee){return{role:ee.role,expression:I.createNamedExpr((0,c.z8)([]),B,ee.expression.expr,ee.expression.name)}}));var te={name:k.name,algorithm:k.algorithm,input:{parameters:k.input.parameters},output:k.output};k.input.table&&(te.input.table={name:k.input.table.name,columns:Q}),j.push(te)}return this.createModified({from:B,transforms:w})},N.prototype.top=function(w){return _.isEmpty(arguments)?this.topValue:this.setTop(w)},N.prototype.setTop=function(w){return s.fF.assert(function(){return null==w||w>0},"if top is specified, it must be positive"),this.createModified({top:w})},N.prototype.rewrite=function(w){var I=this.getClauses();return N.rewriteClauses(I,w),this.createModified(I)},N.prototype.hasVisualCalculations=function(){for(var w=0,I=this.selectItems;w<I.length;w++)if((0,o.jX)(I[w].expr))return!0;return!1},N.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},N.rewriteClauses=function(w,I){var B=new E(I);w.from=B.rewriteFrom(w.from),w.where=B.rewriteWhere(w.where,w.from),w.orderBy=B.rewriteOrderBy(w.orderBy,w.from),w.select=B.rewriteSelect(w.select,w.from),w.groupBy=B.rewriteGroupBy(w.groupBy,w.from),w.transforms=B.rewriteTransform(w.transforms,w.from)},N.willFiltersAffectQuery=function(w){return s.fF.assertValue(w,"query"),new R(w).willFilterAffectQuery()},N}(),P=function(){function N(w,I){s.fF.assertValue(w,"from"),s.fF.assertValue(I,"where"),this.fromValue=w,this.whereItems=I}return N.fromSQExpr=function(w){return N.fromSQFromAndSQExpr(new n.cL,w)},N.fromSQFromAndSQExpr=function(w,I){return s.fF.assertValue(w,"from"),s.fF.assertValue(I,"condition"),new N(w,[{condition:T.rewrite(I,w,w)}])},N.fromSQFromAndSQFilters=function(w,I){return new N(w,I)},N.clone=function(w){return N.fromSQFromAndSQFilters(w.from(),w.where())},N.fromMeasureFilters=function(w,I,B){s.fF.assertValue(w,"query"),s.fF.assert(function(){return!_.isEmpty(I)},"measureFilters not empty"),s.fF.assert(function(){return _.every(I,function(oe){return 1===(0,v._)(oe.condition)})},"Require measure filter");for(var j,W=[],U=w.where(),k=function(Ve){var Te=_.find(U,function(Qe){return(0,a.fS)(Qe.condition,Ve.condition)});if(!Te||!Te.target)return{value:void 0};j=j||Te.target,s.fF.assert(function(){return function(){for(var Qe=0;Qe<j.length;Qe++)if(!(0,a.fS)(j[Qe],Te.target[Qe]))return!1;return!0}()},"Expected targets to be the same."),W.push(Te)},Q=0,te=I;Q<te.length;Q++){var J=k(te[Q]);if("object"==typeof J)return J.value}var re=_.filter(U,function(oe){return 1!==(0,v._)(oe.condition)}),G=_.map(j,function(oe){return _.find(w.select(),function(Ve){return(0,a.fS)(oe,Ve.expr)})});B&&G.push.apply(G,this.getMeasuresForJoinPredicates(w,B)||[]);var ne=M.createWith({from:w.from(),select:G,where:(0,e.__spreadArray)((0,e.__spreadArray)([],re||[],!0),W||[],!0)});return A(N.fromMeasuresQuery(ne,j),w)},N.fromMeasuresQuery=function(w,I){var B=new n.vd(w),j=new n.cL,W=j.ensureSource(B,"subquery"),U=(0,b.dY)(I,(0,b.v5)(W.name)),k=T.rewrite(U,j,j),Q=[];return Q.push({condition:k}),N.fromSQFromAndSQFilters(j,Q)},N.getDefaultValueFilter=function(w){return N.getDataViewScopeIdentityComparisonFilters(w,(0,b.LS)())},N.getAnyValueFilter=function(w){return N.getDataViewScopeIdentityComparisonFilters(w,(0,b.n7)())},N.getDefaultAnyValueFilter=function(w,I){if(_.isEmpty(w))return N.getAnyValueFilter(I);if(_.isEmpty(I))return N.getDefaultValueFilter(w);var B=Array.apply(null,Array(w.length)).map(function(){return(0,b.LS)()}),j=Array.apply(null,Array(w.length)).map(function(){return(0,b.n7)()}),W=(0,C.R)(w,B),U=(0,C.R)(I,j),k=(0,b.xD)(W,U);return N.fromSQExpr(k)},N.getDataViewScopeIdentityComparisonFilters=function(w,I){if(s.fF.assertValue(w,"fieldSQExprs"),s.fF.assertValue(I,"value"),w instanceof Array){var B=Array.apply(null,Array(w.length)).map(function(){return I});return N.fromSQExpr((0,C.R)(w,B))}return N.fromSQExpr((0,b.Dg)(w,I))},N.prototype.from=function(){return this.fromValue.clone()},N.prototype.conditions=function(){for(var w=[],I=this.whereItems,B=0,j=I.length;B<j;B++)w.push(I[B].condition);return w},N.prototype.where=function(){for(var w=[],I=this.whereItems,B=0,j=I.length;B<j;B++)w.push(I[B]);return w},N.prototype.rewrite=function(w){var I=new E(w),B=I.rewriteFrom(this.fromValue);return new N(B,I.rewriteWhere(this.whereItems,B))},N.prototype.validate=function(w,I,B){var j=new b._R(w,I,B);return this.rewrite(j),j.errors},N.merge=function(w){if(_.isEmpty(w))return null;if(1===w.length)return w[0];for(var I=w[0],B=I.from(),j=(0,c.qn)(I.whereItems,I.whereItems.length),W=1,U=w.length;W<U;W++)N.applyFilter(w[W],B,j);return new N(B,j)},N.unmerge=function(w){for(var I=[],B=0,j=w.whereItems;B<j.length;B++){var U=new N(w.fromValue,[j[B]]);Object.keys(U.from().sources()).length>1&&(U=N.removeUnreferencedKeys(U)),I.push(U)}return I},N.removeUnreferencedKeys=function(w){var I=w.from(),B=w.where(),j=new x(I.keys());if(B)for(var W=0,U=B.length;W<U;W++){var k=B[W];k.condition.accept(j);var Q=k.target;if(Q)for(var te=0,ee=Q.length;te<ee;te++)Q[te]&&Q[te].accept(j)}var J=j.result();if(J){for(var re=0,G=J;re<G.length;re++)I.remove(G[re]);return new N(I,B)}},N.getMeasuresForJoinPredicates=function(w,I){for(var B=w.select(),j=[],W=function(te){var ee=B[te];if((0,d.k)(ee.expr)){if(_.some(I.SuppressedJoinPredicates,function(J){return J===te}))return"continue";(U.isSelectProjected(I.Primary,te)||U.isSelectProjected(I.Secondary,te))&&j.push(ee)}},U=this,k=0;k<B.length;k++)W(k);return j},N.isSelectProjected=function(w,I){if(w&&w.Groupings)for(var B=0,j=w.Groupings;B<j.length;B++){var W=j[B];if(_.some(W.Projections,function(U){return U===I})&&!_.some(W.SuppressedProjections,function(U){return U===I}))return!0}return!1},N.isDefaultFilter=function(w){return!(!w||1!==w.where().length)&&(0,y.F)(w.where()[0].condition)},N.isAnyFilter=function(w){return!(!w||1!==w.where().length)&&function(N){return s.fF.assertValue(N,"expr"),N.accept(g.instance)}(w.where()[0].condition)},N.isSameFilter=function(w,I){return w===I||!!(w&&I&&w.from().equals(I.from())&&(0,c.NF)(w.where(),I.where(),function(B,j){return(0,a.Me)(B,j)}))&&!(N.isDefaultFilter(w)&&N.isAnyFilter(I)||N.isAnyFilter(w)&&N.isDefaultFilter(I))},N.isInFilter=function(w){return!(!w||1!==w.where().length)&&(0,o.Hi)(w.where()[0].condition)},N.applyFilter=function(w,I,B){s.fF.assertValue(w,"filter"),s.fF.assertValue(I,"from"),s.fF.assertValue(B,"where");for(var W=0,U=w.whereItems;W<U.length;W++){var k=U[W],Q={condition:T.rewrite(k.condition,w.fromValue,I)};k.target&&(Q.target=_.map(k.target,function(te){return T.rewrite(te,w.fromValue,I)})),B.push(Q)}},N.prototype.setIgnoreMParameter=function(){for(var I=0,B=this.whereItems;I<B.length;I++){var j=B[I];j.annotations||(j.annotations={}),j.annotations["PowerBI.MParameterBehavior"]=1}},N}(),T=function(N){function w(I,B){var j=this;return s.fF.assertValue(B,"destinationFrom"),(j=N.call(this)||this).sourceFrom=I,j.destinationFrom=B,j}return(0,e.__extends)(w,N),w.prototype.visitEntity=function(I){var B=this.destinationFrom.source(I.variable);if(B&&(0,n.$r)(B)&&B.schema===I.schema&&B.entity===I.entity)return I;var j=this.destinationFrom.ensureSource(new n.SX(I.schema,I.entity),I.variable);return j.name!==I.variable?new b.PN(I.schema,I.entity,j.name):I},w.prototype.visitSubqueryRef=function(I){if(!this.sourceFrom)return s.fF.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),I;var B=this.sourceFrom.source(I.variable);if(!B)return I;var j=this.destinationFrom.source(I.variable);if(j&&(0,l.y)(j)&&(0,a.C6)(B.subquery,j.subquery))return I;var W=this.destinationFrom.ensureSource(new n.vd(B.subquery),I.variable);return W.name!==I.variable?new b.wb(W.name):I},w.prototype.visitNamedQueryRef=function(I){var B=this.destinationFrom.source(I.variable);if(B&&(0,n.Ms)(B)&&(0,a.fS)(B.expr,I))return I;var W=this.destinationFrom.ensureSource(new n.Qo(I),I.variable);return W.name!==I.variable?new b.nz(I.queryName,W.name):void 0},w.rewrite=function(I,B,j){s.fF.assertValue(I,"expr"),s.fF.assertValue(j,"destinationFrom");var W=new w(B,j);return I.accept(W)},w}(h.b),x=function(N){function w(I){var B=this;return s.fF.assertValue(I,"keys"),(B=N.call(this)||this).keys=I,B}return(0,e.__extends)(w,N),w.prototype.visitEntity=function(I){this.removeKey(I.variable)},w.prototype.visitSubqueryRef=function(I){this.removeKey(I.variable)},w.prototype.visitNamedQueryRef=function(I){this.removeKey(I.variable)},w.prototype.removeKey=function(I){var B=this.keys.indexOf(I);B>=0&&this.keys.splice(B,1)},w.prototype.result=function(){return this.keys},w}(p.PA),R=function(N){function w(I){var B=N.call(this)||this;return B.query=I,B.containsEntityRefs=!1,B.containsSubqueries=!1,B}return(0,e.__extends)(w,N),w.prototype.visitEntity=function(I){this.containsEntityRefs=!0},w.prototype.visitPropertyVariationSource=function(I){this.containsEntityRefs=!0},w.prototype.visitSubqueryRef=function(I){this.containsSubqueries=!0},w.prototype.willFilterAffectQuery=function(){for(var B=0,j=this.query.select();B<j.length;B++)j[B].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)},w}(p.PA),D=function(){function N(w,I,B){this.renameSources=w,this.from=I,this.usedSourceNames=B,s.fF.assertValue(w,"renameSources"),s.fF.assertValue(I,"from"),s.fF.assertValue(B,"usedSourceNames")}return N.renameSources=function(w,I,B){var j=new N(w,I,B);return E.rewriteFrom(I,j)},N.prototype.visitEntity=function(w,I){return w},N.prototype.visitPod=function(w,I){return w},N.prototype.visitSubquery=function(w,I){var B=w.subquery,j=this.renameSources(B,this.usedSourceNames);return j===B?w:new n.vd(j)},N.prototype.visitExpr=function(w,I){return w},N}();function F(N,w){var I=N.from(),B=I,j=P.merge(w);return I===(B=O.ensureFiltersInSubqueries(B,j.where(),j.from()))?N:P.fromSQFromAndSQFilters(B,N.where())}function A(N,w){var I=_.filter(_.map(w.select(),function(U){return U.expr}),function(U){return!(0,d.k)(U)});if(_.isEmpty(I))return N;var B=_.map(I,function(U){return{condition:(0,b.Dg)(U,(0,b.n7)(!0))}}),j=N.from(),W=O.ensureFiltersInSubqueries(j,B,j);return j===W?N:P.fromSQFromAndSQFilters(W,N.where())}var O=function(){function N(w,I){this.filtersToEnsure=w,this.filtersToEnsureFrom=I,this.modifiedSubquery=!1,s.fF.assertNonEmpty(w,"expected filters to ensure exist in each subquery")}return N.ensureFiltersInSubqueries=function(w,I,B){var j=new N(I,B),W=E.rewriteFrom(w,j);return s.fF.assert(function(){return W!==w===j.modifiedSubquery},"expected to rewrite the from clause if and only if we modified a subquery"),W},N.prototype.visitEntity=function(w,I){return w},N.prototype.visitPod=function(w,I){return w},N.prototype.visitSubquery=function(w,I){for(var B=w.subquery.where(),j=[],W=function(ee){_.find(B,function(J){return(0,a.Me)(ee,J)})||j.push(ee)},U=0,k=this.filtersToEnsure;U<k.length;U++)W(k[U]);return 0===j.length?w:(this.modifiedSubquery=!0,new n.vd(w.subquery.addWhere(j,this.filtersToEnsureFrom)))},N.prototype.visitExpr=function(w,I){return w},N}()},324356:function(Je,H,t){t.d(H,{X1:function(){return Rr},v0:function(){return I},uV:function(){return ee},iE:function(){return me},MH:function(){return T},I6:function(){return J},Wh:function(){return A},wU:function(){return ne},c8:function(){return X},jz:function(){return He},ev:function(){return oe},YB:function(){return de},AC:function(){return Ce},ex:function(){return Fe},PN:function(){return C},eX:function(){return Te},Il:function(){return y},F0:function(){return Pr},_R:function(){return Ht},DJ:function(){return be},Gv:function(){return D},UG:function(){return x},qg:function(){return U},jE:function(){return k},vD:function(){return Q},Xg:function(){return re},UY:function(){return O},Jm:function(){return at},nz:function(){return P},F1:function(){return w},$f:function(){return N},Wr:function(){return E},v3:function(){return Qe},Cc:function(){return G},_n:function(){return B},c7:function(){return W},LE:function(){return j},nd:function(){return Se},kC:function(){return R},GF:function(){return We},fw:function(){return Ve},wb:function(){return M},m_:function(){return rt},lI:function(){return $e},xD:function(){return ot},n7:function(){return wr},Y8:function(){return Le},vX:function(){return _t},O7:function(){return Vr},$_:function(){return mt},Oh:function(){return K},qu:function(){return Kt},u7:function(){return Zt},r3:function(){return er},sO:function(){return Ar},uQ:function(){return $r},CQ:function(){return vr},gH:function(){return Qr},LS:function(){return Fr},h5:function(){return lt},tx:function(){return zr},$t:function(){return Gt},nw:function(){return Oe},Dg:function(){return sr},Gg:function(){return ar},x5:function(){return ft},Xw:function(){return he},GW:function(){return Xe},f7:function(){return Nr},_L:function(){return At},Ls:function(){return kt},Wp:function(){return Re},bT:function(){return Ge},os:function(){return je},dY:function(){return dt},Sh:function(){return ke},cA:function(){return Or},mv:function(){return Ne},fP:function(){return nt},kD:function(){return Ee},sl:function(){return ye},PB:function(){return Y},YU:function(){return gt},ff:function(){return gr},zO:function(){return rr},IF:function(){return Mr},or:function(){return Tt},Pe:function(){return Ue},yU:function(){return ut},Mj:function(){return De},p7:function(){return Hr},nF:function(){return xt},Wu:function(){return we},ed:function(){return et},xA:function(){return it},eu:function(){return Zr},Zy:function(){return Yr},Ny:function(){return mr},v5:function(){return Ze},bO:function(){return ze},fL:function(){return ei},e7:function(){return ht},hu:function(){return fe},GB:function(){return ae},kQ:function(){return Xr},Oe:function(){return ce}});var e=t(226514),c=t(764365),s=t(143509),f=t(177497),v=t(787941),b=t(326621),h=t(592042),p=t(44615),n=t(597098),l=t(230762),r=t(171460),o=function(pt){return null!=pt&&1===pt[r.L]},a=t(334048),i=t(474147),m=t(456535),u=t(983172),V=t(116170),d=t(799818),S=t(954617),g=t(374952),y=function(){function Mt(pt,se){v.fF.assertValue(pt,"kind"),v.fF.assertAnyValue(se,"annotations"),this._kind=pt,this._annotations=se}return Mt.prototype.validate=function(pt,se,Z,Ye){var vt=new Ht(pt,se,Z,Ye);return this.accept(vt),vt.errors},Mt.prototype.accept=function(pt,se){v.fF.assertFail("abstract method")},Object.defineProperty(Mt.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),Mt.prototype.getMetadata=function(pt,se){v.fF.assertValue(pt,"federatedSchema");var Z=(0,n.Q)(this,pt);if(Z)return Z.column||Z.columnAggr||Z.groupingColumn||Z.groupingColumnAggr||Z.measure?this.getMetadataForProperty(Z,pt):Z.hierarchyLevel||Z.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(Z,pt):Z.columnHierarchyLevelVariation?this.getMetadataForVariation(Z,pt):Z.columnSubquery||Z.columnAggrSubquery?this.getMetadataForSubqueryColumn(Z,pt,se):Z.columnTransformRef?this.getMetadataForColumnTransformRef():Mt.getMetadataForEntity(Z,pt)},Mt.prototype.isOrdinalEvaluation=function(){return!1},Mt.prototype.getAnnotations=function(){return this._annotations},Mt.prototype.getKeyColumns=function(pt){var se=lr.getColumnRefSQExpr(pt,this);if(se){var Z=[],Ye=this.getPropertyKeys(pt);if(Ye&&Ye.length>0)for(var vt=0,Ft=Ye.length;vt<Ft;vt++)Z.push(K(se.source,Ye[vt].name));else Z.push(se);return Z}},Mt.prototype.hasGroupOnKeys=function(pt){var se=this.getTargetColumnRef(pt);if(se){var Z=this.getPropertyKeys(pt);if(!Z||Z.length<1)return!1;if(Z.length>1)return!0;var Ye=K(se.source,Z[0].name);return!(0,i.fS)(Ye,this)}},Mt.prototype.getPropertyKeys=function(pt){var se=this.getConceptualProperty(pt,!0);if(se)return se.column?se.column.keys:void 0},Mt.prototype.getOrderByColumns=function(pt){var se=this.getTargetColumnRef(pt);if(se){var Z=se.getConceptualProperty(pt,!0),Ye=Z&&Z.column&&Z.column.orderBy;if(_.isEmpty(Ye))return[];for(var vt=new Array(Ye.length),Ft=0,ir=Ye.length;Ft<ir;Ft++)vt[Ft]=K(se.source,Ye[Ft].name);return vt}},Mt.prototype.getConceptualProperty=function(pt,se){var Z=(0,n.Q)(this,pt);if(Z){var Ye=(0,p.pV)(Z);if(Ye&&1===_.size(Ye)){var vt=(0,p.Hp)(Z);if(vt){var Ft=pt.schema(Ye[0].schema);return Ft?Ft.findProperty(Ye[0].entity,vt):void 0}if(se){var Cr,ir=void 0;if(Z.columnHierarchyLevelVariation)(ir=Z.columnHierarchyLevelVariation.level)&&(Cr=pt.schema(ir.schema).findHierarchy(ir.entity,ir.name));else if(ir=Z.hierarchyLevel||Z.hierarchyLevelAggr){var Et=(0,p.Um)(Z);Cr=pt.schema(Et.schema).findHierarchy(Et.entity,ir.name)}if(Cr){var qe=Cr.levels.withName(ir.level);if(qe)return qe.column}}}}},Mt.prototype.getTargetEntityForVariation=function(pt,se){var Z=this.getConceptualProperty(pt);if(Z&&Z.column&&!_.isEmpty(Z.column.variations))for(var vt=0,Ft=Z.column.variations;vt<Ft.length;vt++){var ir=Ft[vt];if(ir.name===se)return ir.navigationProperty.targetEntity.name}},Mt.prototype.getTargetEntity=function(){return dr.getEntityExpr(this)},Mt.prototype.getTargetSchemaName=function(){return fr.getSchemaName(this)},Mt.prototype.getTargetColumnRef=function(pt){return v.fF.assertValue(pt,"schema"),lr.getColumnRefSQExpr(pt,this)},Mt.prototype.getMetadataForVariation=function(pt,se){v.fF.assertValue(pt,"field"),v.fF.assertValue(se,"federatedSchema");var Z=pt.columnHierarchyLevelVariation,Ye=(0,p.Um)(pt),vt=se.schema(Ye.schema).findProperty(Ye.entity,Z.source.name);if(vt&&vt.column&&vt.column.variations)for(var Ft=0,ir=vt.column.variations;Ft<ir.length;Ft++){var Cr=ir[Ft];if(Cr.defaultHierarchy&&Cr.defaultHierarchy.levels)for(var Et=0,qe=Cr.defaultHierarchy.levels;Et<qe.length;Et++){var Pt=qe[Et];if(Pt.name===Z.level.level){var Nt=Pt.column;return{kind:1===Nt.kind?1:0,type:Nt.type,format:Nt.format,idOnEntityKey:!!Nt.column&&Nt.column.idOnEntityKey,defaultAggregate:Nt.column?Nt.column.defaultAggregate:null}}}}},Mt.prototype.getMetadataForHierarchyLevel=function(pt,se){v.fF.assertValue(pt,"field"),v.fF.assertValue(se,"federatedSchema");var Z=this.getConceptualProperty(se,!0);if(Z)return this.getPropertyMetadata(pt,Z)},Mt.prototype.getPropertyMetadata=function(pt,se){var Z=pt.columnAggr||pt.groupingColumnAggr||pt.hierarchyLevelAggr,Ye=Z?this.getFormatAndTypeForAggregate(Z.aggregate,se.format,se.type):se;return{kind:1===se.kind||Z&&void 0!==Z.aggregate?1:0,type:Ye.type,format:Ye.format,idOnEntityKey:!!se.column&&se.column.idOnEntityKey,aggregate:Z?Z.aggregate:void 0,defaultAggregate:se.column?se.column.defaultAggregate:null}},Mt.prototype.getMetadataForProperty=function(pt,se){v.fF.assertValue(pt,"field"),v.fF.assertValue(se,"federatedSchema");var Z=this.getConceptualProperty(se);if(Z)return this.getPropertyMetadata(pt,Z)},Mt.prototype.getFormatAndTypeForAggregate=function(pt,se,Z){var Ye=se,vt=Z;switch(pt){case 2:case 5:vt=h.Ge.fromExtendedType(260),Ye=void 0;break;case 1:case 7:case 8:vt.integer&&(vt=h.Ge.fromExtendedType(259),Ye=(0,b.SU)(Ye))}return{format:Ye,type:vt}},Mt.prototype.getMetadataForSubqueryColumn=function(pt,se,Z){v.fF.assertValue(pt,"field"),v.fF.assertValue(se,"federatedSchema"),v.fF.assert(function(){return!(!Z||!Z.sources)},"context sources should be available for evaluating subquery source");var Ye=u.m.getSubqueryExpression(this,Z);v.fF.assertValue(Ye,"could not find original select expr of subquery from context");var vt=Ye.getMetadata(se,Z);if(vt){if(vt.kind=0,pt.columnAggrSubquery){var Ft=this.getFormatAndTypeForAggregate(pt.columnAggrSubquery.aggregate,vt.format,vt.type);vt.type=Ft.type,vt.format=Ft.format,vt.aggregate=pt.columnAggrSubquery.aggregate}else pt.columnSubquery?vt.aggregate=void 0:v.fF.assertFail("invalid field expression for subquery column");return vt}},Mt.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:h.Ge.fromVariant([h.Ge.fromPrimitiveTypeAndCategory(5),h.Ge.fromPrimitiveTypeAndCategory(7),h.Ge.fromPrimitiveTypeAndCategory(2),h.Ge.fromPrimitiveTypeAndCategory(3),h.Ge.fromPrimitiveTypeAndCategory(4),h.Ge.fromPrimitiveTypeAndCategory(1)])}},Mt.getMetadataForEntity=function(pt,se){v.fF.assertValue(pt,"field"),v.fF.assertValue(se,"federatedSchema");var Z=(0,p.Um)(pt);if(se.schema(Z.schema).entities.withName(Z.entity)&&pt.entityAggr)switch(pt.entityAggr.aggregate){case 2:case 5:return{kind:1,type:h.Ge.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:pt.entityAggr.aggregate}}},Mt}();(0,s.y)(y.prototype);var C=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(Z,"entity"),(Ft=Mt.call(this,0,vt)||this).schema=se,Ft.entity=Z,Ye&&(Ft.variable=Ye),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitEntity(this,Z)},pt.prototype.as=function(se,Z){return new pt(this.schema,this.entity,se,Z)},pt}(y),E=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"name"),(Ft=Mt.call(this,47,vt)||this).name=se,Ft.language=Z,Ft.expression=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitNativeVisualCalc(this,Z)},pt.prototype.getMetadata=function(se){return v.fF.assertValue(se,"federatedSchema"),{kind:1,type:h.Ge.fromPrimitiveTypeAndCategory(3)}},pt}(y),M=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"source"),v.fF.assertAnyValue(Z,"annotations"),Ye=Mt.call(this,1,Z)||this,_.isString(se)?Ye.variable=se:Ye.query=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitSubqueryRef(this,Z)},pt.prototype.as=function(se,Z){return new pt(se,Z)},pt}(y),P=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"source"),(vt=Mt.call(this,39,Ye)||this).queryName=se,Z&&(vt.variable=Z),vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitNamedQueryRef(this,Z)},pt.prototype.as=function(se,Z){return new pt(this.queryName,se,Z)},pt}(y),T=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"left"),v.fF.assertValue(Z,"right"),v.fF.assertValue(Ye,"operator"),(Ft=Mt.call(this,23,vt)||this).left=se,Ft.right=Z,Ft.operator=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitArithmetic(this,Z)},pt.prototype.getMetadata=function(se){var Z=this,Ye=this.left.getMetadata(se);if((0,m.g5)(this.right))return Ye?(v.fF.assert(function(){return 3===Z.operator},"unexpected usage of scoped eval with arithmetic"),Ye.format="#,##0.00%",Ye.type=h.Ge.fromExtendedType(259),Ye):void 0;var Cr,vt=this.right.getMetadata(se),Ft=null==Ye?void 0:Ye.type,ir=null==vt?void 0:vt.type;Cr=Ft&&ir?this.getArithmeticResultType(Ft,ir):null!=Ft?Ft:ir,v.fF.assertValue(Cr,"SQExpr - cannot get proper type for arithmetic expression");var Pt,Et=null==Ye?void 0:Ye.format;return(0===this.operator||1===this.operator)&&(Pt=Et===(null==vt?void 0:vt.format)?Et:void 0),{format:Pt,type:Cr,kind:1}},pt.prototype.getArithmeticResultType=function(se,Z){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&v.fF.assertNever(this.operator),2===se.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3===this.operator&&2===Z.primitiveType?3:2):3===se.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3!==this.operator&&2===Z.primitiveType?2:3):4===se.primitiveType?3===this.operator&&4===Z.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3):Z:void v.fF.assertFail("unsupported arithmetic expression type")},pt}(y),x=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"size"),(Ft=Mt.call(this,35,vt)||this).arg=se,Ft.size=Z,null!=Ye&&(Ft.timeUnit=Ye),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitFloor(this,Z)},pt}(y),R=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"expression"),v.fF.assertValue(Z,"scope"),(vt=Mt.call(this,26,Ye)||this).expression=se,vt.scope=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitScopedEval(this,Z)},pt.prototype.getMetadata=function(se){return this.expression.getMetadata(se)},pt.prototype.hasGlobalScope=function(){return v.fF.assertValue(this.scope,"scope"),0===this.scope.length},pt.prototype.hasInnerMostScope=function(){return v.fF.assertValue(this.scope,"scope"),1===this.scope.length&&(0,m.LX)(this.scope[0])},pt.createGlobalAggregateOfScopedExpr=function(se,Z){var Ye=new pt(se,[new ie]);return new pt(new I(Ye,Z),[])},pt.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var se=this.expression;if((0,m.iV)(se)){var Z=se.arg;if((0,m.g5)(Z)&&Z.hasInnerMostScope())return{source:Z.expression,func:se.func}}}},pt}(y),D=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"expression"),v.fF.assertValue(Z,"filters"),(vt=Mt.call(this,41,Ye)||this).expression=se,vt.filters=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitFilteredEval(this,Z)},pt.prototype.getMetadata=function(se){return this.expression.getMetadata(se)},pt}(y),L=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"expressionName"),(Ye=Mt.call(this,27,Z)||this).expressionName=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitWithRef(this,Z)},pt}(y),F=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"kind"),v.fF.assertValue(Z,"source"),v.fF.assertValue(Ye,"ref"),(Ft=Mt.call(this,se,vt)||this).source=Z,Ft.ref=Ye,Ft}return(0,e.__extends)(pt,Mt),pt}(y),A=function(Mt){function pt(se,Z,Ye,vt){return Mt.call(this,Ye||2,se,Z,vt)||this}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitColumnRef(this,Z)},pt}(F),O=function(Mt){function pt(se,Z,Ye){return Mt.call(this,3,se,Z,Ye)||this}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitMeasureRef(this,Z)},pt}(F),N=function(Mt){function pt(se,Z,Ye,vt,Ft,ir,Cr){var Et=Mt.call(this,43,Cr)||this;return v.fF.assertValue(se,"language"),v.fF.assertValue(Z,"expression"),v.fF.assertValue(Ye,"dataType"),v.fF.assertAnyValue(vt,"proposedName"),v.fF.assertAnyValue(Ft,"expressionContentCache"),v.fF.assertAnyValue(ir,"format"),Et.language=se,Et.expression=Z,Et.dataType=Ye,Et.proposedName=vt,Et.expressionContentCache=Ft,Et.format=ir,Et}return(0,e.__extends)(pt,Mt),pt.prototype.getMetadata=function(se){return v.fF.assertValue(se,"federatedSchema"),{kind:1,type:h.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},pt.prototype.accept=function(se,Z){return se.visitNativeMeasure(this,Z)},pt}(y),w=function(Mt){function pt(se,Z,Ye,vt,Ft,ir,Cr,Et){var qe=Mt.call(this,44,Et)||this;return v.fF.assertValue(se,"language"),v.fF.assertValue(Z,"expression"),v.fF.assertValue(Ye,"dataType"),v.fF.assertValue(vt,"source"),v.fF.assertAnyValue(Ft,"proposedName"),v.fF.assertAnyValue(ir,"expressionContentCache"),v.fF.assertAnyValue(Cr,"format"),qe.language=se,qe.expression=Z,qe.dataType=Ye,qe.source=vt,qe.proposedName=Ft,qe.expressionContentCache=ir,qe.format=Cr,qe}return(0,e.__extends)(pt,Mt),pt.prototype.getMetadata=function(se){return v.fF.assertValue(se,"federatedSchema"),{kind:0,type:h.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},pt.prototype.accept=function(se,Z){return se.visitNativeColumn(this,Z)},pt}(y),I=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"func"),(Ft=Mt.call(this,4,vt)||this).arg=se,Ft.func=Z,Ft.includeAllTypes=Ye,v.fF.assert(function(){return _.isNil(Ft.includeAllTypes)||3===Ft.func||4===Ft.func},"includeAllTypes has a value and the aggregate is not min/max - not a valid combination."),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitAggr(this,Z)},pt.prototype.getMetadata=function(se,Z){if(v.fF.assertValue(se,"federatedSchema"),(0,m.jk)(this.arg)){var Ye=this.getFormatAndTypeForAggregate(this.func,this.arg.format,h.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:Ye.type,format:Ye.format}}return Mt.prototype.getMetadata.call(this,se,Z)},pt}(y),B=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"k"),v.fF.assert(function(){return 0<=Z&&Z<=1},"0 <= k && k <= 1"),v.fF.assertValue(Ye,"exclusive"),(Ft=Mt.call(this,28,vt)||this).arg=se,Ft.k=Z,Ft.exclusive=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.getMetadata=function(se){v.fF.assertValue(se,"federatedSchema");var Z=this.arg.getMetadata(se);if(Z)return{kind:1,type:Z.type}},pt.prototype.accept=function(se,Z){return se.visitPercentile(this,Z)},pt}(y),j=function(Mt){function pt(se,Z,Ye,vt){var Ft=Mt.call(this,29,vt)||this;return Ft.min=se,Ft.max=Z,Ft.percent=Ye,v.fF.assert(function(){return Ye>=0&&Ye<=1},"Invalid percent value. Valid values are 0 to 1"),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitRangePercent(this,Z)},pt.overRangeOf=function(se,Z){return new pt(R.createGlobalAggregateOfScopedExpr(se,3),R.createGlobalAggregateOfScopedExpr(se,4),Z)},pt.prototype.decomposeOverRangePattern=function(){var se=this.min,Z=this.max;if((0,m.g5)(se)&&(0,m.g5)(Z)){var Ye=se.decomposeGlobalAggregateOfScopedExpr(),vt=Z.decomposeGlobalAggregateOfScopedExpr();if(Ye&&vt&&3===Ye.func&&4===vt.func&&(0,i.fS)(Ye.source,vt.source))return{sourceExpr:Ye.source,percent:this.percent}}},pt}(y),W=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"name"),v.fF.assertValue(Ye,"property"),(Ft=Mt.call(this,5,vt)||this).arg=se,Ft.name=Z,Ft.property=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitPropertyVariationSource(this,Z)},pt}(y),U=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"name"),v.fF.assertValue(Ye,"groupedExprs"),v.fF.assert(function(){return Ye.length>0},"groupedExprs.length > 0"),(Ft=Mt.call(this,Z,se,34,vt)||this).groupedExprs=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitGroupRef(this,Z)},pt}(A),k=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"hierarchy"),(vt=Mt.call(this,6,Ye)||this).arg=se,vt.hierarchy=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitHierarchy(this,Z)},pt}(y),Q=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"level"),(vt=Mt.call(this,7,Ye)||this).arg=se,vt.level=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitHierarchyLevel(this,Z)},pt}(y),te=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"expressionName"),(vt=Mt.call(this,30,Ye)||this).expressionName=se,vt.attributeKind=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitSelectRef(this,Z)},pt}(y),ee=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"left"),v.fF.assertValue(Z,"right"),(vt=Mt.call(this,8,Ye)||this).left=se,vt.right=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitAnd(this,Z)},pt}(y),J=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"arg"),v.fF.assertValue(Z,"lower"),v.fF.assertValue(Ye,"upper"),(Ft=Mt.call(this,9,vt)||this).arg=se,Ft.lower=Z,Ft.upper=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitBetween(this,Z)},pt}(y),re=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"args"),v.fF.assert(function(){return null==Z!=(null==Ye)},"values or table"),(Ft=Mt.call(this,10,vt)||this).args=se,Z&&(Ft.values=Z),Ye&&(Ft.table=Ye),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitIn(this,Z)},pt}(y),G=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"left"),v.fF.assertValue(Z,"right"),(vt=Mt.call(this,11,Ye)||this).left=se,vt.right=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitOr(this,Z)},pt}(y),ne=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"kind"),v.fF.assertValue(Z,"left"),v.fF.assertValue(Ye,"right"),(Ft=Mt.call(this,13,vt)||this).comparison=se,Ft.left=Z,Ft.right=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitCompare(this,Z)},pt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},pt}(y),X=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertNonEmpty(se,"cases"),v.fF.assertAnyValue(Z,"defaultValue"),(vt=Mt.call(this,42,Ye)||this).cases=se,vt.defaultValue=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitConditional(this,Z)},pt}(y),oe=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"left"),v.fF.assertValue(Z,"right"),(vt=Mt.call(this,12,Ye)||this).left=se,vt.right=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitContains(this,Z)},pt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},pt}(y),Ve=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"left"),v.fF.assertValue(Z,"right"),(vt=Mt.call(this,14,Ye)||this).left=se,vt.right=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitStartsWith(this,Z)},pt.prototype.isOrdinalEvaluation=function(){return o(this.getAnnotations())},pt}(y),Te=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"arg"),v.fF.assert(function(){return se instanceof C},"Exists only supports Entity argument"),(Ye=Mt.call(this,15,Z)||this).arg=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitExists(this,Z)},pt}(y),Qe=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"arg"),(Ye=Mt.call(this,16,Z)||this).arg=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitNot(this,Z)},pt}(y),He=function(Mt){function pt(se,Z,Ye,vt,Ft){var ir=this;return v.fF.assertValue(se,"type"),(ir=Mt.call(this,17,Ft)||this).type=se,ir.value=Z,ir.typeEncodedValue=Ye,vt&&(ir.rawValue=vt),ir}return(0,e.__extends)(pt,Mt),Object.defineProperty(pt.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,l.CI)(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),pt.prototype.accept=function(se,Z){return se.visitConstant(this,Z)},pt.prototype.getMetadata=function(){return{kind:1,type:this.type}},pt.getNumericValue=function(se){if((0,m.S9)(se)&&_.isNumber(se.value))return se.value;v.fF.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")},pt.getTextValue=function(se){if((0,m.AW)(se)&&_.isString(se.value))return se.value;v.fF.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")},pt.getBooleanValue=function(se){if((0,m.g)(se)&&_.isBoolean(se.value))return se.value;v.fF.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")},pt.getDateValue=function(se){if((0,m.fU)(se)&&_.isDate(se.value))return se.value;v.fF.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")},pt}(y);(0,s.y)(He.prototype);var Ce=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"unit"),v.fF.assertValue(Z,"arg"),(vt=Mt.call(this,18,Ye)||this).unit=se,vt.arg=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitDateSpan(this,Z)},pt}(y),de=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"unit"),v.fF.assertValue(Z,"amount"),v.fF.assertValue(Ye,"arg"),(Ft=Mt.call(this,19,vt)||this).unit=se,Ft.arg=Ye,Ft.amount=Z,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitDateAdd(this,Z)},pt.prototype.getMetadata=function(se){return this.arg.getMetadata(se)},pt}(y),pe=function(Mt){function pt(se){return Mt.call(this,20,se)||this}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitNow(this,Z)},pt.prototype.getMetadata=function(){return{kind:1,type:h.Ge.fromExtendedType(519)}},pt}(y),le=function(Mt){function pt(se){return Mt.call(this,22,se)||this}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitDefaultValue(this,Z)},pt}(y),me=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertAnyValue(se,"defaultValueOverridesAncestors"),(Ye=Mt.call(this,21,Z)||this).defaultValueOverridesAncestors=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitAnyValue(this,Z)},pt}(y),be=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"input"),v.fF.assertValue(Z,"fillRule"),(vt=Mt.call(this,24,Ye)||this).input=se,vt.rule=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitFillRule(this,Z)},pt}(y),Be=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"SQThemeDataColorExpr - colorId"),v.fF.assertValue(Z,"SQThemeDataColorExpr - percent"),v.fF.assertValue(-1<=Z&&Z<=1,"percent"),(vt=Mt.call(this,33,Ye)||this).colorId=se,vt.percent=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitThemeDataColor(this,Z)},pt}(y),Se=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"packageName"),v.fF.assertValue(Ye,"itemName"),(Ft=Mt.call(this,25,vt)||this).packageName=se,Ft.packageType=Z,Ft.itemName=Ye,Ft}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitResourcePackageItem(this,Z)},pt}(y),Pe=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"source"),(Ye=Mt.call(this,31,Z)||this).source=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitTransformTableRef(this,Z)},pt}(y),ue=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"role"),(vt=Mt.call(this,32,Ye)||this).role=se,Z&&(vt.transform=Z),vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitTransformOutputRoleRef(this,Z)},pt.prototype.getMetadata=function(se){},pt}(y),ve=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assertValue(se,"role"),(Ye=Mt.call(this,36,Z)||this).role=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitRoleRef(this,Z)},pt}(y),xe=function(Mt){function pt(se,Z){var Ye=this;return v.fF.assert(function(){return!_.isEmpty(se)},"name"),v.fF.assertAnyValue(Z,"annotations"),(Ye=Mt.call(this,45,Z)||this).name=se,Ye}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitSummaryValueRef(this,Z)},pt}(y),ie=function(Mt){function pt(se){return Mt.call(this,37,se)||this}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitAllRolesRef(this,Z)},pt}(y),Fe=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"source"),(vt=Mt.call(this,38,Ye)||this).source=se,vt.count=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitDiscretize(this,Z)},pt}(y),at=function(Mt){function pt(se,Z,Ye){var vt=this;return v.fF.assertValue(se,"source"),v.fF.assertValue(Z,"member"),(vt=Mt.call(this,40,Ye)||this).source=se,vt.member=Z,vt}return(0,e.__extends)(pt,Mt),pt.prototype.accept=function(se,Z){return se.visitMember(this,Z)},pt}(y),We=function(Mt){function pt(se,Z,Ye,vt,Ft,ir){var Cr=Mt.call(this,46,ir)||this;return v.fF.assertValue(se,"measure"),v.fF.assertValue(Z,"grouping"),v.fF.assertAnyValue(Ye,"scalarKey"),v.fF.assert(function(){return 1===_.size(Z)},"exactly 1 grouping is allowed"),Cr.measure=se,Cr.grouping=Z,Cr.scalarKey=Ye,Cr.pointsPerSparkline=vt,Cr.includeMinGroupingInterval=Ft,Cr}return(0,e.__extends)(pt,Mt),pt.prototype.getMetadata=function(se){var Ye,Z=this;return v.fF.assertValue(se,"federatedSchema"),v.fF.assert(function(){return 1===_.size(Z.grouping)},"exactly 1 grouping is allowed"),{kind:1,type:h.Ge.fromDescriptor({misc:{sparkline:{groupingType:null===(Ye=this.grouping[0].getMetadata(se))||void 0===Ye?void 0:Ye.type}}})}},pt.prototype.accept=function(se,Z){return se.visitSparklineData(this,Z)},pt}(y);function Oe(Mt,pt,se,Z){return new C(Mt,pt,se,Z)}function Ze(Mt,pt){return _.isString(Mt),new M(Mt,pt)}function Ee(Mt,pt,se){return new P(Mt,pt,se)}function K(Mt,pt,se){return new A(Mt,pt,null,se)}function Ne(Mt,pt,se){return new O(Mt,pt,se)}function Y(Mt,pt,se,Z,Ye,vt,Ft){return new N(Mt,pt,se,Z,Ye,vt,Ft)}function ye(Mt,pt,se,Z,Ye,vt,Ft,ir){return new w(Mt,pt,se,Z,Ye,vt,Ft,ir)}function rt(Mt,pt,se,Z){return new I(Mt,pt,se,Z)}function it(Mt,pt,se){return new te(Mt,pt,se)}function Ue(Mt,pt,se,Z){return new B(Mt,pt,se,Z)}function De(Mt,pt,se,Z){return new j(Mt,pt,se,Z)}function Le(Mt,pt,se,Z){return new T(Mt,pt,se,Z)}function Xe(Mt,pt,se,Z){return new x(Mt,pt,se,Z)}function et(Mt,pt,se){return new R(Mt,pt,se)}function he(Mt,pt,se){return new D(Mt,pt,se)}function ce(Mt,pt){return new L(Mt,pt)}function Re(Mt,pt,se,Z){return new U(Mt,pt,se,Z)}function Ge(Mt,pt,se){return new k(Mt,pt,se)}function ut(Mt,pt,se,Z){return new W(Mt,pt,se,Z)}function je(Mt,pt,se){return new Q(Mt,pt,se)}function ae(Mt,pt){return new Pe(Mt,pt)}function fe(Mt,pt,se){return new ue(Mt,pt,se)}function we(Mt,pt){return new ve(Mt,pt)}function ze(Mt,pt){return new xe(Mt,pt)}function $e(Mt){return new ie(Mt)}function ot(Mt,pt,se){return Mt?pt?new ee(Mt,pt,se):Mt:pt}function _t(Mt,pt,se,Z){return new J(Mt,pt,se,Z)}function ke(Mt,pt,se){return new re(Mt,pt,null,se)}function dt(Mt,pt,se){return new re(Mt,null,pt,se)}function Tt(Mt,pt,se){if(!Mt)return pt;if(!pt)return Mt;if((0,m.Hi)(Mt)&&(0,m.Hi)(pt)){var Z=function(Mt,pt,se){if(Mt.args&&pt.args&&Mt.values&&pt.values){var Z=Mt.args.length;if(Z===pt.args.length){for(var vt=0;vt<Z;++vt)if(!(0,i.fS)(Mt.args[vt],pt.args[vt]))return;var Ft=Mt.values.concat(pt.values);return ke(Mt.args,Ft,se)}}}(Mt,pt,se);if(Z)return Z}return new G(Mt,pt,se)}function Kt(Mt,pt,se,Z){return new ne(Mt,pt,se,Z)}function Zt(Mt,pt,se){return new X(Mt,pt,se)}function er(Mt,pt,se){return new oe(Mt,pt,se)}function ar(Mt,pt){return new Te(Mt,pt)}function sr(Mt,pt,se){return Kt(0,Mt,pt,se)}function gr(Mt,pt){return new Qe(Mt,pt)}function mr(Mt,pt,se){return new Ve(Mt,pt,se)}var Sr=new He(h.Ge.fromExtendedType(0),null,(0,l.Wv)());function Mr(){return Sr}var St=new He(h.Ge.fromExtendedType(1),"");function Gt(){return St}function rr(Mt){return new pe(Mt)}function Fr(Mt){return new le(Mt)}function wr(Mt,pt){return new me(Mt,pt)}function Vr(Mt,pt){return new He(h.Ge.fromExtendedType(5),Mt,(0,l.O7)(Mt),void 0,pt)}function Ar(Mt,pt,se,Z){return new de(Mt,pt,se,Z)}function vr(Mt,pt,se){return new He(h.Ge.fromExtendedType(519),Mt,pt,void 0,se)}function $r(Mt,pt,se){return new Ce(Mt,pt,se)}function Qr(Mt,pt,se){return new He(h.Ge.fromExtendedType(258),Mt,pt,void 0,se)}function zr(Mt,pt,se){return new He(h.Ge.fromExtendedType(259),Mt,pt,void 0,se)}function Or(Mt,pt,se){return new He(h.Ge.fromExtendedType(260),Mt,pt,void 0,se)}function ei(Mt,pt,se){return v.fF.assert(function(){return!pt||pt===(0,l.fL)(Mt)},"Incorrect encoded value specified."),new He(h.Ge.fromExtendedType(1),Mt,pt,void 0,se)}function Xr(Mt,pt){return null==Mt?Mr():_.isBoolean(Mt)?Vr(Mt):_.isString(Mt)?ei(Mt):_.isNumber(Mt)?pt.integer&&(0,c.U)(Mt)?Or(Mt):zr(Mt):Mt instanceof Date?vr(Mt):void 0}function Nr(Mt,pt,se,Z){return new He(h.Ge.fromExtendedType(Mt),pt,void 0,se,Z)}function Yr(Mt,pt,se,Z,Ye,vt){return new We(Mt,pt,se,Z,Ye,vt)}function Hr(Mt){return Pr.rewrite(Mt)}function Zr(Mt,pt,se){if((0,m.jX)(Mt))return yr.rewrite(Mt,pt,se)}function ft(Mt,pt,se){return v.fF.assertValue(Mt,"expr"),v.fF.assertValue(pt,"rule"),new be(Mt,pt,se)}function ht(Mt,pt,se){return v.fF.assertValue(Mt,"themeDataColor - colorId"),v.fF.assertValue(pt,"themeDataColor - percent"),new Be(Mt,pt,se)}function xt(Mt,pt,se,Z){return new Se(Mt,pt,se,Z)}function lt(Mt,pt,se){return new Fe(Mt,pt,se)}function nt(Mt,pt,se){return new at(Mt,pt,se)}function mt(Mt,pt,se){return v.fF.assertValue(null==Mt||(0,f.A7)(Mt),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),v.fF.assertValue(pt,"SQExprBuilder.color - colorName has to exist"),ei(Mt||pt,void 0,se)}function gt(Mt,pt,se){return new E(Mt,"dax",pt,se)}function At(Mt){return nr.getAggregate(Mt)}function kt(Mt){if(v.fF.assertValue(Mt,"expr"),(0,m.VC)(Mt)&&Mt.type.text)return Mt.value}var Ht=function(Mt){function pt(se,Z,Ye,vt){var Ft=this;return v.fF.assertValue(se,"schema"),v.fF.assertValue(Z,"aggrUtils"),(Ft=Mt.call(this)||this).schema=se,Ft.aggrUtils=Z,Ft.context=vt,Ye&&(Ft.errors=Ye),Ft}return(0,e.__extends)(pt,Mt),pt.prototype.visitIn=function(se){var Z=Mt.prototype.visitIn.call(this,se),Ye=Z.args,vt=Z.values;if(vt){v.fF.assert(function(){return!Z.table},"values and table cannot both be specified for the In operator");for(var Ft=function(jt){v.fF.assert(function(){return jt.length===Ye.length},"args and value tuple are not the same length");for(var Xt=0,Ae=jt.length;Xt<Ae;++Xt)ir.validateCompatibleType(Ye[Xt],jt[Xt])},ir=this,Cr=0,Et=vt;Cr<Et.length;Cr++)Ft(Et[Cr])}else{var Pt=Z.table;v.fF.assert(function(){return!!Pt},"either values or table must be non-null for an In operator"),this.validateIsTableRef(Pt)}return Z},pt.prototype.visitCompare=function(se){var Z=Mt.prototype.visitCompare.call(this,se);return this.validateCompatibleType(Z.left,Z.right),Z},pt.prototype.visitColumnRef=function(se){if((0,m.jv)(se.source))return u.m.getSubqueryExpression(se,this.context)||this.register(18),se;var Ye=(0,n.Q)(se);return Ye&&this.validateColumnExpr(Ye),se},pt.prototype.visitMeasureRef=function(se){var Z=(0,n.Q)(se);if(Z){var Ye=(0,p.Um)(Z),vt=this.validateEntity(Ye.schema,Ye.entity);if(vt){var Ft=vt.properties.withName(Z.measure.name);(!Ft||1!==Ft.kind||!this.isQueryable(Z))&&this.register(5)}}return se},pt.prototype.visitAggr=function(se){var Z=Mt.prototype.visitAggr.call(this,se);return lr.getColumnRefSQExpr(this.schema,Z.arg)&&(this.aggrUtils.isSupportedAggregate(se,this.schema,se.func,null,this.context)||this.register(0)),Z},pt.prototype.visitGroupRef=function(se){var Z=(0,n.Q)(se);if(Z){var Ye=(0,p.Um)(Z),vt=this.validateEntity(Ye.schema,Ye.entity);if(vt){var Ft=vt.properties.withName(Z.groupingColumn.name);(!Ft||0!==Ft.kind||!this.validateExprSequence(se.groupedExprs)||!Ft.column.groupingMetadata||!this.isQueryable(Z))&&this.register(4)}}return se},pt.prototype.visitHierarchy=function(se){var Z=(0,n.Q)(se);if(Z){var Ye=Z.hierarchy;Ye?this.validateHierarchy(Ye.schema,Ye.entity,Ye.name):this.register(6)}return se},pt.prototype.visitHierarchyLevel=function(se){var Z=(0,n.Q)(se);if(Z){var Ye=Z.hierarchyLevel,vt=Z.columnHierarchyLevelVariation;Ye?this.validateHierarchyLevel(Ye.schema,Ye.entity,Ye.name,Ye.level):vt?this.validateHierarchyLevelVariation(vt):this.register(7)}return se},pt.prototype.visitPercentile=function(se){if(se.arg.accept(this),_.isEmpty(this.errors)){var Z=se.arg.getMetadata(this.schema,this.context);(!Z||0!==Z.kind||!Z.type||!Z.type.integer&&!Z.type.numeric)&&this.register(12)}return se},pt.prototype.visitRangePercent=function(se){return(se.percent>1||se.percent<0)&&this.register(13),se.min.accept(this),se.max.accept(this),se},pt.prototype.visitDiscretize=function(se){return se.source.accept(this),se.count<=0&&this.register(16),se},pt.prototype.visitEntity=function(se){return this.validateEntity(se.schema,se.entity),se},pt.prototype.visitSubqueryRef=function(se){return se},pt.prototype.visitNamedQueryRef=function(se){return se},pt.prototype.visitContains=function(se){return this.validateStartOrContainsArgs(se.left,se.right),se},pt.prototype.visitStartsWith=function(se){return this.validateStartOrContainsArgs(se.left,se.right),se},pt.prototype.visitArithmetic=function(se){return this.validateArithmeticTypes(se.operator,se.left,se.right),se},pt.prototype.visitScopedEval=function(se){if(se.hasGlobalScope()||se.hasInnerMostScope())return se;for(var Z=0,Ye=se.scope;Z<Ye.length;Z++){var vt=Ye[Z];(0,m.DB)(vt)||(0,m.t3)(vt)||this.register(14)}return se},pt.prototype.visitFilteredEval=function(se){se.expression.accept(this),0===_.size(se.filters)&&this.register(17);for(var Z=0,Ye=se.filters;Z<Ye.length;Z++){var vt=Ye[Z];if(!_.isEmpty(vt.target))for(var Ft=0,ir=vt.target;Ft<ir.length;Ft++)ir[Ft].accept(this);vt.condition.accept(this)}return se},pt.prototype.visitWithRef=function(se){return se},pt.prototype.visitTransformTableRef=function(se){return se},pt.prototype.visitTransformOutputRoleRef=function(se){return se},pt.prototype.visitRoleRef=function(se){return se},pt.prototype.visitSummaryValueRef=function(se){return se},pt.prototype.visitAllRolesRef=function(se){return se},pt.prototype.visitSparklineData=function(se){if((0,g.k)(se.measure)){var Z=se.measure.getMetadata(this.schema),Ye=null==Z?void 0:Z.type;(null==Ye||!Ye.numeric)&&(null==Ye||!Ye.integer)&&this.register(5)}else this.register(5);v.fF.assert(function(){return 1===_.size(se.grouping)},"Only support 1 grouping for now"),_.some(se.grouping,function(Cr){return(0,g.k)(Cr)})&&this.register(3),se.measure.accept(this);for(var vt=0,Ft=se.grouping;vt<Ft.length;vt++)Ft[vt].accept(this);return se.scalarKey&&se.scalarKey.accept(this),se},pt.prototype.visitNativeVisualCalc=function(se){return se},pt.prototype.validateExprSequence=function(se){var Z=this;return _.reduce(se,function(Ye,vt){return Ye&&_.isEmpty(vt.validate(Z.schema,Z.aggrUtils,Z.errors,Z.context))},!0)},pt.prototype.validateStartOrContainsArgs=function(se,Z){se.accept(this),Z.accept(this),_.isEmpty(this.errors)&&((0,m.VC)(Z)&&Z.type.text?this.validateCompatibleType(se,Z,!0):this.register(10))},pt.prototype.validateArithmeticTypes=function(se,Z,Ye){u.m.supportsArithmetic(se,Z,this.schema)||this.register(9),u.m.supportsArithmetic(se,Ye,this.schema)||this.register(10)},pt.prototype.validateCompatibleType=function(se,Z,Ye){var vt=se.getMetadata(this.schema,this.context),Ft=vt&&vt.type,ir=Z.getMetadata(this.schema,this.context),Cr=ir&&ir.type;(Ye?!Ft||!Cr||!Ft.isCompatibleFrom(Cr):Ft&&Cr&&!Ft.isCompatibleFrom(Cr))&&this.register(11)},pt.prototype.validateEntity=function(se,Z){var Ye=this.schema.schema(se);if(Ye){var vt=Ye.entities.withName(Z);if(vt)return vt;this.register(2)}else this.register(1)},pt.prototype.validateIsTableRef=function(se){1!==se.kind&&0!==se.kind&&this.register(15)},pt.prototype.validateHierarchy=function(se,Z,Ye){var vt=this.validateEntity(se,Z);if(vt){var Ft=vt.hierarchies.withName(Ye);if(Ft)return Ft;this.register(6)}},pt.prototype.validateHierarchyLevel=function(se,Z,Ye,vt){var Ft=this.validateHierarchy(se,Z,Ye);if(Ft){var ir=Ft.levels.withName(vt);if(ir)return ir;this.register(7)}},pt.prototype.validateHierarchyLevelVariation=function(se){var Z=se.source,Ye=this.schema.schema(Z.schema),vt=Ye.findProperty(Z.entity,Z.name);if(this.validateColumnExpr({column:se.source}),vt&&vt.column){var ir=vt.column.variations.withName(se.variationName);if(ir){var Cr=Ye.findHierarchyByVariation(Z.entity,Z.name,se.variationName,se.level.name);if(Cr&&Cr.levels.withName(se.level.level))return ir}this.register(8)}},pt.prototype.validateColumnExpr=function(se){var Z=se.column,Ye=this.validateEntity(Z.schema,Z.entity);if(Ye){var vt=Ye.properties.withName(Z.name);if(vt&&0===vt.kind&&this.isQueryable(se))return vt;this.register(3)}},pt.prototype.register=function(se){this.errors||(this.errors=[]),this.errors.push(se)},pt.prototype.isQueryable=function(se){var Z=(0,p.Um)(se);if(se.hierarchyLevel||se.hierarchyLevelAggr){var Ye=(0,d.S7)(this.schema,se);return Ye&&1!==Ye.column.queryable}return 1!==this.schema.schema(Z.schema).findProperty(Z.entity,(0,p.Hp)(se)).queryable},pt}(a.b),nr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.prototype.visitAggr=function(se){return se.func},pt.prototype.visitDefault=function(se){},pt.getAggregate=function(se){var Z=new pt;return se.accept(Z)},pt}(V.vq),lr=function(Mt){function pt(se){var Z=Mt.call(this)||this;return Z.schema=se,Z}return(0,e.__extends)(pt,Mt),pt.prototype.visitColumnRef=function(se){return se},pt.prototype.visitGroupRef=function(se){return se},pt.prototype.visitHierarchyLevel=function(se){var Z=se.level,Ye=se.arg,vt=Ye.accept(this);if(Ye&&(0,m.jc)(Ye.arg)){var ir=vt.getTargetEntityForVariation(this.schema,Ye.arg.name);if(vt&&ir){var Cr=vt.source.schema,Et=Oe(Cr,ir),qe=this.schema.schema(Cr).findHierarchy(ir,Ye.hierarchy);if(qe)for(var Pt=0,Nt=qe.levels;Pt<Nt.length;Pt++){var jt=Nt[Pt];if(jt.name===Z)return new A(Et,jt.column.name)}}}else{var Xt=Ye.arg,Ae=(0,d.g8)(this.schema,Xt.schema,Xt.entity,Ye.hierarchy,se.level);if(Ae)return new A(Ye.arg,Ae.column.name)}},pt.prototype.visitHierarchy=function(se){return se.arg.accept(this)},pt.prototype.visitPropertyVariationSource=function(se){return new A(se.arg,se.property)},pt.prototype.visitAggr=function(se){return se.arg.accept(this)},pt.prototype.visitDefault=function(se){},pt.getColumnRefSQExpr=function(se,Z){var Ye=new pt(se);return Z.accept(Ye)},pt}(V.vq),dr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.prototype.visitEntity=function(se){var Z=this.result;this.result=void 0===Z||(0,i.fS)(Z,se)?se:null},pt.prototype.visitFilteredEval=function(se){se.expression.accept(this)},pt.getEntityExpr=function(se){var Z=new pt;return se.accept(Z),Z.result||void 0},pt}(V.PA),fr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.prototype.visitNativeVisualCalc=function(se){},pt.prototype.visitDefault=function(se){return se.getTargetEntity().schema},pt.getSchemaName=function(se){return se.accept(pt.instance)},pt.instance=new pt,pt}(V.vq),Pr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.prototype.visitEntity=function(se){return se.variable?Oe(se.schema,se.entity):se},pt.rewrite=function(se){return v.fF.assertValue(se,"expr"),se.accept(pt.instance)},pt.instance=new pt,pt}(a.b),yr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.rewrite=function(se,Z,Ye){return v.fF.assertValue(se,"expr"),v.fF.assert(function(){return(0,m.jX)(se)},"should be a native visual calc"),se.accept(pt.instance,{expression:Z,name:Ye})},pt.prototype.visitNativeVisualCalc=function(se,Z){return gt(Z.name,Z.expression,se.getAnnotations())},pt.instance=new pt,pt}(S.p),Rr=function(Mt){function pt(){return null!==Mt&&Mt.apply(this,arguments)||this}return(0,e.__extends)(pt,Mt),pt.prototype.visitHierarchyLevel=function(se){return se.arg.accept(this)},pt.prototype.visitHierarchy=function(se){return se.arg.accept(this)},pt.prototype.visitPropertyVariationSource=function(se){return se.property},pt.getProperty=function(se){var Z=new pt;return se.accept(Z)},pt}(V.vq)},474147:function(Je,H,t){t.d(H,{C6:function(){return V},FK:function(){return p},Me:function(){return h},fS:function(){return v},ll:function(){return l},qV:function(){return n}});var e=t(690016),c=t(883863),s=t(787941),f=t(456535);function v(d,S,g,y,C){return b.run(d,S,g,y,C)}var b=function(){function d(S,g,y){this.ignoreCase=S,this.ignoreVariables=g,this.ignoreAnnotations=y}return d.getInstance=function(S,g,y){S||(S=!1),g||(g=!1),y||(y=!1);var C=[+S,+g,+y].reduce(function(M,P){return M<<1|P}),E=d.instances[C];return E||(E=new d(S,g,y)),E},d.run=function(S,g,y,C,E){return(S=S||null)===(g=g||null)||!S==!g&&(s.fF.assertValue(S,"x"),s.fF.assertValue(g,"y"),S.accept(d.getInstance(y,C,E),g))},d.prototype.visitColumnRef=function(S,g){return!(!(0,f.t3)(g)&&!(0,f.wD)(g))&&S.ref===g.ref&&this.equals(S.source,g.source)&&this.equalAnnotations(S,g)},d.prototype.visitMeasureRef=function(S,g){return!(!(0,f.kb)(g)||!this.equalAnnotations(S,g))&&S.ref===g.ref&&this.equals(S.source,g.source)},d.prototype.visitNativeMeasure=function(S,g){if(!(0,f.cY)(g)||S.language!==g.language||S.expression!==g.expression||S.dataType!==g.dataType||S.format!==g.format||S.proposedName!==g.proposedName||!this.equalAnnotations(S,g))return!1;var y=S.expressionContentCache,C=g.expressionContentCache;return!y&&!C||!(!y||!C)&&y.unrecognizedIdentifiers===C.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,C.dependencies)},d.prototype.visitNativeColumn=function(S,g){if(!(0,f.jk)(g)||S.language!==g.language||S.expression!==g.expression||S.dataType!==g.dataType||S.proposedName!==g.proposedName||S.format!==g.format||!this.equals(S.source,g.source)||!this.equalAnnotations(S,g))return!1;var y=S.expressionContentCache,C=g.expressionContentCache;return!y&&!C||!(!y||!C)&&y.unrecognizedIdentifiers===C.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,C.dependencies)},d.prototype.visitAggr=function(S,g){return(0,f.iV)(g)&&this.equalAnnotations(S,g)&&S.func===g.func&&this.equals(S.arg,g.arg)},d.prototype.visitPercentile=function(S,g){return!(!(0,f.T5)(g)||!this.equalAnnotations(S,g))&&S.exclusive===g.exclusive&&S.k===g.k&&this.equals(S.arg,g.arg)},d.prototype.visitRangePercent=function(S,g){return!(!(0,f.YF)(g)||!this.equalAnnotations(S,g))&&S.percent===g.percent&&this.equals(S.min,g.min)&&this.equals(S.max,g.max)},d.prototype.visitGroupRef=function(S,g){var y=!1;return((0,f.wD)(g)||(0,f.t3)(g))&&(y=S.ref===g.ref&&this.equals(S.source,g.source)&&this.equalAnnotations(S,g)),(0,f.wD)(g)&&this.equalAnnotations(S,g)&&(y=y&&this.equalsAll(S.groupedExprs,g.groupedExprs)),y},d.prototype.visitHierarchy=function(S,g){return!(!(0,f.y3)(g)||!this.equalAnnotations(S,g))&&S.hierarchy===g.hierarchy&&this.equals(S.arg,g.arg)},d.prototype.visitHierarchyLevel=function(S,g){return!(!(0,f.ez)(g)||!this.equalAnnotations(S,g))&&S.level===g.level&&this.equals(S.arg,g.arg)},d.prototype.visitPropertyVariationSource=function(S,g){return!(!(0,f.jc)(g)||!this.equalAnnotations(S,g))&&S.name===g.name&&S.property===g.property&&this.equals(S.arg,g.arg)},d.prototype.visitSelectRef=function(S,g){return!(!(0,f.NH)(g)||!this.equalAnnotations(S,g)||S.expressionName!==g.expressionName||S.attributeKind!==g.attributeKind&&this.isNullOrUndefined(S.attributeKind)!==this.isNullOrUndefined(g.attributeKind))},d.prototype.isNullOrUndefined=function(S){return null==S},d.prototype.visitBetween=function(S,g){return!(!(0,f.Kh)(g)||!this.equalAnnotations(S,g))&&this.equals(S.arg,g.arg)&&this.equals(S.lower,g.lower)&&this.equals(S.upper,g.upper)},d.prototype.visitIn=function(S,g){if(!(0,f.Hi)(g)||!this.equalsAll(S.args,g.args)||!this.equalAnnotations(S,g))return!1;var y=g,C=S.values;if(C){var E=y.values;if(!E||C.length!==E.length)return!1;for(var M=0,P=C.length;M<P;M++)if(!this.equalsAll(C[M],E[M]))return!1}else if(s.fF.assert(function(){return!!S.table},"either values or table must be non-null for an In operator"),!y.table||!this.equals(S.table,y.table))return!1;return!0},d.prototype.visitEntity=function(S,g){return!(!(0,f.Lk)(g)||!this.equalAnnotations(S,g))&&S.schema===g.schema&&S.entity===g.entity&&(this.ignoreVariables||this.optionalEqual(S.variable,g.variable))},d.prototype.visitSubqueryRef=function(S,g){return!(!(0,f.jv)(g)||!this.equalAnnotations(S,g)||!S.query&&g.query||S.query&&!g.query)&&(S.query&&g.query?S.variable===g.variable&&V(S.query,g.query):S.variable===g.variable)},d.prototype.visitNamedQueryRef=function(S,g){return!(!(0,f.Il)(g)||!this.equalAnnotations(S,g))&&S.queryName===g.queryName&&(this.ignoreVariables||this.optionalEqual(S.variable,g.variable))},d.prototype.visitAnd=function(S,g){return!(!(0,f.un)(g)||!this.equalAnnotations(S,g))&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitOr=function(S,g){return!(!(0,f.Z8)(g)||!this.equalAnnotations(S,g))&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitCompare=function(S,g){return!(!(0,f.$Q)(g)||!this.equalAnnotations(S,g))&&S.comparison===g.comparison&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitConditional=function(S,g){var y=this;return!(!(0,f.Gs)(g)||!this.equalAnnotations(S,g))&&(0,c.NF)(S.cases,g.cases,function(C,E){return y.visitCase(C,E)})&&this.equalsNullableObject(S.defaultValue,g.defaultValue,function(C,E){return y.equals(C,E)})},d.prototype.visitCase=function(S,g){return this.equals(S.condition,g.condition)&&this.equals(S.value,g.value)},d.prototype.visitContains=function(S,g){return!(!(0,f.IS)(g)||!this.equalAnnotations(S,g))&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitDateSpan=function(S,g){return!(!(0,f.dZ)(g)||!this.equalAnnotations(S,g))&&S.unit===g.unit&&this.equals(S.arg,g.arg)},d.prototype.visitDateAdd=function(S,g){return!(!(0,f.Ok)(g)||!this.equalAnnotations(S,g))&&S.unit===g.unit&&S.amount===g.amount&&this.equals(S.arg,g.arg)},d.prototype.visitExists=function(S,g){return!(!(0,f.hV)(g)||!this.equalAnnotations(S,g))&&this.equals(S.arg,g.arg)},d.prototype.visitNot=function(S,g){return!(!(0,f.Ym)(g)||!this.equalAnnotations(S,g))&&this.equals(S.arg,g.arg)},d.prototype.visitNow=function(S,g){return!!this.equalAnnotations(S,g)&&(0,f.jr)(g)},d.prototype.visitDefaultValue=function(S,g){return!!this.equalAnnotations(S,g)&&(0,f.FU)(g)},d.prototype.visitAnyValue=function(S,g){return!!this.equalAnnotations(S,g)&&(0,f.cw)(g)},d.prototype.visitResourcePackageItem=function(S,g){return!(!(0,f.MI)(g)||!this.equalAnnotations(S,g))&&S.packageName===g.packageName&&S.packageType===g.packageType&&S.itemName===g.itemName},d.prototype.visitStartsWith=function(S,g){return!(!(0,f.f8)(g)||!this.equalAnnotations(S,g))&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitConstant=function(S,g){return!!((0,f.VC)(g)&&S.type.equals(g.type)&&this.equalAnnotations(S,g))&&(S.type.text&&this.ignoreCase?(0,e.vr)(S.valueEncoded,g.valueEncoded):S.valueEncoded===g.valueEncoded)},d.prototype.visitFillRule=function(S,g){var y=this;if(!(0,f.Tu)(g)||!this.equals(S.input,g.input)||!this.equalAnnotations(S,g))return!1;var C=S.rule,E=g.rule;return C===E||this.equalsNullableObject(C.linearGradient2,E.linearGradient2,function(M,P){return y.visitLinearGradient2(M,P)})&&this.equalsNullableObject(C.linearGradient3,E.linearGradient3,function(M,P){return y.visitLinearGradient3(M,P)})},d.prototype.visitLinearGradient2=function(S,g){var y=this;return s.fF.assertValue(S,"left"),s.fF.assertValue(g,"right"),this.equalsFillRuleStop(S.min,g.min)&&this.equalsFillRuleStop(S.max,g.max)&&this.equalsNullableObject(S.nullColoringStrategy,g.nullColoringStrategy,function(C,E){return y.equalsNullStrategy(C,E)})},d.prototype.visitLinearGradient3=function(S,g){var y=this;return s.fF.assertValue(S,"left"),s.fF.assertValue(g,"right"),this.equalsFillRuleStop(S.min,g.min)&&this.equalsFillRuleStop(S.mid,g.mid)&&this.equalsFillRuleStop(S.max,g.max)&&this.equalsNullableObject(S.nullColoringStrategy,g.nullColoringStrategy,function(C,E){return y.equalsNullStrategy(C,E)})},d.prototype.visitThemeDataColor=function(S,g){return s.fF.assertValue(S,"expr"),s.fF.assertValue(g,"comparand"),(0,f.wt)(g)&&S.colorId===g.colorId&&S.percent===g.percent},d.prototype.equalsFillRuleStop=function(S,g){return s.fF.assertValue(S,"stop1"),s.fF.assertValue(g,"stop2"),this.equals(S.color,g.color)&&this.equalsNullable(S.value,g.value)},d.prototype.equalsNullStrategy=function(S,g){return s.fF.assertValue(S,"equalsNullStrategy - left"),s.fF.assertValue(g,"equalsNullStrategy - right"),this.equals(S.strategy,g.strategy)&&this.equalsNullable(S.color,g.color)},d.prototype.visitArithmetic=function(S,g){return!(!(0,f.lF)(g)||!this.equalAnnotations(S,g))&&S.operator===g.operator&&this.equals(S.left,g.left)&&this.equals(S.right,g.right)},d.prototype.visitFloor=function(S,g){return!(!(0,f.xb)(g)||!this.equalAnnotations(S,g))&&S.timeUnit===g.timeUnit&&S.size===g.size&&this.equals(S.arg,g.arg)},d.prototype.visitScopedEval=function(S,g){return!(!(0,f.g5)(g)||!this.equalAnnotations(S,g))&&this.equals(S.expression,g.expression)&&this.equalsAll(S.scope,g.scope)},d.prototype.visitFilteredEval=function(S,g){return!(!(0,f.ZG)(g)||!this.equalAnnotations(S,g))&&this.equals(S.expression,g.expression)&&S.filters.length===g.filters.length&&_.every(S.filters,function(y,C){return h(y,g.filters[C])})},d.prototype.visitWithRef=function(S,g){return!(!(0,f.DB)(g)||!this.equalAnnotations(S,g))&&S.expressionName===g.expressionName},d.prototype.visitTransformTableRef=function(S,g){return!(!(0,f.PA)(g)||!this.equalAnnotations(S,g))&&S.source===g.source},d.prototype.visitTransformOutputRoleRef=function(S,g){return!(!(0,f.Im)(g)||!this.equalAnnotations(S,g))&&S.role===g.role&&S.transform===g.transform},d.prototype.visitRoleRef=function(S,g){return!(!(0,f.yL)(g)||!this.equalAnnotations(S,g))&&S.role===g.role},d.prototype.visitSummaryValueRef=function(S,g){return!(!(0,f.Bm)(g)||!this.equalAnnotations(S,g))&&S.name===g.name},d.prototype.visitAllRolesRef=function(S,g){return(0,f.LX)(g)},d.prototype.visitDiscretize=function(S,g){return!(!(0,f.P4)(g)||!this.equalAnnotations(S,g))&&S.count===g.count&&this.equals(S.source,g.source)},d.prototype.visitMember=function(S,g){return!(!(0,f.RN)(g)||!this.equalAnnotations(S,g))&&S.member===g.member&&this.equals(S.source,g.source)},d.prototype.visitSparklineData=function(S,g){return!!(0,f.tO)(g)&&this.equals(S.measure,g.measure)&&this.equalsAll(S.grouping,g.grouping)&&!!(!S.scalarKey&&!g.scalarKey||S.scalarKey&&g.scalarKey&&this.equals(S.scalarKey,g.scalarKey))&&S.pointsPerSparkline===g.pointsPerSparkline&&S.includeMinGroupingInterval===g.includeMinGroupingInterval},d.prototype.optionalEqual=function(S,g){return!S||!g||S===g},d.prototype.equals=function(S,g){return S.accept(this,g)},d.prototype.equalsNullable=function(S,g){var y=this;return this.equalsNullableObject(S,g,function(C,E){return y.equals(C,E)})},d.prototype.equalsNullableObject=function(S,g,y){return null==S&&null==g||null!=S&&null!=g&&y(S,g)},d.prototype.equalsAll=function(S,g){var y=this;return(0,c.NF)(S,g,function(C,E){return y.equals(C,E)})},d.prototype.equalAnnotations=function(S,g){return!(!this.ignoreAnnotations&&!_.isEqual(S.getAnnotations(),g.getAnnotations()))},d.prototype.visitNativeVisualCalc=function(S,g){return!(!this.ignoreAnnotations&&!_.isEqual(S.getAnnotations(),g.getAnnotations()))&&S.language===g.language&&S.expression===g.expression&&S.name===g.name},d.instances=[],d}();function h(d,S){return s.fF.assertAnyValue(d,"leftFilter"),s.fF.assertAnyValue(S,"rightFilter"),d||(d=null),S||(S=null),d===S||!(!!d!=!!S||!p(d,S))&&v(d.condition,S.condition)}function p(d,S){return s.fF.assertValue(d,"leftFilter"),s.fF.assertValue(S,"rightFilter"),(0,c.NF)(d.target,S.target,v)}function n(d,S){return s.fF.assertAnyValue(d,"filters"),s.fF.assertValue(S,"searchTarget"),!_.isEmpty(d)&&_.some(d,function(g){return h(g,S)})}function l(d,S){return!d&&!S||!(!d||!S)&&d.direction===S.direction&&v(d.expr,S.expr)}function r(d,S){return!d&&!S||!(!d||!S)&&v(d.expr,S.expr)}function a(d,S){return!d&&!S||!(!d||!S)&&(0,c.NF)(d.columns,S.columns,function(g,y){return function(d,S){return!d&&!S||!(!d||!S)&&d.role===S.role&&r(d.expression,S.expression)}(g,y)})}function u(d,S){return!d&&!S||!(!d||!S)&&d.algorithm===S.algorithm&&function(d,S){return!d&&!S||!(!d||!S)&&(0,c.NF)(d.parameters,S.parameters,function(g,y){return r(g,y)})&&a(d.table,S.table)}(d.input,S.input)&&function(d,S){return!d&&!S||!(!d||!S)&&a(d.table,S.table)}(d.output,S.output)}function V(d,S){return s.fF.assertValue(d,"x SemanticQuery"),s.fF.assertValue(S,"y SemanticQuery"),d.from().equals(S.from())&&(0,c.NF)(d.where(),S.where(),h)&&(0,c.NF)(d.orderBy(),S.orderBy(),l)&&(0,c.NF)(d.select(),S.select(),r)&&(0,c.NF)(d.groupBy(),S.groupBy(),r)&&(0,c.NF)(d.transforms(),S.transforms(),u)&&d.top()===S.top()}},242895:function(Je,H,t){t.d(H,{q:function(){return b}});var e=t(787941),c=t(456535),s=t(474147),f=t(983172),v=t(799818);function b(p,n,l){var i,r=l.disableHierarchyLevelGrouping,o=l.useNativeReferenceNames,a=[];if(0===n.length)return a;for(var m=0,u=(i=f.m.isSQExprArray(n)?n.map(function(g){return f.m.transformToVisualQueryField(g)}):n).length;m<u;m++){var V=i[m],d=V.expr,S=V.isFieldParameter;e.fF.assertValue(d,"Expression not found"),o||!(0,c.ez)(d)?a.push({expr:d,children:null,selectQueryIndex:m,isHierarchyLevelsGroup:!1,isFieldParameter:S}):h(p,a,d,m,r)}return a}function h(p,n,l,r,o){var a=!0,i=(0,v.ZB)(l)||(0,v.uW)(l),m=_.last(n);if(!o&&m&&m.children&&(0,s.fS)(m.expr,i)){var u=(0,v.wA)(p,l.arg);u instanceof Array&&(a=!(0,v.hG)(u,_.last(m.children),l))}a||o?n.push({expr:i,children:[l],selectQueryIndex:r,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(e.fF.assertValue(m,"There should be a group to add the variation to"),e.fF.assertValue(m.children,"The group should have children to add the variation to"),m.children.push(l))}},474374:function(Je,H,t){t.d(H,{H:function(){return b}});var e=t(226514),c=t(787941),s=t(597098),f=t(954617),v=t(998583);function b(p){return h.rewrite(p)}var h=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return(0,e.__extends)(n,p),n.rewrite=function(l){return c.fF.assertValue(l,"expr"),l.accept(n.instance)},n.prototype.visitDefault=function(l){var r=(0,s.Q)(l);return r&&r.percentOfGrandTotal&&(l=(0,v.B)(r.percentOfGrandTotal.baseExpr)),l},n.instance=new n,n}(f.p)},779722:function(Je,H,t){t.d(H,{E:function(){return b}});var e=t(226514),c=t(787941),s=t(597098),f=t(954617),v=t(998583);function b(p){return h.rewrite(p)}var h=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return(0,e.__extends)(n,p),n.rewrite=function(l){return c.fF.assertValue(l,"expr"),l.accept(n.instance)},n.prototype.visitDefault=function(l){var r=(0,s.Q)(l);return r&&r.percentOfRoleTotal&&(l=(0,v.B)(r.percentOfRoleTotal.baseExpr)),l},n.instance=new n,n}(f.p)},334048:function(Je,H,t){t.d(H,{b:function(){return b}});var e=t(226514),c=t(883863),s=t(787941),f=t(324356),v=t(474147),b=function(){function p(){}return p.prototype.visitColumnRef=function(n){var l=n.source,r=l.accept(this);return l===r?n:new f.Wh(r,n.ref,void 0,n.getAnnotations())},p.prototype.visitMeasureRef=function(n){var l=n.source,r=l.accept(this);return l===r?n:new f.UY(r,n.ref,n.getAnnotations())},p.prototype.visitNativeMeasure=function(n){var l=n.expressionContentCache&&n.expressionContentCache.dependencies,r=l&&this.rewriteAll(l);return l===r?n:new f.$f(n.language,n.expression,n.dataType,n.proposedName,(0,e.__assign)((0,e.__assign)({},n.expressionContentCache),{dependencies:r}),n.format,n.getAnnotations())},p.prototype.visitNativeColumn=function(n){var l=n.expressionContentCache&&n.expressionContentCache.dependencies,r=l&&this.rewriteAll(l),o=n.source.accept(this);if(l===r&&n.source===o)return n;var a=n.expressionContentCache?(0,e.__assign)((0,e.__assign)({},n.expressionContentCache),{dependencies:r}):void 0;return new f.F1(n.language,n.expression,n.dataType,o,n.proposedName,a,n.format,n.getAnnotations())},p.prototype.visitAggr=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.v0(r,n.func,n.includeAllTypes,n.getAnnotations())},p.prototype.visitSelectRef=function(n){return n},p.prototype.visitPercentile=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f._n(r,n.k,n.exclusive,n.getAnnotations())},p.prototype.visitRangePercent=function(n){var l=n.min,r=l.accept(this),o=n.max,a=o.accept(this);return l===r&&o===a?n:new f.LE(r,a,n.percent,n.getAnnotations())},p.prototype.visitGroupRef=function(n){for(var l=n.source,r=n.source.accept(this),o=n.groupedExprs,a=new Array(o.length),i=0;i<o.length;i++)a[i]=o[i].accept(this);return l===r&&function(p,n){s.fF.assertValue(p,"x"),s.fF.assertValue(n,"y");var l=p.length;if(l!==n.length)return!1;for(var r=0;r<l;r++)if(!(0,v.fS)(p[r],n[r]))return!1;return!0}(o,a)?n:new f.qg(n.ref,r,a,n.getAnnotations())},p.prototype.visitHierarchy=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.jE(r,n.hierarchy,n.getAnnotations())},p.prototype.visitHierarchyLevel=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.vD(r,n.level,n.getAnnotations())},p.prototype.visitPropertyVariationSource=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.c7(r,n.name,n.property,n.getAnnotations())},p.prototype.visitEntity=function(n){return n},p.prototype.visitSubqueryRef=function(n){return n},p.prototype.visitNamedQueryRef=function(n){return n},p.prototype.visitAnd=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.uV(r,a,n.getAnnotations())},p.prototype.visitBetween=function(n){var l=n.arg,r=l.accept(this),o=n.lower,a=o.accept(this),i=n.upper,m=i.accept(this);return l===r&&o===a&&i===m?n:new f.I6(r,a,m,n.getAnnotations())},p.prototype.visitIn=function(n){var a,l=n.args,r=this.rewriteAll(l),o=n.values,i=n.table,m=i;if(o){s.fF.assert(function(){return!i},"values and table cannot be both specified for the In operator");for(var u=0,V=o.length;u<V;u++){var d=o[u],S=this.rewriteAll(d);d!==S&&!a&&(a=(0,c.qn)(o,u)),a&&a.push(S)}}return i&&(s.fF.assert(function(){return!o},"values and table cannot be both specified for the In operator"),m=i.accept(this)),l!==r||a||i!==m?new f.Xg(r,a||o,m,n.getAnnotations()):n},p.prototype.rewriteAll=function(n){var l=this;return s.fF.assertValue(n,"origExprs"),(0,c.UU)(n,function(r){return r.accept(l)})},p.prototype.visitOr=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.Cc(r,a,n.getAnnotations())},p.prototype.visitCompare=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.wU(n.comparison,r,a,n.getAnnotations())},p.prototype.visitConditional=function(n){s.fF.assertNonEmpty(n.cases,"orig.cases");for(var a,l=n.defaultValue,r=l&&l.accept(this),o=n.cases,i=0,m=o.length;i<m;i++){var u=o[i],V=this.visitCase(u);u!==V&&!a&&(a=(0,c.qn)(o,i)),a&&a.push(V)}return a||(a=o),r===l&&a===o?n:new f.c8(a,r,n.getAnnotations())},p.prototype.visitCase=function(n){var l=n.condition,r=l.accept(this),o=n.value,a=o.accept(this);return l===r&&o===a?n:{condition:r,value:a}},p.prototype.visitContains=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.ev(r,a,n.getAnnotations())},p.prototype.visitExists=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.eX(r,n.getAnnotations())},p.prototype.visitNot=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.v3(r,n.getAnnotations())},p.prototype.visitStartsWith=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.fw(r,a,n.getAnnotations())},p.prototype.visitConstant=function(n){return n},p.prototype.visitFloor=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.UG(r,n.size,n.timeUnit,n.getAnnotations())},p.prototype.visitDateSpan=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.AC(n.unit,r,n.getAnnotations())},p.prototype.visitDateAdd=function(n){var l=n.arg,r=l.accept(this);return l===r?n:new f.YB(n.unit,n.amount,r,n.getAnnotations())},p.prototype.visitNow=function(n){return n},p.prototype.visitDefaultValue=function(n){return n},p.prototype.visitAnyValue=function(n){return n},p.prototype.visitArithmetic=function(n){var l=n.left,r=l.accept(this),o=n.right,a=o.accept(this);return l===r&&o===a?n:new f.MH(r,a,n.operator,n.getAnnotations())},p.prototype.visitScopedEval=function(n){var l=n.expression,r=l.accept(this),o=n.scope,a=this.rewriteAll(o);return l===r&&o===a?n:new f.kC(r,a,n.getAnnotations())},p.prototype.visitFilteredEval=function(n){for(var l=n.expression,r=l.accept(this),o=!1,a=[],i=0,m=n.filters;i<m.length;i++){var u=m[i],V=u.target,d=void 0;_.isEmpty(V)||(d=this.rewriteAll(V));var S=u.condition,g=u.condition.accept(this);(V!==d||S!==g)&&(o=!0),a.push({target:d,condition:g})}return l!==r||o?new f.Gv(r,a,n.getAnnotations()):n},p.prototype.visitWithRef=function(n){return n},p.prototype.visitTransformTableRef=function(n){return n},p.prototype.visitTransformOutputRoleRef=function(n){return n},p.prototype.visitRoleRef=function(n){return n},p.prototype.visitSummaryValueRef=function(n){return n},p.prototype.visitAllRolesRef=function(n){return n},p.prototype.visitFillRule=function(n){var l=n.input,r=l.accept(this),o=n.rule,a=o.linearGradient2,i=a;a&&(i=this.visitLinearGradient2(a));var m=o.linearGradient3,u=m;if(m&&(u=this.visitLinearGradient3(m)),l!==r||a!==i||m!==u){var V={};return i&&(V.linearGradient2=i),u&&(V.linearGradient3=u),new f.DJ(r,V,n.getAnnotations())}return n},p.prototype.visitLinearGradient2=function(n){s.fF.assertValue(n,"origGradient");var l=n.min,r=this.visitFillRuleStop(l),o=n.max,a=this.visitFillRuleStop(o),i=n.nullColoringStrategy,m=this.visitFillNullStrategy(i);if(l!==r||o!==a||i!==m){var u={min:r,max:a};return m&&(u.nullColoringStrategy=m),u}return n},p.prototype.visitLinearGradient3=function(n){s.fF.assertValue(n,"origGradient");var l=n.min,r=this.visitFillRuleStop(l),o=n.mid,a=this.visitFillRuleStop(o),i=n.max,m=this.visitFillRuleStop(i),u=n.nullColoringStrategy,V=this.visitFillNullStrategy(u);if(l!==r||o!==a||i!==m||u!==V){var d={min:r,mid:a,max:m};return V&&(d.nullColoringStrategy=V),d}return n},p.prototype.visitFillRuleStop=function(n){s.fF.assertValue(n,"stop");var l=n.color,r=n.color.accept(this),o=n.value,a=o;if(o&&(a=o.accept(this)),l!==r||o!==a){var i={color:r};return a&&(i.value=a),i}return n},p.prototype.visitFillNullStrategy=function(n){if(n){var l=n.strategy,r=l.accept(this),o=n.color,a=o;if(o&&(a=o.accept(this)),l!==r||o!==a){var i={strategy:r};return a&&(i.color=a),i}return n}},p.prototype.visitThemeDataColor=function(n){return n},p.prototype.visitResourcePackageItem=function(n){return n},p.prototype.visitDiscretize=function(n){var l=n.source.accept(this);return l===n.source?n:new f.ex(l,n.count,n.getAnnotations())},p.prototype.visitMember=function(n){var l=n.source.accept(this);return l===n.source?n:new f.Jm(l,n.member,n.getAnnotations())},p.prototype.visitSparklineData=function(n){var l,r=n.measure.accept(this),o=this.rewriteAll(n.grouping),a=null===(l=n.scalarKey)||void 0===l?void 0:l.accept(this),i=n.pointsPerSparkline,m=n.includeMinGroupingInterval;return r===n.measure&&o===n.grouping&&n.scalarKey===a&&n.pointsPerSparkline===i&&n.includeMinGroupingInterval===m?n:new f.GF(r,o,a,i,m)},p.prototype.visitNativeVisualCalc=function(n){return n},p}()},954617:function(Je,H,t){t.d(H,{p:function(){return e}});var e=function(){function c(){}return c.prototype.visitEntity=function(s,f){return this.visitDefault(s,f)},c.prototype.visitSubqueryRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitColumnRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitMeasureRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitAggr=function(s,f){return this.visitDefault(s,f)},c.prototype.visitPercentile=function(s,f){return this.visitDefault(s,f)},c.prototype.visitRangePercent=function(s,f){return this.visitDefault(s,f)},c.prototype.visitGroupRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitHierarchy=function(s,f){return this.visitDefault(s,f)},c.prototype.visitHierarchyLevel=function(s,f){return this.visitDefault(s,f)},c.prototype.visitPropertyVariationSource=function(s,f){return this.visitDefault(s,f)},c.prototype.visitSelectRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitAnd=function(s,f){return this.visitDefault(s,f)},c.prototype.visitBetween=function(s,f){return this.visitDefault(s,f)},c.prototype.visitIn=function(s,f){return this.visitDefault(s,f)},c.prototype.visitOr=function(s,f){return this.visitDefault(s,f)},c.prototype.visitCompare=function(s,f){return this.visitDefault(s,f)},c.prototype.visitConditional=function(s,f){return this.visitDefault(s,f)},c.prototype.visitContains=function(s,f){return this.visitDefault(s,f)},c.prototype.visitExists=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNot=function(s,f){return this.visitDefault(s,f)},c.prototype.visitStartsWith=function(s,f){return this.visitDefault(s,f)},c.prototype.visitConstant=function(s,f){return this.visitDefault(s,f)},c.prototype.visitDateSpan=function(s,f){return this.visitDefault(s,f)},c.prototype.visitDateAdd=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNow=function(s,f){return this.visitDefault(s,f)},c.prototype.visitDefaultValue=function(s,f){return this.visitDefault(s,f)},c.prototype.visitAnyValue=function(s,f){return this.visitDefault(s,f)},c.prototype.visitArithmetic=function(s,f){return this.visitDefault(s,f)},c.prototype.visitFloor=function(s,f){return this.visitDefault(s,f)},c.prototype.visitFillRule=function(s,f){return this.visitDefault(s,f)},c.prototype.visitThemeDataColor=function(s,f){return this.visitDefault(s,f)},c.prototype.visitResourcePackageItem=function(s,f){return this.visitDefault(s,f)},c.prototype.visitScopedEval=function(s,f){return this.visitDefault(s,f)},c.prototype.visitFilteredEval=function(s,f){return this.visitDefault(s,f)},c.prototype.visitWithRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitTransformTableRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitTransformOutputRoleRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitRoleRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitAllRolesRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitDiscretize=function(s,f){return this.visitDefault(s,f)},c.prototype.visitMember=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNamedQueryRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNativeMeasure=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNativeColumn=function(s,f){return this.visitDefault(s,f)},c.prototype.visitSummaryValueRef=function(s,f){return this.visitDefault(s,f)},c.prototype.visitSparklineData=function(s,f){return this.visitDefault(s,f)},c.prototype.visitNativeVisualCalc=function(s,f){return this.visitDefault(s,f)},c.prototype.visitDefault=function(s,f){return s},c}()},207598:function(Je,H,t){t.d(H,{F:function(){return b}});var e=t(226514),c=t(787941),s=t(597098),f=t(954617),v=t(998583);function b(p){return h.rewrite(p)}var h=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return(0,e.__extends)(n,p),n.rewrite=function(l){return c.fF.assertValue(l,"expr"),l.accept(n.instance)},n.prototype.visitDefault=function(l){var r=(0,s.Q)(l);return r&&!r.percentOfGrandTotal&&(l=(0,v.B)({percentOfGrandTotal:{baseExpr:r}})),l},n.instance=new n,n}(f.p)},350562:function(Je,H,t){t.d(H,{z:function(){return b}});var e=t(226514),c=t(787941),s=t(597098),f=t(954617),v=t(998583);function b(p,n){return h.rewrite(p,n)}var h=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return(0,e.__extends)(n,p),n.rewrite=function(l,r){return c.fF.assertValue(l,"expr"),l.accept(n.instance,r)},n.prototype.visitDefault=function(l,r){var o=(0,s.Q)(l);return o&&!o.percentOfRoleTotal&&(l=(0,v.B)({percentOfRoleTotal:{baseExpr:o,roles:r}})),l},n.instance=new n,n}(f.p)},456535:function(Je,H,t){t.d(H,{$Q:function(){return te},AW:function(){return n},Az:function(){return Be},Bm:function(){return B},DB:function(){return L},FU:function(){return Ve},Gs:function(){return ee},Hi:function(){return i},IS:function(){return J},Il:function(){return W},Im:function(){return A},Kh:function(){return U},LX:function(){return j},Lk:function(){return r},MI:function(){return O},NH:function(){return T},Ny:function(){return d},Ok:function(){return G},P4:function(){return de},PA:function(){return F},Pe:function(){return N},RN:function(){return pe},S9:function(){return b},T5:function(){return E},Tu:function(){return He},VC:function(){return v},WC:function(){return me},X5:function(){return u},Xx:function(){return S},YF:function(){return M},Ym:function(){return X},Z8:function(){return Q},ZG:function(){return R},cY:function(){return y},cw:function(){return Te},dZ:function(){return re},ez:function(){return a},f8:function(){return Qe},fU:function(){return p},g:function(){return h},g5:function(){return x},hV:function(){return ne},iV:function(){return m},jX:function(){return be},jc:function(){return P},jk:function(){return C},jr:function(){return oe},jv:function(){return D},kb:function(){return g},lF:function(){return c},lg:function(){return V},t3:function(){return f},tO:function(){return le},uR:function(){return l},un:function(){return k},wD:function(){return w},wt:function(){return Ce},xb:function(){return s},y3:function(){return o},yL:function(){return I}});var e=t(787941);function c(Se){return e.fF.assertValue(Se,"expr"),23===Se.kind}function s(Se){return e.fF.assertValue(Se,"expr"),35===Se.kind}function f(Se){return e.fF.assertValue(Se,"expr"),2===Se.kind}function v(Se){return e.fF.assertValue(Se,"expr"),17===Se.kind}function b(Se){return e.fF.assertValue(Se,"expr"),v(Se)&&Se.type.numeric}function h(Se){return e.fF.assertValue(Se,"expr"),v(Se)&&Se.type.bool}function p(Se){return e.fF.assertValue(Se,"expr"),v(Se)&&Se.type.dateTime}function n(Se){return e.fF.assertValue(Se,"expr"),v(Se)&&Se.type.text}function l(Se){return e.fF.assertValue(Se,"expr"),v(Se)&&0===Se.type.primitiveType&&null===Se.value}function r(Se){return e.fF.assertValue(Se,"expr"),0===Se.kind}function o(Se){return e.fF.assertValue(Se,"expr"),6===Se.kind}function a(Se){return e.fF.assertValue(Se,"expr"),7===Se.kind}function i(Se){return e.fF.assertValue(Se,"expr"),10===Se.kind}function m(Se){return e.fF.assertValue(Se,"expr"),4===Se.kind}function u(Se){return e.fF.assertValue(Se,"expr"),m(Se)&&3===Se.func}function V(Se){return e.fF.assertValue(Se,"expr"),m(Se)&&4===Se.func}function d(Se){return e.fF.assertValue(Se,"expr"),m(Se)&&1===Se.func}function S(Se){return e.fF.assertValue(Se,"expr"),m(Se)&&6===Se.func}function g(Se){return e.fF.assertValue(Se,"expr"),3===Se.kind}function y(Se){return e.fF.assertValue(Se,"expr"),43===Se.kind}function C(Se){return e.fF.assertValue(Se,"expr"),44===Se.kind}function E(Se){return e.fF.assertValue(Se,"expr"),28===Se.kind}function M(Se){return e.fF.assertValue(Se,"expr"),29===Se.kind}function P(Se){return e.fF.assertValue(Se,"expr"),5===Se.kind}function T(Se){return e.fF.assertValue(Se,"expr"),30===Se.kind}function x(Se){return e.fF.assertValue(Se,"expr"),26===Se.kind}function R(Se){return e.fF.assertValue(Se,"expr"),41===Se.kind}function D(Se){return e.fF.assertValue(Se,"expr"),1===Se.kind}function L(Se){return e.fF.assertValue(Se,"expr"),27===Se.kind}function F(Se){return e.fF.assertValue(Se,"expr"),31===Se.kind}function A(Se){return e.fF.assertValue(Se,"expr"),32===Se.kind}function O(Se){return e.fF.assertValue(Se,"expr"),25===Se.kind}function N(Se){return e.fF.assertValue(Se,"expr"),13===Se.kind}function w(Se){return e.fF.assertValue(Se,"expr"),34===Se.kind}function I(Se){return e.fF.assertValue(Se,"expr"),36===Se.kind}function B(Se){return e.fF.assertValue(Se,"expr"),45===Se.kind}function j(Se){return e.fF.assertValue(Se,"expr"),37===Se.kind}function W(Se){return e.fF.assertValue(Se,"expr"),39===Se.kind}function U(Se){return e.fF.assertValue(Se,"expr"),9===Se.kind}function k(Se){return e.fF.assertValue(Se,"expr"),8===Se.kind}function Q(Se){return e.fF.assertValue(Se,"expr"),11===Se.kind}function te(Se){return e.fF.assertValue(Se,"expr"),13===Se.kind}function ee(Se){return e.fF.assertValue(Se,"expr"),42===Se.kind}function J(Se){return e.fF.assertValue(Se,"expr"),12===Se.kind}function re(Se){return e.fF.assertValue(Se,"expr"),18===Se.kind}function G(Se){return e.fF.assertValue(Se,"expr"),19===Se.kind}function ne(Se){return e.fF.assertValue(Se,"expr"),15===Se.kind}function X(Se){return e.fF.assertValue(Se,"expr"),16===Se.kind}function oe(Se){return e.fF.assertValue(Se,"expr"),20===Se.kind}function Ve(Se){return e.fF.assertValue(Se,"expr"),22===Se.kind}function Te(Se){return e.fF.assertValue(Se,"expr"),21===Se.kind}function Qe(Se){return e.fF.assertValue(Se,"expr"),14===Se.kind}function He(Se){return e.fF.assertValue(Se,"expr"),24===Se.kind}function Ce(Se){return e.fF.assertValue(Se,"expr"),33===Se.kind}function de(Se){return e.fF.assertValue(Se,"expr"),38===Se.kind}function pe(Se){return e.fF.assertValue(Se,"expr"),40===Se.kind}function le(Se){return e.fF.assertValue(Se,"expr"),46===Se.kind}function me(Se){return e.fF.assertValue(Se,"expr"),0===Se.comparison&&(l(Se.right)||l(Se.left))}function be(Se){return e.fF.assertValue(Se,"expr"),47===Se.kind}function Be(Se){return e.fF.assertValue(Se,"expr"),m(Se)&&5===Se.func}},171460:function(Je,H,t){t.d(H,{L:function(){return e},Q:function(){return c}});var e="PowerBI.SQExprEvaluationKind",c="PowerBI.SQExprTextOperatorOption"},983172:function(Je,H,t){t.d(H,{m:function(){return m}});var e=t(226514),c=t(883863),s=t(787941),f=t(19632),v=t(44615),b=t(597098),h=t(217926),p=t(324356),n=t(116170),l=t(620006),r=t(158519),o=t(456535),a=t(474147),i=t(331115),m=function(){function g(){}return g.supportsArithmetic=function(y,C,E){var M=C.getMetadata(E),P=M&&M.type;return!(!M||!P)&&(2===y||3===y?P.numeric:P.numeric||P.dateTime||P.duration)},g.indexOfExpr=function(y,C){s.fF.assertValue(y,"items"),s.fF.assertValue(C,"searchElement");for(var E=0,M=y.length;E<M;E++)if((0,a.fS)(y[E],C))return E;return-1},g.sequenceEqual=function(y,C){s.fF.assertValue(y,"x"),s.fF.assertValue(C,"y");var E=y.length;if(E!==C.length)return!1;for(var M=0;M<E;M++)if(!(0,a.fS)(y[M],C[M]))return!1;return!0},g.isSubset=function(y,C){s.fF.assertValue(y,"x"),s.fF.assertValue(C,"y");for(var E=function(D){if(-1===_.findIndex(C,function(F){return(0,a.fS)(F,D)}))return{value:!1}},M=0,P=y;M<P.length;M++){var x=E(P[M]);if("object"==typeof x)return x.value}return!0},g.isFromVariation=function(y){return s.fF.assertValue(y,"expr"),(0,o.y3)(y)&&(0,o.jc)(y.arg)||(0,o.ez)(y)&&this.isFromVariation(y.arg)},g.discourageAggregation=function(y,C){var E=this.getSchemaCapabilities(y,C);return _.some(E,function(M){return M.discourageQueryAggregateUsage})},g.getAggregateBehavior=function(y,C){s.fF.assertValue(y,"expr"),s.fF.assertValue(C,"schema");var E=this.getConceptualColumn(y,C);if(E)return E.aggregateBehavior},g.getSchemaCapabilities=function(y,C){s.fF.assertValue(y,"expr"),s.fF.assertValue(C,"schema");var E=(0,b.Q)(y,C);if(E){var M=(0,v.pV)(E);return _.chain(M).map(function(P){var T;return null===(T=C.schema(P.schema))||void 0===T?void 0:T.capabilities}).filter(function(P){return!!P}).value()}},g.getKpiMetadata=function(y,C){var E=this.getKpiStatusProperty(y,C);if(E)return E.kpiValue.measure.kpi.statusMetadata;var M=this.getKpiTrendProperty(y,C);return M?M.kpiValue.measure.kpi.trendMetadata:void 0},g.getParameterMetadata=function(y,C){var E=y.getConceptualProperty(C,!0),M=E&&E.column&&E.column.parameterMetadata;return M&&this.getDataViewParameterColumnMetadata(M)},g.getWhatIfParameterMetadata=function(y){if(y&&y.parameterMetadata&&0===y.parameterMetadata.kind)return y.parameterMetadata},g.getFieldParameterQuerySelects=function(y,C){var E;if(!_.isEmpty(y)){var M=y.getConceptualProperty(C);if(M){var P=M.column;if(P&&2===y.kind&&2===(null===(E=P.parameterMetadata)||void 0===E?void 0:E.kind)){var T=y.getTargetEntity(),x=C.schema(T.schema).entities.withName(T.entity),R=_.some(x.properties,function(O){return O.column&&O.column.keys});s.fF.assert(function(){return R},"A key should always exist within the fieldParameter entity");for(var D=0,L=x.properties;D<L.length;D++){var F=L[D];if(F.column&&F.column.keys&&1===F.column.keys.length){var A=F.column.keys[0];if(A===M)return{parameterColumn:y,labelColumn:(0,p.Oh)(T,F.name)};if(M===F)return{labelColumn:y,parameterColumn:(0,p.Oh)(T,A.name)}}}return{parameterColumn:y}}}}},g.getFieldParameters=function(y){var C=[];for(var E in y){var P=y[E].getFieldParameters();C.push({role:E,parameters:P})}return C},g.getParameterValuesOrder=function(y,C){if(!_.isEmpty(y))for(var E=0,M=y;E<M.length;E++){var P=M[E],T=null==P?void 0:P.conditions();if(!_.isEmpty(T)){var x=(0,h.lZ)(C,T[0]);if(!_.isEmpty(x))return x}}return[]},g.isFilterForFieldParameter=function(y,C,E){if(y)for(var P=0,T=g.getFieldParameters(y);P<T.length;P++)for(var R=0,D=T[P].parameters;R<D.length;R++){var F=g.getFieldParameterQuerySelects(D[R].expr,E);if(F&&!_.isEmpty(g.getParameterValuesOrder([C],F.parameterColumn)))return!0}return!1},g.shouldUseAsFieldParameter=function(y,C,E,M,P){return!(!y||P||!M||(0,o.ez)(E)||!g.getFieldParameterQuerySelects(E,C))},g.getDataViewParameterColumnMetadata=function(y){return{kind:this.getDataViewParameterKind(y),mappedMParameterNames:y.mappedMParameterNames,supportsMultipleValues:y.supportsMultipleValues,supportsSelectAll:y.supportsSelectAll}},g.getDataViewParameterKind=function(y){if(null!=y){var C=y.kind;if(null==C)return 0;switch(C){case 0:return 0;case 1:return 1;case 2:return 2;default:return void s.fF.assertNever(C)}}},g.hasMappedMParameter=function(y,C){var E=this.getConceptualParameterMetadata(y,C);return 1===(null==E?void 0:E.kind)},g.isSupportMulitpleValuesEnabled=function(y,C){var E=this.getConceptualParameterMetadata(y,C);return null==E?void 0:E.supportsMultipleValues},g.getConceptualParameterMetadata=function(y,C){var E=this.getConceptualColumn(y,C);return null==E?void 0:E.parameterMetadata},g.getConceptualEntity=function(y,C){return s.fF.assertValue(y,"entityExpr"),C.schema(y.schema).entities.withName(y.entity)},g.hasMappedColumn=function(y,C){return u.hasMappedColumn(y,C)},g.getColumnnsWithKey=function(y,C){s.fF.assertValue(y,"keyExpr"),s.fF.assertValue(C,"schema");var E=y.getTargetColumnRef(C);if(E){var M=E.getConceptualProperty(C);if(M&&M.column){var P=E.getTargetEntity();if(P){var T=this.getConceptualEntity(P,C);if(T){for(var x=[],R=0,D=T.properties;R<D.length;R++){var L=D[R];L.column&&L.column.keys&&_.includes(L.column.keys,M)&&x.push((0,p.Oh)(P,L.name))}return x}}}}},g.tryGetExprFromFilter=function(y){if((0,o.Hi)(y.condition)&&1===_.size(y.condition.args))return y.condition.args[0];if((0,o.$Q)(y.condition)){if((0,o.VC)(y.condition.left))return y.condition.right;if((0,o.VC)(y.condition.right))return y.condition.left}},g.checkExprForValidMParameters=function(y,C){return this.checkExprForMapped(y,C).isValidSQExpr},g.checkExprForMapped=function(y,C){return(0,o.$Q)(y)?this.checkComparsionForMapped(y,C):(0,o.Hi)(y)?this.checkInForMapped(y,C):(0,o.Z8)(y)?this.checkOrForMapped(y,C):{isValidSQExpr:!g.hasMappedColumn(y,C)}},g.checkComparsionForMapped=function(y,C){if(!(0,o.t3)(y.left))return{isValidSQExpr:!0};var P,E=g.getConceptualParameterMetadata(y.left,C);if(1===(null==E?void 0:E.kind)){if(0!==y.comparison||(0,o.uR)(y.right))return{isValidSQExpr:!1};if(!E.supportsSelectAll&&(0,o.cw)(y.right))return{isValidSQExpr:!1};P=y.left}return{isValidSQExpr:!0,columnExpr:P}},g.checkInForMapped=function(y,C){for(var M,E=y.args,P=!1,T=!1,x=0,R=E;x<R.length;x++){var D=R[x];if((0,o.t3)(D)){var L=g.getConceptualParameterMetadata(D,C);if(P=1===(null==L?void 0:L.kind)){M=D,T=null==L?void 0:L.supportsMultipleValues;break}}}if(P){if(E.length>1||y.table&&(0,o.jv)(y.table)||y.values.length>1&&!T)return{isValidSQExpr:!1};if(_.some(y.values,function(A){return _.some(A,function(O){return(0,o.uR)(O)})}))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:M}},g.checkOrForMapped=function(y,C){var E=this.checkExprForMapped(y.left,C),M=this.checkExprForMapped(y.right,C),P=E.columnExpr,T=M.columnExpr;return(0,a.fS)(P,T)?P&&!g.isSupportMulitpleValuesEnabled(P,C)||T&&!g.isSupportMulitpleValuesEnabled(T,C)?{isValidSQExpr:!1}:{isValidSQExpr:E.isValidSQExpr&&M.isValidSQExpr,columnExpr:P}:{isValidSQExpr:!1}},g.getKpiStatusProperty=function(y,C){var E=y.getConceptualProperty(C);if(E){var M=E.kpiValue;if(M&&M.measure.kpi.status===E)return E}},g.getKpiTrendProperty=function(y,C){var E=y.getConceptualProperty(C);if(E){var M=E.kpiValue;if(M&&M.measure.kpi.trend===E)return E}},g.getDefaultValue=function(y,C){var E=this.getConceptualColumn(y,C);if(E)return E.defaultValue},g.getConceptualColumn=function(y,C){if(y&&C){var E=(0,b.Q)(y);if(E){var M=E.column||E.groupingColumn;if(M){if(C.schema(M.schema)&&M.name){var P=C.schema(M.schema).findProperty(M.entity,M.name);if(P)return P.column}}else{var T=E.hierarchyLevel;if(T){var x=(0,v.Um)(E),R=x.schema;if(C.schema(R)){var D=C.schema(R).findHierarchy(x.entity,T.name);if(D){var L=D.levels.withName(T.level);if(L&&L.column)return L.column.column}}}}}}},g.getDefaultValues=function(y,C){if(!_.isEmpty(y)&&C){for(var E=[],M=0,P=y;M<P.length;M++){var x=this.getDefaultValue(P[M],C);x&&E.push(x)}return E}},g.getPrimitiveValuesFromSQConstantExpr=function(y){if((0,o.VC)(y)){if((0,o.AW)(y))return p.jz.getTextValue(y);if((0,o.fU)(y))return p.jz.getDateValue(y);if((0,o.S9)(y))return p.jz.getNumericValue(y);if((0,o.g)(y))return p.jz.getBooleanValue(y)}},g.convertSemanticFilterToDataViewScopeIdentity=function(y){var C=[],E=y.conditions();if(E)for(var M=0,P=E;M<P.length;M++){var T=P[M],x=new h.aL;if(T.accept(x),x.keys&&x.values&&x.values.length>0&&x.keys.length>0&&x.values.length%x.keys.length==0)for(var R=0;R<x.values.length;R+=x.keys.length){for(var D=[],L=[],F=0;F<x.keys.length;F++)D.push(x.keys[F]),L.push(x.values[R+F]);var A=(0,i.R)(D,L),O=(0,f.TZ)(A);C.push(O)}}return C},g.getActiveTablesNames=function(y){var E=new l.Nh;if(y){var M=y.from();if(void 0!==M)for(var P=0,T=M.keys();P<T.length;P++)M.source(T[P]).accept(E,null)}return _.map(E.entities,function(R){return R.entity})},g.isRelatedToMany=function(y,C,E,M){return this.isRelated(y,C,E,0,2,M)||this.isRelated(y,E,C,2,0,M)},g.isRelatedToOne=function(y,C,E,M){return this.isRelated(y,C,E,2,0,M)||this.isRelated(y,E,C,0,2,M)},g.isRelated=function(y,C,E,M,P,T){var x=g.getConceptualEntity(C,y);if(s.fF.assertValue(x,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(x.navigationProperties))return!1;var R=g.getConceptualEntity(E,y);s.fF.assertValue(R,"could not resolve conceptual entity form targetExpr.");var D=[];for(D.push(x);!_.isEmpty(D);){var F=D.shift().navigationProperties;if(!_.isEmpty(F))for(var A=0,O=F;A<O.length;A++){var N=O[A];if(N.isActive&&(null==T||N.behavior===T)&&N.targetMultiplicity===P&&N.sourceMultiplicity===M){if(N.targetEntity===R)return!0;D.push(N.targetEntity)}}}return!1},g.isRelatedOneToOne=function(y,C,E,M){var P=g.getConceptualEntity(C,y);s.fF.assertValue(P,"could not resolve conceptual entity form sourceExpr.");var T=g.getConceptualEntity(E,y);s.fF.assertValue(T,"could not resolve conceptual entity form targetExpr.");var x=P.navigationProperties,R=T.navigationProperties;return(!_.isEmpty(x)||!_.isEmpty(R))&&(this.hasOneToOneNavigation(x,T,M)||this.hasOneToOneNavigation(R,P,M))},g.haveTheSameSchema=function(y){s.fF.assertNonEmpty(y,"exprs should not be null, undefined, or empty");var C=y[0].schema;return _.chain(y).drop(1).every(function(E){return E.schema===C}).value()},g.areHierarchicallyRelated=function(y,C){if(_.isEmpty(C)||!this.haveTheSameSchema(C))return!1;if(1===(C=_.values(_.keyBy(C,function(j){return j.entity}))).length)return!0;var E=C[0].schema,M=_.find(y.schemas,function(j){return j.name===E});if(!M)return!1;var P=C.map(function(j){return g.getConceptualEntity(j,y)});if(_.some(P,function(j){return!j}))return!1;var x=g.buildEntityGraph(M,this.allowedHierarchicalMultiplicityPairForTraversal,0),R=[].concat(P),D=R.shift(),L=this.findEntityPath([D],R,x,!0);if(1===L.length&&0===L[0].unableToVisit.length)return!0;var F=_.values(_.keyBy(_.flatten(L.map(function(j){return j.unableToVisit})),function(j){return j.name})),A=this.findEntityPath([D],F,x,!1);if(1===A.length&&0===A[0].unableToVisit.length)return!0;for(var O=function(W){if(_.find(A,function(k){for(var Q=!0,te=0,ee=W.unableToVisit;te<ee.length;te++)if(k.unableToVisit.indexOf(ee[te])>=0){Q=!1;break}return Q}))return{value:!0}},N=0,w=L;N<w.length;N++){var B=O(w[N]);if("object"==typeof B)return B.value}return!1},g.buildEntityGraph=function(y,C,E){for(var M={},P=y.entities.map(function(B){return B}),T=0,x=P;T<x.length;T++)M[(R=x[T]).name]={entity:R};for(var D=0,L=P;D<L.length;D++){var R,F=(R=L[D]).navigationProperties;if(!_.isEmpty(F))for(var A=M[R.name],O=0,N=F;O<N.length;O++){var w=N[O];if(w.isActive&&(void 0===w.behavior||void 0===E||w.behavior===E)){var I=M[w.targetEntity.name];I&&(this.multiplicityPairMatches([w.targetMultiplicity,w.sourceMultiplicity],C)&&this.addTraversalNodes(I,A),1===w.crossFilterDirection&&this.multiplicityPairMatches([w.sourceMultiplicity,w.targetMultiplicity],C)&&this.addTraversalNodes(A,I))}}}return M},g.addTraversalNodes=function(y,C){y.forwardNodes=y.forwardNodes||[],_.find(y.forwardNodes,function(E){return E.entity.name===C.entity.name})||y.forwardNodes.push(C),C.backwardNodes=C.backwardNodes||[],_.find(C.backwardNodes,function(E){return E.entity.name===y.entity.name})||C.backwardNodes.push(y)},g.multiplicityPairMatches=function(y,C){if(y&&2===y.length&&!_.isEmpty(C))for(var E=0,M=C;E<M.length;E++){var P=M[E];if(2===P.length&&y[0]===P[0]&&y[1]===P[1])return!0}return!1},g.findEntityPath=function(y,C,E,M){if(C=C||[],0===(y=y||[]).length||0===C.length||!E)return[{path:y,unableToVisit:C}];for(var P=0,T=y;P<T.length;P++)if(!E[T[P].name])return[{path:y,unableToVisit:C}];var D=E[y[y.length-1].name],L=M?D.forwardNodes:D.backwardNodes;if(!L||0===L.length)return[{path:y,unableToVisit:C}];for(var F=this.getEntityLoopPatterns(y),A=[],O=0,N=L;O<N.length;O++){var I=N[O].entity,B=[].concat(y);B.push(I);for(var j=!1,W=0,U=F;W<U.length;W++)if(this.endsWith(B,U[W])){j=!0;break}if(!j){var Q=C,te=C.indexOf(I);te>=0&&(Q=[].concat(C)).splice(te,1);var ee=this.findEntityPath(B,Q,E,M);if(1===ee.length&&0===ee[0].unableToVisit.length){A=ee;break}for(var J=0,re=ee;J<re.length;J++)A.push(re[J])}}return 0===A.length&&(A=[{path:y,unableToVisit:C}]),A},g.getEntityLoopPatterns=function(y){for(var C=[],M=function(D){if(y.filter(function(w){return w===D}).length>=2)for(var L=D,F=void 0,A=0,O=y;A<O.length;A++){var N=O[A];N===L?(F&&(F.push(N),C.push(F)),F=[N]):F&&F.push(N)}},P=0,T=_.values(_.keyBy(y,function(R){return R.name}));P<T.length;P++)M(T[P]);return C},g.endsWith=function(y,C){if(C.length>y.length)return!1;for(var E=!0,M=y.length-1,P=C.length-1;P>=0;--P){if(C[P]!==y[M]){E=!1;break}M--}return E},g.hasOneToOneNavigation=function(y,C,E){if(_.isEmpty(y))return!1;for(var M=0,P=y;M<P.length;M++){var T=P[M];if(T.isActive&&(null==E||T.behavior===E)&&T.targetEntity===C&&0===T.sourceMultiplicity&&0===T.targetMultiplicity)return!0}return!1},g.concatUnique=function(y,C){s.fF.assertValue(y,"leftExprs"),s.fF.assertValue(C,"rightExprs");for(var E=(0,c.JG)(y),M=0,P=C;M<P.length;M++){var T=P[M];-1===this.indexOfExpr(E,T)&&E.push(T)}return E},g.detectTransformExpr=function(y){s.fF.assertValue(y,"expr");var C=new V;return y.accept(C),C.sawTransformOutputRoleRef},g.isExprValidForAggregation=function(y){return s.fF.assertValue(y,"expr"),!this.isFromVariation(y)&&!(0,o.y3)(y)},g.isExprValidForSorting=function(y){return s.fF.assertValue(y,"expr"),!(0,o.ZG)(y)},g.isExprValidForFiltering=function(y){return s.fF.assertValue(y,"expr"),!((0,o.ZG)(y)||(0,o.Im)(y)||(0,o.tO)(y)||(0,o.jX)(y))},g.isExprValidForClustering=function(y){return s.fF.assertValue(y,"expr"),!((0,o.ZG)(y)||(0,o.y3)(y)||(0,o.ez)(y)||(0,o.tO)(y)||(0,o.jX)(y))},g.isExprValidForAnalysisTransform=function(y){return s.fF.assertValue(y,"expr"),!(0,o.ZG)(y)},g.getSubqueryExpression=function(y,C){var M,P,E=(0,b.Q)(y);if(E.columnSubquery)E.columnSubquery.subqueryRef?M=E.columnSubquery.subqueryRef:E.columnSubquery.subquery?P=new l.vd(E.columnSubquery.subquery):s.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!E.columnAggrSubquery)return void s.fF.assertFail("invalid fieldExpr in subquery");E.columnAggrSubquery.subqueryRef?M=E.columnAggrSubquery.subqueryRef:E.columnAggrSubquery.subquery?P=new l.vd(E.columnAggrSubquery.subquery):s.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}P||(s.fF.assert(function(){return!(!C||!C.sources)},"context sources should be available for evaluating subquery source"),C.sources[M]?(P=C.sources[M],s.fF.assert(function(){return P&&(0,r.y)(P)},"column referencing source should be available and be a subquery source")):s.fF.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var T=P;if(T){var x=(0,v._6)(E),R=void 0;if(T.subquery&&(R=T.subquery.select().withName(x)),R)return R.expr}},g.buildExprEvaluationContext=function(y){s.fF.assertValue(y,"from");var C=y.sources();if(C)return{sources:C}},g.transformToVisualQueryField=function(y,C,E,M,P){return{expr:y,queryName:C,isFieldParameter:!!E,nativeReferenceName:M,isHidden:P}},g.isSQExprArray=function(y){return y[0]instanceof p.Il},g.syncSQExprWithFilterIdenities=function(y,C){var E=new S(y,(0,o.Ym)(C)),M=C.accept(E);if(M)return M.accept(new d)},g.validate=function(y,C,E){s.fF.assertValue(C,"schema");var M=[];if(y&&(M=y.validate(C,E,M)),!_.isEmpty(M))return M},g.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],g}(),u=function(g){function y(C){var E=g.call(this)||this;return E.schema=C,E.detectedMappedColumn=!1,E}return(0,e.__extends)(y,g),y.prototype.visitIn=function(C){for(var E=0,M=C.args;E<M.length;E++)if(M[E].accept(this),this.detectedMappedColumn)return},y.prototype.visitColumnRef=function(C){m.hasMappedMParameter(C,this.schema)&&(this.detectedMappedColumn=!0)},y.hasMappedColumn=function(C,E){var M=new y(E);return C.accept(M),M.detectedMappedColumn},y}(n.PA),V=function(g){function y(){var C=g.call(this)||this;return C.sawTransformOutputRoleRef=!1,C}return(0,e.__extends)(y,g),y.prototype.visitTransformOutputRoleRef=function(C){this.sawTransformOutputRoleRef=!0},y}(n.PA),d=function(g){function y(){return null!==g&&g.apply(this,arguments)||this}return(0,e.__extends)(y,g),y.prototype.visitIn=function(C){return(0,p.Sh)(C.args,this.removeDuplicates(C.values),C.getAnnotations())},y.prototype.visitAnd=function(C){var E=C.right.accept(this),M=C.left.accept(this);return(0,p.xD)(M,E,C.getAnnotations())},y.prototype.visitOr=function(C){var E=C.right.accept(this),M=C.left.accept(this);return(0,p.or)(M,E,C.getAnnotations())},y.prototype.visitDefault=function(C){return C},y.prototype.removeDuplicates=function(C){return _.uniqWith(C,function(E,M){for(var P=E.length,T=0;T<P;T++)if(!(0,a.fS)(E[T],M[T]))return!1;return!0})},y}(n.vq),S=function(g){function y(C,E){var M=g.call(this)||this;return M.isRootNotExpr=!1,M.hasBeenModified=!1,M.isSupportedSQExpr=!1,M.filterIdentities=C,M.isRootNotExpr=E,M}return(0,e.__extends)(y,g),y.prototype.visitIn=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(C.args))return C;var E=this.tryToRemoveColumnsToMatchVisual(C),M=E.newArgs,P=E.newValues;if(!this.shouldDropWholeSQExpr()&&0!==M.length)return(0,p.Sh)(M,P,C.getAnnotations())}},y.prototype.visitDefault=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.left,M=C.right;if(E&&_.some(this.filterIdentities,function(P){return(0,a.fS)(P,E)})||M&&_.some(this.filterIdentities,function(P){return(0,a.fS)(P,M)}))return C;this.hasBeenModified=!0}},y.prototype.visitAnd=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.right.accept(this),M=C.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(M&&E)return(0,p.xD)(M,E,C.getAnnotations());if(M)return M;if(E)return E}}},y.prototype.visitOr=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.right.accept(this),M=C.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(M&&E)return(0,p.or)(M,E,C.getAnnotations());if(M)return M;if(E)return E}}},y.prototype.visitNot=function(C){if(this.verifyIsSupportedSQExpr(C),!this.shouldDropWholeSQExpr()){var E=C.arg.accept(this);if(E&&(this.isRootNotExpr||!this.hasBeenModified))return(0,p.ff)(E,C.getAnnotations())}},y.prototype.verifyIsSupportedSQExpr=function(C){this.isSupportedSQExpr=(0,o.Z8)(C)?(0,o.Hi)(C.right)&&((0,o.Z8)(C.left)||(0,o.Hi)(C.left)):(0,o.un)(C)?(0,o.Ym)(C.right)&&((0,o.Hi)(C.left)||(0,o.Z8)(C.left)):(0,o.Ym)(C)?(0,o.Z8)(C.arg)||(0,o.Ym)(C.arg):!(0,o.Hi)(C)||!!C.values&&C.values.length>0},y.prototype.shouldDropWholeSQExpr=function(){return this.hasBeenModified&&!this.isSupportedSQExpr},y.prototype.noChangeRequired=function(C){var E=this,M=C.map(function(P){return{expr:[P],index:_.findIndex(E.filterIdentities,function(x){return(0,a.fS)(x,P)})}});return 0===M[0].index&&M.every(function(P,T){return P.index>-1&&(T===M.length-1||P.index+1===M[T+1].index)})},y.prototype.tryToRemoveColumnsToMatchVisual=function(C){var E=this,M=[],P=[],x=C.values,R=C.args.map(function(O){return{expr:[O],index:_.findIndex(E.filterIdentities,function(w){return(0,a.fS)(w,O)})}});if(R[0].index>0)return this.hasBeenModified=!0,{newArgs:M,newValues:P};x=_.unzip(x);var D=R.map(function(O,N){return{expr:x[N],index:O.index}});M=R.filter(function(O){return O.index>-1}).map(function(O){return O.expr[0]}),P=D.filter(function(O){return O.index>-1}).map(function(O){return O.expr}),R=R.filter(function(O){return O.index>-1});for(var L=0;L<R.length-1;L++)if(R[L].index+1<R[L+1].index){M=M.splice(0,L+1),P=P.splice(0,L+1);break}return P=_.unzip(P),this.hasBeenModified=!0,{newArgs:M,newValues:P}},y}(n.vq)},174197:function(Je,H,t){t.d(H,{L:function(){return f}});var e=t(226514),c=t(745969);function f(b,h){return void 0===h&&(h="select"),b?b.accept(v.instance,h):h}var v=function(b){function h(){return null!==b&&b.apply(this,arguments)||this}return(0,e.__extends)(h,b),h.prototype.visitEntity=function(p){return p.entity},h.prototype.visitNamedQueryRef=function(p){return"QueryRef(".concat(p.queryName,")")},h.prototype.visitColumnRef=function(p){return p.source.accept(this)+"."+p.ref},h.prototype.visitGroupRef=function(p){return p.source.accept(this)+"."+p.ref},h.prototype.visitMeasureRef=function(p){return p.source.accept(this)+"."+p.ref},h.prototype.visitNativeMeasure=function(p){return"NativeMeasure(".concat(p.proposedName,")")},h.prototype.visitNativeColumn=function(p){return"NativeColumn(".concat(p.proposedName,")")},h.prototype.visitHierarchy=function(p){return p.arg.accept(this)+"."+p.hierarchy},h.prototype.visitHierarchyLevel=function(p){return p.arg.accept(this)+"."+p.level},h.prototype.visitPropertyVariationSource=function(p){return p.arg.accept(this)+"."+p.property+"."+p.name},h.prototype.visitAggr=function(p){return(0,c.b)(p.func)+"("+p.arg.accept(this)+")"},h.prototype.visitPercentile=function(p){return(p.exclusive?"Percentile.Exc(":"Percentile.Inc(")+p.arg.accept(this)+", "+p.k+")"},h.prototype.visitRangePercent=function(p){return"RangePercent("+p.min.accept(this)+", "+p.max.accept(this)+", "+p.percent.toString()+")"},h.prototype.visitArithmetic=function(p){return(0,c.K)(p.operator)+"("+p.left.accept(this)+", "+p.right.accept(this)+")"},h.prototype.visitConstant=function(p){return"const"},h.prototype.visitTransformOutputRoleRef=function(p){var n=p.role;return p.transform&&(n+="."+p.transform),n},h.prototype.visitScopedEval=function(p){var n=this;return"ScopedEval("+p.expression.accept(this)+", ["+_.map(p.scope,function(l){return l.accept(n)}).join(", ")+"])"},h.prototype.visitFilteredEval=function(p){var n=this;return"FilteredEval(".concat(p.expression.accept(this),", [").concat(_.map(p.filters,function(r){return o=r,a="{",_.isEmpty(o.target)||(a+="Target(".concat(_.map(o.target,function(i){return i.accept(n)}).join(", "),"), ")),a+"Condition(".concat(o.condition.accept(n),")}");var o,a}).join(", "),"])")},h.prototype.visitRoleRef=function(p){return"Role."+p.role},h.prototype.visitSummaryRef=function(p){return"SummaryValueRef."+p.name},h.prototype.visitAllRolesRef=function(p){return"AllRoles"},h.prototype.visitDiscretize=function(p){return"Discretize(".concat(p.source.accept(this),", ").concat(p.count,")")},h.prototype.visitMember=function(p){return"Member(".concat(p.source.accept(this),", ").concat(p.member,")")},h.prototype.visitCompare=function(p){var n=p.left.accept(this),l=p.right.accept(this),r="";switch(p.comparison){case 0:r="=";break;case 1:r=">";break;case 2:r=">=";break;case 3:r="<";break;case 4:r="<="}return"".concat(n).concat(r).concat(l)},h.prototype.visitSparklineData=function(p){var n=this;return"SparklineData(".concat(p.measure.accept(this),"_[").concat(_.map(p.grouping,function(l){return l.accept(n)}).join(","),"])")},h.prototype.visitDefault=function(p,n){return n||"expr"},h.instance=new h,h}(t(116170).Ml)},331115:function(Je,H,t){t.d(H,{R:function(){return s}});var e=t(787941),c=t(324356);function s(f,v){e.fF.assert(function(){return f.length===v.length},"fileds and values need to be the same size");for(var b=[],h=0;h<f.length;h++)b.push((0,c.qu)(0,f[h],v[h]));if(!_.isEmpty(b)){for(var p,n=0,l=b;n<l.length;n++)p=(0,c.xD)(p,l[n]);return p}}},450802:function(Je,H,t){t.d(H,{p:function(){return s}});var e=t(787941),c=t(474147);function s(f,v){e.fF.assertValue(f,"items"),e.fF.assertValue(v,"searchElement");for(var b=0,h=f.length;b<h;b++){var p=f[b];if(p&&(0,c.fS)(p.expr,v))return b}return-1}},444119:function(Je,H,t){t.d(H,{F:function(){return f}});var e=t(226514),c=t(787941);function f(b){return c.fF.assertValue(b,"expr"),b.accept(v.instance)}var v=function(b){function h(){return null!==b&&b.apply(this,arguments)||this}return(0,e.__extends)(h,b),h.prototype.visitCompare=function(p){return 0===p.comparison&&p.right.accept(this)},h.prototype.visitAnd=function(p){return p.left.accept(this)&&p.right.accept(this)},h.prototype.visitDefaultValue=function(p){return!0},h.prototype.visitDefault=function(p){return!1},h.instance=new h,h}(t(116170).vq)},374952:function(Je,H,t){t.d(H,{k:function(){return f}});var e=t(226514),c=t(787941);function f(b){return c.fF.assertValue(b,"expr"),b.accept(v.instance)}var v=function(b){function h(){return null!==b&&b.apply(this,arguments)||this}return(0,e.__extends)(h,b),h.prototype.visitMeasureRef=function(p){return!0},h.prototype.visitNativeMeasure=function(p){return!0},h.prototype.visitNativeVisualCalc=function(p){return!0},h.prototype.visitAggr=function(p){return!0},h.prototype.visitArithmetic=function(p){return!0},h.prototype.visitFilteredEval=function(p){return p.expression.accept(this)},h.prototype.visitSparklineData=function(p){return!0},h.prototype.visitDefault=function(p){return!1},h.instance=new h,h}(t(116170).vq)},116170:function(Je,H,t){t.d(H,{Ml:function(){return v},PA:function(){return h},vq:function(){return b}});var e=t(226514),c=t(787941),s=t(655981),f=t(340608),v=function(){function p(){}return p.prototype.visitEntity=function(n,l){return this.visitDefault(n,l)},p.prototype.visitSubqueryRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNamedQueryRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitColumnRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitMeasureRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitAggr=function(n,l){return this.visitDefault(n,l)},p.prototype.visitPercentile=function(n,l){return this.visitDefault(n,l)},p.prototype.visitRangePercent=function(n,l){return this.visitDefault(n,l)},p.prototype.visitGroupRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitHierarchy=function(n,l){return this.visitDefault(n,l)},p.prototype.visitHierarchyLevel=function(n,l){return this.visitDefault(n,l)},p.prototype.visitPropertyVariationSource=function(n,l){return this.visitDefault(n,l)},p.prototype.visitSelectRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitBetween=function(n,l){return this.visitDefault(n,l)},p.prototype.visitIn=function(n,l){return this.visitDefault(n,l)},p.prototype.visitAnd=function(n,l){return this.visitDefault(n,l)},p.prototype.visitOr=function(n,l){return this.visitDefault(n,l)},p.prototype.visitCompare=function(n,l){return this.visitDefault(n,l)},p.prototype.visitConditional=function(n,l){return this.visitDefault(n,l)},p.prototype.visitContains=function(n,l){return this.visitDefault(n,l)},p.prototype.visitExists=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNot=function(n,l){return this.visitDefault(n,l)},p.prototype.visitStartsWith=function(n,l){return this.visitDefault(n,l)},p.prototype.visitConstant=function(n,l){return this.visitDefault(n,l)},p.prototype.visitDateSpan=function(n,l){return this.visitDefault(n,l)},p.prototype.visitDateAdd=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNow=function(n,l){return this.visitDefault(n,l)},p.prototype.visitDefaultValue=function(n,l){return this.visitDefault(n,l)},p.prototype.visitAnyValue=function(n,l){return this.visitDefault(n,l)},p.prototype.visitArithmetic=function(n,l){return this.visitDefault(n,l)},p.prototype.visitFloor=function(n,l){return this.visitDefault(n,l)},p.prototype.visitFillRule=function(n,l){return this.visitDefault(n,l)},p.prototype.visitThemeDataColor=function(n,l){return this.visitDefault(n,l)},p.prototype.visitResourcePackageItem=function(n,l){return this.visitDefault(n,l)},p.prototype.visitScopedEval=function(n,l){return this.visitDefault(n,l)},p.prototype.visitFilteredEval=function(n,l){return this.visitDefault(n,l)},p.prototype.visitWithRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitTransformTableRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitTransformOutputRoleRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitRoleRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitSummaryValueRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitAllRolesRef=function(n,l){return this.visitDefault(n,l)},p.prototype.visitDiscretize=function(n,l){return this.visitDefault(n,l)},p.prototype.visitMember=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNativeMeasure=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNativeColumn=function(n,l){return this.visitDefault(n,l)},p.prototype.visitSparklineData=function(n,l){return this.visitDefault(n,l)},p.prototype.visitNativeVisualCalc=function(n,l){return this.visitDefault(n,l)},p.prototype.visitDefault=function(n,l){},p}(),b=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return(0,e.__extends)(n,p),n}(v),h=function(){function p(){}return p.prototype.visitEntity=function(n){this.visitDefault(n)},p.prototype.visitSubqueryRef=function(n){this.visitDefault(n)},p.prototype.visitNamedQueryRef=function(n){this.visitDefault(n)},p.prototype.visitColumnRef=function(n){n.source.accept(this)},p.prototype.visitMeasureRef=function(n){n.source.accept(this)},p.prototype.visitAggr=function(n){n.arg.accept(this)},p.prototype.visitPercentile=function(n){n.arg.accept(this)},p.prototype.visitRangePercent=function(n){n.min.accept(this),n.max.accept(this)},p.prototype.visitGroupRef=function(n){n.source.accept(this);for(var l=0,r=n.groupedExprs;l<r.length;l++)r[l].accept(this)},p.prototype.visitHierarchy=function(n){n.arg.accept(this)},p.prototype.visitHierarchyLevel=function(n){n.arg.accept(this)},p.prototype.visitPropertyVariationSource=function(n){n.arg.accept(this)},p.prototype.visitSelectRef=function(n){this.visitDefault(n)},p.prototype.visitBetween=function(n){n.arg.accept(this),n.lower.accept(this),n.upper.accept(this)},p.prototype.visitIn=function(n){for(var l=n.args,r=0,o=l.length;r<o;r++)l[r].accept(this);var a=n.values;if(a)for(r=0,o=a.length;r<o;r++)for(var i=a[r],m=0,u=i.length;m<u;m++)i[m].accept(this);else n.table.accept(this)},p.prototype.visitAnd=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitOr=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitCompare=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitConditional=function(n){c.fF.assertValue(n,"expr"),c.fF.assertNonEmpty(n.cases,"expr.cases");for(var l=0,r=n.cases;l<r.length;l++){var o=r[l];o.condition.accept(this),o.value.accept(this)}n.defaultValue&&n.defaultValue.accept(this)},p.prototype.visitContains=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitExists=function(n){n.arg.accept(this)},p.prototype.visitNot=function(n){n.arg.accept(this)},p.prototype.visitStartsWith=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitConstant=function(n){this.visitDefault(n)},p.prototype.visitDateSpan=function(n){n.arg.accept(this)},p.prototype.visitDateAdd=function(n){n.arg.accept(this)},p.prototype.visitNow=function(n){this.visitDefault(n)},p.prototype.visitDefaultValue=function(n){this.visitDefault(n)},p.prototype.visitAnyValue=function(n){this.visitDefault(n)},p.prototype.visitArithmetic=function(n){n.left.accept(this),n.right.accept(this)},p.prototype.visitFloor=function(n){n.arg.accept(this)},p.prototype.visitFillRule=function(n){n.input.accept(this),(0,s.RL)(n.rule,new f._(this,null))},p.prototype.visistExists=function(n){n.arg.accept(this)},p.prototype.visitThemeDataColor=function(n){this.visitDefault(n)},p.prototype.visitResourcePackageItem=function(n){this.visitDefault(n)},p.prototype.visitScopedEval=function(n){n.expression.accept(this);for(var l=0,r=n.scope;l<r.length;l++)r[l].accept(this)},p.prototype.visitFilteredEval=function(n){n.expression.accept(this);for(var l=0,r=n.filters;l<r.length;l++){var o=r[l];if(!_.isEmpty(o.target))for(var a=0,i=o.target;a<i.length;a++)i[a].accept(this);o.condition.accept(this)}},p.prototype.visitWithRef=function(n){this.visitDefault(n)},p.prototype.visitTransformTableRef=function(n){this.visitDefault(n)},p.prototype.visitTransformOutputRoleRef=function(n){this.visitDefault(n)},p.prototype.visitRoleRef=function(n){this.visitDefault(n)},p.prototype.visitSummaryValueRef=function(n){this.visitDefault(n)},p.prototype.visitAllRolesRef=function(n){this.visitDefault(n)},p.prototype.visitDiscretize=function(n){this.visitDefault(n)},p.prototype.visitMember=function(n){this.visitDefault(n)},p.prototype.visitNativeMeasure=function(n){this.visitDefault(n)},p.prototype.visitNativeColumn=function(n){this.visitDefault(n)},p.prototype.visitSparklineData=function(n){var l;n.measure.accept(this);for(var r=0,o=n.grouping;r<o.length;r++)o[r].accept(this);null===(l=n.scalarKey)||void 0===l||l.accept(this)},p.prototype.visitNativeVisualCalc=function(n,l){this.visitDefault(n)},p.prototype.visitDefault=function(n){},p}()},620006:function(Je,H,t){t.d(H,{$r:function(){return a},Ms:function(){return m},Nh:function(){return V},QS:function(){return p},Qo:function(){return l},SX:function(){return h},Ww:function(){return d},Yg:function(){return i},cL:function(){return r},vd:function(){return n}});var e=t(883863),c=t(787941),s=t(690016),f=t(324356),v=t(474147),b=t(158519),h=function(){function S(g,y){this.schema=g,this.entity=y}return S.prototype.accept=function(g,y){return g.visitEntity(this,y)},S.prototype.equals=function(g){return g&&this.entity===g.entity&&this.schema===g.schema},S}(),p=function(){function S(g,y){this.schema=g,this.pod=y}return S.prototype.accept=function(g,y){return g.visitPod(this,y)},S.prototype.equals=function(g){return g&&this.pod===g.pod&&this.schema===g.schema},S}(),n=function(){function S(g){this.subquery=g}return S.prototype.accept=function(g,y){return g.visitSubquery(this,y)},S.prototype.equals=function(g){return g&&(0,v.C6)(this.subquery,g.subquery)},S}(),l=function(){function S(g){this.expr=g}return S.prototype.accept=function(g,y){return g.visitExpr(this,y)},S.prototype.equals=function(g){return g&&(0,v.fS)(this.expr,g.expr)},S}(),r=function(){function S(g,y){if(this.items=g||{},this.usedNames=y||{},!_.isEmpty(this.items))for(var C=0,E=this.keys();C<E.length;C++)this.usedNames[E[C]]=!0}return S.prototype.keys=function(){return Object.keys(this.items)},S.prototype.source=function(g){return this.items[g]},S.prototype.sources=function(){return this.items},S.prototype.usedSourceNames=function(){return this.usedNames},S.prototype.ensureSource=function(g,y){c.fF.assertValue(g,"source");var C=this.getSourceKeyFromItems(g);return C?{name:C}:{name:this.addSource(g,y),new:!0}},S.prototype.remove=function(g){this.items[g]&&delete this.usedNames[g],delete this.items[g]},S.prototype.getSourceKeyFromItems=function(g){var y=this.keys();for(var C in y){var E=y[C];if(o(this.items[E],g))return E}},S.prototype.addSource=function(g,y){var E=y||g.accept(new u,null);return E=(0,s.zE)(this.usedNames,E),this.items[E]=g,this.usedNames[E]=!0,E},S.prototype.clone=function(){var g=new S(null,_.clone(this.usedNames));return $.extend(g.items,this.items),g},S.prototype.equals=function(g){var y=this;if(!g)return!1;var C=this.keys(),E=g.keys();return C.length===E.length&&(0,e.NF)(C,E,function(M,P){return o(y.source(M),g.source(P))})},S.prototype.renameSources=function(g){for(var C,y=this.items,E=Object.keys(y),M=0,P=E.length;M<P;M++){var T=E[M],x=T;if(g[T]&&(x=(0,s.zE)(g,T),!C)){C={};for(var R=0;R<M;R++){var D=E[R];C[D]=y[D]}}g[x]=!0,C&&(C[x]=y[T])}return C?new S(C):this},S}();function o(S,g){if(S===g)return!0;if(S&&g){if(a(S)&&a(g)||i(S)&&i(g))return S.equals(g);if((0,b.y)(S)&&(0,b.y)(g))return S.equals(g);if(m(S)&&m(g))return S.equals(g)}return!1}function a(S){return c.fF.assertValue(S,"source"),null!=S.entity}function i(S){return c.fF.assertValue(S,"source"),null!=S.pod}function m(S){return c.fF.assertValue(S,"source"),null!=S.expr}var u=function(){function S(){}return S.prototype.visitEntity=function(g){return this.getShortName(g.entity)},S.prototype.visitPod=function(g){return this.getShortName(g.pod)},S.prototype.visitSubquery=function(g){return"q"},S.prototype.visitExpr=function(g){return"x"},S.prototype.getShortName=function(g){var y=g,C=y.lastIndexOf(".");return C>=0&&C!==y.length-1&&(y=y.substr(C+1)),(0,s.Nx)(y.charCodeAt(0))?y.charAt(0).toLowerCase():"a"},S}(),V=function(){function S(){this.entities=[]}return S.prototype.visitEntity=function(g,y){this.entities.push(new f.PN(g.schema,g.entity,y))},S.prototype.visitPod=function(g,y){},S.prototype.visitSubquery=function(g,y){},S.prototype.visitExpr=function(g,y){},S}(),d=function(){function S(g){this.exprRewriter=g}return S.prototype.visitEntity=function(g,y){var E=(0,f.nw)(g.schema,g.entity,y).accept(this.exprRewriter);return new h(E.schema,E.entity)},S.prototype.visitPod=function(g,y){var E=(0,f.nw)(g.schema,g.pod,y).accept(this.exprRewriter);return new p(E.schema,E.entity)},S.prototype.visitSubquery=function(g,y){var E=g.subquery.rewrite(this.exprRewriter);return new n(E)},S.prototype.visitExpr=function(g,y){var E=g.expr.accept(this.exprRewriter);return new l(E)},S}()},158519:function(Je,H,t){t.d(H,{y:function(){return c}});var e=t(787941);function c(s){return e.fF.assertValue(s,"source"),null!=s.subquery}},799818:function(Je,H,t){t.d(H,{hG:function(){return V},OQ:function(){return g},wA:function(){return o},g8:function(){return l},S7:function(){return n},cH:function(){return u},u8:function(){return d},uW:function(){return m},ZB:function(){return i},K8:function(){return a}});var e=t(787941),c=t(597098),s=t(324356),f=t(474147),v=t(983172),b=t(44615);function n(y,C){var E=function(y){return y.hierarchyLevel||y.hierarchyLevelAggr||y.columnHierarchyLevelVariation&&y.columnHierarchyLevelVariation.level}(C);if(E)return l(y,E.schema,E.entity,E.name,E.level)}function l(y,C,E,M,P){var x=y.schema(C).findHierarchy(E,M);if(x)return x.levels.withName(P)}function o(y,C,E){return g(C,y)||function(y,C){e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(C,"federatedSchema");var E,M=y.getConceptualProperty(C);if(M){var P=M.column;if(P&&P.variations&&P.variations.length>0){var T=P.variations;e.fF.assert(function(){return 1===T.length},"variations.length");var x=T[0],R=(0,c.Q)(y),D=(0,b.Um)(R);if(E=[],x.defaultHierarchy)for(var L=(0,s.bT)((0,s.yU)((0,s.nw)(D.schema,D.entity,D.entityVar),x.name,M.name),x.defaultHierarchy.name),F=0,A=x.defaultHierarchy.levels;F<A.length;F++)E.push((0,s.os)(L,A[F].name))}}return E}(C,y)||!E&&function(y,C){e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(C,"federatedSchema");var E=[];if(y instanceof s.vD){var M=(0,c.Q)(y);if(M.hierarchyLevel){var P=(0,b.Um)(M),T=C.schema(P.schema).findHierarchy(P.entity,M.hierarchyLevel.name);if(T)for(var R=0,D=T.levels;R<D.length;R++){var L=D[R];if(L.name===M.hierarchyLevel.level){E.push(y);break}E.push((0,s.os)((0,s.bT)((0,s.nw)(P.schema,P.entity,P.entityVar),T.name),L.name))}}}if(!_.isEmpty(E))return E}(C,y)||C}function a(y,C){if(C instanceof s.jE||C instanceof s.vD)return!0;var E=C.getConceptualProperty(y);if(E){var M=E.column;if(M&&M.variations&&M.variations.length>0)return!0}return!1}function i(y){var C=(0,c.Q)(y);if(C.columnHierarchyLevelVariation){var E=(0,s.nw)(C.columnHierarchyLevelVariation.source.schema,C.columnHierarchyLevelVariation.source.entity);return(0,s.Oh)(E,C.columnHierarchyLevelVariation.source.name)}}function m(y){var E=(0,c.Q)(y).hierarchyLevel;if(E){var M=(0,s.nw)(E.schema,E.entity,E.entityVar);return(0,s.bT)(M,E.name)}}function u(y){if(y.arg instanceof s.jE){var C=y.arg;if(C.arg instanceof s.c7)return C.arg}}function V(y,C,E){if(!(C instanceof s.vD&&E instanceof s.vD))return!1;var M=C,P=E;if(!(0,f.fS)(M.arg,P.arg))return!1;var T=v.m.indexOfExpr(y,M),x=v.m.indexOfExpr(y,P);return-1!==T&&-1!==x&&T<x}function d(y,C,E){for(var M=0;M<C.length&&V(y,C[M],E);)M++;return M}function g(y,C){if(e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(C,"federatedSchema"),y instanceof s.jE){var M=function(y,C){if(y instanceof s.jE){var E=y;if(y.arg instanceof s.PN){var M=y.arg;return C.schema(M.schema).findHierarchy(M.entity,E.hierarchy)}if(y.arg instanceof s.c7){var P=y.arg,T=P.arg;return C.schema(T.schema).findHierarchyByVariation(T.entity,P.property,P.name,E.hierarchy)}}}(y,C);if(M)return _.map(M.levels,function(P){return(0,s.os)(y,P.name)})}}},523487:function(Je,H,t){t.d(H,{K:function(){return v}});var e=t(226514),c=t(787941),s=t(324356);function v(h,p){return c.fF.assertValue(h,"expr"),c.fF.assertValue(p,"schema"),h.accept(new b(p))}var b=function(h){function p(n){var l=h.call(this)||this;return l.schema=n,l}return(0,e.__extends)(p,h),p.prototype.visitPropertyVariationSource=function(n){var l=n.arg.getTargetEntity();if(!l)return n;var r=l.schema,o=this.schema.schema(r).findTargetEntityOfVariation(l.entity,n.property,n.name);return o?(0,s.nw)(r,o.name):n},p}(t(334048).b)},326621:function(Je,H,t){t.d(H,{y3:function(){return u},dc:function(){return X},dx:function(){return Ze},OQ:function(){return Te},rH:function(){return Se},SU:function(){return Ce},IE:function(){return G},iH:function(){return He},JN:function(){return g}});var v,e=t(226514),c=t(787941),s=t(764365),f=t(831917),p=t(826691),n=t(932178),l=t(289135),r=t(520907),o=t(690016),a=t(398491),i=function(){function Ee(){}return Ee.canFormat=function(K){return K instanceof Date},Ee.format=function(K,Ne,Y){Ne=Ne||"G",(0,l.M4)(K)&&(K=u.fromTimeValue(K.epochTimeStamp));var it=1===Ne.length;try{return it?F(K,Ne,Y):function(Ee,K,Ne){var Y,ye=[];if((K=g(K,ye)).indexOf("F")>-1){K=(0,o.ko)(K,"FFFF","FFF");var rt=Ee.getMilliseconds();if(rt%10>=1&&(K=(0,o.ko)(K,"FFF","fff")),K=(0,o.ko)(K,"FFF","FF"),rt%100/10>=1&&(K=(0,o.ko)(K,"FF","ff")),K=(0,o.ko)(K,"FF","F"),rt%1e3/100>=1&&(K=(0,o.ko)(K,"F","f")),""===(K=(0,o.ko)(K,"F",""))||"%"===K)return""}var it=function(Ee){return null!=Ee.match(/gg/)}(K);K=function(Ee){return Ee===D?L:(D=Ee,Ee=function(Ee){if(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=Ee.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),v||(v=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(function(ye){return{r:new RegExp("%"+ye+"(?!"+ye+")","g"),s:ye}})),-1!==Ee.indexOf("%")&&Ee.length>2)for(var K=0,Ne=v;K<Ne.length;K++){var Y=Ne[K];Ee=Ee.replace(Y.r,Y.s)}return Ee}(Ee),L=Ee,Ee)}(K);var Ue=Ne.calendar;return it&&(Ne.calendar=Ne.calendars.Japanese),Y=Globalize.format(Ee,K,Ne),it&&(Ne.calendar=Ue),y(Y=i.localize(Y,Ne.calendar),ye,!1)}(K,Ne,Y)}catch(Ue){return F(K,"G",Y)}},Ee.localize=function(K,Ne){var Y=Ne[":"];if(":"===Y)return K;for(var ye="",rt=K.length,it=0;it<rt;it++){var Ue=K.charAt(it);ye+=":"===Ue?Y:Ue}return ye},Ee}(),m=function(){function Ee(){}return Ee.canFormat=function(K){return"number"==typeof K},Ee.format=function(K,Ne,Y){Ne=Ne||"G";try{return He(Ne)?function(Ee,K,Ne){var Y,ye=K.length>1?parseInt(K.substr(1,K.length-1),10):void 0,rt=Ne.numberFormat,it=K.charAt(0);switch(it){case"e":case"E":void 0===ye&&(ye=6);var Ue=_.repeat("0",ye);Y=le(Ee,K="0."+Ue+it+"+000",Ne);break;case"f":case"F":Y=Ee.toFixed(void 0!==ye?ye:rt.decimals),Y=m.localize(Y,rt);break;case"g":case"G":var De=Math.abs(Ee);if(0===De||1e-4<=De&&De<1e15)Y=void 0!==ye?Ee.toPrecision(ye):Ee.toString();else{if(c.fF.assert(function(){return"number"==typeof Ee},"value must be a number"),"number"!=typeof Ee)return String(Ee);Y=(Y=void 0!==ye?Ee.toExponential(ye):Ee.toExponential()).replace("e","E")}Y=m.localize(Y,rt);break;case"r":case"R":Y=Ee.toString(),Y=m.localize(Y,rt);break;case"x":case"X":if(Y=Ee.toString(16),"X"===it&&(Y=Y.toUpperCase()),void 0!==ye){var Le=Y.length,Xe=Ee<0;Xe&&Le--;var et=ye-Le,he=void 0;et>0&&(he=_.repeat("0",et)),Y=Xe?"-"+he+Y.substr(1):he+Y}Y=m.localize(Y,rt);break;default:Y=Globalize.format(Ee,K,Ne)}return Y}(K,Ne,Y):le(K,Ne,Y)}catch(ye){return Globalize.format(K,void 0,Y)}},Ee.localize=function(K,Ne){var Y=Ne["+"],ye=Ne["-"],rt=Ne["."],it=Ne[","];if("+"===Y&&"-"===ye&&"."===rt&&","===it)return K;for(var Ue=K.length,De="",Le=0;Le<Ue;Le++){var Xe=K.charAt(Le);switch(Xe){case"+":De+=Y;break;case"-":De+=ye;break;case".":De+=rt;break;case",":De+=it;break;default:De+=Xe}}return De},Ee}(),u=function(Ee){function K(){return null!==Ee&&Ee.apply(this,arguments)||this}return(0,e.__extends)(K,Ee),K.prototype.setInternalDate=function(Ne){this.date=Ne},K.fromTimeValue=function(Ne){var Y=new K(Ne);return"function"!=typeof Y.setInternalDate&&p.f.information("epochTimeStamp is '".concat(Ne,"' of type '").concat(typeof Ne,"'")),Y.setInternalDate(new Date(Ne)),Y},K.fromDateParts=function(Ne,Y,ye,rt,it,Ue,De){void 0===Y&&(Y=0),void 0===ye&&(ye=1),void 0===rt&&(rt=0),void 0===it&&(it=0),void 0===Ue&&(Ue=0),void 0===De&&(De=0);var Le=Date.UTC(Ne,Y,ye,rt,it,Ue,De),Xe=new K(Le);return Xe.setInternalDate(new Date(Le)),Xe},K.fromString=function(Ne){c.fF.assert(function(){return/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Ne)},"Only ISO 8601 is guaranteed to be parsed as UTC");var Y=new Date(Ne),ye=new K(Y.getTime());return ye.setInternalDate(Y),ye},K.fromDateWithEpochValue=function(Ne){return K.fromTimeValue(Ne.epochTimeStamp)},K.isDate=function(Ne){return Ne instanceof Date},K.prototype.getDate=function(){return this.date.getUTCDate()},K.prototype.getDay=function(){return this.date.getUTCDay()},K.prototype.getFullYear=function(){return this.date.getUTCFullYear()},K.prototype.getHours=function(){return this.date.getUTCHours()},K.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},K.prototype.getMinutes=function(){return this.date.getUTCMinutes()},K.prototype.getMonth=function(){return this.date.getUTCMonth()},K.prototype.getSeconds=function(){return this.date.getUTCSeconds()},K.prototype.setDate=function(Ne){return this.date.setUTCDate.apply(this.date,arguments)},K.prototype.setFullYear=function(Ne,Y,ye){return this.date.setUTCFullYear.apply(this.date,arguments)},K.prototype.setHours=function(Ne,Y,ye,rt){return this.date.setUTCHours.apply(this.date,arguments)},K.prototype.setMilliseconds=function(Ne){return this.date.setUTCMilliseconds.apply(this.date,arguments)},K.prototype.setMinutes=function(Ne,Y,ye){return this.date.setUTCMinutes.apply(this.date,arguments)},K.prototype.setMonth=function(Ne,Y){return this.date.setUTCMonth.apply(this.date,arguments)},K.prototype.setSeconds=function(Ne,Y){return this.date.setUTCSeconds.apply(this.date,arguments)},K.prototype.toString=function(){var Ne=this.date.toUTCString(),Y=Ne.length-4;return Ne.indexOf(" GMT")===Y&&(Ne=Ne.substr(0,Y)),Ne},K.prototype.getTime=function(){return this.date.getTime()},K.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},K.prototype.getUTCDate=function(){return this.date.getUTCDate()},K.prototype.getUTCDay=function(){return this.date.getUTCDay()},K.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},K.prototype.getUTCHours=function(){return this.date.getUTCHours()},K.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},K.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},K.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},K.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},K.prototype.setUTCDate=function(Ne){return this.date.setUTCDate.apply(this.date,arguments)},K.prototype.setUTCFullYear=function(Ne,Y,ye){return this.date.setUTCFullYear.apply(this.date,arguments)},K.prototype.setUTCHours=function(Ne,Y,ye,rt){return this.date.setUTCHours.apply(this.date,arguments)},K.prototype.setUTCMilliseconds=function(Ne){return this.date.setUTCMilliseconds.apply(this.date,arguments)},K.prototype.setUTCMinutes=function(Ne,Y,ye){return this.date.setUTCMinutes.apply(this.date,arguments)},K.prototype.setUTCMonth=function(Ne,Y){return this.date.setUTCMonth.apply(this.date,arguments)},K.prototype.setUTCSeconds=function(Ne,Y){return this.date.setUTCSeconds.apply(this.date,arguments)},K.prototype.toDateString=function(){return this.date.toDateString()},K.prototype.toISOString=function(){return this.date.toISOString()},K.prototype.toJSON=function(){return this.date.toJSON()},K.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},K.prototype.toLocaleString=function(){return this.date.toLocaleString()},K.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},K.prototype.toTimeString=function(){return this.date.toTimeString()},K.prototype.toUTCString=function(){return this.date.toUTCString()},K.prototype.valueOf=function(){return this.date.valueOf()},K}(Date),d=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function S(Ee){return d.lastIndex=0,Ee.replace(d,"\ue100")}function g(Ee,K){for(d.lastIndex=0;;){var Ne=d.exec(Ee);if(!Ne)break;var Y=Ne[0],ye=d.lastIndex-Y.length,rt=String.fromCharCode(57600+K.length);K.push(Y),Ee=Ee.substr(0,ye)+rt+Ee.substr(d.lastIndex),d.lastIndex=ye+1}return Ee}function y(Ee,K,Ne){void 0===Ne&&(Ne=!0);for(var Y=K.length,ye=0;ye<Y;ye++){var rt=String.fromCharCode(57600+ye),it=K[ye];if(!Ne){var Ue=it[0];it="\\"===Ue||1===it.length||it[it.length-1]!==Ue?it.substring(1):it.substring(1,it.length-1)}Ee=Ee.replace(rt,it)}return Ee}var D,L,C=/({{)|(}})|{(\d+[^}]*)}/g,E="0",M="#",x=new RegExp([E,M].join("|"),"g"),R=function(){function Ee(){}return Ee.prototype.formatValue=function(K,Ne,Y){if(null==K)return"";var ye=this.getCulture(Y);return i.canFormat(K)?i.format(K,Ne,ye):m.canFormat(K)?m.format(K,Ne,ye):K.toString()},Ee.prototype.format=function(K,Ne,Y){var ye=this;return K?K.replace(C,function(it,Ue,De,Le){if(Ue)return"{";if(De)return"}";var Xe=Le.split(":"),et=parseInt(Xe[0],10);return ye.formatValue(Ne[et],Xe[1],Y)}):""},Ee.prototype.isStandardNumberFormat=function(K){return He(K)},Ee.prototype.formatNumberWithCustomOverride=function(K,Ne,Y,ye){return function(Ee,K,Ne,Y){return c.fF.assertValue(Ee,"value"),c.fF.assert(function(){return"number"==typeof Ee},"value must be a number"),c.fF.assertValue(K,"format"),c.fF.assertValue(Ne,"nonScientificOverrideFormat"),c.fF.assertValue(Y,"culture"),c.fF.assert(function(){return!He(K)},"Standard format"),le(Ee,K,Y,Ne)}(K,Ne,Y,this.getCulture(ye))},Ee.prototype.dateFormatString=function(K){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(K)},Ee.prototype.setCurrentCulture=function(K){this._currentCultureSelector!==K&&(this._currentCulture=this.getCulture(K),this._currentCultureSelector=K,this._dateTimeScaleFormatInfo=new Oe(this._currentCulture))},Ee.prototype.normalizeCultureSelector=function(K){var Ne=K.split("-");return 2===Ne.length&&2===Ne[1].length&&(K=Ne[0]+"-"+Ne[1].toUpperCase()),K},Ee.prototype.getCulture=function(K){if(null==K)return null==this._currentCulture&&this.initialize(),this._currentCulture;K=this.normalizeCultureSelector(K);var Ne=Globalize.findClosestCulture(K);return Ne||(Ne=Globalize.culture("en-US")),Ne},Ee.prototype.parseFloat=function(K){return Globalize.parseFloat(K,this.getCulture())},Ee.prototype.parseDate=function(K){var Ne=Globalize.parseDate(K,null,this.getCulture());return Ne&&(0,l.Fg)(Ne)},Ee.prototype.getCurrentCulture=function(){return this.getCulture()},Ee.prototype.initialize=function(){var K=this.getCurrentLocale();this.setCurrentCulture(K);var Ne=this.getUrlParam("calendar");if(Ne){var Y=this._currentCulture,ye=Y.calendars[Ne];ye&&(Y.calendar=ye)}},Ee.prototype.getCurrentLocale=function(){var K=n.M.getLanguage()||Globalize.culture().name,Ne=(0,f.hG)().cultureInfo;return K=(0,f.hG)().formattingLocale||Ne||K,this.getUrlParam("formatLocale")||this.getUrlParam("language")||K},Ee.prototype.getUrlParam=function(K){var Ne=window.location.search.match(RegExp("[?&]"+K+"=([^&]*)"));return Ne?Ne[1]:void 0},Ee}();function F(Ee,K,Ne){var Y=Ne.calendar.patterns;!function(Ee){var K=Ee.patterns;void 0===K.g&&(K.g=K.f.replace(K.D,K.d),K.G=K.F.replace(K.D,K.d))}(Ne.calendar);var ye=function(Ee,K,Ne){switch(K){case"m":K="M";break;case"O":case"o":K="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":Ee=new Date(Ee.getUTCFullYear(),Ee.getUTCMonth(),Ee.getUTCDate(),Ee.getUTCHours(),Ee.getUTCMinutes(),Ee.getUTCSeconds(),Ee.getUTCMilliseconds()),K="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":K="S";break;case"u":Ee=new Date(Ee.getUTCFullYear(),Ee.getUTCMonth(),Ee.getUTCDate(),Ee.getUTCHours(),Ee.getUTCMinutes(),Ee.getUTCSeconds(),Ee.getUTCMilliseconds()),K="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":Ee=new Date(Ee.getUTCFullYear(),Ee.getUTCMonth(),Ee.getUTCDate(),Ee.getUTCHours(),Ee.getUTCMinutes(),Ee.getUTCSeconds(),Ee.getUTCMilliseconds()),K="F";break;case"y":case"Y":switch(Ne){case"default":case"en":case"en-US":K="MMMM, yyyy";break;default:K="Y"}}return{value:Ee,format:K}}(Ee,K,Ne.name);return K=1===ye.format.length?Y[ye.format]:ye.format,Globalize.format(ye.value,K,Ne)}var Qe,I=/^\{.+\}.*/,B=/\{.+\}/,j=/e[+-]*[0#]+/i,W=/^[a-z]\d{0,2}$/i,U=/0+$/,k=/([,]*)\.([0#]*)/g,Q=/[0#,\.]+[0,#]*/g,te=/([0#])(?=[^0#]*$)/;function G(Ee,K){if(null==K)return K;if(Ve(K)){var Ne=Te(K);return ne(Ee>0?Ne.positive:0===Ee?Ne.zero:Ne.negative)}return ne(K)}function ne(Ee){var K=(0,r.KH)(Q,Ee);return K?K[0]:Ee}function X(Ee,K,Ne){if(null==K)return Ee;if(null==Ee&&(Ee=E),Ve(Ee)){for(var Y=Te(Ee),Ue=[Y.positive,Y.negative,Y.zero],De=0;De<Ue.length;De++)Ue[De]=oe(Ue[De],K,Ne);return Ue.join(";")}return oe(Ee,K,Ne)}function oe(Ee,K,Ne){if((K=Math.abs(K))>=0){var Y=[];Ee=g(Ee,Y);var rt=_.repeat(Ne?E:M,Math.abs(K)),it=(0,r.KH)(k,Ee);if(it){var Ue=Ee.substr(0,it.index+it[1].length),De=Ee.substr(it.index+it[1].length+1,it[2].length),Le=it[1],Xe=Ee.substr(it.index+it[0].length);if(Ne)De=rt;else{var et=rt.length-De.length;et>0?De+=rt.slice(-et):et<0&&(De=De.slice(0,et))}De.length>0?De="."+De:Le.length>0&&(De="."),Ee=Ue+De+Xe}else rt.length>0&&(Ee=Ee.replace(te,"$1."+rt));0!==Y.length&&(Ee=y(Ee,Y))}return Ee}function Ve(Ee){return-1!==S(Ee).indexOf(";")}function Te(Ee){var K={hasNegative:!1,positive:Ee,negative:Ee,zero:Ee},Ne=[],Y=(Ee=g(Ee,Ne)).split(";"),ye=Y.length;return ye>1&&(0!==Ne.length&&(Y=_.map(Y,function(rt){return y(rt,Ne)})),K.hasNegative=!0,K.positive=K.zero=Y[0],K.negative=Y[1],ye>2&&(K.zero=Y[2])),K}function He(Ee){return c.fF.assertValue(Ee,"format"),W.test(Ee)}function Ce(Ee){return!Ee||He(Ee)||Se(Ee).hasDots?Ee:X(Ee,2,!0)}function le(Ee,K,Ne,Y){var ye,rt=Ne.numberFormat;if(!isFinite(Ee))return Globalize.format(Ee,void 0);var it=Te(K);K=Ee>0?it.positive:0===Ee?it.zero:it.negative,it.hasNegative&&(Ee=Math.abs(Ee));var Ue=Se(K,!0),De=[];if(Ue.hasLiterals&&(K=g(K,De)),Ue.hasE&&!Y){var Le=(0,r.KH)(j,K);if(Le){var Xe=K.substr(0,Le.index),et=K.substr(Le.index+2),he=Pe(Xe,Ue);if(1!==(ce=ie(Xe,Ue))&&(Ee*=ce),c.fF.assert(function(){return"number"==typeof Ee},"value must be a number"),"number"!=typeof Ee)return String(Ee);var Re=Ee.toExponential(he),Ge=Re.indexOf("e"),ut=Re.substr(0,Ge),je=Re.substr(Ge+1),ae=Fe(ut,Xe,rt),fe=Fe(je,et,rt);"+"===fe.charAt(0)&&"+"!==Le[0].charAt(1)&&(fe=fe.substr(1)),ye=ae+Le[0].charAt(0)+fe}}if(void 0===ye){var ce,ze=void 0,$e=!1;if(he=Pe(K,Ue),1!==(ce=ie(K,Ue))&&(Ee*=ce),Ee=parseFloat(be(Ee,he)),!isFinite(Ee))return Globalize.format(Ee,void 0);Y?(Y=function(Ee,K){return K&&void 0!==Ee?Ee.replace("{0}","{0:"+K+"}"):Ee}(Y,G(Ee,K)),ze=Ze.format(Y,[Ee],Ne.name),$e=!0):(ze=be(Ee,he),ze=function(Ee,K,Ne,Y){if(0===Y)return K;var ye=K.indexOf(".");if(-1===ye)return K;for(var rt=ye+1,Ue=rt+(Ne-Y);Ue<K.length;++Ue){var De=K[Ue];if("0"===De||"9"===De){var Le=be(Ee,Ue-rt);if(parseFloat(Le)===Ee)return Le}}return K}(Ee,ze,he,function(Ee,K){return ve(Ee,K),K.optionalPrecision}(K,Ue))),ye=Fe(ze,K,rt,Y,$e)}return Ue.hasLiterals&&(ye=y(ye,De,!1)),Qe=Ue,ye}function be(Ee,K){var Ne="",Y=0;K>16&&(Y=K-16,K=16);var ye=(0,s.mv)(Math.abs(Ee))+1;if(ye<16){if(ye>0){var rt=16-ye;K>rt&&(Y+=K-rt,K=rt)}Ne=function(Ee,K){if(!Ee||isFinite(Ee)){var Ne=Ee<0;Ne&&(Ee=-Ee);var Y=Math.pow(2,Math.floor(Math.log(Ee)/Math.LN2)-52),ye=Math.pow(10,K);1/ye>10*Y&&(Ee=Math.round((Ee+Y)*ye)/ye),Ne&&(Ee=-Ee)}return Ee.toFixed(K)}(Ee,K)}else if(16===ye)Ne=Ee.toFixed(0),(Y+=K)>0&&(Ne+=".");else{if(c.fF.assert(function(){return"number"==typeof Ee},"value must be a number"),"number"!=typeof Ee)return String(Ee);var it=(Ne=Ee.toExponential(15)).indexOf("e");if(it>0){var Ue=Ne.indexOf("."),De=Ne.substr(0,it),Le=Ne.substr(it+1),Xe=parseInt(Le,10)-(De.length-Ue-1);Ne=De.replace(".","")+_.repeat("0",Xe),K>0&&(Ne=Ne+"."+_.repeat("0",K))}}return Y>0&&(Ne+=_.repeat("0",Y)),Ne}function Se(Ee,K,Ne,Y){if(void 0!==Qe&&Ee===Qe.format)return Qe;for(var ye=[],rt=g(Ee,ye),it={format:Ee,hasLiterals:0!==ye.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},Ue=0,De=rt.length;Ue<De;Ue++)switch(rt.charAt(Ue)){case"e":case"E":it.hasE=!0;break;case",":it.hasCommas=!0;break;case".":it.hasDots=!0;break;case"%":it.hasPercent=!0;break;case"\u2030":it.hasPermile=!0}var Xe=Te(Ee);return K&&(it.precision=Pe(Xe.positive,it)),Y&&(it.partsPerScale=xe(Xe.positive,it)),Ne&&(it.scale=ie(Xe.positive,it)),it}function Pe(Ee,K){return ve(Ee,K),K.precision}function ve(Ee,K){if(!(K.precision>-1)){var Ne=0,Y=0;if(K.hasDots){K.hasLiterals&&(Ee=S(Ee));var ye=Ee.indexOf(".");if(ye>-1){for(var rt=Ee.length,it=ye;it<rt;it++){var Ue=Ee.charAt(it);if(Ue.match(x)&&++Ne,Ue===M?++Y:Y=0,"E"===Ue)break}Ne>19&&(Y=Math.max(0,Y-(Ne-19)),Ne=19)}}K.precision=Ne,K.optionalPrecision=Y}}function xe(Ee,K){if(null!=K.partsPerScale)return K.partsPerScale;var Ne=1;return K.hasPercent&&Ee.indexOf("%")>-1&&(Ne*=100),K.hasPermile&&Ee.indexOf("\u2030")>-1&&(Ne*=1e3),K.partsPerScale=Ne,Ne}function ie(Ee,K){if(K.scale>-1)return K.scale;var Ne=xe(Ee,K);if(K.hasCommas){var Y=Ee.indexOf(".");if(-1===Y)for(Y=Ee.length;Y>0&&")"===Ee.charAt(Y-1);)Y--;for(var ye=Y-1;ye>-1&&","===Ee.charAt(ye);ye--)Ne/=1e3}return K.scale=Ne,Ne}function Fe(Ee,K,Ne,Y,ye){var rt=!!Y,it=K.split(".",2);if(2===it.length){var Ue=it[0],De=it[1],Le="";Y&&(c.fF.assert(function(){return I.test(Y)},"Number should always precede the display unit"),Le=Y.replace(B,""),Ee=Ee.replace(Le,""));var Xe=Ne["."],he=Ee.split(ye?Xe:".",2),ce=1===he.length?he[0]+Le:he[0],Re=2===he.length?he[1]+Le:"";Re=Re.replace(U,"");var Ge=at(ce,Ue,Ne,rt),ut=function(Ee,K,Ne){var Y=0,ye=K.length,rt=Ee.length;if(Ne){c.fF.assert(function(){return ye>0},"Empty formatting string");var it=K.charAt(ye-1);return it.match(x)?{value:Ee,fmtOnly:""===Ee}:{value:Ee+it,fmtOnly:""===Ee}}for(var Ue="",De=!0,Le=0;Le<ye;Le++){var Xe=K.charAt(Le);if(Y<rt)switch(Xe){case E:case M:Ue+=Ee[Y++],De=!1;break;default:Ue+=Xe}else Xe!==M&&(Ue+=Xe,De=De&&Xe!==E)}return{value:Ue,fmtOnly:De}}(Re,De,rt);return ut.fmtOnly||""===ut.value?Ge+ut.value:Ge+Xe+ut.value}return at(Ee,K,Ne,rt)}function at(Ee,K,Ne,Y){var ye=K.indexOf(","),rt=ye>-1&&ye<Math.max(K.lastIndexOf("0"),K.lastIndexOf("#"))&&Ne[","],it=0,Ue=0,De=Ne.groupSizes||[3],Le=De[0],Xe=Ne[","],et="",he=Ee.charAt(0);("+"===he||"-"===he)&&(et=Ne[he],Ee=Ee.substr(1));for(var ce="0"===Ee,Re="",Ge="",ut=Ee.length-1,je=!0,ae=K.length-1;ae>-1;ae--){var fe=K.charAt(ae);switch(fe){case E:case M:je=!1,""!==Ge&&(Re=Ge+Re,Ge=""),Y||((ut>-1||fe===E)&&rt&&(it===Le?(Re=Xe+Re,++Ue<De.length&&(Le=De[Ue]),it=1):it++),ut>-1?(ce&&fe===M||(Re=Ee.charAt(ut)+Re),ut--):fe!==M&&(Re=fe+Re));break;case",":break;default:Ge=fe+Ge}}if(!Y){if(ut>-1&&""!==Re)if(rt)for(;ut>-1;)it===Le?(Re=Xe+Re,++Ue<De.length&&(Le=De[Ue]),it=1):it++,Re=Ee.charAt(ut)+Re,ut--;else Re=Ee.substr(0,ut+1)+Re;return et+Ge+Re}return je?et+Ge+Re:et+Ge+Ee+Re}var Oe=function(){function Ee(K){var Ne,Y,ye=K.calendar,rt=ye.patterns,it=null!=(null===(Y=null===(Ne=ye.months)||void 0===Ne?void 0:Ne.namesAbbr)||void 0===Y?void 0:Y[0]),Ue=rt.Y,De=rt.M,Le=rt.f,Xe=rt.T,et=rt.t,he=Le.indexOf(",")>-1?", ":" ",ce=0===Ue.indexOf("yyyy'")&&Ue.length>6&&"'"===Ue[6];this.YearPattern=ce?Ue.substr(0,7):"yyyy";var Re=Le.indexOf("yy"),Ge=Le.indexOf("MMMM");this.MonthPattern=it&&Ge>-1?Re>Ge?"MMM yyyy":"yyyy MMM":Ue,this.DayPattern=it?De.replace("MMMM","MMM"):De;var ut=Le.indexOf("mm"),ae=Le.indexOf("tt")>-1?et.replace(":mm ",""):et;"fi-FI"===(this.HourPattern=Re<ut?this.DayPattern+he+ae:ae+he+this.DayPattern,this.MinutePattern=et,this.SecondPattern=Xe,this.MillisecondPattern=Xe.replace("ss","ss.fff"),K.name)&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return Ee.prototype.getFormatString=function(K){switch(K){case a.l.Year:return this.YearPattern;case a.l.Month:return this.MonthPattern;case a.l.Week:case a.l.Day:return this.DayPattern;case a.l.Hour:return this.HourPattern;case a.l.Minute:return this.MinutePattern;case a.l.Second:return this.SecondPattern;case a.l.Millisecond:return this.MillisecondPattern}c.fF.assertFail("Unexpected unit: "+K)},Ee}(),Ze=new R},744104:function(Je,H,t){t.d(H,{Gg:function(){return h},qC:function(){return b}});var e=t(226514),c=t(787941),s=t(289135),f=t(116170),v=t(326621);function b(l){return JSON.stringify(l.accept(p.instance))}function h(l){for(var r="[",o=0,a=l.length;o<a;o++)o>0&&(r+=","),r+=b(l[o]);return r+"]"}var p=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return(0,e.__extends)(r,l),r.prototype.visitColumnRef=function(o){return{col:{s:o.source.accept(this),r:o.ref}}},r.prototype.visitMeasureRef=function(o){return{measure:{s:o.source.accept(this),r:o.ref}}},r.prototype.visitNativeMeasure=function(o){var a={l:o.language,e:o.expression,t:o.dataType};return o.proposedName&&(a.p=o.proposedName),o.expressionContentCache&&(a.c={}),o.expressionContentCache.dependencies&&(a.c.d=h(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(a.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:a}},r.prototype.visitNativeColumn=function(o){var a={l:o.language,e:o.expression,t:o.dataType,s:o.source.accept(this),f:o.format};return o.proposedName&&(a.p=o.proposedName),o.expressionContentCache&&(a.c={}),o.expressionContentCache.dependencies&&(a.c.d=h(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(a.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:a}},r.prototype.visitAggr=function(o){return{agg:{a:o.arg.accept(this),f:o.func}}},r.prototype.visitEntity=function(o){return c.fF.assertValue(o,"expr"),c.fF.assertValue(o.entity,"expr.entity"),{e:o.entity}},r.prototype.visitHierarchyLevel=function(o){return{h:o.arg.accept(this),l:o.level}},r.prototype.visitHierarchy=function(o){return{e:o.arg.accept(this),h:o.hierarchy}},r.prototype.visitPropertyVariationSource=function(o){return{e:o.arg.accept(this),n:o.name,p:o.property}},r.prototype.visitAnd=function(o){return c.fF.assertValue(o,"expr"),{and:{l:o.left.accept(this),r:o.right.accept(this)}}},r.prototype.visitCompare=function(o){return c.fF.assertValue(o,"expr"),{comp:{k:o.comparison,l:o.left.accept(this),r:o.right.accept(this)}}},r.prototype.visitConstant=function(o){return c.fF.assertValue(o,"expr"),{const:{t:o.type.primitiveType,v:n(o.value)}}},r.prototype.visitArithmetic=function(o){return c.fF.assertValue(o,"expr"),{arithmetic:{o:o.operator,l:o.left.accept(this),r:o.right.accept(this)}}},r.prototype.visitScopedEval=function(o){return c.fF.assertValue(o,"expr"),{scopedEval:{e:o.expression.accept(this),s:h(o.scope)}}},r.prototype.visitFilteredEval=function(o){var a=this;return c.fF.assertValue(o,"expr"),{filteredEval:{e:o.expression.accept(this),f:"[".concat(_.map(o.filters,function(m){return JSON.stringify((u=m,V={},_.isEmpty(u.target)||(V.t=_.map(u.target,function(d){return d.accept(a)})),V.c=u.condition.accept(a),V));var u,V}).join(", "),"]")}}},r.prototype.visitWithRef=function(o){return c.fF.assertValue(o,"expr"),{withRef:{e:o.expressionName}}},r.prototype.visitTransformTableRef=function(o){return c.fF.assertValue(o,"expr"),{transformTableRef:{source:o.source}}},r.prototype.visitTransformOutputRoleRef=function(o){c.fF.assertValue(o,"expr");var a={transformOutputRoleRef:{role:o.role}};return o.transform&&(a.transformOutputRoleRef.transform=o.transform),a},r.prototype.visitFloor=function(o){c.fF.assertValue(o,"expr");var a={floor:{a:o.arg.accept(this),s:o.size}};return null!=o.timeUnit&&(a.floor.timeunit=o.timeUnit),a},r.prototype.visitRoleRef=function(o){return c.fF.assertValue(o,"expr"),{roleRef:{role:o.role}}},r.prototype.visitSummaryValueRef=function(o){return c.fF.assertValue(o,"expr"),{summaryValueRef:{name:o.name}}},r.prototype.visitAllRolesRef=function(o){return c.fF.assertValue(o,"expr"),{allRolesRef:{}}},r.prototype.visitNot=function(o){return c.fF.assertValue(o,"expr"),{not:o.arg.accept(this)}},r.prototype.visitIn=function(o){return c.fF.assertValue(o,"expr"),{in:{c:h(o.args),v:_.map(o.values,function(a){return h(a)})}}},r.prototype.visitSelectRef=function(o){return c.fF.assertValue(o,"expr"),{n:o.expressionName}},r.prototype.visitSparklineData=function(o){var a;return c.fF.assertValue(o,"expr"),{sparklineData:{m:o.measure.accept(this),g:h(o.grouping),s:null===(a=o.scalarKey)||void 0===a?void 0:a.accept(this)}}},r.prototype.visitDefault=function(o){c.fF.assertFail("Unexpected expression type found in DataViewScopeIdentity.")},r.instance=new r,r}(f.vq);function n(l){return(0,s.M4)(l)?v.y3.fromDateWithEpochValue(l):l}},745633:function(Je,H,t){t.d(H,{C:function(){return f},J:function(){return s}});var e=t(787941),c=t(149362);function s(v,b){if(e.fF.assertValue(v,"getStylePreset called with undefined stylePresets"),v){_.isEmpty(b)&&(b=v.defaultPresetName);var h=v.presets[b];return h||(h=v.presets[v.defaultPresetName]),e.fF.assertValue(h,"VisualStylePreset not found and no valid default exists"),h}}function f(v,b){var h=[];if(v){var p=v.presets;if(p)for(var n in p){var l=p[n];l.isDeprecated&&l.name!==b||h.push({value:l.name,displayName:l.displayName})}}return(0,c.i)(h)}},149362:function(Je,H,t){t.d(H,{i:function(){return c}});var e=t(787941);function c(f){return new s(f)}var s=function(){function f(v){e.fF.assertValue(v,"allMembers"),this.allMembers=v}return f.prototype.members=function(v){var b=this.allMembers;if(!v)return b;for(var h=[],p=0,n=b;p<n.length;p++){var l=n[p];_.includes(v,l.value)&&h.push(l)}return h},f}()},615419:function(Je,H,t){t.d(H,{AG:function(){return b},EV:function(){return v},Gl:function(){return s},RL:function(){return f}});var e=t(787941),c=t(324356);function s(h){return h&&(void 0!==h.solid&&void 0!==h.solid.color||void 0!==h.gradient&&(void 0!==h.gradient.startColor||void 0!==h.gradient.endColor)||void 0!==h.pattern&&(void 0!==h.pattern.patternKind||void 0!==h.pattern.color))}function f(h,p){e.fF.assertValue(h,"fill"),h.solid&&h.solid.color?p.visitExpr(h.solid.color):e.fF.assertFail("Unsupported FillDefinition")}function v(h,p){return p?{solid:{color:(0,c.$_)(h,p)}}:null===h?{solid:{color:(0,c.IF)()}}:h?{solid:{color:(0,c.fL)(h)}}:void 0}function b(h){return e.fF.assertValue(h,"descriptor"),!0!==h&&!!h.nullable}},655981:function(Je,H,t){t.d(H,{LX:function(){return s},RL:function(){return h},Sx:function(){return v},TJ:function(){return f},dt:function(){return b}});var e=t(787941),c=t(149362),s="asZero",f="noColor",v="specificColor",b=(0,c.i)([{value:s,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:f,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:v,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]);function h(o,a){e.fF.assertValue(o,"fillRule"),o.linearGradient2?function(o,a){e.fF.assertValue(o,"gradient2"),l(o.min,a),l(o.max,a),r(o.nullColoringStrategy,a)}(o.linearGradient2,a):o.linearGradient3?function(o,a){e.fF.assertValue(o,"gradient3"),l(o.min,a),l(o.mid,a),l(o.max,a),r(o.nullColoringStrategy,a)}(o.linearGradient3,a):e.fF.assertFail("Unsupported FillRuleDefinition")}function l(o,a){e.fF.assertValue(o,"stop"),a.visitExpr(o.color);var i=o.value;i&&a.visitExpr(i)}function r(o,a){o&&(a.visitExpr(o.strategy),o.color&&a.visitExpr(o.color))}},636490:function(Je,H,t){t.d(H,{BD:function(){return c},Ms:function(){return s},c1:function(){return e},t_:function(){return f}});var e="shared",c="packaged",s="geojson",f="topojson"},813297:function(Je,H,t){t.d(H,{z:function(){return e}});var e={misc:{imageUrl:!0}}},60495:function(Je,H,t){t.d(H,{IM:function(){return v},Kt:function(){return p},RL:function(){return f},Y0:function(){return b},Zm:function(){return n}});var e=t(787941),c=t(324356),s=t(950870);function f(i,m){e.fF.assertValue(i,"paragraphs");for(var u=0,V=i;u<V.length;u++)l(V[u],m)}function v(i){var m=i;return e.fF.assertValue(m,"textRunDefinition"),_.isString(m.value)||(0,s.U)(m.value)||m.value instanceof c.Il}function b(i){var m=i;return e.fF.assertValue(m,"textRunDefinitionGeneric"),_.isString(m.value)||function(i){return i&&i.expr}(m.value)||(0,s.U)(m.value)}function p(i){var m=i;return e.fF.assertValue(m,"textRunConditionalDefinition"),_.isArray(m.cases)&&void 0!==m.defaultCase&&_.isArray(m.defaultCase.textRuns)&&(0,s.U)(m.expression)}function n(i){var m=i;return e.fF.assertValue(m,"conditionalDefinitionGeneric"),_.isArray(m.cases)&&void 0!==m.defaultCase&&void 0!==m.expression}function l(i,m){if(e.fF.assertValue(i,"paragraph"),!_.isEmpty(i.textRuns))for(var u=0,V=i.textRuns;u<V.length;u++){var d=V[u];v(d)?r(d,m):p(d)?a(d,m):e.fF.assertNever(d)}}function r(i,m){e.fF.assertValue(i,"textRun"),e.fF.assertValue(i.value,"textRun.value"),!_.isString(i.value)&&o(i.value,m)}function o(i,m){if((0,s.U)(i))return m.visitValueRef(i);m.visitExpr(i)}function a(i,m){e.fF.assertValue(i,"textRunConditional"),e.fF.assertValue(i.expression,"expression"),e.fF.assertValue(i.defaultCase,"defaultCase"),e.fF.assertValue(i.cases,"cases");for(var u=0,V=i.cases;u<V.length;u++)for(var S=0,g=V[u].textRuns;S<g.length;S++)r(g[S],m);for(var C=0,E=i.defaultCase.textRuns;C<E.length;C++)r(E[C],m);(0,s.U)(i.expression)&&o(i.expression,m)}},340608:function(Je,H,t){t.d(H,{_:function(){return c}});var e=t(787941),c=function(){function s(f,v){this.exprVisitor=f,this.valueRefVisitor=v}return s.prototype.visitExpr=function(f){return e.fF.assertValue(f,"expr"),e.fF.assertValue(this.exprVisitor,"exprVisitor"),f.accept(this.exprVisitor)},s.prototype.visitValueRef=function(f){return e.fF.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(f)},s}()},939141:function(Je,H,t){t.d(H,{DS:function(){return V},Fq:function(){return n},Hr:function(){return r},JY:function(){return y},RL:function(){return d},TS:function(){return g},X2:function(){return v},Xz:function(){return u},ZG:function(){return m},bA:function(){return i},gO:function(){return b},hl:function(){return f},r:function(){return a}});var e=t(787941),c=t(13106),s=t(324356);function f(C){return!!C&&(C instanceof c.yl||v(C)||b(C)||function(C){return!!C.identityFieldsValues}(C)||function(C){return C.name instanceof s.Il&&C.url instanceof s.Il}(C)||n(C)||function(C){return C.name instanceof s.Il&&C.content instanceof s.Il&&C.type instanceof s.Il}(C)||r(C)||o(C)||a(C)||i(C)||m(C)||u(C)||V(C))}function v(C){return!!(C.gradient||C.solid||C.pattern)}function b(C){return!(!C.linearGradient2&&!C.linearGradient3)}function n(C){var E=C;if(!_.isArray(E))return!1;for(var M=0,P=E;M<P.length;M++)if(!P[M].textRuns)return!1;return!0}function r(C){return!(!C.algorithm||!C.parameters)}function o(C){return!!(C.axisColor&&C.negativeColor&&C.negativeColor)}function a(C){return"Icon"===C.kind}function i(C){return"ExprList"===C.kind}function m(C){return null!=C&&"ErrorRange"===C.kind}function u(C){return null!=(null==C?void 0:C.suggestedUtterances)}function V(C){return null!=C&&"ItemLocation"===C.kind}function d(C,E){v(C)?E.visitFillDefinition(C):b(C)?E.visitFillRuleDefinition(C):n(C)?E.visitParagraphs(C):o(C)?E.visitDataBarsDefinition(C):a(C)?E.visitIconDefinition(C):m(C)&&E.visitErrorRangeDefinition(C)}function g(C,E){return E?C?"Icon"===C.kind&&"Icon"===E.kind?{kind:"Icon",layout:null!=E.layout?E.layout:C.layout,verticalAlignment:null!=E.verticalAlignment?E.verticalAlignment:C.verticalAlignment,value:void 0!==E.value?E.value:C.value}:void e.fF.assertFail("unsupported StructuralObjectValues merging"):E:C}function y(C){return e.fF.assertValue(C,"type"),!!(C.fill||C.fillRule||C.filter||C.expression||C.image||C.paragraphs||C.geoJson||C.queryTransform||C.dataBars||C.icon||C.exprList||C.errorRange||C.qnaVisualLink||C.itemLocation)}},950870:function(Je,H,t){function e(s){return!!s&&(void 0!==s.selector&&void 0!==s.propertyIdentifier)}t.d(H,{S:function(){return c},U:function(){return e}});var c=function(){function s(){this.references=[]}return s.prototype.accept=function(f){this.references.push(f)},s}()},592042:function(Je,H,t){t.d(H,{Ep:function(){return a},Ge:function(){return b},yf:function(){return i}});var f,v,e=t(787941),c=t(143509),s=t(725182),b=function(){function M(P,T,x,R,D,L){e.fF.assert(function(){return!!P&&null!=i[P]||0===P},"type"),e.fF.assert(function(){return!!T||null===T},"category"),e.fF.assert(function(){return 26214401!==P||!!x},"enumType"),e.fF.assert(function(){return 26280196!==P||!!R},"flagsEnumType"),this.underlyingType=P,this.category=T,(0,s.yE)(P,512)&&(this.temporalType=new p(P)),(0,s.yE)(P,1024)&&(this.geographyType=new n(P)),(0,s.yE)(P,2048)&&(this.miscType=new l(P,L)),(0,s.yE)(P,4096)&&(this.formattingType=new o(P)),(0,s.yE)(P,26214401)&&(this.enumType=x),(0,s.yE)(P,26280196)&&(this.flagsEnumType=R),(0,s.yE)(P,8192)&&(this.scriptingType=new h(P)),(0,s.yE)(P,16384)&&(this.referenceType=new r(P)),(0,s.yE)(P,13)&&(this.variationTypes=D)}return M.isValueTypeDescriptor=function(P){return 0!==M.fromDescriptor(P).primitiveType},M.fromDescriptor=function(P){if((P=P||{}).scripting&&P.scripting.source)return M.fromExtendedType(32776193);if(P.enumeration)return M.fromEnum(P.enumeration);if(P.flagsEnumeration)return M.fromFlagsEnum(P.flagsEnumeration);if(P.temporal){if(P.temporal.year)return M.fromExtendedType(66308);if(P.temporal.quarter)return M.fromExtendedType(262916);if(P.temporal.month)return M.fromExtendedType(131844);if(P.temporal.day)return M.fromExtendedType(328452);if(P.temporal.paddedDateTableDate)return M.fromExtendedType(197127)}if(P.geography){if(P.geography.address)return M.fromExtendedType(6554625);if(P.geography.city)return M.fromExtendedType(6620161);if(P.geography.continent)return M.fromExtendedType(6685697);if(P.geography.country)return M.fromExtendedType(6751233);if(P.geography.county)return M.fromExtendedType(6816769);if(P.geography.region)return M.fromExtendedType(6882305);if(P.geography.postalCode)return M.fromExtendedType(6947841);if(P.geography.stateOrProvince)return M.fromExtendedType(7013377);if(P.geography.place)return M.fromExtendedType(7078913);if(P.geography.latitude)return M.fromExtendedType(7144707);if(P.geography.longitude)return M.fromExtendedType(7210243)}if(P.misc){if(P.misc.image)return M.fromExtendedType(13109259);if(P.misc.imageUrl)return M.fromExtendedType(13174785);if(P.misc.webUrl)return M.fromExtendedType(13240321);if(P.misc.barcode)return M.fromExtendedType(13305857);if(P.misc.sparkline)return M.fromSparklineType(P.misc.sparkline)}if(P.formatting){if(P.formatting.color)return M.fromExtendedType(19664897);if(P.formatting.formatString)return M.fromExtendedType(19730433);if(P.formatting.alignment)return M.fromExtendedType(20058113);if(P.formatting.labelDisplayUnits)return M.fromExtendedType(20123649);if(P.formatting.displayUnitsWithoutAuto)return M.fromExtendedType(20516865);if(P.formatting.fontFamily)return M.fromExtendedType(20385793);if(P.formatting.fontSize)return M.fromExtendedType(20189443);if(P.formatting.altText)return M.fromExtendedType(20451329);if(P.formatting.stylePreset)return M.fromExtendedType(20582401)}if(P.text)return M.fromExtendedType(1);if(P.integer)return M.fromExtendedType(260);if(P.numeric)return M.fromExtendedType(259);if(P.bool)return M.fromExtendedType(5);if(P.dateTime)return M.fromExtendedType(519);if(P.duration)return M.fromExtendedType(10);if(P.binary)return M.fromExtendedType(11);if(P.json)return M.fromExtendedType(14);if(P.none)return M.fromExtendedType(12);if(P.extendedType)return M.fromExtendedType(P.extendedType);if(P.operations&&P.operations.searchEnabled)return M.fromExtendedType(65541);if(P.reference){if(P.reference.bookmark)return M.fromExtendedType(39337985);if(P.reference.bookmarkGroup)return M.fromExtendedType(39534593);if(P.reference.section)return M.fromExtendedType(39403521);if(P.reference.perspective)return M.fromExtendedType(39469057);if(P.reference.rowRefText)return M.fromExtendedType(39600129)}if(P.variant){var T=_.map(P.variant,function(x){return M.fromDescriptor(x)});return M.fromVariant(T)}return M.fromExtendedType(0)},M.fromExtendedType=function(P){var T=S(P=P||0),x=function(M){if(function(M){return(65535&M)===M}(M))return null;var P=i[M];if(!P)return null;var T=P.lastIndexOf("_");if(T>0){var x=P.slice(0,T);x in m&&(e.fF.assert(function(){return(M&d)==(M&d)},"Unexpected value for ExtendedType base member of "+M),P=x)}return P}(P);return e.fF.assert(function(){return 0!==T||0===P},"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),M.fromPrimitiveTypeAndCategory(T,x)},M.fromPrimitiveTypeAndCategory=function(P,T){T=T||null;var x=(P=P||0).toString();return T&&(x+="|"+T),M.typeCache[x]||(M.typeCache[x]=new M(function(M,P){var T=a[M],x=m[T];if(null==x&&(e.fF.assertFail("Unexpected primitiveType "+M),x=0),M&&P){var R=m[P];if(R){var D=S(R);0===D?i[R|=x]&&(e.fF.assert(function(){return i[R]===P+"_"+T},"Unexpected name for ExtendedType member "+R),x=R):D===M&&(x=R)}}return x}(P,T),T))},M.fromEnum=function(P){return e.fF.assertValue(P,"enumType"),new M(26214401,null,P)},M.fromFlagsEnum=function(P){return e.fF.assertValue(P,"enumType"),new M(26280196,null,null,P)},M.fromVariant=function(P){return e.fF.assertValue(P,"variantTypes"),new M(13,null,null,null,P)},M.fromSparklineType=function(P){return new M(13371406,"Sparkline",null,null,null,P)},M.isCompatibleFromAny=function(P,T,x){e.fF.assertValue(P,"type"),e.fF.assertValue(T,"otherType");var R=M.fromDescriptor(P);return!!M.isCompatibleTo(R,[T],x)||R&&R.isCompatibleFrom(M.fromDescriptor(T),x)},M.isCompatibleTo=function(P,T,x){e.fF.assertValue(P,"type"),e.fF.assertValue(T,"otherTypes");for(var R=M.fromDescriptor(P),D=0,L=T;D<L.length;D++)if(M.fromDescriptor(L[D]).isCompatibleFrom(R,x))return!0;return!1},M.prototype.isCompatibleFrom=function(P,T){if(e.fF.assertValue(P,"other"),this===P)return!0;if(P.variant)for(var x=0,R=P.variant;x<R.length;x++)if(!this.isCompatibleFrom(R[x],T))return!1;if(this.variant)for(var L=0,F=this.variant;L<F.length;L++)if(F[L].isCompatibleFrom(P,T))return!0;var O=P.primitiveType;return this.primitiveType===O||0===O||this.numeric&&P.numeric&&(!T||!this.integer||P.integer)},M.prototype.equals=function(P){return _.isEqual(this,P)},Object.defineProperty(M.prototype,"primitiveType",{get:function(){return S(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"numeric",{get:function(){return(0,s.yE)(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),M.typeCache={},M}();(0,c.y)(b.prototype);var h=function(){function M(P){e.fF.assert(function(){return!!P&&(0,s.yE)(P,8192)},"type"),this.underlyingType=P}return Object.defineProperty(M.prototype,"source",{get:function(){return E(this.underlyingType,32776193)},enumerable:!1,configurable:!0}),M}(),p=function(){function M(P){e.fF.assert(function(){return!!P&&(0,s.yE)(P,512)},"type"),this.underlyingType=P}return Object.defineProperty(M.prototype,"year",{get:function(){return E(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"quarter",{get:function(){return E(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"month",{get:function(){return E(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"day",{get:function(){return E(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"paddedDateTableDate",{get:function(){return E(this.underlyingType,197127)},enumerable:!1,configurable:!0}),M}(),n=function(){function M(P){e.fF.assert(function(){return!!P&&(0,s.yE)(P,1024)},"type"),this.underlyingType=P}return Object.defineProperty(M.prototype,"address",{get:function(){return E(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"city",{get:function(){return E(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"continent",{get:function(){return E(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"country",{get:function(){return E(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"county",{get:function(){return E(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"region",{get:function(){return E(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"postalCode",{get:function(){return E(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"stateOrProvince",{get:function(){return E(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"place",{get:function(){return E(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"latitude",{get:function(){return E(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"longitude",{get:function(){return E(this.underlyingType,7209984)},enumerable:!1,configurable:!0}),M}(),l=function(){function M(P,T){e.fF.assert(function(){return!!P&&(0,s.yE)(P,2048)},"type"),this.underlyingType=P,this.sparklineType=T}return Object.defineProperty(M.prototype,"image",{get:function(){return E(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"imageUrl",{get:function(){return E(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"webUrl",{get:function(){return E(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"barcode",{get:function(){return E(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"sparkline",{get:function(){if(E(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0}),M}();Object.getOwnPropertyNames(l.prototype).forEach(function(M){"constructor"!==M&&Object.defineProperty(l.prototype,M,{enumerable:!0})});var r=function(){function M(P){e.fF.assert(function(){return!!P&&(0,s.yE)(P,16384)},"type"),this.underlyingType=P}return Object.defineProperty(M.prototype,"bookmark",{get:function(){return E(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bookmarkGroup",{get:function(){return E(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"section",{get:function(){return E(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"perspective",{get:function(){return E(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"rowRefText",{get:function(){return E(this.underlyingType,39600129)},enumerable:!1,configurable:!0}),M}(),o=function(){function M(P){e.fF.assert(function(){return!!P&&(0,s.yE)(P,4096)},"type"),this.underlyingType=P}return Object.defineProperty(M.prototype,"color",{get:function(){return E(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"formatString",{get:function(){return E(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"alignment",{get:function(){return E(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"labelDisplayUnits",{get:function(){return E(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"displayUnitsWithoutAuto",{get:function(){return E(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fontFamily",{get:function(){return E(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fontSize",{get:function(){return E(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"altText",{get:function(){return E(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"stylePreset",{get:function(){return E(this.underlyingType,20582401)},enumerable:!1,configurable:!0}),M}();Object.getOwnPropertyNames(o.prototype).forEach(function(M){"constructor"!==M&&Object.defineProperty(o.prototype,M,{enumerable:!0})});var a=((f={})[0]="Null",f[1]="Text",f[2]="Decimal",f[3]="Double",f[4]="Integer",f[5]="Boolean",f[6]="Date",f[7]="DateTime",f[8]="DateTimeZone",f[9]="Time",f[10]="Duration",f[11]="Binary",f[12]="None",f[13]="Variant",f[14]="Json",f),i=((v={})[256]="Numeric",v[512]="Temporal",v[1024]="Geography",v[2048]="Miscellaneous",v[4096]="Formatting",v[8192]="Scripting",v[0]="Null",v[1]="Text",v[258]="Decimal",v[259]="Double",v[260]="Integer",v[5]="Boolean",v[518]="Date",v[519]="DateTime",v[520]="DateTimeZone",v[521]="Time",v[10]="Duration",v[11]="Binary",v[12]="None",v[13]="Variant",v[66048]="Years",v[66049]="Years_Text",v[66308]="Years_Integer",v[66054]="Years_Date",v[66055]="Years_DateTime",v[131584]="Months",v[131585]="Months_Text",v[131844]="Months_Integer",v[131590]="Months_Date",v[131591]="Months_DateTime",v[197127]="PaddedDateTableDates",v[262656]="Quarters",v[262657]="Quarters_Text",v[262916]="Quarters_Integer",v[262662]="Quarters_Date",v[262663]="Quarters_DateTime",v[328192]="DayOfMonth",v[328193]="DayOfMonth_Text",v[328452]="DayOfMonth_Integer",v[328198]="DayOfMonth_Date",v[328199]="DayOfMonth_DateTime",v[6554625]="Address",v[6620161]="City",v[6685697]="Continent",v[6751233]="Country",v[6816769]="County",v[6882305]="Region",v[6947840]="PostalCode",v[6947841]="PostalCode_Text",v[6948100]="PostalCode_Integer",v[7013377]="StateOrProvince",v[7078913]="Place",v[7144448]="Latitude",v[7144706]="Latitude_Decimal",v[7144707]="Latitude_Double",v[7209984]="Longitude",v[7210242]="Longitude_Decimal",v[7210243]="Longitude_Double",v[13109259]="Image",v[13174785]="ImageUrl",v[13240321]="WebUrl",v[13305856]="Barcode",v[13305857]="Barcode_Text",v[13306116]="Barcode_Integer",v[19664897]="Color",v[19730433]="FormatString",v[20058113]="Alignment",v[20123649]="LabelDisplayUnits",v[20516865]="DisplayUnitsWithoutAuto",v[20385793]="FontFamily",v[20451329]="AltText",v[20189443]="FontSize",v[26214401]="Enumeration",v[26280196]="FlagsEnumeration",v[32776193]="ScriptSource",v[65541]="SearchEnabled",v[39337985]="BookmarkRef",v[39534593]="BookmarkGroupRef",v[39403521]="SectionRef",v[20582401]="StylePreset",v[39469057]="PerspectiveRef",v[16384]="Reference",v[14]="Json",v[13371406]="Sparkline",v[39600129]="RowRefText",v),m={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},d=4294901760;function S(M){return 255&M}function E(M,P){return(M&d)==(P&d)}},847444:function(Je,H,t){t.d(H,{Mb:function(){return s},dt:function(){return c},r5:function(){return f}});var c=1e3;function s(v,b){return b||!v?0:v.getDuration()}var f=function(){function v(b){b&&b.duration&&(this.animationDuration=b.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}return v.prototype.getDuration=function(){return this.animationDuration},v.prototype.animate=function(b){return null},v.prototype.getEasing=function(){return d3.easeCubicInOut},v}()},914285:function(Je,H,t){t.d(H,{B9:function(){return S},EK:function(){return r},aH:function(){return o},k6:function(){return l},kx:function(){return a},mx:function(){return n}});var h,p,e=t(226514),c=t(734287),s=t(436582),f=t(403451),v=t(495944),b=t(680187);function n(g){return g&&g.buttonTileFormatting?u:d}var l={fill:b.OV.fill,outline:b.OV.outline,text:v.nm.text,icon:v.nm.icon,shape:b.OV.shape,shadow:b.OV.shadow,glow:b.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},r={fill:b.eM.fill,outline:b.eM.outline,text:v.Vz.text,icon:v.Vz.icon,shape:b.eM.shape,shadow:b.eM.shadow,glow:b.eM.glow,rotation:"rotation"},o=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},b.Mn),v.WI),{rotation:"angle"}),a={default:"default",hover:"hover",selected:"selected",disabled:"disabled"},i=((h={})[o.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},h[o.shapeRotation]={displayName:(0,c.V)("Visual_ShapeRotation"),type:{integer:!0}},h[o.textRotation]={displayName:(0,c.V)("Visual_TextRotation"),type:{integer:!0}},h),u={objects:((p={})[r.fill]=b.zC.fill,p[r.outline]=b.zC.outline,p[r.text]=v.p.text,p[r.icon]=v.p.icon,p[r.shape]=b.zC.shape,p[r.shadow]=b.zC.shadow,p[r.glow]=b.zC.glow,p[r.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:i},p),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},d={objects:{text:{displayName:(0,c.V)("ActionButton_Text"),properties:{show:f.iD.show,text:{displayName:(0,c.V)("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:f.iD.fontColor,padding:{displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:f.iD.horizontalAlignment,fontSize:f.iD.fontSize,fontFamily:f.iD.fontFamily,italic:f.iD.italic,bold:f.iD.bold,underline:f.iD.underline}},icon:{displayName:(0,c.V)("Icon"),properties:{show:f.iD.show,shapeType:{displayName:(0,c.V)("BasicShape_ToolTip"),type:{enumeration:s.dt}},padding:{displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:f.iD.horizontalAlignment,lineColor:{displayName:(0,c.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:(0,c.V)("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:f.iD.lineTransparency}},outline:{displayName:(0,c.V)("Visual_Outline"),properties:{show:f.iD.show,lineColor:f.iD.outlineColor,transparency:f.iD.lineTransparency,weight:f.iD.outlineWeight,roundEdge:{displayName:(0,c.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,c.V)("Visual_Fill"),properties:{show:f.iD.show,fillColor:{displayName:(0,c.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:f.iD.transparency,image:f.iD.image}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},S={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}},632799:function(Je,H,t){t.d(H,{B0:function(){return m},R9:function(){return u},d1:function(){return P},u9:function(){return C},yD:function(){return E}});var n,l,r,o,a,i,T,x,e=t(145315),c=t(734287),s=t(653460),f=t(210770),v=t(403451),b=t(684282),h=t(680187),p=t(674810),m={Tooltips:"Tooltips"},u={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:h.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:h.eM.outline,shapeCustomRectangle:h.eM.shapeCustomRectangle,layout:"layout",shadowCustom:h.eM.shadowCustom,glowCustom:h.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent"},V={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}}},d=((n={})[u.angle]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},n[u.shapeRotation]={displayName:(0,c.V)("Visual_ShapeRotation"),type:{integer:!0}},n[u.textRotation]={displayName:(0,c.V)("Visual_TextRotation"),type:{integer:!0}},n),S=((l={show:v.iD.show})[u.iconType]={displayName:(0,c.V)("Button_Icon_Type"),type:{enumeration:s.dt}},l[u.icon]=v.iD.image,l[u.iconUrl]={displayName:(0,c.V)("Image_Url"),type:{text:!0}},l[u.transparency]=v.iD.transparency,l[u.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:f.u0}},l[u.padding]={displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},l[u.size]={displayName:(0,c.V)("Visual_BubbleSize"),type:{integer:!0}},l[u.altText]={displayName:(0,c.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},l),g=((r={show:v.iD.show})[u.color]=v.iD.fill,r[u.transparency]=v.iD.transparency,r[u.wrapContent]={displayName:(0,c.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}},r),y=((o={})[u.image]={displayName:(0,c.V)("Field"),type:{variant:[{text:!0}]}},o[u.imageFit]={displayName:(0,c.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:p.Zt}},o[u.transparency]=v.iD.transparency,o[u.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:f.u0}},o[u.saturation]={displayName:(0,c.V)("Visual_Saturation"),type:{integer:!0}},o[u.blur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{integer:!0}},o[u.ignorePadding]={displayName:(0,c.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},o[u.setAsBackGround]={displayName:(0,c.V)("Visual_SetAsBackGround"),type:{bool:!0}},o[u.padding]={displayName:(0,c.V)("Visual_Space_Between_Image"),type:{integer:!0}},o[u.imageAreaSize]={displayName:(0,c.V)("Visual_Image_Area_Size"),type:{integer:!0}},o),C={dataRoles:[{name:b.CT.value,kind:e.DW.Grouping,displayName:(0,c.V)("Field"),description:(0,c.V)("Role_DisplayName_FieldDescription")},{name:m.Tooltips,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description")}],objects:(a={general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:v.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}}},a[u.fill]=h.zC.fillCustom,a[u.outline]=h.zC.outline,a[h.eM.value]=h.zC.value,a[h.eM.label]=(T=h.zC.label,x=_.cloneDeep(T),delete x.properties[h.Mn.text],x.properties[u.field]={displayName:(0,c.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},x),a[u.shapeCustomRectangle]=h.zC.shapeCustomRectangle,a[u.layout]=h.zC.layout,a[h.eM.overFlow]=h.zC.overFlow,a[u.shadowCustom]=h.zC.shadowCustom,a[u.glowCustom]=h.zC.glowCustom,a[u.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:d},a[u.spacing]=h.zC.spacing,a[u.padding]=h.zC.padding,a[u.accentBar]=h.zC.accentBar,a[u.icon]={displayName:(0,c.V)("Icon"),properties:S},a[u.image]={displayName:(0,c.V)("Image"),properties:y},a[u.background]={displayName:(0,c.V)("Visual_Background"),properties:g},a.selection={displayName:(0,c.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,c.V)("Visual_SelectAll"),description:(0,c.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,c.V)("Visual_ForceSelection"),description:(0,c.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,c.V)("Visual_StrictSingleSelect"),description:(0,c.V)("Visual_StrictSingleSelect"),type:{bool:!0}}}},a.data={suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},a),dataViewMappings:[{conditions:[(i={},i[b.CT.value]={max:1,min:1},i)],matrix:{rows:{select:[{for:{in:b.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:m.Tooltips}}]},includeEmptyGroups:!0}}],tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[m.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0},E={general:{formatString:v.e0.formatString},fillCustom:h.OV.fillCustom,outline:h.OV.outline,value:h.OV.value,label:h.OV.label,shapeCustomRectangle:h.OV.shapeCustomRectangle,layout:h.OV.layout,shadowCustom:h.OV.shadowCustom,glowCustom:h.OV.glowCustom,spacing:h.OV.spacing,padding:h.OV.padding,accentBar:h.OV.accentBar,icon:V.icon,image:V.image,overFlow:h.OV.overFlow,background:V.background},P={default:"default",hover:"hover",press:"press",selected:"selected"}},223834:function(Je,H,t){t.d(H,{Tf:function(){return f},w$:function(){return b}});var e=t(106266),c=t(734287),s=t(403451);function f(){return v}var v={objects:{userPrompt:{properties:{text:{displayName:(0,c.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,c.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:s.iD.fontColor,fontSize:s.iD.fontSize,fontFamily:s.iD.fontFamily,textAlignment:s.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},b=(0,e.wZ)(v.objects)},663406:function(Je,H,t){t.d(H,{$E:function(){return S},DQ:function(){return d},Do:function(){return V},MC:function(){return E},Wx:function(){return p},a:function(){return n}});var e=t(145315),c=t(734287),s=t(149362),f=t(636490),v=t(51033),b=t(771803),h=t(403451),p={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},n={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},l=(0,s.i)([{value:n.road,displayName:(0,c.V)("Visual_MapThemeRoad")},{value:n.satellite,displayName:(0,c.V)("Visual_AzureMapsSatelliteStyle")},{value:n.satelliteRoadLabels,displayName:(0,c.V)("ContentList_Datasets_Hybrid")},{value:n.grayscaleDark,displayName:(0,c.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:n.night,displayName:(0,c.V)("Visual_AzureMapsNightStyle")},{value:n.grayscaleLight,displayName:(0,c.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:n.roadShadedRelief,displayName:(0,c.V)("Visual_AzureMapsTerraStyle")},{value:n.blank,displayName:(0,c.V)("ReportAppBar_Blank")},{value:n.blankAccessible,displayName:(0,c.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:n.highContrastDark,displayName:(0,c.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:n.highContrastLight,displayName:(0,c.V)("Visual_AzureMapsHighContrastLightStyle")}]),r=(0,s.i)([{value:0,displayName:(0,c.V)("Visual_AzureMapsBoxShape")},{value:1,displayName:(0,c.V)("Visual_AzureMapsCylinderShape")}]),o=(0,s.i)([{value:0,displayName:(0,c.V)("Visual_Axis_Linear")},{value:1,displayName:(0,c.V)("Visual_Axis_Log")},{value:2,displayName:(0,c.V)("Visual_AzureMapsCubicBezier")}]),a=(0,s.i)([{value:"map",displayName:(0,c.V)("Visual_ShapeMap_Map")},{value:"viewport",displayName:(0,c.V)("Visual_AzureMapsViewport")}]),i=(0,s.i)([{value:"",displayName:(0,c.V)("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:(0,c.V)("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:(0,c.V)("Visual_AzureMapsLayerBelowRoads")}]),m=(0,s.i)([{value:"pixels",displayName:function(P){return P.get("Generic_Pixels")}},{value:"meters",displayName:function(P){return P.get("Visual_MapUnitMeters")}}]),u=(0,s.i)([{value:"url",displayName:(0,c.V)("Url")},{value:"file_upload",displayName:(0,c.V)("Visual_AzureMapsFileUpload")}]),V={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap"},d={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl"};function S(M){return{dataRoles:g(M),objects:y(M),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{min:1,max:1,kind:e.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:p.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:p.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:p.y}},{bind:{to:p.x}},{bind:{to:p.size}},{for:{in:p.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{for:{in:p.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{bind:{to:p.x}},{bind:{to:p.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:p.size}},{bind:{to:p.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:p.size,direction:2}]}},drilldown:{roles:[p.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[p.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function g(M){var P=[{name:p.y,kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:p.x,kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:p.series,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:p.size,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Size"),description:(0,c.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:p.tooltips,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}];return null!=M&&M.azureMapsGeocoding&&P.unshift({name:p.category,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),P}function y(M){var P,T,x,R,D,L,F,A,O,N,w=((P={general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:h.iD.formatString}},legend:h.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:h.iD.show,color:h.iD.dataColor,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision}}})[V.mapControls]={displayName:(0,c.V)("Visual_AzureMapsMapSettings"),description:(0,c.V)("Visual_MapControlsDescription"),properties:(T={},T[d.defaultStyle]={displayName:(0,c.V)("Visual_AzureMapsDefaultStyle"),description:(0,c.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:l}},T[d.showStylePicker]={displayName:(0,c.V)("Visual_AzureMapsStylePicker"),description:(0,c.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},T[d.showLabels]={displayName:(0,c.V)("Visual_MapShowLabels"),description:(0,c.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},T[d.showNavigationControls]={displayName:(0,c.V)("Visual_AzureMapsNavigationControls"),description:(0,c.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},T[d.zoom]={displayName:(0,c.V)("Visual_ShapeMap_Zoom"),description:(0,c.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},T[d.centerLatitude]={displayName:(0,c.V)("Visual_AzureMapsCenterLatitude"),description:(0,c.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},T[d.centerLongitude]={displayName:(0,c.V)("Visual_AzureMapsCenterLongitude"),description:(0,c.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},T[d.heading]={displayName:(0,c.V)("Visual_AzureMapsHeading"),description:(0,c.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},T[d.pitch]={displayName:(0,c.V)("Visual_AzureMapsPitch"),description:(0,c.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},T[d.autoZoom]={displayName:(0,c.V)("Visual_AutoZoom"),description:(0,c.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},T[d.worldWrap]={displayName:(0,c.V)("Visual_AzureMapsWorldWrap"),description:(0,c.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},T[d.showSelectionControl]={displayName:(0,c.V)("Visual_AzureMapsSelectionControl"),description:(0,c.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},T)},P[V.filledMap]={displayName:(0,c.V)("FilledMap_ToolTip"),description:(0,c.V)("Visual_AzureMapsFilledMapDescription"),properties:(x={show:h.iD.show},x[d.defaultColor]={displayName:(0,c.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},x[d.mapTransparency]={displayName:(0,c.V)("Visual_Fill_Transparency"),type:{numeric:!0}},x[d.strokeColor]={displayName:(0,c.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},x[d.strokeTransparency]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},x[d.strokeWidth]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},x[d.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},x[d.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},x[d.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:i}},x)},P[V.bubbleLayer]={displayName:(0,c.V)("Visual_Bubbles"),description:(0,c.V)("Visual_BubblesDescription"),properties:(R={show:h.iD.show},R[d.mapTransparency]={displayName:(0,c.V)("Visual_Fill_Transparency"),description:(0,c.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},R[d.bubbleRadius]={displayName:(0,c.V)("Visual_BubbleSize"),description:(0,c.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},R[d.minBubbleRadius]={displayName:(0,c.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,c.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},R[d.markerRangeType]={displayName:(0,c.V)("Visual_MarkerRangeType"),description:(0,c.V)("Visual_MarkerRangeType"),type:{enumeration:v.zo}},R[d.radiusScalingMethod]={displayName:(0,c.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,c.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:o}},R[d.maxRadius]={displayName:(0,c.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,c.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},R[d.logScale]={displayName:(0,c.V)("Visual_AzureMapsLogScale"),description:(0,c.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},R[d.x1]={displayName:(0,c.V)("Visual_AzureMapsX1"),description:(0,c.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},R[d.x2]={displayName:(0,c.V)("Visual_AzureMapsX2"),description:(0,c.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},R[d.y1]={displayName:(0,c.V)("Visual_AzureMapsY1"),description:(0,c.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},R[d.y2]={displayName:(0,c.V)("Visual_AzureMapsY2"),description:(0,c.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},R[d.strokeColor]={displayName:(0,c.V)("Visual_OutlineColor"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},R[d.autoStrokeColor]={displayName:(0,c.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,c.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},R[d.strokeTransparency]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},R[d.bubbleStrokeWidth]={displayName:(0,c.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,c.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},R[d.blur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),description:(0,c.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},R[d.pitchAlignment]={displayName:(0,c.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,c.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:a}},R[d.zoomScaleFactor]={displayName:(0,c.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,c.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},R[d.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},R[d.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},R[d.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:i}},R)},P[V.categoryLabels]={displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},P[V.heatMapLayer]={displayName:(0,c.V)("Visual_HeatMap"),description:(0,c.V)("Visual_HeatMapDescription"),properties:(D={show:h.iD.show},D[d.heatMapRadius]={displayName:(0,c.V)("Visual_Radius"),description:(0,c.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},D[d.heatMapRadiusUnit]={displayName:(0,c.V)("Visual_Forecast_Parameter_Units"),description:(0,c.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:m}},D[d.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},D[d.heatMapIntensity]={displayName:(0,c.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,c.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},D[d.heatMapColorLow]={displayName:(0,c.V)("Visual_Color0"),description:(0,c.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},D[d.heatMapColorCenter]={displayName:(0,c.V)("Visual_Color50"),description:(0,c.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},D[d.heatMapColorHigh]={displayName:(0,c.V)("Visual_Color100"),description:(0,c.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},D[d.heatMapUseSize]={displayName:(0,c.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,c.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},D[d.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},D[d.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},D[d.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:i}},D)},P[V.barChart]={displayName:(0,c.V)("Visual_AzureMapsBarChart"),description:(0,c.V)("Visual_AzureMapsBarChartDescription"),properties:(L={show:h.iD.show},L[d.barShape]={displayName:(0,c.V)("Visual_AzureMapsBarShape"),description:(0,c.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:r}},L[d.height]={displayName:(0,c.V)("Visual_General_Properties_Height"),description:(0,c.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},L[d.scaleHeightOnZoom]={displayName:(0,c.V)("Visual_AzureMapsScaleBarHeight"),description:(0,c.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},L[d.thickness]={displayName:(0,c.V)("Visual_General_Properties_Width"),description:(0,c.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},L[d.scaleThicknessOnZoom]={displayName:(0,c.V)("Visual_AzureMapsScaleBarThickness"),description:(0,c.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},L[d.defaultColor]={displayName:(0,c.V)("Visual_FillColor"),description:(0,c.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},L[d.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},L[d.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},L[d.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},L[d.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:i}},L)},P[V.commonDataOptions]={displayName:(0,c.V)("Visual_AzureMapsCommonDataLayer"),description:(0,c.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:(F={},F[d.unselectedTransparency]={displayName:(0,c.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,c.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},F[d.showZeros]={displayName:(0,c.V)("Visual_AzureMapsShowZeros"),description:(0,c.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},F[d.showNegatives]={displayName:(0,c.V)("Visual_AzureMapsShowNegatives"),description:(0,c.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},F[d.minDataValue]={displayName:(0,c.V)("Visual_AzureMapsMinDataValue"),description:(0,c.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},F[d.maxDataValue]={displayName:(0,c.V)("Visual_AzureMapsMaxDataValue"),description:(0,c.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},F)},P[V.referenceLayer]={displayName:(0,c.V)("Visual_AzureMapsReferenceLayer"),description:(0,c.V)(null!=M&&M.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:(A={},A[d.additionalDatasource]={displayName:null!=M&&M.azureMapsMultiDataFormats?"":(0,c.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:f.Ms}}},A)},P[V.traffic]={displayName:(0,c.V)("Visual_AzureMapsTrafficLayer"),description:(0,c.V)("Visual_AzureMapsTrafficLayerDescription"),properties:(O={show:h.iD.show},O[d.showIncidents]={displayName:(0,c.V)("Visual_AzureMapsShowIncidents"),description:(0,c.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},O[d.showTrafficControl]={displayName:(0,c.V)("Visual_AzureMapsShowTrafficControl"),description:(0,c.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},O)},P[V.tileLayer]={displayName:(0,c.V)("Visual_AzureMapsTileLayer"),description:(0,c.V)("Visual_AzureMapsTileLayerDescription"),properties:(N={},N[d.tileLayerUrl]={displayName:(0,c.V)("Url"),description:(0,c.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},N[d.tileSize]={displayName:(0,c.V)("Visual_AzureMapsTileSize"),description:(0,c.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},N[d.northBounds]={displayName:(0,c.V)("Visual_AzureMapsTileNorthBounds"),description:(0,c.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},N[d.southBounds]={displayName:(0,c.V)("Visual_AzureMapsTileSouthBounds"),description:(0,c.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},N[d.eastBounds]={displayName:(0,c.V)("Visual_AzureMapsTileEastBounds"),description:(0,c.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},N[d.westBounds]={displayName:(0,c.V)("Visual_AzureMapsTileWestBounds"),description:(0,c.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},N[d.mapTransparency]={displayName:(0,c.V)("Transparency"),description:(0,c.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},N[d.isTMS]={displayName:(0,c.V)("Visual_AzureMapsTileIsTMS"),description:(0,c.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},N[d.minZoom]={displayName:(0,c.V)("Visual_AzureMapsMinZoom"),description:(0,c.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},N[d.maxZoom]={displayName:(0,c.V)("Visual_AzureMapsMaxZoom"),description:(0,c.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},N[d.layerPosition]={displayName:(0,c.V)("Visual_AzureMapsLayerPosition"),description:(0,c.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:i}},N)},P);return null!=M&&M.azureMapsMultiDataFormats&&(w[V.referenceLayer].properties[d.datasourceType]={displayName:(0,c.V)("Type"),description:(0,c.V)("Visual_AzureMapsTypeDescription"),type:{enumeration:u}},w[V.referenceLayer].properties[d.referenceLayerUrl]={displayName:(0,c.V)("Visual_AzureMapsEnterAUrl"),description:(0,c.V)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),null!=M&&M.azureMapsGeocoding&&(w[V.mapControls].properties[d.geocodingCulture]={displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:b.dt}}),null!=M&&M.azureMapsBubbleCluster&&(w[V.bubbleLayer].properties[d.clusteringEnabled]={displayName:(0,c.V)("Visual_AzureMapsClusterBubbles"),description:(0,c.V)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},w[V.bubbleLayer].properties[d.clusteredBubbleRadius]={displayName:(0,c.V)("Visual_AzureMapsClusterSize"),type:{integer:!0}},w[V.bubbleLayer].properties[d.clusteredBubbleFillColor]={displayName:(0,c.V)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},w[V.bubbleLayer].properties[d.clusteredBubbleFontSize]=h.iD.fontSize,w[V.bubbleLayer].properties[d.clusteredBubbleFontColor]={displayName:(0,c.V)("Text_Color"),type:{fill:{solid:{color:!0}}}},w[V.bubbleLayer].properties[d.clusteredBubbleStrokeColor]=h.iD.borderColor,w[V.bubbleLayer].properties[d.clusteredBubbleStrokeWidth]={displayName:(0,c.V)("Visual_DonutBorderWidth"),type:{integer:!0}}),w}var E={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"}}}},875194:function(Je,H,t){t.d(H,{O:function(){return f},T:function(){return s}});var e=t(734287),c=t(403451),s={objects:{line:{displayName:(0,e.V)("Visual_BasicShape_Line"),properties:{lineColor:{displayName:(0,e.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:c.iD.transparency,weight:{displayName:(0,e.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,e.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,e.V)("Visual_Fill"),properties:{show:c.iD.show,fillColor:{displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:c.iD.transparency}},rotation:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),properties:{angle:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},f={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},259291:function(Je,H,t){t.d(H,{C:function(){return f},d:function(){return v}});var e=t(145315),c=t(734287),s=t(403451),f={dataRoles:[{name:"Values",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Fields"),description:(0,c.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString}},labels:{displayName:(0,c.V)("Visual_DataPointLabel"),properties:{color:s.iD.dataColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily,preserveWhitespace:{displayName:(0,c.V)("Visual_LabelPreserveWhitespace"),description:(0,c.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabel"),properties:{show:s.iD.show,color:s.iD.dataColor,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily,preserveWhitespace:{displayName:(0,c.V)("Visual_LabelPreserveWhitespace"),description:(0,c.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,c.V)("Visual_Word_Wrap"),properties:{show:s.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},v={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},465204:function(Je,H,t){t.d(H,{NX:function(){return L},LS:function(){return Q},pz:function(){return F},L$:function(){return O}});var y,C,E,M,P,T,x,R,D,e=t(226514),c=t(145315),s=t(734287),f=t(653460),v=t(210770),b=t(403451),h=t(680187),p=t(149362),r=(0,p.i)([{value:"below",displayName:function(ee){return ee.get("Visual_CallOutRelative_Below")}},{value:"right",displayName:function(ee){return ee.get("Visual_CallOutRelative_Right")}}]),o=t(274870),a=t(457158),u=(0,p.i)([{value:"rows",displayName:function(ee){return ee.get("Small_Multiples_Layout_Rows")}},{value:"columns",displayName:function(ee){return ee.get("Small_Multiples_Layout_Columns")}}]),S=(0,p.i)([{value:"sentence",displayName:function(ee){return ee.get("Visual_LabelLayout_Sentence")}},{value:"tabular",displayName:function(ee){return ee.get("Visual_LabelLayout_Tabular")}}]),g=t(808261),L={Data:"Data",Tooltips:"Tooltips"},F={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:h.eM.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:h.eM.glowCustom,image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:h.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",spacing:"spacing",size:"size",shapeCustomRectangle:h.eM.shapeCustomRectangle,shadowCustom:h.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},A={image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},O={general:{formatString:b.e0.formatString},fillCustom:h.OV.fillCustom,outline:h.OV.outline,value:h.OV.value,label:h.OV.label,referenceLabel:A.referenceLabel,shapeCustomRectangle:h.OV.shapeCustomRectangle,layout:h.OV.layout,overFlow:h.OV.overFlow,shadowCustom:h.OV.shadowCustom,glowCustom:h.OV.glowCustom,spacing:h.OV.spacing,padding:h.OV.padding,accentBar:h.OV.accentBar,image:A.image,referenceLabelTitle:A.referenceLabelTitle,referenceLabelValue:A.referenceLabelValue,referenceLabelDetail:A.referenceLabelDetail,referenceLabelLayout:A.referenceLabelLayout,divider:A.divider},N=((y={})[F.angle]={displayName:(0,s.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},y[F.shapeRotation]={displayName:(0,s.V)("Visual_ShapeRotation"),type:{integer:!0}},y[F.textRotation]={displayName:(0,s.V)("Visual_TextRotation"),type:{integer:!0}},y),w=((C={show:b.iD.show})[F.imageType]={displayName:(0,s.V)("Visual_ImageType"),type:{enumeration:f.dt}},C[F.image]=b.iD.image,C[F.imageUrl]={displayName:(0,s.V)("Image_Url"),type:{text:!0}},C[F.transparency]=b.iD.transparency,C[F.position]={displayName:(0,s.V)("Visual_Position"),type:{enumeration:v.zq}},C[F.padding]={displayName:(0,s.V)("Visual_Space_Between_Image"),type:{integer:!0}},C[F.size]={displayName:(0,s.V)("Visual_BubbleSize"),type:{integer:!0}},C[F.altText]={displayName:(0,s.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},C[F.fixedSize]={displayName:(0,s.V)("Visual_FixSize"),type:{bool:!0}},C[F.imageAreaSize]={displayName:(0,s.V)("Visual_Image_Area_Size"),type:{integer:!0}},C),I=((E={})[F.value]={displayName:(0,s.V)("Visual_Add_Label"),formatStringProperty:O.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},E.formatString=b.iD.formatString,E[F.backgroundColor]={displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},E[F.backgroundTransparency]=b.iD.transparency,E[F.backgroundShow]=b.iD.show,E),B=((M={show:b.iD.show})[F.titleText]={displayName:(0,s.V)("Text"),type:{text:!0}},M[F.titleFontColor]=b.iD.fontColor,M[F.titleFontSize]=b.iD.fontSize,M[F.titleFontFamily]=b.iD.fontFamily,M[F.titleUnderline]=b.iD.underline,M[F.titleItalic]=b.iD.italic,M[F.titleBold]=b.iD.bold,M[F.titleFontColor]={displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},M[F.titleTransparency]=b.iD.transparency,M[F.titleContentType]={displayName:(0,s.V)("Content"),type:{enumeration:o.FH}},M),j=((P={show:b.iD.show})[F.valueFontColor]=b.iD.fontColor,P[F.valueFontSize]=b.iD.fontSize,P[F.valueFontFamily]=b.iD.fontFamily,P[F.valueUnderline]=b.iD.underline,P[F.valueBold]=b.iD.bold,P[F.valueItalic]=b.iD.italic,P[F.valueTransparency]=b.iD.transparency,P[F.valuePrecision]=b.iD.labelPrecision,P[F.valueDisplayUnits]=(0,e.__assign)((0,e.__assign)({},b.iD.labelDisplayUnits),{type:{enumeration:a.d}}),P[F.showBlankAs]=b.iD.showBlankAs,P[F.customFormatString]={displayName:(0,s.V)("Visual_FormatCode"),description:(0,s.V)("Visual_FormatCode_Description"),type:{text:!0}},P),W=((T={show:b.iD.show})[F.detailFontColor]=b.iD.fontColor,T[F.detailFontSize]=b.iD.fontSize,T[F.detailFontFamily]=b.iD.fontFamily,T[F.detailUnderline]=b.iD.underline,T[F.detailBold]=b.iD.bold,T[F.detailItalic]=b.iD.italic,T[F.detailTransparency]=b.iD.transparency,T[F.detailPrecision]=b.iD.labelPrecision,T[F.detailDisplayUnits]=(0,e.__assign)((0,e.__assign)({},b.iD.labelDisplayUnits),{type:{enumeration:a.d}}),T[F.showBlankAs]=b.iD.showBlankAs,T[F.detailValue]=(0,e.__assign)((0,e.__assign)({},b.iD.dynamicLabelValue),{formatStringProperty:O.referenceLabelDetail.formatString}),T.formatString=b.iD.formatString,T[F.detailBackgroundColor]={displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:{nullable:!0}}}}},T[F.customFormatString]={displayName:(0,s.V)("Visual_FormatCode"),description:(0,s.V)("Visual_FormatCode_Description"),type:{text:!0}},T),U=((x={show:b.iD.show})[F.dividerColor]={displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},x[F.dividerLineStyle]={displayName:(0,s.V)("Style"),type:{enumeration:g.dt}},x[F.dividerWidth]={displayName:(0,s.V)("Visual_General_Properties_Width"),type:{numeric:!0}},x[F.dividerIgnorePadding]={displayName:(0,s.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},x[F.dividerTransparency]=b.iD.transparency,x),k={position:{displayName:(0,s.V)("Visual_Position"),type:{enumeration:r}},arrangement:{displayName:(0,s.V)("Visual_Arrangement"),type:{enumeration:u}},style:{displayName:(0,s.V)("Visual_Axis_Style"),type:{enumeration:S}},horizontalAlignment:b.iD.horizontalAlignment,verticalAlignment:{displayName:(0,s.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},valueArea:{displayName:(0,s.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:b.iD.textWrap,labelSpace:{displayName:(0,s.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,s.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,s.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,s.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,s.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}},Q={dataRoles:[{name:L.Data,kind:c.DW.Measure,displayName:(0,s.V)("Data")},{name:L.Tooltips,kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(R={general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:b.iD.formatString}}},R[F.fill]=h.zC.fillCustom,R[F.outline]=h.zC.outline,R[h.eM.value]=h.zC.value,R[h.eM.label]=h.zC.label,R[F.shapeCustomRectangle]=h.zC.shapeCustomRectangle,R[F.layout]=h.zC.layout,R[h.eM.overFlow]=h.zC.overFlow,R[F.shadowCustom]=h.zC.shadowCustom,R[F.glowCustom]=h.zC.glowCustom,R[F.rotation]={displayName:(0,s.V)("Visual_BasicShape_Rotate"),properties:N},R[F.spacing]=h.zC.spacing,R[F.padding]=h.zC.padding,R[F.accentBar]=h.zC.accentBar,R[F.image]={displayName:(0,s.V)("Images"),properties:w},R[F.referenceLabel]={displayName:(0,s.V)("Visual_Reference_Labels"),properties:I},R[F.referenceLabelTitle]={displayName:(0,s.V)("Title"),properties:B},R[F.referenceLabelValue]={displayName:(0,s.V)("Value"),properties:j},R[F.referenceLabelDetail]={displayName:(0,s.V)("Visual_Label_DetailLabelName"),properties:W},R[F.referenceLabelLayout]={displayName:(0,s.V)("Layout"),properties:k},R[F.divider]={displayName:(0,s.V)("Visual_Divider"),properties:U},R),dataViewMappings:[{conditions:[(D={},D[L.Data]={min:1},D)],matrix:{values:{select:[{for:{in:L.Data}},{for:{in:L.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}},664723:function(Je,H,t){t.d(H,{p:function(){return s},x:function(){return c}});var e=t(411916),c={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},s={scalarKey:{scalarKeyMin:e.it},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}},37584:function(Je,H,t){t.d(H,{Ns:function(){return i},au:function(){return o},gE:function(){return a},mi:function(){return u},nn:function(){return m}});var e=t(226514),c=t(106266),s=t(145315),f=t(564227),v=t(734287),b=t(633888),h=t(5635),p=t(201849),n=t(646875),l=t(664723),r=t(403451),o={category:"Category",series:"Series",rows:l.x.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},a=(0,c.wZ)(i(!1,!1,!1,!1,!0));function i(V,d,S,g,y,C){var E;void 0===V&&(V=!1),void 0===d&&(d=!1),void 0===S&&(S=!1),void 0===g&&(g=!1),void 0===y&&(y=!1),void 0===C&&(C=!1);var M=S||d&&!g;return(0,e.__assign)((0,e.__assign)((0,e.__assign)((0,e.__assign)((0,e.__assign)(((E={general:{displayName:(0,v.V)("Visual_General"),properties:{formatString:r.iD.formatString,responsive:r.iD.responsive,responsiveLegacy:r.iD.responsiveLegacy}},legend:{displayName:r.TQ.legend.displayName,description:r.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},r.TQ.legend.properties),{showGradientLegend:r.iD.showGradientLegend})},subheader:(0,e.__assign)({},r.TQ.subheader)})[b.Xi]=(0,e.__assign)({},r.TQ.smallMultiplesLayout),E.categoryAxis={displayName:(0,v.V)(V?"Visual_YAxis":"Visual_XAxis"),properties:(0,e.__assign)((0,e.__assign)({show:r.iD.show,start:r.iD.axisStart,end:r.iD.axisEnd,axisType:r.iD.axisType,showAxisTitle:V?r.iD.showAxisTitle_Y:r.iD.showAxisTitle_X,axisStyle:r.iD.axisStyle,labelColor:r.iD.labelColor,fontFamily:r.iD.fontFamily,fontSize:r.iD.fontSize,bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,invertAxis:r.iD.invertAxis,labelDisplayUnits:r.iD.labelDisplayUnits,labelPrecision:r.iD.labelPrecision,concatenateLabels:r.iD.concatenateLabels,preferredCategoryWidth:r.iD.preferredCategoryWidth,maxMarginFactor:r.iD.maxMarginFactor,titleColor:r.iD.titleColor,titleFontFamily:r.iD.fontFamily,titleFontSize:r.iD.titleFontSize,titleBold:r.iD.bold,titleItalic:r.iD.italic,titleUnderline:r.iD.underline,titleText:r.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},r.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:r.iD.lineColor,gridlineThickness:r.iD.strokeWidth,gridlineStyle:r.iD.lineStyle,innerPadding:r.iD.innerPadding},(d||y)&&{reverseStackOrder:r.iD.reverseStackOrder}),{logAxisScale:r.iD.logAxisScale,switchAxisPosition:r.iD.switchAxisPosition})},E.valueAxis={displayName:(0,v.V)(V?"Visual_XAxis":"Visual_YAxis"),properties:{show:r.iD.show,start:r.iD.axisStart,end:r.iD.axisEnd,invertAxis:r.iD.invertAxis,sharedAxis:r.iD.sharedAxis,scaleToFit:r.iD.scaleToFit,showAxisTitle:V?r.iD.showAxisTitle_X:r.iD.showAxisTitle_Y,axisStyle:r.iD.axisStyle,labelColor:r.iD.labelColor,fontFamily:r.iD.fontFamily,fontSize:r.iD.fontSize,bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,labelDisplayUnits:r.iD.labelDisplayUnits,labelPrecision:r.iD.labelPrecision,titleColor:r.iD.titleColor,titleFontFamily:r.iD.fontFamily,titleFontSize:r.iD.titleFontSize,titleBold:r.iD.bold,titleItalic:r.iD.italic,titleUnderline:r.iD.underline,titleText:r.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},r.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:r.iD.lineColor,gridlineThickness:r.iD.strokeWidth,gridlineStyle:r.iD.lineStyle,logAxisScale:r.iD.logAxisScale,switchAxisPosition:r.iD.switchAxisPosition}},E.zoom={displayName:r.TQ.zoom.displayName,properties:{show:r.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,v.V)(V?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:r.TQ.zoom.properties.categoryMin,categoryMax:r.TQ.zoom.properties.categoryMax,categorySize:r.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,v.V)(V?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:r.TQ.zoom.properties.valueMin,valueMax:r.TQ.zoom.properties.valueMax,valueSize:r.TQ.zoom.properties.valueSize,showLabels:r.TQ.zoom.properties.showLabels,showTooltip:r.TQ.zoom.properties.showTooltip}},E.dataPoint={displayName:(0,v.V)("Visual_DataPoint"),description:(0,v.V)("Visual_DataPointDescription"),properties:(0,e.__assign)((0,e.__assign)((0,e.__assign)({defaultColor:(0,e.__assign)((0,e.__assign)({},r.iD.defaultColor),g&&{displayName:(0,v.V)("Visual_DefaultColumnColor")}),fill:r.iD.fillColor,fillRule:{displayName:(0,v.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:o.gradient,output:{property:"fill",selector:[o.category]}}},fillTransparency:r.iD.fillTransparency},r.sz),(d||y)&&{borderOutlineOnly:r.iD.borderOutlineOnly}),{showAllDataPoints:r.iD.showAllDataPoints})},E.layout={displayName:(0,v.V)("Layout"),properties:(0,e.__assign)((0,e.__assign)((0,e.__assign)({seriesOrderReversed:r.iD.seriesOrderReversed,seriesOrderSorted:r.iD.seriesOrderSorted},(d||y)&&(0,e.__assign)({stackedGapSize:r.iD.stackedGapSize},(!g||y)&&{stackedGapExplodes:r.iD.stackedGapExplodes})),(!d||y)&&{clusteredGapSize:r.iD.clusteredGapSize,clusteredGapOverlaps:r.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:r.iD.clusteredGapOverlapReverse}),(M||y)&&{ribbonGapSize:r.iD.ribbonGapSize})},E.labels={displayName:(0,v.V)("Visual_DataPointsLabels"),description:(0,v.V)("Visual_DataPointsLabelsDescription"),properties:{show:r.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:r.iD.dataColor,labelDisplayUnits:C?r.iD.dataLabelDisplayUnitsWithCustom:r.iD.dataLabelDisplayUnits,valueCustomFormatString:r.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},r.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,v.V)("Visual_LabelOrientation"),type:{enumeration:h.d}},labelPosition:{displayName:(0,v.V)("Visual_Position"),type:{enumeration:p.dt}},enableBackground:r.iD.labelEnableBackground,backgroundColor:r.iD.labelBackgroundColor,backgroundTransparency:r.iD.labelBackgroundTransparency,labelOverflow:{displayName:(0,v.V)("Visual_LabelOverflow"),description:(0,v.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:r.iD.fontSize,bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,fontFamily:r.iD.fontFamily,labelDensity:{displayName:(0,v.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:r.iD.showDynamicLabels,dynamicLabelValue:r.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:r.iD.showBlankAs,transparency:r.iD.transparency,wordWrap:r.iD.wordWrap,titleBold:r.iD.bold,titleColor:r.iD.dataColor,titleContentType:{displayName:(0,v.V)("Content"),type:{enumeration:n.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:r.iD.fontFamily,titleFontSize:r.iD.fontSize,dynamicLabelTitle:r.iD.dynamicLabelValue,titleItalic:r.iD.italic,titleTransparency:r.iD.transparency,titleLabelDisplayUnits:r.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:r.iD.dataLabelCustomFormatString,titleLabelPrecision:r.iD.labelPrecision,titleUnderline:r.iD.underline,titleShowBlankAs:r.iD.showBlankAs,detailBold:r.iD.bold,detailColor:r.iD.dataColor,dynamicLabelDetail:r.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:r.iD.fontFamily,detailFontSize:r.iD.fontSize,detailItalic:r.iD.italic,detailTransparency:r.iD.transparency,detailUnderline:r.iD.underline,detailShowBlankAs:r.iD.showBlankAs,detailLabelDisplayUnits:r.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:r.iD.dataLabelCustomFormatString,detailLabelPrecision:r.iD.labelPrecision,detailContentType:{displayName:(0,v.V)("Content"),type:{enumeration:f.w}},labelContentLayout:r.iD.labelContentLayout,optimizeLabelDisplay:r.iD.optimizeLabelDisplay,labelContainerMaxWidth:r.iD.labelContainerMaxWidth,horizontalAlignment:r.iD.horizontalAlignment}},E),(d||y)&&{totals:r.TQ.totalsWithNet}),{plotArea:{displayName:(0,v.V)("Visual_Plot"),properties:{transparency:r.iD.transparency,image:r.iD.image}},y1AxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:r.iD.show,displayName:r.iD.referenceLineDisplayName,value:r.iD.referenceLineValue,lineColor:r.iD.referenceLineColor,transparency:r.iD.referenceLineTransparency,style:r.iD.lineStyle,position:r.iD.referenceLinePosition,dataLabelShow:r.iD.dataLabelShow,dataLabelText:r.iD.dataLabelText,dataLabelColor:r.iD.dataLabelColor,dataLabelDecimalPoints:r.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:r.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:r.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:r.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_X"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:r.iD.show,displayName:r.iD.referenceLineDisplayName,value:r.iD.referenceLineValueWithDateTime,lineColor:r.iD.lineColor,transparency:r.iD.referenceLineTransparency,style:r.iD.lineStyle,position:r.iD.referenceLinePosition,shadeRegion:r.iD.shadeRegion,shadeColor:r.iD.shadeColor,shadeTransparency:r.iD.shadeTransparency,dataLabelShow:r.iD.dataLabelShow,dataLabelColor:r.iD.dataLabelColor,dataLabelText:r.iD.dataLabelText,dataLabelDecimalPoints:r.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:r.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:r.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:r.iD.dataLabelDisplayUnits}},trend:{displayName:(0,v.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:r.iD.trendlineDisplayName,lineColor:r.iD.trendlineColor,transparency:r.iD.trendlineTransparency,style:r.iD.trendlineStyle,combineSeries:r.iD.trendlineCombineSeries,useHighlightValues:r.iD.trendlineUseHighlightValues}},error:{displayName:r.TQ.error.displayName,objectCategory:r.TQ.error.objectCategory,suppressFormatPainterCopy:r.TQ.error.suppressFormatPainterCopy,properties:{enabled:r.TQ.error.properties.enabled,errorRange:r.TQ.error.properties.errorRange,barShow:r.TQ.error.properties.barShow,barMatchSeriesColor:r.TQ.error.properties.barMatchSeriesColor,barColor:r.TQ.error.properties.barColor,barWidth:r.TQ.error.properties.barWidth,barBorderColor:r.TQ.error.properties.barBorderColor,barBorderSize:r.TQ.error.properties.barBorderSize,markerShape:r.TQ.error.properties.markerShape,markerSize:r.TQ.error.properties.markerSize,labelShow:r.TQ.error.properties.labelShow,labelFontFamily:r.TQ.error.properties.labelFontFamily,labelFontSize:r.TQ.error.properties.labelFontSize,labelBold:r.TQ.error.properties.labelBold,labelItalic:r.TQ.error.properties.labelItalic,labelUnderline:r.TQ.error.properties.labelUnderline,labelColor:r.TQ.error.properties.labelColor,labelMatchSeriesColor:r.TQ.error.properties.labelMatchSeriesColor,labelFormat:r.TQ.error.properties.labelFormat,labelBackground:r.TQ.error.properties.labelBackground,labelBackgroundColor:r.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:r.TQ.error.properties.labelBackgroundTransparency,tooltipShow:r.TQ.error.properties.tooltipShow,tooltipFormat:r.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}}),(!d||y)&&{referenceLine:{displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:r.iD.show,displayName:r.iD.referenceLineDisplayName,value:r.iD.referenceLineValue,lineColor:r.iD.referenceLineColor,transparency:r.iD.referenceLineTransparency,style:r.iD.lineStyle,position:r.iD.referenceLinePosition,dataLabelShow:r.iD.dataLabelShow,dataLabelText:r.iD.dataLabelText,dataLabelColor:r.iD.dataLabelColor,dataLabelDecimalPoints:r.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:r.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:r.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:r.iD.dataLabelDisplayUnits}}}),(S||y)&&{ribbonChart:{displayName:(0,v.V)("RibbonChart"),description:(0,v.V)("RibbonChart_Description"),properties:{colorBands:{displayName:(0,v.V)("RibbonChart_Color"),description:(0,v.V)("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:(0,v.V)("Visual_Border"),description:(0,v.V)("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:(0,v.V)("Visual_Spacing"),description:(0,v.V)("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}}}),(M||y)&&{ribbonBands:{displayName:(0,v.V)("RibbonChart"),description:(0,v.V)("RibbonChart_Description"),properties:(0,e.__assign)({show:r.iD.show,fillMatchColor:{displayName:(0,v.V)("RibbonChart_Color"),description:(0,v.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:r.iD.fillColor,fillTransparency:r.iD.fillTransparency},r.sz)}})}function m(V,d,S,g){var y,C,E,M;void 0===V&&(V=!1),void 0===d&&(d=!1),void 0===S&&(S=!1);var O,N,w,I,x=null==g?void 0:g.labelEnhancementsM0;return{dataRoles:(O=V,N=null==g?void 0:g.cartesianConditionalFormatting,w=null==g?void 0:g.useModernFormatPane,I=[{name:o.category,kind:s.DW.Grouping,displayName:(0,v.V)(w?O?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,v.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:o.series,kind:s.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Legend"),displayOrder:w?3:2,description:(0,v.V)("Role_DisplayName_LegendDescription")},{name:o.y,kind:s.DW.Measure,displayName:(0,v.V)(w?O?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:w?2:3,description:(0,v.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],N||I.push({name:o.gradient,kind:s.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,v.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),I.push({name:o.rows,kind:s.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,v.V)("Role_DisplayName_SmallMultiples_Description")}),I.push({name:o.tooltips,kind:s.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,v.V)("Role_Tooltips_Description"),joinPredicate:0}),I),objects:i(V,d,S,void 0,void 0,x),dataViewMappings:[function(){var O,N,w;return{conditions:[(O={},O[o.rows]={min:1},O[o.series]={max:0},O),(N={},N[o.rows]={min:1},N[o.series]={min:1,max:1},N[o.y]={max:1},N),(w={},w[o.rows]={min:1},w[o.series]={min:1,max:1},w[o.y]={max:0},w)],matrix:{rows:{select:[{composite:[{for:{in:o.rows}}],dataReductionAlgorithm:{window:{count:b.QS}}},{composite:[{for:{in:o.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:o.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:o.y}},{for:{in:o.tooltips}}]},dataVolume:6}}}(),function(){var O,N,w;return{conditions:[(O={},O[o.rows]={max:0},O[o.series]={max:0},O[o.gradient]={max:0},O),(N={},N[o.rows]={max:0},N[o.series]={min:1,max:1},N[o.y]={max:1},N[o.gradient]={max:0},N),(w={},w[o.rows]={max:0},w[o.series]={max:0},w[o.y]={min:0,max:1},w[o.gradient]={max:1},w)],categorical:{categories:{for:{in:o.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:o.series,select:[{for:{in:o.y}},{bind:{to:o.gradient}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}(),function(){var O,N,w;return{conditions:[(O={},O[l.x.rows]={max:0},O[o.series]={max:0},O[o.gradient]={max:0},O),(N={},N[l.x.rows]={max:0},N[o.series]={min:1,max:1},N[o.y]={max:1},N[o.gradient]={max:0},N),(w={},w[l.x.rows]={max:0},w[o.series]={max:0},w[o.y]={min:0,max:1},w[o.gradient]={max:1},w)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}()],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[o.category]},grouping:{groupingRules:[{condition:(y={},y[o.category]={min:1,max:1},y[o.y]={min:1,max:1},y[o.series]={max:0},y[o.gradient]={max:0},y),groupingTargetRole:o.series,kind:0},{condition:(C={},C[o.category]={min:1,max:1},C[o.y]={min:1},C[o.series]={max:0},C[o.gradient]={max:0},C),groupingTargetRole:o.category,kind:1},{condition:(E={},E[o.category]={min:1,max:1},E[o.y]={min:0,max:1},E[o.series]={max:0},E[o.gradient]={max:1},E),groupingTargetRole:o.category,kind:1},{condition:(M={},M[o.category]={max:0},M[o.y]={min:1,max:1},M[o.series]={max:1},M[o.gradient]={max:0},M),groupingTargetRole:o.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:V?[]:[o.category],supportsOnObjectFormatting:!0}}var u={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},108333:function(Je,H,t){t.d(H,{OA:function(){return i},p5:function(){return m},rJ:function(){return a}});var e=t(226514),c=t(106266),s=t(145315),f=t(734287),v=t(633888),b=t(5635),h=t(201849),p=t(344916),n=t(37584),l=t(403451),r=t(646875),o=t(564227),a={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},i=(0,c.wZ)(m(!0).objects);function m(V,d){var S,g,y,C,E,M,P,T,x,R=(0,n.Ns)(!1,V,!1,!0);return{dataRoles:[{name:a.category,kind:s.DW.Grouping,displayName:(0,f.V)(null!=d&&d.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,f.V)("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:a.series,kind:s.DW.Grouping,displayName:(0,f.V)(null!=d&&d.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:null!=d&&d.useModernFormatPane?4:2},{name:a.y,kind:s.DW.Measure,displayName:(0,f.V)(null!=d&&d.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:null!=d&&d.useModernFormatPane?2:3,description:(0,f.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.y2,kind:s.DW.Measure,displayName:(0,f.V)(null!=d&&d.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:null!=d&&d.useModernFormatPane?3:4,description:(0,f.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.rows,kind:s.DW.Grouping,displayName:(0,f.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,f.V)("Role_DisplayName_SmallMultiples_Description")},{name:a.tooltips,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,f.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(0,e.__assign)((0,e.__assign)((S={general:{displayName:(0,f.V)("Visual_General"),properties:{formatString:l.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:l.iD.responsive,responsiveLegacy:l.iD.responsiveLegacy}},legend:{displayName:l.TQ.legend.displayName,description:l.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},l.TQ.legend.properties),{legendMarkerRendering:l.iD.legendMarkerRendering,defaultToCircle:l.iD.defaultToCircle,matchLineColor:l.iD.matchLineColor})},subheader:(0,e.__assign)({},l.TQ.subheader)},S[v.Xi]=(0,e.__assign)({},l.TQ.smallMultiplesLayout),S.categoryAxis={displayName:(0,f.V)("Visual_XAxis"),properties:{show:l.iD.show,start:l.iD.axisStart,end:l.iD.axisEnd,axisType:l.iD.axisType,showAxisTitle:l.iD.showAxisTitle_X,axisStyle:l.iD.axisStyle,labelColor:l.iD.labelColor,fontFamily:l.iD.fontFamily,fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,invertAxis:l.iD.invertAxis,labelDisplayUnits:l.iD.labelDisplayUnits,labelPrecision:l.iD.labelPrecision,concatenateLabels:l.iD.concatenateLabels,preferredCategoryWidth:l.iD.preferredCategoryWidth,maxMarginFactor:l.iD.maxMarginFactor,titleColor:l.iD.titleColor,titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.titleFontSize,titleBold:l.iD.bold,titleItalic:l.iD.italic,titleUnderline:l.iD.underline,titleText:l.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},l.iD.show),{displayName:(0,f.V)("Visual_Gridline_Show")}),gridlineColor:l.iD.lineColor,gridlineThickness:l.iD.strokeWidth,gridlineStyle:l.iD.lineStyle,innerPadding:l.iD.innerPadding,logAxisScale:l.iD.logAxisScale,reverseStackOrder:l.iD.reverseStackOrder}},S.valueAxis={displayName:(0,f.V)("Visual_YAxis"),properties:(0,e.__assign)({show:l.iD.show,axisLabel:{displayName:(0,f.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:l.iD.axisStart,end:l.iD.axisEnd,invertAxis:l.iD.invertAxis,sharedAxis:l.iD.sharedAxis,scaleToFit:l.iD.scaleToFit,showAxisTitle:l.iD.showAxisTitle_Y,axisStyle:l.iD.axisStyle,labelColor:l.iD.labelColor,fontFamily:l.iD.fontFamily,fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,labelDisplayUnits:l.iD.labelDisplayUnits,labelPrecision:l.iD.labelPrecision,titleColor:l.iD.titleColor,titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.titleFontSize,titleBold:l.iD.bold,titleItalic:l.iD.italic,titleUnderline:l.iD.underline,titleText:l.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},l.iD.show),{displayName:(0,f.V)("Visual_Gridline_Show")}),gridlineColor:l.iD.lineColor,gridlineThickness:l.iD.strokeWidth,gridlineStyle:l.iD.lineStyle,logAxisScale:l.iD.logAxisScale,switchAxisPosition:l.iD.switchAxisPosition},l.sJ)},S.zoom={displayName:l.TQ.zoom.displayName,properties:(0,e.__assign)((0,e.__assign)({},l.TQ.zoom.properties),l.DW.zoom.properties)},S.dataPoint=R.dataPoint,S.layout=R.layout,S.labels={displayName:(0,f.V)("Visual_DataPointsLabels"),description:(0,f.V)("Visual_DataPointsLabelsDescription"),properties:{show:l.iD.show,showSeries:{displayName:(0,f.V)("Visual_Show"),type:{bool:!0}},color:l.iD.dataColor,labelDisplayUnits:l.iD.dataLabelDisplayUnits,valueCustomFormatString:l.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},l.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,f.V)("Visual_LabelOrientation"),type:{enumeration:b.d}},labelPosition:{displayName:(0,f.V)("Visual_Position"),type:{enumeration:h.dt}},fontSize:l.iD.fontSize,bold:l.iD.bold,italic:l.iD.italic,underline:l.iD.underline,fontFamily:l.iD.fontFamily,labelDensity:{displayName:(0,f.V)("Visual_LabelDensity"),type:{integer:!0}},enableBackground:l.iD.labelEnableBackground,backgroundColor:l.iD.labelBackgroundColor,backgroundTransparency:l.iD.labelBackgroundTransparency,showAll:{displayName:(0,f.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showByDefault:{type:{bool:!0}},showDynamicLabels:l.iD.showDynamicLabels,dynamicLabelValue:l.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:l.iD.showBlankAs,transparency:l.iD.transparency,titleBold:l.iD.bold,titleColor:l.iD.dataColor,titleContentType:{displayName:(0,f.V)("Content"),type:{enumeration:r.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:l.iD.fontFamily,titleFontSize:l.iD.fontSize,dynamicLabelTitle:l.iD.dynamicLabelValue,titleItalic:l.iD.italic,titleTransparency:l.iD.transparency,titleLabelDisplayUnits:l.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:l.iD.dataLabelCustomFormatString,titleLabelPrecision:l.iD.labelPrecision,titleUnderline:l.iD.underline,titleShowBlankAs:l.iD.showBlankAs,detailBold:l.iD.bold,detailColor:l.iD.dataColor,dynamicLabelDetail:l.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:l.iD.fontFamily,detailFontSize:l.iD.fontSize,detailItalic:l.iD.italic,detailTransparency:l.iD.transparency,detailUnderline:l.iD.underline,detailShowBlankAs:l.iD.showBlankAs,detailLabelDisplayUnits:l.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:l.iD.dataLabelCustomFormatString,detailLabelPrecision:l.iD.labelPrecision,detailContentType:{displayName:(0,f.V)("Content"),type:{enumeration:o.w}},labelContentLayout:l.iD.labelContentLayout,optimizeLabelDisplay:l.iD.optimizeLabelDisplay,labelContainerMaxWidth:l.iD.labelContainerMaxWidth}},S.seriesLabels=l.TQ.seriesLabels,S.error=l.TQ.error,S.lineStyles={displayName:(0,f.V)("Visual_Shapes"),description:(0,f.V)("Visual_ShapesDescription"),properties:{shadeArea:{displayName:(0,f.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:l.iD.strokeWidth,strokeLineJoin:l.iD.strokeLineJoin,lineStyle:l.iD.lineStyle,showMarker:l.iD.showMarker,markerShape:l.iD.markerShape,markerSize:l.iD.markerSize,markerColor:l.iD.markerColor,showSeries:{displayName:(0,f.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showMarkerByDefault:{type:{bool:!0}},lineChartType:{displayName:(0,f.V)("Visual_Line_Type"),description:(0,f.V)("Visual_Line_Type_Description"),type:{enumeration:p.dt}}}},S.plotArea={displayName:(0,f.V)("Visual_Plot"),properties:{transparency:l.iD.transparency,image:l.iD.image}},S.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},S.xAxisReferenceLine={displayName:(0,f.V)("Visual_Reference_Line_X"),description:(0,f.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:l.iD.show,displayName:l.iD.referenceLineDisplayName,value:{displayName:(0,f.V)("Visual_Reference_Line_Value"),description:(0,f.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:l.iD.lineColor,transparency:l.iD.referenceLineTransparency,style:l.iD.lineStyle,position:l.iD.referenceLinePosition,shadeRegion:l.iD.shadeRegion,shadeColor:l.iD.shadeColor,shadeTransparency:l.iD.shadeTransparency,dataLabelShow:l.iD.dataLabelShow,dataLabelColor:l.iD.dataLabelColor,dataLabelText:l.iD.dataLabelText,dataLabelDecimalPoints:l.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:l.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:l.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:l.iD.dataLabelDisplayUnits}},S),V&&{totals:l.TQ.totalsWithNet}),!V&&{trend:{displayName:(0,f.V)("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:l.iD.trendlineColor,transparency:l.iD.trendlineTransparency,style:l.iD.trendlineStyle,combineSeries:l.iD.trendlineCombineSeries,useHighlightValues:l.iD.trendlineUseHighlightValues}}}),dataViewMappings:[{conditions:[(g={Series:{max:0}},g[a.rows]={max:0},g),(y={Series:{min:1,max:1},Y:{max:1}},y[a.rows]={max:0},y)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(C={Series:{max:0},Y2:{min:1}},C[a.rows]={max:0},C),(E={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}},E[a.rows]={max:0},E)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(M={Series:{max:0}},M[a.rows]={max:0},M),(P={Series:{min:1,max:1},Y:{max:1}},P[a.rows]={max:0},P)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[(T={},T[a.series]={max:0},T[a.rows]={min:1},T)],matrix:u(!1)},{conditions:[(x={},x[a.series]={min:1,max:1},x[a.y]={max:1},x[a.rows]={min:1},x)],matrix:u(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[n.au.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function u(V){var d={rows:{select:[{composite:[{for:{in:a.rows}}],dataReductionAlgorithm:{window:{count:v.QS}}},{composite:[{for:{in:a.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:a.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:a.y}},{for:{in:a.tooltips}}]},dataVolume:6};return V?d.rows.values={select:[{for:{in:a.y2}}]}:d.values.select.push({for:{in:a.y2}}),d}},542277:function(Je,H,t){t.d(H,{KK:function(){return s},Qw:function(){return v},Te:function(){return b},YE:function(){return h},iu:function(){return f}});var e=t(145315),c=t(403451),s={values:"Values"},f={objectName:"general",propertyName:"formatString"},v={objectName:"overrideDataReduction",propertyName:"count"},b={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},h={dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:c.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},403451:function(Je,H,t){t.d(H,{sz:function(){return j},sJ:function(){return w},DW:function(){return Q},TQ:function(){return W},N_:function(){return U},iD:function(){return N},e0:function(){return k}});var e=t(226514),c=t(106266),s=t(734287),f=t(490327),v=t(244945),b=t(149362),n=(0,b.i)([{value:"Number of bins",displayName:function(ee){return ee.get("BinsDialog_ModeByCount")}},{value:"Bin size",displayName:function(ee){return ee.get("BinsDialog_ModeBySize")}}]),l=t(280122),r=t(984748),o=t(454967),a=t(31394),i=t(8591),m=t(870743),u=t(281835),V=t(210770),d=t(808261),S=t(51033),g=t(306310),y=t(666683),C=t(839789),E=t(265699),M=t(419580),P=t(252844),T=t(694074),x=t(383527),R=t(834436),D=t(981597),L=t(457158),F=t(350528),A=(0,b.i)([{value:"MultiLine",displayName:function(ee){return ee.get("Visual_LabelContentLayout_MultiLine")}},{value:"SingleLine",displayName:function(ee){return ee.get("Visual_LabelContentLayout_SingleLine")}}]),O=(0,b.i)([{value:"Solid",displayName:function(ee){return ee.get("Visual_LineStyle_Solid")}},{value:"Dotted",displayName:function(ee){return ee.get("Visual_LineStyle_Dotted")}},{value:"Dashed",displayName:function(ee){return ee.get("Visual_LineStyle_Dashed")}}]),N={axisEnd:{displayName:(0,s.V)("Visual_Axis_End"),description:(0,s.V)("Visual_Axis_EndDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,s.V)("Visual_Axis_Start"),description:(0,s.V)("Visual_Axis_StartDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,s.V)("Visual_Axis_Style"),type:{enumeration:f.dt}},axisType:{displayName:(0,s.V)("Type"),type:{enumeration:v.dt}},backColor:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,s.V)("BinsDialog_BinType"),type:{enumeration:n}},bold:{displayName:(0,s.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,s.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderColor2:{displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},borderPreset:{displayName:(0,s.V)("Style"),type:{enumeration:F.dt}},borderShow:{displayName:(0,s.V)("Visual_Border"),type:{bool:!0}},borderSize:{displayName:(0,s.V)("Visual_General_Properties_Width"),type:{numeric:!0}},borderTransparency:{displayName:(0,s.V)("Transparency"),type:{numeric:!0}},borderIntensity:{displayName:(0,s.V)("Visual_Color_Intensity"),type:{numeric:!0}},borderOutlineOnly:{displayName:(0,s.V)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,s.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,s.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,s.V)("Visual_LabelsFill"),description:(0,s.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:(0,s.V)("Visual_LabelsFill"),description:(0,s.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:(0,s.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,s.V)("Visual_FormatCode"),description:(0,s.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelColor:{displayName:(0,s.V)("Visual_Reference_Line_Data_Label_Color"),description:(0,s.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,s.V)("Visual_Precision"),placeHolderText:(0,s.V)("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{enumeration:L.d},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:(0,s.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,s.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:E.dt}},dataLabelText:{displayName:(0,s.V)("Text"),description:(0,s.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:m.dt}},dataLabelShow:{displayName:(0,s.V)("Visual_Reference_Line_Data_Label"),description:(0,s.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:(0,s.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,s.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:M.dt}},defaultColor:{displayName:(0,s.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,s.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,s.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},defaultToCircle:{displayName:(0,s.V)("Visual_LegendDefaultToCircle"),description:(0,s.V)("Visual_LegendDefaultToCircleDescription"),type:{bool:!0}},dynamicLabelValue:{displayName:(0,s.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,s.V)("Visual_Error_Format"),type:{enumeration:r.dt}},fill:{displayName:(0,s.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},fillColor:{displayName:(0,s.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},fillTransparency:{displayName:(0,s.V)("Transparency"),type:{numeric:!0}},fontColor:{displayName:(0,s.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,s.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,s.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,s.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,s.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,s.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:(0,s.V)("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,s.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:(0,s.V)("Visual_Axis_InnerPadding"),description:(0,s.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},concatenateLabels:{displayName:(0,s.V)("Visual_Axis_ConcatenateLabels"),description:(0,s.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},labelColor:{displayName:(0,s.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelContentLayout:{displayName:(0,s.V)("Layout"),type:{enumeration:A}},optimizeLabelDisplay:{displayName:(0,s.V)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelDisplayUnits:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,s.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:(0,s.V)("Visual_Precision"),description:(0,s.V)("Visual_PrecisionDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{integer:!0}},labelContainerMaxWidth:{displayName:(0,s.V)("Visual_Max_Width"),type:{numeric:!0}},leaderLines:{displayName:(0,s.V)("Visual_LeaderLines"),type:{bool:!0}},leaderLineStyle:{displayName:(0,s.V)("Visual_LineStyle"),type:{enumeration:O}},leaderLineColor:{displayName:(0,s.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},leaderLineTransparency:{displayName:(0,s.V)("Transparency"),type:{numeric:!0}},leaderLineWidth:{displayName:(0,s.V)("Visual_General_Properties_Width"),type:{numeric:!0}},logAxisScale:{displayName:(0,s.V)("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:(0,s.V)("Visual_LegendMatchLineColor"),description:(0,s.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,s.V)("Visual_Label_Maximum_Offset"),placeHolderText:(0,s.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,s.V)("Visual_Label_Minimum_Offset"),placeHolderText:(0,s.V)("Visual_Auto"),type:{numeric:!0}},preferredCategoryWidth:{displayName:(0,s.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,s.V)("Visual_MaxMarginFactor"),description:(0,s.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:(0,s.V)("Visual_Percentage_Precision"),description:(0,s.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,s.V)("Visual_Axis_Style"),description:(0,s.V)("Visual_LegendStyleDescription"),type:{enumeration:u.dt}},legendPosition:{displayName:(0,s.V)("Visual_LegendPosition"),description:(0,s.V)("Visual_LegendPositionDescription"),type:{enumeration:V.dt}},legendTitle:{displayName:(0,s.V)("Visual_LegendName"),description:(0,s.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,s.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:(0,s.V)("Visual_LineStyle"),type:{enumeration:d.dt}},textWrap:{displayName:(0,s.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,s.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,s.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,s.V)("Visual_AxisTitleText"),placeHolderText:(0,s.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,s.V)("Visual_Outline"),type:{enumeration:y.dt}},outlineStyle:{displayName:(0,s.V)("Visual_Outline"),type:{flagsEnumeration:y.Ob}},outlineColor:{displayName:(0,s.V)("Visual_OutlineColor"),description:(0,s.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,s.V)("Visual_OutlineWeight"),description:(0,s.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLineDisplayName:{displayName:(0,s.V)("Name"),description:(0,s.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},referenceLinePosition:{displayName:(0,s.V)("Visual_Reference_Line_Arrange"),description:(0,s.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:C.dt}},referenceLineTransparency:{displayName:(0,s.V)("Visual_Reference_Line_Transparency"),description:(0,s.V)("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},referenceLineValue:{displayName:(0,s.V)("Visual_Reference_Line_Value"),description:(0,s.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},referenceLineValueWithDateTime:{displayName:(0,s.V)("Visual_Reference_Line_Value"),description:(0,s.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},reverseStackOrder:{displayName:(0,s.V)("Visual_ReverseStackOrder"),type:{bool:!0}},scaleToFit:{displayName:(0,s.V)("ScaleToFit"),type:{bool:!0}},sharedAxis:{displayName:(0,s.V)("Visual_Shared_YAxis"),type:{bool:!0}},show:{displayName:(0,s.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,s.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,s.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,s.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,s.V)("Visual_LegendShowTitle"),description:(0,s.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,s.V)("Visual_SeriesOrderReversed"),description:(0,s.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,s.V)("Visual_SeriesOrderSorted"),description:(0,s.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,s.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,s.V)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,s.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,s.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,s.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},strokeWidth:{displayName:(0,s.V)("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:(0,s.V)("Visual_StrokeLineJoin"),type:{enumeration:x.dt}},switchAxisPosition:{displayName:(0,s.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},lineDashType:{displayName:(0,s.V)("Visual_LineDashType"),type:{enumeration:d.dt}},showIcon:{displayName:(0,s.V)("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:(0,s.V)("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:(0,s.V)("Visual_MarkerShape"),type:{enumeration:g.dt}},fillPointStyle:{displayName:(0,s.V)("Style"),type:{enumeration:o.oB}},markerSize:{displayName:(0,s.V)("Visual_MarkerSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,s.V)("Visual_MarkerRangeType"),type:{enumeration:S.zo}},markerColor:{displayName:(0,s.V)("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},matchFillColor:{displayName:(0,s.V)("Visual_MatchFillColor"),description:(0,s.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},matchSeriesColor:{displayName:(0,s.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,s.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},transparency:{displayName:(0,s.V)("Transparency"),description:(0,s.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,s.V)("Transparency"),description:(0,s.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},referenceLineColor:{displayName:(0,s.V)("Visual_Reference_Line_Color"),description:(0,s.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:(0,s.V)("Visual_General_ResponsiveLabel"),description:(0,s.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:(0,s.V)("Visual_ShadeRegion"),type:{enumeration:P.dt}},shadeColor:{displayName:(0,s.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:(0,s.V)("Visual_ShadeTransparency"),type:{numeric:!0}},showAxisTitle_Y:{displayName:(0,s.V)("Visual_Axis_Title"),description:(0,s.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,s.V)("Visual_Axis_Title"),description:(0,s.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,s.V)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,s.V)("Visual_TextAlignment"),type:{enumeration:R.dt}},trendlineColor:{displayName:(0,s.V)("Visual_Trend_Line_Color"),description:(0,s.V)("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},trendlineDisplayName:{displayName:(0,s.V)("Name"),description:(0,s.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},trendlineTransparency:{displayName:(0,s.V)("Visual_Trend_Line_Transparency"),description:(0,s.V)("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},trendlineStyle:{displayName:(0,s.V)("Style"),description:(0,s.V)("Visual_Trend_Line_Style_Description"),type:{enumeration:d.dt}},trendlineCombineSeries:{displayName:(0,s.V)("Visual_Trend_Line_Combine_Series"),description:(0,s.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},trendlineUseHighlightValues:{displayName:(0,s.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,s.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}},totalsEnabled:{displayName:(0,s.V)("Visual_Axis_Total"),description:(0,s.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:(0,s.V)("Underline"),type:{bool:!0}},width:{displayName:(0,s.V)("Visual_General_Properties_Width"),type:{integer:!0}},wordWrap:{displayName:(0,s.V)("Visual_Word_Wrap"),type:{bool:!0}}},w={secShow:{displayName:(0,s.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,s.V)("Visual_YAxis_AlignZeros"),description:(0,s.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,s.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,s.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,s.V)("Visual_Axis_Start"),description:(0,s.V)("Visual_Axis_StartDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,s.V)("Visual_Axis_End"),description:(0,s.V)("Visual_Axis_EndDescription"),placeHolderText:(0,s.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:N.showAxisTitle_Y,secAxisStyle:N.axisStyle,secLabelColor:N.labelColor,secFontFamily:N.fontFamily,secFontSize:N.fontSize,secBold:N.bold,secItalic:N.italic,secUnderline:N.underline,secLabelDisplayUnits:N.labelDisplayUnits,secLabelPrecision:N.labelPrecision,secTitleColor:N.titleColor,secTitleFontFamily:N.fontFamily,secTitleFontSize:N.titleFontSize,secTitleBold:N.bold,secTitleItalic:N.italic,secTitleUnderline:N.underline,secTitleText:N.titleText},I={displayName:(0,s.V)("Visual_DataTotalLabels"),description:(0,s.V)("Visual_DataTotalLabelsDescription"),properties:{show:N.show,color:N.dataColor,labelDisplayUnits:N.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},N.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:N.labelEnableBackground,backgroundColor:N.labelBackgroundColor,backgroundTransparency:N.labelBackgroundTransparency,fontSize:N.fontSize,bold:N.bold,italic:N.italic,underline:N.underline,fontFamily:N.fontFamily}},B=_.cloneDeep(I);B.properties.showPositiveAndNegative={displayName:(0,s.V)("Visual_LabelPosAndNeg"),description:(0,s.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var j={borderShow:N.borderShow,borderSize:N.borderSize,borderPreset:N.borderPreset,borderColorMatchFill:N.matchFillColor,borderColor:N.borderColor2,borderTransparency:N.borderTransparency,borderIntensity:N.borderIntensity},W={legend:{displayName:(0,s.V)("Visual_Legend"),description:(0,s.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,s.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,s.V)("Visual_LegendPosition"),description:(0,s.V)("Visual_LegendPositionDescription"),type:{enumeration:V.dt}},showTitle:{displayName:(0,s.V)("Visual_LegendShowTitle"),description:(0,s.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,s.V)("Visual_LegendName"),description:(0,s.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:(0,s.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:(0,s.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:(0,s.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,s.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,s.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,s.V)("Underline"),type:{bool:!0}}}},totals:I,totalsWithNet:B,zoom:{displayName:(0,s.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,s.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,s.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,s.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,s.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,s.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:(0,s.V)("Small_Multiples_Title"),description:(0,s.V)("Small_Multiples_Title_Description"),properties:{show:N.show,fontFamily:N.fontFamily,fontSize:N.fontSize,bold:N.bold,italic:N.italic,underline:N.underline,fontColor:N.fontColor,alignment:{displayName:(0,s.V)("Visual_Title_Alignment"),description:(0,s.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,s.V)("Visual_Position"),type:{enumeration:D.dt}},titleWrap:N.wordWrap}},smallMultiplesLayout:{displayName:(0,s.V)("Small_Multiples_Layout"),description:(0,s.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,s.V)("Small_Multiples_Layout"),type:{enumeration:T.dt}},rowCount:{displayName:(0,s.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,s.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:(0,e.__assign)((0,e.__assign)({},N.transparency),{displayName:(0,s.V)("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:(0,s.V)("Visual_Gridline_Show"),description:(0,s.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:a.dt}},gridLineColor:(0,e.__assign)({},N.lineColor),gridLineWidth:(0,e.__assign)((0,e.__assign)({},N.strokeWidth),{displayName:(0,s.V)("Visual_Line_Width")}),gridLineStyle:N.lineStyle,gridPadding:{displayName:(0,s.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,s.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,s.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,s.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,s.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,s.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,s.V)("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,s.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,s.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:N.show,barMatchSeriesColor:N.matchSeriesColor,barColor:{displayName:(0,s.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:N.width,barBorderColor:N.borderColor,barBorderSize:{displayName:(0,s.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:N.show,shadeBandStyle:{displayName:(0,s.V)("Visual_Axis_Style"),type:{enumeration:l.uv}},shadeColor:{displayName:(0,s.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:N.matchSeriesColor,shadeTransparency:N.transparency,markerShape:{displayName:(0,s.V)("Visual_MarkerShape"),type:{enumeration:g.OE}},showMarkerByDefault:{type:{bool:!0}},markerSize:N.markerSize,labelShow:N.show,labelFontFamily:N.fontFamily,labelFontSize:N.fontSize,labelBold:N.bold,labelItalic:N.italic,labelUnderline:N.underline,labelColor:N.color,labelMatchSeriesColor:N.matchSeriesColor,labelFormat:N.errorFormat,labelBackground:N.labelEnableBackground,labelBackgroundColor:N.labelBackgroundColor,labelBackgroundTransparency:N.labelBackgroundTransparency,tooltipShow:(0,e.__assign)((0,e.__assign)({},N.show),{displayName:(0,s.V)("Visual_ShowInTooltip")}),tooltipFormat:N.errorFormat}},seriesLabels:{displayName:(0,s.V)("Visual_SeriesLabels"),description:(0,s.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,s.V)("Visual_SeriesLabels"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,s.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,s.V)("Visual_SeriesPosition"),type:{enumeration:i.dt}},enableBackground:N.labelEnableBackground,backgroundColor:N.labelBackgroundColor,backgroundTransparency:N.labelBackgroundTransparency,showAll:{displayName:(0,s.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,s.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:N.bold,italic:N.italic,underline:N.underline,seriesFontFamily:{displayName:(0,s.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:(0,s.V)("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:(0,s.V)("Visual_Max_Width"),placeHolderText:(0,s.V)("Visual_Auto"),type:{integer:!0}}}}},U=(0,c.wZ)(W),k={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Q={zoom:{properties:{showOnValueSecAxis:{displayName:(0,s.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}}},464925:function(Je,H,t){t.d(H,{Fw:function(){return v},I8:function(){return b},Sd:function(){return n},bR:function(){return p},hq:function(){return h}});var e=t(145315),c=t(734287),s=t(149362),f=t(403451),v={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},b={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},h={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},p={defaultValue:10,minValue:3,maxValue:30};function n(l){var r,o,a,i,m,u,V,d,S,g=[{name:v.analyze,kind:e.DW.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,c.V)("Role_DisplayName_Target"),description:(0,c.V)("DecompositionTree_Analyze_Tooltip")},{name:v.explainBy,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_ExplainBy"),description:(0,c.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:v.tooltips,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}],y={select:[{for:{in:v.analyze}},{for:{in:v.tooltips}}]};return{dataRoles:g,dataViewMappings:[{conditions:[(r={},r[v.analyze]={max:1},r)],matrix:{rows:{for:{in:v.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:y}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[v.tooltips],supportEnhancedTooltips:!1},objects:(o={general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:f.iD.formatString}}},o[b.analysis]={displayName:(0,c.V)("Analysis"),description:(0,c.V)("Analysis"),properties:(a={},a[h.aiEnabled]={displayName:(0,c.V)("DecompositionTree_Formatting_EnableAI"),description:(0,c.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},a[h.aiMode]={displayName:(0,c.V)("DecompositionTree_AnalysisType"),description:(0,c.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:(0,c.V)("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},a)},o[b.tree]={displayName:(0,c.V)("DecompositionTree_Formatting_Tree"),description:(0,c.V)("DecompositionTree_Formatting_Tree"),properties:(i={},i[h.density]={displayName:(0,c.V)("DecompositionTree_Density"),description:(0,c.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("DecompositionTree_Density_Dense"),value:"dense"},{displayName:(0,c.V)("Default"),value:"default"},{displayName:(0,c.V)("DecompositionTree_Density_Sparse"),value:"sparse"}])}},i[h.accentColor]={displayName:(0,c.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,c.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},i[h.connectorDefaultColor]={displayName:(0,c.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,c.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},i[h.connectorType]={displayName:(0,c.V)("Style"),description:(0,c.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("Default"),value:"curve"},{displayName:(0,c.V)("Visual_StrokeLineJoin_Round"),value:"round"}])}},i[h.responsiveLayout]={displayName:(0,c.V)("Visual_General_ResponsiveLabel"),description:(0,c.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},i[h.effectiveBarsPerLevel]={type:{integer:!0}},i[h.barsPerLevel]={displayName:(0,c.V)("DecompositionTree_BarsPerLevel"),description:(0,c.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},i[h.defaultClickAction]={displayName:(0,c.V)("DecompositionTree_DefaultAction"),description:(0,c.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:(0,c.V)("Collapse"),value:"toggle"}])}},i)},o[b.dataBars]={displayName:(0,c.V)("Visual_Bars_Title"),description:(0,c.V)("Visual_ConditionalFormatting_DataBars"),properties:(m={},m[h.positiveBarColor]={displayName:(0,c.V)("DataBarsDialog_PositiveBar"),description:(0,c.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.negativeBarColor]={displayName:(0,c.V)("DataBarsDialog_NegativeBar"),description:(0,c.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.dataBarBackgroundColor]={displayName:(0,c.V)("DecompositionTree_Formatting_BarBackground"),description:(0,c.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},m[h.dataBarColor]={displayName:(0,c.V)("DecompositionTree_DataBarColor"),description:(0,c.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.dataBarWidthPercent]={displayName:(0,c.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,c.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},m[h.dataBarScalingType]={displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType"),description:(0,c.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:(0,c.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},m[h.axisStart]=f.iD.axisStart,m[h.axisEnd]=f.iD.axisEnd,m)},o[b.categoryLabels]={displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:(u={},u[h.categoryLabelFontFamily]=f.iD.fontFamily,u[h.categoryLabelFontSize]=f.iD.fontSize,u[h.categoryLabelBold]=f.iD.bold,u[h.categoryLabelItalic]=f.iD.italic,u[h.categoryLabelUnderline]=f.iD.underline,u[h.categoryLabelFontColor]=f.iD.fontColor,u)},o[b.dataLabels]={displayName:(0,c.V)("Visual_Tablix_Values"),description:(0,c.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:(V={},V[h.dataLabelFontFamily]=f.iD.fontFamily,V[h.dataLabelFontSize]=f.iD.fontSize,V[h.dataLabelBold]=f.iD.bold,V[h.dataLabelItalic]=f.iD.italic,V[h.dataLabelUnderline]=f.iD.underline,V[h.dataLabelFontColor]=f.iD.fontColor,V[h.dataLabelDisplayUnits]=f.iD.labelDisplayUnits,V[h.dataLabelPrecision]=f.iD.labelPrecision,V)},o[b.levelHeader]={displayName:(0,c.V)("Header_Plural"),description:(0,c.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:(d={},d[h.levelHeaderBackgroundColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},d[h.levelTitleFontFamily]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},d[h.levelTitleFontSize]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,c.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},d[h.levelTitleBold]=f.iD.bold,d[h.levelTitleItalic]=f.iD.italic,d[h.levelTitleUnderline]=f.iD.underline,d[h.levelTitleFontColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},d[h.showSubtitles]={displayName:(0,c.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,c.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},d[h.levelSubtitleFontFamily]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},d[h.levelSubtitleFontSize]={displayName:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,c.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},d[h.levelSubtitleBold]=f.iD.bold,d[h.levelSubtitleItalic]=f.iD.italic,d[h.levelSubtitleUnderline]=f.iD.underline,d[h.levelSubtitleFontColor]={displayName:(0,c.V)("Generic_Color"),description:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},d)},o[b.insights]={properties:(S={},S[h.isAINode]={type:{bool:!0}},S)},o),drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[v.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[v.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:v.analyze,explainByRole:v.explainBy,enableAIProperty:{objectName:b.analysis,propertyName:h.aiEnabled},highlightedAIMatrixNode:{objectName:b.insights,propertyName:h.isAINode},analysisType:{objectName:b.analysis,propertyName:h.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},719661:function(Je,H,t){t.d(H,{Ag:function(){return n},V9:function(){return l},cw:function(){return r}});var e=t(226514),c=t(106266),s=t(145315),f=t(734287),v=t(747168),b=t(605781),h=t(326899),p=t(403451),n={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},l=(0,c.wZ)(r().objects);function r(o){return{dataRoles:[{name:n.category,kind:s.DW.Grouping,displayName:(0,f.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,f.V)("Role_DisplayName_LegendDescription")},{name:n.series,kind:s.DW.Grouping,displayName:(0,f.V)("Details"),displayOrder:null!=o&&o.useModernFormatPane?3:2,description:(0,f.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:n.y,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Values"),displayOrder:null!=o&&o.useModernFormatPane?2:3,description:(0,f.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:n.tooltips,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,f.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,f.V)("Visual_General"),properties:{formatString:p.iD.formatString}},legend:p.TQ.legend,dataPoint:{displayName:(0,f.V)("Visual_DataPoint"),description:(0,f.V)("Visual_DataPointDescription"),properties:{defaultColor:p.iD.defaultColor,fill:p.iD.fill}},labels:{displayName:(0,f.V)("Visual_DetailLabels"),properties:{show:p.iD.show,color:p.iD.dataColor,labelDisplayUnits:p.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},p.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,e.__assign)((0,e.__assign)({},p.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,fontFamily:p.iD.fontFamily,labelStyle:{displayName:(0,f.V)("Visual_LabelStyle"),type:{enumeration:h.dt}},position:{displayName:(0,f.V)("Visual_DonutLabelPosition"),type:{enumeration:b.dt}},overflow:{displayName:(0,f.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,f.V)("Visual_Background"),type:{enumeration:v.dt}}}},slices:{displayName:(0,f.V)("Visual_Shapes"),description:(0,f.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,f.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,f.V)("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:(0,f.V)("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:(0,f.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:(0,f.V)("Visual_DonutExplode"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},525963:function(Je,H,t){t.d(H,{Vh:function(){return n},XN:function(){return h}});var e=t(145315),c=t(734287),s=t(884983),f=t(771803),v=t(403451);function h(l){return{dataRoles:p(l&&l.cartesianConditionalFormatting),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:v.iD.formatString}},legend:v.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:v.iD.defaultColor,showAllDataPoints:v.iD.showAllDataPoints,fill:v.iD.defaultCategoryColor,fillRule:{displayName:(0,c.V)("Role_DisplayName_Values"),description:(0,c.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:"Size",output:{property:"fill",selector:["Category"]}}},transparency:v.iD.transparency}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:v.iD.show,color:v.iD.dataColor,labelDisplayUnits:v.iD.labelDisplayUnits,labelPrecision:v.iD.labelPrecision}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabels"),properties:{show:v.iD.show}},mapControls:{displayName:(0,c.V)("Visual_MapControls"),description:(0,c.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,c.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,c.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,c.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,c.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,c.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:f.dt}}}},mapStyles:{displayName:(0,c.V)("Visual_MapStyles"),description:(0,c.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,c.V)("Visual_MapTheme"),type:{enumeration:s.dt}},showLabels:{displayName:(0,c.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:v.iD.show,strokeColor:{displayName:(0,c.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:v.iD.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:"Size",direction:2}]}},drilldown:{roles:["Category"]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function p(l){var r=[{name:"Category",kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:"Series",kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:"X",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return l||r.push({name:"Size",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Gradient"),description:(0,c.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),r.push({name:"Tooltips",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}),r}var n={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},635491:function(Je,H,t){t.d(H,{IW:function(){return p},jP:function(){return n},qW:function(){return l}});var e=t(226514),c=t(106266),s=t(145315),f=t(734287),v=t(72653),b=t(201849),h=t(403451),p={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},n=(0,c.wZ)(l().objects);function l(r){return{dataRoles:[{name:p.category,kind:s.DW.Grouping,displayName:(0,f.V)(null!=r&&r.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,f.V)("Role_DisplayName_GroupFunnelDescription")},{name:p.y,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Values"),description:(0,f.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!(null!=r&&r.cartesianConditionalFormatting)&&{name:p.gradient,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Gradient"),description:(0,f.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:p.tooltips,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Tooltips"),description:(0,f.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(function(o){return o}),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,f.V)("Visual_General"),properties:{formatString:h.iD.formatString}},categoryAxis:{displayName:(0,f.V)("Visual_CategoryLabels"),description:(0,f.V)("Visual_CategoryLabelOptionsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily}},dataPoint:{displayName:(0,f.V)("Visual_DataPoint"),description:(0,f.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,f.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,f.V)("Visual_DataPointsLabels"),description:(0,f.V)("Visual_DataPointsLabelsDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency,labelPosition:{displayName:(0,f.V)("Visual_Position"),type:{enumeration:b.dt},suppressFormatPainterCopy:!0},labelDisplayUnits:h.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,funnelLabelStyle:{displayName:(0,f.V)("Visual_LabelStyle"),type:{enumeration:v.dt}}}},percentBarLabel:{displayName:(0,f.V)("Visual_PercentBarLabel"),description:(0,f.V)("Visual_PercentBarLabelDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},381433:function(Je,H,t){t.d(H,{J1:function(){return v},Vd:function(){return f},qJ:function(){return b}});var e=t(145315),c=t(734287),s=t(403451),f={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},v={dataRoles:[{name:f.y,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Value"),description:(0,c.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:f.minValue,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_MinValue"),description:(0,c.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:f.maxValue,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_MaxValue"),description:(0,c.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:f.targetValue,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_TargetValue"),description:(0,c.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:s.iD.formatString}},axis:{displayName:(0,c.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,c.V)("Min"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,c.V)("Max"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,c.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),properties:{fill:s.iD.fill,target:{displayName:(0,c.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,c.V)("Visual_DataPointsLabels"),properties:{show:s.iD.show,color:s.iD.dataColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},target:{displayName:(0,c.V)("Visual_Gauge_Axis_Target"),properties:{show:s.iD.show,color:s.iD.dataColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily}},calloutValue:{displayName:(0,c.V)("Visual_Gauge_CalloutValue"),properties:{show:s.iD.show,color:s.iD.dataColor,fontFamily:s.iD.fontFamily,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,showDynamicLabels:s.iD.showDynamicLabels,dynamicLabelValue:s.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0},b={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},289166:function(Je,H,t){t.d(H,{Jz:function(){return b},_g:function(){return v}});var e=t(106266),c=t(734287),s=t(674810),f={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,c.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,c.V)("Visual_Image_Scaling_Type"),type:{enumeration:s.dt}}}}},v=(0,e.wZ)(f),b={objects:f,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},935270:function(Je,H,t){t.d(H,{ml:function(){return l},qG:function(){return p},yM:function(){return r}});var e=t(106266),c=t(145315),s=t(734287),f=t(790517),v=t(966608),b=t(563246),h=t(239311),p={target:"Target",explainBy:"ExplainBy",details:"Details"},n={keyDrivers:{displayName:(0,s.V)("Analysis"),description:(0,s.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,s.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,s.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,s.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,s.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,s.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,s.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:b.dt},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,s.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,s.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,s.V)("KeyDriver_CountType"),description:(0,s.V)("KeyDriver_CountType_Description"),type:{enumeration:v.dt}},selectedAnalysis:{type:{enumeration:f.dt},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:h.dt},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,s.V)("Visual_KeyDriversVisualColors"),description:(0,s.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,s.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,s.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,s.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,s.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,s.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,s.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,s.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,s.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,s.V)("Visual_KeyDriversDrillVisualColors"),description:(0,s.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,s.V)("Visual_DefaultColor"),description:(0,s.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,s.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,s.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},l=(0,e.wZ)(n);function r(){var o;return{dataRoles:[{name:p.target,kind:c.DW.GroupingOrMeasure,kindPreference:1,displayName:(0,s.V)("Role_DisplayName_Target"),description:(0,s.V)("Role_DisplayName_TargetDescription")},{name:p.explainBy,kind:c.DW.GroupingOrMeasure,displayName:(0,s.V)("Role_DisplayName_ExplainBy"),description:(0,s.V)("Role_DisplayName_ExplainByDescription")},{name:p.details,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Details"),description:(0,s.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:n,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[(o={},o[p.target]={min:1,max:1},o)],table:{rows:{select:[{bind:{to:p.target}},{for:{in:p.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},424420:function(Je,H,t){t.d(H,{Pn:function(){return p},Te:function(){return r},pW:function(){return l},xg:function(){return o}});var e=t(106266),c=t(145315),s=t(734287),f=t(38517),v=t(31752),b=t(401973),h=t(403451),p={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function n(a){var i=a&&a.useModernFormatPane;return[{name:p.indicator,kind:c.DW.Measure,displayName:(0,s.V)(i?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,s.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:p.trendLine,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_KPI_TrendLine"),description:(0,s.V)("Role_DisplayName_KPI_Trendline_Description")},{name:p.goal,kind:c.DW.Measure,displayName:(0,s.V)(i?"Target":"Role_DisplayName_KPI_Goal"),description:(0,s.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function l(a){return{dataRoles:n(a),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:h.iD.formatString}},indicator:{displayName:(0,s.V)("Role_DisplayName_KPI_Indicator"),description:(0,s.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:h.iD.labelPrecision,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,fontColor:h.iD.fontColor,showIcon:h.iD.showIcon,iconSize:h.iD.iconSize,verticalAlignment:{displayName:(0,s.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:h.iD.horizontalAlignment}},trendline:{displayName:(0,s.V)("Role_DisplayName_KPI_TrendLine"),description:(0,s.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:h.iD.show,transparency:h.iD.transparency}},goals:{displayName:(0,s.V)("Role_DisplayName_KPI_Goals"),description:(0,s.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,s.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,s.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,goalFontFamily:h.iD.fontFamily,goalFontColor:h.iD.fontColor,showDistance:{displayName:(0,s.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,s.V)("Role_DisplayName_Label"),type:{enumeration:b.dt}},labelPrecision:h.iD.labelPrecision,titleFontSize:h.iD.fontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,distanceFontFamily:h.iD.fontFamily,distanceFontColor:h.iD.fontColor,direction:{displayName:(0,s.V)("Visual_KPI_DistanceDirection"),type:{enumeration:v.dt}}}},status:{displayName:(0,s.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,s.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,s.V)("Visual_KPI_Direction"),type:{enumeration:f.dt}},goodColor:{displayName:(0,s.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,s.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,s.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,s.V)("ConditionalFormattingDialog_Date"),description:(0,s.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:h.iD.show,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,lastDateFontFamily:h.iD.fontFamily,lastDateFontColor:h.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var r=(0,e.wZ)(l().objects),o={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},939523:function(Je,H,t){t.d(H,{BX:function(){return C},qn:function(){return V},yg:function(){return d},zK:function(){return g}});var e=t(226514),c=t(787941),s=t(106266),f=t(145315),v=t(734287),b=t(633888),h=t(345563),p=t(391589),n=t(280122),l=t(201849),r=t(344916),o=t(664723),a=t(403451),i=t(681454),m=t(646875);function u(M,P,T,x){var R;return void 0===T&&(T=!1),void 0===x&&(x=!1),(0,e.__assign)((0,e.__assign)(((R={general:{displayName:(0,v.V)("Visual_General"),properties:{formatString:a.iD.formatString,responsive:a.iD.responsive,responsiveLegacy:a.iD.responsiveLegacy}},legend:{displayName:a.TQ.legend.displayName,description:a.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},a.TQ.legend.properties),{legendMarkerRendering:a.iD.legendMarkerRendering,defaultToCircle:a.iD.defaultToCircle,matchLineColor:a.iD.matchLineColor})},subheader:(0,e.__assign)({},a.TQ.subheader)})[b.Xi]=(0,e.__assign)({},a.TQ.smallMultiplesLayout),R.categoryAxis={displayName:(0,v.V)("Visual_XAxis"),properties:(0,e.__assign)((0,e.__assign)({show:a.iD.show,start:a.iD.axisStart,end:a.iD.axisEnd,axisType:a.iD.axisType,showAxisTitle:{displayName:(0,v.V)("Visual_Axis_Title"),description:(0,v.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:a.iD.axisStyle,labelColor:a.iD.labelColor,fontFamily:a.iD.fontFamily,fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,invertAxis:a.iD.invertAxis,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,logAxisScale:a.iD.logAxisScale,concatenateLabels:{displayName:(0,v.V)("Visual_Axis_ConcatenateLabels"),description:(0,v.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:a.iD.preferredCategoryWidth,maxMarginFactor:a.iD.maxMarginFactor},(M&&P||T)&&{reverseStackOrder:a.iD.reverseStackOrder}),{titleColor:a.iD.titleColor,titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.titleFontSize,titleBold:a.iD.bold,titleItalic:a.iD.italic,titleUnderline:a.iD.underline,titleText:a.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},a.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:a.iD.lineColor,gridlineThickness:a.iD.strokeWidth,gridlineStyle:a.iD.lineStyle})},R.valueAxis={displayName:(0,v.V)("Visual_YAxis"),properties:{show:a.iD.show,start:a.iD.axisStart,end:a.iD.axisEnd,invertAxis:a.iD.invertAxis,sharedAxis:a.iD.sharedAxis,scaleToFit:a.iD.scaleToFit,showAxisTitle:{displayName:(0,v.V)("Visual_Axis_Title"),description:(0,v.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:a.iD.axisStyle,labelColor:a.iD.labelColor,fontFamily:a.iD.fontFamily,fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,logAxisScale:a.iD.logAxisScale,titleColor:a.iD.titleColor,titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.titleFontSize,titleBold:a.iD.bold,titleItalic:a.iD.italic,titleUnderline:a.iD.underline,titleText:a.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},a.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:a.iD.lineColor,gridlineThickness:a.iD.strokeWidth,gridlineStyle:a.iD.lineStyle,switchAxisPosition:a.iD.switchAxisPosition}},R.y2Axis={displayName:(0,v.V)("Visual_Y2Axis"),properties:(0,e.__assign)({show:a.iD.show},_.omit(a.sJ,["alignZeros","switchAxisPosition","secShow"]))},R.zoom={displayName:a.TQ.zoom.displayName,properties:(0,e.__assign)((0,e.__assign)({},a.TQ.zoom.properties),a.DW.zoom.properties)},R.dataPoint={displayName:(0,v.V)("Visual_DataPoint"),description:(0,v.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,v.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:a.iD.defaultColor,fill:a.iD.defaultDataPointColor,showAllDataPoints:a.iD.showAllDataPoints}},R.layout={displayName:(0,v.V)("Layout"),properties:(0,e.__assign)({},(M&&P||T)&&{seriesOrderReversed:a.iD.seriesOrderReversed})},R.labels={displayName:(0,v.V)("Visual_DataPointsLabels"),description:(0,v.V)("Visual_DataPointsLabelsDescription"),properties:(0,e.__assign)({show:a.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:a.iD.dataColor,labelDisplayUnits:x?a.iD.dataLabelDisplayUnitsWithCustom:a.iD.dataLabelDisplayUnits,valueCustomFormatString:a.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},a.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:(0,v.V)("Visual_Position"),type:{enumeration:l.dt}},enableBackground:a.iD.labelEnableBackground,backgroundColor:a.iD.labelBackgroundColor,backgroundTransparency:a.iD.labelBackgroundTransparency,showAll:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,fontFamily:a.iD.fontFamily,labelDensity:{displayName:(0,v.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:a.iD.showDynamicLabels,dynamicLabelValue:a.iD.dynamicLabelValue,maximumOffset:a.iD.maximumOffset,minimumOffset:a.iD.minimumOffset,enableValueDataLabel:{type:{bool:!0}},showBlankAs:a.iD.showBlankAs,transparency:a.iD.transparency,titleBold:a.iD.bold,titleColor:a.iD.dataColor,titleContentType:{displayName:(0,v.V)("Content"),type:{enumeration:m.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.fontSize,dynamicLabelTitle:a.iD.dynamicLabelValue,titleItalic:a.iD.italic,titleTransparency:a.iD.transparency,titleLabelDisplayUnits:a.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:a.iD.dataLabelCustomFormatString,titleLabelPrecision:a.iD.labelPrecision,titleUnderline:a.iD.underline,titleShowBlankAs:a.iD.showBlankAs,detailBold:a.iD.bold,detailColor:a.iD.dataColor,dynamicLabelDetail:a.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:a.iD.fontFamily,detailFontSize:a.iD.fontSize,detailItalic:a.iD.italic,detailTransparency:a.iD.transparency,detailUnderline:a.iD.underline,detailShowBlankAs:a.iD.showBlankAs,detailLabelDisplayUnits:a.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:a.iD.dataLabelCustomFormatString,detailLabelPrecision:a.iD.labelPrecision,labelContentLayout:a.iD.labelContentLayout,optimizeLabelDisplay:a.iD.optimizeLabelDisplay,labelContainerMaxWidth:a.iD.labelContainerMaxWidth,horizontalAlignment:a.iD.horizontalAlignment,leaderLines:a.iD.leaderLines},(!M||T)&&{leaderLineStyle:a.iD.leaderLineStyle,leaderLineColor:a.iD.leaderLineColor,leaderLineTransparency:a.iD.leaderLineTransparency,leaderLineWidth:a.iD.leaderLineWidth})},R),(M||T)&&{totals:a.TQ.totals}),{seriesLabels:a.TQ.seriesLabels,lineStyles:{displayName:(0,v.V)("Visual_Shapes"),description:(0,v.V)("Visual_ShapesDescription"),properties:{strokeWidth:a.iD.strokeWidth,strokeLineJoin:a.iD.strokeLineJoin,lineStyle:a.iD.lineStyle,showMarker:a.iD.showMarker,showMarkerByDefault:{type:{bool:!0}},markerShape:a.iD.markerShape,markerSize:a.iD.markerSize,markerColor:a.iD.markerColor,showSeries:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},lineChartType:{displayName:(0,v.V)("Visual_Line_Type"),description:(0,v.V)("Visual_Line_Type_Description"),type:{enumeration:r.dt}}}},plotArea:{displayName:(0,v.V)("Visual_Plot"),properties:{transparency:a.iD.transparency,image:a.iD.image}},trend:{displayName:(0,v.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.trendlineDisplayName,lineColor:a.iD.trendlineColor,transparency:a.iD.trendlineTransparency,style:a.iD.trendlineStyle,combineSeries:a.iD.trendlineCombineSeries,useHighlightValues:a.iD.trendlineUseHighlightValues}},scalarKey:{properties:{min:{type:{dateTime:!0}}}},y1AxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_Y"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValue,lineColor:a.iD.referenceLineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_X"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValueWithDateTime,lineColor:a.iD.lineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,shadeRegion:a.iD.shadeRegion,shadeColor:a.iD.shadeColor,shadeTransparency:a.iD.shadeTransparency,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}})}var V=(0,s.wZ)(u(!0,!0,!0));function d(M,P,T){var x,R=T&&T.useModernFormatPane;c.fF.assert(function(){return!M||P},"Non-area stacked line is not supported");var L=u(M,P,void 0,null==T?void 0:T.labelEnhancementsM0),F=[{name:i.R.Category,kind:f.DW.Grouping,displayName:(0,v.V)(R?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,v.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:i.R.Series,kind:f.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Legend"),displayOrder:R?4:2,description:(0,v.V)("Role_DisplayName_LegendDescription")},{name:i.R.Y,kind:f.DW.Measure,displayName:(0,v.V)(R?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:R?2:3,description:(0,v.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];M||F.push({name:i.R.Y2,kind:f.DW.Measure,displayName:(0,v.V)(R?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:R?3:4,description:(0,v.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),F.push({name:i.R.Rows,kind:f.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,v.V)("Role_DisplayName_SmallMultiples_Description")}),F.push({name:i.R.Tooltips,kind:f.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,v.V)("Role_Tooltips_Description"),joinPredicate:0});var j,W,U,k,A={dataRoles:F,objects:L,dataViewMappings:[(k={conditions:[(j={},j[i.R.Series]={max:0},j[i.R.Rows]={min:1},j),(W={},W[i.R.Series]={min:1,max:1},W[i.R.Y]={max:1},W[i.R.Rows]={min:1},W),(U={},U[i.R.Series]={min:1,max:1},U[i.R.Y]={max:0},U[i.R.Rows]={min:1},U)],matrix:{rows:{select:[{composite:[{for:{in:i.R.Rows}}],dataReductionAlgorithm:{window:{count:b.QS}}},{composite:[{for:{in:i.R.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:i.R.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:i.R.Y}},{for:{in:i.R.Tooltips}}]},dataVolume:6}},M||S(k),k),function(){var j,W,U,k={conditions:[(j={},j[i.R.Series]={max:0},j[i.R.Rows]={max:0},j),(W={},W[i.R.Series]={min:1,max:1},W[i.R.Y]={max:1},W[i.R.Rows]={max:0},W),(U={},U[i.R.Series]={min:1,max:1},U[i.R.Y]={max:0},U[i.R.Rows]={max:0},U)],categorical:{categories:{for:{in:i.R.Category}},values:{group:{by:i.R.Series,select:[{for:{in:i.R.Y}},{for:{in:i.R.Tooltips}}]}}}};return M?function(M){c.fF.assertValue(M,"mapping"),c.fF.assertValue(M.categorical,"categorical mapping");var P=M.categorical;P.dataReductionAlgorithm=void 0,P.categories.dataReductionAlgorithm={sample:{}},P.values.group.dataReductionAlgorithm={top:{}}}(k):function(M){if(c.fF.assertValue(M,"mapping"),M.categorical){var P=M.categorical;P.dataReductionAlgorithm={binnedLineSample:{}},P.categories.dataReductionAlgorithm=void 0,P.values.group.dataReductionAlgorithm=void 0}else M.matrix&&c.fF.assertFail("Binned sampling not supported in this configuration")}(k),M||S(k),k}(),function(){var j,W,U;return{conditions:[(j={},j[o.x.rows]={max:0},j[i.R.Series]={max:0},j),(W={},W[o.x.rows]={max:0},W[i.R.Series]={min:1,max:1},W[i.R.Y]={max:1},W[i.R.Y2]={max:0},W),(U={},U[o.x.rows]={max:0},U[i.R.Series]={min:1,max:1},U[i.R.Y]={max:0},U[i.R.Y2]={max:1},U)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}(),function(){var j;return{conditions:[(j={},j[o.x.rows]={max:0},j[i.R.Series]={max:0},j[i.R.Category]={min:1},j[i.R.Y]={min:1,max:1},j[i.R.Y2]={max:0},j)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:i.R.Category}},values:{group:{by:i.R.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}}}(),function(){var j;return{conditions:[(j={},j[i.R.Rows]={max:0},j[i.R.Series]={max:0},j[i.R.Category]={min:1},j[i.R.Y]={min:1,max:1},j[i.R.Y2]={max:0},j)],requiredProperties:[{objectName:h.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:i.R.Category}},values:{group:{by:i.R.Series,select:[{for:{in:h.rj.ExpectedValue}},{for:{in:h.rj.ExpectedLow}},{for:{in:h.rj.ExpectedHigh}},{for:{in:h.rj.RawScore}},{for:{in:h.rj.Anomaly}},{for:{in:h.rj.BatchStart}},{for:{in:h.rj.BatchEnd}}]}}}}}()],sorting:{default:{}},drilldown:{roles:[i.R.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[i.R.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:h.rH}},expandAndSort:[i.R.Category],supportsOnObjectFormatting:!0};return M||(A.objects.referenceLine={displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValue,lineColor:a.iD.referenceLineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}}),!M&&!P&&(A.objects.error=(0,e.__assign)({},a.TQ.error),A.objects.forecast={displayName:(0,v.V)("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:{displayName:(0,v.V)("Name"),description:(0,v.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:(0,v.V)("Visual_Forecast_Confidence_Band_Style"),description:(0,v.V)("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:n.dt}},lineColor:{displayName:(0,v.V)("Visual_Forecast_Line_Color"),description:(0,v.V)("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:a.iD.transparency,style:a.iD.lineStyle,transform:{type:{queryTransform:{}}}}},T&&T.daxTransformEnabled&&(A.objects[h.xn]={displayName:(0,v.V)("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:(x={},x[h.MA.show]=a.iD.show,x[h.MA.displayName]={displayName:(0,v.V)("Name"),description:(0,v.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},x[h.MA.markerShape]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyShape"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:p.dt}},x[h.MA.markerShapeSize]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyShapeSize"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},x[h.MA.markerColor]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyColor"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},x[h.MA.confidenceBandStyle]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeStyle"),description:(0,v.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:n.dt}},x[h.MA.transparency]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeTransparency"),description:(0,v.V)("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},x[h.MA.confidenceBandColor]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeColor"),description:(0,v.V)("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},x[h.K1.CategoryValue]={type:{dateTime:!0}},x[h.K1.Value]={type:{numeric:!0}},x[h.K1.ExpectedValue]={type:{numeric:!0}},x[h.K1.ExpectedLow]={type:{numeric:!0}},x[h.K1.ExpectedHigh]={type:{numeric:!0}},x[h.K1.BatchStart]={type:{dateTime:!0}},x[h.K1.BatchEnd]={type:{dateTime:!0}},x.transform={type:{queryTransform:{}}},x[h.Bx]={type:{exprList:{}}},x[h.It]={type:{bool:!0}},x)})),A}function S(M){var P;_.find(M.conditions,function(T){return _.isEqual(T[i.R.Series],{min:1,max:1})&&_.isEqual(T[i.R.Y],{max:1})})[i.R.Y2]={max:0},_.find(M.conditions,function(T){return _.isEqual(T[i.R.Series],{min:1,max:1})&&_.isEqual(T[i.R.Y],{max:0})})[i.R.Y2]={max:1},M.categorical?P=M.categorical.values.group.select:M.matrix&&(P=M.matrix.values.select),P.splice(1,0,{for:{in:i.R.Y2}})}var g={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{transparency:{objectName:"dataPoint",propertyName:"transparency"},defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:h.Ne},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},defaultToCircle:{objectName:"legend",propertyName:"defaultToCircle"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLineStyle:{objectName:"labels",propertyName:"leaderLineStyle"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{shadeArea:{objectName:"lineStyles",propertyName:"shadeArea"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},lineStyle:{objectName:"lineStyles",propertyName:"lineStyle"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},lineChartType:{objectName:"lineStyles",propertyName:"lineChartType"}}};function C(M,P){if(c.fF.assertValue(M,"mapping"),M.categorical){var T=M.categorical;if(!T)return;T.dataReductionAlgorithm=void 0,T.categories.dataReductionAlgorithm={window:{count:200}},T.values.group.dataReductionAlgorithm={top:{count:60}}}else P&&(0,b.qO)(M)&&(M.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},681454:function(Je,H,t){t.d(H,{R:function(){return c}});var c={Rows:t(664723).x.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"}},551493:function(Je,H,t){t.d(H,{NC:function(){return n},aX:function(){return p},jM:function(){return o}});var e=t(145315),c=t(734287),s=t(884983),f=t(746824),v=t(771803),b=t(51033),h=t(403451),p={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function n(a){return{dataRoles:l(a&&a.cartesianConditionalFormatting,a&&a.useModernFormatPane),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:h.iD.formatString}},legend:h.TQ.legend,dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,c.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:p.gradient,output:{property:"fill",selector:[p.category,p.x,p.y]}}},transparency:h.iD.transparency}},categoryLabels:{displayName:(0,c.V)("Visual_CategoryLabels"),description:(0,c.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},bubbles:{displayName:(0,c.V)("Visual_Bubbles"),description:(0,c.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,c.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,c.V)("Visual_MarkerRangeType"),type:{enumeration:b.zo}}}},mapControls:{displayName:(0,c.V)("Visual_MapControls"),description:(0,c.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,c.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,c.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,c.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,c.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,c.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,c.V)("Visual_MapGeocodingCulture"),type:{enumeration:v.dt}}}},mapStyles:{displayName:(0,c.V)("Visual_MapStyles"),description:(0,c.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,c.V)("Visual_MapTheme"),type:{enumeration:s.dt}},showLabels:{displayName:(0,c.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,c.V)("Visual_HeatMap"),properties:{show:h.iD.show,filterRadius:{displayName:(0,c.V)("Visual_Radius"),type:{numeric:!0}},transparency:h.iD.transparency,unit:{displayName:(0,c.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:f.dt}},color0:{displayName:(0,c.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,c.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,c.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,min:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:p.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:p.series,select:[{bind:{to:p.x}},{bind:{to:p.y}},{bind:{to:p.size}},{bind:{to:p.gradient}},{for:{in:p.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:p.x}},{bind:{to:p.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:p.series,select:[{bind:{to:p.size}},{bind:{to:p.gradient}},{for:{in:p.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{for:{in:p.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:p.series}},{composite:[{bind:{to:p.x}},{bind:{to:p.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:p.tooltips}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:p.size,direction:2}]}},drilldown:{roles:[p.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:p.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[p.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function l(a,i){var m=[{name:p.category,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Location"),description:(0,c.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:p.series,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:p.y,kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Latitude"),description:(0,c.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:p.x,kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Longitude"),description:(0,c.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:p.size,kind:e.DW.Measure,displayName:(0,c.V)(i?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,c.V)(i?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return a||m.push({name:p.gradient,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Gradient"),description:(0,c.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),m.push({name:p.tooltips,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Tooltips"),description:(0,c.V)("Role_Tooltips_Description"),joinPredicate:0}),m}var o={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},826613:function(Je,H,t){t.d(H,{N6:function(){return f},Wj:function(){return c},eT:function(){return s}});var e=t(437705);function c(v){var b=v.dataViewMappings[0];if(b.categorical){var h=b.categorical.categories,p=void 0;if(h.select&&(p=b.categorical.values,_.isEmpty(p.group.select[0].bind.to.items))){h.dataReductionAlgorithm=void 0,p.group.dataReductionAlgorithm=void 0;var l={},r=_.find(h.select,function(i){return"X"===i.bind.to.role}),o=_.find(h.select,function(i){return"Y"===i.bind.to.role});l.x=r?{role:r.bind.to}:void 0,l.y=o?{role:o.bind.to}:void 0,b.categorical.dataReductionAlgorithm={overlappingPointsSample:l}}(!p||_.isEmpty(p.group.by.items))&&b.metadata&&b.metadata.objects&&b.metadata.objects.heatMap&&b.metadata.objects.heatMap.show&&(b.categorical.dataVolume=5)}}function s(v,b){if(v&&b)for(var h=0,p=b;h<p.length;h++){var n=p[h];if(n.categorical&&n.categorical.categories&&n.categorical.categories.select&&!v.Size&&v.Series)return!0}}function f(v){return(0,e.T6)(v,1)}},174665:function(Je,H,t){t.d(H,{d:function(){return v},r:function(){return f}});var e=t(145315),c=t(734287),s=t(403451),f={rows:"Rows",columns:"Columns",values:"Values"},v={dataRoles:[{name:f.rows,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Rows"),description:(0,c.V)("Role_DisplayName_RowsDescription")},{name:f.columns,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Columns"),description:(0,c.V)("Role_DisplayName_ColumnsDescription")},{name:f.values,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,c.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,c.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,c.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,c.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,c.V)("Visual_Grid"),properties:{outlineColor:s.iD.outlineColor,outlineWeight:s.iD.outlineWeight,gridVertical:{displayName:(0,c.V)("Visual_GridVertical"),description:(0,c.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,c.V)("Visual_GridVertical_Color"),description:(0,c.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,c.V)("Visual_GridVertical_Weight"),description:(0,c.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,c.V)("Visual_GridHorizontal"),description:(0,c.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,c.V)("Visual_GridHorizontal_Color"),description:(0,c.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,c.V)("Visual_GridHorizontal_Weight"),description:(0,c.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,c.V)("Visual_RowPadding"),description:(0,c.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,c.V)("Visual_Tablix_ImageHeight"),description:(0,c.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor}},rowHeaders:{displayName:(0,c.V)("Visual_Tablix_RowHeaders"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor,wordWrap:s.iD.wordWrap}},values:{displayName:(0,c.V)("Visual_Tablix_Values"),properties:{outline:s.iD.outline,backColor:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,c.V)("Visual_FontColor"),description:(0,c.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,c.V)("Visual_Tablix_FontColorSecondary"),description:(0,c.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,c.V)("Visual_Tablix_BackColorSecondary"),description:(0,c.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,c.V)("Visual_Tablix_TotalSub"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor}},total:{displayName:(0,c.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor,applyToHeaders:{displayName:(0,c.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor,styleHeader:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[f.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[f.columns],displayName:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,c.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[f.rows],displayName:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,c.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},790960:function(Je,H,t){t.d(H,{Mb:function(){return b},Pt:function(){return p},_i:function(){return h}});var e=t(106266),c=t(145315),s=t(734287),f=t(403451),v={general:{properties:{formatString:f.iD.formatString}},dataLabels:{displayName:(0,s.V)("Visual_DataPointsLabels"),description:(0,s.V)("Visual_DataPointsLabelsDescription"),properties:{color:f.iD.dataColor,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily}},categoryLabels:{displayName:(0,s.V)("Visual_CategoryLabels"),description:(0,s.V)("Visual_CategoryLabelsDescription"),properties:{show:f.iD.show,color:f.iD.categoryColor,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily}},cardTitle:{displayName:(0,s.V)("Visual_CardTitle"),description:(0,s.V)("Visual_CardTitleDescription"),properties:{color:f.iD.dataColor,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily}},card:{displayName:(0,s.V)("Card_ToolTip"),properties:{outline:f.iD.outline,outlineStyle:f.iD.outlineStyle,outlineColor:{displayName:(0,s.V)("Visual_OutlineColor"),description:(0,s.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,s.V)("Visual_OutlineWeight"),description:(0,s.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:(0,s.V)("Visual_MultiRowCard_BarShow"),description:(0,s.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,s.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,s.V)("Visual_MultiRowCard_BarWeight"),description:(0,s.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,s.V)("Visual_Padding"),description:(0,s.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},b=(0,e.wZ)(v),h={dataRoles:[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,s.V)("Role_DisplayName_Fields"),description:(0,s.V)("Role_DisplayName_FieldsDescription")}],objects:v,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},p={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},437705:function(Je,H,t){t.d(H,{DS:function(){return p},T6:function(){return l},YW:function(){return m},gY:function(){return o},hK:function(){return v},vx:function(){return n}});var e=t(487496),c=t(664723),s=t(424420),f=t(889093);function v(u){return(0,f.uS)(u)&&u.for?h(u.for.in,3):(0,f.Ci)(u)&&u.bind?h(u.bind.to,3):void 0}function b(u){return u&&u.scalarKeyInfo&&u.scalarKeyInfo.hasScalarKey||(0,e.Hx)(u&&u.type)?2:1}function h(u,V){var d=[];if(!u||u.role===c.x.tooltips||_.isEmpty(u.items))return d;for(var S=u.activeItems,g=0,y=u.items;g<y.length;g++){var C=y[g];if(!_.some(S)||_.includes(S,C.queryName)){var E=0;u.role===s.Pn.goal&&(E=6),d.push({selectName:C.queryName,kind:V,roleKind:E})}}return d}function p(u){var S,V=[],d=u.categorical.categories;(0,f.uS)(d)&&d.for&&d.for.in&&(S=b(_.first(d.for.in.items)),V.push.apply(V,h(d.for.in,S)));return V}function n(u){var V=[],d=u.categorical.values;if(d&&d.group){var S=d.group;if(V.push.apply(V,h(S.by,1)),S.select)for(var g=0,y=S.select;g<y.length;g++){var E=v(y[g]);_.isEmpty(E)||V.push.apply(V,E)}}if(d&&d.select)for(var M=0,P=d.select;M<P.length;M++)E=v(P[M]),_.isEmpty(E)||V.push.apply(V,E);return V}function l(u,V){var d=_.first(u.dataViewMappings);if(!d||!d.categorical||!d.categorical.categories)return{subjectKind:V,error:2,bindings:void 0};var S=p(d);return S.push.apply(S,n(d)),_.isEmpty(S)?{subjectKind:V,error:2,bindings:void 0}:{subjectKind:V,error:void 0,bindings:S}}function o(u,V){var d=function(u){for(var V=[],S=[],g=[],y=0,C=u.rows.select;y<C.length;y++){var E=C[y];if((0,f.Ci)(E)&&E.bind&&E.bind.to){var P=b(_.first(E.bind.to.items));g.push.apply(g,h(E.bind.to,P))}else if((0,f.k2)(E)&&E.composite&&E.composite)for(var T=0,x=E.composite;T<x.length;T++){var R=x[T];(0,f.uS)(R)&&R.for&&R.for.in&&(P=b(_.first(R.for.in.items)),S.push.apply(S,h(R.for.in,P)))}}V.push.apply(V,S),V.push.apply(V,g);var D=u.values;if(D&&D.select)for(var L=0,F=D.select;L<F.length;L++){var O=v(F[L]);_.isEmpty(O)||V.push.apply(V,O)}return V}(u);return _.isEmpty(d)?{subjectKind:V,error:2,bindings:void 0}:{subjectKind:V,error:void 0,bindings:d}}function a(u){for(var V=[],d=u.activeItems,S=0,g=u.items;S<g.length;S++){var y=g[S];if(!_.some(d)||_.includes(d,y.queryName)){var C=0;switch(u.role){case"MinValue":C=8;break;case"MaxValue":C=9;break;case"TargetValue":C=6}V.push({selectName:y.queryName,kind:3,roleKind:C})}}return V}function i(u,V){var d=[];if(!u||!V)return d;var S,g=0,y=0;switch(u.role){case"MinValue":V.min&&(S=V.min.toString(),g=4,y=8);break;case"MaxValue":V.max&&(S=V.max.toString(),g=4,y=9);break;case"TargetValue":V.target&&(S=V.target.toString(),g=4,y=6)}return S&&d.push({selectName:S,kind:g,roleKind:y}),d}function m(u){var V=[];if(!u||!u.categorical||!u.categorical.values)return V;var d=u.categorical.values;if(!d||!d.select)return V;for(var S=0,g=d.select;S<g.length;S++){var y=g[S];if((0,f.Ci)(y)&&y.bind){var C=y.bind.to;C&&C.items?V.push.apply(V,a(C)):C&&void 0===C.items&&u.metadata&&u.metadata.objects&&u.metadata.objects.axis&&V.push.apply(V,i(C,u.metadata.objects.axis))}}return V}},451434:function(Je,H,t){t.d(H,{JT:function(){return y},LU:function(){return F},QP:function(){return O},RI:function(){return d},Uo:function(){return C},a5:function(){return S},h:function(){return M},hx:function(){return V},j0:function(){return N},mr:function(){return g},tP:function(){return E},tp:function(){return u}});var h,p,n,l,r,o,a,i,m,e=t(226514),c=t(734287),s=t(993517),f=t(403451),v=t(495944),b=t(680187),u={fill:b.OV.fill,outline:b.OV.outline,text:v.nm.text,shape:b.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:b.OV.shadow,glow:b.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},V=(0,e.__assign)((0,e.__assign)({},u),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}}),d=(0,e.__assign)((0,e.__assign)({},u),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),S={fill:b.eM.fill,outline:b.eM.outline,text:v.Vz.text,shape:b.eM.shape,layout:"layout",shadow:b.eM.shadow,glow:b.eM.glow,rotation:"rotation"},g=(0,e.__assign)((0,e.__assign)({},S),{pages:"pages"}),y=(0,e.__assign)((0,e.__assign)({},S),{bookmarks:"bookmarks"}),C=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},b.Mn),v.WI),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),E=(0,e.__assign)((0,e.__assign)({},C),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"}),M=(0,e.__assign)((0,e.__assign)({},C),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"}),P=((h={show:f.iD.show})[b.Mn.fillColor]=f.iD.fill,h[b.Mn.fillTransparency]=f.iD.transparency,h),T=((p={show:f.iD.show})[v.WI.fontColor]=f.iD.fontColor,p[v.WI.fontSize]=f.iD.fontSize,p[v.WI.fontFamily]=f.iD.fontFamily,p[v.WI.underline]=f.iD.underline,p[v.WI.italic]=f.iD.italic,p[v.WI.bold]=f.iD.bold,p[v.WI.textVerticalAlignment]={displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},p[v.WI.textHorizontalAlignment]=f.iD.horizontalAlignment,p[v.WI.textLeftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},p[v.WI.textRightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},p[v.WI.textTopMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},p[v.WI.textBottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},p),x=((n={})[C.orientation]={displayName:(0,c.V)("Slicer_Orientation"),type:{enumeration:s.d}},n[C.rowCount]={displayName:(0,c.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},n[C.columnCount]={displayName:(0,c.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},n[C.cellPadding]={displayName:(0,c.V)("Visual_Padding"),type:{integer:!0}},n),R=((l={})[C.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},l[C.shapeRotation]={displayName:(0,c.V)("Visual_ShapeRotation"),type:{integer:!0}},l[C.textRotation]={displayName:(0,c.V)("Visual_TextRotation"),type:{integer:!0}},l),D=((r={})[E.showHiddenPages]={displayName:(0,c.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},r[E.showTooltipPages]={displayName:(0,c.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},r[E.showByDefault]={displayName:(0,c.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},r[E.showPage]={displayName:(0,c.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0},r),L=((o={})[M.bookmarkGroup]={displayName:(0,c.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},o[M.allowDeselectionBookmark]={displayName:(0,c.V)("Visual_AllowDeselection"),description:(0,c.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},o[M.deselectionBookmark]={displayName:(0,c.V)("Visual_LaunchOnDeselection"),description:(0,c.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},o[M.hideDeselectedBookmark]={displayName:(0,c.V)("Visual_HideDeselectionBookmark"),description:(0,c.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},o[M.selectedBookmark]={type:{text:!0}},o),F={default:"default",hover:"hover",press:"press",selected:"selected"},A=((a={})[S.fill]={displayName:(0,c.V)("Visual_Fill"),properties:P},a[S.outline]=b.zC.outline,a[S.text]={displayName:(0,c.V)("Text"),properties:T},a[S.shape]=b.zC.shape,a[S.layout]={displayName:(0,c.V)("Small_Multiples_Layout"),properties:x},a[S.shadow]=b.zC.shadow,a[S.glow]=b.zC.glow,a[S.rotation]={displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:R},a),O={objects:(0,e.__assign)((0,e.__assign)({},A),(i={},i[g.pages]={displayName:(0,c.V)("Pages"),properties:D},i)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},N={objects:(0,e.__assign)((0,e.__assign)({},A),(m={},m[y.bookmarks]={displayName:(0,c.V)("ExplorationBookmarksPane_Title"),properties:L},m)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},693191:function(Je,H,t){t.d(H,{R:function(){return l},t:function(){return r}});var e=t(106266),c=t(145315),s=t(734287),f=t(707903),v=t(518284),b=t(635528),h=t(834436),p=t(403451),n=t(174665);function l(o){return{dataRoles:[{name:n.r.rows,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Rows"),description:(0,s.V)("Role_DisplayName_RowsDescription")},{name:n.r.columns,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Columns"),description:(0,s.V)("Role_DisplayName_ColumnsDescription")},{name:n.r.values,kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:p.iD.formatString}},grid:{displayName:(0,s.V)("Visual_Grid"),properties:{outline:p.iD.outline,outlineStyle:p.iD.outlineStyle,outlineColor:p.iD.outlineColor,outlineWeight:p.iD.outlineWeight,gridVertical:{displayName:(0,s.V)("Visual_GridVertical"),description:(0,s.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,s.V)("Visual_GridVertical_Color"),description:(0,s.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,s.V)("Visual_GridVertical_Weight"),description:(0,s.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,s.V)("Visual_GridHorizontal"),description:(0,s.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,s.V)("Visual_GridHorizontal_Color"),description:(0,s.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,s.V)("Visual_GridHorizontal_Weight"),description:(0,s.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,s.V)("Visual_RowPadding"),description:(0,s.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,s.V)("Visual_General_Properties_Height"),description:(0,s.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,s.V)("Visual_General_Properties_Width"),description:(0,s.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,s.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:p.iD.outline,outlineStyle:p.iD.outlineStyle,outlineColor:p.iD.outlineColor,outlineWeight:p.iD.outlineWeight,fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,alignment:p.iD.textAlignment,titleAlignment:{displayName:(0,s.V)("Visual_TextAlignment_Title"),type:{enumeration:h.dt}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,s.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,s.V)("Visual_Tablix_UrlIcon"),description:(0,s.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap}},rowHeaders:{displayName:(0,s.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},outline:p.iD.outline,outlineStyle:p.iD.outlineStyle,outlineColor:p.iD.outlineColor,outlineWeight:p.iD.outlineWeight,fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,alignment:p.iD.textAlignment,stepped:{displayName:(0,s.V)("Visual_PivotTable_SteppedLayout"),description:(0,s.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,s.V)("Visual_PivotTable_SteppedLayoutIndentation"),description:(0,s.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,s.V)("Visual_Tablix_UrlIcon"),description:(0,s.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,s.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,s.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,s.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}}}},values:{displayName:(0,s.V)("Visual_Tablix_Values"),properties:{outline:p.iD.outline,outlineStyle:p.iD.outlineStyle,outlineColor:p.iD.outlineColor,outlineWeight:p.iD.outlineWeight,backColor:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,fontColorPrimary:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,s.V)("Visual_Tablix_FontColorSecondary"),description:(0,s.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,s.V)("Visual_Tablix_BackColorSecondary"),description:(0,s.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,s.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,s.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,s.V)("Visual_Tablix_UrlIcon"),description:(0,s.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:p.iD.wordWrap,valuesOnRow:{displayName:(0,s.V)("Visual_PivotTable_ValuesOnRow"),description:(0,s.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,s.V)("Visual_Tablix_Icons"),description:(0,s.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,s.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,s.V)("Visual_Tablix_TotalSub"),properties:{outline:p.iD.outline,fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,rowSubtotals:{type:{bool:!0},displayName:(0,s.V)("Visual_SubtotalRow"),description:(0,s.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,s.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,s.V)("Visual_SubtotalRow_Position"),type:{enumeration:f.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,s.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,s.V)("Visual_SubtotalColumn"),description:(0,s.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,s.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,s.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,s.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,s.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:p.iD.outline,fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,applyToHeaders:{displayName:(0,s.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,s.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,applyToHeaders:{displayName:(0,s.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,s.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:p.iD.tablixFontColor,fontFamily:p.iD.fontFamily,fontSize:p.iD.fontSize,bold:p.iD.bold,italic:p.iD.italic,underline:p.iD.underline,backColor:p.iD.backColor,applyToHeaders:{displayName:(0,s.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:p.iD.labelPrecision,fontColor:p.iD.tablixFontColor,backColor:p.iD.backColor,alignment:p.iD.textAlignment,styleHeader:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,s.V)("Visual_ConditionalFormatting_DataBars"),description:(0,s.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:(0,s.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,s.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:v.dt}},dataColor:{displayName:(0,s.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:p.iD.strokeWidth,markers:{displayName:(0,s.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:b.dt}},markerColor:p.iD.markerColor,markerSize:{displayName:(0,s.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:p.iD.markerShape}},accessibility:{displayName:(0,s.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,s.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[n.r.columns],displayName:(0,s.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,s.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,s.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[n.r.rows],displayName:(0,s.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,s.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,s.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[n.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[n.r.rows,n.r.columns]},expandCollapse:{roles:[n.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==o||!o.fieldParameterDynamicSlicer)},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}var r=(0,e.wZ)(l().objects)},889093:function(Je,H,t){t.d(H,{Bx:function(){return l},Ci:function(){return v},_F:function(){return r},k2:function(){return h},pn:function(){return o},uS:function(){return b},vR:function(){return p}});var e=t(474505),c=t(698129),s=t(633888),f=t(518284);function v(a){return a&&!!a.bind}function b(a){return a&&!!a.for}function h(a){return a&&!!a}function p(a,i){var m=a.metadata.objects;if(!m||!m.valueAxis||!1!==m.valueAxis.sharedAxis||!0!==m.valueAxis.scaleToFit){var u=a.matrix,V=n(u.values.select,i),d=u.rows.values;_.isEmpty(d)||V.push.apply(V,n(d.select,i)),l(V,{min:!0,max:!0})}}function n(a,i){return a.filter(function(m){if(!b(m))return!1;var u=m.for.in.role;return _.some(i,function(V){return V===u})})}function l(a,i){for(var m=0,u=a;m<u.length;m++){var S=(0,e.eD)(u[m]).items;if(!_.isEmpty(S))for(var g=0,y=S;g<y.length;g++){var C=y[g];C.hidden||(C.aggregates=C.aggregates||[]).push(i)}}}function r(a){var i=a.matrix.rows.select[0].dataReductionAlgorithm;if(i.window){var m=a.metadata&&a.metadata.objects,u=m&&m[s.Xi];u&&(i.window.count=(0,s.r8)(u.rowCount||s.UE,u.columnCount||s.ZO))}}function o(a,i){var m=_.filter(a.metadata.columns,function(u){var V,d,S,g=null===(S=null===(d=null===(V=u.type)||void 0===V?void 0:V.misc)||void 0===d?void 0:d.sparkline)||void 0===S?void 0:S.groupingType;if(!g)return!1;var y=g.temporal||g.dateTime||g.numeric,C=(0,c.NA)(u.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return y&&C===f.$Q});_.forEach(m,function(u){var V=_.find(i,function(d){return u.queryName===d.queryName});V&&(V.sparklineInfo={includeMinGroupingInterval:!0})})}},886883:function(Je,H,t){t.d(H,{Fp:function(){return v},OF:function(){return b}});var e=t(106266),c=t(734287),s=t(403451),f={inputBox:{displayName:(0,c.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,c.V)("Visual_Qna_QuestionFontColor"),description:(0,c.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,c.V)("Visual_Qna_QuestionFontSize"),description:(0,c.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:s.iD.bold,questionItalic:s.iD.italic,questionUnderline:s.iD.underline,questionFontFamily:{displayName:(0,c.V)("Visual_Qna_QuestionFontFamily"),description:(0,c.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,c.V)("Visual_Qna_HoverColor"),description:(0,c.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,c.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,c.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,c.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,c.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,c.V)("Visual_Qna_WarningUnderlineColor"),description:(0,c.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,c.V)("Visual_Qna_RestatementFontColor"),description:(0,c.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,c.V)("Visual_Qna_RestatementFontSize"),description:(0,c.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,c.V)("Visual_Qna_RestatementFontFamily"),description:(0,c.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,c.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,c.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,c.V)("Visual_Qna_Suggestions"),properties:{show:s.iD.show,headerFontColor:{displayName:(0,c.V)("Visual_Qna_HeaderFontColor"),description:(0,c.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,c.V)("Visual_Qna_HeaderFontSize"),description:(0,c.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:s.iD.bold,headerItalic:s.iD.italic,headerUnderline:s.iD.underline,headerFontFamily:{displayName:(0,c.V)("Visual_Qna_HeaderFontFamily"),description:(0,c.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,c.V)("Visual_Qna_CardBackgroundColor"),description:(0,c.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,c.V)("Visual_Qna_CardFontColor"),description:(0,c.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,c.V)("Visual_Qna_CardFontSize"),description:(0,c.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:s.iD.bold,cardItalic:s.iD.italic,cardUnderline:s.iD.underline,cardFontFamily:{displayName:(0,c.V)("Visual_Qna_CardFontFamily"),description:(0,c.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},v=(0,e.wZ)(f),b={objects:f,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},944854:function(Je,H,t){t.d(H,{Cg:function(){return h},eH:function(){return p}});var e=t(145315),c=t(734287),s=t(149362),f=t(403451),v=t(106266),b=(0,s.i)([{value:0,displayName:(0,c.V)("Top")},{value:1,displayName:(0,c.V)("Bottom")}]),h={advancedEditModeSupport:2,objects:{toolbar:{displayName:(0,c.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:f.iD.show,pageNavigation:{displayName:(0,c.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,c.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,c.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,c.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,c.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:b}}}},export:{displayName:(0,c.V)("Export"),properties:{show:f.iD.show,exportExcel:{displayName:(0,c.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,c.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,c.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,c.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,c.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,c.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,c.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,c.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,c.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:f.iD.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Parameters"),description:(0,c.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0},p=(0,v.wZ)(h.objects)},36629:function(Je,H,t){t.d(H,{CS:function(){return a},TL:function(){return p},il:function(){return i},r4:function(){return n}});var e=t(226514),c=t(787941),s=t(106266),f=t(145315),v=t(734287),b=t(51033),h=t(403451),p={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"};function n(m){return{dataRoles:l(m&&m.cartesianConditionalFormatting,m&&m.useModernFormatPane),objects:o,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:f.DW.Measure},Y:{max:1,kind:f.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:f.DW.Measure},Y:{max:1,kind:f.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:f.DW.Measure},Y:{max:1,kind:f.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},r(!0,!0,!1),r(!0,!1,!0),r(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:f.DW.Measure},Y:{max:1,kind:f.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:f.DW.Measure},Y:{max:1,kind:f.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[p.category,p.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function l(m,u){var V=[{name:p.category,kind:f.DW.Grouping,displayName:(0,v.V)(u?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,v.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:p.series,kind:f.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Legend"),displayOrder:u?4:2,description:(0,v.V)("Role_DisplayName_LegendDescription")},{name:p.x,kind:f.DW.GroupingOrMeasure,displayName:(0,v.V)("Role_DisplayName_X"),displayOrder:u?2:3,description:(0,v.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:p.y,kind:f.DW.GroupingOrMeasure,displayName:(0,v.V)("Role_DisplayName_Y"),displayOrder:u?3:4,description:(0,v.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:p.size,kind:f.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,v.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return m||V.push({name:p.gradient,kind:f.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,v.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),V.push({name:p.play,kind:f.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Play"),displayOrder:7}),V.push({name:p.tooltips,kind:f.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,v.V)("Role_Tooltips_Description"),joinPredicate:0}),V}function r(m,u,V){c.fF.assert(function(){return m||u},"At least one of groupedX or groupedY must be true");var d={min:1,max:1,kind:f.DW.Grouping};V&&(d={min:1,kind:f.DW.Grouping});var g={max:1,kind:f.DW.Measure},y=m?d:g,C=u?{min:1,max:1,kind:f.DW.Grouping}:g,E={bind:{to:"X"}},P={bind:{to:"Y"}},T=[],x=[];m?T.push(V?{for:{in:"X"}}:E):x.push(E),u?T.push(P):x.push(P);var R,D=T.length;return D>=2||1===D&&m&&V?R={composite:T}:1===D&&(R=T[0]),{conditions:[{Category:{max:0},Series:{max:1},X:y,Y:C,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:y,Y:C,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},R],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:(0,e.__spreadArray)((0,e.__spreadArray)([],x||[],!0),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],!1)},dataVolume:4}}}var o={general:{displayName:(0,v.V)("Visual_General"),properties:{formatString:h.iD.formatString,responsive:h.iD.responsive,responsiveLegacy:h.iD.responsiveLegacy,dataVolume:{displayName:(0,v.V)("Visual_DataVolume"),description:(0,v.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:h.TQ.legend.displayName,description:h.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},h.TQ.legend.properties),{showGradientLegend:h.iD.showGradientLegend})},categoryAxis:{displayName:(0,v.V)("Visual_XAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,axisType:h.iD.axisType,showAxisTitle:h.iD.showAxisTitle_X,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,logAxisScale:h.iD.logAxisScale,preferredCategoryWidth:h.iD.preferredCategoryWidth,maxMarginFactor:h.iD.maxMarginFactor,treatNullsAsZero:{displayName:(0,v.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,v.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,innerPadding:h.iD.innerPadding}},valueAxis:{displayName:(0,v.V)("Visual_YAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,treatNullsAsZero:{displayName:(0,v.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,v.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:h.iD.showAxisTitle_Y,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,logAxisScale:h.iD.logAxisScale,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,switchAxisPosition:h.iD.switchAxisPosition}},zoom:h.TQ.zoom,dataPoint:{displayName:(0,v.V)("Visual_DataPoint"),description:(0,v.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,v.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:(0,v.V)("Visual_Shapes"),description:(0,v.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,v.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,v.V)("Visual_MarkerRangeType"),type:{enumeration:b.zo}},markerShape:h.iD.markerShape,showSeries:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:(0,v.V)("Visual_Plot"),properties:{transparency:h.iD.transparency,image:h.iD.image}},categoryLabels:{displayName:(0,v.V)("Visual_CategoryLabels"),description:(0,v.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},trend:{displayName:(0,v.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.trendlineDisplayName,lineColor:h.iD.trendlineColor,transparency:h.iD.trendlineTransparency,style:h.iD.trendlineStyle,combineSeries:h.iD.trendlineCombineSeries}},xAxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_X"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_Y"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},referenceLine:{displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},colorBorder:{displayName:(0,v.V)("Visual_ColorBorder"),properties:{show:h.iD.show}},fillPoint:{displayName:(0,v.V)("Visual_FillPoint"),properties:{style:h.iD.fillPointStyle}},colorByCategory:{displayName:(0,v.V)("Visual_ColorByCategory"),properties:{show:h.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,v.V)("Visual_Scatter_SymmetryShading"),description:(0,v.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:h.iD.show,displayName:{displayName:(0,v.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,v.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,v.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,v.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,v.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:h.iD.transparency}},ratioLine:{displayName:(0,v.V)("Visual_Scatter_RatioLine"),description:(0,v.V)("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:h.iD.show,displayName:{displayName:(0,v.V)("Name"),type:{text:!0}},lineColor:h.iD.referenceLineColor,transparency:h.iD.lineTransparency,style:h.iD.lineStyle}}},a=(0,s.wZ)(o),i={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},465829:function(Je,H,t){t.d(H,{A:function(){return b},b:function(){return v}});var e=t(106266),c=t(734287),s=t(149362),f=t(403451),v={dataViewMappings:[],objects:{scorecard:{displayName:(0,c.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,c.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,c.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,c.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,s.i)([{displayName:(0,c.V)("Tile_Generic"),value:"tile"},{displayName:(0,c.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:f.iD.backColor,foregroundColor:f.iD.fontColor,fontFamily:f.iD.fontFamily,tableBackgroundColor:f.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,c.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,c.V)("ThemeDialog_SubSection_Header"),properties:{show:f.iD.show,showTitle:{type:{bool:!0},displayName:(0,c.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,c.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,c.V)("Cards")},foregroundColor:f.iD.fontColor,backgroundColor:f.iD.backColor}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{show:f.iD.show,foregroundColor:f.iD.fontColor}},goals:{displayName:(0,c.V)("MetricsName_New"),properties:{foregroundColor:f.iD.fontColor,backgroundColor:f.iD.backColor}},detailsPane:{displayName:(0,c.V)("DetailsPane"),properties:{foregroundColor:f.iD.fontColor,backgroundColor:f.iD.backColor,cardForegroundColor:{displayName:(0,c.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,c.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,c.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,c.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,c.V)("Visualization"),properties:{backgroundColor:f.iD.backColor,backgroundTransparency:f.iD.transparency,showScorecardName:{displayName:(0,c.V)("ScorecardDialog_Name"),description:(0,c.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:f.iD.fontFamily,scorecardNameFontSize:f.iD.titleFontSize,scorecardNameFontColor:f.iD.fontColor,scorecardNameBold:f.iD.bold,scorecardNameItalic:f.iD.italic,scorecardNameUnderline:f.iD.underline,currentValueFontFamily:f.iD.fontFamily,currentValueFontSize:f.iD.titleFontSize,currentValueFontColor:f.iD.fontColor,currentValueBold:f.iD.bold,currentValueItalic:f.iD.italic,currentValueUnderline:f.iD.underline,targetValueFontFamily:f.iD.fontFamily,targetValueFontSize:f.iD.titleFontSize,targetValueFontColor:f.iD.fontColor,targetValueBold:f.iD.bold,targetValueItalic:f.iD.italic,targetValueUnderline:f.iD.underline,showGrowth:{displayName:(0,c.V)("ScorecardVisual_Growth"),description:(0,c.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:f.iD.fontFamily,growthFontSize:f.iD.titleFontSize,growthFontColor:f.iD.fontColor,growthBold:f.iD.bold,growthItalic:f.iD.italic,growthUnderline:f.iD.underline,showGoalName:{displayName:(0,c.V)("MetricName"),description:(0,c.V)("MetricName"),type:{bool:!0}},goalNameFontFamily:f.iD.fontFamily,goalNameFontSize:f.iD.titleFontSize,goalNameFontColor:f.iD.fontColor,goalNameBold:f.iD.bold,goalNameItalic:f.iD.italic,goalNameUnderline:f.iD.underline,showOwner:{displayName:(0,c.V)("Owner_Lowercase"),description:(0,c.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,c.V)("Role_DisplayName_Size"),description:(0,c.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,c.V)("Due"),description:(0,c.V)("Due"),type:{bool:!0}},dueDateFontFamily:f.iD.fontFamily,dueDateFontSize:f.iD.titleFontSize,dueDateFontColor:f.iD.fontColor,dueDateBold:f.iD.bold,dueDateItalic:f.iD.italic,dueDateUnderline:f.iD.underline,showStatus:{displayName:(0,c.V)("Status"),description:(0,c.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,c.V)("Notes"),description:(0,c.V)("Notes"),type:{bool:!0}},notesFontSize:f.iD.titleFontSize,notesFontColor:f.iD.fontColor,showVisualization:{displayName:(0,c.V)("Visualization"),description:(0,c.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,c.V)("Visual_Legend"),description:(0,c.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,c.V)("ScorecardVisual_TargetLine"),description:(0,c.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:f.iD.fontColor,currentLineColor:f.iD.fontColor,currentAreaShaded:{displayName:(0,c.V)("Visual_Shapes_ShadeArea"),description:(0,c.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,c.V)("Visual_XAxis_Hyphen"),description:(0,c.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:f.iD.fontFamily,xAxisFontSize:f.iD.titleFontSize,xAxisFontColor:f.iD.fontColor,xAxisBold:f.iD.bold,xAxisItalic:f.iD.italic,xAxisUnderline:f.iD.underline,showYAxis:{displayName:(0,c.V)("Visual_YAxis_Hyphen"),description:(0,c.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:f.iD.fontFamily,yAxisFontSize:f.iD.titleFontSize,yAxisFontColor:f.iD.fontColor,yAxisBold:f.iD.bold,yAxisItalic:f.iD.italic,yAxisUnderline:f.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},b=(0,e.wZ)(v.objects)},75033:function(Je,H,t){t.d(H,{Ic:function(){return g},W6:function(){return u},MI:function(){return i},B3:function(){return m},WO:function(){return y},W$:function(){return a}});var n,l,r,o,e=t(226514),c=t(106266),s=t(734287),v=(0,t(149362).i)([{value:"flat",displayName:function(E){return E.get("Visual_StrokeCap_Flat")}},{value:"round",displayName:function(E){return E.get("Visual_StrokeLineJoin_Round")}}]),b=t(403451),h=t(495944),p=t(680187),a={fill:p.OV.fill,outline:p.OV.outline,text:h.nm.text,shape:(0,e.__assign)((0,e.__assign)({},p.OV.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:p.OV.shadow,glow:p.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},i=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},p.eM),h.Vz),{rotation:"rotation"}),m=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},p.Mn),h.WI),{linecapType:"linecapType",rotation:"angle"}),u={default:"default"},V=((n={show:b.iD.show})[p.Mn.fillColor]=b.iD.fill,n[p.Mn.fillTransparency]=b.iD.transparency,n),d=((l={})[m.rotation]={displayName:(0,s.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},l[m.shapeRotation]={displayName:(0,s.V)("Visual_ShapeRotation"),type:{integer:!0}},l[m.textRotation]={displayName:(0,s.V)("Visual_TextRotation"),type:{integer:!0}},l),S=((r={})[i.fill]={displayName:(0,s.V)("Visual_Fill"),properties:V},r[i.outline]=p.zC.outline,r[i.text]=h.p.text,r[i.shape]={displayName:(0,s.V)("Visual_Shape"),properties:(0,e.__assign)((0,e.__assign)({},p.zC.shape.properties),(o={},o[m.linecapType]={displayName:(0,s.V)("LinecapType"),type:{enumeration:v}},o))},r[i.shadow]=p.zC.shadow,r[i.glow]=p.zC.glow,r[i.rotation]={displayName:(0,s.V)("Visual_BasicShape_Rotate"),properties:d},r),g={objects:S,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},y=(0,c.wZ)(S)},292638:function(Je,H,t){t.d(H,{L:function(){return l},x:function(){return p}});var e=t(106266),c=t(145315),s=t(734287),f=t(636490),v=t(665226),b=t(403451),h={general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:b.iD.formatString}},legend:b.TQ.legend,dataPoint:{displayName:(0,s.V)("Visual_DataPoint"),description:(0,s.V)("Visual_DataPointDescription"),properties:{defaultColor:b.iD.defaultColor,showAllDataPoints:b.iD.showAllDataPoints,fill:b.iD.defaultCategoryColor,fillRule:{displayName:(0,s.V)("Role_DisplayName_Values"),description:(0,s.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:v.S3,output:{property:"fill",selector:[v.W3]}}}}},shape:{displayName:(0,s.V)("Visual_Shape"),description:(0,s.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:f.t_}}},projectionEnum:{displayName:(0,s.V)("Visual_ShapeMap_Projection"),description:(0,s.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:v.dt}}}},defaultColors:{displayName:(0,s.V)("Visual_ShapeMap_DefaultColor"),description:(0,s.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,s.V)("Visual_ShapeMap_DefaultShow"),description:(0,s.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,s.V)("Visual_ShapeMap_DefaultColorColor"),description:(0,s.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:(0,s.V)("Visual_ShapeMap_BorderColor"),description:(0,s.V)("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:(0,s.V)("Visual_ShapeMap_BorderThickness"),description:(0,s.V)("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:(0,s.V)("Visual_ShapeMap_Zoom"),description:(0,s.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,s.V)("Visual_ShapeMap_AutoZoom"),description:(0,s.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,s.V)("Visual_ShapeMap_SelectionZoom"),description:(0,s.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,s.V)("Visual_ShapeMap_ManualZoom"),description:(0,s.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function p(){var r;return{dataRoles:[{name:v.W3,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Location"),description:(0,s.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:v.ac,kind:c.DW.Grouping,displayName:(0,s.V)("Role_DisplayName_Legend"),description:(0,s.V)("Role_DisplayName_LegendDescription")},{name:v.S3,kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Gradient"),description:(0,s.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:v.jH,kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:h,dataViewMappings:[{conditions:[(r={},r[v.W3]={min:0,max:1},r[v.ac]={min:0,max:1},r[v.S3]={min:0,max:1},r)],categorical:{categories:{for:{in:v.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:v.ac,select:[{bind:{to:v.S3}},{for:{in:v.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:v.S3,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}var l=(0,e.wZ)(h)},684282:function(Je,H,t){t.d(H,{st:function(){return m},gO:function(){return i},CT:function(){return o}});var e=t(106266),c=t(145315),s=t(734287),f=t(928643),v=t(725377),b=t(505328),p=(0,t(149362).i)([{value:0,displayName:function(g){return g.get("Icon_Chevron")}},{value:1,displayName:function(g){return g.get("Icon_PlusMinus")}},{value:2,displayName:function(g){return g.get("Icon_Caret")}}]),n=t(759510),l=t(391980),r=t(403451),o={value:"Values"},a={general:{displayName:(0,s.V)("Visual_General"),properties:{responsive:r.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:r.iD.formatString,outlineColor:r.iD.outlineColor,outlineWeight:r.iD.outlineWeight,orientation:{displayName:(0,s.V)("Slicer_Orientation"),type:{enumeration:l.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:b.dt},filterState:!0},relativePeriod:{type:{enumeration:v.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:v._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,s.V)("Style"),type:{enumeration:n.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,s.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,s.V)("Visual_SelectAll"),description:(0,s.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,s.V)("Visual_MultiSelectWithCtrl"),description:(0,s.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,s.V)("Visual_StrictSingleSelect"),description:(0,s.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,s.V)("Slicer_Header"),properties:{show:r.iD.show,fontColor:r.iD.fontColor,text:{displayName:(0,s.V)("Visual_Title_Text"),description:(0,s.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:r.iD.outline,outlineStyle:r.iD.outlineStyle,textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,fontFamily:r.iD.fontFamily,showRestatement:{displayName:(0,s.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,s.V)("PendingIcon"),properties:{show:r.iD.show,color:r.iD.color,transparency:r.iD.transparency,position:{displayName:(0,s.V)("Visual_LegendPosition"),type:{enumeration:f.dt}},size:{displayName:(0,s.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,s.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,s.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,s.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,s.V)("SearchBox"),properties:{outline:r.iD.outline,outlineStyle:r.iD.outlineStyle,borderColor:r.iD.outlineColor,background:{displayName:(0,s.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,s.V)("Items"),properties:{fontColor:r.iD.fontColor,background:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:r.iD.outline,outlineStyle:r.iD.outlineStyle,textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,fontFamily:r.iD.fontFamily,expandCollapseToggleType:{displayName:(0,s.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:p}},steppedLayoutIndentation:{displayName:(0,s.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,s.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,s.V)("Slicer_DateInputs"),properties:{fontColor:r.iD.fontColor,textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,fontFamily:r.iD.fontFamily,background:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,s.V)("Slicer_NumericInputs"),properties:{fontColor:r.iD.fontColor,textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},bold:r.iD.bold,italic:r.iD.italic,underline:r.iD.underline,fontFamily:r.iD.fontFamily,background:{displayName:(0,s.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:(0,s.V)("Slicer_Slider"),properties:{show:r.iD.show,color:{displayName:(0,s.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},handleFillColor:{displayName:(0,s.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,s.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:{displayName:(0,s.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:(0,s.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,s.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,s.V)("RelativeSlicer_AnchorDate"),description:(0,s.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},i=(0,e.wZ)(a);function m(S){return{dataRoles:[{name:o.value,kind:c.DW.Grouping,displayName:(0,s.V)("Field"),description:(0,s.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:a,drilldown:{roles:[o.value],suppresDrillOperations:!0},dataViewMappings:d(),expandCollapse:V(S),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function V(S){return{roles:[o.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==S||!S.fieldParameterDynamicSlicer)}}function d(){var S,g,y=[{conditions:[(S={},S[o.value]={max:1,suppressDrill:!0},S)],categorical:{categories:{for:{in:o.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return y.unshift({conditions:[(g={},g[o.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},g)],matrix:{rows:{for:{in:o.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),y}},225474:function(Je,H,t){t.d(H,{D_:function(){return R},Ni:function(){return x},PM:function(){return a},Wj:function(){return E},ot:function(){return o},pQ:function(){return M},vu:function(){return L}});var e=t(787941),c=t(289135),s=t(698129),f=t(668268),v=t(463446),b=t(211763),h=t(725377),p=t(505328),n=t(759510),l=t(684282);function o(F){var A=F.dataViewMappings[0],O=D(A);if(!_.isEmpty(O)){var N=P(A.metadata.objects);if(null===(N=R(O,N))||(0,n.l6)(N)||(0,n.G5)(N))return null}return[l.CT.value]}function a(F){var A=function(F){var A=P(F.objects),O=P(F.changes);return(A===n.RB&&O===n.j6||A===n.j6&&O===n.RB)&&A!==O&&A?{merge:!0,mode:A}:{merge:!1,mode:O||A}}(F),O=F.changes&&F.changes[l.gO.general.filter.objectName],N=O&&O[l.gO.general.filter.propertyName];if(null!=N){var w=C(F,A.mode);return(0,n.l6)(A.mode)?(function(F,A,O){if(e.fF.assertValue(F,"filter should be defined"),(0,n.l6)(A)){var N=(0,v.pi)(F);if(!N||!N.options)return void e.fF.assertValue(N&&N.options,"filterParams and filterParams.options must be defined.");var w=l.gO.data.numericStart.objectName;e.fF.assert(function(){return l.gO.data.numericStart.objectName===l.gO.data.numericEnd.objectName},"numericStart & numericEnd must have same object name"),e.fF.assert(function(){return l.gO.data.numericStart.objectName===l.gO.data.startDate.objectName},"numericStart & startDate must have same object name"),e.fF.assert(function(){return l.gO.data.numericStart.objectName===l.gO.data.endDate.objectName},"numericStart & endDate must have same object name");var I={};_.isNumber(N.options.min)||_.isNumber(N.options.max)?(I[l.gO.data.numericStart.propertyName]=N.options.min,A!==n.Zr&&(I[l.gO.data.numericEnd.propertyName]=N.options.max),S(O,w,I)):(_.isDate(N.options.min)||_.isDate(N.options.max))&&(e.fF.assert(function(){return void 0===N.options.min||(0,c.M4)(N.options.min)},"Implementing DateWithEpochValue is needed for serialization"),e.fF.assert(function(){return void 0===N.options.max||(0,c.M4)(N.options.max)},"Implementing DateWithEpochValue is needed for serialization"),I[l.gO.data.startDate.propertyName]=N.options.min,I[l.gO.data.endDate.propertyName]=N.options.max,S(O,w,I))}}(N,A.mode,w),w):A.mode===n.K8?(m(N,A.mode,w,l.gO.data.relativePeriod.propertyName),w):(A.mode===n.GV&&m(N,A.mode,w,l.gO.data.relativeTimePeriod.propertyName),w)}return A.merge?C(F,A.mode):null}function m(F,A,O,N){if(e.fF.assertValue(F,"filter should be defined"),(0,n.G5)(A)){var w=(0,n.nW)(A),I=(0,b.pi)(F,w);if(!I||!I.options)return void e.fF.assertValue(I&&I.options,"filterParams and filterParams.options must be defined.");var B=l.gO.data.relativeRange.objectName;e.fF.assert(function(){return l.gO.data.relativeRange.objectName===l.gO.data.relativeDuration.objectName},"relativeRange & relativeDuration must have same object name"),e.fF.assert(function(){return l.gO.data.relativeRange.objectName===l.gO.data.relativePeriod.objectName},"relativeRange & relativePeriod must have same object name");var j=(0,p.BB)(I.options.relativeQualifier),W=(0,h.BB)(I.options.relativeUnit),U=I.options.duration;(null==j||null==U||null==W)&&V(O,B),(null!=j||null!=U||null!=W)&&u(O,B);var k={};k[l.gO.data.relativeRange.propertyName]=j,k[l.gO.data.relativeDuration.propertyName]=j===p.Vk?0:I.options.duration,k[N]=W,S(O,B,k),function(F,A){var O=l.gO.dateRange.includeToday.objectName;e.fF.assert(function(){return l.gO.dateRange.includeToday.objectName===l.gO.dateRange.anchorDate.objectName},"anchorDate is not in the same object as includeToday");var N={};A.includeTodayFromDefault||(N[l.gO.dateRange.includeToday.propertyName]=A.includeToday),N[l.gO.dateRange.anchorDate.propertyName]=A.anchorDate,S(F,O,N)}(O,I.options)}}function u(F,A){F.merge=F.merge||[];var O=g(F.merge,A);return F.merge[O]}function V(F,A){F.remove=F.remove||[];var O=g(F.remove,A);return F.remove[O]}function S(F,A,O){var N=null,w=null;for(var I in _.some(O,function(B){return null==B})&&(N=V(F,A)),_.some(O,function(B){return null!=B})&&(w=u(F,A)),O)null==O[I]?(e.fF.assertValue(N,"remove must be defined here."),N.properties[I]=!0):(e.fF.assertValue(w,"merge must be defined here."),w.properties[I]=O[I])}function g(F,A){e.fF.assertValue(F,"visualObjects");var O=F.map(function(N){return N.objectName}).indexOf(A);return O<0&&(F.push({objectName:A,selector:null,properties:{}}),O=F.length-1),O}function C(F,A){var O=[];for(var N in F.changes){var w={};for(var I in F.changes[N])w[I]=F.changes[N][I];null!=A&&N===l.gO.data.mode.objectName&&(w[l.gO.data.mode.propertyName]=A),O.push({objectName:N,selector:null,properties:w})}return{merge:O}}function E(F){if(!_.isEmpty(F.dataViewMappings)){var A=F.dataViewMappings[0];if(A&&A.metadata){var O=D(A)||[];if(A.matrix&&A.matrix.rows){var N=A.matrix.rows.for.in.items;if(!_.isEmpty(N))for(var w=function(te){if(!_.find(O,function(J){return J.queryName===te.queryName}))return"continue";te.subtotalType=1},I=0,B=N;I<B.length;I++)w(B[I])}var W=P(A.metadata.objects);if(!_.isEmpty(O)){if((W=R(O,W))===n.Zr){var U=A.categorical&&A.categorical.categories;return void(U&&(U.dataReductionAlgorithm={sample:{}}))}if((0,n.Lw)(W)&&A.categorical&&A.categorical.categories){var k=A.categorical.categories.for.in.items;A.categorical.categories=null,A.categorical.values={bind:{to:{role:l.CT.value,aggregates:{min:!0,max:!0},items:k}}}}}(0,n.G5)(W)&&(A.updateType=2),W===n.j6&&function(F){if(F){var A=!1;if(A=(0,s.NA)(F,l.gO.selection.strictSingleSelect,A)){var O=null,N=!1;return O=(0,s.NA)(F,l.gO.general.filter,O),N=(0,s.NA)(F,l.gO.data.isInvertedSelectionMode,N),null!=O&&!N}}return!0}(A.metadata.objects)&&(A.updateType=1)}}}function M(F){var O=F.objects,N=P(O),I=D(F.dataViewMappings[0]);if(!_.isEmpty(I)){N=R(I,N,!0);var B=O&&O[l.gO.data.mode.objectName];B||(B={});var j={};for(var W in B)j[W]=B[W];return j[l.gO.data.mode.propertyName]=N,{replace:[{objectName:l.gO.data.mode.objectName,selector:null,properties:j}]}}}function P(F){var A=null;return F&&(A=(0,s.NA)(F,l.gO.data.mode,A)),A}function x(F){return F&&(0,f.NA)(F,l.gO.data.mode,void 0)}function R(F,A,O){if(void 0===O&&(O=!1),e.fF.assertNonEmpty(F,"pluginMethods.getValidateSlicerMode - columns"),F.length>1)return A===n.j6?n.j6:n.RB;var N=F[0];if(!N.type)return A;if(N.parameter&&0===N.parameter.kind)A=null===A||(0,n.G5)(A)?n.Zr:A;else{if(N.parameter&&1===N.parameter.kind)return null==A?n.RB:A;!0===N.type.dateTime?A=null===A||A===n.Zr?n.vX:A:N.type.numeric?null===A?A=O?n.vX:n.RB:((0,n.G5)(A)||A===n.Zr)&&(A=n.vX):A!==n.RB&&A!==n.j6&&(A=n.RB)}return A}function D(F){return F.metadata?F.metadata.columns:null}function L(F){if(F.filterForFieldParameter)return!1;var N=F.dataViewMappings[0];if(!N||!N.metadata)return!1;var w=P(N.metadata.objects),I=D(N);return _.isEmpty(I)||(w=R(I,w)),(0,n.l6)(w)}},173761:function(Je,H,t){t.d(H,{Y:function(){return v}});var e=t(145315),c=t(734287),s=t(403451);function f(b){return[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)(b&&b.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function v(b){return{dataRoles:f(b),objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,c.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,c.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,c.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,c.V)("Visual_Grid"),properties:{outlineColor:s.iD.outlineColor,outlineWeight:s.iD.outlineWeight,gridVertical:{displayName:(0,c.V)("Visual_GridVertical"),description:(0,c.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,c.V)("Visual_GridVertical_Color"),description:(0,c.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,c.V)("Visual_GridVertical_Weight"),description:(0,c.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,c.V)("Visual_GridHorizontal"),description:(0,c.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,c.V)("Visual_GridHorizontal_Color"),description:(0,c.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,c.V)("Visual_GridHorizontal_Weight"),description:(0,c.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,c.V)("Visual_RowPadding"),description:(0,c.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,c.V)("Visual_Tablix_ImageHeight"),description:(0,c.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,c.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor,wordWrap:s.iD.wordWrap}},values:{displayName:(0,c.V)("Visual_Tablix_Values"),properties:{outline:s.iD.outline,backColor:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,c.V)("Visual_FontColor"),description:(0,c.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,c.V)("Background_Color"),description:(0,c.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,c.V)("Visual_Tablix_FontColorSecondary"),description:(0,c.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,c.V)("Visual_Tablix_BackColorSecondary"),description:(0,c.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,c.V)("Visual_Tablix_UrlIcon"),description:(0,c.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,c.V)("Visual_Total"),properties:{outline:s.iD.outline,fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor}},columnFormatting:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:s.iD.tablixFontColor,backColor:s.iD.backColor,styleHeader:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,c.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},55397:function(Je,H,t){t.d(H,{Z:function(){return n},k:function(){return p}});var e=t(106266),c=t(145315),s=t(734287),f=t(518284),v=t(635528),b=t(403451);function h(l){return[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,s.V)(l&&l.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function p(l){return{dataRoles:h(l),objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:b.iD.formatString}},grid:{displayName:(0,s.V)("Visual_Grid"),properties:{outline:b.iD.outline,outlineStyle:b.iD.outlineStyle,outlineColor:b.iD.outlineColor,outlineWeight:b.iD.outlineWeight,gridVertical:{displayName:(0,s.V)("Visual_GridVertical"),description:(0,s.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,s.V)("Visual_GridVertical_Color"),description:(0,s.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,s.V)("Visual_GridVertical_Weight"),description:(0,s.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,s.V)("Visual_GridHorizontal"),description:(0,s.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,s.V)("Visual_GridHorizontal_Color"),description:(0,s.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,s.V)("Visual_GridHorizontal_Weight"),description:(0,s.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,s.V)("Visual_RowPadding"),description:(0,s.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,s.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,s.V)("Visual_General_Properties_Height"),description:(0,s.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,s.V)("Visual_General_Properties_Width"),description:(0,s.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,s.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:b.iD.outline,outlineStyle:b.iD.outlineStyle,outlineColor:b.iD.outlineColor,outlineWeight:b.iD.outlineWeight,fontColor:b.iD.tablixFontColor,fontFamily:b.iD.fontFamily,fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,backColor:b.iD.backColor,alignment:b.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,s.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:b.iD.wordWrap}},values:{displayName:(0,s.V)("Visual_Tablix_Values"),properties:{outline:b.iD.outline,outlineStyle:b.iD.outlineStyle,outlineColor:b.iD.outlineColor,outlineWeight:b.iD.outlineWeight,backColor:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:b.iD.fontFamily,fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,fontColorPrimary:{displayName:(0,s.V)("Visual_FontColor"),description:(0,s.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,s.V)("Background_Color"),description:(0,s.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,s.V)("Visual_Tablix_FontColorSecondary"),description:(0,s.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,s.V)("Visual_Tablix_BackColorSecondary"),description:(0,s.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,s.V)("Visual_Tablix_UrlIcon"),description:(0,s.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:b.iD.wordWrap,icon:{displayName:(0,s.V)("Visual_Tablix_Icons"),description:(0,s.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,s.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,s.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,s.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,s.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:b.iD.outline,outlineStyle:b.iD.outlineStyle,outlineColor:b.iD.outlineColor,outlineWeight:b.iD.outlineWeight,fontColor:b.iD.tablixFontColor,fontFamily:b.iD.fontFamily,fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,backColor:b.iD.backColor}},columnFormatting:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,s.V)("Visual_DisplayUnits"),description:(0,s.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:b.iD.labelPrecision,fontColor:b.iD.tablixFontColor,backColor:b.iD.backColor,alignment:b.iD.textAlignment,styleHeader:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,s.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,s.V)("Visual_ConditionalFormatting_DataBars"),description:(0,s.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:(0,s.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,s.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:f.dt}},dataColor:{displayName:(0,s.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:b.iD.strokeWidth,markers:{displayName:(0,s.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:v.dt}},markerColor:b.iD.markerColor,markerSize:{displayName:(0,s.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:b.iD.markerShape}},accessibility:{displayName:(0,s.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,s.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,s.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var n=(0,e.wZ)(p().objects)},36623:function(Je,H,t){t.d(H,{RL:function(){return b},d$:function(){return n},dd:function(){return h},mj:function(){return p}});var s,f,v,e=t(734287),c=t(403451),b={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},h={objects:{general:{displayName:(0,e.V)("Visual_General"),properties:(s={},s[b.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},s)},text:{displayName:(0,e.V)("Text"),properties:(f={},f[b.text.fontSize.propertyName]={displayName:(0,e.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},f[b.text.fontFamily.propertyName]={displayName:(0,e.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},f[b.text.color.propertyName]={displayName:(0,e.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},f)},values:{properties:(v={},v[b.values.expr.propertyName]={formatStringProperty:b.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},v[b.values.formatString.propertyName]=c.iD.formatString,v)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},p="\n",n="__Newline__"},495944:function(Je,H,t){t.d(H,{Vz:function(){return n},WI:function(){return l},nm:function(){return p},p:function(){return a}});var v,b,h,e=t(734287),c=t(436582),s=t(928643),f=t(403451),p={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},n={text:"text",icon:"icon"},l={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},r=((v={show:f.iD.show})[l.fontColor]=f.iD.fontColor,v[l.fontSize]=f.iD.fontSize,v[l.fontFamily]=f.iD.fontFamily,v[l.underline]=f.iD.underline,v[l.italic]=f.iD.italic,v[l.bold]=f.iD.bold,v[l.text]={displayName:(0,e.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},v[l.textVerticalAlignment]={displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},v[l.textHorizontalAlignment]=f.iD.horizontalAlignment,v[l.textLeftMargin]={displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},v[l.textRightMargin]={displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},v[l.textTopMargin]={displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},v[l.textBottomMargin]={displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},v),o=((b={show:f.iD.show,shapeType:{displayName:(0,e.V)("Icon"),type:{enumeration:c.dt}}})[l.iconImage]=f.iD.image,b[l.iconColor]={displayName:(0,e.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},b[l.iconTransparency]=f.iD.lineTransparency,b[l.iconWeight]={displayName:(0,e.V)("Visual_BasicShape_Weight"),type:{integer:!0}},b[l.iconPlacement]={displayName:(0,e.V)("Visual_IconPlacement"),type:{enumeration:s.dt}},b[l.iconVerticalAlignment]={displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},b[l.iconHorizontalAlignment]=f.iD.horizontalAlignment,b[l.iconLeftMargin]={displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},b[l.iconRightMargin]={displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},b[l.iconTopMargin]={displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},b[l.iconBottomMargin]={displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},b[l.iconSize]={displayName:(0,e.V)("Visual_IconSize"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},b),a=((h={})[n.text]={displayName:(0,e.V)("Text"),properties:r},h[n.icon]={displayName:(0,e.V)("Icon"),properties:o},h)},680187:function(Je,H,t){t.d(H,{zC:function(){return Qe},eM:function(){return w},Mn:function(){return I},OV:function(){return A}});var m,u,V,d,S,g,y,C,E,M,P,T,x,R,D,L,F,e=t(226514),c=t(734287),s=t(149362),f=t(997431),v=t(457158),b=t(210770),h=(0,s.i)([{value:0,displayName:function(Ce){return Ce.get("Visual_Paginated")}},{value:1,displayName:function(Ce){return Ce.get("Visual_Scroll")}}]),p=(0,s.i)([{value:0,displayName:function(Ce){return Ce.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(Ce){return Ce.get("Slicer_Orientation_Horizontal")}}]),n=t(993517),l=t(846841),r=t(580968),o=t(879412),a=t(639907),i=t(403451),A={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},O=(0,s.i)([{value:"custom",displayName:function(Ce){return Ce.get("Custom")}},{value:"top",displayName:function(Ce){return Ce.get("Top")}},{value:"topLeft",displayName:function(Ce){return Ce.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(Ce){return Ce.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(Ce){return Ce.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(Ce){return Ce.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(Ce){return Ce.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(Ce){return Ce.get("Bottom")}},{value:"bottomLeft",displayName:function(Ce){return Ce.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(Ce){return Ce.get("Visual_LabelPosition_BottomRight")}}]),N=(0,s.i)([{value:"Outer",displayName:function(Ce){return Ce.get("Visual_DonutLabelPosition_Outside")}},{value:"Inner",displayName:function(Ce){return Ce.get("Visual_DonutLabelPosition_Inside")}}]),w={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},I={alignment:"alignment",calloutSize:"calloutSize",columnCount:"columnCount",cellPadding:"cellPadding",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",bottomMargin:"bottomMargin",fillColor:"fillColor",fillTransparency:"transparency",fillImage:"image",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",outlineColor:"lineColor",outlineWeight:"weight",outlineTransparency:"transparency",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",paddingSelection:"paddingSelection",tileShape:"tileShape",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",shadowColor:"color",shadowTransparency:"transparency",shadowPositionPreset:"shadowPositionPreset",glowPositionPreset:"glowPositionPreset",shadowBlur:"shadowBlur",shadowAngle:"angle",shadowDistance:"shadowDistance",glowDistance:"glowDistance",shadowSpread:"shadowSpread",show:"show",glowSpread:"glowSpread",glowColor:"color",glowTransparency:"transparency",arrowheadSize:"arrowheadSize",arrowStemWidth:"arrowStemWidth",chevronAngle:"chevronAngle",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",orientation:"orientation",parallelogramSlant:"parallelogramSlant",position:"position",trapezoidSlant:"trapezoidSlant",hexagonSlant:"hexagonSlant",octagonSnipSize:"octagonSnipSize",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailPosition:"speechBubbleTailPosition",speechBubbleTailAngle:"speechBubbleTailAngle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rowCount:"rowCount",rightMargin:"rightMargin",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabRoundCornerTopRight:"tabRoundCornerTopRight",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerBottom:"tabRoundCornerBottom",alignBaselines:"alignBaselines",bold:"bold",customFormatString:"customFormatString",fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",horizontalAlignment:"horizontalAlignment",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",showBlankAs:"showBlankAs",textWrap:"textWrap",transparency:"transparency",text:"text",heading:"heading",underline:"underline",topMargin:"topMargin",verticalSpacing:"verticalSpacing",OverFlowStyle:"overFlowStyle",OverFlowDirection:"overFlowDirection",customizePadding:"customizePadding",rowPadding:"rowPadding",columnPadding:"columnPadding",maxTiles:"maxTiles"},B=((m={show:i.iD.show})[I.fillColor]=i.iD.fill,m[I.fillTransparency]=i.iD.transparency,m[I.fillImage]=i.iD.image,m),j=((u={show:i.iD.show})[I.fillColor]=i.iD.fill,u[I.fillTransparency]=i.iD.transparency,u[I.fillImage]=i.iD.image,u[I.imageTransparency]=i.iD.transparency,u[I.imageSplitTransparency]={type:{bool:!0}},u),W=((V={show:i.iD.show})[I.outlineColor]=i.iD.outlineColor,V[I.outlineTransparency]=i.iD.lineTransparency,V[I.outlineWeight]=i.iD.outlineWeight,V),U=((d={})[I.tileShape]={displayName:(0,c.V)("Visual_Shape"),type:{enumeration:r.d}},d[I.shapeRounding]={displayName:(0,c.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},d[I.arrowheadSize]={displayName:(0,c.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},d[I.arrowStemWidth]={displayName:(0,c.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},d[I.chevronAngle]={displayName:(0,c.V)("Visual_Angle"),type:{integer:!0}},d[I.isocelesTriangleTipPosition]={displayName:(0,c.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},d[I.parallelogramSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},d[I.trapezoidSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},d[I.hexagonSlant]={displayName:(0,c.V)("Visual_Shape_Slant"),type:{integer:!0}},d[I.octagonSnipSize]={displayName:(0,c.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},d[I.speechBubbleHeight]={displayName:(0,c.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},d[I.speechBubbleTailPosition]={displayName:(0,c.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:o.dt}},d[I.speechBubbleTailAngle]={displayName:(0,c.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},d[I.rectangleRoundedCurve]={displayName:(0,c.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},d[I.tabCutCornerSnipSizeTopRight]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},d[I.tabCutCornerSnipSizeTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},d[I.tabCutCornerSnipSizeBottom]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},d[I.tabRoundCornerTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},d[I.tabRoundCornerTopRight]={displayName:(0,c.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},d[I.tabRoundCornerTop]={displayName:(0,c.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},d[I.tabRoundCornerBottom]={displayName:(0,c.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},d),k=((S={})[I.tileShape]={displayName:(0,c.V)("Visual_Shape"),type:{enumeration:r.d}},S[I.rectangleRoundedCurveCustomStyle]={displayName:(0,c.V)("Visual_CustomStyle"),type:{bool:!0}},S[I.rectangleRoundedCurveLeftTop]={displayName:(0,c.V)("Visual_CornerTopLeft"),type:{integer:!0}},S[I.rectangleRoundedCurveRightTop]={displayName:(0,c.V)("Visual_CornerTopRight"),type:{integer:!0}},S[I.rectangleRoundedCurveLeftBottom]={displayName:(0,c.V)("Visual_CornerBottomLeft"),type:{integer:!0}},S[I.rectangleRoundedCurveRightBottom]={displayName:(0,c.V)("Visual_CornerBottomRight"),type:{integer:!0}},S[I.rectangleRoundedCurve]={displayName:(0,c.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},S[I.tabCutCornerSnipSizeTop]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},S[I.tabCutCornerSnipSizeCustomStyle]={displayName:(0,c.V)("Visual_CustomStyle"),type:{bool:!0}},S[I.tabCutCornerSnipSizeLeftTop]={displayName:(0,c.V)("Visual_CornerTopLeft"),type:{integer:!0}},S[I.tabCutCornerSnipSizeRightTop]={displayName:(0,c.V)("Visual_CornerTopRight"),type:{integer:!0}},S[I.tabCutCornerSnipSizeLeftBottom]={displayName:(0,c.V)("Visual_CornerBottomLeft"),type:{integer:!0}},S[I.tabCutCornerSnipSizeRightBottom]={displayName:(0,c.V)("Visual_CornerBottomRight"),type:{integer:!0}},S[I.tabCutCornerSnipSizeBottom]={displayName:(0,c.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},S),Q=((g={show:i.iD.show})[I.shadowColor]={displayName:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},g[I.shadowTransparency]=i.iD.transparency,g[I.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},g[I.shadowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},g[I.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},g[I.shadowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},g),te=((y={show:i.iD.show})[I.glowColor]={displayName:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},y[I.glowTransparency]=i.iD.transparency,y[I.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},y),ee=((C={show:i.iD.show})[I.shadowColor]={displayName:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},C[I.shadowTransparency]=i.iD.transparency,C[I.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},C[I.shadowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},C[I.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},C[I.shadowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},C[I.position]={displayName:(0,c.V)("Offset"),type:{enumeration:N}},C[I.shadowSpread]={displayName:(0,c.V)("Visual_BubbleSize"),type:{numeric:!0}},C),J=((E={show:i.iD.show})[I.glowColor]={displayName:(0,c.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},E[I.glowTransparency]=i.iD.transparency,E[I.shadowBlur]={displayName:(0,c.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},E[I.glowPositionPreset]={displayName:(0,c.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},E[I.shadowAngle]={displayName:(0,c.V)("Visual_Angle"),type:{numeric:!0}},E[I.glowDistance]={displayName:(0,c.V)("Distance"),type:{numeric:!0}},E[I.position]={displayName:(0,c.V)("Offset"),type:{enumeration:N}},E[I.glowSpread]={displayName:(0,c.V)("Visual_BubbleSize"),type:{numeric:!0}},E),re=((M={show:i.iD.show})[I.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:b.u0}},M[I.accentBarColor]={displayName:(0,c.V)("Visual_Reference_Line_Color"),type:{fill:{solid:{color:!0}}}},M[I.accentBarTransparency]=i.iD.transparency,M[I.accentBarWidth]={displayName:(0,c.V)("Visual_General_Properties_Width"),type:{integer:!0}},M),G=((P={})[I.alignment]={displayName:(0,c.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},P[I.orientation]={displayName:(0,c.V)("Visual_Arrangement"),type:{enumeration:n.S}},P[I.rowCount]={displayName:(0,c.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},P[I.columnCount]={displayName:(0,c.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},P[I.maxTiles]={displayName:(0,c.V)("Visual_Arrangement_CardsShown"),type:{integer:!0}},P[I.cellPadding]={displayName:(0,c.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},P[I.customizePadding]={displayName:(0,c.V)("Visual_Spacing_Customize"),type:{bool:!0}},P[I.rowPadding]={displayName:(0,c.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},P[I.columnPadding]={displayName:(0,c.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},P[I.calloutSize]={displayName:(0,c.V)("Visual_CallOutSize"),type:{numeric:!0}},P),ne=((T={})[I.OverFlowStyle]={displayName:(0,c.V)("Visual_OverFlow_Style"),type:{enumeration:h}},T[I.OverFlowDirection]={displayName:(0,c.V)("Visual_OverFlow_Direction"),type:{enumeration:p}},T),X=((x={})[I.paddingSelection]={displayName:(0,c.V)("Embed_Size"),type:{enumeration:l.dt}},x[I.leftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},x[I.rightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},x[I.topMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},x[I.bottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},x),oe=((R={show:i.iD.show})[I.fontColor]=i.iD.fontColor,R[I.fontSize]=i.iD.fontSize,R[I.fontFamily]=i.iD.fontFamily,R[I.underline]=i.iD.underline,R[I.italic]=i.iD.italic,R[I.bold]=i.iD.bold,R[I.horizontalAlignment]=i.iD.horizontalAlignment,R[I.textWrap]=i.iD.textWrap,R[I.labelDisplayUnits]=(0,e.__assign)((0,e.__assign)({},i.iD.labelDisplayUnits),{type:{enumeration:v.d}}),R[I.labelPrecision]=i.iD.labelPrecision,R[I.customFormatString]={displayName:(0,c.V)("Visual_FormatCode"),description:(0,c.V)("Visual_FormatCode_Description"),type:{text:!0}},R[I.showBlankAs]=i.iD.showBlankAs,R[I.transparency]=i.iD.transparency,R),Ve=((D={show:i.iD.show})[I.text]={displayName:(0,c.V)("Text"),type:{text:!0}},D[I.heading]={displayName:(0,c.V)("Visual_AzureMapsHeading"),type:{enumeration:a.dt}},D[I.fontColor]=i.iD.fontColor,D[I.fontSize]=i.iD.fontSize,D[I.fontFamily]=i.iD.fontFamily,D[I.underline]=i.iD.underline,D[I.italic]=i.iD.italic,D[I.bold]=i.iD.bold,D[I.position]={displayName:(0,c.V)("Visual_Position"),type:{enumeration:f.dt}},D[I.transparency]=i.iD.transparency,D[I.textWrap]=i.iD.textWrap,D[I.alignBaselines]={displayName:(0,c.V)("Visual_AlignBaselines"),type:{bool:!0}},D[I.matchValueAlignment]={displayName:(0,c.V)("Visual_Alignment_MatchValue"),type:{bool:!0}},D[I.horizontalAlignment]=i.iD.horizontalAlignment,D),Te=((L={})[I.verticalSpacing]={displayName:(0,c.V)("Visual_Spacing_Vertical"),type:{integer:!0}},L),Qe=((F={})[w.fill]={displayName:(0,c.V)("Visual_Fill"),properties:B},F[w.fillCustom]={displayName:(0,c.V)("Visual_Fill"),properties:j},F[w.outline]={displayName:(0,c.V)("Visual_Outline"),properties:W},F[w.shape]={displayName:(0,c.V)("Visual_Shape"),properties:U},F[w.shadow]={displayName:(0,c.V)("Visual_Shape_Shadow"),properties:Q},F[w.glow]={displayName:(0,c.V)("Visual_Shape_Glow"),properties:te},F[w.shapeCustomRectangle]={displayName:(0,c.V)("Visual_Shape"),properties:k},F[w.shadowCustom]={displayName:(0,c.V)("Visual_Shape_Shadow"),properties:ee},F[w.glowCustom]={displayName:(0,c.V)("Visual_Shape_Glow"),properties:J},F[w.accentBar]={displayName:(0,c.V)("Visual_Outline_AccentBar"),properties:re},F[w.padding]={displayName:(0,c.V)("Visual_Padding"),properties:X},F[w.value]={displayName:(0,c.V)("Role_DisplayName_Values"),properties:oe},F[w.label]={displayName:(0,c.V)("Role_DisplayName_Label"),properties:Ve},F[w.layout]={displayName:(0,c.V)("Layout"),properties:G},F[w.overFlow]={displayName:(0,c.V)("Visual_OverFlow"),properties:ne},F[w.spacing]={displayName:(0,c.V)("Visual_Spacing"),properties:Te},F)},826335:function(Je,H,t){t.d(H,{A4:function(){return v},_H:function(){return n},cB:function(){return b}});var l,e=t(831917),c=t(145315),s=t(734287),f=t(403451),v={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function b(l){return{dataRoles:p(l&&l.cartesianConditionalFormatting,l&&l.useModernFormatPane),objects:{general:{displayName:(0,s.V)("Visual_General"),properties:{formatString:f.iD.formatString}},legend:f.TQ.legend,dataPoint:{displayName:(0,s.V)("Visual_DataPoint"),description:(0,s.V)("Visual_DataPointDescription"),properties:{fill:f.iD.defaultCategoryColor,fillRule:{displayName:(0,s.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:(0,s.V)("Visual_DataPointsLabels"),description:(0,s.V)("Visual_DataPointsLabelsDescription"),properties:{show:f.iD.show,color:f.iD.dataColor,labelDisplayUnits:f.iD.labelDisplayUnits,labelPrecision:f.iD.labelPrecision,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily}},categoryLabels:{displayName:(0,s.V)("Visual_CategoryLabels"),description:(0,s.V)("Visual_CategoryLabelsDescription"),properties:{show:f.iD.show,color:f.iD.categoryColor,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}function p(l,r){var o=[{name:"Group",kind:c.DW.Grouping,displayName:(0,s.V)(r?"Role_DisplayName_Category":"Group"),description:(0,s.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:c.DW.Grouping,displayName:(0,s.V)("Details")},{name:"Values",kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Values"),description:(0,s.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return l||o.push({name:"Gradient",kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Gradient"),description:(0,s.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),o.push({name:"Tooltips",kind:c.DW.Measure,displayName:(0,s.V)("Role_DisplayName_Tooltips"),description:(0,s.V)("Role_Tooltips_Description"),joinPredicate:0}),o}(l=(0,e.Z7)()).getTreemapCapabilities||(l.getTreemapCapabilities=function(){return b()});var n={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}},103819:function(Je,H,t){t.d(H,{GJ:function(){return l},IT:function(){return p},wW:function(){return n}});var e=t(226514),c=t(106266),s=t(145315),f=t(734287),v=t(5635),b=t(201849),h=t(403451),p={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},n=(0,c.wZ)(l().objects);function l(r){return{dataRoles:[{name:p.category,kind:s.DW.Grouping,displayName:(0,f.V)("Role_DisplayName_Category"),description:(0,f.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:p.breakdown,kind:s.DW.Grouping,displayName:(0,f.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,f.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:p.y,kind:s.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,f.V)(null!=r&&r.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,f.V)("Role_DisplayName_ValuesDescription")},{name:p.tooltips,kind:s.DW.Measure,displayName:(0,f.V)("Role_DisplayName_Tooltips"),description:(0,f.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,f.V)("Visual_General"),properties:{formatString:h.iD.formatString,responsive:h.iD.responsive,responsiveLegacy:h.iD.responsiveLegacy}},legend:h.TQ.legend,categoryAxis:{displayName:(0,f.V)("Visual_XAxis"),properties:{show:h.iD.show,showAxisTitle:h.iD.showAxisTitle_X,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,preferredCategoryWidth:h.iD.preferredCategoryWidth,maxMarginFactor:h.iD.maxMarginFactor,innerPadding:h.iD.innerPadding,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText}},valueAxis:{displayName:(0,f.V)("Visual_YAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,showAxisTitle:h.iD.showAxisTitle_Y,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,totalsEnabled:h.iD.totalsEnabled,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,f.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,switchAxisPosition:h.iD.switchAxisPosition}},labels:{displayName:(0,f.V)("Visual_DataPointsLabels"),description:(0,f.V)("Visual_DataPointsLabelsDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,labelDisplayUnits:h.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,labelOrientation:{displayName:(0,f.V)("Visual_LabelOrientation"),type:{enumeration:v.d}},labelPosition:{displayName:(0,f.V)("Visual_Position"),type:{enumeration:b.dt}},enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},plotArea:{displayName:(0,f.V)("Visual_Plot"),properties:{transparency:h.iD.transparency,image:h.iD.image}},sentimentColors:{displayName:(0,f.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,f.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,f.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,f.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,f.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:(0,f.V)("Visual_Reference_Line"),description:(0,f.V)("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},breakdown:{displayName:(0,f.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,f.V)("Visual_Waterfall_MaxBreakdown"),description:(0,f.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}},487496:function(Je,H,t){t.d(H,{$9:function(){return o},A8:function(){return m},Hx:function(){return a},PX:function(){return l},_K:function(){return r},iQ:function(){return u}});var e=t(787941),c=t(474505),s=t(698129),f=t(411916),v=t(664723),b=t(37584),h=t(279295),p=t(244945),n=t(633888);function l(V,d,S,g,y){return!(y&&!g)&&(!!function(V){return V&&!_.isEmpty(V.values)}(g)||r(V,d,S))}function r(V,d,S){return!(!a(S)||!o(V,d))}function o(V,d){if(!V)return!0;var S=(0,s.NA)(V,d);return null==S||S===p.iD}function a(V){return!(0,h.c$)(V)}function m(V){return(0,f.A8)(V,v.p.scalarKey.scalarKeyMin)}function u(V,d){if(!V||!V.metadata)return!1;var S;if(V.categorical&&V.categorical.categories&&(0,c.mn)(V.categorical.categories)?S=V.categorical.categories.for.in:d&&(0,n.qO)(V)&&(S=(0,n.b8)(V).for.in),null==S)return!1;var C=S.items;if(_.isEmpty(C))return!1;var E=S.activeItems,M=C[0];if(!_.isEmpty(E)){if(E.length>1)return!1;var P=_.find(C,function(R){return R.queryName===E[0]});e.fF.assertValue(P,"active projection must be part of category items"),M=P}return!!r(V.metadata.objects,b.mi.categoryAxis.axisType,M.type)}},633888:function(Je,H,t){t.d(H,{D4:function(){return y},KD:function(){return u},OW:function(){return E},OX:function(){return m},QS:function(){return S},UE:function(){return n},XG:function(){return h},XM:function(){return r},Xi:function(){return b},Ye:function(){return d},ZO:function(){return l},ZU:function(){return o},b8:function(){return T},i_:function(){return V},qF:function(){return a},qO:function(){return g},qU:function(){return C},r8:function(){return p},s5:function(){return R},x_:function(){return i}});var e=t(251912),c=t(259694),s=t(474505),f=t(31394),v=t(808261),b="smallMultiplesLayout",h="subheader";function p(L,F){return(L+1)*F}var n=2,l=2,r=null,o=0,a=f.YP,i=v.SQ,m=e.md,u=1,V=12,d=!1,S=p(n,l);function g(L){return c.ZA.check(function(F){return{matrix:F.check(L&&L.matrix,c.Gg,function(A){return{rows:F.check(A.rows,s.G8,function(O){return{select:F.check(O.select,(0,c.dp)(2),function(N){return[F.check(N[0],s.oJ,function(w){return{composite:F.check(w.composite,(0,c.dp)(1),function(I){return[F.check(I[0],s.mn,c.yR)]}),dataReductionAlgorithm:w.dataReductionAlgorithm}}),F.check(N[1],s.oJ,function(w){return{composite:F.check(w.composite,(0,c.dp)(1),function(I){return[F.check(I[0],s.mn,c.yR)]}),dataReductionAlgorithm:w.dataReductionAlgorithm}})]})}}),columns:F.check(A.columns,s.mn,c.yR),values:F.check(A.values,s.G8,c.yR)}}),metadata:L.metadata}})}function y(L){return c.ZA.check(function(F){return{matrix:F.check(L&&L.matrix,c.Gg,function(A){return{rows:F.check(A.rows,s.VV,function(O){return{select:F.check(O.select,(0,c.dp)(2),function(N){return[F.check(N[0],s.V3,function(w){return{composite:F.check(w.composite,(0,c.dp)(1),function(I){return[F.check(I[0],s.Ti,c.yR)]}),dataReductionAlgorithm:w.dataReductionAlgorithm}}),F.check(N[1],s.V3,function(w){return{composite:F.check(w.composite,(0,c.dp)(1),function(I){return[F.check(I[0],s.Ti,c.yR)]}),dataReductionAlgorithm:w.dataReductionAlgorithm}})]})}}),columns:F.check(A.columns,s.Ti,c.yR)}})}})}function C(L){if(!_.isEmpty(L))for(var F=0,A=L;F<A.length;F++){var O=A[F];if(O.matrix&&y(O))return!0}return!1}function E(L){if(!_.isEmpty(L))for(var F=0,A=L;F<A.length;F++){var O=A[F];if(y(O))return O.matrix.rows.select[0].composite[0].for.in}}function T(L){return L.matrix.rows.select[1].composite[0]}function R(L,F){L.matrix.rows.select[1].dataReductionAlgorithm=F}},345563:function(Je,H,t){t.d(H,{Bx:function(){return M},DM:function(){return E},HL:function(){return te},Ik:function(){return Qe},It:function(){return y},K1:function(){return d},LO:function(){return k},LS:function(){return le},MA:function(){return B},NG:function(){return He},Ne:function(){return w},Si:function(){return P},XZ:function(){return I},ZS:function(){return F},el:function(){return re},h_:function(){return me},oN:function(){return A},oR:function(){return C},py:function(){return N},rH:function(){return g},rj:function(){return D},vb:function(){return L},xn:function(){return S},z$:function(){return O}});var e=t(787941),c=t(259694),s=t(989516),f=t(396894),v=t(474505),b=t(698129),h=t(129035),p=t(448711),n=t(161414),l=t(681454),r=t(487496),o=t(391589),a=t(280122),i=t(279295),m=t(298801),u=t(679752),V=t(643068),d={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},S="anomalyDetection",g="anomaly",y="isAnomalyHighlighted",C="sensitivity",E="Sensitivity",M="explainBy",P="referenceLine",D=_.mapValues(d,function(be){return"".concat(S,".").concat(be)}),L="SampleAndDetectAnomaly",F="transform",A="SampleSizePerSeries",O=.7,N={objectName:S,propertyName:F},w={objectName:S,propertyName:"show"},I={objectName:S,propertyName:M},B={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},j={displayName:"",markerShape:o.LS,markerShapeSize:5,confidenceBandStyle:a.hl,transparency:80},W="foregroundSelected",U="foregroundSelected",k=function(){function be(Be,Se,Pe,ue){this.host=Be,this.anomalyDetection=Se,this.valuesMetadata=Pe,this.formatStringProp=ue,e.fF.assertValue(Be,"host"),this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}return be.prototype.getTooltipItems=function(Be,Se){var Pe=this.anomalies[Be];if(Pe)return[{displayName:this.expectedValueName,value:(0,u.xq)(Pe.expectedValue,this.valuesMetadata,this.formatStringProp,!1,Se)},{displayName:this.expectedLowName,value:(0,u.xq)(Pe.lowerBound,this.valuesMetadata,this.formatStringProp,!1,Se)},{displayName:this.expectedHighName,value:(0,u.xq)(Pe.upperBound,this.valuesMetadata,this.formatStringProp,!1,Se)}]},be}();function te(be,Be,Se,Pe,ue,ve,xe,ie){var Fe;if(_.isEmpty(Be.forecastLines))if(Be.hasDynamicSeries){var at=be.getLocalizedString("Role_DisplayName_Legend");Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",at)}else if((0,f.aJ)(Be.valuesMetadata,l.R.Y2))at=be.getLocalizedString("Role_DisplayName_Y2"),Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",at);else if(1!==Be.series.length)at=be.getLocalizedString("Role_DisplayName_Values"),Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",at);else if(function(be){var Be,Se,Pe;e.fF.assertValue(be,"anomalyDetectionVisualPlugin hasDatetime dataView");var ue=null===(Be=be.categorical)||void 0===Be?void 0:Be.categories;if(e.fF.assert(function(){return _.size(ue)>0},"should exist at least one category"),!ue||0===_.size(ue))return!1;var ve=null===(Se=_.first(ue).source)||void 0===Se?void 0:Se.type;return!!ve&&(!!ve.dateTime||!(null===(Pe=ve.temporal)||void 0===Pe||!Pe.year)||!!ve.temporal&&_.some(be.metadata.columns,function(xe){var ie;return null===(ie=xe.type.temporal)||void 0===ie?void 0:ie.year}))}(Se))if(xe){if(function(be){var Be;e.fF.assertValue(be,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var Se=null===(Be=be.categorical)||void 0===Be?void 0:Be.values;return e.fF.assert(function(){return _.size(Se)>0},"should exist at least one categorical value"),!(!Se||0===_.size(Se))&&_.some(Se,function(Pe){return!!Pe.source.objects&&!!Pe.source.objects[P]})}(Se)){var Ee=be.getLocalizedString("Visual_Trend_Line"),K=be.getLocalizedString("Visual_Reference_Line");Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",Ee,K)}}else{var We=be.getLocalizedString("Type"),Oe=be.getLocalizedString("Visual_XAxis"),Ze=be.getLocalizedString("Visual_Axis_Scalar");Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",We,Oe,Ze)}else at=be.getLocalizedString("Role_DisplayName_Axis"),Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",at);else Fe=be.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(be,Be,Se,Pe,ue){var ve,xe;e.fF.assertValue(be,"enumeration"),e.fF.assertValue(Se,"visualStyle"),e.fF.assertAnyValue(Pe,"disabledReason"),e.fF.assertAnyValue(ue,"selectors");var ie=_.first(Be);if(ie){var at=((ve={})[B.show]=ie.show,ve[B.displayName]=ie.displayName,ve[B.markerShape]=ie.markerShape,ve[B.markerShapeSize]=ie.markerShapeSize,ve[B.markerColor]=ie.markerColor,ve[B.confidenceBandStyle]=ie.confidenceBandStyle,ve[B.transparency]=ie.transparency,ve[B.confidenceBandColor]=ie.confidenceBandColor,ve);if(be.pushInstance({selector:ie.selector,properties:at,objectName:S}),ue)for(var We=(0,s.GT)((0,s.tV)(ue)),Oe=0,Ze=ie.anomalies;Oe<Ze.length;Oe++){var Ee=Ze[Oe];Ee.isAnomaly&&(We||(0,s.Ic)(Ee.identity.getSelectorsByColumn(),ue))&&be.pushInstance({objectName:g,selector:(0,s.tV)(Ee.identity.getSelectorsByColumn()),properties:(xe={},xe[d.CategoryValue]=Ee.categoryValue,xe[d.Value]=Ee.value,xe[d.ExpectedValue]=Ee.expectedValue,xe[d.ExpectedLow]=Ee.lowerBound,xe[d.ExpectedHigh]=Ee.upperBound,xe[d.BatchStart]=Ee.batchStart,xe[d.BatchEnd]=Ee.batchEnd,xe[d.FormattedCategoryValue]=Ee.formattedCategoryValue,xe[d.ValueFormatString]=Ee.valueFormatString,xe)})}}else{var Fe=function(be,Be){var Se;return{selector:{id:"0"},properties:(Se={},Se[B.show]=!1,Se[B.displayName]=j.displayName,Se[B.markerShape]=j.markerShape,Se[B.markerShapeSize]=j.markerShapeSize,Se[B.markerColor]={solid:{color:m.v.getThemeColor(be,W)}},Se[B.confidenceBandStyle]=j.confidenceBandStyle,Se[B.transparency]=j.transparency,Se[B.confidenceBandColor]={solid:{color:m.v.getThemeColor(be,U)}},Se),objectName:S,disabledReason:Be}}(Se,Pe);be.pushInstance(Fe)}}(Pe,ue,ve,Fe,ie)}function re(be){return c.ZA.check(function(Be){return{metadata:Be.check(be&&be.metadata,c.Gg,function(Se){return{columns:Be.check(Se.columns,G,c.yR),objects:Be.check(Se.objects,ne,c.yR)}}),categorical:Be.check(be.categorical,c.Gg,function(Se){return{categories:Be.check(Se.categories,v.mn,function(Pe){return{for:Be.check(Pe.for,c.Gg,function(ue){return{in:Be.check(ue.in,X,c.yR)}})}}),values:Be.check(Se.values,v.wj,function(Pe){return{group:Be.check(Pe.group,c.Gg,function(ue){return{by:Be.check(ue.by,oe,c.yR),select:Be.check(ue.select,Ve,c.yR)}})}})}})}})}function G(be){return _.some(be,function(Be){return!(!Be.objects||!Be.objects[S]||Be.objects[P]||Be.objects[V.Po])})}function ne(be){if(!be)return!0;var Be=(0,b.NA)(be,{objectName:"categoryAxis",propertyName:"axisType"});return!Be||"Scalar"===Be}function X(be){var Be,Se,Pe,ue=be.items,ve=be.activeItems;if(_.size(ue)<1)return!1;if(1===_.size(ue)){if(!(xe=_.first(ue).type)||!xe.dateTime&&(null===(Be=xe.temporal)||void 0===Be||!Be.year))return!1}else{var ie=_.size(ve);if(ie<1)return!1;var Fe=_.last(ve),at=_.find(ue,function(Oe){return Oe.queryName===Fe});if(e.fF.assertValue(at,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!at)return!1;var xe=at.type;if(1===ie&&(null===(Se=null==xe?void 0:xe.temporal)||void 0===Se||!Se.year))return!1;if(ie>1&&(null==xe||!xe.temporal)||null===(Pe=at.scalarKeyInfo)||void 0===Pe||!Pe.hasScalarKey)return!1}return!0}function oe(be){return!(be.role===l.R.Series&&!_.isEmpty(be.items))}function Ve(be){var Be=be;if(!Be)return!1;var Se=_.find(Be,function(ue){return ue.for.in.role===l.R.Y});if(!Se||1!==_.size(Se.for.in.items))return!1;var Pe=_.find(Be,function(ue){return ue.for.in.role===l.R.Y2});return!(Pe&&!_.isEmpty(Pe.for.in.items))}function Qe(be){var Be;if(null===(Be=null==be?void 0:be.categorical)||void 0===Be||!Be.values)return!1;var Se=be.categorical.values.grouped();return _.some(Se,function(Pe){return _.some(Pe.values,function(ue){return(0,f.R)(ue,D.Anomaly)})})}function He(be,Be,Se,Pe){var ue;if(e.fF.assertValue(be,"anomalyDetectionDataView"),e.fF.assertValue(Be,"sourceDataView"),e.fF.assertValue(Se,"visualStyle"),e.fF.assertValue(Pe,"formatStringProp"),!be.categorical||!Be.categorical)return[];var ve=be.categorical;if(_.isEmpty(ve.categories)||_.isEmpty(ve.values))return[];var Fe,at,xe=_.first(ve.categories),ie=(0,r.A8)(xe);ie?(Fe=_.map(ie.values,function(Or){return Or.min}),at=_.last(ve.categories).values):Fe=xe.values;var We=ve.values.grouped();if(_.isEmpty(Fe)||_.isEmpty(We))return[];var Oe=Be.categorical.values;if(_.isEmpty(Oe))return[];var Ze=_.first(Oe),Ee=null!==(ue=Ze.objects)&&void 0!==ue?ue:[],K=Ze.values,Ne=(0,f.a2)(We,D.Anomaly),Y=(0,f.a2)(We,D.ExpectedValue),ye=(0,f.a2)(We,D.ExpectedHigh),rt=(0,f.a2)(We,D.ExpectedLow),it=(0,f.a2)(We,D.BatchStart),Ue=(0,f.a2)(We,D.BatchEnd),De=m.v.create(Se),Le=[],Xe=0,et=function(be){e.fF.assertValue(be.categorical.values,"sourceDataView.categorical.values");var Be=[],Se=_.first(be.categorical.values.grouped());if(Se)for(var Pe=0,ue=Se.values;Pe<ue.length;Pe++){var ve=ue[Pe],xe=ve.source.queryName;if(xe){var ie=(0,b.AO)(ve.source.objects,S);Be[xe]=ie}}return Be}(Be),ce=_.first(Be.categorical.categories).source.queryName,Re=Ze.source,Ge=Re.queryName,ut=Ze.objects;for(var je in et){var ae=et[je];for(var fe in ae){var we=ae[fe],ze=(0,h.N)(we,B.show,!1);if(ze){for(var $e=(0,h.N)(we,B.displayName),ot=(0,h.N)(we,B.markerShape,j.markerShape),_t=(0,h.N)(we,B.markerShapeSize,j.markerShapeSize),ke={solid:{color:De.getColorForPropertyName(we,B.markerColor,W)}},dt=(0,h.N)(we,B.transparency,j.transparency),Tt=(0,h.N)(we,B.confidenceBandStyle,j.confidenceBandStyle),Wt={solid:{color:De.getColorForPropertyName(we,B.confidenceBandColor,U)}},Kt=We[Xe],Zt=[],er=[],ar=Kt.values[Ne].values,sr=Kt.values[Y].values,gr=Kt.values[ye].values,mr=Kt.values[rt].values,Sr=Kt.values[it].values,Mr=Kt.values[Ue].values,St={index:-1,value:Number.MIN_VALUE},Gt={index:-1,value:Number.MAX_VALUE},rr=0;rr<Fe.length;rr++){var Fr=Ee[rr],wr=(new n.dw).withCategory([xe],rr,ce,!0).withMeasure(Ge).createSelectionId(),Vr=(0,b.NA)(Fr,{objectName:S,propertyName:y},!1),Ar=(0,i.eT)(K[rr]),vr=(0,i.eT)(sr[rr]),$r=!!ar[rr],Qr=void 0,zr=void 0;$r&&(Ar>vr&&St.value<Ar&&(St={index:rr,value:Ar}),Ar<vr&&Gt.value>Ar&&(Gt={index:rr,value:Ar}),Qr=de(xe,Pe,_.get(at,rr,void 0),rr,Fe[rr]),zr=pe(Re,ut?ut[rr]:void 0,Pe)),Zt.push({isAnomaly:$r,categoryValue:(0,i.eT)(Fe[rr]),value:Ar,upperBound:(0,i.eT)(gr[rr]),lowerBound:(0,i.eT)(mr[rr]),expectedValue:vr,identity:wr,batchStart:Sr[rr],batchEnd:Mr[rr],categoryIndex:rr,isHighlighted:Vr,formattedCategoryValue:Qr,valueFormatString:zr,seriesIndex:0,selected:!1}),$r&&er.push(rr)}Le.push({selector:{id:fe,metadata:je},anomalies:Zt,anomaliesCategoryIndex:er,show:ze,displayName:$e,markerShape:ot,markerShapeSize:_t,markerColor:ke,confidenceBandStyle:Tt,transparency:dt,confidenceBandColor:Wt,highestAnomalyPointIndex:St.index,lowestAnomalyPointIndex:Gt.index}),Xe++}}}return Le}function de(be,Be,Se,Pe,ue){if(e.fF.assertValue(be,"categoryColumn"),e.fF.assertValue(Be,"formatStringProp"),Se)return Se;var ve=be.objects,xe=(0,b.NA)(ve?ve[Pe]:void 0,Be);return(0,u.xq)(ue,be.source,Be,!1,xe)}function pe(be,Be,Se){e.fF.assertValue(be,"valueColumn"),e.fF.assertAnyValue(Be,"objects"),e.fF.assertValue(Se,"formatStringProp");var Pe=(0,b.NA)(Be,Se);return Pe||(Pe=(0,p.EO)(be,Se,!!be.format)),!Pe&&be&&(Pe=be.format),Pe}function le(be,Be,Se){if(e.fF.assert(function(){return be&&2===_.size(be)&&_.isNumber(be[0])&&_.isNumber(be[1])},"adjustDomainForAnomalyMarkers: Domain values should not be null in practice"),e.fF.assertValue(Be,"adjustDomainForAnomalyMarkers scale"),_.isEmpty(Se)||_.every(Se,function(Y){return-1===Y.highestAnomalyPointIndex&&-1===Y.lowestAnomalyPointIndex}))return be;for(var Pe=Be,ue=Pe(be[0]),ve=Pe(be[1]),ie=0,Fe=Se;ie<Fe.length;ie++){var at=Fe[ie],We=5*at.markerShapeSize;if(-1!==at.highestAnomalyPointIndex){var Oe=at.anomalies[at.highestAnomalyPointIndex].value;if(We>Pe(Oe)-Pe(be[1])){var Ee=Pe(Oe)-We;ve=Math.min(ve,Ee)}}if(-1!==at.lowestAnomalyPointIndex){var K=at.anomalies[at.lowestAnomalyPointIndex].value;if(We>Pe(be[0])-Pe(K)){var Ne=Pe(K)+We;ue=Math.max(ue,Ne)}}}return[Pe.invert(ue),Pe.invert(ve)]}function me(be,Be){if(1!==_.size(be))return!1;var Pe=be[0].getMetadata(Be);return Pe&&!!Pe.type.dateTime}},279295:function(Je,H,t){t.d(H,{Gv:function(){return r},Or:function(){return v},_9:function(){return p},c$:function(){return h},eT:function(){return b},oq:function(){return i},sc:function(){return l},v9:function(){return n}});var e=t(787941),c=t(448711),s=t(326621),f=t(764365),v=function(m){return m[m.top=0]="top",m[m.bottom=1]="bottom",m[m.left=2]="left",m[m.right=3]="right",m}({});function b(m){return isNaN(m)?null:m===Number.POSITIVE_INFINITY?Number.MAX_VALUE:m===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:m}function h(m){var u,V;return!(!m||!(m.text||m.bool||null!==(u=m.misc)&&void 0!==u&&u.barcode||null!==(V=m.geography)&&void 0!==V&&V.postalCode))}function p(m){return!m.invert}function n(m){return!(!m||!m.dateTime)}function l(m,u,V){e.fF.assertValue(m,"scale");var d=m(u)-m(V);return 0===d?0:d<0?Math.min(d,-1):Math.max(d,1)}function r(m,u,V,d){if(!V){var S=(0,c.Ym)();S.update(u-m),V=S.displayUnit&&S.displayUnit.value||1}var g=(m||0)/V,y=(u||0)/V;if(d){var C=(0,s.rH)(d,!1,!1,!0).partsPerScale;g*=C,y*=C}return Math.max(o(g),o(y))}function o(m){if(0===m)return 0;m<0&&(m=-m);var u=Math.floor((0,f.mv)(m));if(u>=0){var S=5-(u+1);return S<=0?0:a(m,S)}return u<-5?5:-u-1+a(m/(0,f.wA)(u+1),5)}function a(m,u){var V=m.toFixed(u),d=V.indexOf(".");if(-1!==d)for(var S=V.length;S-- >d;)if("0"!==V[S])return S-d;return 0}function i(m,u,V){0!==m.size()&&m.each(function(){var d=d3.select(this);V(d.node(),u)})}},298801:function(Je,H,t){t.d(H,{v:function(){return h}});var e=t(177497),c=t(251912),s=t(787941),f=t(698129),v=t(129035),b=t(744104),h=function(){function p(n,l,r,o,a){this.style=a,this.colors=n,this.fillProp=l,this.defaultDataPointColor=r,this.defaultCategoryColor=o,this.defaultColorScale=this.colors.getNewColorScale()}return p.create=function(n,l,r,o){return new p(n.colorPalette.dataColors,l,r,o,n)},p.prototype.getColorForSeriesValue=function(n,l,r,o,a){return this.style&&this.style.isHighContrast?p.getHighContrastDataColor(this.style,o):this.getFillWithOptionalValidation(n,a)||this.getColorWithOptionalValidation(this.defaultDataPointColor,a)||this.getColorScaleForSeries(l).getColor(r).value},p.prototype.getColorScaleForSeries=function(n){return this.colors.getColorScaleByKey((0,b.Gg)(n||[]))},p.prototype.getColorForStaticSeries=function(n,l,r,o){if(this.style&&this.style.isHighContrast)return p.getHighContrastDataColor(this.style,r);var a=this.defaultColorScale.getColor(l).value;return this.getFillWithOptionalValidation(n,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||a},p.prototype.getColorForMeasure=function(n,l,r,o){if(this.style&&this.style.isHighContrast)return p.getHighContrastDataColor(this.style,r);var a=this.defaultColorScale.getColor(l).value;return this.getFillWithOptionalValidation(n,o)||this.getColorWithOptionalValidation(this.defaultCategoryColor,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||a},p.prototype.getColorForProperty=function(n,l,r,o){var a=this.style&&r&&p.getThemeColor(this.style,r);return this.getColorForPropertyWithDefaultColor(n,l,a,o)},p.prototype.hasColorForProperty=function(n,l,r){return(0,f.bC)(n,l,r)},p.prototype.getColorForPropertyWithDefaultColor=function(n,l,r,o){return this.style&&this.style.isHighContrast?r:(0,f.W7)(n,l,r,o)},p.prototype.getColorForPropertyName=function(n,l,r){var o=this.style&&r&&p.getThemeColor(this.style,r);return this.getColorForPropertyNameWithDefaultColor(n,l,o)},p.prototype.getColorForPropertyNameWithDefaultColor=function(n,l,r,o){var a=this.style&&this.style.isHighContrast,i=(0,v.y)(n,l,r,void 0,o);return o&&null===i?null:a?r:i},p.getSentimentColor=function(n,l,r){return n.isHighContrast?p.getHighContrastDataColor(n,r):n.colorPalette.dataColors.getSentimentColors()[l].value},p.getGradientColor=function(n,l,r){return n.isHighContrast?p.getHighContrastDataColor(n,r):n.colorPalette.dataColors.getGradientColors()[l].value},p.getDataColorByIndex=function(n,l,r){return n.isHighContrast?p.getHighContrastDataColor(n,r):n.colorPalette.dataColors.getColorByIndex(l).value},p.getThemeColor=function(n,l){return n.colorPalette[l].value},p.getFillColor=function(n,l,r){return n.isHighContrast?p.getHighContrastDataColor(n,r):l&&l.solid&&l.solid.color},p.normalizeSelector=function(n,l){return s.fF.assertAnyValue(n,"selector"),n&&(l||n.data)?{data:n.data}:n},p.getHighContrastDataColor=function(n,l){return void 0===l&&(l=c.U),n.colorPalette[l].value},p.prototype.getFillWithOptionalValidation=function(n,l){var r=this.fillProp&&(0,f.W7)(n,this.fillProp);return l&&r&&!(0,e.WV)(r)&&(r=void 0),r},p.prototype.getColorWithOptionalValidation=function(n,l){var r=n;return l&&n&&!(0,e.WV)(n)&&(r=void 0),r},p}()},4045:function(Je,H,t){t.d(H,{R:function(){return s}});var e=t(448711),c=t(506963),s=function(){function f(){this.cache={}}return f.prototype.getOrCreate=function(v,b,h,p,n){null==p&&(p=b.precision);var l={formatString:v,displayUnits:b.displayUnits,precision:v?(0,c.h1)(p,v):p,value2:h,appendedKey:n},r=JSON.stringify(l);return this.cache[r]||(this.cache[r]=(0,e.Ue)((0,c.YO)(b,v,h,l.precision))),this.cache[r]},f}()},438165:function(Je,H,t){t.d(H,{AD:function(){return i},ML:function(){return o},Zy:function(){return n},bR:function(){return a}});var e=t(787941),c=t(299747),s=t(760182),f=t(292042),v=t(448711),b=t(324356),h=t(592042),p=t(679752);function n(m,u,V){if(!m||!m.categorical||_.isEmpty(m.categorical.categories))return m;var d=m.categorical.categories,S=function(m,u){for(var V=[],d=0,S=m;d<S.length;d++)for(var g=S[d],y=g.values,C=(0,v.EO)(g.source,u),E=(0,v.Ue)({format:C,value:y[0],value2:y[y.length-1],displayUnitSystemType:s.V.Verbose,columnType:g.source.type}),M=0,P=g.values.length;M<P;M++){var x=E.format(g.values[M]),R=V[M];R||V.splice(M,0,R=[]),R.push(x)}return _.map(V,function(D){return D.join(" ")})}(d,u),g=function(m,u){var d=a(i(m)),S={};S[u]=!0;var g={displayName:d.displayName,roles:S,type:h.Ge.fromPrimitiveTypeAndCategory(1)},y=_.last(m).source;return void 0!==y.isMeasure&&(g.isMeasure=y.isMeasure),g.queryName=y.queryName,g}(d,V),y=(0,c.qO)(m),C=(0,c.qO)(y.metadata.columns);C.push(g);var E=(0,c.qO)(y.metadata);E.columns=C,y.metadata=E;var M=m.categorical,P=(0,f.OC)(M.categories),T={source:g,values:S},x=m.categorical.categories[0];x.identity&&(T.identity=x.identity),x.identityFields&&(T.identityFields=x.identityFields),P&&(T.objects=P);var R=[T],D=(0,c.qO)(M);return D.categories=R,D.originalCategories=d,y.categorical=D,y}function o(m){return m.join(" ")}function a(m){return{displayName:_.map(m,function(u){return u.displayName}).join(" "),value:_.map(m,function(u){return u.value}).join(" ")}}function i(m,u,V){var d=null!=u;e.fF.assert(function(){return!d||!!V},"formatStringProp");for(var S=null,g=null,y=null,C=[],E=0,M=m;E<M.length;E++){var P=M[E],T=P.source;if(T){var x=T.expr?b.X1.getProperty(T.expr):null;null!=x?(x===S?g=T.displayName:(null!==S&&(e.fF.assertValue(y,"currentValueParts is undefined on changing hierarchies..."),C.push({displayName:"".concat(S," ").concat(g),value:y?y.join(" "):null})),S=x,g=T.displayName,y=null,d&&(y=[])),d&&y.push((0,p.xq)(P.values[u],T,V,!1))):null!=S?(C.push({displayName:"".concat(S," ").concat(g),value:y?y.join(" "):null}),S=null,g=null,y=null,C.push({displayName:T.displayName,value:d?(0,p.xq)(P.values[u],T,V,!1):null})):C.push({displayName:T.displayName,value:d?(0,p.xq)(P.values[u],T,V,!1):null})}}return null!=S&&(e.fF.assertValue(d&&!y,"currentValueParts is undefined with defined includeValue..."),C.push({displayName:"".concat(S," ").concat(g),value:d&&y?y.join(" "):null})),C}},2570:function(Je,H,t){t.d(H,{BS:function(){return x},Bo:function(){return R},FJ:function(){return h},Hj:function(){return te},In:function(){return He},JA:function(){return Q},L0:function(){return u},LK:function(){return N},LV:function(){return be},M3:function(){return U},N0:function(){return w},NL:function(){return oe},NZ:function(){return W},OW:function(){return d},Pq:function(){return S},Q2:function(){return ve},Qc:function(){return k},TS:function(){return o},UU:function(){return v},Uy:function(){return V},Vr:function(){return m},WP:function(){return A},WV:function(){return re},XJ:function(){return O},Xx:function(){return ee},ZL:function(){return me},_i:function(){return X},bL:function(){return ie},bN:function(){return xe},d1:function(){return F},go:function(){return p},i1:function(){return D},iX:function(){return J},ki:function(){return a},lj:function(){return Ve},lp:function(){return T},oA:function(){return Se},pJ:function(){return Pe},pl:function(){return P},qy:function(){return b},r_:function(){return l},rp:function(){return Te},u9:function(){return Be},uM:function(){return L},uQ:function(){return M},vo:function(){return G},wh:function(){return i},xb:function(){return Qe},xy:function(){return ne}});var e=t(520907),c=t(803018),s=t(744883),f=t(629925),v=9,b=8,h=8,p=50,l=.3,o=6,a=8,i=8,m=50,u="0.00 %;-0.00 %;0.00 %",V=9,d=c.Wn.regularSecondary.css,S=c.Wn.regular.css,E="normal",M="foregroundNeutralSecondaryAlt",P="foregroundLight",T="backgroundDark",x=.9,R=4,D=4,L=4,F=2,A=10,O=12,N=7,w=40,W=void 0,U=void 0,k=void 0,Q="Solid",te=1,ee=0,J=void 0,re=void 0,G=15,ne=0,X=1,oe=50,Ve=25,Te=0,Qe=400,He=-1,me=((0,f.CH)("labels"),(0,f.CH)("lines"),(0,f.CH)("data-labels"),(0,f.CH)("line-label"),(0,f.CH)("labelGraphicsContext")),be=(0,f.CH)("labelContainerGraphicsContext"),Be=(0,f.CH)("labelBackgroundGraphicsContext"),Se=(0,f.CH)("labelSeriesGraphicsContext"),Pe=(0,f.CH)("labelSeriesBackgroundGraphicsContext"),ue="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",ve=new RegExp("^[^".concat(ue,"]*?[").concat(ue,"]")),xe={fontFamily:c.Wn.regularSecondary.css,fontSize:e.FP.fromPoint(V),fontWeight:E},ie={family:d,size:s.B.createFromPt(V),weight:E,style:null,textDecoration:null}},679752:function(Je,H,t){t.d(H,{Gr:function(){return i},O1:function(){return n},Pl:function(){return b},TO:function(){return h},cR:function(){return o},pt:function(){return r},xh:function(){return v},xq:function(){return m}});var e=t(787941),c=t(760182),s=t(448711);function v(u,V,d){if(void 0===d&&(d=function(C){return _.last(C.categories).values}),u.categories&&u.categories.length>0){var S=_.last(u.categories),g=d(u);return S.values.length>0?{categories:g,categoryFormatter:(0,s.Ue)({format:(0,s.EO)(S.source,V),value:g[0],value2:g[g.length-1],displayUnitSystemType:c.V.Verbose,columnType:S.source.type}),categoryIdentities:S.identity,categoryObjects:S.objects}:{categories:[],categoryFormatter:{format:s.WU}}}return{categories:[null],categoryFormatter:{format:s.WU}}}function b(u){return e.fF.assertValue(u,"source"),void 0!==u.groupName?u.groupName:u.queryName}function h(u,V,d){e.fF.assertValue(u,"source"),e.fF.assertValue(V,"values");var S=u,g=u.displayName;return void 0!==u.groupName&&(S=V.source,g=u.groupName),(0,s.WU)(g,(0,s.EO)(S,d))}function n(u){var V,d;u instanceof Array?(d=u.map(function(S){return S?S.displayName:""}).filter(function(S,g,y){return""!==S&&y.indexOf(S)===g}),V=(0,s.aY)(d)):u&&(V=u.displayName);return V}function r(u){var V=a(u);return null!=V&&!0===V.imageUrl}function o(u){var V=a(u);return null!=V&&!0===V.webUrl}function a(u){return u&&u.type&&u.type.misc}function i(u){return!(!u||!u.metadata||_.isEmpty(u.metadata.columns))&&_.some(u.metadata.columns,function(V){return!0===r(V)})}function m(u,V,d,S,g){return void 0===S&&(S=!0),e.fF.assertValue(V,"column should exist"),g||(!S&&V&&V.format&&(S=!0),g=(0,s.EO)(V,d,S)),!g&&V&&(g=V.format),(0,s.WU)(u,g)}},760868:function(Je,H,t){t.d(H,{S:function(){return e}});var e=function(c){return c[c.variant=0]="variant",c[c.text=1]="text",c[c.number=2]="number",c[c.DateTime=3]="DateTime",c}({})},169327:function(Je,H,t){function e(s){return s.some(function(f){return c(f)})}function c(s){return s&&void 0!==s.labelDataPointContents}t.d(H,{r:function(){return c},t:function(){return e}})},838094:function(Je,H,t){t.d(H,{Bf:function(){return ve},Bo:function(){return L},JP:function(){return R},Pd:function(){return E},R1:function(){return We},SS:function(){return Ne},Sw:function(){return ue},TS:function(){return C},W1:function(){return de},Xc:function(){return le},bN:function(){return D},d6:function(){return ie},fI:function(){return Fe},gm:function(){return Pe},ki:function(){return M},n8:function(){return Oe},ng:function(){return me},wh:function(){return P},x5:function(){return Qe},y3:function(){return Ee},z8:function(){return Se}});var m,V,d,e=t(629925),c=t(787941),s=t(803018),f=t(786277),v=t(344888),b=t(14253),h=t(520907),p=t(240849),n=t(279295),l=t(453543),r=t(4045),o=t(187810),a=t(625506),i=t(744883),C=6,E=1,M=8,P=8,R={family:s.Wn.regularSecondary.css,size:i.B.createFromPt(9),weight:"normal"},D={fontFamily:s.Wn.regularSecondary.css,fontSize:h.FP.fromPoint(9),fontWeight:"normal"},L=4,O="-0.25em",B=((0,e.CH)("labelGraphicsContext"),(0,e.CH)("labelBackgroundGraphicsContext"),(m=(0,e.CH)("label")).class),j=m.selector,W=(0,e.CH)("label-background").class,k=(V=(0,e.CH)("seriesLabel")).class,Q=V.selector,te=(d=(0,e.CH)("label-second-line")).class,ee=d.selector,J=(0,e.CH)("leader-lines"),re=(0,e.CH)("line-label");function G(Y){var ye=0===Y.labelOrientation;return Y.boundingBox.left+(ye?Y.boundingBox.width:Y.boundingBox.width/2)-(Y.hasBackground&&ye?L:0)}function oe(Y){var ye=0===Y.labelOrientation,rt=ye?Y.boundingBox.height/2:Y.boundingBox.height,it=Y.hasBackground&&!ye?2:0;return Y.wordBreak&&(rt=Y.boundingBox.height/2,it=-2),Y.boundingBox.top+rt-it}function Qe(Y){var ye=Y.dataLabels,rt=Y.formatMode,it=Y.hasTooltip,Ue=Y.labelContext,De=Y.numeric,Le=Y.onObject,Xe=Y.twoRows,et={transform:function(fe){var we="translate(".concat(G(fe),",").concat(oe(fe),")");return 0===fe.labelOrientation?"".concat(we,"rotate(-90)"):we},dy:O};De&&(et.dy=void 0);var he=Ue.selectAll(j).data(ye,K),ce=he.enter().append("text").classed(B,!0).merge(he);Le&&be(ce,function(ae){return!ae.hasBackground}),ce.interrupt().text(function(ae){return ae.text}).attrs(et).style("text-anchor",function(ae){return ae.textAnchor}).styles(function(ae){return(0,o.E_)(ae.fontProperties)}),he.exit().remove(),et={transform:function(fe){return"translate(".concat(function(Y){return Y.boundingBox.left+Y.boundingBox.width/2}(fe),",").concat(function(Y){return Y.boundingBox.top+(void 0!==Y.text?Y.boundingBox.height/2:Y.boundingBox.height)}(fe),")")},dy:O},De&&(et.dy=void 0);var Re=_.filter(Xe?ye:[],function(ae){return!_.isEmpty(ae.secondRowText)}),Ge=Ue.selectAll(ee).data(Re,function(ae,fe){return ae.identity?ae.identity.getKeyWithoutHighlight():fe.toString()}),ut=Ge.enter().append("text").classed(te,!0).merge(Ge);Le&&be(ut,function(ae){return!ae.hasBackground}),ut.interrupt().text(function(ae){return ae.secondRowText}).attrs(et).style("text-anchor",function(ae){return ae.textAnchor}).styles(function(ae){return(0,o.E_)(ae.fontProperties)}),it&&(ce.append("title").text(function(ae){return ae.tooltip}),ut.append("title").text(function(ae){return ae.tooltip}));var je=function(fe){return Le?rt&&fe.hasBackground||!rt&&(!it||null==fe.tooltip)?"none":"all":it&&null!=fe.tooltip?"all":"none"};return ce.style("pointer-events",function(ae){return je(ae)}),ut.style("pointer-events",function(ae){return je(ae)}),Ge.exit().remove(),ce}function Ce(Y,ye,rt,it){for(var Ue=d3.select(Y),De=b.b.estimateSvgTextHeight(rt),Le=Math.min(ye.length,2),Xe=0,et=0;et<Le;et++){rt.text=ye[et],ye.length>2&&et&&(rt.text=ye[et].concat("..."));var he=b.b.getTailoredTextOrDefault(rt,it);Ue.append("tspan").attr("id","wordWrap".concat(ye[et])).attrs({x:0,dy:et?De:O}).text(he);var ce=b.b.measureSvgTextWidth(rt,he);Xe=ce>Xe?ce:Xe}return Xe}function de(Y,ye,rt,it,Ue,De,Le){void 0===Ue&&(Ue=0),void 0===De&&(De=!1),void 0===Le&&(Le=!1);var Xe=b.b.estimateSvgTextHeight(ye)+Ue,et=Math.max(1,Math.floor(it/Xe));return(0,p.ql)(Y,ye,b.b.measureSvgTextWidth,rt,et,null,!1,De,Le)}function pe(Y){c.fF.assertValue(Y,"textElement");var ye=b.b.getSvgMeasurementProperties(Y);return b.b.measureSvgTextWidth(ye,Y.textContent)}function le(Y,ye,rt,it,Ue,De){void 0===it&&(it=!1),void 0===Ue&&(Ue=d3.easeCubicInOut);var Le={transform:function(ce){var Re="translate(".concat(G(ce),",").concat(oe(ce),")");return 0===ce.labelOrientation?"".concat(Re,"rotate(-90)"):Re},dy:O};it&&(Le.dy=void 0);var Xe=Y.selectAll(j).data(ye,K),et=Xe.enter().append("text").classed(B,!0).style("opacity",0).attrs(Le).merge(Xe);return De&&et.classed(a.cy,!0).attr(a.Ez,function(he){return he.isCategory?"category-labels":"data-labels"}).attr(a.CK,"Visual_DataPointsLabels").attr(a.QZ,1),et.text(function(he){return he.text}).style("text-anchor",function(he){return he.textAnchor}).styles(function(he){return(0,o.E_)(he.fontProperties)}).transition().ease(Ue).duration(rt).attrs(Le).style("opacity",1),Xe.exit().transition().duration(rt).style("opacity",0).remove(),et}function me(Y){var ye=Y.context,it=Y.onObject,Ue=_.filter(Y.dataLabels,function(Xe){return Xe.hasBackground}),De=ye.selectAll("rect"),Le=(De=De.data(Ue,K)).enter().append("rect").merge(De);return Le.classed(W,!0).attr("x",function(Xe){return Xe.boundingBox.left-L}).attr("y",function(Xe){return Xe.boundingBox.top-2}).attr("rx",4).attr("ry",4).attr("width",function(Xe){return Xe.boundingBox.width+2*L}).attr("height",function(Xe){return void 0===Xe.text&&void 0===Xe.secondRowText?0:Xe.boundingBox.height+4}).style("fill",function(Xe){return Xe.backgroundColor}).style("fill-opacity",function(Xe){return 1-Xe.backgroundTransparency}),it&&be(Le,function(Xe){return Xe.hasBackground}),De.exit().remove(),Le}function be(Y,ye){Y.classed(a.cy,function(rt){return ye(rt)}).attr(a.Ez,function(rt){return ye(rt)?rt.isCategory?"category-labels":rt.isTotal?"total-labels":"data-labels":null}).attr(a.CK,function(rt){return ye(rt)?rt.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(a.QZ,function(rt){return ye(rt)?1:null})}function Se(Y,ye,rt,it){Y.select(J.selector).empty()&&Y.append("g").classed(J.class,!0);var Ue=Y.select(J.selector).selectAll("polyline").data(ye,rt);Ue.enter().append("polyline").classed(re.class,!0).merge(Ue).attr("points",function(Le){return Le.leaderLinePoints}).style("stroke",function(Le){return it||(Le.fontProperties?Le.fontProperties.color:void 0)}).style("stroke-width",E),Ue.exit().remove()}function Pe(Y){var ye=Qe(Y);return me({context:Y.backgroundContext,dataLabels:Y.dataLabels,onObject:Y.onObject}),ye}function ue(Y){return function(Y,ye,rt,it,Ue,De,Le,Xe,et){var he={transform:function(gr){var mr=Ue?5:-5,Sr=function(Y){return Y.boundingBox.left+(Y.hasBackground?L:0)}(gr)+mr,Mr="translate(".concat(Sr,",").concat(oe(gr),")");return 0===gr.labelOrientation?"".concat(Mr,"rotate(-90)"):Mr},dy:O},ce=Y.selectAll(Q).data(rt,K),Re=ce.enter().append("text").classed(k,!0).merge(ce);et&&Re.classed(a.cy,!0).attr(a.Ez,"series-labels").attr(a.CK,"Visual_SeriesLabels").attr(a.QZ,1);var Ge=[],ut=0;Re.interrupt().text(function(sr){return De?sr.text:function(Y,ye,rt,it){var Ue=D,De={text:Y,fontFamily:rt||Ue.fontFamily,fontSize:h.FP.fromPoint(ye),fontWeight:Ue.fontWeight};return b.b.getTailoredTextOrDefault(De,it)}(sr.text,sr.fontProperties&&sr.fontProperties.size?sr.fontProperties.size.pt:void 0,sr.fontProperties?sr.fontProperties.family:void 0,it)}).attrs(he).styles(function(sr){return(0,o.E_)(sr.fontProperties)}).styles({"text-anchor":Ue?"start":"end","white-space":"pre"});var je=Re.nodes();if(De)for(var ae=b.b.estimateSvgTextHeight(D),we=Xe+ae+(Le.height-ae-Xe)/2,ze=0,$e=je;ze<$e.length;ze++){c.fF.assertValue(ot=$e[ze],"textElement");var _t=ot.textContent,ke=b.b.getSvgMeasurementProperties(ot);ot.textContent=null;var Tt=Ce(ot,de(_t,ke,it,Le.height-we,void 0,!0,!0),ke,it);rt[ut].hasBackground&&Ge.push(Tt),ut++}else for(var Wt=0,Kt=je;Wt<Kt.length;Wt++){var ot=Kt[Wt];rt[ut].hasBackground&&Ge.push(pe(ot)),ut++}ce.exit().remove();var Zt=_.filter(rt,function(sr){return sr.hasBackground}),er=ye.selectAll("rect");return(er=er.data(Zt,K)).enter().append("rect").merge(er).attr("transform",function(sr,gr){var mr=sr.boundingBox.left;return Ue||(mr-=Ge[gr]),"translate(".concat(mr+=Ue?5:-5,",").concat(function(Y){var ye=0;return Y.wordBreak||(ye=(Y.boundingBox.height+4)/4),Y.boundingBox.top-ye}(sr),")")}).attr("rx",4).attr("ry",4).attr("width",function(sr,gr){return Ge[gr]+2*L}).attr("height",function(sr){return void 0===sr.text&&void 0===sr.secondRowText?0:sr.boundingBox.height+4}).style("fill",function(sr){return sr.backgroundColor}).style("fill-opacity",function(sr){return 1-sr.backgroundTransparency}),er.exit().remove(),Re}(Y.labelContext,Y.backgroundContext,Y.dataLabels,Y.availableWidth,Y.position,Y.seriesWordWrap,Y.plotArea,Y.seriesFontSize,Y.onObject)}function ve(Y){var ye=le(Y.labelContext,Y.dataLabels,Y.duration,Y.numeric,Y.easeType,Y.onObject);return function(Y,ye,rt,it,Ue){void 0===it&&(it=!1),void 0===Ue&&(Ue=d3.easeCubicInOut);var De=_.filter(ye,function(et){return et.hasBackground}),Le=Y.selectAll("rect").data(De,K);Le.enter().append("rect").style("fill-opacity",0).merge(Le).transition().ease(Ue).duration(rt).attrs({x:function(he){return he.boundingBox.left-L},y:function(he){return he.boundingBox.top-2},rx:4,ry:4,width:function(he){return he.boundingBox.width+2*L},height:function(he){return void 0===he.text&&void 0===he.secondRowText?0:he.boundingBox.height+4}}).style("fill",function(et){return et.backgroundColor}).style("fill-opacity",function(et){return 1-et.backgroundTransparency}),Le.exit().transition().duration(rt).style("fill-opacity",0).remove()}(Y.backgroundContext,Y.dataLabels,Y.duration,Y.numeric,Y.easeType),ye}var xe=function(){function Y(ye,rt){if(this.noPrecision=!0,0===rt.displayUnits){var it=ye.formatter;if(this.units=it&&it.displayUnit&&it.displayUnit.value,null==rt.precision){this.noPrecision=!1;var Ue=it&&it.options;if(Ue&&Ue.precision)this.precisionForAxis=ye.formatter.options.precision+1;else{var De=ye.axis.tickValues();De&&De.length&&(this.precisionForAxis=(0,n.Gv)(De[0],De.length>1?De[1]:void 0,10*(this.units||1),Ue&&Ue.format))}}}}return Y.prototype.getPrecision=function(ye,rt){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!ye)return rt&&rt.integer?0:this.precisionForAxis}},Y}();function ie(Y,ye){return new xe(Y,ye)}function Fe(){return new r.R}function We(Y){for(var ye=[],rt={},it=function(ce,Re,Ge){return Re.some(function(ut){return Ge?(0,v.fS)(ce.parentShape.rect,ut.rect):(0,f.fS)(ce.parentShape.point,ut.point)})},Ue=0,De=Y;Ue<De.length;Ue++){var Le=De[Ue];if(c.fF.assertValue(Le,"dataPoint"),null!=Le){var et=rt[Le.text];et?it(Le,et,1===Le.parentType)||(ye.push(Le),et.push(Le.parentShape)):(ye.push(Le),rt[Le.text]=[Le.parentShape])}}return ye}function Oe(Y){return 10===Y?{maximumOffset:l.rA,startingOffset:l.vD,offsetIterationDelta:l.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:P,startingOffset:M,attemptToMoveLabelsIntoViewport:!0}}function Ee(Y,ye,rt){var it=D,Ue={text:Y,fontFamily:rt||it.fontFamily,fontSize:h.FP.fromPoint(ye),fontWeight:it.fontWeight};return{width:b.b.measureSvgTextWidth(Ue),height:b.b.estimateSvgTextHeight(Ue)}}function K(Y,ye){return Y.key?Y.key:Y.identity?Y.identity.getKeyWithoutHighlight():ye}function Ne(Y,ye,rt,it){if(null==ye||0===ye)return rt;var Ue=ye/100,De=Math.ceil(Y/it);return 1===Ue?De:rt+Math.floor(Ue*(De-rt))}},868686:function(Je,H,t){t.d(H,{U2:function(){return re},S1:function(){return J}});var V,d,S,y,C,E,k,Q,e=t(787941),c=t(838094),s=t(629925),f=t(786277),v=t(344888),b=t(14253),h=t(520907),p=t(240849),n=t(326621),l=t(279295),r=t(4045),o=t(2570),a=t(169327),i=t(187810),m=t(453543),u=t(625506),M=(V=(0,s.CH)("label")).class,P=V.selector,T=(d=(0,s.CH)("label-container")).class,x=d.selector,R=(S=(0,s.CH)("label-tspan")).class,D=S.selector,L=(0,s.CH)("label-background").class,A=(y=(0,s.CH)("seriesLabel")).class,O=y.selector,N=(C=(0,s.CH)("label-second-line")).class,w=C.selector,I=(E=(0,s.CH)("label-container-background")).class,B=E.selector,j=function(){function ne(){this.nonNumericVerticalOffset="-0.25em",this.horizontalSeriesLabelPadding=5,this.linesGraphicsContextClass=(0,s.CH)("leader-lines"),this.lineClass=(0,s.CH)("line-label"),this.labelBackgroundRounding=4,this.LineStrokeWidth=1,this.sameParentIsInArray=function(X,oe,Ve){return oe.some(function(Te){return Ve?(0,v.fS)(X.parentShape.rect,Te.rect):(0,f.fS)(X.parentShape.point,Te.point)})},this.roleSortOrder={Title:1,Value:2,Detail:3}}return ne.prototype.createColumnFormatterCacheManager=function(){return new r.R},ne.prototype.drawLabelContainer=function(X){var le,oe=this,Te=X.labelContainers,Qe=X.onObject,He={transform:function(Be){var Se="translate(".concat(oe.getLabelContainerX(Be),",").concat(oe.getLabelContainerY(Be),")");return 0===Be.labelOrientation?"".concat(Se,"rotate(-90)"):Se},dy:this.nonNumericVerticalOffset},Ce=X.labelGroupContext.selectAll(x).data(Te,this.labelKeyFunction),de=Te.some(function(be){return!_.isEmpty(be.labelContents)}),pe=Te.some(function(be){return be.hasBackground});return de&&(le=Ce.enter().append("g").merge(Ce).classed(T,!0).attrs(He),pe&&this.drawLabelContainerBackground(le,X.onObject),this.drawLabelContainerContent(le),le.style("pointer-events",function(be){return Be=be,X.onObject?X.formatMode&&Be.hasBackground||!X.formatMode&&(!X.hasTooltip||null==Be.tooltip)?"none":"all":X.hasTooltip&&null!=Be.tooltip?"all":"none";var Be})),le&&((!pe||!de)&&le.selectAll(B).remove(),le.filter(function(be){return!be.hasBackground}).selectAll(B).remove()),Qe&&this.updateDataLabelSubSelectionAttributes(le,function(be){return!be.hasBackground}),Ce.exit().remove(),le},ne.prototype.removeContainerContent=function(X){var oe;null===(oe=X.selectAll(x))||void 0===oe||oe.remove()},ne.prototype.removeContainerBackground=function(X){var oe;null===(oe=X.selectAll(B))||void 0===oe||oe.remove()},ne.prototype.drawLabelsAndBackgrounds=function(X){var oe=this.drawDefaultLabels(X);return this.drawLabelBackground({context:X.backgroundContext,dataLabels:X.dataLabels,onObject:X.onObject}),oe},ne.prototype.animateDefaultLabels=function(X,oe,Ve,Te,Qe,He){var Ce=this,de={transform:function(be){var Be="translate(".concat(Ce.getLabelX(be),",").concat(Ce.getLabelY(be),")");return 0===be.labelOrientation?"".concat(Be,"rotate(-90)"):Be},dy:this.nonNumericVerticalOffset};Te&&(de.dy=void 0);var pe=X.selectAll(P).data(oe,this.labelKeyFunction),le=pe.enter().append("text").classed(M,!0).style("opacity",0).attrs(de).merge(pe);return He&&le.classed(u.cy,!0).attr(u.Ez,function(me){return me.isCategory?"category-labels":"data-labels"}).attr(u.CK,"Visual_DataPointsLabels").attr(u.QZ,1),le.text(function(me){return me.text}).style("text-anchor",function(me){return me.textAnchor}).styles(function(me){return(0,i.E_)(me.fontProperties)}).transition().ease(Qe).duration(Ve).attrs(de).style("opacity",1),pe.exit().transition().duration(Ve).style("opacity",0).remove(),le},ne.prototype.animateLabelsAndBackgrounds=function(X){var oe=this.animateDefaultLabels(X.labelContext,X.dataLabels,X.duration,X.numeric,X.easeType,X.onObject);return this.animateLabelBackground(X.backgroundContext,X.dataLabels,X.duration,X.numeric,X.easeType),oe},ne.prototype.getDataLabelLayoutOptions=function(X){return 10===X?{maximumOffset:m.rA,startingOffset:m.vD,offsetIterationDelta:m.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:o.wh,startingOffset:o.ki,attemptToMoveLabelsIntoViewport:!0}},ne.prototype.drawLabelLeaderLines=function(X,oe,Ve,Te){this.ensureGraphicsContext(X);var Qe=this.getLeaderLines(X,oe,Ve);this.updateLeaderLines(Qe,Te),this.removeOldLeaderLines(Qe)},ne.prototype.getLabelUnitAndPrecisionForAxis=function(X,oe){return new W(X,oe)},ne.prototype.drawSeriesLabelsAndBackgrounds=function(X){return this.drawDefaultSeriesLabels(X.labelContext,X.backgroundContext,X.dataLabels,X.availableWidth,X.position,X.seriesWordWrap,X.plotArea,X.seriesFontSize,X.onObject)},ne.prototype.getLabelFormattedText=function(X,oe,Ve){return Ve?Ve.format(X):n.dx.formatValue(X,oe)},ne.prototype.drawDefaultLabels=function(X){var oe=this,Ve=X.dataLabels,Te=X.formatMode,Qe=X.hasTooltip,He=X.labelContext,Ce=X.numeric,de=X.onObject,pe=X.twoRows,le={transform:function(xe){var ie="translate(".concat(oe.getLabelX(xe),",").concat(oe.getLabelY(xe),")");return 0===xe.labelOrientation?"".concat(ie,"rotate(-90)"):ie},dy:this.nonNumericVerticalOffset};Ce&&(le.dy=void 0);var me=He.selectAll(P).data(Ve,this.labelKeyFunction),be=me.enter().append("text").classed(M,!0).merge(me);de&&this.updateDataLabelSubSelectionAttributes(be,function(ve){return!ve.hasBackground}),be.interrupt().text(function(ve){return ve.text}).attrs(le).style("text-anchor",function(ve){return ve.textAnchor}).styles(function(ve){return(0,i.E_)(ve.fontProperties)}),me.exit().remove(),le={transform:function(xe){return"translate(".concat(oe.getLabelX2ndLine(xe),",").concat(oe.getLabelY2ndLine(xe),")")},dy:this.nonNumericVerticalOffset},Ce&&(le.dy=void 0);var Be=_.filter(pe?Ve:[],function(ve){return!_.isEmpty(ve.secondRowText)}),Se=He.selectAll(w).data(Be,function(ve,xe){return ve.identity?ve.identity.getKeyWithoutHighlight():xe.toString()}),Pe=Se.enter().append("text").classed(N,!0).merge(Se);de&&this.updateDataLabelSubSelectionAttributes(Pe,function(ve){return!ve.hasBackground}),Pe.interrupt().text(function(ve){return ve.secondRowText}).attrs(le).style("text-anchor",function(ve){return ve.textAnchor}).styles(function(ve){return(0,i.E_)(ve.fontProperties)}),Qe&&(be.append("title").text(function(ve){return ve.tooltip}),Pe.append("title").text(function(ve){return ve.tooltip}));var ue=function(xe){return de?Te&&xe.hasBackground||!Te&&(!Qe||null==xe.tooltip)?"none":"all":Qe&&null!=xe.tooltip?"all":"none"};return be.style("pointer-events",function(ve){return ue(ve)}),Pe.style("pointer-events",function(ve){return ue(ve)}),Se.exit().remove(),be},ne.prototype.drawLabelBackground=function(X){var oe=X.context,Te=X.onObject,Qe=_.filter(X.dataLabels,function(de){return de.hasBackground}),He=oe.selectAll("rect"),Ce=(He=He.data(Qe,this.labelKeyFunction)).enter().append("rect").merge(He);return Ce.classed(L,!0).attr("x",function(de){return de.boundingBox.left-o.Bo}).attr("y",function(de){return de.boundingBox.top-o.d1}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(de){return de.boundingBox.width+2*o.Bo}).attr("height",function(de){return void 0===de.text&&void 0===de.secondRowText?0:de.boundingBox.height+2*o.d1}).style("fill",function(de){return de.backgroundColor}).style("fill-opacity",function(de){return 1-de.backgroundTransparency}),Te&&this.updateDataLabelSubSelectionAttributes(Ce,function(de){return de.hasBackground}),He.exit().remove(),Ce},ne.prototype.getNumberOfLabelsToRender=function(X,oe,Ve,Te){if(null==oe||0===oe)return Ve;var Qe=oe/100,He=Math.ceil(X/Te);return 1===Qe?He:Ve+Math.floor(Qe*(He-Ve))},ne.prototype.removeDuplicates=function(X){return(0,a.t)(X)?this.removeDuplicateContainers(X):this.removeDuplicateLabels(X)},ne.prototype.getTextSize=function(X,oe,Ve){var Te=o.bN,Qe={text:X,fontFamily:Ve||Te.fontFamily,fontSize:h.FP.fromPoint(oe),fontWeight:Te.fontWeight};return{width:b.b.measureSvgTextWidth(Qe),height:b.b.estimateSvgTextHeight(Qe)}},ne.prototype.checkWordBreak=function(X,oe,Ve,Te,Qe,He,Ce){void 0===Qe&&(Qe=0),void 0===He&&(He=!1),void 0===Ce&&(Ce=!1);var de=b.b.estimateSvgTextHeight(oe)+Qe,pe=Math.max(1,Math.floor(Te/de));return(0,p.ql)(X,oe,b.b.measureSvgTextWidth,Ve,pe,null,!1,He,Ce)},ne.prototype.isLabelContainer=function(X){return X&&void 0!==X.labelContents},ne.prototype.getLeaderLines=function(X,oe,Ve){return X.select(this.linesGraphicsContextClass.selector).selectAll("polyline").data(oe,Ve)},ne.prototype.drawLabelContainerContent=function(X){var oe=this,Ve=X.selectAll(P).data(function(pe){return[pe]}),He=Ve.enter().append("text").merge(Ve).attr("x",function(pe){return 0===(le=pe).labelOrientation?o.Bo:le.boundingBox.width/-2;var le}).attr("y",function(pe){return ue=(Be=(le=pe).labelContents).length>1&&0!==le.labelOrientation?(Be.length-1)*o.i1-(le.hasBackground?o.d1:0):0,"MultiLine"===le.contentLayout?(le.boundingBox.height+ue)/-2:-((le.hasBackground?0===le.labelOrientation?o.d1:o.Bo:0)+ue);var le,Be,ue}).style("text-anchor",function(pe){return pe.textAnchor}).classed(M,!0);He.selectAll("tspan").remove();var Ce=He.interrupt().selectAll(D).data(function(pe){return oe.computeTspanData(pe)},function(pe){return pe.label.role}),de=Ce.enter().append("tspan").merge(Ce);de.interrupt().attr("x",function(pe){return pe.x}).attr("y",function(pe){return pe.y}).attr("dx",function(pe){return pe.dx}).attr("dy",function(pe){return pe.dy}).text(function(pe){return pe.label.text}).styles(function(pe){return(0,i.E_)(pe.label.fontProperties)}).style("fill-opacity",function(pe){var le;return null!==(le=1-pe.label.transparency)&&void 0!==le?le:0}).classed(R,!0),Ve.exit().remove(),Ce.exit().remove(),de.exit().remove()},ne.prototype.removeDuplicateLabels=function(X){for(var oe=[],Ve={},Te=0,Qe=X;Te<Qe.length;Te++){var He=Qe[Te];if(e.fF.assertValue(He,"dataPoint"),null!=He){var Ce=He,pe=Ve[Ce.text];pe?this.sameParentIsInArray(Ce,pe,1===Ce.parentType)||(oe.push(Ce),pe.push(Ce.parentShape)):(oe.push(Ce),Ve[Ce.text]=[Ce.parentShape])}}return oe},ne.prototype.removeDuplicateContainers=function(X){var oe=this,Ve=new Set,Te=new Set;return X.filter(function(Qe){var He=Qe.labelDataPointContents.map(function(de){return de.text}).join("|"),Ce=1===Qe.parentType;return!(Ve.has(He)&&oe.sameParentIsInArray(Qe,Array.from(Te),Ce)||(Ve.add(He),Te.add(Qe.parentShape),0))})},ne.prototype.computeTspanData=function(X){var oe=this,Ve=X.labelContents.sort(function(be,Be){return oe.roleSortOrder[be.role]-oe.roleSortOrder[Be.role]}),Te=1===Ve.length,Qe="MultiLine"===X.contentLayout,Ce=X.hasBackground?0===X.labelOrientation?o.d1:o.Bo:0,de=X.alignment,pe=X.boundingBox.width,le=function(Be){return Be.textSize.height+o.i1},me=function(Be){if(0===X.labelOrientation)switch(de){case"center":return(pe-Be.textSize.width)/2;case"left":default:return Ce;case"right":return pe-Ce-Be.textSize.width}else switch(de){case"center":default:return-Be.textSize.width/2;case"left":return-(pe-2*Ce)/2;case"right":return(pe-2*Ce)/2-Be.textSize.width}};return Ve.map(function(be,Be){return Qe&&!Te?{x:me(be),y:null,label:be,dx:null,dy:le(be),id:Be}:{x:null,y:0,label:be,dx:Be>0?o.uM:Ce,dy:".35em",id:Be}})},ne.prototype.drawLabelContainerBackground=function(X,oe){var Ve=X.selectAll(B).data(function(de){return[de]}),Te=Ve.enter().insert("rect","text").classed(I,!0).merge(Ve),Qe=2*o.d1,He=2*o.Bo,Ce=new Map;Te.interrupt().filter(function(de){return de.hasBackground}).each(function(de){var pe=0,le=0;"MultiLine"===de.contentLayout?(pe=0===de.labelOrientation?de.boundingBox.width+Qe:de.boundingBox.width+He,le=0===de.labelOrientation?de.boundingBox.height+He:de.boundingBox.height+Qe):(pe=0===de.labelOrientation?de.boundingBox.height+He:de.boundingBox.width+He,le=0===de.labelOrientation?de.boundingBox.width+Qe:de.boundingBox.height+Qe),Ce.set(de.identity.getKey(),{calculatedWidth:pe,calculatedHeight:le})}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(de){return Ce.get(de.identity.getKey()).calculatedWidth}).attr("height",function(de){return Ce.get(de.identity.getKey()).calculatedHeight}).attr("x",function(de){return 0===de.labelOrientation?0:Ce.get(de.identity.getKey()).calculatedWidth/-2}).attr("y",function(de){return Ce.get(de.identity.getKey()).calculatedHeight/-2}).style("fill",function(de){return de.backgroundColor}).style("fill-opacity",function(de){return 1-de.backgroundTransparency}),oe&&this.updateDataLabelSubSelectionAttributes(Te,function(de){return de.hasBackground}),Ve.exit().remove(),Te.exit().remove()},ne.prototype.getLabelY2ndLine=function(X){return X.boundingBox.top+(void 0!==X.text?X.boundingBox.height/2:X.boundingBox.height)},ne.prototype.getSeriesLabelX=function(X){return X.boundingBox.left+(X.hasBackground?o.Bo:0)},ne.prototype.getSeriesLabelY=function(X){var oe=0;return X.wordBreak||(oe=(X.boundingBox.height+2*o.d1)/4),X.boundingBox.top-oe},ne.prototype.getSeriesLabelFormattedText=function(X,oe,Ve,Te){var Qe=o.bN,He={text:X,fontFamily:Ve||Qe.fontFamily,fontSize:h.FP.fromPoint(oe),fontWeight:Qe.fontWeight};return b.b.getTailoredTextOrDefault(He,Te)},ne.prototype.getSeriesLabelWidth=function(X){e.fF.assertValue(X,"textElement");var oe=b.b.getSvgMeasurementProperties(X);return b.b.measureSvgTextWidth(oe,X.textContent)},ne.prototype.seriesWordBreak=function(X,oe,Ve,Te){for(var Qe=d3.select(X),He=b.b.estimateSvgTextHeight(Ve),Ce=Math.min(oe.length,2),de=0,pe=0;pe<Ce;pe++){Ve.text=oe[pe],oe.length>2&&pe&&(Ve.text=oe[pe].concat("..."));var le=b.b.getTailoredTextOrDefault(Ve,Te);Qe.append("tspan").attr("id","wordWrap".concat(oe[pe])).attrs({x:0,dy:pe?He:this.nonNumericVerticalOffset}).text(le);var me=b.b.measureSvgTextWidth(Ve,le);de=me>de?me:de}return de},ne.prototype.animateLabelBackground=function(X,oe,Ve,Te,Qe){var He=_.filter(oe,function(pe){return pe.hasBackground}),Ce=X.selectAll("rect").data(He,this.labelKeyFunction),de=Ce.enter().append("rect").style("fill-opacity",0).merge(Ce);return de.transition().ease(Qe).duration(Ve).attrs({x:function(le){return le.boundingBox.left-o.Bo},y:function(le){return le.boundingBox.top-o.d1},rx:this.labelBackgroundRounding,ry:this.labelBackgroundRounding,width:function(le){return le.boundingBox.width+2*o.Bo},height:function(le){return void 0===le.text&&void 0===le.secondRowText?0:le.boundingBox.height+2*o.d1}}).style("fill",function(pe){return pe.backgroundColor}).style("fill-opacity",function(pe){return 1-pe.backgroundTransparency}),Ce.exit().transition().duration(Ve).style("fill-opacity",0).remove(),de},ne.prototype.drawDefaultSeriesLabels=function(X,oe,Ve,Te,Qe,He,Ce,de,pe){var le=this,me={transform:function(De){var Le=Qe?le.horizontalSeriesLabelPadding:-le.horizontalSeriesLabelPadding,Xe=le.getSeriesLabelX(De)+Le,et="translate(".concat(Xe,",").concat(le.getLabelY(De),")");return 0===De.labelOrientation?"".concat(et,"rotate(-90)"):et},dy:this.nonNumericVerticalOffset},be=X.selectAll(O).data(Ve,this.labelKeyFunction),Be=be.enter().append("text").classed(A,!0).merge(be);pe&&Be.classed(u.cy,!0).attr(u.Ez,"series-labels").attr(u.CK,"Visual_SeriesLabels").attr(u.QZ,1);var Se=[],Pe=0;Be.interrupt().text(function(Ue){return He?Ue.text:le.getSeriesLabelFormattedText(Ue.text,Ue.fontProperties&&Ue.fontProperties.size?Ue.fontProperties.size.pt:void 0,Ue.fontProperties?Ue.fontProperties.family:void 0,Te)}).attrs(me).styles(function(Ue){return(0,i.E_)(Ue.fontProperties)}).styles({"text-anchor":Qe?"start":"end","white-space":"pre"});var ue=Be.nodes();if(He)for(var ve=b.b.estimateSvgTextHeight(o.bN),ie=de+ve+(Ce.height-ve-de)/2,Fe=0,at=ue;Fe<at.length;Fe++){e.fF.assertValue(We=at[Fe],"textElement");var Oe=We.textContent,Ze=b.b.getSvgMeasurementProperties(We);We.textContent=null;var Ee=this.checkWordBreak(Oe,Ze,Te,Ce.height-ie,void 0,!0,!0),K=this.seriesWordBreak(We,Ee,Ze,Te);Ve[Pe].hasBackground&&Se.push(K),Pe++}else for(var Ne=0,Y=ue;Ne<Y.length;Ne++){var We=Y[Ne];Ve[Pe].hasBackground&&Se.push(this.getSeriesLabelWidth(We)),Pe++}be.exit().remove();var ye=_.filter(Ve,function(Ue){return Ue.hasBackground}),rt=oe.selectAll("rect");return(rt=rt.data(ye,this.labelKeyFunction)).enter().append("rect").merge(rt).attr("transform",function(Ue,De){var Le=Ue.boundingBox.left;return Qe||(Le-=Se[De]),"translate(".concat(Le+=Qe?le.horizontalSeriesLabelPadding:-le.horizontalSeriesLabelPadding,",").concat(le.getSeriesLabelY(Ue),")")}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(Ue,De){return Se[De]+2*o.Bo}).attr("height",function(Ue){return void 0===Ue.text&&void 0===Ue.secondRowText?0:Ue.boundingBox.height+2*o.d1}).style("fill",function(Ue){return Ue.backgroundColor}).style("fill-opacity",function(Ue){return 1-Ue.backgroundTransparency}),rt.exit().remove(),Be},ne.prototype.getLabelContainerX=function(X){return X.boundingBox.left+X.boundingBox.width/2},ne.prototype.getLabelContainerY=function(X){var Ve=0===X.labelOrientation?X.boundingBox.height:X.boundingBox.height/2;return X.wordBreak&&(Ve=X.boundingBox.height/2),X.boundingBox.top+Ve},ne.prototype.getLabelX=function(X){var oe=0===X.labelOrientation;return X.boundingBox.left+(oe?X.boundingBox.width:X.boundingBox.width/2)-(X.hasBackground&&oe?o.Bo:0)},ne.prototype.getLabelY=function(X){var oe=0===X.labelOrientation,Ve=oe?X.boundingBox.height/2:X.boundingBox.height,Te=X.hasBackground&&!oe?o.d1:0;return X.wordBreak&&(Ve=X.boundingBox.height/2,Te=-o.d1),X.boundingBox.top+Ve-Te},ne.prototype.labelKeyFunction=function(X,oe){return X.key?X.key:X.identity?X.identity.getKeyWithoutHighlight():String(oe)},ne.prototype.getLabelX2ndLine=function(X){return X.boundingBox.left+X.boundingBox.width/2},ne.prototype.updateDataLabelSubSelectionAttributes=function(X,oe){X.classed(u.cy,function(Ve){return oe(Ve)}).attr(u.Ez,function(Ve){return oe(Ve)?Ve.isCategory?"category-labels":Ve.isTotal?"total-labels":"data-labels":null}).attr(u.CK,function(Ve){return oe(Ve)?Ve.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(u.QZ,function(Ve){return oe(Ve)?1:null})},ne.prototype.ensureGraphicsContext=function(X){X.select(this.linesGraphicsContextClass.selector).empty()&&X.append("g").classed(this.linesGraphicsContextClass.class,!0)},ne.prototype.updateLeaderLines=function(X,oe){var Ve=this;X.enter().append("polyline").classed(this.lineClass.class,!0).merge(X).attr("points",function(Te){return Te.leaderLinePoints}).attr("stroke",function(Te){return oe||Ve.determineLeaderLineColor(Te)}).attr("stroke-width",function(Te){var Qe,He;return null!==(He=null===(Qe=Ve.getLeaderLineProperties(Te))||void 0===Qe?void 0:Qe.width)&&void 0!==He?He:Ve.LineStrokeWidth}).attr("stroke-dasharray",function(Te){return Ve.getStrokeDashArray(Te)}).attr("stroke-linecap",function(Te){return Ve.determineLeaderLineCapStyle(Te)})},ne.prototype.determineLeaderLineCapStyle=function(X){var oe,Ve=null===(oe=this.getLeaderLineProperties(X))||void 0===oe?void 0:oe.style;return["Dotted","Dashed"].includes(Ve)?"round":"butt"},ne.prototype.removeOldLeaderLines=function(X){X.exit().remove()},ne.prototype.getLeaderLineProperties=function(X){return null==X?void 0:X.leaderLineProperties},ne.prototype.determineLeaderLineColor=function(X){var oe=this.getLeaderLineProperties(X)||{},Ve=oe.color,Te=oe.transparency,Qe=void 0===Te?0:Te;return null!=Ve&&Ve.startsWith("#")?this.hexToRGBA(Ve,1-Qe):Ve},ne.prototype.hexToRGBA=function(X,oe){/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(X)||e.fF.assertFail("Invalid hex code"),4===X.length&&(X="#".concat(X[1]).concat(X[1]).concat(X[2]).concat(X[2]).concat(X[3]).concat(X[3]));var Ve=parseInt(X.substring(1,3),16),Te=parseInt(X.substring(3,5),16),Qe=parseInt(X.substring(5,7),16);return void 0!==oe&&(oe<0||oe>1)&&e.fF.assertFail("Opacity must be between 0 and 1"),void 0!==oe?"rgba(".concat(Ve,", ").concat(Te,", ").concat(Qe,", ").concat(oe,")"):"rgb(".concat(Ve,", ").concat(Te,", ").concat(Qe,")")},ne.prototype.getStrokeDashArray=function(X){var oe,Ve,Te=this.getLeaderLineProperties(X),Qe=null!==(Ve=null==Te?void 0:Te.width)&&void 0!==Ve?Ve:this.LineStrokeWidth;return Te&&((oe={}).Dotted="0,".concat(2*Qe),oe.Dashed="".concat(3*Qe,",").concat(2*Qe),oe.Solid="",oe)[Te.style]||""},ne}(),W=function(){function ne(X,oe){if(this.noPrecision=!0,0===oe.displayUnits){var Ve=X.formatter;if(this.units=Ve&&Ve.displayUnit&&Ve.displayUnit.value,null==oe.precision){this.noPrecision=!1;var Te=Ve&&Ve.options;if(Te&&Te.precision)this.precisionForAxis=X.formatter.options.precision+1;else{var Qe=X.axis.tickValues();Qe&&Qe.length&&(this.precisionForAxis=(0,l.Gv)(Qe[0],Qe.length>1?Qe[1]:void 0,10*(this.units||1),Te&&Te.format))}}}}return ne.prototype.getPrecision=function(X,oe){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!X)return oe&&oe.integer?0:this.precisionForAxis}},ne}(),U=t(49803),te=null,ee=!1;function J(ne){te=null==ne?void 0:ne.labelEnhancementsM0,ee=!0}function re(ne){var X;return!ee&&null==ne&&e.fF.assertFail("DataLabelRendererResolver must be initialized before use."),(null!==(X=null==ne?void 0:ne.labelEnhancementsM0)&&void 0!==X?X:te)?(k||(k=new j),k):(Q||(Q=new G),Q)}var G=function(){function ne(){}return ne.prototype.animateDefaultLabels=function(X,oe,Ve,Te,Qe,He){return(0,c.Xc)(X,oe,Ve,Te,Qe,He)},ne.prototype.animateLabelsAndBackgrounds=function(X){return(0,c.Bf)(X)},ne.prototype.checkWordBreak=function(X,oe,Ve,Te,Qe,He,Ce){return(0,c.W1)(X,oe,Ve,Te,Qe,He,Ce)},ne.prototype.createColumnFormatterCacheManager=function(){return(0,c.fI)()},ne.prototype.drawDefaultLabels=function(X){return(0,c.x5)(X)},ne.prototype.drawLabelBackground=function(X){return(0,c.ng)(X)},ne.prototype.drawLabelsAndBackgrounds=function(X){return(0,c.gm)(X)},ne.prototype.drawSeriesLabelsAndBackgrounds=function(X){return(0,c.Sw)(X)},ne.prototype.getDataLabelLayoutOptions=function(X){return(0,c.n8)(X)},ne.prototype.getLabelFormattedText=function(X,oe,Ve){return(0,U.Bw)(X,oe,Ve)},ne.prototype.getLabelUnitAndPrecisionForAxis=function(X,oe){return(0,c.d6)(X,oe)},ne.prototype.getNumberOfLabelsToRender=function(X,oe,Ve,Te){return(0,c.SS)(X,oe,Ve,Te)},ne.prototype.getTextSize=function(X,oe,Ve){return(0,c.y3)(X,oe,Ve)},ne.prototype.removeDuplicates=function(X){return(0,c.R1)(X)},ne.prototype.drawLabelLeaderLines=function(X,oe,Ve,Te){return(0,c.z8)(X,oe,Ve,Te)},ne.prototype.removeContainerContent=function(){throw new Error("Method not implemented.")},ne.prototype.removeContainerBackground=function(){throw new Error("Method not implemented.")},ne.prototype.drawLabelContainer=function(X){throw new Error("Method not implemented.")},ne}()},49803:function(Je,H,t){t.d(H,{AO:function(){return i},B8:function(){return u},Bw:function(){return x},CC:function(){return C},CH:function(){return O},Cn:function(){return T},DU:function(){return D},ML:function(){return y},Nb:function(){return F},Sm:function(){return a},Vh:function(){return R},Vv:function(){return M},WA:function(){return L},Xc:function(){return w},Zj:function(){return d},aC:function(){return A},hY:function(){return S},hm:function(){return P},nU:function(){return g},t$:function(){return l},tI:function(){return N},wT:function(){return E}});var e=t(226514),c=t(787941),s=t(45696),f=t(326621),v=t(951467),b=t(298801),h=t(2570),p=t(187810);function l(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineDataLabelFillColor - categoricalDataReader"),U.categoricalDataReader.labels.labelFillColorReader.getDataLabelFillColor(U)}function a(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineCategoryLabelFillColor - categoricalDataReader"),U.categoricalDataReader.labels.labelFillColorReader.getCategoryLabelFillColor(U)}function i(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineTotalLabelFillColor - categoricalDataReader"),U.categoricalDataReader.labels.labelFillColorReader.getTotalLabelFillColor(U)}function u(U){return"Default"!==U.colorSource}function V(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - extractDynamicLabel - categoricalDataReader"),U.categoricalDataReader.labels.dynamicLabelReader.getDynamicLabel(U)}function d(U,k,Q,te){var ee,J,re=function(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineLeaderLineFillColor - categoricalDataReader"),U.categoricalDataReader.labels.leaderLineColorReader.getLeaderLineFillColor(U)}((0,e.__assign)((0,e.__assign)({},Q),{defaultColor:null!=U?U:te.color,seriesColor:null===(J=null===(ee=null==k?void 0:k.leaderLineColor)||void 0===ee?void 0:ee.solid)||void 0===J?void 0:J.color}));return re}function S(U,k,Q,te,ee,J){if(void 0===J&&(J=!1),!J)if(k){if(te&&ee.enableDetailDataLabel||!ee.enableDetailDataLabel&&(ee.enableTitleDataLabel||ee.enableValueDataLabel))return void U.setWarnings([new v.x7])}else if(Q&&ee.enableValueDataLabel||!ee.enableValueDataLabel&&(ee.enableTitleDataLabel||ee.enableDetailDataLabel))return void U.setWarnings([new v.x7])}function g(U,k,Q,te,ee,J){var re=null==U?void 0:U.value,G=null==U?void 0:U.formatString;if("number"==typeof re){var ne=te.getPrecision(!!G,ee.type);re=x(k.getOrCreate(G,Q,te.units,ne,J).format(re))}return re instanceof Date&&(Q.displayUnits=void 0,re=G?x(k.getOrCreate(G,Q,void 0,void 0,J).format(re)):f.dx.formatValue(re,"d")),re}function y(U){return U.some(function(k){return C(k)})}function C(U){return U&&void 0!==U.labelContents}function E(U,k){var Q;if(k)for(var ee=d3.select(U).datum().identity,J=0,re=k;J<re.length;J++){var G=re[J];if(null!==(Q=null==G?void 0:G.identity)&&void 0!==Q&&Q.includes(ee))return G.identity.getSelectorsByColumn()}}function M(U,k){return k.color!==U&&(k=(0,p.ED)(k,{color:U})),k}function P(U,k,Q){var te=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},k),Q),{data:[(0,s.Ue)(1)]});return U?te:k}function T(U,k,Q){var te;return Q?te=null:U&&(te=k),te}function x(U,k,Q){return Q?Q.format(U):f.dx.formatValue(U,k)}function R(U,k,Q){var te,ee,J,re;if(c.fF.assertValue(k,"DataLabelUtil - createLeaderLineProperties - labelSettings"),k.leaderLines){var ne=k.leaderLineStyle,X=void 0===ne?"Solid":ne,oe=k.leaderLineTransparency,Ve=void 0===oe?0:oe,Te=k.leaderLineWidth,Qe=void 0===Te?1:Te,He=null!==(re=null!==(J=null!==(te=null==U?void 0:U.leaderLineColor)&&void 0!==te?te:null===(ee=k.leaderLineColor.solid)||void 0===ee?void 0:ee.color)&&void 0!==J?J:b.v.getThemeColor(Q,h.uQ))&&void 0!==re?re:"#000";return{enabled:k.leaderLines,color:He,style:X,transparency:Ve,width:Qe}}}function D(U,k,Q,te,ee,J){return void 0===J&&(J=!1),!J&&(U.labelEnhancementsM0&&U.measureDrivenDataLabels?ee?k:k?!Q:1!==te:k&&!ee)}function L(U,k,Q){if((!(k>1)||Q)&&!_.isEmpty(U))return O(U)}function F(U,k,Q){return W(U,k,Q,{dynamicSeriesType:0,multipleStaticSeriesType:2})}function A(U,k,Q){return W(U,k,Q,{dynamicSeriesType:1,multipleStaticSeriesType:3})}function O(U,k){var Q,te;return void 0===k&&(k=0),c.fF.assertValue(U,"DataLabelUtil - determineValueLabelPickerFallbackExpression - valuesMetadataBySeries"),(null===(Q=U[k])||void 0===Q?void 0:Q.metadataColumn.expr)||(null===(te=_.first(U))||void 0===te?void 0:te.metadataColumn.expr)}function N(U){var k=U.dataPointLabelSettings,Q=U.categoricalDataReader,te=U.categoryIndex,ee=U.seriesIndex,J=U.dynamicLabelsEnabledForSeries,re=U.valuePropertyId,G=U.featureSwitches,ne=U.hasHighlights;return null!=G&&G.labelEnhancementsM0?V({valuePropertyId:re,categoricalDataReader:Q,categoryIndex:te,seriesIndex:ee,hasHighlights:ne,dynamicLabelFormatString:j("Value",k),enabled:null!=G&&G.measureDrivenDataLabels&&null!=k.showDynamicLabels?k.showDynamicLabels&&J.valueEnabled:J.valueEnabled}):null!=G&&G.measureDrivenDataLabels?V({valuePropertyId:re,categoricalDataReader:Q,categoryIndex:te,seriesIndex:ee,hasHighlights:ne,enabled:k.showDynamicLabels}):void 0}function w(U){var k=U.dataPointLabelSettings,Q=U.featureSwitches;if(null!=Q&&Q.labelEnhancementsM0){var te=[];if(k.enableTitleDataLabel&&te.push(I(U,"Title",U.titlePropertyId)),k.enableDetailDataLabel&&te.push(I(U,"Detail",U.detailPropertyId)),!_.isEmpty(te))return te}}function I(U,k,Q){var te=U.dataPointLabelSettings,ee=U.categoricalDataReader,J=U.categoryIndex,re=U.seriesIndex,G=U.hasHighlights,ne=j(k,te),X=function(U,k){var Q=k.dataPointLabelSettings,te=k.dataLabelFillColorOptions,ee=k.defaultLabelSettings,J={Title:function(){var G;return function(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineDataLabelTitleFillColor - categoricalDataReader"),U.categoricalDataReader.labels.labelFillColorReader.getDataLabelTitleFillColor(U)}((0,e.__assign)((0,e.__assign)({},te),{defaultColor:null==ee?void 0:ee.titleFontProperties.color,seriesColor:null===(G=null==Q?void 0:Q.titleFontProperties)||void 0===G?void 0:G.color}))},Detail:function(){var G;return function(U){return c.fF.assertValue(U.categoricalDataReader,"DataLabelUtil - determineDataLabelDetailFillColor - categoricalDataReader"),U.categoricalDataReader.labels.labelFillColorReader.getDataLabelDetailFillColor(U)}((0,e.__assign)((0,e.__assign)({},te),{defaultColor:null==ee?void 0:ee.detailFontProperties.color,seriesColor:null===(G=null==Q?void 0:Q.detailFontProperties)||void 0===G?void 0:G.color}))},Value:function(){return l((0,e.__assign)((0,e.__assign)({},te),{defaultColor:null==ee?void 0:ee.fontProperties.color,seriesColor:null==Q?void 0:Q.fontProperties.color}))}};if(J[U])return J[U]();c.fF.assertFail("extractFillColorByRole - unknown label role: ".concat(U))}(k,U),oe=V({valuePropertyId:Q,categoricalDataReader:ee,categoryIndex:J,seriesIndex:re,hasHighlights:G,enabled:!0,dynamicLabelFormatString:ne});return{role:k,labelFill:null==X?void 0:X.color,labelSettings:te,dynamicLabel:oe}}function j(U,k){var Q={Title:function(){return k.titleLabelDisplayUnits===h.In?k.titleCustomFormatString:void 0},Detail:function(){return k.detailLabelDisplayUnits===h.In?k.detailCustomFormatString:void 0},Value:function(){return k.displayUnits===h.In?k.valueCustomFormatString:void 0}};if(Q[U])return Q[U]();c.fF.assertFail("getFormatStringForRole - unknown label role: ".concat(U))}function W(U,k,Q,te){return U>1||Q?k?te.dynamicSeriesType:te.multipleStaticSeriesType:4}},371485:function(Je,H,t){t.d(H,{td:function(){return Se},fI:function(){return re},WW:function(){return be},dH:function(){return ve},lw:function(){return de},JA:function(){return Pe},WD:function(){return le},Zu:function(){return xe},XQ:function(){return me},kL:function(){return pe},bT:function(){return Ve},vc:function(){return Te},Gv:function(){return J},y3:function(){return G},ww:function(){return ne},AR:function(){return oe},FJ:function(){return X}});var e=t(226514),c=t(629925),s=t(787941),f=t(14253),v=t(750311),b=t(106266),h=t(520907),p=t(725182),n=t(326621),l=t(939523),r=t(72653),o=t(326899),a=t(298801),i=t(4045),m=t(2570),u=t(868686),V=t(506963),d=t(760868),S=t(45696),g=t(453543),y=t(605781),C=t(49803),E=t(397628),M=t(201849);function T(ie){return function(ie,Fe){for(var at=0,We=Fe;at<We.length;at++)if(We[at]===ie)return!0;return!1}(ie,[d.S.number,d.S.variant])}function D(ie,Fe,at){void 0===at&&(at="Desktop_FileMenu_Options");var We=ie.options,Oe=ie.dataLabelsProps,Ze=ie.omitGroupDisplayNames,K=ie.selector,Ne=ie.hostServices,Y=ie.featureSwitches,ye=We.dataLabelsSettings,rt=Fe||ie.cardBuilder;Fe&&Fe.addSimpleSlice("showSeries",new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.showSeries),{selector:K}),value:ye.show}).build(),function(it){return it.withDisabled(!K).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),rt.addGroup((0,V.Th)(ie,"options"),function(it){var Ue;Ze||it.withDisplayName(at),!Fe&&K&&We.show&&it.addSimpleSlice("showSeries",new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.showSeries),{selector:K}),value:ye.show}).build(),function(ce){return ce.withDisabled(!K).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),Oe.labelOrientation&&it.addSimpleSlice("labelOrientation",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.labelOrientation),{selector:K}),value:ye.labelOrientation}).build(),function(ce){return ce.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!K)});var De=Oe.labelPosition||Oe.position,Le=We.positionObject?We.positionObject:void 0,Xe=null!==(Ue=ye.position)&&void 0!==Ue?Ue:Le.length>0?Le[0]:"Auto";if(De&&it.addSimpleSlice("position",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},De),{selector:K}),value:Xe,filterValues:Le}).build(),function(ce){return ce.withCustomDisplayName("Visual_Position")}),Oe.overflow&&it.addSimpleSlice("overflow",new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.overflow),{selector:K}),value:ye.overflow}).build(),function(ce){return ce.withDisabled(ye&&ye.position===y.SX)}),Oe.labelStyle&&it.addSimpleSlice("labelContents",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.labelStyle),{selector:K}),value:ye.labelStyle}).build(),function(ce){return ce.withCustomDisplayName("Visual_LabelContents")}),Oe.labelDensity&&We.labelDensity){var et=(0,V.YA)(We.dataLabelsSettings);et&&it.addSimpleSlice("labelDensity",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.labelDensity),{selector:K}),value:et.labelDensity,localize:function(Re){return Ne.getLocalizedString(Re)}}).build(),function(ce){return ce.withCustomDescription("Visual_LabelDensity_Description")})}if(Y.leaderLinesAndOffset&&Oe.leaderLines&&We.leaderLines&&!Y.labelEnhancementsM1&&it.addSimpleSlice("leaderLines",new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLines),{selector:K}),value:ye.leaderLines}).build()),Y.leaderLinesAndOffset&&Oe.minimumOffset&&We.leaderLines&&it.addSimpleSlice("minimumOffset",new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.minimumOffset),{selector:K}),value:ye.minimumOffset===m.iX?null:ye.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}}}).build()),Y.leaderLinesAndOffset&&Oe.maximumOffset&&We.leaderLines){var he=ye.minimumOffset;ye.maximumOffset=he>=ye.maximumOffset?he:ye.maximumOffset,it.addSimpleSlice("maximumOffset",new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.maximumOffset),{selector:K}),value:ye.maximumOffset===m.WV?null:ye.maximumOffset,options:{minValue:{type:0,value:he},maxValue:{type:1,value:200}}}).build())}Y.labelEnhancementsM0&&(Oe.labelOverflow&&Xe!==M.wv&&it.addSimpleSlice("labelOverflow",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.labelOverflow),{selector:K}),value:ye.labelOverflow}).build()},function(ce){return ce.withCustomDescription("Visual_DataLabel_OverflowDescription")}),Oe.optimizeLabelDisplay&&([M.d7,M.aE,M.di,M.wv].includes(Xe)||[M.FY,M.yJ,M.EZ].includes(Xe)&&ye.labelOverflow)&&(it.addSimpleSlice("optimizeLabelDisplay",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.optimizeLabelDisplay),{selector:K}),value:ye.optimizeLabelDisplay}).build()},function(ce){return ce.withCustomDescription("Visual_DataLabel_OptimizeLabelDisplayDescription")}),Oe.labelContainerMaxWidth&&ye.optimizeLabelDisplay&&it.addSimpleSlice("labelContainerMaxWidth",new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.labelContainerMaxWidth),{selector:K}),value:ye.labelContainerMaxWidth,options:{minValue:{type:0,value:m.rp},maxValue:{type:1,value:m.xb},unitSymbol:E.e_}}).build())))})}function L(ie,Fe,at,We){void 0===at&&(at="Title"),void 0===We&&(We=!1);var Ze=ie.cardBuilder;Fe&&(Ze=Fe),Ze.addGroup((0,V.Th)(ie,"title"),function(Ee){return function(ie,Fe,at,We){var Oe;void 0===at&&(at="Title"),void 0===We&&(We=!1);var Ze=Fe.options,Ee=Fe.dataLabelsProps,K=Fe.omitGroupDisplayNames,Ne=Fe.selector,Y=Fe.repetitionSelector,ye=Fe.hostServices,rt=Ze.dataLabelsSettings,it=Ze.style?Ze.style:(0,v.Ue)();if(K||ie.withDisplayName(at).addTopLevelToggle("enableTitleDataLabel",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.enableTitleDataLabel),{selector:Ne}),value:rt.enableTitleDataLabel}).build()}),We)ie.withDisabled(!0,void 0);else{if(Ee.titleContentType&&ie.addSimpleSlice("titleContentType",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleContentType),{selector:Ne}),value:rt.titleContentType||"Series name"}).build()),Ee.dynamicLabelTitle&&"Custom"===rt.titleContentType){var De=Fe.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},Ne),{data:[(0,S.Ue)(1)],highlightMatching:1});ie.addSimpleSlice("dynamicLabelTitle",new b.k0({descriptor:{propertyName:Ee.dynamicLabelTitle.propertyName,objectName:Ee.dynamicLabelTitle.objectName,selector:De,instanceKind:2,propertyTypes:{text:!0}},value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:1},validators:{field:{kind:1}}}).build(),function(Re){return Re.withCustomDisplayName("Data").withDisabled(!Ze.enableDynamicLabelPickers)})}if((Ee.titleFontFamily||Ee.titleFontSize)&&ie.addCompositeSlice("titleFont","Font",function(){var Re=new b.UN;if(Ze.fontFamily&&Ee.titleFontFamily&&Re.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleFontFamily),{selector:Ne}),value:rt.titleFontProperties.family||g.rk}),Ze.fontSize&&Ee.titleFontSize){var Ge={descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleFontSize),{selector:Ne}),value:rt.titleFontProperties.size.pt};Ze.fontSizeRange&&(Ge.options={minValue:{type:0,value:rt.minFontSize},maxValue:{type:1,value:rt.maxFontSize}}),Re.withFontSizeProperties(Ge)}return Ze.bold&&Ee.titleBold&&Re.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleBold),{selector:Ne}),value:rt.titleBold}),Ze.italic&&Ee.titleItalic&&Re.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleItalic),{selector:Ne}),value:rt.titleItalic}),Ze.underline&&Ee.titleUnderline&&Re.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleUnderline),{selector:Ne}),value:rt.titleUnderline}),Re.build()}),Ee.titleColor&&ie.addSimpleSlice("titleColor",function(){var Re={value:rt.titleFontProperties.color||a.v.getThemeColor(it,m.uQ)},Ge=(0,V.e9)(Fe);return new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleColor),{selector:(0,C.hm)(Fe.individualSelector,Ne,Y),instanceKind:Ge,altConstantValueSelector:(0,C.Cn)(Fe.individualSelector,Ne,Fe.includeAltConstantValueSelector)}),value:Re}).build()},function(Re){return Re.withDisabled(Ze.matchSeriesColor)}),Ee.titleTransparency&&ie.addSimpleSlice("titleTransparency",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleTransparency),{selector:Ne}),value:Math.round(100*(null!==(Oe=rt.titleTransparency)&&void 0!==Oe?Oe:0)),localize:function(Ge){return ye.getLocalizedString(Ge)}}).build()),T(Fe.titleFieldSourceType)&&"Custom"===rt.titleContentType){var Xe=Ee.titleLabelDisplayUnits,et=(null==rt?void 0:rt.titleLabelDisplayUnits)===m.In;Ze.displayUnits&&void 0!==Ze.dataLabelsSettings.titleLabelDisplayUnits&&Xe&&ie.addSimpleSlice("titleLabelDisplayUnits",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Xe),{selector:Ne}),value:rt.titleLabelDisplayUnits}).build(),function(Re){return Re.withAliasName("Decimal").withDisabled(!Ze.enableDynamicLabelPickers)});var he=Ee.titleLabelPrecision;if(et)ie.addSimpleSlice("titleCustomFormatString",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleCustomFormatString),{selector:Ne,instanceKind:3}),value:rt.titleCustomFormatString,placeholder:"Auto"}).build(),function(Re){return Re.withDisabled(!Ze.enableDynamicLabelPickers)});else if(Ze.precision&&he){var ce=rt.titleLabelPrecision;ie.addSimpleSlice("titleLabelPrecision",function(){return new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},he),{selector:Ne}),value:ce===m.NZ?null:ce,options:{minValue:{type:0,value:0},maxValue:{type:1,value:m.vo}}}).build()},function(Re){return Re.withDisabled(!Ze.enableDynamicLabelPickers)})}}Ee.titleShowBlankAs&&ie.addSimpleSlice("titleShowBlankAs",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},Ee.titleShowBlankAs),{selector:Ne,instanceKind:1}),value:rt.titleShowBlankAs||"",placeholder:"0"}).build(),function(Re){return Re.withDisabled(!Ze.enableDynamicLabelPickers)})}}(Ee,ie,at,We),Ee.build()})}function F(ie,Fe,at,We){void 0===at&&(at="Value"),void 0===We&&(We=!1);var Ze=ie.cardBuilder;Fe&&(Ze=Fe),Ze.addGroup((0,V.Th)(ie,"values"),function(Ee){return function(ie,Fe,at,We,Oe){var Ze;void 0===at&&(at="Value"),void 0===We&&(We=!1);var Ee=Fe.options,K=Fe.dataLabelsProps,Ne=Fe.omitGroupDisplayNames,Y=Fe.selector,ye=Fe.repetitionSelector,rt=Fe.hostServices,it=Ee.dataLabelsSettings,Ue=Ee.style?Ee.style:(0,v.Ue)();if(Ne||ie.withDisplayName(at).addTopLevelToggle("enableValueDataLabel",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},K.enableValueDataLabel),{selector:Y}),value:it.enableValueDataLabel}).build()}),We)ie.withDisabled(!0,void 0);else{var Le=Ee.enableDynamicLabelPickers||!1,Xe=Fe.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},Y),{data:[(0,S.Ue)(1)],highlightMatching:1}),et={propertyName:K.dynamicLabelValue.propertyName,objectName:K.dynamicLabelValue.objectName,selector:Xe,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};ie.addSimpleSlice("dynamicLabelValue",function(){return new b.k0({descriptor:et,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,fallbackExpr:Fe.valueLabelPickerFallbackExpr,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:0},validators:{field:{kind:1}}}).build()},function(je){return je.withDisabled(!Le)}),(K.fontFamily||K.fontSize)&&ie.addCompositeSlice("font","Font",function(){var je=new b.UN;if(Ee.fontFamily&&K.fontFamily&&je.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},K.fontFamily),{selector:Y}),value:it.fontProperties.family||g.rk}),Ee.fontSize&&K.fontSize){var ae={descriptor:(0,e.__assign)((0,e.__assign)({},K.fontSize),{selector:Y}),value:it.fontProperties.size.pt};Ee.fontSizeRange&&(ae.options={minValue:{type:0,value:it.minFontSize},maxValue:{type:1,value:it.maxFontSize}}),je.withFontSizeProperties(ae)}return Ee.bold&&K.bold&&je.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},K.bold),{selector:Y}),value:it.bold}),Ee.italic&&K.italic&&je.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},K.italic),{selector:Y}),value:it.italic}),Ee.underline&&K.underline&&je.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},K.underline),{selector:Y}),value:it.underline}),je.build()}),K.color&&ie.addSimpleSlice("color",function(){var je={value:it.fontProperties.color||a.v.getThemeColor(Ue,m.uQ)},ae=(0,V.e9)(Fe);return new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},K.color),{selector:(0,C.hm)(Fe.individualSelector,Y,ye),instanceKind:ae,altConstantValueSelector:(0,C.Cn)(Fe.individualSelector,Y,Fe.includeAltConstantValueSelector)}),value:je}).build()},function(je){return je.withDisabled(Ee.matchSeriesColor)}),K.transparency&&ie.addSimpleSlice("transparency",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},K.transparency),{selector:Y}),value:Math.round(100*(null!==(Ze=it.transparency)&&void 0!==Ze?Ze:0)),localize:function(ae){return rt.getLocalizedString(ae)}}).build(),function(je){return je.withDisabled(undefined)});var he=K.displayUnits;if(T(Fe.valueFieldSourceType)){var ce=it.displayUnits,Re=ce===m.In;Ee.displayUnits&&void 0!==Ee.dataLabelsSettings.displayUnits&&he&&ie.addSimpleSlice("displayUnits",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},he),{selector:Y}),value:ce}).build(),function(je){return je.withAliasName("Decimal")});var Ge=K.labelPrecision;if(Re)ie.addSimpleSlice("valueCustomFormatString",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},K.valueCustomFormatString),{selector:Y,instanceKind:3}),value:it.valueCustomFormatString,placeholder:"Auto"}).build(),function(je){return je.withDisabled(!Ee.enableDynamicLabelPickers)});else if(Ee.precision&&Ge){var ut=it.precision;ie.addSimpleSlice("precision",function(){return new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Ge),{selector:Y}),value:ut===m.NZ?null:ut,options:{minValue:{type:0,value:0},maxValue:{type:1,value:m.vo}}}).build()})}}K.showBlankAs&&ie.addSimpleSlice("showBlankAs",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},K.showBlankAs),{selector:Y,instanceKind:1}),value:it.showBlankAs?it.showBlankAs:"",placeholder:"0"}).build())}}(Ee,ie,at,We),Ee.build()})}function A(ie,Fe,at,We){void 0===at&&(at="Visual_Label_DetailLabelName"),void 0===We&&(We=!1);var Ze=ie.cardBuilder;Fe&&(Ze=Fe),Ze.addGroup((0,V.Th)(ie,"detail"),function(Ee){return function(ie,Fe,at,We,Oe){var Ze;void 0===at&&(at="Visual_Label_DetailLabelName"),void 0===We&&(We=!1);var Ee=Fe.options,K=Fe.dataLabelsProps,Ne=Fe.omitGroupDisplayNames,Y=Fe.selector,ye=Fe.repetitionSelector,rt=Fe.hostServices,it=Ee.dataLabelsSettings,Ue=Ee.isStacked100,De=Ee.style?Ee.style:(0,v.Ue)();if(Ne||ie.withDisplayName(at).addTopLevelToggle("enableDetailDataLabel",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},K.enableDetailDataLabel),{selector:Y}),value:it.enableDetailDataLabel}).build()}),We)ie.withDisabled(!0,void 0);else{if(K.dynamicLabelDetail){var Xe=Fe.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},Y),{data:[(0,S.Ue)(1)],highlightMatching:1}),et={propertyName:K.dynamicLabelDetail.propertyName,objectName:K.dynamicLabelDetail.objectName,selector:Xe,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};Ue&&ie.addSimpleSlice("detailContentType",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailContentType),{selector:Y}),value:it.detailContentType||"Custom"}).build(),function(Re){return Re.withCustomDisplayName("Content")}),(!Ue||"Custom"===it.detailContentType||null==it.detailContentType)&&ie.addSimpleSlice("dynamicLabelDetail",function(){return new b.k0({descriptor:et,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:Fe.dataLabelPickerSeriesType,dataLabelRole:2},validators:{field:{kind:1}}}).build()},function(Re){return Re.withCustomDisplayName("Data").withDisabled(!Ee.enableDynamicLabelPickers)})}if((K.detailFontFamily||K.detailFontSize)&&ie.addCompositeSlice("detailFont","Font",function(){var Re=new b.UN;if(Ee.fontFamily&&K.detailFontFamily&&Re.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailFontFamily),{selector:Y}),value:it.detailFontProperties.family||g.rk}),Ee.fontSize&&K.detailFontSize){var Ge={descriptor:(0,e.__assign)((0,e.__assign)({},K.detailFontSize),{selector:Y}),value:it.detailFontProperties.size.pt};Ee.fontSizeRange&&(Ge.options={minValue:{type:0,value:it.minFontSize},maxValue:{type:1,value:it.maxFontSize}}),Re.withFontSizeProperties(Ge)}return Ee.bold&&K.detailBold&&Re.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailBold),{selector:Y}),value:it.detailBold}),Ee.italic&&K.detailItalic&&Re.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailItalic),{selector:Y}),value:it.detailItalic}),Ee.underline&&K.detailUnderline&&Re.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailUnderline),{selector:Y}),value:it.detailUnderline}),Re.build()}),K.detailColor&&ie.addSimpleSlice("detailColor",function(){var Re={value:it.detailFontProperties.color||a.v.getThemeColor(De,m.uQ)},Ge=(0,V.e9)(Fe);return new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailColor),{selector:(0,C.hm)(Fe.individualSelector,Y,ye),instanceKind:Ge,altConstantValueSelector:(0,C.Cn)(Fe.individualSelector,Y,Fe.includeAltConstantValueSelector)}),value:Re}).build()},function(Re){return Re.withDisabled(Ee.matchSeriesColor)}),K.detailTransparency&&ie.addSimpleSlice("detailTransparency",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailTransparency),{selector:Y}),value:Math.round(100*(null!==(Ze=it.detailTransparency)&&void 0!==Ze?Ze:0)),localize:function(Ge){return rt.getLocalizedString(Ge)}}).build(),function(Re){return Re.withDisabled(undefined)}),T(Fe.detailFieldSourceType)&&"Percent of total"!==it.detailContentType){var he=K.detailLabelDisplayUnits,ce=(null==it?void 0:it.detailLabelDisplayUnits)===m.In;void 0!==Ee.dataLabelsSettings.detailLabelDisplayUnits&&he&&ie.addSimpleSlice("detailDisplayUnits",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},he),{selector:Y}),value:it.detailLabelDisplayUnits}).build(),function(Re){return Re.withAliasName("Decimal")}),ce?ie.addSimpleSlice("detailCustomFormatString",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailCustomFormatString),{selector:Y,instanceKind:3}),value:it.detailCustomFormatString,placeholder:"Auto"}).build(),function(Re){return Re.withDisabled(!Ee.enableDynamicLabelPickers)}):W(ie,Fe)}Ue&&"Percent of total"===it.detailContentType&&W(ie,Fe),K.detailShowBlankAs&&ie.addSimpleSlice("detailShowBlankAs",new b.fq({descriptor:(0,e.__assign)((0,e.__assign)({},K.detailShowBlankAs),{selector:Y,instanceKind:1}),value:it.detailShowBlankAs||"",placeholder:"0"}).build())}}(Ee,ie,at,We),Ee.build()})}function O(ie,Fe,at){void 0===at&&(at="Layout");var Oe=ie.cardBuilder;Fe&&(Oe=Fe),Oe.addGroup((0,V.Th)(ie,"layout"),function(Ze){return function(ie,Fe,at){void 0===at&&(at="Layout");var We=Fe.dataLabelsProps,Oe=Fe.featureSwitches,K=Fe.selector,Ne=Fe.options.dataLabelsSettings;Fe.omitGroupDisplayNames||ie.withDisplayName(at),We.labelContentLayout&&ie.addSimpleSlice("labelContentLayout",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},We.labelContentLayout),{selector:K}),value:Ne.labelContentLayout}).build(),function(Y){return Y.withDisabled(!1)}),Oe.labelEnhancementsM1&&We.horizontalAlignment&&"MultiLine"===(null==Ne?void 0:Ne.labelContentLayout)&&ie.addSimpleSlice("labelHorizontalAlignment",new b.Gp({descriptor:(0,e.__assign)((0,e.__assign)({},We.horizontalAlignment),{selector:K}),value:Ne.horizontalAlignment,mode:"horizontalAlignment"}).build(),function(Y){return Y.withCustomDisplayName("Visual_Alignment_Horizontal")})}(Ze,ie,at),Ze.build()})}function N(ie,Fe,at){void 0===at&&(at="Visual_LeaderLines");var Oe=ie.options;if(Oe.leaderLines){var Ze=ie.cardBuilder;Fe&&(Ze=Fe),Ze.addGroup((0,V.Th)(ie,"leaderLine"),function(Ee){return function(ie,Fe,at){var We;void 0===at&&(at="Visual_LeaderLines");var Oe=Fe.dataLabelsProps,Ze=Fe.omitGroupDisplayNames,Ee=Fe.repetitionSelector,K=Fe.options,Ne=Fe.selector,Y=Fe.hostServices;if(K.leaderLines){var ye=K.dataLabelsSettings,rt=K.style?K.style:(0,v.Ue)();if(Ze||ie.withDisplayName(at).addTopLevelToggle("enableLeaderLines",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLines),{selector:Ne}),value:ye.leaderLines}).build()}),Oe.leaderLineStyle&&ie.addSimpleSlice("leaderLineStyle",new b.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLineStyle),{selector:Ne}),value:ye.leaderLineStyle}).build(),function(De){return De.withDisabled(!1)}),Oe.leaderLineColor&&ie.addSimpleSlice("leaderLineColor",function(){var De,Le,Xe=(0,V.e9)(Fe);return new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLineColor),{selector:(0,C.hm)(Fe.individualSelector,Ne,Ee),instanceKind:Xe,altConstantValueSelector:(0,C.Cn)(Fe.individualSelector,Ne,Fe.includeAltConstantValueSelector)}),value:{value:(null===(Le=null===(De=ye.leaderLineColor)||void 0===De?void 0:De.solid)||void 0===Le?void 0:Le.color)||ye.fontProperties.color||a.v.getThemeColor(rt,m.uQ)}}).build()},function(De){return De.withDisabled(K.matchSeriesColor)}),Oe.leaderLineTransparency&&ie.addSimpleSlice("leaderLineTransparency",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLineTransparency),{selector:Ne}),value:Math.round(100*(null!==(We=ye.leaderLineTransparency)&&void 0!==We?We:0)),localize:function(Le){return Y.getLocalizedString(Le)}}).build()),Oe.leaderLineWidth){var Ue=ye.leaderLineWidth;ie.addSimpleSlice("leaderLineWidth",function(){return new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Oe.leaderLineWidth),{selector:Ne}),value:Ue||m.Hj,options:{minValue:{type:0,value:1},maxValue:{type:1,value:m.lj}}}).build()})}}}(Ee,ie,at),Oe.leaderLines||Ee.withDisabled(!0,"Visual_LeaderLines_DisabledReason"),Ee.build()})}}function W(ie,Fe){var at=Fe.options,Oe=Fe.selector,Ee=Fe.dataLabelsProps.detailLabelPrecision;if(at.precision&&Ee){var K=at.dataLabelsSettings.detailLabelPrecision;ie.addSimpleSlice("detailLabelPrecision",function(){return new b.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Ee),{selector:Oe}),value:K===m.NZ?null:K,options:{minValue:{type:0,value:0},maxValue:{type:1,value:m.vo}}}).build()})}}var k=t(187810),Q=t(804494),te=t(906298),ee=t(744883);function J(ie){return function(ie){var Fe={text:ie.formatter?ie.formatter.format(ie.label):n.dx.formatValue(ie.label,ie.format),fontFamily:ie.fontProperties.family?ie.fontProperties.family:m.bN.fontFamily,fontSize:h.FP.fromPoint(ie.fontProperties.size.pt),fontWeight:m.bN.fontWeight};return f.b.getTailoredTextOrDefault(Fe,ie.maxWidth?ie.maxWidth:m.Vr)}({label:ie.label,maxWidth:ie.maxWidth,format:ie.format,formatter:ie.formatter,fontProperties:ie.fontProperties?ie.fontProperties:void 0})}function re(){return new i.R}function G(ie,Fe){return(0,u.U2)().getTextSize(ie,Fe&&Fe.size?Fe.size.pt:void 0,Fe?Fe.family:void 0)}function ne(ie,Fe,at,We,Oe){var Ze,Ee,K,Ne,Y,ye;if(void 0===We&&(We=(0,v.Ue)()),void 0===Oe&&(Oe=!1),ie){var rt=a.v.create(We);void 0!==ie.showByDefault&&(Fe.showByDefault=ie.showByDefault),void 0!==ie.show&&(Fe.show=ie.show),void 0!==ie.showSeries&&(Fe.show=ie.showSeries),void 0!==ie.valueCustomFormatString&&(Fe.valueCustomFormatString=ie.valueCustomFormatString),void 0!==ie.labelPrecision&&(Fe.precision=ie.labelPrecision>=0?ie.labelPrecision:m.NZ),void 0!==ie.percentageLabelPrecision&&(Fe.percentagePrecision=ie.percentageLabelPrecision>=0?ie.percentageLabelPrecision:m.Qc);var it=void 0!==ie.bold?ie.bold:Fe.bold,Ue=void 0!==ie.italic?ie.italic:Fe.italic,De=void 0!==ie.underline?ie.underline:Fe.underline;Fe.fontProperties={color:rt.getColorForPropertyNameWithDefaultColor(ie,"color",Fe.fontProperties.color),size:void 0!==ie.fontSize?ee.B.createFromPt(+ie.fontSize):Fe.fontProperties.size,family:void 0!==ie.fontFamily?ie.fontFamily:Fe.fontProperties.family,weight:it?c.en:c.AI,style:Ue?c.BF:c.AI,textDecoration:De?c.f0:c.zu},Fe.bold=it,Fe.italic=Ue,Fe.underline=De,void 0!==ie.showAll&&(Fe.showLabelPerSeries=ie.showAll),void 0!==ie.labelStyle?Fe.labelStyle=ie.labelStyle:void 0!==ie.funnelLabelStyle&&(Fe.labelStyle=ie.funnelLabelStyle),void 0!==ie.labelContainerMaxWidth&&(Fe.labelContainerMaxWidth=ie.labelContainerMaxWidth),void 0!==ie.labelContentLayout&&(Fe.labelContentLayout=ie.labelContentLayout),void 0!==ie.labelOrientation&&(Fe.labelOrientation=at?ie.labelOrientation:Fe.labelOrientation),ie.labelPosition&&(Fe.position=ie.labelPosition),void 0!==ie.labelOverflow&&(Fe.labelOverflow=ie.labelOverflow);var Le=!1;void 0!==ie.enableBackground&&(Fe.enableBackground=ie.enableBackground,Le=ie.enableBackground),(ie.backgroundColor||Le)&&(Fe.backgroundColor=rt.getColorForPropertyName(ie,"backgroundColor",m.lp)),null!=ie.backgroundTransparency?Fe.backgroundTransparency=ie.backgroundTransparency/100:Le&&(Fe.backgroundTransparency=Oe?m.r_:m.BS),void 0!==ie.preserveWhitespace&&(Fe.preserveWhitespace=ie.preserveWhitespace),void 0!==ie.showPositiveAndNegative&&(Fe.showPositiveAndNegative=ie.showPositiveAndNegative),void 0!==ie.showDynamicLabels&&(Fe.showDynamicLabels=ie.showDynamicLabels),void 0!==ie.dynamicLabelValue&&(Fe.dynamicLabelValue=ie.dynamicLabelValue),void 0!==ie.leaderLines&&(Fe.leaderLines=ie.leaderLines),void 0!==ie.minimumOffset&&(Fe.minimumOffset=ie.minimumOffset),void 0!==ie.maximumOffset&&(Fe.maximumOffset=ie.maximumOffset),void 0!==ie.enableTitleDataLabel&&(Fe.enableTitleDataLabel=ie.enableTitleDataLabel),void 0!==ie.enableValueDataLabel&&(Fe.enableValueDataLabel=ie.enableValueDataLabel),void 0!==ie.enableDetailDataLabel&&(Fe.enableDetailDataLabel=ie.enableDetailDataLabel);var Xe=void 0!==ie.titleBold?ie.titleBold:Fe.titleBold,et=void 0!==ie.titleItalic?ie.titleItalic:Fe.titleItalic,he=void 0!==ie.titleUnderline?ie.titleUnderline:Fe.titleUnderline;Fe.titleFontProperties={color:rt.getColorForPropertyNameWithDefaultColor(ie,"titleColor",null===(Ze=Fe.titleFontProperties)||void 0===Ze?void 0:Ze.color),size:void 0!==ie.titleFontSize?ee.B.createFromPt(+ie.titleFontSize):null===(Ee=Fe.titleFontProperties)||void 0===Ee?void 0:Ee.size,family:void 0!==ie.titleFontFamily?ie.titleFontFamily:null===(K=Fe.titleFontProperties)||void 0===K?void 0:K.family,weight:Xe?c.en:c.AI,style:et?c.BF:c.AI,textDecoration:he?c.f0:c.zu},Fe.titleBold=Xe,Fe.titleItalic=et,Fe.titleUnderline=he,void 0!==ie.showBlankAs&&(Fe.showBlankAs=ie.showBlankAs),void 0!==ie.transparency&&(Fe.transparency=ie.transparency/100),void 0!==ie.wordWrap&&(Fe.wordWrap=ie.wordWrap),void 0!==ie.titleContentType&&(Fe.titleContentType=ie.titleContentType),void 0!==ie.titleTransparency&&(Fe.titleTransparency=ie.titleTransparency/100),void 0!==ie.titleLabelDisplayUnits&&(Fe.titleLabelDisplayUnits=ie.titleLabelDisplayUnits),void 0!==ie.titleCustomFormatString&&(Fe.titleCustomFormatString=ie.titleCustomFormatString),void 0!==ie.titleLabelPrecision&&(Fe.titleLabelPrecision=ie.titleLabelPrecision),void 0!==ie.titleShowBlankAs&&(Fe.titleShowBlankAs=ie.titleShowBlankAs),void 0!==ie.titleFontFamily&&(Fe.titleFontFamily=ie.titleFontFamily),void 0!==ie.titleFontSize&&(Fe.titleFontSize=ie.titleFontSize),void 0!==ie.titleColor&&(Fe.titleColor=ie.titleColor);var ce=void 0!==ie.detailBold?ie.detailBold:Fe.detailBold,Re=void 0!==ie.detailItalic?ie.detailItalic:Fe.detailItalic,Ge=void 0!==ie.detailUnderline?ie.detailUnderline:Fe.detailUnderline;Fe.detailFontProperties={color:rt.getColorForPropertyNameWithDefaultColor(ie,"detailColor",null===(Ne=Fe.detailFontProperties)||void 0===Ne?void 0:Ne.color),size:void 0!==ie.detailFontSize?ee.B.createFromPt(+ie.detailFontSize):null===(Y=Fe.detailFontProperties)||void 0===Y?void 0:Y.size,family:void 0!==ie.detailFontFamily?ie.detailFontFamily:null===(ye=Fe.detailFontProperties)||void 0===ye?void 0:ye.family,weight:ce?c.en:c.AI,style:Re?c.BF:c.AI,textDecoration:Ge?c.f0:c.zu},Fe.detailBold=ce,Fe.detailItalic=Re,Fe.detailUnderline=Ge,void 0!==ie.detailColor&&(Fe.detailColor=ie.detailColor),void 0!==ie.detailFontSize&&(Fe.detailFontSize=ie.detailFontSize),void 0!==ie.detailFontFamily&&(Fe.detailFontFamily=ie.detailFontFamily),void 0!==ie.detailTransparency&&(Fe.detailTransparency=ie.detailTransparency/100),void 0!==ie.detailShowBlankAs&&(Fe.detailShowBlankAs=ie.detailShowBlankAs),void 0!==ie.dynamicLabelDetail&&(Fe.dynamicLabelDetail=ie.dynamicLabelDetail),void 0!==ie.detailLabelDisplayUnits&&(Fe.detailLabelDisplayUnits=ie.detailLabelDisplayUnits),void 0!==ie.detailCustomFormatString&&(Fe.detailCustomFormatString=ie.detailCustomFormatString),void 0!==ie.detailLabelPrecision&&(Fe.detailLabelPrecision=ie.detailLabelPrecision),void 0!==ie.detailContentType&&(Fe.detailContentType=ie.detailContentType),void 0!==ie.optimizeLabelDisplay&&(Fe.optimizeLabelDisplay=ie.optimizeLabelDisplay),void 0!==ie.labelDisplayUnits&&(Fe.displayUnits=ie.labelDisplayUnits),void 0!==ie.horizontalAlignment&&(Fe.horizontalAlignment=ie.horizontalAlignment),void 0!==ie.leaderLineStyle&&(Fe.leaderLineStyle=ie.leaderLineStyle),void 0!==ie.leaderLineColor&&(Fe.leaderLineColor=ie.leaderLineColor),void 0!==ie.leaderLineTransparency&&(Fe.leaderLineTransparency=ie.leaderLineTransparency/100),void 0!==ie.leaderLineWidth&&(Fe.leaderLineWidth=ie.leaderLineWidth)}}function X(ie,Fe,at,We){if(void 0===We&&(We=!1),ie){var Oe=a.v.create(at);void 0!==ie.showByDefault&&(Fe.showByDefault=ie.showByDefault),void 0!==ie.show&&(Fe.show=ie.show),void 0!==ie.seriesColor&&(Fe.seriesColor=Oe.getColorForPropertyNameWithDefaultColor(ie,"seriesColor",ie.seriesColor));var Ze=void 0!==ie.bold?ie.bold:Fe.bold,Ee=void 0!==ie.italic?ie.italic:Fe.italic,K=void 0!==ie.underline?ie.underline:Fe.underline;Fe.fontProperties={size:void 0!==ie.textSize?ee.B.createFromPt(+ie.textSize):Fe.fontProperties.size,family:void 0!==ie.seriesFontFamily?ie.seriesFontFamily:Fe.fontProperties.family,weight:Ze?c.en:c.AI,style:Ee?c.BF:c.AI,textDecoration:K?c.f0:c.zu},void 0!==ie.showAll&&(Fe.showLabelPerSeries=ie.showAll),ie.seriesPosition&&(Fe.seriesPosition=ie.seriesPosition),ie.seriesWordWrap&&(Fe.seriesWordWrap=ie.seriesWordWrap),ie.seriesMaximumWidth&&(Fe.seriesMaximumWidth=ie.seriesMaximumWidth,Fe.defaultSeriesWidth=null);var Ne=!1;void 0!==ie.enableBackground&&(Fe.enableBackground=ie.enableBackground,Ne=ie.enableBackground),(ie.backgroundColor||Ne)&&(Fe.backgroundColor=Oe.getColorForPropertyName(ie,"backgroundColor",m.lp)),null!=ie.backgroundTransparency?Fe.backgroundTransparency=ie.backgroundTransparency/100:Ne&&(Fe.backgroundTransparency=We?m.r_:m.BS),void 0!==ie.bold&&(Fe.bold=ie.bold),void 0!==ie.italic&&(Fe.italic=ie.italic),void 0!==ie.underline&&(Fe.underline=ie.underline)}}function oe(ie,Fe,at,We,Oe){void 0===We&&(We=(0,v.Ue)()),void 0===Oe&&(Oe=!1),ne(ie,Fe,at,We,Oe),ie&&void 0!==ie.labelDensity&&(Fe.labelDensity=ie.labelDensity)}function Ve(ie){var Fe=ie.labelColor,at=ie.fontSize,We=ie.fontFamily,Oe=ie.textClassName,Ze=ie.style||(0,v.Ue)(),Ee=!!ie.show,K=!!ie.preserveWhitespace,Ne=!!ie.noColor,Y=Ze&&!Ne&&a.v.getThemeColor(Ze,m.uQ),ye=(0,k.ED)(m.bL,{size:at?ee.B.createFromPt(at):void 0,family:We,color:!Ne&&(Fe||Y)}),rt=(0,te.m)(Ze,Oe,Ne),it=(0,k.ED)(ye,rt),Ue={show:Ee,showByDefault:!0,position:0,displayUnits:0,valueCustomFormatString:m.M3,precision:m.NZ,fontProperties:it,titleFontProperties:it,detailFontProperties:it,bold:!1,italic:!1,underline:!1,transparency:0,wordWrap:!1,titleBold:!1,titleItalic:!1,titleUnderline:!1,titleTransparency:0,titleLabelDisplayUnits:0,titleCustomFormatString:m.M3,titleLabelPrecision:m.NZ,detailBold:!1,detailItalic:!1,detailUnderline:!1,detailTransparency:0,detailLabelDisplayUnits:0,detailCustomFormatString:m.M3,detailLabelPrecision:m.NZ};return Object.defineProperties(Ue,{preserveWhitespace:{value:K,writable:!0}}),Ue}function Te(ie,Fe){void 0===ie&&(ie=(0,v.Ue)());var at=a.v.getThemeColor(ie,m.uQ),We=(0,k.ED)(m.bL,{color:at}),Oe=(0,te.m)(ie,Fe);return{show:!1,position:0,displayUnits:0,precision:m.NZ,fontProperties:(0,k.ED)(We,Oe),bold:!1,italic:!1,underline:!1}}function de(ie,Fe,at,We){s.fF.assertValue(ie,"options"),s.fF.assertValue(ie.enumeration,"enumeration");var Oe=ie.style?ie.style:(0,v.Ue)();if(ie.dataLabelsSettings){var Ee,K,Ze={objectName:We&&We.objectName||"labels",selector:ie.selector,properties:{},propertyInstanceKind:{color:ie.selector?1:3}};if(ie.show&&ie.selector?Ze.properties.showSeries=ie.dataLabelsSettings.show:ie.show&&(Ze.properties.show=ie.dataLabelsSettings.show),ie.labelStyle&&(Ze.properties.labelStyle=ie.dataLabelsSettings.labelStyle,Ee=(0,V.RC)(ie.dataLabelsSettings.labelStyle)),ie.funnelLabelStyle&&(Ze.properties.funnelLabelStyle=ie.dataLabelsSettings.labelStyle,K=(0,V.Fw)(ie.dataLabelsSettings.labelStyle)),Ze.properties.color=ie.dataLabelsSettings.fontProperties.color||a.v.getThemeColor(Oe,m.uQ),ie.displayUnits&&(Ze.properties.labelDisplayUnits=ie.dataLabelsSettings.displayUnits),ie.precision&&Ee&&(0,p.yE)(Ee,o.nO)||ie.precision&&K&&(0,p.yE)(K,r.nO)||ie.precision&&!Ee){var Ne=ie.dataLabelsSettings.precision;Ze.properties.labelPrecision=Ne===m.NZ?null:Ne,ue(Ze,"labelPrecision",{numberRange:{min:0,max:m.vo}})}if(ie.percentagePrecision&&Ee&&(0,p.yE)(Ee,o.tG)||ie.percentagePrecision&&K&&(0,p.yE)(K,r.r0)||(0,p.yE)(K,r.CR)||ie.percentagePrecision&&!Ee){var ye=ie.dataLabelsSettings.percentagePrecision;Ze.properties.percentageLabelPrecision=ye===m.Qc?null:ye,ue(Ze,"percentageLabelPrecision",{numberRange:{min:0,max:m.vo}})}if(ie.labelOrientation&&(Ze.properties.labelOrientation=ie.dataLabelsSettings.labelOrientation),ie.position&&(Ze.properties.labelPosition=ie.dataLabelsSettings.position,ie.positionObject&&ue(Ze,"labelPosition",ie.positionObject)),ie.labelOverflow&&(Ze.properties.labelOverflow=ie.dataLabelsSettings.labelOverflow),ie.fontSize&&(Ze.properties.fontSize=ie.dataLabelsSettings.fontProperties.size.pt,ie.fontSizeRange)&&ue(Ze,"fontSize",{numberRange:{min:ie.dataLabelsSettings.minFontSize,max:ie.dataLabelsSettings.maxFontSize}}),ie.fontFamily&&(Ze.properties.fontFamily=ie.dataLabelsSettings.fontProperties.family||g.rk),ie.bold&&(Ze.properties.bold=ie.dataLabelsSettings.bold||!1),ie.italic&&(Ze.properties.italic=ie.dataLabelsSettings.italic||!1),ie.underline&&(Ze.properties.underline=ie.dataLabelsSettings.underline||!1),ie.labelDensity){var it=(0,V.YA)(ie.dataLabelsSettings);it&&(Ze.properties.labelDensity=it.labelDensity)}if(null!=ie.enableBackground&&(Ze.properties.enableBackground=ie.enableBackground),ie.enableBackground&&(Ze.properties.backgroundColor=ie.backgroundColor,Ze.properties.backgroundTransparency=Math.round(100*ie.backgroundTransparency)),ie.preserveWhitespace&&(Ze.properties.preserveWhitespace=ie.dataLabelsSettings.preserveWhitespace),ie.showPositiveAndNegative&&(Ze.properties.showPositiveAndNegative=ie.dataLabelsSettings.showPositiveAndNegative),Fe&&Fe.measureDrivenDataLabels&&(Ze.properties.showDynamicLabels=ie.dataLabelsSettings.showDynamicLabels,ie.dynamicLabelValue&&(Ze.properties.dynamicLabelValue=ie.dataLabelsSettings.dynamicLabelValue)),ie.leaderLines&&(Ze.properties.leaderLines=ie.dataLabelsSettings.leaderLines,Ze.properties.minimumOffset=ie.dataLabelsSettings.minimumOffset,Ze.properties.maximumOffset=ie.dataLabelsSettings.maximumOffset),ie.showAll&&(Ze.properties.showAll=!!ie.dataLabelsSettings.showLabelPerSeries),at)for(var Ue in at)Ze.properties[Ue]=at[Ue];return We&&We.propertyInstanceKind&&(Ze.propertyInstanceKind=We.propertyInstanceKind),ie.enumeration.pushInstance(Ze)}}function pe(ie){return{color:{objectName:ie,propertyName:"color"},displayUnits:{objectName:ie,propertyName:"labelDisplayUnits"},fontFamily:{objectName:ie,propertyName:"fontFamily"},fontSize:{objectName:ie,propertyName:"fontSize"},position:{objectName:ie,propertyName:"labelPosition"},percentagePrecision:{objectName:ie,propertyName:"percentageLabelPrecision"},precision:{objectName:ie,propertyName:"labelPrecision"},show:{objectName:ie,propertyName:"show"},labelStyle:{objectName:ie,propertyName:"labelStyle"},bold:{objectName:ie,propertyName:"bold"},italic:{objectName:ie,propertyName:"italic"},underline:{objectName:ie,propertyName:"underline"}}}function le(ie){var Fe,at;return!(!ie.hasCategories||ie.hasSeriesSelector&&ie.hasDynamicSeries||null===(Fe=ie.featureSwitches)||void 0===Fe||!Fe.conditionalFormattingDataLabels||(null===(at=ie.featureSwitches)||void 0===at||!at.categoricalSecondaryCF)&&ie.hasDynamicSeries)}function me(ie){var Fe=ie.options,at=ie.dataLabelsProps,We=ie.cardBuilder,Oe=ie.customDescription,Ze=ie.omitDescription,Ee=ie.featureSwitches;s.fF.assertValue(Fe,"options");var K=Fe.dataLabelsSettings;if(K)return Ze||We.withDescription(Oe||"Visual_DataPointsLabelsDescription"),at.show&&We.addTopLevelToggle("show",function(){return new b.bd({descriptor:at.show,value:K.show}).build()}),(at.position||at.labelStyle||at.labelOrientation)&&(Ee.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions?D(ie):(0,Q.j2)(ie)),Ee.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions?(at.enableTitleDataLabel&&L(ie),at.enableValueDataLabel&&F(ie),at.enableDetailDataLabel&&A(ie)):(0,Q.$_)(ie),null!=Fe.enableBackground&&at.enableBackground&&Be(ie),Ee.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions&&O(ie),Ee.labelEnhancementsM1&&ie.showEnhancedLabelsFormattingOptions&&N(ie),We.build()}function be(ie,Fe){var at=ie.options,We=ie.dataLabelsProps,Oe=ie.featureSwitches;s.fF.assertValue(at,"options"),at.dataLabelsSettings&&((We.position||We.labelStyle||We.labelOrientation)&&(Oe.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions?D(ie,Fe):(0,Q.j2)(ie,Fe)),Oe.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions?(We.enableTitleDataLabel&&L(ie,Fe),We.enableValueDataLabel&&F(ie,Fe),We.enableDetailDataLabel&&A(ie,Fe)):(0,Q.$_)(ie,Fe),null!=at.enableBackground&&We.enableBackground&&Be(ie,Fe),Oe.labelEnhancementsM0&&ie.showEnhancedLabelsFormattingOptions&&O(ie,Fe),Oe.labelEnhancementsM1&&ie.showEnhancedLabelsFormattingOptions&&N(ie,Fe))}function Be(ie,Fe){var Oe=ie.cardBuilder;Fe&&(Oe=Fe),null!=ie.options.enableBackground&&Oe.addGroup((0,V.Th)(ie,"background"),function(Ze){Se(Ze,ie)})}function Se(ie,Fe,at){var We=Fe.options,Oe=Fe.hostServices,Ze=Fe.dataLabelsProps,Ee=Fe.selector;at?ie.addSimpleSlice("enableBackground",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ze.enableBackground),{selector:Ee}),value:We.enableBackground}).build()}):ie.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new b.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ze.enableBackground),{selector:Ee}),value:We.enableBackground}).build()}),ie.addSimpleSlice("backgroundColor",new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},Ze.backgroundColor),{selector:Ee}),value:{value:We.backgroundColor}}).build(),function(Ne){at?Ne.withDisabled(!We.enableBackground):Ne.withCustomDisplayName("Generic_Color")}).addSimpleSlice("backgroundTransparency",b.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},Ze.backgroundTransparency),{selector:Ee}),value:Math.round(100*We.backgroundTransparency),localize:function(Y){return Oe.getLocalizedString(Y)}}).build(),function(Ne){return Ne.withDisabled(at&&!We.enableBackground)})}function Pe(ie,Fe,at,We){s.fF.assertValue(ie,"options"),s.fF.assertValue(ie.enumeration,"enumeration");var Oe=ie.style?ie.style:(0,v.Ue)();if(ie.seriesLabelsSettings){var Ze={objectName:We&&We.objectName||"seriesLabels",selector:ie.selector,properties:{},propertyInstanceKind:{color:ie.selector?1:3}};if(ie.show&&(Ze.properties.show=ie.seriesLabelsSettings.show),Ze.properties.seriesColor=ie.seriesLabelsSettings.seriesColor||a.v.getThemeColor(Oe,m.uQ),null!=ie.seriesPosition&&!ie.selector&&(Ze.properties[l.zK.seriesLabels.seriesPosition.propertyName]=ie.seriesPosition),ie.fontSize&&(Ze.properties[l.zK.seriesLabels.textSize.propertyName]=ie.seriesLabelsSettings.fontProperties.size.pt,ie.fontSizeRange)&&ue(Ze,l.zK.seriesLabels.textSize.propertyName,{numberRange:{min:ie.seriesLabelsSettings.minFontSize,max:ie.seriesLabelsSettings.maxFontSize}}),ie.fontFamily&&(Ze.properties[l.zK.seriesLabels.seriesFontFamily.propertyName]=ie.seriesLabelsSettings.fontProperties.family||g.rk),ie.bold&&(Ze.properties.bold=ie.seriesLabelsSettings.bold||!1),ie.italic&&(Ze.properties.italic=ie.seriesLabelsSettings.italic||!1),ie.underline&&(Ze.properties.underline=ie.seriesLabelsSettings.underline||!1),null!=ie.enableBackground&&(Ze.properties.enableBackground=ie.enableBackground),ie.enableBackground&&(Ze.properties.backgroundColor=ie.backgroundColor,Ze.properties.backgroundTransparency=Math.round(100*ie.backgroundTransparency)),null!=ie.seriesWordWrap&&!ie.selector&&(Ze.properties[l.zK.seriesLabels.seriesWordWrap.propertyName]=ie.seriesWordWrap),null==ie.seriesMaximumWidth||ie.selector||(Ze.properties[l.zK.seriesLabels.seriesMaximumWidth.propertyName]=ie.defaultSeriesWidth?null:ie.seriesMaximumWidth,ue(Ze,l.zK.seriesLabels.seriesMaximumWidth.propertyName,{numberRange:{min:m._i,max:m.NL}})),ie.showAll&&(Ze.properties.showAll=!!ie.seriesLabelsSettings.showLabelPerSeries),at)for(var Ne in at)Ze.properties[Ne]=at[Ne];return We&&We.propertyInstanceKind&&(Ze.propertyInstanceKind=We.propertyInstanceKind),ie.enumeration.pushInstance(Ze)}}function ue(ie,Fe,at){ie.validValues||(ie.validValues={}),ie.validValues[Fe]=at}function ve(ie,Fe,at,We,Oe,Ze,Ee,K){void 0===Oe&&(Oe=!1),void 0===Ee&&(Ee=(0,v.Ue)());var Ne=Fe||Te(Ee),ye={objectName:K&&K.objectName?K.objectName:"categoryLabels",selector:null,properties:{}};at&&(ye.properties.color=Ne.categoryLabelColor?Ne.categoryLabelColor:Ne.fontProperties.color),ye.properties.show=Oe?Ne.showCategory:Ne.show,ye.properties.fontSize=Fe?Fe.fontProperties.size.pt:m.Uy,ye.properties.fontFamily=Fe?Fe.fontProperties.family:m.OW,ye.properties.bold=!!Fe&&Fe.bold,ye.properties.italic=!!Fe&&Fe.italic,ye.properties.underline=!!Fe&&Fe.underline,ye.properties.enableBackground=!!Fe&&!!Fe.enableBackground,Fe&&Fe.enableBackground&&(ye.properties.enableBackground=!0,ye.properties.backgroundColor=Fe.backgroundColor||a.v.getThemeColor(Ee,m.lp),ye.properties.backgroundTransparency=null!=Fe.backgroundTransparency?Math.round(100*Fe.backgroundTransparency):Math.round(100*m.BS)),Ze&&(ye.properties.fontSize=Ze),K&&K.propertyInstanceKind&&(ye.propertyInstanceKind=K.propertyInstanceKind),ie.pushInstance(ye)}function xe(ie){var Fe,at,We,Oe=ie.cardName,Ze=ie.isShowCategory,Ee=ie.props,K=ie.revertToDefaultProps,Ne=ie.showBackground,Y=ie.showValueColor,ye=ie.style,rt=ie.disabled,it=ie.disabledReason,Ue=null!==(Fe=ie.dataLabelSettings)&&void 0!==Fe?Fe:Te(ye),De=new b.CQ(new b.lg("categoryLabels"),Oe,K,ie.localize),Xe=(new b.UN).withFontFamily({descriptor:Ee.fontFamily,value:null!==(at=Ue.fontProperties.family)&&void 0!==at?at:m.OW}).withFontSizeProperties({descriptor:Ee.fontSize,value:null!==(We=Ue.fontProperties.size.pt)&&void 0!==We?We:m.Uy}).withBold({descriptor:Ee.bold,value:Ue.bold}).withItalic({descriptor:Ee.italic,value:Ue.italic}).withUnderline({descriptor:Ee.underline,value:Ue.underline}).build();return De.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",function(){return new b.bd({descriptor:Ee.show,value:Ze?Ue.showCategory:Ue.show}).build()}).addGroup("values",function(et){var he;Ne&&et.withDisplayName("Role_DisplayName_Values"),et.addCompositeSlice("font","Font",Xe),Y&&et.addSimpleSlice("color",new b.BT({descriptor:Ee.color,value:{value:null!==(he=Ue.categoryLabelColor)&&void 0!==he?he:Ue.fontProperties.color}}).build())}),Ne&&De.addGroup("background",function(et){var he,ce;et.withDisplayName("Visual_Background").addTopLevelToggle("show",function(){return new b.bd({descriptor:Ee.enableBackground,value:Ue.enableBackground}).build()}).addSimpleSlice("color",new b.BT({descriptor:Ee.backgroundColor,value:{value:null!==(he=Ue.backgroundColor)&&void 0!==he?he:a.v.getThemeColor(ye,m.lp)}}).build()).addSimpleSlice("transparency",b.JN.getTransparencySliderBuilder({descriptor:Ee.backgroundTransparency,value:Math.round(100*(null!==(ce=Ue.backgroundTransparency)&&void 0!==ce?ce:m.BS)),localize:ie.localize}).build())}),rt&&De.withDisabled(!0,it),De.build()}},506963:function(Je,H,t){t.d(H,{Ej:function(){return r},Fw:function(){return u},RC:function(){return V},Th:function(){return m},YA:function(){return a},YO:function(){return n},e9:function(){return o},h1:function(){return p}});var e=t(226514),c=t(787941),s=t(760182),f=t(326621),v=t(72653),b=t(326899),h=t(2570);function p(d,S){if(c.fF.assertAnyValue(S,"format"),d!==h.NZ)return d;if("g"!==S&&"G"!==S){if(S){var g=(0,f.OQ)(S).positive,y=(0,f.rH)(g,!0);if(y.hasDots)return y.optionalPrecision?void 0:y.precision}return h.xy}}function n(d,S,g,y){return{displayUnitSystemType:s.V.DataLabels,format:S,precision:y,value:d.displayUnits,value2:g,allowFormatBeautification:!0}}function l(d){return h.Q2.test(d)}function r(d,S){d=d?d.filter(function(C){return null!=C&&C.length>0}):[],S=S||"";for(var g=[];d.length>0;){var y=d.shift();g.length>0&&l(g[g.length-1])&&!l(y)&&(g[g.length-1]="".concat(g[g.length-1],"\u200e")),g.push(y)}return g.join(S)}function o(d){return null!=d.instanceKind?d.instanceKind:d.individualSelector?3:1}function a(d){return"labelDensity"in d?d:(0,e.__assign)((0,e.__assign)({},d),{labelDensity:h.go})}function m(d,S){return null!=d&&d.instanceId?"".concat(d.instanceId,"-").concat(S):S}function u(d){switch(d){case v.aT:return v.YK.data;case v.oN:return v.YK.percentOfFirst;case v.r2:return v.YK.percentOfPrevious;case v.MS:return v.YK.dataAndPercentOfFirst;case v.mN:return v.YK.dataAndPercentOfPrevious;default:return c.fF.assertFail("Unexpected labelStyle: ".concat(d)),v.YK.data}}function V(d){switch(d){case b.aT:return b.YK.data;case b.aQ:return b.YK.percent;case b.f3:return b.YK.categoryAndData;case b.ev:return b.YK.categoryAndPercent;case b.qv:return b.YK.dataAndPercent;case b._q:return b.YK.categoryAndDataAndPercent;case b.W3:return b.YK.category;default:return c.fF.assertFail("Unexpected labelStyle: ".concat(d)),b.YK.category}}},485502:function(Je,H,t){t.d(H,{K0:function(){return h},XS:function(){return v},kV:function(){return p},n$:function(){return f}});var e=t(787941),c=t(664723),s=t(238435);function f(n){return n&&n.categorical&&n.categorical.categories&&n.categorical.categories.length>1}function v(n){if(function(n){if(_.isEmpty(n))return!1;var l=_.some(n,function(r){var o=r.categorical;if(!o)return!1;if(!o.categories)return!1;var i=o.values;return!(!(i&&i.group&&i.group.by)||_.isEmpty(i.group.by.items))});return!l}(n))for(var r=0,o=n;r<o.length;r++){var a=o[r];if(!a.categorical)return;var i=a.categorical.categories;if(!i||!i.dataReductionAlgorithm||!i.dataReductionAlgorithm.window)return;i.dataReductionAlgorithm={window:{count:1e3}}}}function h(n){e.fF.assertNonEmpty(n,"mappings");for(var l=0,r=n;l<r.length;l++)(0,s.Sr)(r[l].categorical.categories,{visitRole:function(m){var u=m.items;if(!_.isEmpty(u)&&!_.isEmpty(m.activeItems))for(var d=0,S=_.filter(u,function(y){return _.includes(m.activeItems,y.queryName)});d<S.length;d++)S[d].filteredToUniqueValueProperty=c.p.filters.filteredToUniqueValue}})}function p(n,l,r){void 0===r&&(r=1);for(var o=function(V){if(!(V&&V.categorical&&V.categorical.categories&&V.metadata))return"continue";var d=V.metadata.columns,S=V.categorical.categories;if(_.some(d,function(g){return void 0!==g.sort}))return"continue";(0,s.Sr)(S,{visitRole:function(y,C){if(_.includes(l,y.role)){var E=y.activeItems;if(!_.isEmpty(E))for(var M=0,P=function(L){var F=_.find(d,function(A){return A.queryName===L});F&&(F.sort=r,F.sortOrder=M++)},T=0,x=E;T<x.length;T++)P(x[T])}}})},a=0,i=n;a<i.length;a++)o(i[a])}},488165:function(Je,H,t){t.d(H,{F:function(){return c}});var e=t(787941),c=function(){function s(f,v,b,h){this.matchObjectName=f,this.matchPropertyName=v,this.relatedTopLevelToggleValue=b,this.hasSelector=h,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}return s.prototype.onToggleDisabled=function(){for(var f,v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];return(f=this.disabledBehaviorChanges).push.apply(f,v),this},s.prototype.onToggleEnabled=function(){for(var f,v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];return(f=this.enabledBehaviorChanges).push.apply(f,v),this},s.prototype.getBehaviorChanges=function(f){switch(f){case 2:return this.disabledBehaviorChanges;case 1:return this.enabledBehaviorChanges;default:e.fF.assertNever(f)}},s.prototype.updateBehaviorChanges=function(f,v){switch(f){case 2:this.disabledBehaviorChanges.forEach(function(b){return b.updateChange(v)});break;case 1:this.enabledBehaviorChanges.forEach(function(b){return b.updateChange(v)});break;default:e.fF.assertNever(f)}},s.prototype.getToggleBehaviorType=function(f){return this.relatedTopLevelToggleValue&&!f.propertyValue?2:!this.relatedTopLevelToggleValue&&f.propertyValue?1:0},s.prototype.isMatchingVisualObjectChange=function(f){return f.objectName===this.matchObjectName&&f.propertyName===this.matchPropertyName&&!!f.selector===this.hasSelector},s}()},758977:function(Je,H,t){t.d(H,{$:function(){return s}});var e=t(226514),s=function(f){function v(b,h,p){return f.call(this,b,h,p,!1)||this}return(0,e.__extends)(v,f),v.create=function(b,h){return new v(b.objectName,b.propertyName,h)},v.prototype.getChanges=function(b){if(this.isMatchingVisualObjectChange(b)){var h=this.getToggleBehaviorType(b);if(0!==h)return this.updateBehaviorChanges(h,b),this.getBehaviorChanges(h)}return[]},v}(t(488165).F)},604011:function(Je,H,t){t.d(H,{o:function(){return c}});var e=t(226514),c=function(){function s(){}return s.getDataViewObjectsBehaviorChanges=function(f,v){for(var b=[],h=0,p=f;h<p.length;h++)for(var n=p[h],l=0,r=v;l<r.length;l++)b.unshift.apply(b,r[l].getChanges(n));return b},s.applyDataViewObjectsBehaviorChanges=function(f,v){for(var b=(0,e.__spreadArray)([],f,!0),h=0,p=v;h<p.length;h++)b=p[h].applyChange(b);return b},s}()},932093:function(Je,H,t){t.d(H,{W:function(){return c}});var e=t(226514),c=function(){function s(f,v,b){this.visualObjectChange=f,this.required=v,this.shouldInheritSelector=b}return s.createBooleanDataViewObjectChange=function(f,v,b){var h=(0,e.__assign)((0,e.__assign)({},f),{propertyValue:v,propertyType:{bool:!0}});return s.create(h,b)},s.createRevertToDefaultDataViewObjectChange=function(f,v){return s.create({objectName:f,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},v)},s.createColorDataViewObjectChange=function(f,v,b){var h=(0,e.__assign)((0,e.__assign)({},f),{propertyValue:{value:v},propertyType:{fill:{solid:{color:!0}}}});return s.create(h,b)},s.createNumericDataViewObjectChange=function(f,v,b){var h=(0,e.__assign)((0,e.__assign)({},f),{propertyValue:v,propertyType:{numeric:!0}});return s.create(h,b)},s.create=function(f,v){return null!=v&&v.selector&&(f.selector=v.selector),new s(f,null==v?void 0:v.required,null==v?void 0:v.inheritSelector)},s.prototype.applyChange=function(f){return f.push(this.visualObjectChange),f},s.prototype.updateChange=function(f){this.shouldInheritSelector&&(this.visualObjectChange.selector=f.selector)},s}()},26526:function(Je,H,t){function e(s){if(s)return!!s.handled}function c(s){s&&(s.handled=!0)}t.d(H,{n:function(){return c},q:function(){return e}})},187810:function(Je,H,t){t.d(H,{ED:function(){return r},E_:function(){return V},JZ:function(){return m},XH:function(){return p},Zi:function(){return n},jB:function(){return g},qk:function(){return a},rL:function(){return o},wB:function(){return i},xH:function(){return S}});var e=t(629925),c=t(787941),s=t(299747),f=t(520907),v=t(129035),b=t(906298),h=t(744883);function p(C,E,M,P,T){var x=l(C,E,M,P,T);return T?r(T,x):x}function n(C,E,M,P,T,x,R,D){var L=l(C,E,M,void 0),F=(0,b.m)(P,x),A=F;if(E.color){var O=M.getColorForPropertyName(C,E.color,T);A=D?r(F,{color:O}):r({color:O},F)}return R&&(A=r(R,A)),A?r(A,L):L}function l(C,E,M,P,T){c.fF.assertValue(E,"propertyNames");var x,R=E.weight&&(0,v.N)(C,E.weight),D=E.style&&(0,v.N)(C,E.style),L=E.underline&&(0,v.N)(C,E.underline);if(E.size){var F=(0,v.N)(C,E.size);null!=F&&(x=E.sizeInPixels?h.B.createFromPx(+F):h.B.createFromPt(+F))}return E.bold&&(R=(0,v.N)(C,E.bold)||(null==T?void 0:T.weight)===e.en?e.en:R),E.italic&&(D=(0,v.N)(C,E.italic)||(null==T?void 0:T.style)===e.BF?e.BF:D),E.underline&&(L=(0,v.N)(C,E.underline)||(null==T?void 0:T.textDecoration)===e.f0?e.f0:L),{color:E.color&&M.getColorForPropertyName(C,E.color,P),family:E.family&&(0,v.N)(C,E.family),lineHeight:E.lineHeight&&(0,v.N)(C,E.lineHeight),size:x,style:D,variant:E.variant&&(0,v.N)(C,E.variant),weight:R,whiteSpace:E.whiteSpace&&(0,v.N)(C,E.whiteSpace),textDecoration:L}}function r(C,E){c.fF.assertValue(C,"fontProperties");var M=(0,s.ED)(C);return E&&((E.color||null===E.color)&&(M.color=E.color),E.family&&(M.family=E.family),E.lineHeight&&(M.lineHeight=E.lineHeight),E.size&&(M.size=E.size),E.style&&(M.style=E.style),E.variant&&(M.variant=E.variant),E.weight&&(M.weight=E.weight),E.whiteSpace&&(M.whiteSpace=E.whiteSpace),E.textDecoration&&(M.textDecoration=E.textDecoration)),M}function o(C,E){return c.fF.assertValue(C,"fontProperties"),V(r(C,E))}function a(C,E,M){return c.fF.assertValue(C,"fontProperties"),M&&(C=d(C)),{text:E,fontFamily:C.family,fontSize:C.size?f.FP.toString(C.size.px):void 0,fontWeight:C.weight,fontStyle:C.style,fontVariant:C.variant,whiteSpace:C.whiteSpace}}function i(C){c.fF.assertValue(C,"fontProperties");var E={};return C.color&&(E.color=C.color),C.family&&(E["font-family"]=C.family),C.lineHeight&&(E["line-height"]=C.lineHeight),C.size&&(E["font-size"]=C.size?f.FP.toString(C.size.px):void 0),C.variant&&(E["font-variant"]=C.variant),C.whiteSpace&&(E["white-space"]=C.whiteSpace),E["font-weight"]=C.weight?C.weight:null,E["font-style"]=C.style?C.style:null,E["text-decoration"]=C.textDecoration?C.textDecoration:null,E}function m(C,E){return c.fF.assertValue(C,"fontProperties"),c.fF.assertValue(E,"element"),function(C,E){c.fF.assertValue(C,"fontProperties"),c.fF.assertValue(E,"style"),C.color&&(E.fill=C.color),C.family&&(E.fontFamily=C.family),C.lineHeight&&(E.lineHeight=C.lineHeight),C.size&&(E.fontSize=C.size?f.FP.toString(C.size.px):void 0),C.style&&(E.fontStyle=C.style),C.variant&&(E.fontVariant=C.variant),C.weight&&(E.fontWeight=C.weight),C.whiteSpace&&(E.whiteSpace=C.whiteSpace)}(C,E.style),E}function V(C){c.fF.assertValue(C,"fontProperties");var E={};return C.color&&(E.fill=C.color),C.family&&(E["font-family"]=C.family),C.lineHeight&&(E["line-height"]=C.lineHeight),C.size&&(E["font-size"]=C.size?f.FP.toString(C.size.px):void 0),C.variant&&(E["font-variant"]=C.variant),C.whiteSpace&&(E["white-space"]=C.whiteSpace),E["font-weight"]=C.weight?C.weight:null,E["font-style"]=C.style?C.style:null,E["text-decoration"]=C.textDecoration?C.textDecoration:null,E}function d(C,E){void 0===E&&(E=0);for(var M={},P=Object.getPrototypeOf({}),T=0;T<=E&&null!=C&&C!==P;T++)_.forOwn(C,function(x,R){void 0===M[R]&&(M[R]=x)}),C=Object.getPrototypeOf(C);return M}function S(C){return d(C,Number.MAX_VALUE)}function g(C){return{color:function(M){return C(M).color},"font-family":function(M){return C(M).family},"font-size":function(M){return C(M).size?f.FP.toString(C(M).size.px):void 0},"font-style":function(M){return C(M).style},"font-variant":function(M){return C(M).variant},"font-weight":function(M){return C(M).weight},"white-space":function(M){return C(M).whiteSpace},"text-decoration":function(M){return C(M).textDecoration}}}},643068:function(Je,H,t){t.d(H,{Aq:function(){return M},NG:function(){return P},Po:function(){return o},mG:function(){return d},qo:function(){return C},sY:function(){return x}});var e=t(629925),c=t(787941),s=t(396894),f=t(698129),v=t(129035),b=t(487496),h=t(280122),p=t(808261),n=t(279295),l=t(298801),r=t(737104),o="forecast",u="foregroundDark",V={displayName:"",confidenceBandStyle:h.hl,transparency:80,style:p.SQ},d="Visual_Quarter_Abbreviated",S=(0,e.CH)("forecast-line"),g=(0,e.CH)("forecast-error-range"),y=(0,e.CH)("forecast-line-layer");function C(R,D,L,F){var A,O;if(c.fF.assertValue(R,"enumeration"),_.isEmpty(D)||(O=D[0]),O){var w=((A={})[r.$Z]=O.show,A[r.ss]=O.displayName,A[r.tZ]=O.lineColor,A[r.oB]=O.style,A[r.hc]=O.confidenceBandStyle,A[r.KZ]=O.transparency,A);R.pushInstance({selector:O.selector,properties:w,objectName:o})}else{var N={selector:{id:"0"},properties:{show:!1,lineColor:E(L),style:V.style,confidenceBandStyle:V.confidenceBandStyle,transparency:V.transparency},objectName:o,disabledReason:F};R.pushInstance(N)}}function E(R){return{solid:{color:l.v.getThemeColor(R,u)}}}function M(R){if(!R||!R.categorical||!R.categorical.values)return!1;for(var L=0,F=R.categorical.values.grouped();L<F.length;L++)if(_.some(F[L].values,function(N){return(0,s.R)(N,"forecast.ForecastValue")}))return!0;return!1}function P(R,D,L){if(!(R&&R.categorical&&D&&D.categorical))return[];var F=R.categorical;if(_.isEmpty(F.categories)||_.isEmpty(F.values))return[];var A=(0,b.A8)(F.categories[0]),O=A?_.map(A.values,function(ie){return ie.min}):F.categories[0].values,N=F.values.grouped();if(_.isEmpty(O)||_.isEmpty(N))return[];var w=(0,s.a2)(N,"forecast.ForecastValue"),I=(0,s.a2)(N,"forecast.ConfidenceHighBound"),B=(0,s.a2)(N,"forecast.ConfidenceLowBound"),j=[],W=function(R){var D=[];if(R&&R.categorical&&R.categorical.values){var L=_.head(R.categorical.values.grouped());if(L)for(var F=0,A=L.values;F<A.length;F++){var O=A[F],N=O.source.queryName,w=(0,f.AO)(O.source.objects,o);D[N]=w}}return D}(D),U=0,k=l.v.create(L);for(var Q in W){var te=W[Q];for(var ee in te){for(var J=te[ee],re=(0,v.N)(J,r.$Z,!1),G=(0,v.N)(J,r.ss),ne={solid:{color:k.getColorForPropertyName(J,r.tZ,u)}},X=(0,v.N)(J,r.hc,V.confidenceBandStyle),oe=(0,v.N)(J,r.KZ,V.transparency),Ve=(0,v.N)(J,r.oB,V.style),Te=l.v.create(L,{objectName:"dataPoint",propertyName:"fill"},E(L).solid.color),Qe=N[U],He=[],Ce=Qe.values[w].highlights?Qe.values[w].highlights:Qe.values[w].values,de=Qe.values[I].highlights?Qe.values[I].highlights:Qe.values[I].values,pe=Qe.values[B].highlights?Qe.values[B].highlights:Qe.values[B].values,le=0;le<O.length;le++){var me=(0,n.eT)(O[le]),be=(0,n.eT)(Ce[le]);if(null!=me&&null!=be){var Be=(0,n.eT)(de[le]),Se=(0,n.eT)(pe[le]);He.push({point:{x:me,y:be},upperBound:{x:me,y:Be},lowerBound:{x:me,y:Se}})}}var Pe=void 0;if(ne)Pe=ne;else if(D.categorical.values.source){var ue=D.categorical.values.grouped();Pe={solid:{color:Te.getColorForSeriesValue(ue[U].objects,D.categorical.values.identityFields,Qe.name,u)}}}else Pe={solid:{color:Te.getColorForMeasure(D.categorical.values[U].source.objects,Qe.name,u)}};j.push({selector:{id:ee,metadata:Q},points:He,show:re,displayName:G,lineColor:Pe,confidenceBandStyle:X,transparency:oe,style:Ve}),U++}}return j}function x(R,D,L,F,A,O){var N=D.select(y.selector);N.empty()&&(N=D.insert("g",":first-child").classed(y.class,!0));var w=N.selectAll(g.selector).data(R||[]),I=w.enter().insert("path",":first-child").classed(g.class,!0).merge(w);I.transition().ease(d3.easeLinear).duration(O).attr("d",function(W){for(var U=d3.line().x(function(G){return L(G.x)}).y(function(G){return F(G.y)}),k=[],Q=0,te=W.points.slice().reverse();Q<te.length;Q++)k.push({x:(ee=te[Q]).lowerBound.x,y:ee.lowerBound.y});for(var J=0,re=W.points;J<re.length;J++){var ee;k.push({x:(ee=re[J]).upperBound.x,y:ee.upperBound.y})}return U(k)}),I.each(function(W){var U=d3.select(this),k={},Q=(100-W.transparency)/100;k["fill-opacity"]=Q,k["stroke-opacity"]=Q,W.confidenceBandStyle===h.hl?(k.stroke="transparent",k.fill=W.lineColor.solid.color):W.confidenceBandStyle===h.jv?(k.stroke=W.lineColor.solid.color,k.fill="transparent"):W.confidenceBandStyle===h.YP&&(k.stroke="transparent",k.fill="transparent"),U.styles(k)}),w.exit().remove();var B=N.selectAll(S.selector).data(R||[]),j=B.enter().append("path").classed(S.class,!0).merge(B);j.transition().ease(d3.easeLinear).duration(O).attr("d",function(W){return d3.line().x(function(k){return L(k.point.x)}).y(function(k){return F(k.point.y)})(W.points)}),j.each(function(W){var U=d3.select(this),k={};k.stroke=W.lineColor.solid.color,k.fill="transparent",W.style===p.HA?k["stroke-dasharray"]="5, 5":W.style===p.ft?(k["stroke-dasharray"]="1, 5",k["stroke-linecap"]="round"):W.style===p.SQ&&(k["stroke-dasharray"]=null,k["stroke-linecap"]=null),U.styles(k)}),B.exit().remove()}},737104:function(Je,H,t){t.d(H,{$Z:function(){return e},KZ:function(){return v},hc:function(){return f},oB:function(){return b},ss:function(){return c},tZ:function(){return s}});var e="show",c="displayName",s="lineColor",f="confidenceBandStyle",v="transparency",b="style"},291704:function(Je,H,t){t.d(H,{$Q:function(){return b},LI:function(){return p},O7:function(){return f},XR:function(){return n},i6:function(){return v},p2:function(){return l},zU:function(){return h}});var e=t(106266),c=t(989516);function f(r){var o,a,i,m,u;if((0,e.IW)(r)){var V=_.values(null===(o=null==r?void 0:r.control)||void 0===o?void 0:o.properties),d=_.find(V,function(S){return!!S});return null===(a=null==d?void 0:d.descriptor)||void 0===a?void 0:a.selector}return null===(u=null===(m=null===(i=null==r?void 0:r.control)||void 0===i?void 0:i.properties)||void 0===m?void 0:m.descriptor)||void 0===u?void 0:u.selector}function v(r){if((0,e.IW)(r)){var o=_.values(r.control.properties);return _.filter(o,function(i){return!!i}).map(function(i){return i.descriptor})}return[r.control.properties.descriptor]}function b(r,o){return o?"".concat(r).concat("___").concat((0,c.km)(o)):r}function h(r,o){return o?b(r.uid,f(r)):r.uid}function p(r){return void 0!==r.objectName&&void 0!==r.propertyName}function n(r){return void 0!==r.sourceUid}function l(r,o){return!(!r||!o)&&(p(r)&&p(o)?r.objectName===o.objectName&&r.propertyName===o.propertyName&&(0,c.fS)(r.selector,o.selector):!p(r)&&!p(o)&&r.sliceUid===o.sliceUid&&(0,c.fS)(r.selector,o.selector))}},210683:function(Je,H,t){t.d(H,{Kj:function(){return M},MG:function(){return i},Q1:function(){return a},Rr:function(){return o},Vn:function(){return g},Wt:function(){return S},Ym:function(){return d},Zn:function(){return l},_8:function(){return V},d9:function(){return m},jT:function(){return P},qG:function(){return y},yj:function(){return r},yw:function(){return u}});var e=t(177497),c=t(787941),s=t(396894),f=t(668268),v=t(324356),b=t(655981),h=b.LX,p="dataPoint",n="fillRule";function l(w){if(w)for(var I in w){var B=w[I];for(var j in B.properties){var W=B.properties[j];if(W.type&&W.type[n])return W.rule}}}function r(w){if(w&&w.values&&w.values.grouped){var I=w.values.grouped();return(0,s.a2)(I,"Gradient")}return-1}function o(w){if(null==w)return null;var I=r(w);return-1===I?null:w.values[I]}function a(w){return r(w)>=0}function i(w){return _.findIndex(w.valueSources,function(B){return(0,s.nu)(B,"Gradient")})>=0}function m(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:h,nullColor:null}}function u(){return P()}function V(w,I,B){var U,k,j=(0,f.zx)(B,p,null),W=g(B);if(W)switch($.isNumeric(I)&&(U=void 0!==I?(0,v.tx)(+I):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],w)&&(k=(0,v.$_)(I&&I.value,w)),w){case"minColor":!function(w,I){w.linearGradient2?w.linearGradient2.min.color=I:w.linearGradient3&&(w.linearGradient3.min.color=I)}(W,k);break;case"midColor":!function(w,I){w.linearGradient3&&(w.linearGradient3.mid.color=I)}(W,k);break;case"maxColor":!function(w,I){w.linearGradient2?w.linearGradient2.max.color=I:w.linearGradient3&&(w.linearGradient3.max.color=I)}(W,k);break;case"nullColor":!function(w,I){w.linearGradient2?w.linearGradient2.nullColoringStrategy.color=I:w.linearGradient3&&(w.linearGradient3.nullColoringStrategy.color=I)}(W,k);break;case"minValue":!function(w,I){w.linearGradient2?w.linearGradient2.min.value=I:w.linearGradient3&&(w.linearGradient3.min.value=I)}(W,U);break;case"midValue":!function(w,I){w.linearGradient3&&(w.linearGradient3.mid.value=I)}(W,U);break;case"maxValue":!function(w,I){w.linearGradient2?w.linearGradient2.max.value=I:w.linearGradient3&&(w.linearGradient3.max.value=I)}(W,U);break;case"nullStrategy":!function(w,I){w.linearGradient2?w.linearGradient2.nullColoringStrategy.strategy=I:w.linearGradient3&&(w.linearGradient3.nullColoringStrategy.strategy=I)}(W,I);break;case"diverging":W=I?{linearGradient3:_.assign({mid:{color:(0,v.$_)(null,"midColor")}},W.linearGradient2)}:{linearGradient2:W.linearGradient3},j.properties[n]=W;break;case"revertToDefault":W=u(),j.properties[n]=W;break;default:c.fF.assertFail("updateFillRule - Unexpected propertyName: ".concat(w))}}function d(w){return w?y(w):m()}function S(w){return w?function(w){var I,B,j,W,U,k,Q,te,ee,J,re,G,ne,X,oe,Ve,Te,Qe,He,Ce,de,pe=h,me=null==w?void 0:w.linearGradient2,be=null==w?void 0:w.linearGradient3;me?(oe=null===(I=me.max)||void 0===I?void 0:I.color,Ve=null===(B=me.min)||void 0===B?void 0:B.color,He=null===(j=me.max)||void 0===j?void 0:j.value,de=null===(W=me.min)||void 0===W?void 0:W.value,pe=null===(U=me.nullColoringStrategy)||void 0===U?void 0:U.strategy,Qe=null===(k=me.nullColoringStrategy)||void 0===k?void 0:k.color):be&&(oe=null===(Q=be.max)||void 0===Q?void 0:Q.color,Te=null===(te=be.mid)||void 0===te?void 0:te.color,Ve=null===(ee=be.min)||void 0===ee?void 0:ee.color,He=null===(J=be.max)||void 0===J?void 0:J.value,Ce=null===(re=be.mid)||void 0===re?void 0:re.value,de=null===(G=be.min)||void 0===G?void 0:G.value,pe=null===(ne=be.nullColoringStrategy)||void 0===ne?void 0:ne.strategy,Qe=null===(X=be.nullColoringStrategy)||void 0===X?void 0:X.color);var Be={diverging:void 0!==w.linearGradient3,minColor:E(Ve),midColor:E(Te),maxColor:E(oe),nullStrategy:pe,nullColor:E(Qe)};return null!=de&&(Be.minValue=de),null!=Ce&&(Be.midValue=Ce),null!=He&&(Be.maxValue=He),Be}(w):m()}function g(w){return(0,f.NA)(w,{objectName:p,propertyName:n},null)}function y(w){var I,B,j,W,U,k,Q,G,te=h,J=w.linearGradient2,re=w.linearGradient3;if(J)I=J.max.color.value,B=J.min.color.value,(ne=J.max.value)&&(U=ne.value),(X=J.min.value)&&(Q=X.value),G=J.nullColoringStrategy;else if(re){var ne;I=re.max.color.value,j=re.mid.color.value,B=re.min.color.value,(ne=re.max.value)&&(U=ne.value);var X,oe=re.mid.value;oe&&(k=oe.value),(X=re.min.value)&&(Q=X.value),G=re.nullColoringStrategy}if(G){te=G.strategy.value;var Ve=G.color;Ve&&(W=Ve.value)}var Te={diverging:void 0!==w.linearGradient3,minColor:E(B),midColor:E(j),maxColor:E(I),nullStrategy:te,nullColor:E(W)};return null!=Q&&(Te.minValue=Q),null!=k&&(Te.midValue=k),null!=U&&(Te.maxValue=U),Te}function E(w){if((0,e.A7)(w))return w}function M(w,I){var B=[];return B.push(w.minColor||I.minColor.value),w.diverging&&B.push(w.midColor||I.midColor.value),B.push(w.maxColor||I.maxColor.value),B.join(",")}function P(w){var I=d(w),B={linearGradient2:{min:{color:(0,v.$_)(I.minColor,"minColor")},max:{color:(0,v.$_)(I.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,v.fL)(I.nullStrategy)}}},j=B.linearGradient2;return null!=I.minValue&&(j.min.value=(0,v.tx)(I.minValue)),null!=I.maxValue&&(j.max.value=(0,v.tx)(I.maxValue)),I.nullStrategy===b.Sx&&(j.nullColoringStrategy.color=(0,v.$_)(I.nullColor,"nullColor")),B}},918537:function(Je,H,t){t.d(H,{A$:function(){return g},BV:function(){return E},FO:function(){return m},FW:function(){return T},I8:function(){return d},Jv:function(){return F},Ku:function(){return i},OW:function(){return M},TY:function(){return R},US:function(){return P},W3:function(){return C},XM:function(){return N},Xt:function(){return u},YG:function(){return o},a0:function(){return r},bt:function(){return h},c8:function(){return O},ct:function(){return w},kW:function(){return D},lq:function(){return a},lt:function(){return n},tn:function(){return I},to:function(){return l},wf:function(){return S},zV:function(){return L}});var e=t(932178),c=t(453543),s=t(26526);function h(){var B=d3.event;return{x:B.clientX,y:B.clientY}}var p="keydown.clearCatcher";function n(B,j){B.on(p,function(){var W=d3.event;67===W.keyCode&&W.ctrlKey&&W.shiftKey&&(j.handleClearSelection(),W.preventDefault(),W.stopPropagation())})}function l(B){B.on(p,null)}function r(B,j){o(B,j),M(B,j)}function o(B,j){B.on("click",function(W){O(u(W)?W.data:W,j)}),B.on("keydown.select",function(W){var U=d3.event,k=U.keyCode;32!==k&&13!==k||(O(u(W)?W.data:W,j),U.preventDefault(),U.stopPropagation())},!0)}function a(B){B.on("click",null),B.on("keydown.select",null)}function i(B){B.on("contextmenu",null)}function m(B){a(B),i(B)}function u(B){return!!B.data}var V="keydown.dataPoint";function d(B,j,W){B.on(V,function(){var U=d3.event,k=U.keyCode;(9===k||37===k||39===k||38===k||40===k)&&D(function(Q){U.preventDefault(),U.stopPropagation();var te=g(Q)?Q.data:Q;j.handleKeyDownEvent(W,te.categoryIndex,te.seriesIndex,k,U.shiftKey)},void 0)})}function S(B){B.on(V,null)}function g(B){return!!B.data}var y="keydown.enterPlotArea";function C(B,j,W){B.on(y,function(){var U=d3.event,k=U.keyCode;if(13===k)U.preventDefault(),U.stopPropagation(),j.goToFirstElement(W);else if(27===k&&U.target!==B.node()){U.preventDefault(),U.stopPropagation();var Q=B.node();e.M.focus(Q)}})}function E(B){B.on(y,null)}function M(B,j){B.on("contextmenu",function(W){A(u(W)?W.data:W,j)})}function P(B,j,W){(function(B,j,W){B.on(j.node(),"click",function(){D(function(U){O(u(U)?U.data:U,W)},void 0)}),B.on(j.node(),"keydown.select",function(){var k=d3.event.keyCode;(32===k||13===k)&&D(function(Q){O(u(Q)?Q.data:Q,W)},!0)},!0)})(B,j,W),R(B,j,W)}function T(B,j){B.on(j.node(),"click",function(){return null}),B.on(j.node(),"keydown.select",function(){return null})}function R(B,j,W){B.on(j.node(),"contextmenu",function(){D(function(U){A(u(U)?U.data:U,W)},void 0)})}function D(B,j){var W=d3.event,k=d3.select(W.target).datum();k&&(B(k),j&&(W.preventDefault(),W.stopPropagation()))}function L(B,j,W,U){B.selectAll("use").remove(),B.append("use").attr("href","#".concat(c.aY,"-").concat(j,"-").concat(W)).style("pointer-events","none").attr("role",null!=U?U:null).attr("aria-hidden",!0).style("fill","none")}function F(B){B.selectAll("use").remove()}function A(B,j){var W=d3.event;if(!e.M.isCtrlOrMeta(W)){W.preventDefault(),(0,s.n)(W);var U=h();j.handleContextMenu(B,U)}}function O(B,j){var W=h(),U=d3.event;(function(B){B.selectionHandled=!0})(U),j.handleSelection(B,(0,e.D)(U),W)}function N(B,j){var W=d3.event;!e.M.isCtrlOrMeta(W)&&!function(B){return!!B.selectionHandled}(W)&&(!j||null!=j&&j(W))&&B.handleClearSelection()}function w(B,j,W){var U=0;e.M.isCtrlOrMeta(B)?U=3:B.shiftKey&&(U=1),W.handleMultipleSelection(j,U,!0)}function I(B,j,W){W.handleMultipleSelection(B,j,!0)}},506038:function(Je,H,t){t.d(H,{jz:function(){return m},sq:function(){return a},zl:function(){return i}});var e=t(787941),c="powervisuals-glyph",s="big-kpi",f=["kpi-red","kpi-yellow","kpi-green"],v={kpiIconClass:"circle",statusValues:f},b={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},h={kpiIconClass:"traffic-light",statusValues:f},p={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},n={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},l={"THREE CIRCLES COLORED":v,"TRAFFIC LIGHT - SINGLE":v,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:f},"ROAD SIGNS":b,"THREE SYMBOLS CIRCLED COLORED":b,"TRAFFIC LIGHT":h,"THREE TRAFFIC LIGHTS RIMMED COLORED":h,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:p,"SMILEY FACE":p,THERMOMETER:p,CYLINDER:p,"THREE SIGNS COLORED":p,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":n,"GAUGE - ASCENDING":n,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function r(u,V){var d=parseFloat(V);if(u){var S=l[u.graphic.toUpperCase()];if(S&&!isNaN(d)){var g=S.statusValues;return u.normalizedFiveStateKpiRange&&5===g.length&&(d*=2),[S.kpiIconClass,g[d+(g.length>>1)]].join(" ").trim()}}}function o(u,V){if(u)return 1===V?[c,s,u].join(" "):[c,u].join(" ")}function a(u,V,d){return e.fF.assertValue(u,"kpi"),e.fF.assertValue(V,"value"),o(r(u,V),d)}function i(u,V,d){var S=u&&u.kpi;if(S){var g=r(S,V);if(g)return{caption:g,statusGraphic:S.graphic,class:o(g,d)}}}function m(u){return!(!u||!u.kpi)}},804494:function(Je,H,t){t.d(H,{$_:function(){return m},j2:function(){return i},lJ:function(){return u}});var e=t(226514),c=t(605781),s=t(72653),f=t(106266),v=t(725182),b=t(326899),h=t(298801),p=t(2570),n=t(49803),l=t(506963),r=t(453543),o=t(750311),a=t(45696);function i(V,d,S){void 0===S&&(S="Desktop_FileMenu_Options");var g=V.options,y=V.dataLabelsProps,C=V.omitGroupDisplayNames,M=V.selector,P=V.hostServices,T=V.featureSwitches,x=g.dataLabelsSettings,R=d||V.cardBuilder;d&&d.addSimpleSlice("showSeries",new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},y.showSeries),{selector:M}),value:x.show}).build(),function(D){return D.withDisabled(!M).withCustomDisplayName("Visual_Show_Data_Labels")}),R.addGroup("options",function(D){var L;C||D.withDisplayName(S),!d&&M&&g.show&&D.addSimpleSlice("showSeries",new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},y.showSeries),{selector:M}),value:x.show}).build(),function(w){return w.withDisabled(!M).withCustomDisplayName("Visual_Show_Data_Labels")}),y.labelOrientation&&D.addSimpleSlice("labelOrientation",new f.uY({descriptor:(0,e.__assign)((0,e.__assign)({},y.labelOrientation),{selector:M}),value:x.labelOrientation}).build(),function(w){return w.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!M)});var F=y.labelPosition||y.position;if(F){var A=g.positionObject?g.positionObject:void 0;D.addSimpleSlice("position",new f.uY({descriptor:(0,e.__assign)((0,e.__assign)({},F),{selector:M}),value:null!==(L=x.position)&&void 0!==L?L:A.length>0?A[0]:"Auto",filterValues:A}).build(),function(w){return w.withCustomDisplayName("Visual_Position")})}if(y.overflow&&D.addSimpleSlice("overflow",new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},y.overflow),{selector:M}),value:x.overflow}).build(),function(w){return w.withDisabled(x&&x.position===c.SX)}),y.labelStyle&&D.addSimpleSlice("labelContents",new f.uY({descriptor:(0,e.__assign)((0,e.__assign)({},y.labelStyle),{selector:M}),value:x.labelStyle}).build(),function(w){return w.withCustomDisplayName("Visual_LabelContents")}),y.labelDensity&&g.labelDensity){var O=g.dataLabelsSettings;O&&D.addSimpleSlice("labelDensity",f.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},y.labelDensity),{selector:M}),value:O.labelDensity,localize:function(I){return P.getLocalizedString(I)}}).build(),function(w){return w.withCustomDescription("Visual_LabelDensity_Description")})}if(T.leaderLinesAndOffset&&y.leaderLines&&g.leaderLines&&D.addSimpleSlice("leaderLines",new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},y.leaderLines),{selector:M}),value:x.leaderLines}).build()),T.leaderLinesAndOffset&&y.minimumOffset&&g.leaderLines&&D.addSimpleSlice("minimumOffset",new f.JN({descriptor:(0,e.__assign)((0,e.__assign)({},y.minimumOffset),{selector:M}),value:x.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}},localize:function(I){return P.getLocalizedString(I)}}).build()),T.leaderLinesAndOffset&&y.maximumOffset&&g.leaderLines){var N=x.minimumOffset;x.maximumOffset=N>=x.maximumOffset?N:x.maximumOffset,D.addSimpleSlice("maximumOffset",new f.JN({descriptor:(0,e.__assign)((0,e.__assign)({},y.maximumOffset),{selector:M}),value:x.maximumOffset,options:{minValue:{type:0,value:N},maxValue:{type:1,value:200}},localize:function(I){return P.getLocalizedString(I)}}).build())}})}function m(V,d,S,g){void 0===S&&(S="Role_DisplayName_Values"),void 0===g&&(g=!1);var C=V.cardBuilder;d&&(C=d),C.addGroup("values",function(E){return u(E,V,S,g),E.build()})}function u(V,d,S,g){void 0===S&&(S="Role_DisplayName_Values"),void 0===g&&(g=!1);var D,L,y=d.options,C=d.featureSwitches,E=d.dataLabelsProps,M=d.omitGroupDisplayNames,P=d.selector,T=d.repetitionSelector,x=d.displayDisabledSlices,R=y.dataLabelsSettings;y.labelStyle&&(D=(0,l.RC)(R.labelStyle)),y.funnelLabelStyle&&(L=(0,l.Fw)(R.labelStyle));var F=y.style?y.style:(0,o.Ue)();if(M||V.withDisplayName(S),g)V.withDisabled(!0,void 0);else{(E.fontFamily||E.fontSize)&&V.addCompositeSlice("font","Font",function(){var U=new f.UN;if(y.fontFamily&&E.fontFamily&&U.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},E.fontFamily),{selector:P}),value:R.fontProperties.family||r.rk}),y.fontSize&&E.fontSize){var k={descriptor:(0,e.__assign)((0,e.__assign)({},E.fontSize),{selector:P}),value:R.fontProperties.size.pt};y.fontSizeRange&&(k.options={minValue:{type:0,value:R.minFontSize},maxValue:{type:1,value:R.maxFontSize}}),U.withFontSizeProperties(k)}return y.bold&&E.bold&&U.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},E.bold),{selector:P}),value:R.bold}),y.italic&&E.italic&&U.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},E.italic),{selector:P}),value:R.italic}),y.underline&&E.underline&&U.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},E.underline),{selector:P}),value:R.underline}),U.build()}),E.matchSeriesColor&&V.addSimpleSlice("matchSeriesColor",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.matchSeriesColor),{selector:P}),value:y.matchSeriesColor}).build()}),E.color&&V.addSimpleSlice("color",function(){var U={value:R.fontProperties.color||h.v.getThemeColor(F,p.uQ)},k=(0,l.e9)(d);return new f.BT({descriptor:(0,e.__assign)((0,e.__assign)({},E.color),{selector:(0,n.hm)(d.individualSelector,P,T),instanceKind:k,altConstantValueSelector:(0,n.Cn)(d.individualSelector,P,d.includeAltConstantValueSelector)}),value:U}).build()},function(U){return U.withDisabled(y.matchSeriesColor)}),E.background&&V.addSimpleSlice("background",new f.uY({descriptor:(0,e.__assign)((0,e.__assign)({},E.background),{selector:P}),value:R.enableBackgroundWithAuto}).build(),function(U){return U.withDisabled(R&&R.position===c.SX)});var A=E.labelDisplayUnits||E.displayUnits;y.displayUnits&&void 0!==y.dataLabelsSettings.displayUnits&&A&&V.addSimpleSlice("displayUnits",new f.uY({descriptor:(0,e.__assign)((0,e.__assign)({},A),{selector:P}),value:-1!==R.displayUnits?R.displayUnits:0}).build(),function(U){return U.withAliasName("Decimal")});var O=E.labelPrecision||E.precision;if(y.precision&&D&&(0,v.yE)(D,b.nO)||y.precision&&L&&(0,v.yE)(L,b.nO)||y.precision&&!D&&O){var N=R.precision;V.addSimpleSlice("precision",function(){return new f.mu({descriptor:(0,e.__assign)((0,e.__assign)({},O),{selector:P}),value:N===p.NZ?null:N,options:{minValue:{type:0,value:0},maxValue:{type:1,value:p.vo}}}).build()})}if(y.percentagePrecision&&D&&(0,v.yE)(D,b.tG)||y.percentagePrecision&&L&&(0,v.yE)(L,s.r0)||(0,v.yE)(L,s.CR)||y.percentagePrecision&&!D&&E.percentagePrecision){var w=R.percentagePrecision;V.addSimpleSlice("percentagePrecision",function(){return new f.mu({descriptor:(0,e.__assign)((0,e.__assign)({},E.percentagePrecision),{selector:P}),value:w===p.Qc?null:w,options:{minValue:{type:0,value:0},maxValue:{type:1,value:p.vo}}}).build()},function(U){return U.withCustomDisplayName("Visual_PercentagePrecision")})}y.wordWrap&&E.wordWrap&&V.addSimpleSlice("wordWrap",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.wordWrap),{selector:P}),value:R.wordWrap}).build()},function(U){return U.withCustomDisplayName("TextWrap")}),y.preserveWhitespace&&E.preserveWhitespace&&V.addSimpleSlice("preserveWhitespace",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.preserveWhitespace),{selector:P}),value:R.preserveWhitespace}).build()});var I=x&&!!x.labelOverflow;if((y.labelOverflow&&E.labelOverflow||I)&&V.addSimpleSlice("labelOverflow",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.labelOverflow),{selector:P}),value:I?void 0:R.labelOverflow}).build()},function(U){return U.withDisabled(g||I).withCustomDescription("Visual_DataLabel_OverflowDescription")}),y.showPositiveAndNegative&&E.showPositiveAndNegative&&V.addSimpleSlice("showPositiveAndNegative",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.showPositiveAndNegative),{selector:P}),value:R.showPositiveAndNegative}).build()}),!C.labelEnhancementsM0&&C.measureDrivenDataLabels&&E.showDynamicLabels){var B=R.showDynamicLabels&&y.enableDynamicLabelPickers||!1;E.showDynamicLabels&&V.addSimpleSlice("showDynamicLabels",function(){return new f.bd({descriptor:(0,e.__assign)((0,e.__assign)({},E.showDynamicLabels),{selector:P}),value:R.showDynamicLabels}).build()},function(U){return U.withCustomDescription("Visual_ShowCustomLabel")});var j=d.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},P),{data:[(0,a.Ue)(1)],highlightMatching:1}),W={propertyName:E.dynamicLabelValue.propertyName,objectName:E.dynamicLabelValue.objectName,selector:j,instanceKind:2,propertyTypes:{text:!0}};V.addSimpleSlice("dynamicLabelValue",function(){return new f.k0({descriptor:W,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()},function(U){return U.withDisabled(!B)})}}}},255647:function(Je,H,t){t.d(H,{GH:function(){return s},XG:function(){return f},_m:function(){return v}});var e=t(787941),c=t(808261);function s(b){switch(b){case c.HA:return"5, 5";case c.ft:return"1, 5";case c.SQ:return null;default:return e.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),null}}function f(b){switch(b){case c.HA:return"7,5";case c.ft:return"2.5,3.1";case c.SQ:return null;default:return e.fF.assertFail("getStrokeDashArrayForLegend received an unrecognized line style"),null}}function v(b){switch(b){case c.HA:case c.SQ:return null;case c.ft:return"round";default:return e.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),null}}},10806:function(Je,H,t){t.d(H,{$:function(){return c}});var e=t(320380);function c(s,f,v){return new e.mZ(s,f,v.bingMapControlUrl)}},696428:function(Je,H,t){t.d(H,{R:function(){return e}});var e={BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S",AzureKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ"}},320380:function(Je,H,t){t.d(H,{yV:function(){return J},Bz:function(){return te},jj:function(){return ee},mZ:function(){return R},mS:function(){return re},tE:function(){return G},eP:function(){return X},Kq:function(){return ne},n9:function(){return he},w6:function(){return w},Ch:function(){return W},jv:function(){return N},z8:function(){return U},Gs:function(){return Te},qG:function(){return be},PN:function(){return Ve},RR:function(){return Qe},nv:function(){return Ce},Kp:function(){return de},TM:function(){return He},Zr:function(){return P},h$:function(){return T},CL:function(){return me},Yb:function(){return De},$f:function(){return D},DT:function(){return Le},wu:function(){return Ue},oT:function(){return Pe},IG:function(){return Re},BP:function(){return ce},o:function(){return ie},x6:function(){return ue},IU:function(){return A},N2:function(){return F},Jy:function(){return at},Sc:function(){return Fe},N0:function(){return M},M_:function(){return et},q1:function(){return O},Bo:function(){return it},n8:function(){return Ee},ml:function(){return E}});var v,b,e=t(226514),c=t(787941),s=t(564809),f=t(565146);window.globalMapControlLoaded=function(){c.fF.assertValue(v,"WaitForMSMapLoad"),v.resolve(void 0)};var o=t(696428),a=t(99450),i=t(298801),m=t(371485),u=t(187810),V=t(611799),d=t(884983),S=t(51033),g=t(2570);function E(Ge){if(Ge){var ut=Ge._v8Map&&Ge._v8Map._sizeHelper;ut&&_.isFunction(ut.pollSize)?ut.pollSize():c.fF.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function M(Ge){var ut=Microsoft.Maps.MapTypeId[Ge];return c.fF.assertValue(ut,"Map theme did not select a MapTypeId"),ut}var P={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:o.R.BingKey},T=16,R=function(){function Ge(ut,je,ae){this.promiseFactory=ut,this.loader=je,this.mapControlUrl=ae}return Ge.prototype.ensureMap=function(ut){return function(Ge,ut,je,ae){if(v)return v.promise;var fe=je=(0,f.fS)(je,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),we=(0,f.mA)(je),ze=we.c||we.culture,$e={};if(_.isEmpty(ae)||($e.setLang=ae),!_.isEmpty(ze)){var ot=ze.split("-",2);$e.setMkt=ze,$e.UR=ot.length>1?ot[1]:ze,$e.setLang=ot[0]}return fe=(0,f.fS)(je,$e,!0),v=Ge.defer(),ut.require({javascript:fe}),v.promise}(this.promiseFactory,this.loader,this.mapControlUrl,ut)},Ge.prototype.createMapControl=function(ut,je){return new Microsoft.Maps.Map(ut,je)},Ge.prototype.loadAzureMapScripts=function(ut){return function(Ge,ut,je){if(b)return b.promise;var ae="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",fe="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return je&&(ae="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",fe="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),b=Ge.defer(),ut.require({javascript:ae,css:[fe]}).then(function(ot){var _t=window;_t.atlas=_t.atlas||ot,_t.atlas||b.reject(),ut.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}).then(function(ke){ut.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]}).then(function(){return b.resolve(void 0)})})}),b.promise}(this.promiseFactory,this.loader,ut)},Ge.prototype.createAzureMapControl=function(ut){var je=ut.element,ae=ut.locale,fe=ut.sasTokenCallback,$e=ut.isScreenshotWorkload,ot=ut.progressiveLoading,_t=ut.defaultStyle,ke=ut.showLabels,dt=ut.renderWorldCopies;ut.azureMapsDataResidency&&atlas.setDomain(ut.azureMapsEndpoint.getDomainUrl$().getValue());var Tt={language:ae,style:_t,view:"Auto",disableTelemetry:!0,progressiveLoading:ot,showLabels:ke,renderWorldCopies:dt};return $e&&(Tt.preserveDrawingBuffer=!0),fe?Tt.authOptions={authType:atlas.AuthenticationType.sas,getToken:fe}:Tt.subscriptionKey=o.R.AzureKey,this.createAzureMapControlCore(je,Tt)},Ge.prototype.createAzureMapControlCore=function(ut,je){return new atlas.Map(ut,je)},Ge.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},Ge}(),D=function(ut,je){return new R(ut,je,"https://www.bing.com/api/maps/mapcontrol")};function F(Ge,ut){return Ge?A(Ge.latitude,Ge.longitude):ut}function A(Ge,ut){return Ge<-90||Ge>90||ut<-180||ut>180}function O(Ge){for(;Ge<-180;)Ge+=360;for(;Ge>180;)Ge-=360;return Ge}var N=-85.05112878,w=85.05112878,W=23,U=1,te=.5,ee="foregroundDark",J={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},re="mapLassoButton",G="mapLassoButtonHighContrast",ne=".".concat(re),X="MapLassoButton",Ve=".".concat("NavBar_Container"),Te="NavBar_Button",Qe="NavButton_Icon",He="Rectangle_Select",Ce="plot-area",de=".".concat(Ce),pe="NavBar_zoomIn",le="NavBar_zoomOut",me=".".concat(pe,", .").concat(le),be="".concat(ne,", .").concat(pe,", #").concat(le);function Se(Ge,ut,je){return Math.min(Math.max(Ge,ut),je)}function Pe(){return ue(11)}function ue(Ge){return 23===Ge?2147483648:Math.floor(Ge)===Ge?256<<Ge:256*Math.pow(2,Ge)}function ve(Ge,ut,je){var ae=ut/360,fe=Math.sin(Ge*Math.PI/180),ze=-Math.log((1+fe)/(1-fe))/(4*Math.PI);if(!je)return{x:ae,y:ze};je(ae,ze)}function ie(Ge,ut){switch(Ge){case J.Continent:case J.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case J.City:return{level:1,maxPolygons:5,strokeWidth:ut<200?6:0};default:return ut<100?{level:1,maxPolygons:5,strokeWidth:6}:ut<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function Fe(Ge,ut,je){var ze,ae=je&&je.xAdjust,fe=je&&je.unconstrained,we=new Float64Array(Ge.length),$e=function(dt,Tt){dt+=.5,Tt+=.5,dt*=ut,Tt*=ut,dt+=.5,Tt+=.5,ae&&(dt+=ae*ut),we[ze]=dt,we[ze+1]=Tt};for(ze=0;ze<Ge.length;ze+=2){var ot=Ge[ze],_t=Ge[ze+1];fe||(ot=Se(ot,N,w),_t=Se(_t,-180,180)),ve(ot,_t,$e)}return we}function at(Ge,ut,je,ae){var fe=Fe(new Float64Array([Ge,ut]),ue(je),ae);return{x:fe[0],y:fe[1]}}function Ee(Ge,ut,je){var ae=function(Ge,ut,je){return function(Ge,ut,je){var ae=Math.exp(4*-ut*Math.PI);return{latitude:180*Math.asin((ae-1)/(ae+1))/Math.PI,longitude:360*Ge}}((Ge-.5)/je-.5,(ut-.5)/je-.5)}(Ge,ut,ue(je));return new Microsoft.Maps.Location(ae.latitude,ae.longitude)}function K(Ge,ut){return at(Ge.latitude,Ge.longitude,ut)}function Ne(Ge,ut){var je=K(Ge.getNorthwest(),ut),ae=K(Ge.getSoutheast(),ut);return new s.U(je.x,je.y,ae.x-je.x,ae.y-je.y)}function rt(Ge){var ut=function(Ge){for(var ut={latitude:-90,longitude:180},je={latitude:90,longitude:-180},ae=0;ae<Ge.length;ae+=2)ut.latitude=Math.max(Ge[ae],ut.latitude),ut.longitude=Math.min(Ge[ae+1],ut.longitude),je.latitude=Math.min(Ge[ae],je.latitude),je.longitude=Math.max(Ge[ae+1],je.longitude);return ut.longitude=Se(ut.longitude,-180,180),je.longitude=Se(je.longitude,-180,180),{top:ut.latitude,bottom:je.latitude,left:ut.longitude,right:je.longitude}}(Ge);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(ut.top,ut.left),new Microsoft.Maps.Location(ut.bottom,ut.right))}function it(Ge){for(var ut=[],je=0,ae=0,fe=0,we=4294967296;je<Ge.length;){for(var ze=0,$e=0;;){if(je>=Ge.length)return null;var ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(Ge.charAt(je++));if(-1===ot)return null;var _t=(31&ot)*Math.pow(2,$e);if(ze=(_t/we|ze/we)*we+((_t%we|ze%we)>>>0),$e+=5,ot<32)break}var Zt=Math.floor((Math.sqrt(8*ze+5)-1)/2);ze-=Zt*(Zt+1)/2;var er=Math.floor(ze),ar=Zt-er,gr=1e-5*(ae+=ar=ar>>1^-(1&ar));ut.push(Se(1e-5*(fe+=er=er>>1^-(1&er)),-90,90)),ut.push(gr)}return new Float64Array(ut)}function Ue(Ge,ut){return ut&&(Ge?(ut.west<Ge.west&&(Ge.west=ut.west),ut.east>Ge.east&&(Ge.east=ut.east),ut.south<Ge.south&&(Ge.south=ut.south),ut.north>Ge.north&&(Ge.north=ut.north)):Ge=(0,e.__assign)({},ut)),Ge}function De(Ge){if(!_.isEmpty(Ge)){for(var ut=!1,je=0,ae=Ge;je<ae.length;je++){var fe=ae[je];fe.nativeBing&&!fe.geographic&&(fe.geographic=it(fe.nativeBing),fe.geographic&&(ut=!0))}if(ut){for(var we=[],ze=0,$e=Ge;ze<$e.length;ze++){var ot=$e[ze];if(_t=ot.geographic){var ke=rt(_t);ot.adjustedBounds={west:ke.getWest(),north:ke.getNorth(),east:ke.getEast(),south:ke.getSouth()},ot.absoluteBounds=Ne(ke,11),we.push({location:ot,bounds:ke,xAdjust:0})}}for(var dt,Tt=-1,Wt=0;Wt<we.length;++Wt){var Zt=(Kt=we[Wt]).bounds.width*Kt.bounds.height;(-1===Tt||Zt>dt)&&(Tt=Wt,dt=Zt)}for(var er=Pe(),ar=we[Tt].bounds.getWest(),sr=we[Tt].bounds.getEast(),gr=0,mr=we;gr<mr.length;gr++){var Sr=(ke=(Kt=mr[gr]).bounds).getWest(),Mr=ke.getEast();if(Mr<ar&&Sr+360-sr<ar-Mr&&(Kt.xAdjust=1),Sr>sr&&ar-(Mr-360)<Sr-sr&&(Kt.xAdjust=-1),Kt.xAdjust){var rr=360*Kt.xAdjust,Fr=Kt.location.adjustedBounds;Fr.west+=rr,Fr.east+=rr,Kt.location.absoluteBounds.left+=Kt.xAdjust*er}}for(var wr=0,Vr=we;wr<Vr.length;wr++){var Kt,_t,Ar=(Kt=Vr[wr]).location;(_t=Ar.geographic)&&(Ar.absolute||(Ar.absolute=Fe(_t,er,{xAdjust:Kt.xAdjust})))}}}}function Le(Ge){return function(Ge,ut,je,ae){var fe={draggable:!1,icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>'};return new Microsoft.Maps.Pushpin(Ge,fe)}(Ge)}function et(Ge,ut,je){var ae=Ge.tryLocationToPixel(Ge.getCenter(),Microsoft.Maps.PixelReference.page);!function(Ge,ut,je){var ae=new Microsoft.Maps.Point(ut,je),fe=Ge.tryPixelToLocation(ae,Microsoft.Maps.PixelReference.page);Ge.setView({center:fe})}(Ge,ae.x-ut,ae.y-je)}var he=function(){function Ge(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}return Ge.prototype.reCalc=function(ut,je,ae){var fe=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var we=K(this._locationRect.getNorthwest(),11),ze=K(this._locationRect.getSoutheast(),11);this._baseRect=new s.U(we.x,we.y,ze.x-we.x,ze.y-we.y)}var $e=ut.tryLocationToPixel(fe),ot=$e[0].x+je/2,_t=$e[0].y+ae/2,ke=ut.getZoom()-11,dt=Math.pow(2,ke);this._currentRect=new s.U(ot,_t,this._baseRect.width*dt,$e[1].y-$e[0].y)},Object.defineProperty(Ge.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(Ge.prototype,"transform",{get:function(){var je=this._baseRect,ae=this._currentRect,fe=new a.wx;return fe.translate(ae.left,ae.top),fe.scale(ae.width/je.width,ae.height/je.height),fe.translate(-je.left,-je.top),fe},enumerable:!1,configurable:!0}),Ge.prototype.transformToString=function(ut){var je=ut.matrix;return"matrix(".concat(je.m00," ").concat(je.m10," ").concat(je.m01," ").concat(je.m11," ").concat(je.m02," ").concat(je.m12,")")},Ge}();function ce(Ge){var ut=i.v.getThemeColor(Ge,g.pl),je=(0,m.bT)({style:Ge,labelColor:ut,textClassName:"smallLightLabel"}).fontProperties;return je=(0,u.ED)(je,{color:ut}),{show:!1,showCategory:!1,position:0,displayUnits:0,precision:g.NZ,fontProperties:je,enableBackground:!0,backgroundColor:i.v.getThemeColor(Ge,g.lp),backgroundTransparency:te,bold:!1,italic:!1,underline:!1}}function Re(Ge){return{dataPoints:[],hasSeries:!0,geocodingCategory:"",hasSize:!1,properties:{autoZoomEnabled:!0,showZoomButtons:!1,showLassoButton:!1,bubbleSizeMultiplier:1,markerRangeType:S.Ku,savedLatitude:void 0,savedLongitude:void 0,savedZoomLevel:void 0,defaultDataPointColor:void 0,fill:void 0,mapTheme:d.uH,showHeatMap:!1,minZoom:void 0,maxZoom:void 0,showLabels:!0},dataLabelSettings:ce(Ge),legendData:(0,V.Fe)(Ge),invalidLatLongCoordinatesFound:!1}}},549772:function(Je,H,t){t.d(H,{DW:function(){return C},F:function(){return E},RZ:function(){return i},UI:function(){return d},Wo:function(){return V},XU:function(){return P},Yh:function(){return m},aW:function(){return T},tp:function(){return u},xf:function(){return M}});var e=t(226514),c=t(177497),s=t(251912),f=t(787941),v=t(299747),b=t(932178),h=t(698129),p=t(939523),n=t(281835),l=t(808261),r=t(306310),o=t(298801);function i(R,D){return _.isEmpty(R)?u():{lineDashType:l.SQ,showMarkerByDefault:(0,h.NA)(R,p.zK.lineStyles.showMarkerByDefault,!0),showMarker:(0,h.NA)(R,p.zK.lineStyles.showMarker,!1),shape:(0,h.NA)(R,p.zK.lineStyles.markerShape,r.LS),size:(0,h.NA)(R,p.zK.lineStyles.markerSize,d),color:o.v.create(D).getColorForProperty(R,p.zK.lineStyles.markerColor,void 0)}}function m(R,D,L,F,A){var O=(0,v.ED)((0,e.__assign)((0,e.__assign)({},D),{showMarker:D.showMarker&&D.showMarkerByDefault}));if(O.key="seriesMarker"+L,!R.data.hasSeries()||A)return O.color=D.color?D.color:R.colors.createBySeries(L,void 0,s.fA),O;var N=R.objects.getSeriesDataObjects(L),w=(0,h.NA)(N,p.zK.lineStyles.showMarker);null!=w&&(O.showMarker=w);var I=(0,h.NA)(N,p.zK.lineStyles.markerShape);null!=I&&(O.shape=I);var B=(0,h.NA)(N,p.zK.lineStyles.markerSize);null!=B&&(O.size=+B);var W=o.v.create(F).getColorForProperty(N,p.zK.lineStyles.markerColor,void 0);return null!=W?O.color=W:D.color||(O.color=R.colors.createBySeries(L,void 0,s.fA)),O}function u(){return{lineDashType:l.SQ,showMarker:!1,showMarkerByDefault:!0,shape:r.LS,size:d,color:void 0}}var V=function(){function R(){this.uniqueIdentifier=_.uniqueId(),this.markerKeyModifier=""}return R.prototype.ensureMarkers=function(D,L){var F=this,A=this.modifyMarkersIfNeeded(L),O=D.selectAll("marker").data(A.filter(function(I){return I.showMarker}),function(I){return F.getMarkerId(I)}),N=O.enter().append("marker").merge(O);N.append("path").classed("markerPaths",!0),N.attrs({id:function(B){return F.getMarkerId(B)},markerUnits:"strokeWidth",orient:function(B){var j;return null!==(j=B.orient)&&void 0!==j?j:0},refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(B){return B.size},markerWidth:function(B){return B.size}}),O.exit().remove();var w=D.selectAll(".markerPaths").data(A.filter(function(I){return I.showMarker}),function(I){return F.getMarkerId(I)});w.attr("d",function(I){return I.lineRadius?function(R,D,L){var F=(L+1)/(D/5);switch(R){case r.YP:return null;case r.x:return"M ".concat(F,",1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-").concat(F,",1");case r.uh:return"M ".concat(F,",1 L 5,1 L 5,-1 L -").concat(F,",-1 L -").concat(F,",1");case r.kZ:return"M ".concat(F,",1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -").concat(F,",1");case r.PD:return"M ".concat(F,",1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-").concat(F,",1");default:return C(R)}}(I.shape,I.size,I.lineRadius):C(I.shape)}).style("stroke-width",function(I){return I.lineRadius?I.strokeSize/(I.size/5):E(I.shape)}).style("stroke-opacity",function(I){return null!=I.transparency?(0,c.TD)(I.transparency):1}).style("stroke",function(I){var B;return null!==(B=I.strokeColor)&&void 0!==B?B:I.color}).style("fill",function(I){return I.color}).style("opacity",function(I){return null!=I.transparency?(0,c.TD)(I.transparency):null}),w.exit().remove()},R.prototype.getMarkerId=function(D){return"".concat(D.key,"-").concat(this.uniqueIdentifier).concat(D.modifier||"")},R.prototype.getMarkerKey=function(D){if(!D.showMarker)return null;var L=b.M.isSafari()||b.M.isIOSWebView()?window.location.href:"",F=D.key;return"url('".concat(L,"#").concat(F,"-").concat(this.uniqueIdentifier).concat(this.markerKeyModifier,"')")},R.prototype.modifyMarkersIfNeeded=function(D){if(b.M.isInternetExplorerOrEdge()){var L=[];return this.cycleMarkerKeyModifier(),(L=this.modifyMarkerProperties(D,"a")).push.apply(L,this.modifyMarkerProperties(D,"b")||[]),L}return D},R.prototype.cycleMarkerKeyModifier=function(){this.markerKeyModifier="a"===this.markerKeyModifier?"b":"a"},R.prototype.modifyMarkerProperties=function(D,L){return _.map(D,function(F){var A=(0,v.ED)(F);return A.modifier=L,A})},R.sizeRatio=10/12,R}(),d=5;function C(R){return T(R,d)}function E(R){switch(R){case r.Xw:case r.h6:case r.tf:case r.cP:case r.YP:return 0;case r.x:case r.PD:case r.m9:case r.yf:return 1;case r.uh:case r.kZ:return 2;default:f.fF.assertNever(R)}}function M(R,D,L){var F=null==R?void 0:R.showMarker;switch(D){case n.f2:return F?R.shape:L;case n.G_:return F?R.shape:r.Xw;case n.XD:return F?R.shape:r.YP;case n.tl:return r.YP;default:return r.Xw}}function P(R,D,L,F){return R&&(L!==n.f2&&L!==n.G_||!F&&R.showMarker)&&R.color||D}function T(R,D){switch(R){case r.Xw:return"M 0 0 m ".concat(-D," 0 a ").concat(D," ").concat(D," 0 1 0 ").concat(2*D," 0 a ").concat(D," ").concat(D," 0 1 0 ").concat(-2*D," 0");case r.h6:return"M 0 0 m ".concat(-D," ").concat(-D," l ").concat(2*D," 0 l 0 ").concat(2*D," l ").concat(-2*D," 0 z");case r.tf:return"M 0 0 m ".concat(-D," 0 l ").concat(D," ").concat(-D," l ").concat(D," ").concat(D," l ").concat(-D," ").concat(D," z");case r.cP:return"M 0 0 m ".concat(-D," ").concat(D," l ").concat(D," ").concat(-2*D," l ").concat(D," ").concat(2*D," z");case r.x:return"M 0 0 m ".concat(-D," ").concat(-D," l ").concat(2*D," ").concat(2*D," m ").concat(2*-D," 0 l ").concat(2*D," ").concat(2*-D);case r.uh:return"M 0 0 l ".concat(D," 0");case r.kZ:return"M 0 0 m ".concat(-D," 0 l ").concat(2*D," 0");case r.PD:return"M 0 0 m ".concat(-D," 0 l ").concat(2*D," 0 m ").concat(-D," ").concat(-D," l 0 ").concat(2*D);case r.m9:return"M 0 0 m 0 ".concat(-D," l 0 ").concat(2*D," m ").concat(-D," 0 l ").concat(2*D," 0");case r.yf:return"M 0 0 m 0 ".concat(D," l 0 ").concat(2*-D," m ").concat(-D," 0 l ").concat(2*D," 0");case r.YP:return null;default:f.fF.assertNever(R)}}},877108:function(Je,H,t){t.d(H,{Co:function(){return f},IH:function(){return b},Jf:function(){return r},Mw:function(){return d},ZV:function(){return o},cu:function(){return p},dF:function(){return u},nD:function(){return l},s4:function(){return V},w3:function(){return n},xs:function(){return h}});var e=t(226514),c=t(787941),s=t(49803),f=function(g,y,C,E){return void 0===C&&(C=null),(0,e.__assign)({type:1},a(g,y,C,E))},b=function(g,y,C,E){void 0===C&&(C=null);var M=y.precisionReference,P=y.displayUnitsReference,T=(0,e.__rest)(y,["precisionReference","displayUnitsReference"]);return(0,e.__assign)((0,e.__assign)({type:2},a(g,T,C,E)),{precision:(0,e.__assign)((0,e.__assign)({},null==E?void 0:E.precision),{reference:m(M,C),label:g.getLocalizedString("Visual_Precision")}),displayUnits:{reference:m(P,C),label:g.getLocalizedString("Visual_DisplayUnits")}})},h=function(g,y,C){var E=y.precisionReference,M=y.displayUnitsReference,P=(0,e.__rest)(y,["precisionReference","displayUnitsReference"]);return(0,e.__assign)((0,e.__assign)({type:2},i(g,P,C)),{precision:(0,e.__assign)((0,e.__assign)({},null==C?void 0:C.precision),{reference:E,label:g.getLocalizedString("Visual_Precision")}),displayUnits:{reference:M,label:g.getLocalizedString("Visual_DisplayUnits")}})},p=function(g,y,C,E,M,P,T){void 0===M&&(M=!1),void 0===P&&(P=!1),void 0===T&&(T=null);var x={type:3};return M&&(x.stroke={reference:(0,e.__assign)({cardUid:g,groupUid:y,sliceUid:C},T?{selector:T}:{}),label:E.getLocalizedString("Visual_Shape_Line")}),P&&(x.fill={reference:(0,e.__assign)({cardUid:g,groupUid:y,sliceUid:C},T?{selector:T}:{}),label:E.getLocalizedString("Visual_Fill")}),x},n=function(g,y,C){void 0===y&&(y=null),void 0===C&&(C=null);var E={type:3};return y&&(E.stroke={reference:y,label:g.getLocalizedString("Visual_Shape_Line")}),C&&(E.fill={reference:C,label:g.getLocalizedString("Visual_Fill")}),E},l=function(g){var y=g.hostServices,C=g.omitSelectorForSingleSeries,E=g.individualSelector,M=g.selector,P=g.repetitionSelector,T=g.inContainer,x=g.subSelectionStylesOptions,R="".concat("Visual","-").concat("labels"),D=T?"".concat("labels-applySettingsTo-series","-"):"labels",L="".concat(D,"-").concat("values"),F=C?void 0:L,A="".concat(D,"-").concat("background"),O=C?void 0:A,N={cardUid:R,groupUid:F,sliceUid:"".concat(L,"-font")},w={cardUid:R,groupUid:F,sliceUid:"".concat(L,"-color"),selector:(0,s.hm)(E,C?void 0:M,P)},I={cardUid:R,groupUid:F,sliceUid:"".concat(L,"-precision")},B={cardUid:R,groupUid:F,sliceUid:"".concat(L,"-displayUnits")},j={cardUid:R,groupUid:O,sliceUid:"".concat(A,"-backgroundColor")};return b(y,{fontReference:N,fontColorReference:w,precisionReference:I,displayUnitsReference:B,backgroundReference:j},C?void 0:M,x)},r=function(g,y){var C=g.hostServices,x=g.subSelectionStylesOptions;return y.fontColorReference&&(y.fontColorReference.selector=(0,s.hm)(g.individualSelector,g.omitSelectorForSingleSeries?void 0:g.selector,g.repetitionSelector)),h(C,y,x)},o=function(g,y,C,E){var M="".concat("Visual","-").concat("totals"),P="".concat("totals","-").concat("values"),T="".concat("totals","-").concat("background"),x={cardUid:M,groupUid:P,sliceUid:"".concat(P,"-font")},R={cardUid:M,groupUid:P,sliceUid:"".concat(P,"-color"),selector:(0,s.hm)(y,void 0,C)},D={cardUid:M,groupUid:T,sliceUid:"".concat(T,"-backgroundColor")},L={cardUid:M,groupUid:P,sliceUid:"".concat(P,"-precision")},F={cardUid:M,groupUid:P,sliceUid:"".concat(P,"-displayUnits")};return b(g,{fontReference:x,fontColorReference:R,backgroundReference:D,precisionReference:L,displayUnitsReference:F},void 0,E)},a=function(g,y,C,E){void 0===C&&(C=null);var P=y.fontColorReference,T=y.backgroundReference,x=y.wordWrapReference,R=y.horizontalAlignmentReference,D={font:{reference:m(y.fontReference,C),label:g.getLocalizedString("Font")},fontColor:{reference:m(P,C),label:g.getLocalizedString("Visual_FontColor")}};return T&&(D.background={reference:m(T,C),label:g.getLocalizedString("Background_Color")}),x&&(D.wordWrap={reference:m(x,C),label:g.getLocalizedString("Visual_Word_Wrap")}),R&&(D.horizontalAlignment={reference:m(R,C),label:g.getLocalizedString("Visual_Alignment_Horizontal")}),E&&(E.grid&&(D.grid=E.grid),E.border&&(D.border=E.border)),D},i=function(g,y,C){var E=y.fontFamilyReference,M=y.fontSizeReference,P=y.boldReference,T=y.italicReference,x=y.underlineReference,D=y.backgroundReference,L=y.wordWrapReference,F=y.horizontalAlignmentReference,A={fontColor:{reference:y.fontColorReference,label:g.getLocalizedString("Visual_FontColor")},fontFamily:{reference:E,label:g.getLocalizedString("Visual_FontFamily")},fontSize:{reference:M,label:g.getLocalizedString("FontSize")},bold:{reference:P,label:g.getLocalizedString("Bold")},italic:{reference:T,label:g.getLocalizedString("Italic")},underline:{reference:x,label:g.getLocalizedString("Underline")}};return D&&(A.background={reference:D,label:g.getLocalizedString("Background_Color")}),L&&(A.wordWrap={reference:L,label:g.getLocalizedString("Visual_Word_Wrap")}),F&&(A.horizontalAlignment={reference:F,label:g.getLocalizedString("Visual_Alignment_Horizontal")}),C&&(C.grid&&(A.grid=C.grid),C.border&&(A.border=C.border)),A},m=function(g,y){var C=(0,e.__assign)({},g);return!C.selector&&y&&(C.selector=y),C},u=function(g){var C=_.first(g).visualObjects;c.fF.assert(function(){return 1===C.length},"Expected 1 visual");var E=C[0];return c.fF.assert(function(){return 1===g.length||g.every(function(M){return _.isEqual(M.visualObjects,[E])},"Expected 1 sub-selection or matching objects")}),E},V=function(g,y){if(g)return{reference:{cardUid:void 0,sliceUid:g},style:2,displayValue:y}},d=function(g,y){if(g)return{reference:{cardUid:void 0,sliceUid:g},style:1,displayValue:y||""}}},31499:function(Je,H,t){t.d(H,{lk:function(){return r},oW:function(){return l},tv:function(){return p},g6:function(){return n}});var e=t(608014),c=t(932178),s=t(959138);function f(a,i,m){var u;if(void 0===m&&(m=1),i){for(var V=d3.event,d=void 0;d=V.sourceEvent;)V=d;var S=a.getBoundingClientRect();u=[(V.clientX-S.left-a.clientLeft)/m,(V.clientY-S.top-a.clientTop)/m]}else{var g=d3.touches(a);g&&g.length>0&&(u=g[0])}return u}var p=3500;function n(a,i){return void 0===i&&(i=!0),i?{left:a.dataSpace.left.value,top:a.dataSpace.top.value,right:a.dataSpace.right.value,bottom:a.dataSpace.bottom.value}:{left:a.pixelValue.left,top:a.pixelValue.top,right:a.pixelValue.right,bottom:a.pixelValue.bottom}}var l=function(){function a(i){var m=this;this.requireKeyModifier=i,this.uiScale=1,this.isSpaceKeyPressed=!1,this.initiateKeyboardDrag=!1,this.lassoMousemoveCallback=function(){m.drag(d3.event)},this.lassoMouseupCallback=function(){m.wasDragged&&d3.event.stopPropagation(),m.endDrag(d3.event),m.body.on("mousemove.lasso",null),m.body.on("mouseup.lasso",null)},this.lassoClickCallback=function(){m.wasDragged&&d3.event.stopPropagation(),m.body.on("click.lasso",null)},this.lassoKeyUpCallback=function(){m.crosshairSVG&&"Space"===d3.event.code&&(d3.event.stopPropagation(),m.isSpaceKeyPressed=!1,m.endKeyboardDrag())},this.lassoBodyKeyUpCallback=function(){"Space"===d3.event.code&&(m.body.on("keydown.keyboardLasso",null),m.body.on("keyup.keyboardLasso",null))},this.lassoKeyBlurCallback=function(){m.crosshairSVG&&m.removeLasso(),d3.select(d3.event.currentTarget).on("blur.keyboardLasso",null)},this.announceLassoKeyboardEnd=function(u){m.hostServices.alertScreenReader(m.hostServices.getLocalizedString("LassoRectangleWidth",[Math.round(u.right-u.left)])),m.hostServices.alertScreenReader(m.hostServices.getLocalizedString("LassoRectangleHeight",[Math.round(u.bottom-u.top)]))}}return a.prototype.init=function(i,m,u,V){this.body=d3.select("body"),this.surfaces=i,this.svg=m,this.hostServices=u,this.featureSwitches=V,this.initDragEvents(),this.behaviors=[],this.forceLasso=!1},a.prototype.setUiScale=function(i){this.uiScale=i},a.prototype.setForceLasso=function(i){this.forceLasso=i;for(var m=0,u=this.surfaces;m<u.length;m++)u[m].classed("pendingLasso",i)},a.prototype.initDragEvents=function(){for(var i=this,m=function(y){y.on("mousedown.lasso",function(){i.startDrag(d3.event)&&(i.body.on("mousemove.lasso",i.lassoMousemoveCallback,!0),i.body.on("mouseup.lasso",i.lassoMouseupCallback,!0),i.body.on("click.lasso",i.lassoClickCallback,!0))},!0),u.featureSwitches.keyboardShortcutsLassoSelect&&(y.on("keydown.keyboardLasso",function(){"KeyS"===d3.event.code||"Space"===d3.event.code||(0,s.FJ)(d3.event.code)||d3.event.shiftKey||d3.event.ctrlKey?("Space"===d3.event.code&&(d3.event.preventDefault(),i.isSpaceKeyPressed=!0,i.crosshairSVG&&d3.event.stopPropagation()),!c.M.isCtrlOrMeta(d3.event)&&!d3.event.altKey&&!d3.event.shiftKey&&"KeyS"===d3.event.code&&(d3.event.stopPropagation(),i.startKeyboardDrag(),i.crosshairSVG&&(i.body.on("keydown.keyboardLasso",function(){"Space"===d3.event.code&&(i.isSpaceKeyPressed=!0,d3.event.stopPropagation()),i.body.on("keyup.keyboardLasso",i.lassoBodyKeyUpCallback,!0)},!0),y.on("blur.keyboardLasso",i.lassoKeyBlurCallback,!0))),i.crosshairSVG&&(0,s.FJ)(d3.event.code)&&(d3.event.preventDefault(),d3.event.stopPropagation(),i.keyboardDrag())):i.removeLasso()},!0),y.on("keyup.keyboardLasso",u.lassoKeyUpCallback,!0))},u=this,V=0,d=this.surfaces;V<d.length;V++)m(d[V])},a.prototype.removeLasso=function(){this.dragRect&&(this.dragRect=void 0),this.dragRectSelection&&(this.dragRectSelection.remove(),this.dragRectSelection=void 0),this.crosshairSVG&&(this.crosshairSVG.remove(),this.crosshairSVG=void 0),this.lassoPointerPosition=void 0,this.initiateKeyboardDrag=!1},a.prototype.startKeyboardDrag=function(){var i,m=this.lassoPointerPosition=function(a,i,m){void 0===m&&(m=1);var u=a.getBoundingClientRect(),V=i.getBoundingClientRect();return 0===u.width&&0===u.height?[V.width/2/m,V.height/2/m]:[(u.left-V.left+u.width/2)/m,(u.top-V.top+u.height/2)/m]}(d3.event.target,this.svg.node(),this.uiScale);null!==(i=this.crosshairSVG)&&void 0!==i||(this.crosshairSVG=this.svg.append("path").attr("id","lasso-pointer").attr("fill","#000").attr("stroke","#fff").attr("stroke-linecap","square").attr("d","M11.03 1V.5H8.97v8.458h2.06V1Zm.558 8.005h-.5V11.05H19.5V9.005h-7.912Zm-2.676.5v-.5H.5V11.05H8.912V9.505Zm2.117 2.037v-.5H8.971V19.5h2.058v-7.958Z").attr("transform","translate(".concat(m[0]-10,",").concat(m[1]-10,")")))},a.prototype.keyboardDrag=function(){var i=this.lassoPointerPosition;if(this.crosshairSVG&&this.lassoPointerPosition)switch(d3.event.code){case"ArrowRight":this.lassoPointerPosition=[Math.min(this.svg.node().clientWidth,i[0]+5),i[1]];break;case"ArrowLeft":this.lassoPointerPosition=[Math.max(0,i[0]-5),i[1]];break;case"ArrowUp":this.lassoPointerPosition=[i[0],Math.max(0,i[1]-5)];break;case"ArrowDown":this.lassoPointerPosition=[i[0],Math.min(this.svg.node().clientHeight,i[1]+5)]}this.lassoPointerPosition&&(this.wasDragged=this.isBeingDragged({x:this.lassoPointerPosition[0],y:this.lassoPointerPosition[1]})),this.crosshairSVG&&this.lassoPointerPosition&&this.crosshairSVG.attr("transform","translate(".concat(this.lassoPointerPosition[0]-10,",").concat(this.lassoPointerPosition[1]-10,")")),this.isSpaceKeyPressed&&(this.dragRectSelection||(this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0)),this.initiateKeyboardDrag||(this.dragStart={x:i[0],y:i[1]},this.initiateKeyboardDrag=!0),this.updateDragRect(this.lassoPointerPosition))},a.prototype.endKeyboardDrag=function(){if(this.wasDragged&&this.dragRect){var i=this.createMouseEvent(d3.event),m={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.onRectEnd(i,m),this.removeLasso(),this.announceLassoKeyboardEnd(m)}},a.prototype.createMouseEvent=function(i){return new MouseEvent("mousemove.keyboardLasso",{ctrlKey:i.ctrlKey,metaKey:i.metaKey,shiftKey:i.shiftKey,altKey:i.altKey})},a.prototype.startDrag=function(i){if(this.wasDragged=!1,this.removeLasso(),!this.forceLasso&&(!this.onRectStart(i)||!c.M.isCtrlOrMeta(i)&&!i.shiftKey&&(0!==this.hostServices.getViewMode()||this.requireKeyModifier)))return!1;this.requireKeyModifier&&d3.event.stopPropagation();var m=f(this.svg.node(),!0,this.uiScale);return this.dragStart={x:m[0],y:m[1]},this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0),this.updateDragRect(m),!0},a.prototype.endDrag=function(i){var m=f(this.svg.node(),!0,this.uiScale);this.updateDragRect(m);var u={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.wasDragged&&(this.onRectEnd(i,u),this.announceLassoKeyboardEnd(u),i.stopPropagation()),this.removeLasso(),this.setForceLasso(!1),this.dragRect&&(this.dragRect=null)},a.prototype.drag=function(i){i.stopPropagation();var m=f(this.svg.node(),!0,this.uiScale);this.wasDragged||(this.wasDragged=this.isBeingDragged({x:m[0],y:m[1]})),this.updateDragRect(m)},a.prototype.updateDragRect=function(i){var m=this.dragRect=this.getDragRect(i,this.dragStart);this.renderDragRect(m)},a.prototype.renderDragRect=function(i){this.dragRectSelection&&this.dragRectSelection.attrs({x:i.left,y:i.top,width:i.width,height:i.height})},a.prototype.onRectEnd=function(i,m){for(var u=0,V=this.behaviors;u<V.length;u++){var d=V[u];d.onRectEnd&&d.onRectEnd({event:i,rect:m})}},a.prototype.onRectStart=function(i){for(var m=!0,u=0,V=this.behaviors;u<V.length;u++){var d=V[u];d.onDragStart&&(m=m&&d.onDragStart(i))}return m},a.prototype.getDragRect=function(i,m){var u=i[0]-m.x,V=i[1]-m.y;return{left:Math.min(m.x,i[0]),top:Math.min(m.y,i[1]),width:this.crosshairSVG&&0===u?1:Math.abs(u),height:this.crosshairSVG&&0===V?1:Math.abs(V)}},a.prototype.isBeingDragged=function(i){return this.dragStart&&(Math.abs(i.x-this.dragStart.x)>=3||Math.abs(i.y-this.dragStart.y)>=3)},a}(),r=function(){function a(i){this.behavior=i}return a.prototype.onRectEnd=function(i){var u=i.rect;u.bottom===u.top||u.left===u.right||this.selectRegion(i.event,u)},a.prototype.onRectHover=function(i){this.behavior.hoverLassoRegion&&this.behavior.hoverLassoRegion(i.event,i.rect)},a.prototype.onDragStart=function(i){return i.button===e.tc.Main},a.prototype.selectRegion=function(i,m){this.behavior.lassoSelectRect&&this.behavior.lassoSelectRect(i,m)},a}()},453543:function(Je,H,t){t.d(H,{Bj:function(){return b},Ko:function(){return v},Pg:function(){return c},YD:function(){return p},aY:function(){return s},eR:function(){return r},eU:function(){return f},rA:function(){return n},rk:function(){return l},vD:function(){return h}});var e=t(803018),c="setFocusRing",s="currentFocusDataPoint",f=.4,v=1,b=2,h=2,p=6,n=h+2*p,l=e.Wn.regular.css;function r(o,a,i,m,u){return void 0===u&&(u=v),i&&m&&a?o?u:0:m&&!a||i&&!o?f*u:u}},625506:function(Je,H,t){t.d(H,{Qh:function(){return a},y3:function(){return m},cy:function(){return u},O5:function(){return A},Zx:function(){return y},kv:function(){return E},CK:function(){return d},Ez:function(){return g},oy:function(){return x},QZ:function(){return C},CP:function(){return P}});var c,e=t(226514),s=Object.freeze(((c={}).background=10,c.title=20,c["legend-title"]=30,c["legend-items"]=40,c["y1-axis-title"]=50,c["y1-axis-values"]=60,c["y1-axis-zoom-slider"]=70,c["y2-axis-title"]=80,c["y2-axis-values"]=90,c["y2-axis-zoom-slider"]=100,c["x-axis-values"]=110,c["x-axis-title"]=120,c["x-axis-zoom-slider"]=130,c["horizontal-gridlines"]=140,c["vertical-gridlines"]=150,c.lines=1e3,c.markers=1010,c.columns=1020,c.bars=1030,c["data-labels"]=1040,c["total-labels"]=1050,c["series-labels"]=1060,c["category-labels"]=1070,c)),b=t(989516),h=t(26526),p=t(629925),n=t(787941),r=(0,p.CH)("sub-selectable"),o="sub-selection-data",a=(0,p.CH)("direct-edit-placeholder"),i=(0,p.CH)("direct-edit-placeholder-outline"),m="format-mode",u=r.class,V=r.selector,d="data-sub-selection-display-name",S="data-sub-selection-hide-outline",g="data-sub-selection-object-name",y="data-sub-selection-alt-object-name",C="data-sub-selection-type",E="data-sub-selection-direct-edit",M="data-sub-selection-sub-selected",P="data-sub-selection-ui-anchor",x="data-sub-selection-restricting-element",R="data-helper-host";function L(O){return"".concat(O,".").concat("htmlSubSelection")}function F(O,N){return N.closest("[".concat(R,"]"))===O}var A=function(){function O(N){this.hostElement=N.hostElement,this.host=d3.select(N.hostElement),this.hostServices=N.hostServices,this.subSelectionRegionOutlines={},this.renderer=N.renderer,this.scale=N.scale,this.selectorCallback=N.selectorCallback,this.customOutlineCallback=N.customOutlineCallback,this.customElementCallback=N.customElementCallback,this.subSelectionMetadataCallback=N.subSelectionMetadataCallback,this.host.attr(R,!0)}return O.createHtmlSubselectionHelper=function(N){return new O(N)},O.prototype.setCustomOutlineCallback=function(N){this.customOutlineCallback=N},O.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines()},O.prototype.setFormatMode=function(N){this.formatMode!==N&&(this.formatMode=N,N?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))},O.prototype.attachEventHandlers=function(){var N=this;this.host.on(L("pointerover"),function(){N.onPointerOver(d3.event)}),this.host.on(L("click"),function(){N.onClick(d3.event)}),this.host.on(L("contextmenu"),function(){N.onContextMenu(d3.event)})},O.prototype.onVisualScroll=function(){var N=this;this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(function(){return N.onVisualScrollEnd()},100)),this.scrollDebounce()},O.prototype.onVisualScrollStart=function(){this.scrollSubSelections||(this.subSelect(void 0),this.scrollSubSelections=this.subSelections)},O.prototype.onVisualScrollEnd=function(){this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0},O.prototype.onPointerOver=function(N){var w=this;if(!(0,h.q)(N)){this.clearHoveredOutline();var I=this.getSubSelectionSourceFromEvent(N);if(I&&I.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([I.visualSubSelection],1).length){var j=this.getSubSelectionElementsFromSubSelectionSource(I);j=j.filter(function(k){var Q=d3.select(k);return!Q.attr(M)&&"true"!==Q.attr(S)}),this.updateOutlinesFromSubSelectionElements(j,1)}this.renderOutlines();var W=L("pointerleave"),U=d3.select(I.subSelectionElement);U.on(W,function(){U.attr(M)||(w.clearHoveredOutline(),U.on(W,null))}),(0,h.n)(N)}}},O.prototype.clearHoveredOutline=function(){var w=_.values(this.subSelectionRegionOutlines).find(function(I){return 1===I.visibility});w&&(this.subSelectionRegionOutlines[w.id]=(0,e.__assign)((0,e.__assign)({},this.subSelectionRegionOutlines[w.id]),{visibility:0}),this.renderOutlines())},O.prototype.onClick=function(N){this.subSelectFromEvent(N,!1)},O.prototype.onContextMenu=function(N){this.subSelectFromEvent(N,!0)},O.prototype.subSelectFromEvent=function(N,w){if(!(0,h.q)(N)){var I=this.getSubSelectionElementsFromEvent(N);(0,h.n)(N);var B={x:N.clientX,y:N.clientY};if(_.isEmpty(I))return void this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:B});var j=I[0],W=d3.select(j).attr(g),U=this.getSubSelectionTypeFromElement(j),k=N.target,Q=this.getDisplayNameFromElement(j),te=this.selectorCallback?this.selectorCallback(j):{},ee=this.createVisualSubSelectionForSingleObject({objectName:W,subSelectionType:U,displayName:Q,showUI:w,selectorsByColumn:te,selectionOrigin:B,target:k});this.scrollSubSelections=void 0,this.subSelect(ee)}},O.prototype.getSubSelectionElementsFromEvent=function(N){var w=this.getSubSelectionSourceFromEvent(N);return this.getSubSelectionElementsFromSubSelectionSource(w)},O.prototype.getSubSelectionSourceFromEvent=function(N){var w=N.composedPath();if(w){for(var j,I=w.indexOf(this.hostElement),W=0,U=w.slice(0,I+1);W<U.length;W++){var k=U[W];if(d3.select(k).classed(u)){j=k;break}}if(j&&F(this.hostElement,j)){var te=this.selectorCallback?this.selectorCallback(j):{},ee=d3.select(j).attr(g),J=this.getDisplayNameFromElement(j),re=this.getSubSelectionTypeFromElement(j),G={x:N.clientX,y:N.clientY},ne=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(j):null;return{subSelectionElement:j,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:ee,subSelectionType:re,displayName:J,showUI:!1,selectorsByColumn:te,selectionOrigin:G,metadata:ne})}}}},O.prototype.getSubSelectionElementsFromSubSelectionSource=function(N){var w=this;if(!N)return[];var I=N.visualSubSelection;if(this.customElementCallback){var B=this.customElementCallback(I);if(!_.isEmpty(B))return B}var j=this.getSubSelectableElements(),W=I.visualObjects[0],U=W.objectName,k=W.selectorsByColumn,Q=j.filter(function(ee){return ee.getAttribute(g)===U});return this.selectorCallback&&(Q=Q.filter(function(ee){return(0,b.Ic)(w.selectorCallback(ee),k)})),Q},O.prototype.removeEventHandlers=function(){this.host.on(L("pointerover"),null),this.host.on(L("click"),null),this.host.on(L("contextmenu"),null)},O.prototype.subSelect=function(N){var w=(0,e.__assign)({type:1},N);this.hostServices.onSelecting(w),1!==w.action&&this.hostServices.onSelect(w)},O.prototype.isVisualObjectSubSelected=function(N){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(function(w){return w.visualObjects.find(function(I){return N.objectName===I.objectName&&(0,b.Ic)(N.selectorsByColumn,I.selectorsByColumn)})})},O.prototype.updateElementOutline=function(N,w,I){return void 0===I&&(I=!1),this.updateElementOutlines([N],w,I)[0]},O.prototype.updateElementOutlines=function(N,w,I){var B=this;void 0===I&&(I=!1);for(var j=_.groupBy(N,function(ee){var J=d3.select(ee);return B.getElementRegionOutlineId(J)}),W=Object.keys(j),U=0,k=W;U<k.length;U++){var Q=k[U],te=this.getSubSelectionRegionOutline(Q,j[Q],w);this.subSelectionRegionOutlines[Q]=te}return I||this.renderOutlines(),W},O.prototype.getSubSelectionRegionOutline=function(N,w,I){for(var j,W,B=[],U=function(G){var ne=k.getRectangleSubSelectionOutline(G),X=k.getRestrictionElement(G,0);if(n.fF.assert(function(){return!W||X&&X===W},"All elements for an outline require the same clamp restriction element."),W=X){var oe=k.applyElementRestriction(W,G),Ve=Math.max(ne.x,oe.left),Te=Math.max(ne.y,oe.top),Qe=Math.min(ne.x+ne.width,oe.left+oe.width),He=Math.min(ne.y+ne.height,oe.top+oe.height);ne=(0,e.__assign)((0,e.__assign)({},ne),{x:Ve,y:Te,height:He-Te,width:Qe-Ve})}var Ce=k.getRestrictionElement(G,1);if(n.fF.assert(function(){return!j||Ce&&Ce===j},"All elements for an outline require the same clip restriction element."),j=Ce){var de=k.applyElementRestriction(j,G);ne=(0,e.__assign)((0,e.__assign)({},ne),{clipPath:{type:1,x:de.left,y:de.top,height:de.height,width:de.width}})}ne.height>0&&ne.width>0&&B.push(ne)},k=this,Q=0,te=w;Q<te.length;Q++)U(te[Q]);return{id:N,visibility:I,outline:{type:0,outlines:B}}},O.prototype.getRestrictionElement=function(N,w){var I=N.closest("[".concat(x,'="').concat(w,'"]'));if(I&&F(this.hostElement,I))return I},O.prototype.applyElementRestriction=function(N,w){var I=N.getBoundingClientRect(),B={top:I.top,left:I.left,height:I.height,width:I.width},j=O.getDataForElement(w);if(j&&j.outlineRestrictionOptions){var W=j.outlineRestrictionOptions,U=W.margin,k=W.padding,Q=0,te=0,ee=0,J=0;if(U){var re=U.top;Q+=G=U.left,te+=re,ee-=U.bottom+re,J-=G+U.right}if(k){var G,oe=k.top;Q-=G=k.left,te-=oe,ee+=k.bottom+oe,J+=G+k.right}B.left+=Q,B.top+=te,B.height+=ee,B.width+=J}return B},O.prototype.getRectangleSubSelectionOutline=function(N){var w=N.getBoundingClientRect(),U={height:w.height,width:w.width,x:w.x,y:w.y,type:1};return N.hasAttribute(E)&&(U.directEdit=function(){if(N.hasAttribute(E))return JSON.parse(N.getAttribute(E))}),U},O.prototype.updateRegionOutline=function(N,w){void 0===w&&(w=!1),this.updateRegionOutlines([N],w)},O.prototype.updateRegionOutlines=function(N,w){void 0===w&&(w=!1);for(var I=0,B=N;I<B.length;I++){var j=B[I];this.subSelectionRegionOutlines[j.id]=j}w||this.renderOutlines()},O.prototype.getElementsFromSubSelections=function(N){if(!N)return[];var w=[],I=this.getSubSelectableElements(),B=this.isElementSubSelected,j=this.selectorCallback;return d3.selectAll(I).each(function(){B(this,N,j)&&w.push(this)}),w},O.prototype.setSubSelectedStateDOM=function(N){if(N){var w=this.getSubSelectableElements(),I=this.isElementSubSelected,B=this.selectorCallback;d3.selectAll(w).attr(M,function(){return!!I(this,N,B)||null})}},O.prototype.isElementSubSelected=function(N,w,I){if(!w)return!1;var B=d3.select(N).attr(g),j=d3.select(N).attr(y);return w.some(function(U){var k;return null===(k=U.visualObjects)||void 0===k?void 0:k.some(function(Q){var te=!0;return I&&((0,b.Ic)(Q.selectorsByColumn,I(N))||(te=!1)),(Q.objectName===B||Q.objectName===j)&&te})})},O.prototype.updateCustomOutlinesFromSubSelections=function(N,w){var I;void 0===w&&(w=2);var B=[];if(this.customOutlineCallback&&!_.isEmpty(N))for(var j=0,W=N;j<W.length;j++){var U=W[j],k=this.customOutlineCallback(U);if(k&&k.length>0){for(var Q=0,te=k;Q<te.length;Q++){var ee=te[Q],J=null===(I=this.subSelectionRegionOutlines[ee.id])||void 0===I?void 0:I.visibility;(1!==w||2!==J)&&this.setOutline(ee,w)}B.push(U)}}return B},O.prototype.updateOutlinesFromSubSelectionElements=function(N,w){void 0===w&&(w=2);var I=[];if(!_.isEmpty(N)){for(var B=0,j=N;B<j.length;B++){var W=j[B],U=O.getDataForElement(W);if(U&&U.getRegionOutlines)for(var Q=0,te=U.getRegionOutlines();Q<te.length;Q++)this.setOutline(te[Q],w);else I.push(W)}this.updateElementOutlines(I,w,!0)}},O.prototype.updateOutlinesFromSubSelections=function(N,w,I){w&&this.hideAllOutlines(!0),this.subSelections=N;var B=N?(0,e.__spreadArray)([],N,!0):[];this.setSubSelectedStateDOM(N);var j=this.updateCustomOutlinesFromSubSelections(N);(null==j?void 0:j.length)>0&&_.remove(B,function(k){return j.find(function(Q){return _.isEqual(k,Q)})});var U=this.getElementsFromSubSelections(B).filter(function(k){return"true"!==d3.select(k).attr(S)});this.updateOutlinesFromSubSelectionElements(U),I||this.renderOutlines()},O.prototype.refreshOutlines=function(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)},O.prototype.getLabelsFromSubSelections=function(N,w,I){void 0===I&&(I=" ");for(var j=[],W=0,U=this.getElementsFromSubSelections(N);W<U.length;W++){for(var k=U[W],Q="",te=0,ee=w;te<ee.length;te++){var re=k.attributes.getNamedItem(ee[te]);re&&re.value&&(Q+=re.value+I)}_.isEmpty(Q)||j.push(Q.trim())}return j},O.prototype.setOutline=function(N,w){var I=(0,e.__assign)((0,e.__assign)({},N),{visibility:w,id:N.id});this.subSelectionRegionOutlines[N.id]=I},O.setDataForElement=function(N,w){$(N).data(o,w)},O.getDataForElement=function(N){return $(N).data(o)},O.prototype.hideAllOutlines=function(N){void 0===N&&(N=!1);var w=this.subSelectionRegionOutlines,I=[];for(var B in w)I.push((0,e.__assign)((0,e.__assign)({},w[B]),{visibility:0}));this.updateRegionOutlines(I,N)},O.prototype.getRegionOutline=function(N){return this.getRegionOutlines([N])[0]},O.prototype.getRegionOutlines=function(N){var w=this;return N.map(function(I){return w.subSelectionRegionOutlines[I]})},O.prototype.getAllOutlines=function(){return(0,e.__assign)({},this.subSelectionRegionOutlines)},O.prototype.renderOutlines=function(){var N=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(N)},O.prototype.addDirectEditPlaceholderOutlines=function(){var N=this,w=this.scale(),I=this.hostElement.getBoundingClientRect(),j=_.filter(_.map(this.hostElement.querySelectorAll(a.selector),function(U){return{element:U,bounds:(k=U,Q=k.getBoundingClientRect(),{left:(Q.x-I.x)/w-1,top:(Q.y-I.y)/w-1,width:Q.width/w,height:Q.height/w}),outlineId:N.getElementRegionOutlineId(d3.select(U)),objectName:U.getAttribute(g),displayNameKey:U.getAttribute(d)};var k,Q}),function(U){return!!U.outlineId&&!!U.objectName}),W=d3.select(this.hostElement).selectAll("div.".concat(i.class)).data(j,function(U){return U.objectName});W.enter().append("div").classed(i.class,!0).attr("data-testid",function(U){return"direct-edit-placeholder-outline-".concat(U.objectName)}).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",function(U){d3.event.stopImmediatePropagation();var k={visualObjects:[{objectName:U.objectName,selectorsByColumn:{}}],subSelectionType:1,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:U.outlineId,displayName:U.displayNameKey&&N.hostServices.getLocalizedString(U.displayNameKey)};N.subSelect(k)}).merge(W).style("width",function(U){return"".concat(U.bounds.width,"px")}).style("height",function(U){return"".concat(U.bounds.height,"px")}).style("left",function(U){return"".concat(U.bounds.left,"px")}).style("top",function(U){return"".concat(U.bounds.top,"px")}),W.exit().remove()},O.prototype.getElementRegionOutlineId=function(N){var w=N.attr(g),I="";if(this.selectorCallback){var B=this.selectorCallback(N.node()),j=(0,b.tV)(B);j&&(I=(0,b.km)(j))}return""!==I?"".concat(w,"___").concat(I):w},O.prototype.getAllSubSelectables=function(N){var w=this,I=this.getSubSelectableElements(),j=_.uniqWith(I,function(re,G){return re.getAttribute(g)===G.getAttribute(g)&&(!w.selectorCallback||(0,b.Ic)(w.selectorCallback(re),w.selectorCallback(G)))}),W=j;N&&(W=j.filter(function(J){var re=w.getSubSelectionTypeFromElement(J);return Number(re)===N}));var U=W.map(function(J){var re=J.getBoundingClientRect();return{x:re.x+re.width/2,y:re.y+re.height/2}}),Q=_.orderBy(Array.from(Array(U.length).keys()),function(re){return U[re].y},["asc"]),te={currentSeriesMultiplier:0};return Q.map(function(J){return w.createSubSelectionFromElement(W[J],!1,void 0,te,U[J])})},O.prototype.getNextSubSelectable=function(N,w){var I=this.getAllSubSelectables();if(I.length){var j,B=_.orderBy(I,["focusOrder"],["asc"]);if(!N)return w?_.last(B):_.first(B);var W=_.findIndex(B,function(k){return _.isEqual(N,k)});if(W>-1){var U=w?W-1:W+1;U>-1&&U<B.length&&(j=B[U])}return j}},O.prototype.createVisualSubSelectionForSingleObject=function(N){var w,I=N.objectName,B=N.subSelectionType,j=N.displayName,W=N.showUI,U=N.selectorsByColumn,k=N.selectionOrigin,Q=N.focusOrder,te=N.metadata,ee=N.target,J=(null!==(w=null==ee?void 0:ee.getBoundingClientRect())&&void 0!==w?w:{top:0}).top,re=k&&B in[1,2]?(0,e.__assign)((0,e.__assign)({},k),{offset:{x:0,y:-1*((null==k?void 0:k.y)-J)}}):k;return(0,e.__assign)((0,e.__assign)({visualObjects:[{objectName:I,selectorsByColumn:null!=U?U:{}}],showUI:W,displayName:j,subSelectionType:B,selectionOrigin:re,target:ee},te?{metadata:te}:{}),Q?{focusOrder:Q}:{})},O.prototype.createSubSelectionFromElement=function(N,w,I,B,j){var W=N.getAttribute(g);n.fF.assert(function(){return!!W},"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var U={};this.selectorCallback&&(U=this.selectorCallback(N));var k=this.getSelectorKey(U);k&&void 0===B[k]&&(B[k]=B.currentSeriesMultiplier,B.currentSeriesMultiplier++);var Q=this.getSubSelectionFocusOrder(W,B[k]),te=this.getSubSelectionTypeFromElement(N),ee=this.getDisplayNameFromElement(N),J=j;return I&&(J={x:I.clientX,y:I.clientY}),this.createVisualSubSelectionForSingleObject({objectName:W,subSelectionType:te,displayName:ee,showUI:w,selectorsByColumn:U,selectionOrigin:J,focusOrder:Q})},O.prototype.getDisplayNameFromElement=function(N){var w=N.getAttribute(d);if(w)w=this.hostServices.getLocalizedString(w);else{var I=O.getDataForElement(N);null!=I&&I.getDisplayName?w=I.getDisplayName():n.fF.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return w},O.prototype.getSubSelectionTypeFromElement=function(N){var w=N.getAttribute(C);if(w)return Number(w);n.fF.assertFail("getAllSubSelectables - DOMElement should have type")},O.prototype.getSelectorKey=function(N){var w=(0,b.fd)((0,b.tV)(N));return _.isEmpty(w)?"":JSON.stringify(w)},O.prototype.getSubSelectionFocusOrder=function(N,w){var I=s[N];return I?(void 0!==w&&(I+=1e3*w),I):999999},O.prototype.getSubSelectableElements=function(){var N=this.hostElement;return this.host.selectAll(V).filter(function(){return F(N,this)}).nodes()},O}()},906298:function(Je,H,t){t.d(H,{m:function(){return c}});var e=t(744883);function c(s,f,v){if(s&&s.textClasses){var b=s.textClasses[f];if(b){var h=b.fontSize&&e.B.createFromPt(+b.fontSize);return{color:v?void 0:b.color&&b.color.value,family:b.fontFace,size:h,weight:b.fontWeight}}}return{}}},452657:function(Je,H,t){t.d(H,{PC:function(){return b},lM:function(){return p},mC:function(){return v},nU:function(){return f},zI:function(){return h}});var e=t(787941),c=t(14253),s=t(240849);function f(n){return n.toString().replace(new RegExp(" ","g"),"&nbsp")}function v(n){return n.replace(/\u2026/g,"")}function b(n){if(null!=n)return n.replace(/ /g,"\xa0")}function h(n){if(null!=n)return n.replace(/\n| /g,"\xa0")}function p(n,l,r,o,a,i){void 0===o&&(o=0),void 0===a&&(a=!1),void 0===i&&(i=!1),e.fF.assertValue(n,"textElement");var m=c.b.getSvgMeasurementProperties(n),u=c.b.estimateSvgTextHeight(m)+o,V=Math.max(1,Math.floor(r/u)),d=d3.select(n),S=n.textContent;n.textContent="";for(var g=(0,s.ql)(S,m,c.b.measureSvgTextWidth,l,V,null,!1,a,i),y=0,C=g.length;y<C;y++)m.text=g[y],d.append("tspan").attr("x",0).attr("dy",0===y?0:u).text(c.b.getTailoredTextOrDefault(m,l))}},438554:function(Je,H,t){t.d(H,{Q:function(){return c},X:function(){return s}});var e=t(787941);function c(f,v){if(0!==v.length){e.fF.assert(function(){return f.nodes().length===v.length||f.size()===v.length},"data length should match dom element count");var h=f.selectAll("title").data(function(p,n){return[v[n]]});h.enter().append("title").merge(h).text(function(p){return p}),h.exit().remove()}}function s(f){return _.reduce(f,function(b,h,p){var n=h.value;return null==n&&(n=h.kpiValue&&h.kpiValue.value),p>0?"".concat(b," ").concat(h.displayName," ").concat(n,"."):"".concat(h.displayName," ").concat(n,".")},"")}},99450:function(Je,H,t){t.d(H,{wx:function(){return e}});var e=function(){function h(p){this.matrix=p||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}return h.prototype.applyToPoint=function(p){if(!p)return p;var n=this.matrix;return{x:n.m00*p.x+n.m01*p.y+n.m02,y:n.m10*p.x+n.m11*p.y+n.m12}},h.prototype.applyToRect=function(p){if(!p)return p;var n=p.left,l=p.top,r=this.matrix,a=0!==r.m01||0!==r.m10;if(!a&&1===r.m00&&1===r.m11)return{left:n+r.m02,top:l+r.m12,width:p.width,height:p.height};var u,V,d,S,i=p.left+p.width,m=p.top+p.height;if(a){var g=r.m00*n+r.m01*l+r.m02,y=r.m10*n+r.m11*l+r.m12,C=r.m00*n+r.m01*m+r.m02,E=r.m10*n+r.m11*m+r.m12,M=r.m00*i+r.m01*l+r.m02,P=r.m10*i+r.m11*l+r.m12,T=r.m00*i+r.m01*m+r.m02,x=r.m10*i+r.m11*m+r.m12;u=Math.min(g,C,M,T),V=Math.max(g,C,M,T),d=Math.min(y,E,P,x),S=Math.max(y,E,P,x)}else g=r.m00*n+r.m02,y=r.m11*l+r.m12,T=r.m00*i+r.m02,x=r.m11*m+r.m12,u=Math.min(g,T),V=Math.max(g,T),d=Math.min(y,x),S=Math.max(y,x);return{left:u,top:d,width:V-u,height:S-d}},h.prototype.translate=function(p,n){if(0!==p||0!==n){var l=function(h,p){return{m00:1,m01:0,m02:h,m10:0,m11:1,m12:p}}(p,n);this.matrix=b(this.matrix,l),this._inverse=null}},h.prototype.scale=function(p,n){if(1!==p||1!==n){var l=function(h,p){return{m00:h,m01:0,m02:0,m10:0,m11:p,m12:0}}(p,n);this.matrix=b(this.matrix,l),this._inverse=null}},h.prototype.rotate=function(p){if(0!==p){var n=function(h){var p=h,n=Math.sin(p),l=Math.cos(p);return{m00:l,m01:-n,m02:0,m10:n,m11:l,m12:0}}(p);this.matrix=b(this.matrix,n),this._inverse=null}},h.prototype.add=function(p){p&&(this.matrix=b(this.matrix,p.matrix),this._inverse=null)},h.prototype.getInverse=function(){return this._inverse||(this._inverse=new h(function(h){var n=1/(h.m00*h.m11-h.m01*h.m10);return{m00:h.m11*n,m01:-h.m01*n,m02:(h.m01*h.m12-h.m02*h.m11)*n,m10:-h.m10*n,m11:h.m00*n,m12:-(h.m00*h.m12-h.m10*h.m02)*n}}(this.matrix))),this._inverse},h}();function b(h,p){return{m00:h.m00*p.m00+h.m01*p.m10,m01:h.m00*p.m01+h.m01*p.m11,m02:h.m00*p.m02+h.m01*p.m12+h.m02,m10:h.m10*p.m00+h.m11*p.m10,m11:h.m10*p.m01+h.m11*p.m11,m12:h.m10*p.m02+h.m11*p.m12+h.m12}}},744883:function(Je,H,t){t.d(H,{B:function(){return s}});var e=t(787941),c=t(520907),s=function(){function f(v,b){this.pt=v,this.px=b}return f.createFromPt=function(v,b){return e.fF.assert(function(){return _.isFinite(v)},"pt is not a number"),b&&(v=_.round(v,b)),new f(v,c.FP.fromPointToPixel(v))},f.createFromPx=function(v,b){return e.fF.assert(function(){return _.isFinite(v)},"px is not a number"),b&&(v=_.round(v,b)),new f(c.FP.toPoint(v),v)},f.createFromElement=function(v){var b=v.css("font-size");return _.isEmpty(b)?void 0:f.createFromCSS(b)},f.createFromCSS=function(v,b){e.fF.assertValue(v,"fontSizeCSS");var h=v.slice(-2).toLowerCase();e.fF.assert(function(){return"pt"===h||"px"===h},"expected an absolute size");var p=parseFloat(v.slice(0,-2));switch(e.fF.assert(function(){return!isNaN(p)},"value is NaN"),h){case"px":return f.createFromPx(p,b);case"pt":return f.createFromPt(p,b);default:e.fF.assertFail("Can not convert unit '".concat(h,"' to a FontSize"))}},f.prototype.equals=function(v){return this.pt===v.pt&&this.px===v.px},f}()},943079:function(Je,H,t){t.d(H,{Il:function(){return n},O4:function(){return p},Re:function(){return r},WO:function(){return v},_W:function(){return l},kB:function(){return h},q5:function(){return o},x6:function(){return b}});var e=t(226514),c=t(106266),s=t(37584),f=t(674810);function v(){return{solid:{color:"#FFF"}}}function b(){return 50}function h(){return!1}function p(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function n(a,i){var m;a.pushInstance({selector:null,properties:{transparency:null!==(m=null==i?void 0:i.transparency)&&void 0!==m?m:50,image:null==i?void 0:i.image},objectName:"plotArea"})}function l(a,i){var m=s.mi.plotArea,u=new c.CQ(new c.lg("plotBackground"),"Visual_Plot_Background",[m.image,m.transparency],i);return u.addGroup(void 0,function(V){var d;V.addSimpleSlice("image",new c.bD({descriptor:m.image,value:a&&a.image}).build()).addSimpleSlice("transparency",c.JN.getTransparencySliderBuilder({descriptor:m.transparency,value:null!==(d=null==a?void 0:a.transparency)&&void 0!==d?d:50,localize:i}).build(),function(S){var g,y;return S.withDisabled(!(a&&a.image&&(null!==(g=a.image)&&void 0!==g&&g.name||null!==(y=a.image)&&void 0!==y&&y.url)))})}),u.build()}function r(a,i,m){var u,V=null===(u=null==a?void 0:a.image)||void 0===u?void 0:u.url;if(V){var S,d=i.children(".background-image");switch(0===d.length&&(i.prepend('<div class="background-image"></div>'),(d=i.children(".background-image")).css("position","absolute")),a.image.scaling){case f.mJ:S={"background-size":"","background-position":"50% 50%"};break;case f.Tj:S={"background-size":"100% 100%","background-position":""};break;case f.hl:S={"background-size":"100%","background-position":"50% 50%"};break;default:S={"background-size":"","background-position":"50% 50%"}}d.css((0,e.__assign)((0,e.__assign)({},S),{width:m.width,height:m.height,"margin-left":m.left,"margin-top":m.top,"background-image":"url(".concat(V,")"),"background-repeat":"no-repeat",opacity:(100-a.transparency)/100}))}else o(i)}function o(a){null==a||a.children(".background-image").remove()}},41455:function(Je,H,t){t.d(H,{$b:function(){return v},FJ:function(){return f},O4:function(){return b}});var e=t(666683),f=0;function v(h,p){var n=(0,e.yo)(h)?p:0,l=(0,e.BK)(h)?p:0,r=(0,e.mv)(h)?p:0,o=(0,e.fs)(h)?p:0;return"".concat(n,"px ").concat(l,"px ").concat(r,"px ").concat(o,"px")}function b(){return{color:{solid:{color:"#000"}},show:!1,radius:f}}},397628:function(Je,H,t){t.d(H,{e_:function(){return c},g:function(){return e},t2:function(){return f},tQ:function(){return s}});var e="Slider_Degree",c="Numeric_Pixel",s="Slider_Weight",f="Slider_Percent"},29436:function(Je,H,t){t.d(H,{OT:function(){return n},sd:function(){return h},u9:function(){return p}});var e=t(787941),c=t(989516),s=t(668268),f=t(620108),v=t(45696);function h(l,r){if(_.isEmpty(l))return[];e.fF.assertValue(r,"objectDescriptors");for(var o=[],a=function(d){for(var S in d.objects){var g=d.objects[S]&&d.objects[S].formattingProperties;if(!_.isEmpty(g))for(var y=0,C=g;y<C.length;y++){var M={objectName:S,propertyName:C[y]},P=(0,f.VM)(r,M),T=void 0;d.allowOverrideSubtotalMatching&&(e.fF.assert(function(){return(0,c.N6)(d.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),T=!0),P&&o.push({selector:d.selector,allowOverrideSubtotalMatching:T,altStaticSelector:d.altStaticSelector,propertyId:M,propertyDescriptor:P,containerName:d.containerName})}}},i=0,m=l;i<m.length;i++)a(m[i]);return o}function p(l,r){return l===r||null==l&&null==r||!l==!r&&void 0===l.altStaticSelector==(void 0===r.altStaticSelector)&&!!l.allowOverrideSubtotalMatching==!!r.allowOverrideSubtotalMatching&&l.containerName===r.containerName&&_.isEqual(l.propertyDescriptor,r.propertyDescriptor)&&_.isEqual(l.propertyId,r.propertyId)&&(0,c.fS)(l.selector,r.selector)}function n(l,r){if(!r.allowOverrideSubtotalMatching)return(0,s.NA)(l,r.propertyId,r.selector);e.fF.assert(function(){return(0,c.N6)(r.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");for(var a=0,i=[(0,v.Ue)(1),(0,v.Ue)(2),(0,v.Ue)(0)];a<i.length;a++){var u={data:[i[a]],metadata:r.selector.metadata,id:r.selector.id},V=(0,s.NA)(l,r.propertyId,u);if(V)return r.selector=u,V}}},691203:function(Je,H,t){function e(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"}}}function c(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}}t.d(H,{DH:function(){return c},ss:function(){return e}})},854479:function(Je,H,t){function e(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function c(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}t.d(H,{DH:function(){return c},ss:function(){return e}})},563245:function(Je,H,t){t.d(H,{A1:function(){return T},FX:function(){return R},IC:function(){return x},Pi:function(){return E},Sc:function(){return P},UR:function(){return S},e9:function(){return y},mO:function(){return M},nv:function(){return C},tJ:function(){return g},u3:function(){return a},vW:function(){return d}});var e=t(251912),c=t(787941),s=t(803018),f=t(690016),v=t(698129),b=t(298801),h=t(306310),p=t(666683),n=t(707903),l=t(518284),r=t(635528),o=t(834436),a='"',i=function(){function D(L,F,A,O,N,w){this.objectName=L,this.propertyName=F,this.defaultValue=A,this.usage=O,this.fallbackProperties=w,this.getterFunction=N||v.NA}return D.prototype.getValue=function(L,F,A,O,N,w){void 0===F&&(F=!1);var I=this.getterFunction(L,this,this.defaultValue,N);if(N&&void 0===I&&(I=this.getValue(L,F)),A&&!A(L,this,N)&&!_.isNil(O)&&(I=O),void 0===I&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach(function(B,j){I=B.getValue(L,F,void 0,void 0,w&&w[j])})),!F&&"string"==typeof I)switch(this.usage){case"attribute":I=I.replace(D.AttributeDelimiter,a+a);break;case"unsafeTextContent":I=(0,f.HZ)(I);break;case"codeOnly":case"safeTextContent":break;default:c.fF.assertNever(this.usage)}return I},D.prototype.setInstanceProperty=function(L,F,A,O,N){var w=this.getValue(F,!0,A,O,N);return L&&L.properties&&(L.properties[this.propertyName]=w),w},D.prototype.setInstanceValidValues=function(L,F){L.validValues||(L.validValues={}),L.validValues[this.propertyName]=F},D.AttributeDelimiter=new RegExp(a,"g"),D}(),m="foregroundNeutralLight",V="foregroundNeutralSecondary",d=p.wI,S=4,g=p.YP,y=0,C=p.RH,E=2,M=p.j0,P=1,T=p.YP,x=0,R=function(){function D(L){var F=this;this.colorHelper=b.v.create(L);var A=function(N,w,I,B){return F.colorHelper.getColorForProperty(N,w,I,B)};this.PropGridVerticalColor=new i(D.ObjectGrid,"gridVerticalColor",m,"attribute",A),this.PropGridHorizontalColor=new i(D.ObjectGrid,"gridHorizontalColor",m,"attribute",A),this.PropGridOutlineColor=new i(D.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",A),this.PropRowsOutlineColor=new i(D.ObjectRowHeaders,"outlineColor",void 0,"attribute",A),this.PropColumnsOutlineColor=new i(D.ObjectColumnHeaders,"outlineColor",void 0,"attribute",A),this.PropValuesOutlineColor=new i(D.ObjectValues,"outlineColor",void 0,"attribute",A),this.PropTotalOutlineColor=new i(D.ObjectTotal,"outlineColor",void 0,"attribute",A),this.PropColumnsFontColor=new i(D.ObjectColumnHeaders,"fontColor",V,"attribute",A),this.PropColumnsBackColor=new i(D.ObjectColumnHeaders,"backColor",void 0,"attribute",A),this.PropRowsFontColor=new i(D.ObjectRowHeaders,"fontColor",V,"attribute",A),this.PropRowsBackColor=new i(D.ObjectRowHeaders,"backColor",void 0,"attribute",A),this.PropRowsExpandCollapseButtonsColor=new i(D.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",A),this.PropValuesFontColor=new i(D.ObjectValues,"fontColor",void 0,"attribute",A),this.PropValuesFontColorPrimary=new i(D.ObjectValues,"fontColorPrimary",e.fA,"attribute",A),this.PropValuesFontColorSecondary=new i(D.ObjectValues,"fontColorSecondary",e.fA,"attribute",A),this.PropValuesBackColor=new i(D.ObjectValues,"backColor",void 0,"attribute",A),this.PropValuesBackColorPrimary=new i(D.ObjectValues,"backColorPrimary",void 0,"attribute",A),this.PropValuesBackColorSecondary=new i(D.ObjectValues,"backColorSecondary",void 0,"attribute",A),this.PropTotalFontColor=new i(D.ObjectTotal,"fontColor",e.fA,"attribute",A),this.PropTotalBackColor=new i(D.ObjectTotal,"backColor",void 0,"attribute",A),this.PropSubTotalsFontColor=new i(D.ObjectSubTotals,"fontColor",void 0,"attribute",A),this.PropSubTotalsBackColor=new i(D.ObjectSubTotals,"backColor",void 0,"attribute",A),this.PropGrandTotalFontColor=new i(D.ObjectTotal,"fontColor",void 0,"attribute",A),this.PropGrandTotalBackColor=new i(D.ObjectTotal,"backColor",void 0,"attribute",A),this.PropColumnGrandTotalFontColor=new i(D.ObjectColumnTotal,"fontColor",void 0,"attribute",A),this.PropColumnGrandTotalBackColor=new i(D.ObjectColumnTotal,"backColor",void 0,"attribute",A),this.PropRowGrandTotalFontColor=new i(D.ObjectRowTotal,"fontColor",void 0,"attribute",A),this.PropRowGrandTotalBackColor=new i(D.ObjectRowTotal,"backColor",void 0,"attribute",A),this.PropColumnFormattingFontColor=new i(D.ObjectColumnFormatting,"fontColor",void 0,"attribute",A),this.PropColumnFormattingBackColor=new i(D.ObjectColumnFormatting,"backColor",void 0,"attribute",A),this.PropSparklinesDataColor=new i(D.ObjectSparklines,"dataColor",{solid:{color:b.v.getDataColorByIndex(L,0)}},"attribute"),this.PropSparklinesMarkerColor=new i(D.ObjectSparklines,"markerColor",{solid:{color:b.v.getDataColorByIndex(L,0)}},"attribute")}return D.ObjectGeneral="general",D.ObjectGrid="grid",D.ObjectColumnHeaders="columnHeaders",D.ObjectRowHeaders="rowHeaders",D.ObjectValues="values",D.ObjectTotal="total",D.ObjectColumnTotal="columnTotal",D.ObjectRowTotal="rowTotal",D.ObjectSubTotals="subTotals",D.ObjectColumnFormatting="columnFormatting",D.ObjectColumnWidth="columnWidth",D.ObjectSparklines="sparklines",D.ObjectAccessibility="accessibility",D.PropColumnFormatString=new i(D.ObjectGeneral,"formatString",void 0,"codeOnly"),D.PropGeneralTableTotals=new i(D.ObjectGeneral,"totals",!0,"codeOnly"),D.PropGeneralMatrixRowSubtotals=new i(D.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),D.PropGeneralMatrixColumnSubtotals=new i(D.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),D.PropGeneralAutoSizeColumns=new i(D.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),D.PropGeneralTextSize=new i(D.ObjectGeneral,"textSize",8,"attribute"),D.PropGridPivotTableTextSize=new i(D.ObjectGrid,"textSize",8,"attribute"),D.PropGridVertical=new i(D.ObjectGrid,"gridVertical",!1,"codeOnly"),D.PropGridVerticalWeight=new i(D.ObjectGrid,"gridVerticalWeight",1,"attribute"),D.PropGridHorizontalTable=new i(D.ObjectGrid,"gridHorizontal",!0,"codeOnly"),D.PropGridHorizontalMatrix=new i(D.ObjectGrid,"gridHorizontal",!1,"codeOnly"),D.PropGridHorizontalWeight=new i(D.ObjectGrid,"gridHorizontalWeight",1,"attribute"),D.PropGridRowPadding=new i(D.ObjectGrid,"rowPadding",0,"attribute"),D.PropGridOutlineStyle=new i(D.ObjectGrid,"outlineStyle",void 0,"codeOnly"),D.PropGridOutline=new i(D.ObjectGrid,"outline",void 0,"codeOnly"),D.PropGridOutlineWeight=new i(D.ObjectGrid,"outlineWeight",1,"attribute"),D.PropGridImageHeight=new i(D.ObjectGrid,"imageHeight",75,"attribute"),D.PropGridImageWidth=new i(D.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[D.PropGridImageHeight]),D.PropColumnsFontFamily=new i(D.ObjectColumnHeaders,"fontFamily",s.Wn.regular.css,"attribute"),D.PropColumnsOutline=new i(D.ObjectColumnHeaders,"outline",p.wI,"codeOnly"),D.PropColumnsOutlineStyle=new i(D.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),D.PropColumnsNewVisualOutline=new i(D.ObjectColumnHeaders,"outline",void 0,"codeOnly"),D.PropColumnsAlignment=new i(D.ObjectColumnHeaders,"alignment",o.d7,"codeOnly"),D.PropColumnsAlignmentTitle=new i(D.ObjectColumnHeaders,"titleAlignment",o.d7,"codeOnly",null,[D.PropColumnsAlignment]),D.PropColumnPivotTableAutoSizeColumns=new i(D.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),D.PropColumnsWordWrap=new i(D.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),D.PropColumnsOutlineWeight=new i(D.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),D.PropColumnsUrlIcon=new i(D.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),D.PropColumnsFontSize=new i(D.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[D.PropGridPivotTableTextSize]),D.PropColumnsBold=new i(D.ObjectColumnHeaders,"bold",!1,"codeOnly"),D.PropColumnsItalic=new i(D.ObjectColumnHeaders,"italic",!1,"codeOnly"),D.PropColumnsUnderline=new i(D.ObjectColumnHeaders,"underline",!1,"codeOnly"),D.PropRowsSteppedLayout=new i(D.ObjectRowHeaders,"stepped",!0,"codeOnly"),D.PropRowsSteppedLayoutIndentation=new i(D.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),D.PropRowsFontFamily=new i(D.ObjectRowHeaders,"fontFamily",s.Wn.regular.css,"attribute"),D.PropRowsOutline=new i(D.ObjectRowHeaders,"outline",p.RH,"codeOnly"),D.PropRowsPivotTableOutline=new i(D.ObjectRowHeaders,"outline",void 0,"codeOnly"),D.PropRowsOutlineStyle=new i(D.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),D.PropRowsAlignment=new i(D.ObjectRowHeaders,"alignment",o.d7,"codeOnly"),D.PropRowsWordWrap=new i(D.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),D.PropRowsOutlineWeight=new i(D.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),D.PropRowsUrlIcon=new i(D.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),D.PropRowsFontSize=new i(D.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[D.PropGridPivotTableTextSize]),D.PropRowsShowExpandCollapseButtons=new i(D.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),D.PropRowsExpandCollapseButtonsSize=new i(D.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[D.PropRowsFontSize]),D.PropRowsBold=new i(D.ObjectRowHeaders,"bold",!1,"codeOnly"),D.PropRowsItalic=new i(D.ObjectRowHeaders,"italic",!1,"codeOnly"),D.PropRowsUnderline=new i(D.ObjectRowHeaders,"underline",!1,"codeOnly"),D.PropRowsExpandCompositeHierarchy=new i(D.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),D.PropValuesFontFamily=new i(D.ObjectValues,"fontFamily",s.Wn.regular.css,"attribute"),D.PropValuesBandedRowHeaders=new i(D.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),D.PropValuesOutline=new i(D.ObjectValues,"outline",p.YP,"codeOnly"),D.PropValuesOutlineStyle=new i(D.ObjectValues,"outlineStyle",void 0,"codeOnly"),D.PropValuesNewVisualOutline=new i(D.ObjectValues,"outline",void 0,"codeOnly"),D.PropValuesUrlIcon=new i(D.ObjectValues,"urlIcon",!1,"codeOnly"),D.PropValuesWordWrap=new i(D.ObjectValues,"wordWrap",!1,"codeOnly"),D.PropValuesOutlineWeight=new i(D.ObjectValues,"outlineWeight",void 0,"attribute"),D.PropValuesOnRow=new i(D.ObjectValues,"valuesOnRow",!1,"attribute"),D.PropValuesFontSize=new i(D.ObjectValues,"fontSize",void 0,"attribute",void 0,[D.PropGridPivotTableTextSize]),D.PropValuesIcon=new i(D.ObjectValues,"icon",void 0,"attribute"),D.PropValuesWebURL=new i(D.ObjectValues,"webURL",void 0,"attribute"),D.PropValuesBold=new i(D.ObjectValues,"bold",!1,"codeOnly"),D.PropValuesItalic=new i(D.ObjectValues,"italic",!1,"codeOnly"),D.PropValuesUnderline=new i(D.ObjectValues,"underline",!1,"codeOnly"),D.PropTotalTableExTotals=new i(D.ObjectTotal,"totals",!0,"codeOnly"),D.PropTotalTableExTotalLabel=new i(D.ObjectTotal,"label",null,"safeTextContent"),D.PropTotalOutline=new i(D.ObjectTotal,"outline",p.j0,"codeOnly"),D.PropTotalTableExOutline=new i(D.ObjectTotal,"outline",void 0,"codeOnly"),D.PropTotalOutlineStyle=new i(D.ObjectTotal,"outlineStyle",void 0,"codeOnly"),D.PropTotalOutlineWeight=new i(D.ObjectTotal,"outlineWeight",void 0,"attribute"),D.PropTotalFontFamily=new i(D.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[D.PropValuesFontFamily]),D.PropTotalFontSize=new i(D.ObjectTotal,"fontSize",void 0,"attribute",void 0,[D.PropValuesFontSize]),D.PropTotalBold=new i(D.ObjectTotal,"bold",!0,"codeOnly"),D.PropTotalItalic=new i(D.ObjectTotal,"italic",!1,"codeOnly"),D.PropTotalUnderline=new i(D.ObjectTotal,"underline",!1,"codeOnly"),D.PropSubTotalsPivotTableRowSubtotals=new i(D.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),D.PropSubTotalsPivotTableRowSubtotalsLabel=new i(D.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),D.PropSubTotalsPivotTableRowSubtotalsPerLevel=new i(D.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),D.PropSubTotalsPivotTableColumnSubtotals=new i(D.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),D.PropSubTotalsPivotTableColumnSubtotalsLabel=new i(D.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),D.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new i(D.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),D.PropSubTotalsPivotTableLevelSubtotalEnabled=new i(D.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),D.PropSubTotalsPivotTableLevelSubtotalLabel=new i(D.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),D.PropSubTotalsPivotTableRowSubtotalsPosition=new i(D.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(L,F,A){var O=(0,v.NA)(L,F,A);return null!=O?O:D.PropRowsSteppedLayout.getValue(L)?n.we:n.I}),D.PropSubTotalsApplyToHeaders=new i(D.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),D.PropSubTotalsFontFamily=new i(D.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[D.PropValuesFontFamily]),D.PropSubTotalsFontSize=new i(D.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[D.PropValuesFontSize]),D.PropSubTotalsBold=new i(D.ObjectSubTotals,"bold",!0,"codeOnly"),D.PropSubTotalsItalic=new i(D.ObjectSubTotals,"italic",!1,"codeOnly"),D.PropSubTotalsUnderline=new i(D.ObjectSubTotals,"underline",!1,"codeOnly"),D.PropGrandTotalApplyToHeaders=new i(D.ObjectTotal,"applyToHeaders",!1,"codeOnly"),D.PropGrandTotalFontFamily=new i(D.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[D.PropSubTotalsFontFamily]),D.PropGrandTotalFontSize=new i(D.ObjectTotal,"fontSize",void 0,"attribute",void 0,[D.PropSubTotalsFontSize]),D.PropGrandTotalBold=new i(D.ObjectTotal,"bold",!0,"codeOnly"),D.PropGrandTotalItalic=new i(D.ObjectTotal,"italic",!1,"codeOnly"),D.PropGrandTotalUnderline=new i(D.ObjectTotal,"underline",!1,"codeOnly"),D.PropColumnGrandTotalApplyToHeaders=new i(D.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),D.PropColumnGrandTotalFontFamily=new i(D.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[D.PropSubTotalsFontFamily]),D.PropColumnGrandTotalFontSize=new i(D.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[D.PropSubTotalsFontSize]),D.PropColumnGrandTotalBold=new i(D.ObjectColumnTotal,"bold",!0,"codeOnly"),D.PropColumnGrandTotalItalic=new i(D.ObjectColumnTotal,"italic",!1,"codeOnly"),D.PropColumnGrandTotalUnderline=new i(D.ObjectColumnTotal,"underline",!1,"codeOnly"),D.PropRowGrandTotalApplyToHeaders=new i(D.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),D.PropRowGrandTotalFontFamily=new i(D.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[D.PropSubTotalsFontFamily]),D.PropRowGrandTotalFontSize=new i(D.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[D.PropSubTotalsFontSize]),D.PropRowGrandTotalBold=new i(D.ObjectRowTotal,"bold",!0,"codeOnly"),D.PropRowGrandTotalItalic=new i(D.ObjectRowTotal,"italic",!1,"codeOnly"),D.PropRowGrandTotalUnderline=new i(D.ObjectRowTotal,"underline",!1,"codeOnly"),D.PropColumnFormattingDisplayUnits=new i(D.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",v.NA),D.PropColumnFormattingPrecision=new i(D.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",v.NA),D.PropColumnFormattingAlignment=new i(D.ObjectColumnFormatting,"alignment",o.d7,"codeOnly"),D.PropColumnFormattingStyleHeader=new i(D.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),D.PropColumnFormattingStyleValues=new i(D.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),D.PropColumnFormattingStyleSubtotals=new i(D.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),D.PropColumnFormattingDataBars=new i(D.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),D.PropSparklinesChartType=new i(D.ObjectSparklines,"chartType",l.jv,"codeOnly"),D.PropSparklinesStrokeWidth=new i(D.ObjectSparklines,"strokeWidth",1,"attribute"),D.PropSparklinesMarkerType=new i(D.ObjectSparklines,"markers",r.qC,"codeOnly"),D.PropSparklinesMarkerSize=new i(D.ObjectSparklines,"markerSize",3,"attribute"),D.PropSparklinesMarkerShape=new i(D.ObjectSparklines,"markerShape",h.Xw,"codeOnly"),D.PropColumnFormattingStyleTotal=new i(D.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),D.PropColumnWidthValue=new i(D.ObjectColumnWidth,"value",void 0,"attribute"),D.PropAltTextValue=new i(D.ObjectAccessibility,"altTextColumns",void 0,"attribute"),D.ProprowWithReferenceText=new i(D.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),D.PropUnfrozenRowHeaders=new i(D.ObjectRowHeaders,"unfrozen",!1,"codeOnly"),D}()},781935:function(Je,H,t){t.d(H,{WD:function(){return I},dz:function(){return F}});var e=t(226514),c=t(629925),s=t(787941),f=t(803018),v=t(14253),b=t(569071),h=t(240849),p=t(187810),n=t(506038),l=t(255647),r=t(549772),o=t(744883),a=t(306310),i=(0,c.CH)("tooltip-container"),m=(0,c.CH)("tooltip-light"),u=(0,c.CH)("tooltip-content-container"),V=(0,c.CH)("tooltip-data-container"),d=(0,c.CH)("tooltip-icon-cell"),S=(0,c.CH)("tooltip-line-icon"),g=(0,c.CH)("tooltip-marker-icon"),y=(0,c.CH)("tooltip-header"),C=(0,c.CH)("tooltip-subheader"),E=(0,c.CH)("tooltip-footer"),M=(0,c.CH)("tooltip-discoverabilityText"),P=(0,c.CH)("tooltip-row"),T=(0,c.CH)("tooltip-title-cell"),x=(0,c.CH)("tooltip-value-cell"),R=(0,c.CH)("tooltip-kpi-cell"),D=(0,c.CH)("arrow"),L=o.B.createFromPt(9),F={titleFontProperties:{color:"#C8C8C8",family:f.Wn.regular.css,size:L,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:f.Wn.semibold.css,size:L,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:f.Wn.regular.css,size:o.B.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},I=function(){function B(){}return B.prototype.create=function(){var j=$("<div>").get(0);return(this.container=d3.select(j).classed(u.class,!0)).append("div").classed(V.class,!0).style("direction","ltr"),j},B.prototype.update=function(j){if(null==j.style&&(j.style=F),s.fF.assert(function(){return!!j.style.titleFontProperties},"Title Font Properties Should Be Defined"),s.fF.assert(function(){return!!j.style.valueFontProperties},"Value Font Properties Should Be Defined"),!_.isEqual(j,this.currentData)&&(this.currentData=j,this.textTitleFontProperty=(0,p.qk)(j.style.titleFontProperties),this.textValueFontProperty=(0,p.qk)(j.style.valueFontProperties),this.container.data)){var W=this.buildViewModel(j),U=this.dataContainer=this.dataContainer||this.container.select(V.selector);U.selectAll(C.selector).remove(),U.selectAll(y.selector).remove(),U.selectAll(P.selector).remove(),U.selectAll(E.selector).remove(),U.selectAll(M.selector).remove();var k=this.renderSubeader(U,W),Q=this.renderHeader(U,W);this.updateTooltipRows(U,W.rows);var te=this.renderDiscoverabilityText(U,W);this.renderFooter(U,W);var ee=d3.select(i.selector),J=ee.node()&&ee.classed(m.class),re=ee.selectAll(D.selector),G=ee.selectAll(u.selector),ne=ee.select(V.selector).selectAll(T.selector),X=ee.select(V.selector).selectAll(x.selector),oe=this.currentData.style;if(J)return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void re.styles({"border-right-color":null,"border-left-color":null,opacity:null});re.styles({"border-right-color":oe.background&&oe.background.solid.color,"border-left-color":oe.background&&oe.background.solid.color,opacity:1-oe.transparency/100}),Q.styles((0,p.jB)(function(){return oe.valueFontProperties})),k.styles((0,p.jB)(function(){return oe.valueFontProperties})),G.styles({"background-color":oe.background&&oe.background.solid.color,opacity:1-oe.transparency/100}),ne.styles((0,p.jB)(function(){return oe.titleFontProperties})),X.styles((0,p.jB)(function(){return oe.valueFontProperties})),te&&oe.discoverabilityFontProperties&&te.styles((0,p.jB)(function(){return oe.discoverabilityFontProperties}))}},B.prototype.renderHeader=function(j,W){var U=j.selectAll(y.selector).data(_.filter([W.header],function(Q){return!!Q})),k=U.enter().append("div").attr("class",y.class).merge(U);return k.text(W.header),U.exit().remove(),k},B.prototype.renderSubeader=function(j,W){var U=j.selectAll(C.selector).data(_.filter([W.subheader],function(Q){return!!Q})),k=U.enter().append("div").attr("class",C.class).merge(U);return k.text(W.subheader),U.exit().remove(),k},B.prototype.renderFooter=function(j,W){var U=j.selectAll(E.selector).data(_.filter([W.footer],function(Q){return!!Q})),k=U.enter().append("div").attr("class",E.class).merge(U);return k.text(W.footer),U.exit().remove(),k},B.prototype.renderDiscoverabilityText=function(j,W){var U=j.selectAll(M.selector).data(_.filter([W.discoverabilityText],function(Q){return!!Q})),k=U.enter().append("div").attr("class",M.class).merge(U);return k.text(W.discoverabilityText),U.exit().remove(),k},B.prototype.updateTooltipRows=function(j,W){j.selectAll(P.selector).remove();var U=j.selectAll(P.selector).data(W),k=U.enter().append("div").classed(P.class,!0).merge(U),Q=k.selectAll(d.selector).data(function(de){return _.filter([de.icon],function(pe){return void 0!==pe})}),te=Q.enter().append("div").classed(d.class,!0),ee=te.append("svg").attr("height","15px");ee.append("path").classed(S.class,!0).styles({"stroke-opacity":"1","stroke-width":"2"}),ee.append("path").classed(g.class,!0);var J=te.merge(Q),re=function(pe){var le;return null===(le=null==pe?void 0:pe.line)||void 0===le?void 0:le.lineStyle},G=function(pe){return(0,b.aI)(re(pe)?15.5:5,8,5/r.UI)},ne=function(pe){var le;return null===(le=null==pe?void 0:pe.marker)||void 0===le?void 0:le.color},X=function(pe){var le,me;return null!==(me=null===(le=null==pe?void 0:pe.marker)||void 0===le?void 0:le.opacity)&&void 0!==me?me:1};J.style("max-width",function(de){return re(de)?"31px":"13px"}),J.selectAll("svg").attr("width",function(de){return re(de)?31:"100%"}),J.selectAll(S.selector).attrs({transform:G,d:function(pe){return re(pe)?"M 0 0 M -15.5 0 L 15.5 0":null}}).styles({stroke:function(pe){var le;return null===(le=null==pe?void 0:pe.line)||void 0===le?void 0:le.lineColor},"stroke-dasharray":function(pe){return re(pe)?(0,l.XG)(pe.line.lineStyle):null}}),J.selectAll(g.selector).attrs({transform:G,d:function(pe){var le;return(0,r.DW)((null===(le=null==pe?void 0:pe.marker)||void 0===le?void 0:le.markerShape)||a.LS)}}).styles({fill:ne,stroke:ne,"fill-opacity":X,"stroke-opacity":X});var oe=k.selectAll(T.selector).data(function(de){return _.filter([de.displayNameRows],function(pe){return!!pe})}),Ve=oe.enter().append("div").classed(T.class,!0).merge(oe);this.buildTextRows(Ve,this.textTitleFontProperty,260);var Te=k.selectAll(x.selector).data(function(de){return _.filter([de.valueRows],function(pe){return!_.isEmpty(pe)})}),Qe=Te.enter().append("div").classed(x.class,!0).merge(Te);this.buildTextRows(Qe,this.textValueFontProperty,260);var He=k.selectAll(R.selector).data(function(de){return _.filter([de.kpi],function(pe){return!!pe})});He.enter().append("div").styles({"vertical-align":"middle",margin:0}).merge(He).attr("class",function(de){return"".concat(R.class," ").concat((0,n.sq)(de.metadata,de.value))}),k.each(function(de){var pe=de.extraPadding;null!=pe&&d3.selectAll(this.children).style("padding-top","top"===pe?"5px":null).style("padding-bottom","bottom"===pe?"5px":null)}),Q.exit().remove(),oe.exit().remove(),Te.exit().remove(),He.exit().remove(),U.exit().remove()},B.prototype.buildTextRows=function(j,W,U){var k=j.selectAll("div").data(function(te){return te});k.enter().append("div").merge(k).text(function(te){var ee=(0,e.__assign)((0,e.__assign)({},W),{text:te});return v.b.getTailoredTextOrDefault(ee,U)}),k.exit().remove()},B.prototype.updateOptions=function(j){if(this.dataContainer){var W=j.dataContainerWidth;this.dataContainer.style("width",null!=W?"".concat(W,"px"):"")}},B.prototype.buildViewModel=function(j){var W=this,U=j.items,k=_.chain(U).filter(function(Ce){return W.isValidDataItem(Ce)}).map(function(Ce){return W.buildRowViewModel(Ce,j.style.titleFontProperties.color)}).value();this.distributeRows(k,j.bounds);for(var Q=_.head(U),te=Q&&Q.header,ee=Q&&Q.subheader,J=_.last(U),re=j.discoverabilityText,G=J&&J.footer,ne=!1,X=!1,oe=0,Ve=k;oe<Ve.length;oe++){var Te=Ve[oe];if(!ne&&Te.icon&&(ne=!0),!X&&(Te.valueRows||Te.kpi)&&(X=!0),ne&&X)break}for(var Qe=0,He=k;Qe<He.length;Qe++)Te=He[Qe],ne&&void 0===Te.icon&&(Te.icon=null),X&&void 0===Te.valueRows&&null==Te.kpi&&(Te.valueRows=[]);return{footer:G,hasIcons:ne,hasValues:X,header:te,subheader:ee,rows:k,discoverabilityText:re}},B.prototype.buildRowViewModel=function(j,W){var U,k;W&&(j.markerShape===a.m9||j.markerShape===a.yf)&&(j.color=W),j.color&&(U={line:{lineColor:j.lineColor,lineStyle:j.lineStyle},marker:{color:j.color,opacity:j.opacity,markerShape:j.markerShape}},j.markerShape===a.yf&&(k="top"),j.markerShape===a.m9&&(k="bottom"));var Q={displayNameRows:[j.displayName],icon:U,kpi:j.kpiValue,valueRows:null!=j.value?[j.value]:void 0,extraPadding:k};return j.kpiValue&&(void 0!==Q.valueRows&&(s.fF.assertFail("Should not have a `value` and a `kpiValue`"),Q.valueRows=void 0),Q.kpi=j.kpiValue),Q},B.prototype.isValidDataItem=function(j){return j?null!=j.displayName&&"string"!=typeof j.displayName?(s.fF.assertFail("Tooltip datapoint displayName must be a string"),!1):null==j.value||"string"==typeof j.value||(s.fF.assertFail("Tooltip datapoint value must be a string"),!1):(s.fF.assertFail("Tooltip datapoint must not be null/undefined"),!1)},B.prototype.getRowHeight=function(){return Math.max(v.b.estimateSvgTextHeight(this.textTitleFontProperty),v.b.estimateSvgTextHeight(this.textValueFontProperty))},B.prototype.distributeRows=function(j,W){for(var Q=W.height/this.getRowHeight(),te=0,ee=[],J=[],re=[],G=[],ne=function(Ce){var de=j[Ce];s.fF.assert(function(){return 1===de.displayNameRows.length},"Expected `displayNameRows` to have 1 row"),s.fF.assert(function(){return null==de.valueRows||1===de.valueRows.length},"Expected `valueRows` to be `undefined` or have 1 row");var le=re[Ce]=(0,h.ql)(de.displayNameRows[0],X.textTitleFontProperty,v.b.measureSvgTextWidth,260,Q,null,!1,!0),me=void 0;null!=de.valueRows&&(me=G[Ce]=(0,h.ql)(de.valueRows[0],X.textValueFontProperty,v.b.measureSvgTextWidth,260,Q,null,!1,!0));var Be=Math.max(le.length,me?me.length:0);ee.push(Be),te+=Be},X=this,oe=0;oe<j.length;oe++)ne(oe);if(te<=Q)J=ee;else{var Ve=Q-j.length;for(oe=0;oe<j.length;oe++)J[oe]=1+Math.round(Math.max(Ve,0)*(ee[oe]/Q))}for(oe=0;oe<j.length;oe++){var Te=j[oe];Te.displayNameRows=this.getRows(re[oe],J[oe]),G[oe]&&(Te.valueRows=this.getRows(G[oe],J[oe]))}},B.prototype.getRows=function(j,W){return j.length>W+1?j[W-1]+=j[W]+"\u2026":j.length>W&&(j[W-1]+=j[W]),j.slice(0,W)},B}()},960990:function(Je,H,t){t.d(H,{y:function(){return R},G:function(){return D}});var e=t(787941),c=t(698129),s=t(298801);function f(L,F,A,O){return new v(L,F,A,O)}var v=function(){function L(F,A,O,N){if(this.columnReader=F,this.objectReader=A,this.dataReader=O,N&&N.colorOptions){this.style=N.colorOptions.visualStyle,this.valueRole=N.colorOptions.valueRole;var w=(0,c.W7)(this.objectReader.getStaticObjects(),L.defaultColorProp),I=(0,c.W7)(this.objectReader.getStaticObjects(),L.fillProp);this.colorHelper=s.v.create(this.style,L.fillProp,N.colorOptions.ignoreDefaultColor?void 0:w,N.colorOptions.ignoreDefaultCategoryColor?void 0:I),this.colorReaderIsValid=!0}else this.colorReaderIsValid=!1}return L.prototype.createByCategory=function(F,A){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(F),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(F),A);e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},L.prototype.createBySeries=function(F,A,O,N){if(this.colorReaderIsValid){var w="",I=this.columnReader.getStaticRoleInfo(F);return I&&I.roleToUse&&(w=this.columnReader.getValueQueryName(I.roleToUse,I.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(F),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(F),O,N):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(F),w,O,N):this.columnReader.hasCategories()&&null!=A?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(A),w,O,N):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,F),w,O,N)}e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},L.prototype.createByValue=function(F,A){if(this.colorReaderIsValid){var O=this.columnReader.getStaticRoleInfo(F);if(O&&null!=O.roleToUse){var N=this.columnReader.getValueQueryName(O.roleToUse,0)||"";return this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(O.roleToUse,O.seriesIndexToUse),N,A)}e.fF.assertFail("You cannot use colors.createByValue if you do not initialize the reader with a valueRole in colorOptions.")}else e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},L.prototype.getCategoryValueForColor=function(F){var A=this.columnReader.getAllCategoryColumns();if(A)return _.head(A).values[F]},L.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},L.fillProp={objectName:"dataPoint",propertyName:"fill"},L}(),b=t(396894);function h(L,F){return new p(L,F)}var p=function(){function L(F,A){var O,N,w;if(e.fF.assertValue(F,"dataView"),this.dataView=F,F&&(O=F.categorical),O&&(N=this.categories=O.categories),this.hasValidCategories=!_.isEmpty(N),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames),O&&(w=O.values),this.dataHasAnyValidValues=!1,null!=w){var I=F.categorical.values.grouped(),B={};if(I.length>0){this.grouped=I;var j=I[0].values;this.dataHasAnyValidValues=!!I[0].identity||!_.isEmpty(j)&&!_.isEmpty(j[0].values);for(var W=0,U=j.length;W<U;W++){var k=j[W].source.roles;for(var Q in k)k[Q]&&(B[Q]||(B[Q]=[]),B[Q].push(W))}}this.valueRoleIndexMapping=B,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}var te=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&te>1}return L.prototype.hasCategories=function(){return this.hasValidCategories},L.prototype.hasCategoryWithRole=function(F){return-1!==(0,b.pc)(this.categories,F)},L.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},L.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&this.categories.length>1},L.prototype.getCategoryColumn=function(F){if(this.hasValidCategories){var A=this.categories;return A[F?(0,b.pc)(A,F):0]}},L.prototype.getCategoryMetadataColumn=function(F){var A=this.getCategoryColumn(F);if(A)return A.source},L.prototype.getCategoryColumnIdentityFields=function(F){var A=this.getCategoryColumn(F);return A?A.identityFields:void 0},L.prototype.getAllCategoryColumns=function(F){if(null==F)return this.categories;if(this.hasValidCategories){var A=this.categories,O=F?(0,b.zT)(A,F):[0];return _.map(O,function(N){return A[N]})}return[]},L.prototype.hasValues=function(F){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[F])},L.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},L.prototype.getValueColumnCount=function(F){var O,A=this,N=0;return"string"==typeof F?this.valueRoleIndexMapping&&this.hasValues(F)&&(N=null===(O=this.valueRoleIndexMapping[F])||void 0===O?void 0:O.length):this.valueRoleIndexMapping&&Array.isArray(F)&&(N=_.sum(_.map(F,function(w){var I;return null===(I=A.valueRoleIndexMapping[w])||void 0===I?void 0:I.length}))),N},L.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},L.prototype.getValueColumn=function(F,A){if(void 0===A&&(A=0),this.hasValues(F))return this.dataHasDynamicSeries?this.getValueColumnInternal(F,A,0):this.getValueColumnInternal(F,0,A)},L.prototype.getValueColumnBySeries=function(F){var A=this.getStaticRoleInfo(F);if(A)return this.getValueColumn(A.roleToUse,A.seriesIndexToUse)},L.prototype.getAllValueColumnsForRole=function(F,A){if(void 0===A&&(A=0),this.hasValues(F)){for(var N=this.valueRoleIndexMapping[F].length,w=[],I=0;I<N;I++)w.push(this.getValueColumnInternal(F,A,I));return w}},L.prototype.getValueColumnInternal=function(F,A,O){if(this.hasValues(F))return this.grouped[A].values[this.valueRoleIndexMapping[F][O]]},L.prototype.getValueMetadataColumn=function(F,A){void 0===A&&(A=0);var O=this.getValueColumn(F,A);if(O)return O.source},L.prototype.getValueMetadataColumnBySeries=function(F){var A=this.getValueColumnBySeries(F);if(A)return A.source},L.prototype.getAllValueMetadataColumnsForRole=function(F,A){if(void 0===A&&(A=0),this.hasValues(F))return _.map(this.getAllValueColumnsForRole(F,A),function(O){return O.source})},L.prototype.getAllMetadataRelatedObjects=function(){var F=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(F=_.filter(this.dataView.metadata.columns,function(A){return null!=A.relatedObjects})),_.isEmpty(F)?void 0:F},L.prototype.getValueQueryName=function(F,A){var O=this.getValueMetadataColumn(F,A);if(O)return O.queryName},L.prototype.getAllValueQueryNames=function(F,A){var O=this.getAllValueMetadataColumnsForRole(F,A);if(!_.isEmpty(O))return _.map(O,function(N){return N.queryName})},L.prototype.getAllValueRoles=function(){var F=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(F))return F},L.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},L.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},L.prototype.getSeriesCount=function(F){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?F&&!this.hasValues(F)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:F?this.getValueColumnCount(F):this.totalStaticSeriesCount:0},L.prototype.getSeriesValueColumns=function(){var F=this.dataHasDynamicSeries;if(e.fF.assert(function(){return F},"getSeriesValueColumns should not be called when there is no dynamic series"),F)return this.dataView.categorical.values},L.prototype.getSeriesMetadataColumn=function(){var F=this.getSeriesValueColumns();if(F)return F.source},L.prototype.getSeriesValueColumnGroup=function(F){var A=this.dataHasDynamicSeries;if(e.fF.assert(function(){return A},"getSeriesValueColumnGroup should not be called when there is no dynamic series"),this.dataHasAnyValidValues&&A)return this.grouped[F]},L.prototype.getDynamicSeriesColumnIdentityFields=function(){var F=this.getSeriesValueColumns();return F?F.identityFields:void 0},L.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},L.prototype.getMetadataColumns=function(F){var A=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(A=_.filter(this.dataView.metadata.columns,function(O){return null!=O.roles&&!0===O.roles[F]})),_.isEmpty(A)?void 0:A},L.prototype.getStaticRoleInfo=function(F){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var A=0,O=0,N=this.staticSeriesRoleNames;O<N.length;O++)for(var w=N[O],I=this.getSeriesCount(w),B=0;B<I;B++)this.seriesIndexToRoleInfoMap[A]={roleToUse:w,seriesIndexToUse:B},A++;return this.seriesIndexToRoleInfoMap[F]},L}(),n=t(226514),l=t(989516),r=t(45696);function o(L,F){return new a(L,F)}var a=function(){function L(F,A){this.columnReader=F,this.dataHasDynamicSeries=F.hasDynamicSeries(),this.dataHasStaticSeries=F.hasStaticSeries(),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames,this.formatStringProp=A.formatStringProp,this.errorRangeProp=A.errorRangeProp)}return L.prototype.hasCategories=function(){return this.columnReader.hasCategories()},L.prototype.hasCategoryWithRole=function(F){return this.columnReader.hasCategoryWithRole(F)},L.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},L.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},L.prototype.getCategoryValue=function(F,A){var O=this.columnReader.getCategoryColumn(F);return O?O.values[A]:void 0},L.prototype.getAllCategoryValuesForRole=function(F,A){var O=this.columnReader.getAllCategoryColumns(F);return O?_.map(O,function(N){return N.values[A]}):void 0},L.prototype.getCategoryMetadataColumn=function(F){var A=this.columnReader.getCategoryColumn(F);return A?A.source:void 0},L.prototype.getCategoryDisplayName=function(F){var A=this.columnReader.getCategoryColumn(F);if(A&&A.source)return A.source.displayName},L.prototype.getAllCategoryDisplayNamesForRole=function(F){var A=this.columnReader.getAllCategoryColumns(F);if(A)return _.map(A,function(O){return O.source&&O.source.displayName})},L.prototype.getCategoryType=function(F){var A=this.columnReader.getCategoryMetadataColumn(F);if(A)return A.type},L.prototype.hasValues=function(F){return this.columnReader.hasValues(F)},L.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},L.prototype.getValue=function(F,A,O){if(void 0===O&&(O=0),this.hasValues(F)){var N=this.columnReader.getValueColumn(F,O);if(N)return N.values[A]}},L.prototype.getFormatString=function(F,A,O){if(void 0===O&&(O=0),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(F)){var N=this.columnReader.getValueColumn(F,O);if(N)return(0,c.NA)(N.objects&&N.objects[A],this.formatStringProp)}},L.prototype.hasProperty=function(F,A,O,N){var w,I;void 0===A&&(A=0),e.fF.assertValue(O,"propertyIdentifier");var B=this.columnReader.getStaticRoleInfo(A).roleToUse;if(!this.hasValues(B))return!1;var j=this.columnReader.getValueColumn(B,A);return!!j&&(N?j.highlightObjects&&j.highlightObjects[F]&&(null===(w=j.highlightObjects[F][O.objectName])||void 0===w?void 0:w.hasOwnProperty(O.propertyName)):j.objects&&j.objects[F]&&(null===(I=j.objects[F][O.objectName])||void 0===I?void 0:I.hasOwnProperty(O.propertyName)))},L.prototype.getObject=function(F,A,O,N,w){if(void 0===O&&(O=0),e.fF.assertValue(N,"propertyIdentifier"),this.hasValues(F)){var I=this.columnReader.getValueColumn(F,O);if(I)return(0,c.NA)(w?I.highlightObjects&&I.highlightObjects[A]:I.objects&&I.objects[A],N)}},L.prototype.getValueBySeries=function(F,A){var O=this.columnReader.getStaticRoleInfo(A);return this.getValue(O.roleToUse,F,O.seriesIndexToUse)},L.prototype.getObjectsBySeries=function(F,A,O,N){var w=this.columnReader.getStaticRoleInfo(A);return this.getObject(w.roleToUse,F,w.seriesIndexToUse,O,N)},L.prototype.getFormatStringBySeries=function(F,A){var O=this.columnReader.getStaticRoleInfo(A);return this.getFormatString(O.roleToUse,F,O.seriesIndexToUse)},L.prototype.getHighlight=function(F,A,O){var N=this;if(void 0===O&&(O=0),e.fF.assert(function(){return N.hasHighlights()},"getHighlight should not be called when there are no highlight values."),this.hasValues(F)&&this.hasHighlights()){var w=this.columnReader.getValueColumn(F,O);if(w)return w.highlights[A]}},L.prototype.getHighlightFormatString=function(F,A,O){var N=this;if(void 0===O&&(O=0),e.fF.assert(function(){return N.hasHighlights()},"getHighlightFormatString should not be called when there are no highlight values."),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(F)&&this.hasHighlights()){var w=this.columnReader.getValueColumn(F,O);if(w&&w.highlightObjects)return(0,c.NA)(w.highlightObjects[A],this.formatStringProp)}},L.prototype.getErrorValues=function(F,A,O){void 0===A&&(A=0),e.fF.assertValue(this.errorRangeProp,"formatStringProp");var N=this.columnReader.getStaticRoleInfo(A);if(N&&this.hasValues(N.roleToUse)){var w=this.columnReader.getValueColumn(N.roleToUse,N.seriesIndexToUse);if(w)return(0,c.NA)(O?w.highlightObjects&&w.highlightObjects[F]:w.objects&&w.objects[F],this.errorRangeProp)}},L.prototype.getHighlightBySeries=function(F,A){var O=this.columnReader.getStaticRoleInfo(A);return this.getHighlight(O.roleToUse,F,O.seriesIndexToUse)},L.prototype.getHighlightFormatStringBySeries=function(F,A){var O=this.columnReader.getStaticRoleInfo(A);return this.getHighlightFormatString(O.roleToUse,F,O.seriesIndexToUse)},L.prototype.getFormatStringForRelatedObject=function(F,A,O){var N,w,I=this.getMetadataColumnMatchingRelatedObject(F,A,O);return(null==I?void 0:I.format)||(null===(w=null===(N=null==I?void 0:I.objects)||void 0===N?void 0:N.general)||void 0===w?void 0:w.formatString.valueOf())},L.prototype.getMetadataColumnMatchingRelatedObject=function(F,A,O){var N=[],w=this.columnReader.getAllMetadataRelatedObjects();if(w){var I={data:[(0,r.Ue)(null!=O?O:1)]};A&&(N.push((0,n.__assign)((0,n.__assign)({},I),{highlightMatching:1,metadata:A})),N.push((0,n.__assign)((0,n.__assign)({},I),{metadata:A}))),N.push((0,n.__assign)((0,n.__assign)({},I),{highlightMatching:1})),N.push(I),N.push(void 0);for(var B=function(te){return w.find(function(ee){var J,re,G=null===(re=null===(J=ee.relatedObjects)||void 0===J?void 0:J[F.objectName])||void 0===re?void 0:re[F.propertyName];return G&&_.some(G,function(ne){return(0,l.fS)(ne,te)})})},j=0,W=N;j<W.length;j++){var k=B(W[j]);if(k)return k}}},L.prototype.getValueType=function(F,A){var O=this.columnReader.getValueMetadataColumn(F,A);if(O)return O.type},L.prototype.getAllValuesForRole=function(F,A,O){var N=this;if(void 0===O&&(O=0),e.fF.assert(function(){return!_.some(N.staticSeriesRoleNames,function(I){return I===F})},"getAllValuesForRole should not be called with a static series role.  Use getValue and a seriesIndex."),this.hasValues(F)){this.dataHasDynamicSeries||(O=0);var w=this.columnReader.getAllValueColumnsForRole(F,O);return _.map(w,function(I){return I.values[A]})}},L.prototype.getAllFormatStringsForRole=function(F,A,O){var N=this;if(void 0===O&&(O=0),e.fF.assert(function(){return!_.some(N.staticSeriesRoleNames,function(I){return I===F})},"getAllFormatStringsForRole should not be called with a static series role.  Use getValue and a seriesIndex."),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(F)){this.dataHasDynamicSeries||(O=0);var w=this.columnReader.getAllValueColumnsForRole(F,O);return _.map(w,function(I){return(0,c.NA)(I.objects&&I.objects[A],N.formatStringProp)})}},L.prototype.getAllHighlightsForRole=function(F,A,O){var N=this;if(void 0===O&&(O=0),e.fF.assert(function(){return N.hasHighlights()},"getAllHighlightsForRole should not be called when there are no highlight values."),e.fF.assert(function(){return!_.some(N.staticSeriesRoleNames,function(I){return I===F})},"getAllHighlightsForRole should not be called with a static series role.  Use getHighlight and a seriesIndex."),this.hasValues(F)&&this.hasHighlights()){this.dataHasDynamicSeries||(O=0);var w=this.columnReader.getAllValueColumnsForRole(F,O);return _.map(w,function(I){return I.highlights[A]})}},L.prototype.getAllValueTypesForRole=function(F,A){var O=this.columnReader.getAllValueMetadataColumnsForRole(F,A);if(O)return _.map(O,function(N){return N.type})},L.prototype.getFirstNonNullValueForCategory=function(F,A){var O=this;if(this.hasValues(F)){var N=this.getSeriesCount();if(!this.dataHasDynamicSeries)return e.fF.assert(function(){return!O.dataHasStaticSeries},"getFirstNonNullValueForCategory shouldn't be called if you have a static series"),this.getValue(F,A);for(var w=0;w<N;w++){var I=this.getValue(F,A,w);if(null!=I)return I}}},L.prototype.getValueDisplayName=function(F){var A=this;if(e.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(N){return N===F})||!A.columnReader.hasStaticSeries()},"getValueDisplayName shouldn't be called on the static series role if there is a static series.  Use getSeriesName."),this.hasValues(F)){var O=this.columnReader.getValueMetadataColumn(F);if(O)return O.displayName}},L.prototype.getAllValueDisplayNamesForRole=function(F){var A=this;if(e.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(N){return N===F})},"getAllValueDisplayNamesForRole shouldn't be called on the static series role if you have a static series. Use getSeriesName."),this.hasValues(F)){var O=this.columnReader.getAllValueMetadataColumnsForRole(F);if(!_.isEmpty(O))return _.map(O,function(N){return N.displayName})}},L.prototype.getValueQueryName=function(F,A){return this.columnReader.getValueQueryName(F,A)},L.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},L.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},L.prototype.getSeriesName=function(F){var A=this;if(e.fF.assert(function(){return A.hasSeries()},"getSeriesName should not be called when there is no series"),this.hasSeries())if(this.dataHasDynamicSeries){var O=this.columnReader.getSeriesValueColumnGroup(F);if(O)return O.name}else if(this.dataHasStaticSeries){var N=this.columnReader.getStaticRoleInfo(F);if(this.hasValues(N.roleToUse)){var w=this.columnReader.getValueMetadataColumnBySeries(F);if(w)return w.displayName}}},L.prototype.getSeriesDisplayName=function(){var F=this;if(e.fF.assert(function(){return F.hasSeries()},"getSeriesDisplayName should not be called when there is no series"),this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},L.prototype.getSeriesType=function(){var F=this.columnReader.getSeriesMetadataColumn();if(F)return F.type},L}(),i=t(161414);function m(L){return new u(L)}var u=function(){function L(F){this.columnReader=F,this.dataHasDynamicSeries=F.hasDynamicSeries(),this.dataHasStaticSeries=F.hasStaticSeries()}return L.prototype.createForCategory=function(F,A){var O,N=this.columnReader.getCategoryColumn();return(new i.dw).withCategory([N],F,null===(O=null==N?void 0:N.source)||void 0===O?void 0:O.queryName,!0).withMeasures(this.mapRolesToValueMetadata(A)).createSelectionId()},L.prototype.createForDataPoint=function(F,A,O){var N;(this.dataHasDynamicSeries||this.dataHasStaticSeries)&&e.fF.assert(function(){return null!=A},"A seriesIndex is required if you have a series");var w=this.columnReader.getCategoryColumn(),I=(new i.dw).withCategory([w],F,null===(N=null==w?void 0:w.source)||void 0===N?void 0:N.queryName,!0);return null!=A&&this.dataHasDynamicSeries&&I.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(A),!0),I.withMeasures(this.mapRolesToValueMetadata(O,A)),I.createSelectionId()},L.prototype.createForSeries=function(F,A){var O=new i.dw;return this.dataHasDynamicSeries&&O.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(F),!0),O.withMeasures(this.mapRolesToValueMetadata(A,F)),O.createSelectionId()},L.prototype.createForValue=function(F,A){return(new i.dw).withMeasures(this.mapRolesToValueMetadata(A,F)).createSelectionId()},L.prototype.mapRolesToValueMetadata=function(F,A){var O=[],N=0,w=this.columnReader.hasStaticSeries(),I=this.columnReader.getStaticRoleInfo(A);null==F&&(F=this.columnReader.getAllValueRoles()||[]),w&&I&&O.push(this.columnReader.getValueQueryName(I.roleToUse,I.seriesIndexToUse));for(var B=F.length;N<B;N++){var j=F[N];(!I||j!==I.roleToUse||!w)&&O.push.apply(O,this.columnReader.getAllValueQueryNames(j)||[])}return O},L}(),V=t(760868),d=t(129035),S_dynamicLabelValue={objectName:"labels",propertyName:"dynamicLabelValue"},S_dynamicLabelEnabled={objectName:"labels",propertyName:"showDynamicLabels"},S_labelColor={objectName:"labels",propertyName:"color"},S_totalsColor={objectName:"totals",propertyName:"color"},S_categoryLabelsColor={objectName:"categoryLabels",propertyName:"color"},S_labelTitleColor={objectName:"labels",propertyName:"titleColor"},S_labelDetailColor={objectName:"labels",propertyName:"detailColor"},S_dynamicLabelDetail={objectName:"labels",propertyName:"dynamicLabelDetail"},S_dynamicLabelTitle={objectName:"labels",propertyName:"dynamicLabelTitle"},S_leaderLineColor={objectName:"labels",propertyName:"leaderLineColor"};function g(L,F,A){return new C(L,F,A)}var y=function(){function L(F,A){this.objectReader=F,this.dataReader=A}return L.prototype.hasSeriesColor=function(F){var A=F.seriesColor;return null!=A&&A!==F.defaultColor},L.prototype.getLabelFillByCategory=function(F,A){void 0===A&&(A=0);var O=this.objectReader.getCategoryDataObjects(A);if(null!=(null==O?void 0:O[F.objectName])&&null!=F){var N=(0,d.y)(null==O?void 0:O[F.objectName],F.propertyName);if(N)return{color:N,colorSource:"Category"}}},L.prototype.getLabelFillBySeries=function(F,A,O){var N;if(void 0===A&&(A=0),null!=O){var w=this.dataReader.getObjectsBySeries(A,O,F),I=null===(N=null==w?void 0:w.solid)||void 0===N?void 0:N.color;if(I)return{color:I,colorSource:"Intersection"}}},L.prototype.getFill=function(F,A){var O=A.defaultColor,N=A.categoryIndex,w=A.seriesIndex,I=A.seriesColor;return this.hasSeriesColor(A)?{color:I,colorSource:"Series"}:this.getLabelFillBySeries(F,N,w)||this.getLabelFillByCategory(F,N)||{color:O,colorSource:"Default"}},L}(),C=function(){return function(F,A,O){this.columnReader=F,this.objectReader=A,this.dataReader=O,this.dynamicLabelReader=new E(F,A,O),this.labelFillColorReader=new M(A,O),this.leaderLineColorReader=new P(A,O)}}(),E=function(){function L(F,A,O){var N=this;this.columnReader=F,this.objectReader=A,this.dataReader=O,this.enabledPropertyId=S_dynamicLabelEnabled,this.memoizedDynamicLabelFormatString=_.memoize(function(w,I){return N.dataReader.getFormatStringForRelatedObject(w,I)},function(w,I){return"".concat(I).concat(w.objectName).concat(w.propertyName)})}return L.prototype.isDynamicLabelEnabled=function(F){var A=this.objectReader.getValueMetadataObjectsBySeries(F);return(0,c.NA)(A,this.enabledPropertyId,!1)},L.prototype.isDynamicLabelValueEnabled=function(F,A){return void 0===A&&(A=!1),this.isDynamicLabelEnabledForPropertyId(S_dynamicLabelValue,F,A)},L.prototype.isDynamicLabelDetailEnabled=function(F,A){return this.isDynamicLabelEnabledForPropertyId(S_dynamicLabelDetail,F,A)},L.prototype.isDynamicLabelTitleEnabled=function(F,A){return this.isDynamicLabelEnabledForPropertyId(S_dynamicLabelTitle,F,A)},L.prototype.getDynamicLabelValueType=function(F){return void 0===F&&(F=0),this.getDynamicLabelType(S_dynamicLabelValue,F)},L.prototype.getDynamicLabelDetailType=function(F){return void 0===F&&(F=0),this.getDynamicLabelType(S_dynamicLabelDetail,F)},L.prototype.getDynamicLabelTitleType=function(F){return void 0===F&&(F=0),this.getDynamicLabelType(S_dynamicLabelTitle,F)},L.prototype.getLabelFieldSourceTypes=function(F){var A=this.getDynamicLabelDetailType(F),O=this.getDynamicLabelValueType(F),N=this.getDynamicLabelTitleType(F),w=function(B){return B?B.bool||B.numeric?V.S.number:B.text?V.S.text:B.dateTime?V.S.DateTime:V.S.variant:V.S.variant};return{detailFieldSourceType:w(A),valueFieldSourceType:w(O),titleFieldSourceType:w(N)}},L.prototype.areDynamicValueLabelsEnabled=function(F,A,O){return F?{titleEnabled:this.isDynamicLabelTitleEnabled(A,O),valueEnabled:this.isDynamicLabelValueEnabled(A,O),detailEnabled:this.isDynamicLabelDetailEnabled(A,O)}:{titleEnabled:!1,valueEnabled:!1,detailEnabled:!1}},L.prototype.getDynamicLabel=function(F){var A=F.valuePropertyId,O=F.hasHighlights,N=F.categoryIndex,w=F.seriesIndex,I=F.enabled,B=F.dynamicLabelFormatString,j=null!=I?I:this.isDynamicLabelEnabled(w);if(j){var W=this.getDynamicLabelValue(O,A,N,w);if(W){var U=B||this.getDynamicLabelFormatString(A,w);return(0,n.__assign)((0,n.__assign)({},W),{formatString:U,enabled:!0})}}return{value:void 0,enabled:j,source:"Default"}},L.prototype.getDynamicLabelFormatString=function(F,A){void 0===A&&(A=0);var O=this.columnReader.getValueMetadataColumnBySeries(A).queryName;return this.memoizedDynamicLabelFormatString(F,O)},L.prototype.getDynamicLabelType=function(F,A){var O,N;void 0===A&&(A=0);var w=null===(O=this.columnReader.getValueMetadataColumnBySeries(A))||void 0===O?void 0:O.queryName;return null===(N=this.dataReader.getMetadataColumnMatchingRelatedObject(F,w))||void 0===N?void 0:N.type},L.prototype.getDynamicLabelValue=function(F,A,O,N){return void 0===F&&(F=!1),void 0===O&&(O=0),void 0===N&&(N=0),this.getDynamicLabelBySeries(F,A,O,N)||this.getDynamicLabelByCategory(F,A,O)},L.prototype.getDynamicLabelBySeries=function(F,A,O,N){if(void 0===O&&(O=0),null!=N){var w=this.dataReader.getObjectsBySeries(O,N,A,F);if(null!=w)return{value:w,source:"Intersection"}}},L.prototype.isDynamicLabelEnabledForPropertyId=function(F,A,O){var N;void 0===O&&(O=!1);for(var w=this.dataReader.getCategoryCount(),I=0;I<=w;I++){if((this.columnReader.hasDynamicSeries()||this.columnReader.hasStaticSeries())&&this.dataReader.hasProperty(I,A,F,O))return!0;var j=O?this.objectReader.getCategoryHighlightObjects(I):this.objectReader.getCategoryDataObjects(I);if(null!==(N=null==j?void 0:j.labels)&&void 0!==N&&N.hasOwnProperty(F.propertyName))return!0}return!1},L.prototype.getDynamicLabelByCategory=function(F,A,O){void 0===O&&(O=0);var N=F?this.objectReader.getCategoryHighlightObjects(O):this.objectReader.getCategoryDataObjects(O),w=(0,d.N)(null==N?void 0:N.labels,A.propertyName);if(null!=w)return{value:w,source:"Category"}},L}(),M=function(L){function F(){return null!==L&&L.apply(this,arguments)||this}return(0,n.__extends)(F,L),F.prototype.getDataLabelFillColor=function(A){return this.getFill(S_labelColor,A)},F.prototype.getDataLabelTitleFillColor=function(A){return this.getFill(S_labelTitleColor,A)},F.prototype.getDataLabelDetailFillColor=function(A){return this.getFill(S_labelDetailColor,A)},F.prototype.getCategoryLabelFillColor=function(A){return this.getFill(S_categoryLabelsColor,A)},F.prototype.getTotalLabelFillColor=function(A){return this.getFill(S_totalsColor,A)},F}(y),P=function(L){function F(){return null!==L&&L.apply(this,arguments)||this}return(0,n.__extends)(F,L),F.prototype.getLeaderLineFillColor=function(A){return this.getFill(S_leaderLineColor,A)},F}(y);function T(L,F){return new x(L,F)}var x=function(){function L(F,A){this.columnReader=F,this.staticObjects=F.getStaticObjects(),A&&(this.staticSeriesRoleNames=A.staticSeriesRoleNames)}return L.prototype.getStaticObjects=function(){return this.staticObjects},L.prototype.getCategoryMetadataObjects=function(F){var A=this.columnReader.getCategoryColumn(F);if(A)return A.source.objects},L.prototype.getAllCategoryMetadataObjectsForRole=function(F){var A=this.columnReader.getAllCategoryColumns(F);if(A)return _.map(A,function(O){return O.source.objects})},L.prototype.getCategoryDataObjects=function(F){var A=this.columnReader.getCategoryColumn();if(A&&A.objects)return A.objects[F]},L.prototype.getCategoryHighlightObjects=function(F){var A=this.columnReader.getCategoryColumn();if(A&&A.highlightObjects)return A.highlightObjects[F]},L.prototype.getValueMetadataObjects=function(F,A){var O=this;e.fF.assert(function(){return!(_.some(O.staticSeriesRoleNames,function(w){return w===F})&&null==A)},"getValueMetadataObjects requires a seriesIndex when called on a static series role");var N=this.columnReader.getValueMetadataColumn(F,A);if(N)return N.objects},L.prototype.getValueMetadataObjectsBySeries=function(F){var A=this.columnReader.getStaticRoleInfo(F);return this.getValueMetadataObjects(A.roleToUse,A.seriesIndexToUse)},L.prototype.getAllValueMetadataObjectsForRole=function(F){var A=this;e.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(N){return N===F})},"getAllValueMetadataObjectsForRole should not be called a the static series role.  Use getValueMetadataObjects with a seriesIndex.");var O=this.columnReader.getAllValueMetadataColumnsForRole(F);return _.map(O,function(N){return N.objects})},L.prototype.getSeriesMetadataObjects=function(){var F=this;if(e.fF.assert(function(){return F.columnReader.hasDynamicSeries()||F.columnReader.hasStaticSeries()},"getSeriesDataObjects should not be called if there is no series."),this.columnReader.hasDynamicSeries()){var A=this.columnReader.getSeriesMetadataColumn();if(A)return A.objects}},L.prototype.getSeriesDataObjects=function(F){var A;if(this.columnReader.hasDynamicSeries())A=this.columnReader.getSeriesValueColumnGroup(F);else{var O=this.columnReader.getStaticRoleInfo(F);O&&(A=this.columnReader.getValueMetadataColumn(O.roleToUse,O.seriesIndexToUse))}if(A)return A.objects},L.prototype.getCategoryFormatString=function(F){return(0,c.NA)(this.getCategoryMetadataObjects(F),L.StandardFormatStringProp)},L.prototype.getAllCategoryFormatStringsForRole=function(F){return _.map(this.getAllCategoryMetadataObjectsForRole(F),function(A){return(0,c.NA)(A,L.StandardFormatStringProp)})},L.prototype.getValueFormatString=function(F,A){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,function(O){return O===F})||null!=A)return(0,c.NA)(this.getValueMetadataObjects(F,A),L.StandardFormatStringProp);e.fF.assertFail("getValueFormatString requires a seriesIndex when called on a static series role")},L.prototype.getValueFormatStringBySeries=function(F){var A=this.columnReader.getStaticRoleInfo(F);return this.getValueFormatString(A.roleToUse,A.seriesIndexToUse)},L.prototype.getAllValueFormatStringsForRole=function(F){var A=this;e.fF.assert(function(){return!_.some(A.staticSeriesRoleNames,function(N){return N===F})},"getAllValueFormatStringsForRole should not be called with a static series role.  Use getValueFormatString and a seriesIndex.");var O=this.getAllValueMetadataObjectsForRole(F);return _.map(O,function(N){return(0,c.NA)(N,L.StandardFormatStringProp)})},L.prototype.getSeriesFormatString=function(F){if(!this.columnReader.hasStaticSeries()){if(this.columnReader.hasDynamicSeries())return(0,c.NA)(this.getSeriesMetadataObjects(),L.StandardFormatStringProp);e.fF.assertFail("getSeriesFormatString should not be called if you have no series.")}},L.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},L}();function R(L,F){var A=h(L,F),O=o(A,F),N=T(A,F);return{data:O,identities:m(A),objects:N,colors:f(A,N,O,F),labels:g(A,N,O)}}function D(L,F){var A=h(L,F),O=o(A,F),N=T(A,F);return{data:O,identities:m(A),objects:N,colors:f(A,N,O,F),columns:A,labels:g(A,N,O)}}},646225:function(Je,H,t){t.d(H,{l:function(){return e}});var e=function(c){return c[c.Box=0]="Box",c[c.Circle=1]="Circle",c[c.Line=2]="Line",c}({})},611799:function(Je,H,t){t.d(H,{vs:function(){return Zt},hD:function(){return Kt},xw:function(){return rr},Lk:function(){return Fr},PP:function(){return wr},pq:function(){return St},Ue:function(){return Hr},OG:function(){return Tt},Rh:function(){return vr},Fe:function(){return mr},ZF:function(){return $r},tY:function(){return ei},Gh:function(){return zr},tV:function(){return Or},aJ:function(){return Qr},nh:function(){return Ar},xz:function(){return ar},l3:function(){return Zr}});var e=t(226514),c=t(251912),s=t(787941),f=t(299747),v=t(750311),b=t(106266),h=t(569071),p=t(690016),n=t(698129),l=t(448711),r=t(161414),o=t(939523),a=t(298801),i=t(679752),m=t(187810),u=t(549772),V=t(877108),d=t(906298),S=t(452657),g=t(744883),y=t(960990),x=t(453543),R=t(629925),D=(0,R.CH)("previousNavArrow"),L=(0,R.CH)("nextNavArrow"),F=(0,R.CH)("legend"),A=(0,R.CH)("legend-title"),O=(0,R.CH)("legend-item-container"),N=(0,R.CH)("gradient-legend"),w=(0,R.CH)("legend-item"),I=(0,R.CH)("legend-item-svg"),B=(0,R.CH)("legend-icon"),j=(0,R.CH)("legend-icon-line"),W=(0,R.CH)("legend-item-text"),U=g.B.createFromPt(8),k="foregroundNeutralTertiary",Q_fillColor=function(ht,xt,lt){return xt&&!ht.selected?a.v.getThemeColor(lt,k):ht.color},Q_strokeColor=function(ht,xt,lt){var nt,mt;return xt&&!ht.selected?a.v.getThemeColor(lt,k):null!==(mt=null===(nt=ht.border)||void 0===nt?void 0:nt.color)&&void 0!==mt?mt:ht.color},Q_lineStrokeColor=function(ht,xt,lt){return xt&&!ht.selected?a.v.getThemeColor(lt,k):ht.lineColor},Q_opacity=function(ht,xt){return xt&&!ht.selected?x.eU:x.Ko},te=t(14253),ee=t(932178),J=t(520907),re=t(240849),G=t(255647),ne=t(625506),X=t(918537),oe=function(){function ft(){}return ft.prototype.bindEvents=function(ht,xt,lt,nt){this.legendIcons=ht.legendIcons,this.legendLines=ht.legendLines,this.visualStyle=ht.visualStyle;var mt=ht.legendRoot;this.legendItems=ht.legendItems;var gt=ht.clearCatcher;nt?this.unbindEventsFormatMode():((0,X.lt)(mt,xt),mt.on("keydown",function(){var At=d3.event;if(ee.M.noModifierPressed(At)&&27===At.keyCode&&At.target.classList.contains(w.class)){var kt=mt.node();ee.M.focus(kt),At.preventDefault(),At.stopPropagation()}return!1}),this.legendItems.on("click",function(At){return(0,X.c8)(At.dataPoint,xt)}).on("keydown",function(At){var kt=d3.event.keyCode;(32===kt||13===kt)&&(0,X.c8)(At.dataPoint,xt)}),gt&&gt.on("click",function(){ee.M.isCtrlOrMeta(d3.event)||xt.handleClearSelection()}))},ft.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},ft.prototype.renderSelection=function(ht){var xt=this;this.legendIcons.styles({fill:function(nt){return Q_fillColor(nt.dataPoint,ht,xt.visualStyle)},stroke:function(nt){return Q_strokeColor(nt.dataPoint,ht,xt.visualStyle)}}),this.legendLines.styles({stroke:function(nt){return Q_lineStrokeColor(nt.dataPoint,ht,xt.visualStyle)}}),this.legendItems.attrs({"aria-selected":function(nt){return ht&&nt.dataPoint.selected}}),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(nt){return Q_opacity(nt.dataPoint,ht)},"stroke-opacity":function(nt){return Q_opacity(nt.dataPoint,ht)}}),this.legendLines.styles({"stroke-opacity":function(nt){return Q_opacity(nt.dataPoint,ht)}}))},ft}(),Ve=t(403451),Te=t(669780),Qe=t(315552),He=t(306310);function Ce(ft){var ht=ft.data,xt=ft.parentViewport,lt=ft.interactivityService,nt=ft.orientation,mt=ft.legendDataStartIndex,gt=ft.hostService,At=ft.showTitlePlaceholder,kt=ft.element,Ht=ht.fontProperties,nr=(0,Te.XZ)(Ht),lr=(0,Te.dx)(ht),dr=function(ft){var ht=ft.data;if(!(0,Te.dx)(ht))return{height:0,width:0};switch(ft.orientation){case Te.tV.Top:case Te.tV.Bottom:case Te.tV.TopCenter:case Te.tV.BottomCenter:case Te.tV.TopRight:case Te.tV.BottomRight:return{height:(ht&&ht.fontProperties?ht.fontProperties.size.px:J.FP.fromPointToPixel(U.pt))-U.pt+24,width:0};case Te.tV.Right:case Te.tV.Left:case Te.tV.RightCenter:case Te.tV.LeftCenter:return{height:0,width:ft.lastCalculatedWidth?ft.lastCalculatedWidth:ft.parentViewport.width*rt};default:s.fF.assertFail("Unexpected legend position - calculateViewport")}}({data:ht,lastCalculatedWidth:ft.lastCalculatedWidth,orientation:nt,parentViewport:xt}),fr=ht&&void 0!==ht.fontProperties?ht.fontProperties.size.px:J.FP.fromPointToPixel(U.pt),Pr=fr-Ue,yr=ht.showTitle&&!ht.isGradientLegend?ut({hostServices:ft.hostService,fontProperties:Ht,legendFontSizeMarginDifference:Pr,legendFontSizeMarginValue:fr,parentViewport:xt,orientation:nt,viewport:dr,title:ht.title,showTitlePlaceholder:At}):null,Rr=te.b.estimateSvgTextHeight((0,m.qk)(Ht))/Ze;(fr<=Ue||Rr<Oe)&&(Rr=Oe);var Mt=Pr/Ze,pt=2*(Rr+Mt),se=Ee+2*Mt,Z=Le+Mt,Ye=lt&&(0,Qe.G6)(ht.dataPoints),vt=(0,Te.s0)(nt)?dr.height:20+Pr,Ft=ve({fontProperties:Ht,drawOptions:ft,navigationArrows:{previous:null,next:null},titleLayout:yr,iconWidth:pt,iconAndLineWidth:se,svgHeight:vt,totalTextPadding:Z}),ir=Ft.legendItems,Cr=Ft.verticalLegendWidth,Et=Ft.horizontalLegendWidth,qe=function(ft){var ht=ft.drawOptions,xt=ft.titleLayout,lt=ft.legendViewport,nt=ft.legendItems,mt=ft.drawOptions,At=mt.parentViewport,kt=mt.data,Ht=mt.legendDataStartIndex,nr={next:void 0,previous:void 0};ht.isScrollable&&(nr=(0,Te.s0)(mt.orientation)?function(ft,ht,xt,lt){var dr,nt=Re,mt=Ge,gt=xt.height/2-nt/2,At={previous:void 0,next:void 0},kt=ft?ft.x+ft.width:0,Ht=(0,h.AD)(mt,nt,180),nr=(0,h.AD)(mt,nt,0),lr=0;return lt.useLargeArrowHitArea&&(lr=he_Horizontal.arrowsOffset,dr=he_Horizontal.hitAreaWidthPx),At.previous={x:kt,y:gt,path:Ht.path,rotateTransform:Ht.transform,type:1,arrowOffset:lr||0,hitAreaWidth:dr||10},At.next={x:ht.width-mt,y:gt,path:nr.path,rotateTransform:nr.transform,type:0,arrowOffset:lr||0,hitAreaWidth:dr||10},At}(xt,At,lt,kt):function(ft,ht,xt,lt){var fr,nt=Re,mt=Ge,At={previous:void 0,next:void 0},kt=xt.height/2+nt/2,Ht=(0,h.AD)(mt,nt,270),nr=(0,h.AD)(mt,nt,90),dr=0;return lt.useLargeArrowHitArea&&(dr=he_Vertical.arrowsOffset,fr=he_Vertical.hitAreaWidthPx),At.previous={x:kt,y:mt+(ft?ft.height:0),path:Ht.path,rotateTransform:Ht.transform,type:1,arrowOffset:dr,hitAreaWidth:fr},At.next={x:kt,y:ht.height-nt,path:nr.path,rotateTransform:nr.transform,type:0,arrowOffset:dr,hitAreaWidth:fr},At}(xt,At,lt,kt));var dr,fr,lr=je(nr,kt.dataPoints.length-Ht,nt.length,Ht,ht.arrowPosWindow);if(nr.previous||nr.next){var Pr=ve({fontProperties:kt.fontProperties,drawOptions:ht,navigationArrows:nr,titleLayout:xt,iconWidth:ft.iconWidth,iconAndLineWidth:ft.iconAndLineWidth,svgHeight:ft.svgHeight,totalTextPadding:ft.totalTextPadding});lr=je(nr,kt.dataPoints.length-Ht,(fr=Pr.legendItems).length,Ht,ht.arrowPosWindow),dr=Pr.horizontalLegendWidth}return{navigationArrows:nr,arrowPosWindow:lr,newLegendItems:fr,horizontalLegendWidth:dr}}({drawOptions:ft,legendViewport:dr,legendItems:ir,titleLayout:yr,iconWidth:pt,iconAndLineWidth:se,svgHeight:vt,totalTextPadding:Z}),Pt=qe.navigationArrows,Nt=qe.arrowPosWindow;qe.newLegendItems&&(ir=qe.newLegendItems),null!=Cr&&(dr.width=Cr),yr&&Cr&&Cr>yr.width&&(yr=ht.showTitle?ut({hostServices:ft.hostService,fontProperties:Ht,legendFontSizeMarginDifference:Pr,legendFontSizeMarginValue:fr,parentViewport:xt,orientation:nt,viewport:dr,title:ht.title,showTitlePlaceholder:At}):null);var jt=(0,Te.s0)(nt),Xt=!jt,Ae=(0,Te.EH)(nt),tt=(0,Te.Ok)(nt),ct=(0,Te.F3)(nt),bt=kt.select(F.selector),Dt=gt?gt.getLocalizedString("Visual_Legend"):null;lr?(bt.empty()&&(bt=kt.append("div").classed(F.class,!0).styles({position:"absolute"}),lt&&bt.attrs({tabindex:0,role:"region","focus-nav-mode":"HierarchicalTabOrder","aria-label":null==Dt?void 0:Dt.concat(ht.showTitle&&ht.title?" ".concat(ht.title):"")}).attr("data-testid","legend")),bt.classed("flex-row",jt).classed("flex-column",Xt).classed("flex-justify-content-center",Ae).classed("flex-justify-content-start",ct).classed("flex-justify-content-end",tt).classed("flex-align-items-center",jt&&!ht.isGradientLegend).classed("flex-align-items-start",Xt||ht.isGradientLegend).styles({"padding-top":ht.isGradientLegend?"3px":"null"}),lt&&bt.attrs({"aria-label":null==Dt?void 0:Dt.concat(ht.showTitle&&ht.title?" ".concat(ht.title):"")})):bt.remove();var Rt=bt.select(N.selector).empty();(ht.isGradientLegend?Rt:!Rt)&&bt.selectAll("*").remove();var Ut=bt.select(".clearCatcher");if(Ut.empty()&&(Ut=(0,Qe.EX)(bt,"div")),Ut.style("position","absolute").style("width","100%").style("height","100%"),ft.formatMode?(0,Qe.kA)(bt,"div"):(0,Qe.ku)(bt,"div"),$e(dr,ft.orientation,bt,lr,xt),!lr)return{width:0,height:0};var $t=bt.select(O.selector);if($t.empty()&&($t=bt.append("div").classed(O.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),$t.classed("flex-grow",!(!Pt.next&&!Pt.previous)).classed("flex-row",jt).classed("flex-column",Xt).classed("flex-align-items-center",jt).classed("flex-align-items-start",Xt).classed(N.class,ht.isGradientLegend).attr("width",Et).attr("role","listbox").attr("aria-label",function(){return ft.hostService&&yr&&yr.text?yr.text:ft.hostService?Dt:null}),ft.onObject&&$t.classed(ne.cy,!0).attr(ne.Ez,"legend-items").attr(ne.CK,"Visual_Legend").attr(ne.QZ,1),ft.data.isGradientLegend)!function(ft,ht,xt,lt,nt,mt){var fr,Rr,Mt,gt=ft.data.gradientRule.options.linearGradient2?ft.data.gradientRule.options.linearGradient2:ft.data.gradientRule.options.linearGradient3,At=ft.data.fontProperties,kt=At.size.px,nr=0,lr=(0,l.Ue)({value:gt.min.value,value2:gt.max.value,format:(0,l.EO)(ft.data.gradientRule.source,Ve.e0.formatString)}),dr=(0,m.qk)(At),Pr=lr.format(gt.min.value),yr={width:te.b.measureSvgTextWidth(dr,Pr),height:te.b.measureSvgTextHeight(dr,Pr)};fr=ft.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+Pr+", ",Pe(gt)&&(Rr=lr.format(gt.mid.value),Mt={width:te.b.measureSvgTextWidth(dr,Rr),height:te.b.measureSvgTextHeight(dr,Rr)},fr+=ft.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+Rr+", ");var pt=lr.format(gt.max.value),se={width:te.b.measureSvgTextWidth(dr,pt),height:te.b.measureSvgTextHeight(dr,pt)};fr+=ft.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+pt;var jt,Ae,tt,ct,bt,Z=1.5,qe=.5*ft.parentViewport.width,Pt=.25*kt,Nt=kt*Z,Xt=Nt,Dt=[];if(ht){Ae=yr.width+Pt+(jt=6*kt)+Pt+se.width,tt=Nt+Pt,nr=It=Nt/2,bt=[{text:Pr,text_anchor:"start",x:0,y:It,width:yr.width,height:Xt},{text:pt,text_anchor:"start",x:Rt=yr.width+Pt+jt+Pt,y:It,width:se.width,height:Xt}];var Ut=yr.width+Pt;if(ct=[{fill:"url(#legendGradient-".concat(ft.hostService.instanceId,")"),fill_opacity:"1",x:Ut,y:0,width:jt,height:Nt}],Pe(gt)){tt+=1.25*kt;var $t=ue(gt);bt.splice(1,0,{text:Rr,text_anchor:"middle",x:Ut+$t*jt,y:Nt+Pt+kt/2,width:Mt.width,height:Xt}),Dt=[{x1:Ut+$t*jt,x2:Ut+$t*jt,y1:0,y2:Nt+Pt,stroke:At.color?At.color:ft.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(jt=Pe(gt)?6*kt:10*kt,(Ae=Pe(gt)?yr.width+Pt+jt+Pt+se.width:jt+Pt)>qe){tt=qe;var cr=function(ft,ht,xt,lt,nt,mt,gt,At){var kt,Ht;return gt?(kt=.6*(Ht=ft-2*At),mt.text=xt,xt=te.b.getTailoredTextOrDefault(mt,.2*Ht),ht.width=te.b.measureSvgTextWidth(mt,xt),mt.text=nt,nt=te.b.getTailoredTextOrDefault(mt,.2*Ht),lt.width=te.b.measureSvgTextWidth(mt,nt)):(kt=Ht=ft-At,mt.text=xt,xt=te.b.getTailoredTextOrDefault(mt,kt/2),ht.width=te.b.measureSvgTextWidth(mt,xt),mt.text=nt,nt=te.b.getTailoredTextOrDefault(mt,kt/2),lt.width=te.b.measureSvgTextWidth(mt,nt)),{gradientWidth:kt,minValueString:xt,minValueWidth:ht.width,maxValueString:nt,maxValueWidth:lt.width}}(qe,yr,Pr,se,pt,dr,Pe(gt),Pt);jt=cr.gradientWidth,Pr=cr.minValueString,yr.width=cr.minValueWidth,pt=cr.maxValueString,se.width=cr.maxValueWidth}if(Pe(gt)){Ae=yr.width+Pt+jt+Pt+se.width,tt=8+3*kt;var It=8+Nt/2,Rt=yr.width+Pt+jt+Pt;$t=ue(gt),bt=[{text:Pr,text_anchor:"start",x:0,y:It,width:yr.width,height:Xt},{text:Rr,text_anchor:"middle",x:(Ut=yr.width+Pt)+$t*jt,y:8+Nt+Pt+kt/2,width:Mt.width,height:Xt},{text:pt,text_anchor:"start",x:Rt,y:It,width:se.width,height:Xt}],Dt=[{x1:Ut+$t*jt,x2:Ut+$t*jt,y1:8,y2:8+Nt+Pt,stroke:At.color?At.color:ft.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],ct=[{fill:"url(#legendGradient-".concat(ft.hostService.instanceId,")"),fill_opacity:"1",x:Ut,y:8,width:jt,height:Nt}]}else tt=16+3*kt,bt=[{text:Pr,text_anchor:"start",x:0,y:It=16+2*kt,width:(Ae=jt+Pt)/2,height:Xt},{text:pt,text_anchor:"start",x:Ae-Pt-se.width,y:It,width:Ae/2,height:Xt}],ct=[{fill:"url(#legendGradient-".concat(ft.hostService.instanceId,")"),fill_opacity:"1",x:0,y:8,width:jt,height:Nt}]}xt.height=ht?Math.max(xt.height,tt):xt.height,xt.width=ht?xt.width:Math.max(xt.width,Ae)+ye,$e(xt,ft.orientation,nt,mt,ft.parentViewport,!0),function(ft,ht,xt,lt,nt,mt,gt){var Ht,nr,At=(0,m.qk)((0,Te.XZ)(ft.data.fontProperties),ft.data.title),kt=[];if(ht)kt=[{dy:"0.35em",word:(Ht=[te.b.getTailoredTextOrDefault(At,ft.parentViewport.width-xt.width-Y/2-2*ye)])[0]}],nr={height:xt.height,width:te.b.measureSvgTextWidth(At,Ht[0])};else{var dr=te.b.measureSvgTextHeight(At,ft.data.title),Pr=Math.min(3,Math.floor((ft.parentViewport.height-xt.height-8-2*ye)/dr));Ht=(0,re.ql)(ft.data.title,At,te.b.measureSvgTextWidth,xt.width,Pr,te.b.getTailoredTextOrDefault,!0);for(var yr=0;yr<Ht.length;yr++)kt.push({dy:String(dr),word:Ht[yr]});nr={height:(Ht.length+.5)*dr,width:xt.width}}var Rr=ft.data.showTitle&&!_.isEmpty(ft.data.title)?[0]:[],Mt=lt.selectAll(A.selector).data(Rr),pt=Mt.enter().append("svg").classed(A.class,!0).merge(Mt);pt.attr("height",nr.height).attr("width",nr.width).styles({"padding-right":Y/2+"px"});var se=pt.selectAll("text").data([0]),Z=se.enter().append("text").merge(se);Z.classed("flex-order-first",!0).styles((0,m.wB)((0,Te.XZ)(ft.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",ft.data.fontProperties.color).attr("title",function(Ft){return ft.data.title}).attr("x",0).attr("y",mt).text(null);var Ye=Z.selectAll("tspan").data(kt);Ye.enter().append("tspan").merge(Ye).attr("dy",function(Ft){return Ft.dy}).attr("x",function(Ft){return 0}).text(function(Ft){return Ft.word}),Ye.exit().remove(),se.exit().remove(),Mt.exit().remove()}(ft,ht,{height:tt,width:Ae},nt,0,nr);var _r=function(ft,ht,xt,lt,nt){var mt=ht.selectAll("svg").data(ft),gt=mt.enter().append("svg").merge(mt);gt.attr("width",function(fr){return fr.width}).attr("height",function(fr){return fr.height}).attrs({tabindex:0,"aria-label":nt});var At=gt.selectAll("defs").data([0]),kt=At.enter().append("defs").merge(At);kt.append("linearGradient").attr("id",lt);var Ht=[{stop:0,color:xt.min.color},{stop:1,color:xt.max.color}];if(Pe(xt)){var nr=ue(xt);Ht.splice(1,0,{stop:nr,color:xt.mid.color})}var lr=kt.select("linearGradient").selectAll("stop").data(Ht,function(fr){return fr.stop.toString()}),dr=lr.enter().append("stop").merge(lr);return dr.attr("stop-color",function(fr){return fr.color}).attr("offset",function(fr){return fr.stop}),dr.order(),lr.exit().remove(),gt}([{width:Ae,height:tt}],lt,gt,"legendGradient-".concat(ft.hostService.instanceId),fr);(function(ft,ht,xt){var lt=ht.selectAll("g.rect").data([0]),nt=lt.enter().append("g").classed("rect",!0).merge(lt),mt=nt.selectAll("rect").data(ft);mt.enter().append("rect").merge(mt).attr("fill",function(At){return At.fill}).attr("fill-opacity",function(At){return At.fill_opacity}).attr("x",function(At){return At.x}).attr("y",function(At){return At.y}).attr("width",function(At){return At.width}).attr("height",function(At){return At.height}),function(ft,ht){var xt=ft.selectAll("line").data(ht);xt.enter().append("line").merge(xt).attr("x1",function(nt){return nt.x1}).attr("x2",function(nt){return nt.x2}).attr("y1",function(nt){return nt.y1}).attr("y2",function(nt){return nt.y2}).styles({stroke:function(mt){return mt.stroke}}).styles({"stroke-width":function(mt){return mt.stroke_width}}),xt.exit().remove()}(nt,xt)})(ct,_r,Dt),function(ft,ht,xt){var lt=ht.selectAll("g.text").data([0]),mt=lt.enter().append("g").classed("text",!0).merge(lt).selectAll("text").data(ft),gt=mt.enter().append("text").merge(mt);gt.text(function(Ht){return Ht.text}).attr("text-anchor",function(Ht){return Ht.text_anchor}).attr("x",function(Ht){return Ht.x}).attr("y",function(Ht){return Ht.y}).attr("width",function(Ht){return Ht.width}).attr("dy","0.35em").attr("height",function(Ht){return Ht.height}).styles((0,m.E_)(xt));var At=gt.selectAll("title").data(function(Ht){return[Ht.text]});At.enter().append("title").merge(At).text(function(Ht){return Ht}),At.exit().remove(),mt.exit().remove()}(bt,_r,At)}(ft,jt,dr,$t,bt,lr);else{var Ot=bt.selectAll(A.selector).data(yr?[yr]:[]),tr=Ot.enter().insert("text",".clearCatcher").classed(A.class,!0).merge(Ot);tr.text(function(Ct){return Ct.text}).classed("flex-order-first",!0).styles((0,m.wB)(nr)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":Y/2+"px",position:"relative"}).attr("title",function(Ct){return ht.title}),ft.onObject&&(tr.classed(ne.cy,!0).classed(ne.Qh.class,null==yr?void 0:yr.isPlaceholder).attr(ne.Ez,"legend-title").attr(ne.CK,"MiniToolbar_LegendTitle").attr(ne.QZ,0),(ft.formatMode||At)&&ft.titleSliceUid)&&tr.attr(ne.kv,JSON.stringify({reference:{cardUid:void 0,sliceUid:ft.titleSliceUid},style:3})),Ot.exit().remove();var pr=function(Bt){return Bt.dataPoint.identity.getKey()+(null!=Bt.dataPoint.layerNumber?Bt.dataPoint.layerNumber:"")},_r=$t.selectAll(w.selector).data(_.uniqBy(ir,pr),pr),Ur=_r.enter().append("div").classed(w.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");lt&&Ur.attr("tabindex",0).attr("data-testid","legend-item");var Lr=gt?gt.getLocalizedString("NullValue"):null,Wr=Ur.merge(_r);Wr.attr("aria-label",function(Ct){return ft.hostService?Ct.dataPoint.label?Ct.dataPoint.label:Lr:null}).attr("aria-selected",function(Ct){return Ye&&Ct.dataPoint.selected}).attr("aria-posinset",function(Ct){return Ct.dataPoint.index+1}).attr("aria-setsize",ht.dataPoints.length),Wr.sort(function(Ct,Bt){var st=Ct.dataPoint,Lt=Bt.dataPoint;if(null!=st.layerNumber){s.fF.assertValue(Lt.layerNumber,"Both datapoints should have a layerNumber");var Vt=st.layerNumber-Lt.layerNumber;if(0!==Vt)return Vt}return st.index-Lt.index}),_r.exit().remove();var Br=Ur.append("svg").classed(I.class,!0);Br.append("path").classed(j.class,!0),Br.append("path").classed(B.class,!0),Ur.append("text").classed(W.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),Wr.select(I.selector).attrs({height:vt,width:function(Bt){return Bt.dataPoint.lineStyle?se:pt}});var ti=Wr.select(j.selector);ti.attrs({transform:(0,h.Iu)(Ee/2,vt*De),d:function(Bt){return Bt.dataPoint.lineStyle?"M -".concat(Ee/2," 0 L ").concat(Ee/2," 0"):null},"stroke-width":2,fill:"none","stroke-dasharray":function(Bt){return Bt.dataPoint.lineStyle?(0,G.XG)(Bt.dataPoint.lineStyle):null}}).styles({stroke:function(Bt){return Q_lineStrokeColor(Bt.dataPoint,Ye,ft.visualStyle)}});var Qt=Wr.select(B.selector);if(Qt.attrs({transform:function(Bt){return(0,h.aI)((Bt.dataPoint.lineStyle?se:pt)/2,vt*De,Rr/u.UI)},d:function(Bt){return(0,u.DW)(Bt.dataPoint.markerShape||He.Xw)},"stroke-width":function(Bt){return(0,u.F)(Bt.dataPoint.markerShape||He.Xw)}}).styles({fill:function(Bt){return Q_fillColor(Bt.dataPoint,Ye,ft.visualStyle)},stroke:function(Bt){return Q_strokeColor(Bt.dataPoint,Ye,ft.visualStyle)},"stroke-linejoin":"round"}).append("title").text(function(Ct){return Ct.dataPoint.label}),Wr.select(W.selector).text(function(Ct){return Ct.textProperties.text}).styles((0,e.__assign)((0,e.__assign)({},Ht&&(0,m.wB)(Ht)),{"padding-left":Xe+"px","padding-right":Z-Xe+"px"})).attr("title",function(Ct){return Ct.dataPoint.label}),We({navigationArrow:Pt.previous,arrowPosWindow:Nt,arrowClassAndSelector:D,legend:bt,legendDataStartIndex:mt,rerenderCallback:ft.rerenderCallback,useLargeArrowHitArea:ht.useLargeArrowHitArea,verticalLegendWidth:(0,Te.s0)(nt)?void 0:dr.width,isTabbable:!!lt,hostService:ft.hostService}),We({navigationArrow:Pt.next,arrowPosWindow:Nt,arrowClassAndSelector:L,legend:bt,legendDataStartIndex:mt,rerenderCallback:ft.rerenderCallback,useLargeArrowHitArea:ht.useLargeArrowHitArea,verticalLegendWidth:(0,Te.s0)(nt)?void 0:dr.width,isTabbable:!!lt,hostService:ft.hostService}),lt){var Me={legendRoot:bt,legendItems:Wr,legendIcons:Qt,legendLines:ti,clearCatcher:Ut,visualStyle:ft.visualStyle};lt.bind(ht.dataPoints,new oe,Me,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:ft.isHierarchicalAxis,formatMode:ft.formatMode})}}return dr}function Pe(ft){return void 0!==ft.mid}function ue(ft){return ft.min.value===ft.max.value?.5:(ft.mid.value-ft.min.value)/(ft.max.value-ft.min.value)}function ve(ft){var ht,xt=ft.drawOptions.parentViewport,lt=ft.drawOptions.data,nt=ft.drawOptions.legendDataStartIndex,mt=ft.titleLayout,gt=ft.navigationArrows,At=ft.iconWidth,kt=ft.iconAndLineWidth,Ht=_.some(lt.dataPoints,function(Mt){return Mt.lineStyle}),nr=ft.drawOptions.autoWidth?ft.drawOptions.parentViewport.width*rt:ft.drawOptions.lastCalculatedWidth,lr=lt.dataPoints;if((0,Te.s0)(ft.drawOptions.orientation)){var dr=xt.width-(mt?mt.width:0)-(gt.previous&&gt.previous.hitAreaWidth||0)-(gt.next&&gt.next.hitAreaWidth||0);return ht=function(ft,ht,xt,lt,nt,mt,gt){for(var At=ht,kt=[],Ht=xt,nr=ft.length;Ht<nr;Ht++){var lr=ft[Ht],dr=ie(kt,lr,lt,lr.lineStyle?mt:nt,At,gt);if(At=dr.newRemainingWidth,!dr.fit)break}for(var fr=_.filter(kt,function(Ft){return Ft.desiredOverMaxWidth}),Pr=At;At>0&&fr.length>0;){for(Ht=0;Ht<fr.length;){var Rr=fr[Ht],Mt=Rr.width,pt=Mt+At/fr.length;if(pt>Rr.desiredWidth)Rr.textProperties.text=Rr.dataPoint.label,Rr.width=Rr.desiredWidth,Rr.desiredOverMaxWidth=!1,fr.splice(Ht,1),At-=Rr.width-Mt;else{var se=fr[Ht].textProperties,Z=se.text;se.text=Rr.dataPoint.label;var Ye=te.b.getTailoredTextOrDefault(se,pt);if(Z===Ye)se.text=Z;else{se.text=Ye;var vt=te.b.measureSvgTextWidth(se,Ye);Rr.width=vt,At-=Rr.width-Mt}Ht++}}if(Pr===At)break;Pr=At}return kt}(lr,dr,nt,ft.fontProperties,At,kt,ft.totalTextPadding),{legendItems:ht,horizontalLegendWidth:dr}}var yr=function(ft){for(var ht=ft.dataPoints,xt=ft.maxHorizontalSpaceAvaliable,lt=ft.fontProperties,nt=ft.legendDataStartIndex,mt=[],gt=Math.min(Math.floor(ft.legendItemContainerHeight/ft.legendItemHeight),ht.length),At=ft.titleWidth||0,kt=0,Ht=ht.length;kt<Ht;kt++){var nr=ht[kt],lr=(0,m.qk)(lt,nr.label),dr=te.b.measureSvgTextWidth(lr);if(dr>At&&(At=Math.min(dr,xt)),kt>=nt&&kt<nt+gt){var fr=dr;if(fr>xt){var Pr=te.b.getTailoredTextOrDefault(lr,xt);lr.text=Pr,dr=te.b.measureSvgTextWidth(lr)}mt.push({dataPoint:nr,desiredOverMaxWidth:dr>xt,textProperties:lr,desiredWidth:fr,width:dr})}}return{legendItems:mt,horizontalWidthUsed:At}}({dataPoints:lr,legendItemContainerHeight:xt.height-(mt?mt.height:0)-(gt.previous?Re:0)-(gt.next?Re:0),maxHorizontalSpaceAvaliable:nr-(Ht?kt:At)-ye,legendDataStartIndex:nt,fontProperties:ft.fontProperties,titleWidth:mt?mt.width:void 0,legendItemHeight:ft.svgHeight});ht=yr.legendItems;var Rr=ft.drawOptions.lastCalculatedWidth;return ft.drawOptions.autoWidth&&(Rr=Math.ceil(yr.horizontalWidthUsed+(Ht?kt:At)+ye)),{legendItems:ht,verticalLegendWidth:Rr}}function ie(ft,ht,xt,lt,nt,mt){var gt=(0,m.qk)(xt,ht.label),At=te.b.measureSvgTextWidth(gt),kt=At,Ht=!1;if(kt>K){Ht=!0;var nr=te.b.getTailoredTextOrDefault(gt,K);gt=(0,m.qk)(xt,nr),kt=te.b.measureSvgTextWidth(gt)}var lr=nt-(kt+lt+mt);return lr<0?{newRemainingWidth:nt,fit:!1}:(ft.push({dataPoint:ht,textProperties:gt,width:kt,desiredWidth:At,desiredOverMaxWidth:Ht}),{newRemainingWidth:lr,fit:!0})}function We(ft){var ht=ft.legendDataStartIndex,xt=ft.arrowPosWindow,lt=ft.useLargeArrowHitArea,nt=ft.verticalLegendWidth,mt=ft.isTabbable,gt=ft.navigationArrow,kt=ft.arrowClassAndSelector,nr=nt?nt+et:lt?gt?gt.hitAreaWidth:Ge:Ge+et,lr=ft.legend.selectAll(kt.selector).data(gt?[gt]:[]),dr=lr.enter().append("svg").classed(kt.class,!0).style("position","relative").merge(lr);mt&&dr.attrs({tabindex:0,focusable:!0}).on("keydown",function(yr){var Rr=d3.event,Mt=Rr.keyCode;if(32===Mt||13===Mt){Rr.stopPropagation(),ft.rerenderCallback(gt.type,ht,xt);var se=ft.legend.selectAll(w.selector+(1===gt.type?":last-child":":first-child")).node();se&&ee.M.focus(se)}}),dr.classed("flex-order-second",gt&&1===gt.type).classed("flex-order-fourth",gt&&0===gt.type).attrs({width:nr,height:Re,role:"button","aria-label":function(Rr){return ft.hostService?ft.arrowClassAndSelector.class===L.class?ft.hostService.getLocalizedString("Next_ButtonText"):ft.arrowClassAndSelector.class===D.class?ft.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(yr){ft.rerenderCallback(gt.type,ht,xt)}),lr.exit().remove();var fr=dr.selectAll(".navArrow").data(function(yr){return function(ft,ht){var xt=ft;if(xt.isHitArea=!1,xt.index=Math.abs(xt.arrowOffset),!ht)return[xt];var lt=Object.create(xt);return lt.isHitArea=!0,lt.index++,[lt,xt]}(yr,lt)},function(yr){return yr.index.toString()});fr.enter().append("path").classed("navArrow",!0).merge(fr).attrs({d:function(Rr){return Rr.path},transform:function(Rr){return"".concat((0,h.Iu)(nr/2-Ge/2,0)," ").concat(Rr.rotateTransform)},"stroke-width":function(Rr){return Rr.isHitArea?"".concat(Rr.hitAreaWidth,"px"):void 0},"fill-opacity":function(Rr){return Rr.isHitArea?"0":void 0},"stroke-opacity":function(Rr){return Rr.isHitArea?"0":void 0}}),fr.exit().remove()}var Oe=5,Ze=5,Ee=31,K=60,Y=15,ye=10,rt=.3,Ue=U.pt,De=.52,Le=5,Xe=1,et=2,he_Horizontal={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},he_Vertical={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3},Re=15,Ge=7.5;function ut(ft){var ht=ft.title,xt=0,lt=!_.isEmpty(ht),nt=!lt&&ft.showTitlePlaceholder;if(nt&&(ht=ft.hostServices.getLocalizedString("Format_AddLegendTitle")),lt||nt){var mt=(0,Te.s0)(ft.orientation),gt=void 0;gt=mt?ft.parentViewport.width*rt-(Oe+(ft.legendFontSizeMarginValue>Ue?5+ft.legendFontSizeMarginDifference:5)+(5+Oe))-ye+Y/2:ft.viewport.width-ye;var nr=(0,m.qk)(ft.fontProperties,ht),lr=ht;return(xt=te.b.measureSvgTextWidth(nr))>gt&&(lr=te.b.getTailoredTextOrDefault(nr,gt),nr.text=lr,xt=te.b.measureSvgTextWidth(nr)),mt?xt+=Y/2:lr=te.b.getTailoredTextOrDefault(nr,ft.viewport.width),{x:0,y:0,text:lr,width:xt,height:te.b.estimateSvgTextHeight(nr),isPlaceholder:nt}}return null}function je(ft,ht,xt,lt,nt){0===lt&&(ft.previous=void 0);var mt=nt;return nt=xt,(ft.next||ft.previous)&&nt===ht&&(nt=mt,ft.next=void 0),nt}function $e(ft,ht,xt,lt,nt,mt){var gt=ft;xt.styles({height:(gt.height||(lt?nt.height:0))+"px",width:(gt.width||(lt?nt.width:0))+"px"});var At=mt?ye:0;xt.styles({"margin-left":(0,Te.tO)(ht)?nt.width-gt.width+At+"px":null,"margin-top":(0,Te.Kx)(ht)?nt.height-gt.height+"px":null,"margin-right":(0,Te.nM)(ht)&&mt?At+"px":null})}var ot=t(281835),_t=t(808261),ke=t(646225),dt={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function Tt(ft,ht,xt,lt,nt,mt,gt){return void 0===lt&&(lt=!1),void 0===nt&&(nt=Te.tV.Top),void 0===mt&&(mt=(0,v.Ue)()),ht?new Nr(ft):new Xr(ft,nt,mt,xt,gt,lt)}var Kt=7,Zt=8,er={objectName:"dataPoint",propertyName:"fill"};function ar(ft,ht){var xt=ht.getMargins(),lt=ht.getPosition();ft.styles({"margin-left":(0,Te.nM)(lt)?xt.width+"px":null,"margin-top":(0,Te.RB)(lt)?xt.height+"px":null})}function gr(ft){void 0===ft&&(ft=(0,v.Ue)());var ht=(0,d.m)(ft,"lightLabel"),xt={family:Te.cp,size:U,color:a.v.getThemeColor(ft,Yr)};return(0,m.ED)(xt,ht)}function mr(ft){return{show:!0,title:"",dataPoints:[],fontProperties:gr(ft),grouped:!1,showTitle:!0,position:Te.tV.Top,isGradientLegend:!1,fromDefault:!0}}function St(ft,ht){var xt=(0,y.G)(ft.dataView,{staticSeriesRoleNames:ft.staticSeriesRoleNames,colorOptions:{valueRole:ft.staticSeriesRoleNames&&ft.staticSeriesRoleNames[0],visualStyle:ft.style,ignoreDefaultColor:ft.ignoreDefaultColor,ignoreDefaultCategoryColor:ft.ignoreDefaultCategoryColor}});if(!xt.data.hasSeries()){var lt=function(ft,ht){if(ht)return(0,n.t6)(ft,er)}(ft.dataView,ht);return lt?function(ft,ht,xt){return Hr(ft.metadata.objects,[],!1,ht.source.displayName,!1,xt,ht)}(ft.dataView,lt,ft.style):ft.allowLegendWithNoSeries?function(ft,ht){if(ft.data.getSeriesCount()){var Pr,xt=ht.lineAndMarkerOptions,lt=ft.data.getValueDisplayName(_.last(ht.staticSeriesRoleNames)),nt=(0,l.WU)(lt,ft.objects.getValueFormatString(_.last(ht.staticSeriesRoleNames),0)),mt=ft.colors.createByValue(0,c.fA),gt=ft.identities.createForValue(0),At=ft.objects.getStaticObjects(),kt=xt?xt.defaultMarkerShape:void 0,Ht=xt?(0,u.RZ)(At,ht.style):void 0,nr=xt&&xt.legendMarkerRendering,lr=(0,n.NA)(At,o.zK.lineStyles.lineStyle,_t.SQ),dr=xt?(0,u.Yh)(ft,Ht,0,ht.style):void 0,fr=ht.simpleMarkerProp;Pr=fr?fr?(0,n.NA)(At,fr,He.Xw):He.Xw:(0,u.xf)(dr,nr,kt);var yr=xt&&xt.renderLineStyle&&nr!==ot.f2&&nr!==ot.G_;return Hr(At,[{color:(0,u.XU)(dr,mt,nr,xt&&xt.matchSeriesColor),label:nt,icon:ke.l.Circle,identity:gt,selected:!1,markerShape:Pr,lineStyle:yr?lr:void 0,lineColor:mt,index:0}],ht.showByDefault,"",void 0,ht.style)}}(xt,ft):mr(ft.style)}for(var nt=xt.objects.getStaticObjects(),mt=[],gt=xt.columns.hasDynamicSeries(),At=ft.simpleMarkerProp,kt=At?(0,n.NA)(nt,At,He.Xw):He.Xw,Ht=ft.lineAndMarkerOptions,nr=Ht?Ht.defaultMarkerShape:void 0,lr=Ht&&Ht.legendMarkerRendering,dr=Ht?(0,u.RZ)(nt,ft.style):void 0,fr=Ht&&(0,n.NA)(nt,o.zK.lineStyles.showSeries,!0),Pr=(0,n.NA)(nt,o.zK.lineStyles.lineStyle,_t.SQ),yr=0,Rr=xt.data.getSeriesCount();yr<Rr;yr++){var vt,Mt=xt.data.getSeriesName(yr),pt=(0,l.WU)(Mt,xt.objects.getSeriesFormatString(yr)),se=fr?(0,u.Yh)(xt,dr,yr,ft.style):dr,Z=xt.colors.createBySeries(yr,void 0,c.fA),Ye=xt.identities.createForSeries(yr);vt=At?(0,n.NA)(xt.objects.getSeriesDataObjects(yr),At,kt):(0,u.xf)(se,lr,nr);var Ft=Ht&&Ht.renderLineStyle&&lr!==ot.f2&&lr!==ot.G_;mt.push({color:(0,u.XU)(se,Z,lr,Ht&&Ht.matchSeriesColor),label:pt,icon:ke.l.Circle,identity:Ye,selected:!1,markerShape:vt,lineStyle:Ft?(0,n.NA)(xt.objects.getSeriesDataObjects(yr),o.zK.lineStyles.lineStyle,Pr):void 0,lineColor:Z,index:yr})}return Hr(xt.objects.getStaticObjects(),mt,ft.showByDefault,xt.data.getSeriesDisplayName()||"",gt,ft.style)}function rr(ft){var lt,ht=(0,y.y)(ft.dataView,{colorOptions:{valueRole:ft.valueRole,visualStyle:ft.style}}),xt=[],nt=ft.categoryRole,mt=ht.objects.getStaticObjects();if(ht.data.hasCategories()){lt=ht.data.getCategoryDisplayName(nt);for(var gt=0,At=ht.data.getCategoryCount();gt<At;gt++){var kt=ht.data.getCategoryValue(nt,gt),Ht=(0,l.WU)(kt,ht.objects.getCategoryFormatString(nt)),nr=ht.colors.createByCategory(gt,c.fA),lr=ht.identities.createForCategory(gt);xt.push({color:nr,label:Ht,icon:ke.l.Circle,identity:lr,selected:!1,index:gt})}}return Hr(mt,xt,ft.showByDefault,lt,void 0,ft.style)}function Fr(ft){var ht=ft.dataView.matrix;return s.fF.assertValue(ht,"there must be a valid matrix DataView"),Vr(ft,ht.columns)}function wr(ft){var ht=ft.dataView.matrix;return s.fF.assertValue(ht,"there must be a valid matrix DataView"),Vr(ft,ht.rows)}function Vr(ft,ht){var xt=ft.dataView.metadata.objects;s.fF.assert(function(){return!_.isEmpty(ht.levels)},"the matrix should have at least one level");var lt=[];if(_.isEmpty(ht.levels))return mr(ft.style);var nt=ht.levels[0].sources[0],mt=ht.root.childIdentityFields,gt=ht.root.children;if(!gt)return mr(ft.style);var nr,At=ft.markerShowSeriesPropIdentifier,kt=!1,Ht=ft.markerShapePropIdentifier;Ht?(At&&(kt=(0,n.NA)(xt,At,!0)),nr=(0,n.NA)(xt,ft.markerShapePropIdentifier,He.Xw)):nr=He.Xw;for(var lr=0,dr=gt.length;lr<dr;lr++){var fr=gt[lr];if(!fr.isSubtotal){var Pr=fr.value,yr=(0,i.xq)(Pr,nt,ft.formatStringProp),Rr=ft.colorHelper.getColorForSeriesValue(fr.objects,mt,Pr,c.fA),pt=(new r.dw).withColumnIdentity(fr.identity,nt.queryName).createSelectionId(),se=nr;kt&&(se=Ht?(0,n.NA)(fr.objects,Ht,se):He.Xw),lt.push({color:Rr,label:yr,icon:ke.l.Circle,identity:pt,selected:!1,markerShape:se,index:lr})}}return Hr(xt,lt,ft.showByDefault,nt.displayName,!!gt,ft.style)}function Ar(ft){var ht=[],xt=!1,lt=ft[0];if(lt.isGradientLegend){for(var nt=function(fr,Pr){s.fF.assert(function(){return lt===ft[fr]})},mt=0,gt=ft.length;mt<gt;mt++)nt(mt);return lt}for(mt=0,gt=ft.length;mt<gt;mt++){var At=ft[mt];if(!_.isEmpty(At.dataPoints))for(var kt=0,Ht=At.dataPoints;kt<Ht.length;kt++){var nr=Ht[kt];nr.layerNumber=mt,ht.push(nr)}At.grouped&&(xt=!0)}var lr=_.find(ft,function(dr){return!dr.fromDefault})||lt;return{dataPoints:ht,show:lr.show,position:lr.position,showTitle:lr.showTitle,title:lr.title,grouped:xt,fontProperties:lr.fontProperties,bold:lr.bold,italic:lr.italic,underline:lr.underline}}function vr(ft,ht){var xt=ft.legendData,lt={selector:null,properties:{show:xt.show,position:Te.tV[xt.position],showTitle:xt.showTitle,titleText:xt.title,labelColor:xt.fontProperties.color,fontFamily:xt.fontProperties.family,fontSize:xt.fontProperties.size.pt,bold:xt.bold,italic:xt.italic,underline:xt.underline},propertyInstanceKind:{labelColor:3},objectName:ft.objectName||"legend"};null!=ft.legendMarkerRendering&&(lt.properties[o.zK.legend.legendMarkerRendering.propertyName]=ft.legendMarkerRendering),null!=ft.matchLineColor&&(lt.properties[o.zK.legend.matchLineColor.propertyName]=ft.matchLineColor),null!=ft.defaultToCircle&&(lt.properties[o.zK.legend.defaultToCircle.propertyName]=ft.defaultToCircle),ft.enumeration.pushInstance(lt)}function $r(ft,ht,xt,lt,nt){void 0===lt&&(lt=!1),null==nt&&(nt=xt.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var mt=ft.legendData,gt=[dt.show,dt.showGradientLegend,dt.position,dt.showTitle,dt.titleText,dt.labelColor,dt.fontFamily,dt.fontSize,o.zK.legend.legendMarkerRendering,o.zK.legend.matchLineColor,dt.bold,dt.italic,dt.underline];xt.removeDefaultToCircleToggle||gt.push(o.zK.legend.defaultToCircle);var At=new b.CQ(new b.lg("legend"),"Role_DisplayName_Legend",gt,function(nr){return ht.getLocalizedString(nr)});if(At.addTopLevelToggle("show",function(){return new b.bd({descriptor:dt.show,value:!lt&&mt.show}).build()}),lt)return At.withDisabled(!0,nt),At.build();var Ht=(new b.UN).withFontFamily({descriptor:dt.fontFamily,value:mt.fontProperties.family}).withFontSizeProperties({descriptor:dt.fontSize,value:mt.fontProperties.size.pt}).withBold({descriptor:dt.bold,value:mt.bold}).withItalic({descriptor:dt.italic,value:mt.italic}).withUnderline({descriptor:dt.underline,value:mt.underline}).build();return At.withDescription("Visual_LegendDescription").addGroup("options",function(nr){nr.withDisplayName("Desktop_FileMenu_Options"),nr.addSimpleSlice("position",new b.uY({descriptor:dt.position,value:Te.tV[mt.position]}).build()),xt.removeDefaultToCircleToggle&&null!=ft.legendMarkerRendering?nr.addSimpleSlice("markerRendering",new b.uY({descriptor:o.qn.legend.legendMarkerRendering,value:ft.legendMarkerRendering}).build()):null!=ft.legendMarkerRendering&&nr.addSimpleSlice("markerRendering",new b.uY({descriptor:o.qn.legend.legendMarkerRendering,value:ft.legendMarkerRendering,filterValues:[ot.f2,ot.tl,ot.XD]}).build()),null!=ft.matchLineColor&&nr.addSimpleSlice("matchLineColor",new b.bd({descriptor:o.qn.legend.matchLineColor,value:ft.matchLineColor}).build()),!xt.removeDefaultToCircleToggle&&null!=ft.defaultToCircle&&nr.addSimpleSlice("defaultToCircle",new b.bd({descriptor:o.qn.legend.defaultToCircle,value:ft.defaultToCircle}).build())}),At.addGroup("text",function(nr){nr.withDisplayName("Text").addCompositeSlice("fontselector","Font",Ht).addSimpleSlice("color",function(){var lr={value:mt.fontProperties.color};return new b.BT({descriptor:(0,e.__assign)((0,e.__assign)({},dt.labelColor),{instanceKind:3}),value:lr}).build()})}).addGroup("title",function(nr){nr.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new b.bd({descriptor:dt.showTitle,value:mt.showTitle}).build()}).addSimpleSlice("titleText",new b.fq({descriptor:dt.titleText,value:mt.title,placeholder:""}).build(),function(lr){return lr.withCustomDisplayName("Visual_Title_Text")})}),At.build()}function Qr(){}function zr(ft){var ht="".concat("Visual","-").concat("legend"),xt="".concat("legend","-").concat("text"),lt={cardUid:ht,groupUid:xt,sliceUid:"".concat(xt,"-fontselector")},nt={cardUid:ht,groupUid:xt,sliceUid:"".concat(xt,"-color")};return(0,V.Co)(ft,{fontReference:lt,fontColorReference:nt})}function Or(ft){var ht="".concat("legend","-").concat("title");return[{type:2,sourceUid:ht,disabledLabel:ft.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetFormattingIds:[{sourceUid:"".concat(ht,"-showTitle")}]},{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:ht},label:ft.getLocalizedString("Format_Legend_Title")}]}function ei(ft){var ht=ft.hostServices,xt=ft.showSort,lt="".concat("Visual","-").concat("legend"),nt="".concat("legend","-").concat("title"),mt=[{type:2,sourceUid:lt,disabledLabel:ht.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetFormattingIds:[{sourceUid:nt},{sourceUid:lt}]},{type:2,sourceUid:nt,enabledLabel:ht.getLocalizedString("Format_AddLegendTitle")}];return xt&&mt.push({type:4,sortableField:{queryName:"",sortDirection:1},label:ht.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,e.__spreadArray)((0,e.__spreadArray)([],mt,!0),[{type:1,destinationInfo:{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")},label:ht.getLocalizedString("Format_Legend")}],!1)}var Xr=function(){function ft(ht,xt,lt,nt,mt,gt){this.style=lt,this.interactivityService=nt,this.hostService=mt,this.isScrollable=gt,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(ht.get(0)),this.setPosition(xt),this.viewport={height:0,width:0}}return ft.prototype.getMargins=function(){return this.viewport},ft.prototype.isVisible=function(){return(0,Te.dx)(this.data)},ft.prototype.setPosition=function(ht){this.orientation=ht||Te.tV.Top},ft.prototype.getPosition=function(){return this.orientation},ft.prototype.drawLegend=function(ht,xt,lt){var nt=lt&&lt.isHierarchicalAxis||!1,mt=lt&&lt.formatMode||void 0,gt=lt&&lt.onObject,At=(0,f.ED)(ht);_.defaults(At,{fontProperties:gr(this.style)});for(var kt=[],Ht=0,nr=ht.dataPoints;Ht<nr.length;Ht++)kt.push((0,f.ED)(nr[Ht]));At.dataPoints=kt,ft.setTooltipToLegendItems(At),(At.fontSize||At.labelColor)&&(At.fontProperties={color:At.labelColor||"#666666",size:At.fontSize?g.B.createFromPt(At.fontSize):U,family:Te.cp}),At.fontProperties||(At.fontProperties=gr(this.style)),At.isGradientLegend||((0===At.dataPoints.length||At.position===Te.tV.None)&&(At.show=!1),At.show||(At.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(ht.dataPoints),this.interactivityService.applySelectionStateToData(At.dataPoints)),this.legendDataStartIndex=p.b$.clampValue(this.legendDataStartIndex,0,Math.max(At.dataPoints.length-1,0)),this.render(At,xt,Ce,nt,mt,gt,lt&&lt.titleSliceUid,lt&&lt.showTitlePlaceholder)},ft.prototype.render=function(ht,xt,lt,nt,mt,gt,At,kt){var Ht=this;this.viewport=lt({data:ht,parentViewport:xt,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:function lr(dr,fr,Pr){var yr=0===dr?fr+Pr:fr-Pr;yr=Ht.legendDataStartIndex=p.b$.clampValue(yr,0,ht.dataPoints.length-1),Ht.viewport=lt({data:ht,parentViewport:xt,autoWidth:!0,element:Ht.element,lastCalculatedWidth:Ht.lastCalculatedWidth,orientation:Ht.orientation,isScrollable:Ht.isScrollable,arrowPosWindow:Pr,legendDataStartIndex:yr,interactivityService:Ht.interactivityService,rerenderCallback:lr,visualStyle:Ht.style,hostService:Ht.hostService,isHierarchicalAxis:nt,formatMode:mt,onObject:gt,titleSliceUid:At,showTitlePlaceholder:kt})},visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:nt,formatMode:mt,onObject:gt,titleSliceUid:At,showTitlePlaceholder:kt})},ft.prototype.reset=function(){},ft.setTooltipToLegendItems=function(ht){for(var xt=0,lt=ht.dataPoints;xt<lt.length;xt++){var nt=lt[xt];nt.tooltip=nt.label}},ft}(),Nr=function(){function ft(ht){this.legendContainerParent=d3.select(ht.get(0))}return ft.prototype.getMargins=function(){return{height:ft.LegendHeight,width:0}},ft.prototype.drawLegend=function(ht){s.fF.assertValue(ht,"legendData");var xt=ht.dataPoints;if(s.fF.assertValue(xt,"dataPoints"),!(xt.length<1)){var lt=this.legendContainerParent.select(ft.LegendContainerSelector);if(lt.empty()){if(!xt.length)return;var nt=$("<div></div>").height(this.getMargins().height).addClass(ft.LegendContainerClass);$(this.legendContainerParent.node()).prepend(nt),lt=d3.select(nt.get(0))}this.legendContainerDiv=lt,this.drawTitle(xt),this.drawLegendItems(xt)}},ft.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},ft.prototype.isVisible=function(){return!0},ft.prototype.setPosition=function(ht){},ft.prototype.getPosition=function(){return Te.tV.Top},ft.prototype.drawTitle=function(ht){s.fF.assert(function(){return ht&&ht.length>0},"data is null or empty");var lt=this.legendContainerDiv.selectAll("div."+ft.LegendTitleClass).data([ht[0]]),nt=lt.enter().append("div").attr("class",ft.LegendTitleClass);nt.filter(function(gt){return gt.iconOnlyOnLabel}).append("span").attr("class",ft.legendIconClass).html(ft.legendPlaceSelector),nt.append("span");var mt=nt.merge(lt);mt.filter(function(gt){return gt.iconOnlyOnLabel}).select("span."+ft.legendIconClass).style(ft.legendColorCss,function(gt){return gt.color}),mt.select("span:last-child").text(function(gt){return gt.category})},ft.prototype.drawLegendItems=function(ht){this.ensureLegendTableCreated();var xt=[ht],lt=this.legendContainerDiv.select("tbody").selectAll("tr").data(xt),nt=lt.enter().append("tr"),gt=nt.selectAll("td").data(function(Ht){return Ht},function(Ht){return Ht.label}).enter().append("td").attr("class",ft.LegendItem).append("span");gt.filter(function(Ht){return!Ht.iconOnlyOnLabel}).append("span").html(ft.legendPlaceSelector).attr("class",ft.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),gt.append("span").attr("class",ft.legendItemNameClass),gt.append("span").attr("class",ft.legendItemMeasureClass);var kt=nt.merge(lt).selectAll("td").data(function(Ht){return Ht},function(Ht){return Ht.label});kt.select("span."+ft.legendItemNameClass).html(function(Ht){return(0,S.nU)(Ht.label)}),kt.select("span."+ft.legendItemMeasureClass).html(function(Ht){return"&nbsp;"+Ht.measure}),kt.select("span."+ft.legendIconClass).style("color",function(Ht){return Ht.color}),kt.exit().remove()},ft.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var ht=this.legendContainerDiv.append("div").append("table");ht.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(ht)}},ft.prototype.setPanGestureOnLegend=function(ht){var xt=$(this.legendContainerParent.node()).width(),lt=d3.zoom().on("zoom",function(){if($(ht.node()).width()>xt){var nt=d3.event.transform.x;nt=Math.min(nt,0),nt=Math.max(nt,xt-$(ht.node()).width()),ht.style("-ms-transform",(0,h.y4)(nt)),ht.style("-webkit-transform",(0,h.y4)(nt)),ht.style("transform",(0,h.y4)(nt))}});this.legendContainerDiv?this.legendContainerDiv.call(lt):ht.call(lt)},ft.LegendHeight=70,ft.LegendContainerClass="interactive-legend",ft.LegendContainerSelector=".interactive-legend",ft.LegendTitleClass="title",ft.LegendItem="item",ft.legendPlaceSelector="\u25cf",ft.legendIconClass="icon",ft.legendColorCss="color",ft.legendItemNameClass="itemName",ft.legendItemMeasureClass="itemMeasure",ft}(),Yr="foregroundNeutralSecondary";function Hr(ft,ht,xt,lt,nt,mt,gt){void 0===nt&&(nt=!1),void 0===mt&&(mt=(0,v.Ue)());var At=a.v.create(mt),kt=(0,n.NA)(ft,dt.showGradientLegend,!1),Ht=(0,n.NA)(ft,dt.show,xt=gt?kt:xt);Ht=gt?Ht&&kt:Ht;var nr=Te.tV[(0,n.NA)(ft,dt.position,"Top")],lr=(0,n.NA)(ft,dt.showTitle,!0),dr=(0,n.RK)(ft,dt.labelColor.objectName),fr=(0,m.Zi)(dr,{color:dt.labelColor.propertyName,size:dt.fontSize.propertyName,family:dt.fontFamily.propertyName,bold:dt.bold.propertyName,italic:dt.italic.propertyName,underline:dt.underline.propertyName},At,mt,Yr,"lightLabel",{color:a.v.getThemeColor(mt,Yr),size:U,family:Te.cp,weight:void 0,style:void 0,textDecoration:void 0});return{show:Ht,position:nr,dataPoints:ht,showTitle:lr,title:(0,n.NA)(ft,dt.titleText,lt),grouped:nt,fontProperties:fr,isGradientLegend:!!gt,gradientRule:gt,bold:(0,n.NA)(ft,dt.bold,!1),italic:(0,n.NA)(ft,dt.italic,!1),underline:(0,n.NA)(ft,dt.underline,!1)}}function Zr(ft){return _.map(ft.dataPoints,function(ht){return{color:ht.color,displayName:ht.label,identity:ht.identity}})}},600348:function(Je,H,t){t.d(H,{D:function(){return e}});var e={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},318220:function(Je,H,t){t.d(H,{L:function(){return Zr}});var e=t(226514),c=t(600348),s=t(832867),f=t(787941),v=t(734287),b=t(324356),h=t(456535),p=t(884983),n=t(663406),l=t(525963),r=t(551493);function m(ft){switch(ft){case p.GT:return n.a.satellite;case p.j2:return n.a.night;case p.fS:return n.a.road;case p.se:return n.a.grayscaleLight;case p.AB:return n.a.road}return n.a.grayscaleLight}function u(ft){return _.clamp(ft-1,0,22)}function V(ft,ht,xt){var lt=ht[0],mt=xt[0],At=ht[1]-lt,kt=xt[1]-mt;if(0===At)throw new Error("Input range size must be greater than 0");return(ft-lt)/At*kt+mt}var d=t(437705);function S(ft){var ht=_.first(ft.dataViewMappings),xt=[],nt=(0,d.hK)(ht.table.rows);return _.isEmpty(nt)?{subjectKind:5,error:2,bindings:void 0}:(xt.push.apply(xt,nt),{subjectKind:5,error:void 0,bindings:xt})}function g(ft){var ht=_.first(ft.dataViewMappings),xt=[],nt=(0,d.hK)(ht.table.rows);return _.isEmpty(nt)?{subjectKind:5,error:2,bindings:void 0}:(xt.push.apply(xt,nt),{subjectKind:5,error:void 0,bindings:xt})}var y=t(487496),C=t(485502),E=t(37584);function M(ft){var ht={},xt=ft&&ft.categorical&&_.head(ft.categorical.categories);return xt&&(ht.axisType=(0,y.PX)(ft.metadata.objects,E.mi.categoryAxis.axisType,xt.source.type,void 0,(0,C.n$)(ft))?"scalar":"categorical"),ht}function P(ft){return(0,d.T6)(ft,1)}var T=t(633888),x=t(939523),R=t(889093);function D(ft){var ht=ft.dataViewMappings[0];ht&&(ht.categorical?function(ft){var ht=ft.dataViewMappings[0];if(ht.categorical.categories){if(ht.categorical.dataVolume=4,(0,y.iQ)(ht,!1)){ht.categorical.categories.dataReductionAlgorithm={sample:{}};var lt=ht.categorical.values;lt&&lt.group&&(lt.group.dataReductionAlgorithm={top:{}})}else(0,C.XS)([ht]);(0,C.K0)(ft.dataViewMappings);var nt=A(ft);(0,C.kV)(ft.dataViewMappings,nt)}}(ft):ht.matrix&&function(ft){var ht=ft.dataViewMappings[0];if((0,T.qO)(ht)){if((0,y.iQ)(ht,!0)){(0,T.s5)(ht,{sample:{}});var xt=(0,T.b8)(ht);(0,R.Bx)([xt],{min:!0,max:!0})}(0,R.vR)(ht,[E.au.y]),(0,R._F)(ht)}}(ft))}function A(ft){var ht=ft.dataViewMappings[0];return(0,T.qO)(ht)?function(ft){var ht=(0,y.iQ)(ft,!0),xt=[E.au.rows];return ht||xt.push(E.au.category),xt.push(E.au.y,E.au.tooltips,E.au.series),xt}(ht):function(ft){if(!ft||!ft.categorical||!ft.categorical.categories)return null;var xt=ft.categorical.categories.for.in,lt=xt.items,nt=xt.activeItems,mt=["Category","Series","Y","Tooltips"];if(!_.isEmpty(lt)){var At=void 0;ft.metadata&&(At=ft.metadata.objects);var kt=void 0;if(_.isEmpty(nt))kt=lt[0].type;else if(1===nt.length){var Ht=_.find(lt,function(nr){return nr.queryName===nt[0]});f.fF.assert(function(){return!!Ht},"Item should always be defined"),kt=Ht.type}else if(nt.length>1)return mt;return(0,y._K)(At,x.zK.categoryAxis.axisType,kt)?["Series"]:mt}return null}(ht)}var w=t(108333);function I(ft){_.isEmpty(ft.dataViewMappings)||(ft.dataViewMappings[0].matrix?function(ft){var ht=ft.dataViewMappings[0];if((0,T.qO)(ht)){if((0,y.iQ)(ht,!0)){(0,T.s5)(ht,{sample:{}});var xt=(0,T.b8)(ht);(0,R.Bx)([xt],{min:!0,max:!0})}(0,R.vR)(ht,[w.rJ.y,w.rJ.y2]),(0,R._F)(ht)}}(ft):function(ft){var ht=!_.isEmpty(ft.dataViewMappings)&&ft.dataViewMappings[0],xt=ft.dataViewMappings.length>1&&ft.dataViewMappings[1];W(ht,xt);var mt,lt=(0,y.iQ)(ht,!1);(ht&&ht.categorical&&(ht.categorical.dataVolume=4,lt)&&(ht.categorical.categories.dataReductionAlgorithm={sample:{}},(mt=ht.categorical.values)&&mt.group&&(mt.group.dataReductionAlgorithm={top:{}})),xt&&xt.categorical&&(xt.categorical.dataVolume=4,lt))&&(xt.categorical.categories.dataReductionAlgorithm={sample:{}},(mt=xt.categorical.values)&&mt.group&&(mt.group.dataReductionAlgorithm={top:{}}));lt||(0,C.XS)(ft.dataViewMappings),(0,C.K0)(ft.dataViewMappings);var gt=k(ft);(0,C.kV)(ft.dataViewMappings,gt)}(ft))}function W(ft,ht){if(ft&&ht){var xt=ft.categorical&&ft.categorical.values,lt=xt.group&&!_.isEmpty(xt.group.select)&&xt.group.select[0];_.isEmpty(lt.for.in.items)&&(xt.group.by.items=void 0)}}function k(ft){if(ft&&ft.dataViewMappings.length>0){var ht=ft.dataViewMappings[0];if((0,T.qO)(ht))return function(ft){var ht=(0,y.iQ)(ft,!0),xt=[w.rJ.rows];return ht||xt.push(w.rJ.category),xt.push(w.rJ.y,w.rJ.y2,w.rJ.tooltips,w.rJ.series),xt}(ht);if(!(0,y.iQ)(ht,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function Q(ft){if(!ft||_.isEmpty(ft.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var ht=ft.dataViewMappings[0],xt=ft.dataViewMappings[1];if(W(ht,xt),!(ht&&ht.categorical&&ht.categorical.categories))return{subjectKind:1,error:2,bindings:void 0};var lt=(0,d.DS)(ht);return lt.push.apply(lt,(0,d.vx)(ht)),xt&&xt.categorical&&xt.categorical.categories&&lt.push.apply(lt,(0,d.vx)(xt)),_.isEmpty(lt)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:lt}}var te=t(238435),ee=t(698129),J=t(542277);function re(ft){var ht=_.first(ft.dataViewMappings);f.fF.assertValue(ht,"mapping");var xt=(0,ee.NA)(ht.metadata.objects,J.Qw,void 0);null!=xt&&(f.fF.assert(function(){return xt>0&&_.isInteger(xt)},"Invalid data reduction count"),ht.table.rows.dataReductionAlgorithm={top:{count:xt}});var lt=_.groupBy(_.filter(ht.metadata.columns,function(nt){var mt,gt;return!(null===(gt=null===(mt=null==nt?void 0:nt.objects)||void 0===mt?void 0:mt.columnOptions)||void 0===gt||!gt.suppressJoinPredicate)}),function(nt){return nt.queryName});_.isEmpty(lt)||(0,te.vV)(ht.table,{visitRole:function(mt){if(mt.role===J.KK.values)for(var gt=0,At=mt.items;gt<At.length;gt++){var kt=At[gt];lt[kt.queryName]&&(kt.joinPredicate=0)}}})}var G=t(464925);function ne(ft){var ht=ft.dataViewMappings[0];ht&&ht.matrix&&ht.metadata&&(function(ft,ht){var xt=ft.metadata.columns,lt=ht.rows.for.in.items;if(!_.isEmpty(lt))for(var nt=function(kt,Ht){var nr=lt[kt];if(!_.find(xt,function(dr){return dr.queryName===nr.queryName}))return"continue";nr.subtotalType=1},mt=0,gt=lt.length;mt<gt;mt++)nt(mt)}(ht,ht.matrix),ft.scopedAggregates&&function(ft){var xt=_.find(ft.matrix.values.select,function(dr){return(0,R.uS)(dr)&&dr.for.in.role===G.Fw.analyze}).for.in.items;if(!_.isEmpty(xt)){var lt=ft.matrix.rows.for.in.items;if(!_.isEmpty(lt)&&"levelMaximum"===(0,ee.NA)(ft.metadata.objects,{objectName:G.I8.dataBars,propertyName:G.hq.dataBarScalingType},"levelMaximum")){for(var gt=0,At=ft.metadata.columns;gt<At.length;gt++){var kt=At[gt];if(kt.discourageAggregationAcrossGroups)return void f.fF.assertFail("Aggregates should not be computed across groups with different values of the column "+kt.queryName)}var Ht=xt[0].queryName,nr=lt.map(function(dr){return dr.queryName});ft.scopedAggregates=[{min:!0,max:!0,scope:[nr[0]],queryName:Ht}];for(var lr=0;lr<lt.length-1;lr++)lt[lr].aggregates=[{min:!0,max:!0,scope:nr.slice(0,lr+2),queryName:Ht}]}}}(ht),function(ft){var ht,xt=ft.matrix.rows.dataReductionAlgorithm;if(xt&&xt.topNPerLevel){var lt=ft.metadata.objects,nt=null===(ht=(0,ee.NA)(lt,{objectName:G.I8.tree,propertyName:G.hq.responsiveLayout}))||void 0===ht||ht,mt=(0,ee.NA)(lt,{objectName:G.I8.tree,propertyName:nt?G.hq.effectiveBarsPerLevel:G.hq.barsPerLevel},G.bR.defaultValue);(mt<G.bR.minValue||mt>G.bR.maxValue)&&(mt=G.bR.defaultValue),xt.topNPerLevel.count=mt}}(ht))}function Te(ft){return(0,d.T6)(ft,2)}function Qe(ft){var xt=_.first(ft.dataViewMappings);if(!xt||!xt.categorical||!xt.categorical.values)return{subjectKind:1,error:2,bindings:void 0};var lt=(0,d.YW)(xt);return _.isEmpty(lt)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:lt}}function He(ft){return!ft||_.isEmpty(ft.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:Ce(ft.dataViewMappings),error:void 0}}function Ce(ft){f.fF.assertValue(ft,"compiledDataViewMappings");var ht=_.first(ft),xt=ht.table,lt=ht.metadata,nt=lt.objects,mt=_.map(lt.columns,function(Mt){return Mt.queryName}),gt=xt.rows,At=gt.select[0],kt=gt.select[1];f.fF.assert(function(){return 1===At.bind.to.items.length},"There should be exactly one analyze item"),f.fF.assert(function(){return kt.for.in.items.length>=1},"There should be at least one explain by item");var Ht="keyDrivers",nr=_.first(At.bind.to.items).queryName,lr=_.map(kt.for.in.items,function(Mt){return Mt.queryName}),dr=_.filter(mt,function(Mt){return nr!==Mt&&lr.indexOf(Mt)<0}),fr=(0,ee.NA)(nt,{objectName:Ht,propertyName:"targetValue"},void 0),Pr=(0,ee.NA)(nt,{objectName:Ht,propertyName:"selectedNumericAnalysis"},void 0),yr=(0,ee.NA)(nt,{objectName:Ht,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==yr&&0===yr?yr="Increase":void 0!==yr&&1===yr&&(yr="Decrease"),{analyzeQueryName:nr,explainByQueryNames:lr,expandByQueryNames:dr,targetValue:fr,numericTargetSelectedKind:yr,selectedNumericAnalysis:Pr}}var de=t(803018),pe=t(2570),le=t(424420),me=[{objectProperty:le.xg.indicatorFontFamilyProp,defaultValue:(0,b.fL)(de.Wn.lightSecondary.family)},{objectProperty:le.xg.goalFontSizeProp,defaultValue:(0,b.cA)(pe.qy)},{objectProperty:le.xg.goalFontFamilyProp,defaultValue:(0,b.fL)(de.Wn.semibold.family)}];function be(ft){return(0,d.T6)(ft,5)}var Be=t(389521),Se=t(411916),Pe=t(592042),ue=t(345563),ie=t(664723),Fe=t(681454);function at(ft){var ht=ft.dataViewMappings[0];ht&&(ht.categorical?function(ft){var ht=ft.dataViewMappings[0],xt=null==ht?void 0:ht.categorical;if(xt&&xt.categories){xt.dataVolume=4;var lt=xt.categories,nt=_.find(ft.dataViewMappings,function(Ht){var nr;return!(null===(nr=Ht.usage)||void 0===nr||!nr.anomalyDetection)});nt&&(function(ft,ht){f.fF.assertValue(ft&&ft.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),f.fF.assertValue(ht&&ht.categorical,"anomalyDetection.categorical");var xt=ft.dataReductionAlgorithm.binnedLineSample;f.fF.assertValue(!xt.count,"binnedLineSample.count should be undefined"),f.fF.assertValue(!xt.warningCount,"binnedLineSample.warningCount should be undefined"),xt.count=4900,xt.warningCount=3500,ht.categorical.dataReductionAlgorithm={binnedLineSample:{}};var lt=ht.categorical.dataReductionAlgorithm.binnedLineSample;lt.count=xt.count,lt.warningCount=xt.warningCount}(xt,nt),_.some(ft.dataViewMappings,function(Ht){return(0,ue.el)(Ht)})||_.remove(ft.dataViewMappings,function(Ht){return Ht===nt}));var mt=!1;if((0,y.$9)(ht.metadata.objects,x.zK.categoryAxis.axisType)){mt=(0,Se.A9)(ht);var gt=_.find(ft.dataViewMappings,function(Ht){var nr;return!(null===(nr=Ht.usage)||void 0===nr||!nr.forecast)});(0,te.Sr)(lt,{visitRole:function(nr){We(nr,gt,nt,!1)}})}if(!mt&&!(0,y.iQ)(ht,!1)){_.remove(ft.dataViewMappings,function(Ht){return Ht.usage&&(Ht.usage.forecast||Ht.usage.anomalyDetection)}),(0,x.BX)(ht,!1);var At=[ht];(0,C.XS)(At);var kt=K(ft);(0,C.kV)(At,kt)}(0,C.K0)(ft.dataViewMappings)}}(ft):ht.matrix&&function(ft){var ht=ft.dataViewMappings[0];if((0,T.qO)(ht)){var xt=!1;(0,y.$9)(ht.metadata.objects,x.zK.categoryAxis.axisType)&&(xt=(0,Se.A9)(ht),(0,te.Ay)(ht.matrix.rows,{visitRole:function(gt){We(gt,void 0,void 0,!0)}}));var lt=(0,y.iQ)(ht,!0);if(xt||lt){if(lt){var nt=(0,T.b8)(ht);(0,R.Bx)([nt],{min:!0,max:!0})}}else(0,x.BX)(ht,!0);(0,R.vR)(ht,[Fe.R.Y,Fe.R.Y2]),(0,R._F)(ht)}}(ft))}function We(ft,ht,xt,lt){if(ft.role===Fe.R.Category){var nt=[Fe.R.Category];lt&&nt.unshift(Fe.R.Rows);for(var mt={data:[(0,Be.Yp)(nt)]},gt=ft.items,At=0,kt=_.size(gt);At<kt;At++){var nr=gt[At].scalarKeyInfo;if(nr&&nr.hasScalarKey){nr.scalarKeyMinProperty=ie.p.scalarKey.scalarKeyMin,nr.selector=mt,ht&&Ee(ht,mt,At),xt&&Ee(xt,mt,At);break}}}}function Ee(ft,ht,xt){var lt;(0,te.Sr)(null===(lt=null==ft?void 0:ft.categorical)||void 0===lt?void 0:lt.categories,{visitRole:function(mt){mt.items[xt].scalarKeyInfo||(mt.items[xt].scalarKeyInfo={});var gt=mt.items[xt].scalarKeyInfo;gt.scalarKeyMinProperty=ie.p.scalarKey.scalarKeyMin,gt.selector=ht}})}function K(ft){var ht=ft.dataViewMappings[0];return(0,T.qO)(ht)?function(ft){var ht=(0,y.iQ)(ft,!0),xt=[E.au.rows];return ht||xt.push(E.au.category),xt.push(E.au.y,E.au.tooltips,E.au.series),xt}(ht):function(ft){if(!ft||!ft.categorical||!ft.categorical.categories)return null;var mt,gt,xt=ft.categorical.categories.for.in,lt=xt.items,nt=xt.activeItems;if(mt=["Category","Series","Y","Y2","Tooltips"],gt=["Series"],!_.isEmpty(lt)){var At=void 0;if(ft.metadata&&(At=ft.metadata.objects),(0,Se.A9)(ft)&&(0,y.$9)(At,x.zK.categoryAxis.axisType))return gt;var kt=void 0;if(_.isEmpty(nt))kt=lt[0].type;else if(1===nt.length){var Ht=_.find(lt,function(nr){return nr.queryName===nt[0]});f.fF.assert(function(){return!!Ht},"Item should always be defined"),kt=Ht.type}else if(nt.length>1)return mt;return(0,y._K)(At,x.zK.categoryAxis.axisType,kt)?gt:mt}return null}(ht)}function ye(ft,ht){for(var xt,lt,nt,mt=[],gt=[],At=[],kt=[],Ht=[],nr={xIndex:void 0,yIndex:void 0},lr=0,dr=null==ft?void 0:ft.selects;lr<dr.length;lr++){var fr=dr[lr];null!=fr&&fr.roles[Fe.R.Series]&&mt.push(fr),null!=fr&&fr.roles[Fe.R.Category]&&(gt.push(fr),Ht.push(Pe.Ge.fromDescriptor(null==fr?void 0:fr.type))),null!=fr&&fr.roles[Fe.R.Y]&&At.push(fr),null!=fr&&fr.roles[Fe.R.Y2]&&kt.push(fr)}if(function(ft,ht,xt){var lt,nt,mt,gt,At,kt,Ht=xt[0],nr=(0,y.A8)(null===(lt=null==Ht?void 0:Ht.categorical)||void 0===lt?void 0:lt.categories[0]),lr=(0,y.PX)(null===(nt=null==Ht?void 0:Ht.metadata)||void 0===nt?void 0:nt.objects,x.zK.categoryAxis.axisType,null===(mt=ft[0])||void 0===mt?void 0:mt.type,nr,(0,C.n$)(Ht));return 1===ft.length||ft.length>1&&lr&&(null===(At=null===(gt=ft[0])||void 0===gt?void 0:gt.type)||void 0===At?void 0:At.temporal)&&!(null!==(kt=null==ht?void 0:ht.objects)&&void 0!==kt&&kt.categoryAxis)}(gt,ft,ht)&&function(ft,ht,xt,lt){var nt,mt,gt,At,kt=_.first(ft);return 1===ht.length&&0===xt.length&&0===lt.length&&((null==kt?void 0:kt.dateTime)||(null==kt?void 0:kt.numeric)||(null===(nt=null==kt?void 0:kt.temporal)||void 0===nt?void 0:nt.day)||(null===(mt=null==kt?void 0:kt.temporal)||void 0===mt?void 0:mt.year))&&!(null!==(gt=null==kt?void 0:kt.temporal)&&void 0!==gt&&gt.quarter||null!==(At=null==kt?void 0:kt.temporal)&&void 0!==At&&At.month)}(Ht,At,kt,mt)&&ft&&ft.roles&&ft.roles.ordering){if(ft.roles.ordering[Fe.R.Category]&&ft.roles.activeItems)for(var Pr=null===(xt=_.first(ft.roles.activeItems[Fe.R.Category]))||void 0===xt?void 0:xt.queryRef,yr=0;yr<(null===(lt=ft.selects)||void 0===lt?void 0:lt.length);yr++)(null===(nt=ft.selects[yr])||void 0===nt?void 0:nt.queryName)===Pr&&(nr.xIndex=yr);ft.roles.ordering[Fe.R.Y]&&(nr.yIndex=_.first(ft.roles.ordering[Fe.R.Y]))}return nr}var De=t(826613),Le=t(563245);function Xe(ft){var ht=ft.dataViewMappings[0];if(ht&&ht.matrix&&ht.metadata){var xt=ht.matrix;_.isEmpty(xt.columns.for.in.items)||(xt.rows.dataReductionAlgorithm.window.count=100);var lt=ht.metadata.objects;xt.rows.for.in.subtotalType=Le.FX.PropGeneralMatrixRowSubtotals.getValue(lt)?2:0,xt.columns.for.in.subtotalType=Le.FX.PropGeneralMatrixColumnSubtotals.getValue(lt)?2:0}}function et(ft){return["Rows","Values"]}function ce(ft){if(ft&&ft.dataViewMappings&&!_.isEmpty(ft.dataViewMappings))for(var ht=0,xt=ft.dataViewMappings;ht<xt.length;ht++){var lt=xt[ht];if(lt.table){var nt=lt.table.rows;if(nt&&nt.for&&nt.for.in&&nt.for.in.items)return["Values"]}}}function Re(ft){var ht=_.first(ft.dataViewMappings),xt=[];if(ht&&ht.table&&ht.table.rows){var nt=(0,d.hK)(ht.table.rows);return _.isEmpty(nt)?{subjectKind:5,error:2,bindings:void 0}:(xt.push.apply(xt,nt),{subjectKind:5,error:void 0,bindings:xt})}}var Ge=t(707903);function ut(ft){var ht=ft.dataViewMappings[0];if(ht&&ht.matrix&&ht.metadata){var xt=ht.matrix,lt=!_.isEmpty(xt.columns.for.in.items);lt&&(xt.rows.dataReductionAlgorithm.window.count=100);var nt=xt.values;if(nt){var mt=nt.for.in.items;_.some(mt,function(gt){var At,kt;return!(null===(kt=null===(At=gt.type)||void 0===At?void 0:At.misc)||void 0===kt||!kt.sparkline)})&&(xt.rows.dataReductionAlgorithm.window.count=lt?50:100,lt&&(xt.columns.dataReductionAlgorithm.top.count=25)),(0,R.pn)(ht,mt)}(function(ft,ht){var xt=ft.metadata.objects,lt=ft.metadata.columns,nt=ht.rows.for.in.items,mt=Le.FX.PropSubTotalsPivotTableRowSubtotals.getValue(xt),gt=Le.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(xt)===Ge.we?1:2,At=Le.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(xt);if(!_.isEmpty(nt))for(var kt=function(dr,fr){var Pr=nt[dr],yr=_.find(lt,function(Mt){return Mt.queryName===Pr.queryName});if(!yr)return"continue";var Rr=Le.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(yr.objects);Pr.subtotalType=!mt||At&&!Rr?0:0===dr&&Le.FX.PropRowsSteppedLayout.getValue(xt)?1:gt},Ht=0,nr=nt.length;Ht<nr;Ht++)kt(Ht)})(ht,xt),function(ft,ht){var xt=ft.metadata.objects,lt=ft.metadata.columns,nt=ht.columns.for.in.items,mt=Le.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(xt),gt=Le.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(xt);if(!_.isEmpty(nt))for(var At=function(dr){var fr=_.find(lt,function(yr){return yr.queryName===dr.queryName});if(!fr)return"continue";var Pr=Le.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(fr.objects);dr.subtotalType=!mt||gt&&!Pr?0:2},kt=0,Ht=nt;kt<Ht.length;kt++)At(Ht[kt])}(ht,xt)}}function fe(ft){return["Rows","Values"]}function we(ft){var ht=ft.dataViewMappings[0];ht&&ht.table&&(ht.table.rows.for.in.subtotalType=1)}var ze=[{objectProperty:E.gE.valueAxis.showAxisTitle,defaultValue:(0,b.O7)(!1)}],$e=t(396894),ot=t(244945),_t=t(36629);function ke(ft){var ht=ft.dataViewMappings[0];if(ht&&ht.matrix&&ht.metadata){var xt=ht.matrix,lt=ht.metadata.objects,nt=(0,ee.NA)(lt,_t.il.ratioLine.show,!1),mt=!1,gt=!1,At=!1,kt=[],Ht=xt.rows;if(Ht&&!_.isEmpty(Ht.select)){f.fF.assert(function(){return!!(Ht.dataReductionAlgorithm.bottom||Ht.dataReductionAlgorithm.sample||Ht.dataReductionAlgorithm.overlappingPointsSample)},"invalid data reduction");for(var nr=0,lr=Ht.select;nr<lr.length;nr++)for(var dr=lr[nr],yr=0,Rr=dr.composite?dr.composite:[dr];yr<Rr.length;yr++){var Mt=Rr[yr];(0,R.Ci)(Mt)&&kt.push(Mt.bind.to),(0,R.uS)(Mt)&&kt.push(Mt.for.in);var pt=Tt(Mt);pt&&(mt=!0,pt===_t.TL.y&&(gt=!0),pt===_t.TL.x&&(At=!0))}}if(nt&&!mt){for(var se=0,Z=kt;se<Z.length;se++)Z[se].subtotalType=2;(0,R.uS)(xt.columns)&&(xt.columns.for.in.subtotalType=2)}var vt=xt.rows.dataReductionAlgorithm,Ft=(0,ee.NA)(lt,_t.il.general.dataVolume,null),ir=(0,ee.NA)(lt,ie.p.categoryAxis.axisType)===ot.Pf,Cr=_.find(kt,function(Dt){return Dt.role===_t.TL.x}),Et=Cr&&_.filter(Cr.items,function(Dt){return _.includes(Cr.activeItems,Dt.queryName)}),qe=_.size(Et),Pt=0===qe?void 0:1===qe&&_.every(Et,function(Dt){return Dt.type&&(Dt.type.numeric||Dt.type.integer)}),Nt=_.find(xt.values.select,function(Dt){return(0,R.Ci)(Dt)&&Dt.bind.to.role===_t.TL.x}),jt=Nt&&(0,R.Ci)(Nt)&&Nt.bind.to,Xt=jt?_.filter(jt.items,function(Dt){return!Dt.hidden}):[],Ae=_.size(Xt),tt=_.every(Xt,function(Dt){return Dt.type&&(Dt.type.numeric||Dt.type.integer)});if(!At&&Ae>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(gt&&qe>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!At&&1===Ae&&!tt)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(mt&&(ir||!1===Pt)){if(gt)return{error:{code:ir?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};xt.rows.dataReductionAlgorithm={window:{count:200}};var ct=_.remove(Ht.select,function(Dt){return(0,R.Ci)(Dt)&&Dt.bind.to.role===_t.TL.series});f.fF.assert(function(){return 1===ct.length},"series mapping should be removed");var bt=ct[0];bt&&bt.bind&&(xt.columns={for:{in:bt.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else null!=vt&&vt.overlappingPointsSample?((0,ee.NA)(lt,ie.p.categoryAxis.logAxisScale)&&(vt.overlappingPointsSample.x.transform=1),(0,ee.NA)(lt,ie.p.valueAxis.logAxisScale)&&(vt.overlappingPointsSample.y.transform=1),null!=Ft&&(vt.overlappingPointsSample.count=Ft)):null!=vt&&vt.sample&&null!=Ft&&(vt.sample.count=Ft)}}function dt(ft){if(_.find(ft.dataViewMappings,function(xt){var lt,nt,mt;return null===(mt=null===(nt=null===(lt=xt.matrix)||void 0===lt?void 0:lt.rows)||void 0===nt?void 0:nt.dataReductionAlgorithm)||void 0===mt?void 0:mt.window}))return[_t.TL.x,_t.TL.y,E.au.series]}function Tt(ft){var ht;return(0,R.Ci)(ft)?ht=ft.bind.to.role:(0,R.uS)(ft)&&(ht=ft.for.in.role),ht===_t.TL.x?_t.TL.x:ht===_t.TL.y?_t.TL.y:void 0}function Wt(ft){return{hasSize:(0,$e.c5)(ft,"Size"),hasPlayAxis:(0,$e.c5)(ft,"Play")}}function Kt(ft){var ht=_.first(ft.dataViewMappings);return ht&&ht.matrix?(0,d.gY)(ht.matrix,3):ht&&ht.categorical&&ht.categorical.categories?(0,d.T6)(ft,3):{subjectKind:3,error:2,bindings:void 0}}var Zt=t(370030),er=t(580968),ar=t(875194),sr=t(75033),gr=t(680187),Sr=t(225474);function Mr(ft){var ht=ft.dataViewMappings[0];ht&&ht.table&&ht.metadata&&(ht.table.rows.for.in.subtotalType=Le.FX.PropGeneralTableTotals.getValue(ht.metadata.objects)?1:0)}function St(ft){return["Values"]}var Gt=t(55397);function rr(ft){var ht=ft.dataViewMappings[0];if(ht&&ht.table&&ht.metadata){var xt=ht.table.rows,lt=xt.for.in.items;_.some(lt,function(mt){var gt,At;return!(null===(At=null===(gt=mt.type)||void 0===gt?void 0:gt.misc)||void 0===At||!At.sparkline)})&&(ht.table.rows.dataReductionAlgorithm.window.count=100),xt.for.in.subtotalType=Le.FX.PropTotalTableExTotals.getValue(ht.metadata.objects)?1:0,(0,R.pn)(ht,lt)}}function Fr(ft){return["Values"]}var wr=t(103819);function Vr(ft){var ht,xt=ft.dataViewMappings[0];if(xt){if(xt.categorical){var nt=null===(ht=xt.categorical.categories)||void 0===ht?void 0:ht.for.in;return void(nt&&!1!==(0,ee.NA)(xt.metadata.objects,{objectName:"valueAxis",propertyName:"totalsEnabled"})&&(nt.subtotalType=1))}if(xt.matrix){var gt=xt.matrix;gt.columns&&gt.columns.for&&gt.columns.for.in&&(gt.columns.for.in.subtotalType=1)}}}function Ar(ft){return[wr.IT.category,wr.IT.y,wr.IT.tooltips]}var vr=t(437189),$r={name:"heatMap",capabilities:vr.D.map,create:function(){throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:function(){return(0,e.__awaiter)(void 0,void 0,void 0,function(){return(0,e.__generator)(this,function(xt){switch(xt.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return[2,new(0,xt.sent().Map)({filledMap:!1})]}})})}},Qr=t(223834),Or=t(632799),ei=t(684282);function Xr(ft){return[ei.CT.value,Or.B0.Tooltips]}var Nr=function(){throw new Error("plugins.ts: 'Create' function is deprecated")},Yr=!1,Zr=function(){var ft,ht=this;if(Yr)return s.N;var xt=(ft={actionButton:{name:c.D.actionButton,titleKey:(0,v.V)("Button"),capabilities:vr.D.actionButton,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("actionButton").then(t.bind(t,555972))];case 1:return[2,new(0,gt.sent().ActionButton)]}})})}},animatedNumber:{name:c.D.animatedNumber,capabilities:vr.D.animatedNumber,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("animatedNumber").then(t.bind(t,949733))];case 1:return[2,new(0,gt.sent().AnimatedNumber)]}})})}},areaChart:{name:c.D.areaChart,watermarkKey:"area",titleKey:(0,v.V)("AreaChart_ToolTip"),capabilities:vr.D.areaChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:1,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:at,getSortableRoles:K,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},barChart:{name:c.D.barChart,watermarkKey:"bar",titleKey:(0,v.V)("BarChart_ToolTip"),capabilities:vr.D.barChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:6,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},basicShape:{name:c.D.basicShape,titleKey:(0,v.V)("BasicShape_ToolTip"),capabilities:vr.D.basicShape,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("basicShape").then(t.bind(t,185865))];case 1:return[2,new(0,gt.sent().BasicShape)]}})})}},shape:{name:c.D.shape,titleKey:(0,v.V)("BasicShape_ToolTip"),capabilities:vr.D.shape,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("shape").then(t.bind(t,425658))];case 1:return[2,new(0,gt.sent().Shape)]}})})},getCustomizeConvertTo:function(mt,gt,At){return function(ft){var ht,xt,lt,nt,mt;if("basicShape"===ft)return{objects:(ht={},ht[gr.eM.fill]=(xt={},xt[gr.Mn.fillColor]={transform:function(At){return null!=At?At:(0,b.$_)(null,"backgroundLight")},transformArgs:[{identifier:ar.O.fill.fillColor}],targetSelector:{id:sr.W6.default}},xt[gr.Mn.fillTransparency]={transformArgs:[{identifier:ar.O.fill.transparency}],targetSelector:{id:sr.W6.default}},xt),ht[gr.eM.outline]=(lt={},lt[gr.Mn.outlineColor]={transform:function(At){return null!=At?At:(0,b.e7)(2,0)},transformArgs:[{identifier:ar.O.line.lineColor}],targetSelector:{id:sr.W6.default}},lt[gr.Mn.outlineWeight]={transform:function(At){return null!=At?At:(0,b.cA)(3)},transformArgs:[{identifier:ar.O.line.weight}],targetSelector:{id:sr.W6.default}},lt[gr.Mn.outlineTransparency]={transformArgs:[{identifier:ar.O.line.transparency}],targetSelector:{id:sr.W6.default}},lt),ht[gr.eM.shape]=(nt={},nt[gr.Mn.tileShape]={transform:function(At){if(At&&(0,h.VC)(At)){var kt;switch(At.value){case Zt.C9:kt=er.m.Rectangle;break;case Zt.BG:kt=er.m.Oval;break;case Zt.jv:kt=er.m.Line;break;case Zt.x7:kt=er.m.Arrow;break;case Zt.cP:kt=er.m.TriangleIsoc;break;default:kt=er.m.Rectangle}return(0,b.fL)(kt)}},transformArgs:[{identifier:ar.O.general.shapeType}]},nt[gr.Mn.shapeRounding]={transformArgs:[{identifier:ar.O.line.roundEdge}]},nt),ht[sr.MI.rotation]=(mt={},mt[gr.Mn.shapeRotation]={transform:function(At,kt){if(void 0===At&&(At=(0,b.cA)(0)),!kt)return At;if((0,h.VC)(At)&&(0,h.VC)(kt)){var nr,Ht=At.value;switch(kt.value){case Zt.jv:nr=(Ht+90)%360;break;case Zt.x7:nr=(Ht+270)%360;break;default:nr=Ht}return(0,b.cA)(nr)}f.fF.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:ar.O.rotation.angle},{identifier:ar.O.general.shapeType}]},mt[sr.B3.rotation]={transform:function(){}},mt),ht)}}(mt)}},card:{name:c.D.card,watermarkKey:"card",titleKey:(0,v.V)("Card_ToolTip"),titleInSentenceKey:(0,v.V)("Card_Visual_InSentenceCase"),capabilities:vr.D.card,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("cardModule").then(t.bind(t,870930))];case 1:return[2,(0,gt.sent().createCard)(void 0)]}})})},getNarrativeSummaryBindings:S},cardVisual:{name:c.D.cardVisual,watermarkKey:"cardVisual",titleKey:(0,v.V)("Card_ToolTip_New"),titleInSentenceKey:(0,v.V)("Card_Visual_New_InSentenceCase"),capabilities:vr.D.cardVisual,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,97040))];case 1:return[2,new(0,gt.sent().CardVisual)(void 0)]}})})},module:{css:["cardVisual"]},getNarrativeSummaryBindings:g},multiRowCard:{name:c.D.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,v.V)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,v.V)("MultiRowCard_Visual_InSentenceCase"),capabilities:vr.D.multiRowCard,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("multiRowCard").then(t.bind(t,748511))];case 1:return[2,new(0,gt.sent().MultiRowCard)(void 0)]}})})},getSortableRoles:ce,getNarrativeSummaryBindings:Re},clusteredBarChart:{name:c.D.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,v.V)("ClusteredBarChart_ToolTip"),capabilities:vr.D.clusteredBarChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:5,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},clusteredColumnChart:{name:c.D.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,v.V)("ClusteredColumnChart_ToolTip"),capabilities:vr.D.clusteredColumnChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:3,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},columnChart:{name:c.D.columnChart,watermarkKey:"column",titleKey:(0,v.V)("ColumnChart_ToolTip"),capabilities:vr.D.columnChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:4,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},donutChart:{name:c.D.donutChart,watermarkKey:"donut",titleKey:(0,v.V)("DonutChart_ToolTip"),capabilities:vr.D.donutChart,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return[2,new(0,gt.sent().DonutChart)(void 0)]}})})},getNarrativeSummaryBindings:Te},funnel:{name:c.D.funnel,watermarkKey:"funnel",titleKey:(0,v.V)("Funnel_ToolTip"),capabilities:vr.D.funnel,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,819239))];case 1:return[2,new(0,gt.sent().FunnelChart)(void 0)]}})})}},gauge:{name:c.D.gauge,watermarkKey:"gauge",titleKey:(0,v.V)("Gauge_ToolTip"),capabilities:vr.D.gauge,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("gauge").then(t.bind(t,80168))];case 1:return[2,new(0,gt.sent().Gauge)(void 0,void 0)]}})})},getNarrativeSummaryBindings:Qe},hundredPercentStackedBarChart:{name:c.D.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,v.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:vr.D.hundredPercentStackedBarChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:7,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},hundredPercentStackedColumnChart:{name:c.D.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,v.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:vr.D.hundredPercentStackedColumnChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:8,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},image:{name:c.D.image,titleKey:(0,v.V)("Image"),capabilities:vr.D.image,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("imageVisual").then(t.bind(t,508116))];case 1:return[2,new(0,gt.sent().ImageVisual)]}})})}},lineChart:{name:c.D.lineChart,watermarkKey:"line",titleKey:(0,v.V)("LineChart_ToolTip"),capabilities:vr.D.lineChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:0,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:at,getSortableRoles:K,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P,getDataDrivenAlertCapabilities:ye},lineStackedColumnComboChart:{name:c.D.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,v.V)("LineStackedColumnComboChart_ToolTip"),capabilities:vr.D.lineStackedColumnComboChart,customizeQuery:I,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:13,featureSwitches:mt.featureSwitches})]}})})},getSortableRoles:k,getAdditionalTelemetry:M,getNarrativeSummaryBindings:Q},lineClusteredColumnComboChart:{name:c.D.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,v.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:vr.D.lineClusteredColumnComboChart,customizeQuery:I,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:12,featureSwitches:mt.featureSwitches})]}})})},getSortableRoles:k,getAdditionalTelemetry:M,getNarrativeSummaryBindings:Q},map:{name:c.D.map,watermarkKey:"map",titleKey:(0,v.V)("Map_ToolTip"),capabilities:vr.D.map,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return[2,new(0,gt.sent().Map)({filledMap:!1})]}})})},customizeQuery:De.Wj,getNarrativeSummaryBindings:De.N6},filledMap:{name:c.D.filledMap,watermarkKey:"filledMap",titleKey:(0,v.V)("FilledMap_ToolTip"),capabilities:vr.D.filledMap,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return[2,new(0,gt.sent().Map)({filledMap:!0})]}})})}},azureMap:{name:c.D.azureMap,watermarkKey:"azureMap",titleKey:(0,v.V)("AzureMap_ToolTip"),capabilities:vr.D.azureMap,module:{css:["azureMapVisuals"]},create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("azureMap").then(t.bind(t,720748))];case 1:return[2,new(0,gt.sent().AzureMap)(void 0)]}})})},getCustomizeConvertTo:function(mt,gt,At){return function(ft,ht){if(ht.azureMapsConversion){if("map"===ft)return function(){var ft,ht,xt,lt,nt;return{skipRoleMapping:!0,objects:(ft={},ft[n.Do.mapControls]=(ht={},ht[n.DQ.defaultStyle]={transformArgs:[{identifier:r.jM.mapStyles.mapTheme}],transform:function(gt){if(!gt||!(0,h.VC)(gt))return(0,b.fL)(m(p.AB));var At=m(gt.value);return(0,b.fL)(At)}},ht[n.DQ.showLabels]={transformArgs:[{identifier:r.jM.mapStyles.showLabels}]},ht[n.DQ.autoZoom]={transformArgs:[{identifier:r.jM.mapControls.autoZoom}]},ht[n.DQ.zoom]={transformArgs:[{identifier:r.jM.mapControls.zoomLevel}],transform:function(gt){if(gt&&(0,h.VC)(gt)){var kt=u(gt.value);return(0,b.cA)(kt)}}},ht[n.DQ.centerLatitude]={transformArgs:[{identifier:r.jM.mapControls.centerLatitude}]},ht[n.DQ.centerLongitude]={transformArgs:[{identifier:r.jM.mapControls.centerLongitude}]},ht[n.DQ.showStylePicker]={transform:function(){return(0,b.O7)(!1)}},ht[n.DQ.showNavigationControls]={transformArgs:[{identifier:r.jM.mapControls.showZoomButtons}],transform:function(gt){return gt||(0,b.O7)(!1)}},ht[n.DQ.showSelectionControl]={transformArgs:[{identifier:r.jM.mapControls.showLassoButton}],transform:function(gt){return gt||(0,b.O7)(!1)}},ht),ft.dataPoint={showAllDataPoints:{transformArgs:[{identifier:r.jM.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:r.jM.dataPoint.fill}]}},ft[n.Do.bubbleLayer]=(xt={},xt[n.DQ.show]={transformArgs:[{identifier:r.jM.heatMap.show}],transform:function(gt){return gt&&(0,h.VC)(gt)&&gt.value?(0,b.O7)(!1):(0,b.O7)(!0)}},xt[n.DQ.bubbleRadius]={transformArgs:[{identifier:r.jM.bubbles.bubbleSize}],transform:function(gt){(!gt||!(0,h.VC)(gt))&&(gt=(0,b.cA)(1));var Ht=V(gt.value,[-30,100],[.6,24]);return(0,b.cA)(Math.round(Ht))}},xt[n.DQ.minBubbleRadius]={transformArgs:[{identifier:r.jM.bubbles.bubbleSize}],transform:function(gt){(!gt||!(0,h.VC)(gt))&&(gt=(0,b.cA)(1));var At=[-30,50],nr=V(_.clamp(gt.value,At[0],At[1]),At,[.6,15]);return(0,b.cA)(Math.round(nr))}},xt[n.DQ.maxRadius]={transformArgs:[{identifier:r.jM.bubbles.bubbleSize}],transform:function(gt){(!gt||!(0,h.VC)(gt))&&(gt=(0,b.cA)(1));var At=[-30,50],nr=V(_.clamp(gt.value,At[0],At[1]),At,[2,50]);return(0,b.cA)(Math.round(nr))}},xt[n.DQ.markerRangeType]={transformArgs:[{identifier:r.jM.bubbles.markerRangeType}],transform:function(gt){if(gt&&(0,h.VC)(gt)&&gt.value)return(0,b.fL)(gt.value)}},xt[n.DQ.bubbleStrokeWidth]={transform:function(){return(0,b.cA)(1)}},xt[n.DQ.autoStrokeColor]={transform:function(){return(0,b.O7)(!0)}},xt[n.DQ.layerPosition]={transform:function(){return(0,b.fL)("")}},xt),ft[n.Do.categoryLabels]=(lt={},lt[n.DQ.show]={transformArgs:[{identifier:r.jM.categoryLabels.show},{identifier:r.jM.heatMap.show}],transform:function(gt,At){return At&&(0,h.VC)(At)&&At.value?(0,b.O7)(!1):gt}},lt.color={transformArgs:[{identifier:r.jM.categoryLabels.color}]},lt.fontFamily={transformArgs:[{identifier:r.jM.categoryLabels.fontFamily}]},lt.fontSize={transformArgs:[{identifier:r.jM.categoryLabels.fontSize}]},lt.bold={transformArgs:[{identifier:r.jM.categoryLabels.bold}]},lt.italic={transformArgs:[{identifier:r.jM.categoryLabels.italic}]},lt.underline={transformArgs:[{identifier:r.jM.categoryLabels.underline}]},lt.enableBackground={transformArgs:[{identifier:r.jM.categoryLabels.enableBackground}]},lt.backgroundColor={transformArgs:[{identifier:r.jM.categoryLabels.backgroundColor}]},lt.backgroundTransparency={transformArgs:[{identifier:r.jM.categoryLabels.backgroundTransparency}]},lt),ft[n.Do.heatMapLayer]=(nt={},nt[n.DQ.show]={transformArgs:[{identifier:r.jM.heatMap.show}]},nt[n.DQ.heatMapRadius]={transformArgs:[{identifier:r.jM.heatMap.filterRadius}]},nt[n.DQ.heatMapRadiusUnit]={transformArgs:[{identifier:r.jM.heatMap.unit}]},nt[n.DQ.mapTransparency]={transformArgs:[{identifier:r.jM.heatMap.transparency}]},nt[n.DQ.heatMapColorLow]={transformArgs:[{identifier:r.jM.heatMap.color0}]},nt[n.DQ.heatMapColorCenter]={transformArgs:[{identifier:r.jM.heatMap.color50}]},nt[n.DQ.heatMapColorHigh]={transformArgs:[{identifier:r.jM.heatMap.color100}]},nt),ft)}}();if("filledMap"===ft)return function(){var ft,ht,xt,lt,nt;return{skipRoleMapping:!0,objects:(ft={dataPoint:{showAllDataPoints:{transformArgs:[{identifier:l.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:l.Vh.dataPoint.fill}]}}},ft[n.Do.mapControls]=(ht={},ht[n.DQ.defaultStyle]={transformArgs:[{identifier:r.jM.mapStyles.mapTheme}],transform:function(gt){if(!gt||!(0,h.VC)(gt))return(0,b.fL)(m(p.AB));var At=m(gt.value);return(0,b.fL)(At)}},ht[n.DQ.showLabels]={transformArgs:[{identifier:r.jM.mapStyles.showLabels}]},ht[n.DQ.autoZoom]={transformArgs:[{identifier:l.Vh.mapControls.autoZoom}]},ht[n.DQ.zoom]={transformArgs:[{identifier:l.Vh.mapControls.zoomLevel}],transform:function(gt){if(gt&&(0,h.VC)(gt)){var kt=u(gt.value);return(0,b.cA)(kt)}}},ht[n.DQ.centerLatitude]={transformArgs:[{identifier:l.Vh.mapControls.centerLatitude}]},ht[n.DQ.centerLongitude]={transformArgs:[{identifier:l.Vh.mapControls.centerLongitude}]},ht[n.DQ.showStylePicker]={transform:function(){return(0,b.O7)(!1)}},ht[n.DQ.showNavigationControls]={transformArgs:[{identifier:l.Vh.mapControls.showZoomButtons}],transform:function(gt){return gt||(0,b.O7)(!1)}},ht[n.DQ.showSelectionControl]={transformArgs:[{identifier:l.Vh.mapControls.showLassoButton}],transform:function(gt){return gt||(0,b.O7)(!1)}},ht),ft[n.Do.categoryLabels]=(xt={},xt[n.DQ.show]={transform:function(){return(0,b.O7)(!1)}},xt),ft[n.Do.bubbleLayer]=(lt={},lt[n.DQ.show]={transform:function(){return(0,b.O7)(!1)}},lt),ft[n.Do.filledMap]=(nt={},nt[n.DQ.show]={transform:function(){return(0,b.O7)(!0)}},nt[n.DQ.defaultColor]={transformArgs:[{identifier:l.Vh.dataPoint.defaultColor}]},nt[n.DQ.mapTransparency]={transform:function(){return(0,b.cA)(40)}},nt),ft)}}()}}(mt,At)}},ribbonChart:{name:c.D.ribbonChart,watermarkKey:"ribbon",titleKey:(0,v.V)("RibbonChart_ToolTip"),capabilities:vr.D.ribbonChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:9,featureSwitches:mt.featureSwitches})]}})})},stampHardcodedDefaultObjects:ze,customizeQuery:D,getSortableRoles:A,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},shapeMap:{name:c.D.shapeMap,watermarkKey:"shapeMap",titleKey:(0,v.V)("ShapeMap_ToolTip"),capabilities:vr.D.shapeMap,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,693363))];case 1:return[2,new(0,gt.sent().ShapeMap)(void 0)]}})})}},treemap:{name:c.D.treemap,watermarkKey:"tree",titleKey:(0,v.V)("Treemap_ToolTip"),capabilities:vr.D.treemap,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("treemap").then(t.bind(t,80062))];case 1:return[2,new(0,gt.sent().Treemap)(void 0)]}})})}},pieChart:{name:c.D.pieChart,watermarkKey:"pie",titleKey:(0,v.V)("PieChart_ToolTip"),capabilities:vr.D.pieChart,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return[2,new(0,gt.sent().DonutChart)({sliceWidthRatio:0})]}})})},getNarrativeSummaryBindings:Te},realTimeLineChart:{name:c.D.realTimeLineChart,watermarkKey:"line",titleKey:(0,v.V)("LineChart_ToolTip"),capabilities:vr.D.realTimeLineChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:14,featureSwitches:mt.featureSwitches})]}})})},getAdditionalTelemetry:M},scatterChart:{name:c.D.scatterChart,watermarkKey:"scatterplot",titleKey:(0,v.V)("ScatterChart_ToolTip"),capabilities:vr.D.scatterChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:10,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:ke,getSortableRoles:dt,getAdditionalTelemetry:Wt,getNarrativeSummaryBindings:Kt},stackedAreaChart:{name:c.D.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,v.V)("StackedAreaChart_ToolTip"),capabilities:vr.D.stackedAreaChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:2,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:at,getSortableRoles:K,getAdditionalTelemetry:M,getNarrativeSummaryBindings:P},table:{name:c.D.table,watermarkKey:"table",titleKey:(0,v.V)("Table_ToolTip"),titleInSentenceKey:(0,v.V)("Table_Visual_InSentenceCase"),capabilities:vr.D.table,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("table").then(t.bind(t,180939))];case 1:return[2,new(0,gt.sent().Table)]}})})},customizeQuery:Mr,getSortableRoles:St},matrix:{name:c.D.matrix,watermarkKey:"matrix",titleKey:(0,v.V)("Matrix_ToolTip"),titleInSentenceKey:(0,v.V)("Matrix_Visual_InSentenceCase"),capabilities:vr.D.matrix,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("matrix").then(t.bind(t,50039))];case 1:return[2,new(0,gt.sent().Matrix)]}})})},customizeQuery:Xe,getSortableRoles:et},tableEx:{name:c.D.tableEx,watermarkKey:"table",titleKey:(0,v.V)("Table_ToolTip"),titleInSentenceKey:(0,v.V)("Table_Visual_InSentenceCase"),capabilities:(0,Gt.k)(),create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("tableEx").then(t.bind(t,453890))];case 1:return[2,new(0,gt.sent().TableEx)(void 0,void 0)]}})})},customizeQuery:rr,getSortableRoles:Fr,module:{css:["pivotTableVisuals"]}},pivotTable:{name:c.D.pivotTable,watermarkKey:"matrix",titleKey:(0,v.V)("Matrix_ToolTip"),titleInSentenceKey:(0,v.V)("Matrix_Visual_InSentenceCase"),capabilities:vr.D.pivotTableCapabilities,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,911025))];case 1:return[2,new(0,gt.sent().PivotTable)(void 0,void 0)]}})})},customizeQuery:ut,getSortableRoles:fe,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:c.D.accessibleTable,watermarkKey:"matrix",capabilities:vr.D.accessibleTable,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("accessibleTable").then(t.bind(t,528621))];case 1:return[2,new(0,gt.sent().AccessibleTable)]}})})},module:{css:["accessibleTableVisual"]}},slicer:{name:c.D.slicer,watermarkKey:"slicer",titleKey:(0,v.V)("Slicer_ToolTip"),capabilities:vr.D.slicer,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("slicer").then(t.bind(t,817174))];case 1:return[2,new(0,gt.sent().Slicer)(void 0)]}})})},customizeQuery:Sr.Wj,getSortableRoles:Sr.ot,shouldIgnoreCrossFilter:Sr.vu,mergeObjects:Sr.PM,customizeVisualAuthoringOperations:Sr.pQ},advancedSlicerVisual:{name:c.D.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,v.V)("ButtonSlicer_Tooltip"),capabilities:vr.D.advancedSlicer,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("advancedSlicer").then(t.bind(t,184624))];case 1:return[2,(0,gt.sent().createAdvancedSlicer)(void 0)]}})})},getSortableRoles:Xr,module:{css:["advancedSlicerVisual"]}},pageNavigator:{name:c.D.pageNavigator,titleKey:(0,v.V)("Visual_PageNavigator"),capabilities:vr.D.pageNavigator,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("navigator").then(t.bind(t,146078))];case 1:return[2,(0,gt.sent().createNavigator)({navigatorType:"page"})]}})})}},bookmarkNavigator:{name:c.D.bookmarkNavigator,titleKey:(0,v.V)("Visual_BookmarkNavigator"),capabilities:vr.D.bookmarkNavigator,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("navigator").then(t.bind(t,146078))];case 1:return[2,(0,gt.sent().createNavigator)({navigatorType:"bookmark"})]}})})}},filterSlicer:{name:c.D.filterSlicer,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("slicer").then(t.bind(t,817174))];case 1:return[2,new(0,gt.sent().Slicer)(void 0)]}})})},capabilities:vr.D.slicer,customizeQuery:Sr.Wj,getSortableRoles:Sr.ot,shouldIgnoreCrossFilter:Sr.vu,mergeObjects:Sr.PM,customizeVisualAuthoringOperations:Sr.pQ},textbox:{name:c.D.textbox,titleKey:(0,v.V)("Textbox"),capabilities:vr.D.textbox,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("textbox").then(t.bind(t,772849))];case 1:return[2,new(0,gt.sent().Textbox)(void 0)]}})})},supportsSummarization:!0,summarizationMessage:(0,v.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:c.D.aiNarratives,titleKey:(0,v.V)("Narrative"),capabilities:vr.D.aiNarratives,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("aiNarratives").then(t.bind(t,722734))];case 1:return[2,new(0,gt.sent().AINarratives)]}})})},module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:function(mt){return function(ft){var ht,xt;if("textbox"===ft)return{objects:(ht={},ht[Qr.w$.narrativeSelection.dismissSelectionScreen.objectName]=(xt={},xt[Qr.w$.narrativeSelection.dismissSelectionScreen.propertyName]={transform:function(){return(0,b.O7)(!0)}},xt),ht)}}(mt)}},waterfallChart:{name:c.D.waterfallChart,watermarkKey:"waterfall",titleKey:(0,v.V)("WaterfallChart_ToolTip"),capabilities:vr.D.waterfallChart,create:Nr,createES6:function(mt){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(At){switch(At.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,At.sent().CartesianChart)({chartType:11,featureSwitches:mt.featureSwitches})]}})})},customizeQuery:Vr,getSortableRoles:Ar,getAdditionalTelemetry:M},scriptVisual:{name:c.D.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,v.V)("ScriptVisual_ToolTip"),capabilities:vr.D.scriptVisual,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,378791))];case 1:return[2,new(0,gt.sent().ScriptVisual)]}})})}},pythonVisual:{name:c.D.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,v.V)("PythonVisual_ToolTip"),capabilities:vr.D.pythonVisual,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,378791))];case 1:return[2,new(0,gt.sent().ScriptVisual)]}})})}},kpi:{name:c.D.kpi,watermarkKey:"kpi",titleKey:(0,v.V)("kpi_Tooltip"),capabilities:vr.D.kpi,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("kpiStatusWithHistory").then(t.bind(t,966035))];case 1:return[2,new(0,gt.sent().KPIStatusWithHistory)(void 0)]}})})},stampHardcodedDefaultObjects:me,getNarrativeSummaryBindings:be},keyDriversVisual:{name:c.D.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,v.V)("KeyDriver_Tooltip"),capabilities:vr.D.keyDrivers,create:function(mt){return mt.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:He},decompositionTreeVisual:{name:c.D.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,v.V)("DecompositionTree_Tooltip"),capabilities:vr.D.decompositionTree,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,231966))];case 1:return[2,new(0,gt.sent().DecompositionTree)]}})})},customizeQuery:ne},qnaVisual:{name:c.D.qnaVisual,capabilities:vr.D.qnaVisual,create:function(mt){return mt.module.createQnaVisual()},titleKey:(0,v.V)("Generic_Qna")},scorecard:{name:c.D.scorecard,watermarkKey:"scorecard",titleKey:(0,v.V)("Scorecard_Visual_Tooltip"),capabilities:vr.D.scorecard,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("scorecard").then(t.bind(t,585358))];case 1:return[2,new(0,gt.sent().Scorecard)]}})})},module:{css:["scorecardVisual"]}},rdlVisual:{name:c.D.rdlVisual,titleKey:(0,v.V)("RdlVisual_ToolTip"),capabilities:vr.D.rdlVisual,create:Nr,createES6:function(){return(0,e.__awaiter)(ht,void 0,void 0,function(){return(0,e.__generator)(this,function(gt){switch(gt.label){case 0:return[4,t.e("rdlVisual").then(t.bind(t,139894))];case 1:return[2,new(0,gt.sent().RdlVisual)]}})})},module:{css:["rdlVisual"]},customizeQuery:we},dataQueryVisual:{name:c.D.dataQueryVisual,capabilities:vr.D.dataQueryVisual,create:function(){f.fF.assertFail("This visual should not be created")},customizeQuery:re}},ft[$r.name]=$r,ft);for(var lt in xt)s.N[lt]=xt[lt];return Yr=!0,s.N}()},437189:function(Je,H,t){t.d(H,{D:function(){return re}});var e=t(145315),c=t(734287),s=t(403451),f=t(174665),v={dataRoles:[{name:f.r.rows,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Rows"),description:(0,c.V)("Role_DisplayName_RowsDescription")},{name:f.r.columns,kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Columns"),description:(0,c.V)("Role_DisplayName_ColumnsDescription")},{name:f.r.values,kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:f.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:f.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:f.r.values}}}}]},b=t(914285),h=t(223834),n={objects:{general:{properties:{formatString:s.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},l=t(663406),r=t(875194),o=t(632799),a=t(259291),i=t(465204),m=t(37584),u=t(108333),V=t(542277),d=t(464925),S=t(719661),g=t(525963),y=t(635491),C=t(381433),E=t(289166),M=t(935270),P=t(424420),T=t(939523),x=t(551493),R=t(790960),D=t(451434),L=t(693191),A=t(886883),O=t(944854),N=t(226514),w={dataRoles:[{name:"Category",kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Axis"),description:(0,c.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:e.DW.Grouping,displayName:(0,c.V)("Role_DisplayName_Legend"),description:(0,c.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.DW.Measure,displayName:(0,c.V)("Role_DisplayName_Values"),description:(0,c.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:(0,c.V)("Visual_General"),properties:{formatString:s.iD.formatString,responsive:s.iD.responsive,responsiveLegacy:s.iD.responsiveLegacy}},legend:{displayName:(0,c.V)("Visual_Legend"),description:(0,c.V)("Visual_LegendDescription"),properties:{show:s.iD.show,position:s.iD.legendPosition,showTitle:s.iD.showLegendTitle,titleText:(0,N.__assign)((0,N.__assign)({},s.iD.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:s.iD.labelColor,fontSize:s.iD.fontSize}},categoryAxis:{displayName:(0,c.V)("Visual_XAxis"),properties:{show:s.iD.show,axisType:s.iD.axisType,showAxisTitle:s.iD.showAxisTitle_X,axisStyle:s.iD.axisStyle,labelColor:s.iD.labelColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,c.V)("Visual_YAxis"),properties:{show:s.iD.show,showAxisTitle:s.iD.showAxisTitle_Y,axisStyle:s.iD.axisStyle,labelColor:s.iD.labelColor,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision}},dataPoint:{displayName:(0,c.V)("Visual_DataPoint"),description:(0,c.V)("Visual_DataPointDescription"),properties:{defaultColor:s.iD.defaultColor,fill:s.iD.fill}},plotArea:{displayName:(0,c.V)("Visual_Plot"),properties:{transparency:s.iD.transparency,image:s.iD.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}},I=t(36629),B=t(465829),j={dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},W=t(75033),U=t(292638),k=t(684282),Q=t(173761),te=t(36623),ee=t(826335),J=t(103819),re={actionButton:(0,b.mx)(),aiNarratives:(0,h.Tf)(),animatedNumber:n,areaChart:(0,T.yg)(!1,!0),barChart:(0,m.nn)(!0,!0),basicShape:r.T,advancedSlicer:o.u9,shape:W.Ic,card:a.C,cardVisual:i.LS,multiRowCard:R._i,clusteredBarChart:(0,m.nn)(!0),clusteredColumnChart:(0,m.nn)(),columnChart:(0,m.nn)(!1,!0),donutChart:(0,S.cw)(),funnel:(0,y.qW)(),gauge:C.J1,hundredPercentStackedBarChart:(0,m.nn)(!0,!0),hundredPercentStackedColumnChart:(0,m.nn)(!1,!0),ribbonChart:(0,m.nn)(!1,!0,!0),image:E.Jz,lineChart:(0,T.yg)(!1,!1),stackedAreaChart:(0,T.yg)(!0,!0),lineStackedColumnComboChart:(0,u.p5)(!0),lineClusteredColumnComboChart:(0,u.p5)(!1),map:(0,x.NC)(),filledMap:(0,g.XN)(),azureMap:(0,l.$E)(),shapeMap:(0,U.x)(),treemap:(0,ee.cB)(),pieChart:(0,S.cw)(),scatterChart:(0,I.r4)(),table:(0,Q.Y)(),matrix:f.d,slicer:(0,k.st)(),pageNavigator:D.QP,bookmarkNavigator:D.j0,textbox:te.dd,waterfallChart:(0,J.GJ)(),heatMap:(0,x.NC)(),scriptVisual:j,pythonVisual:{dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,c.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,P.pW)(),realTimeLineChart:w,accessibleTable:v,pivotTableCapabilities:(0,L.R)(),keyDrivers:(0,M.yM)(),decompositionTree:(0,d.Sd)(),qnaVisual:A.OF,dataQueryVisual:V.YE,scorecard:B.b,rdlVisual:O.Cg}},832867:function(Je,H,t){function e(f,v){s[f]=v}t.d(H,{G:function(){return e},N:function(){return s}});var f,s=(f={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?f=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=f,f)},829062:function(Je,H,t){t.d(H,{Q:function(){return l},o:function(){return r}});var e=t(787941),c=t(121157),s=t(185664),f=t(448711),v=t(35259),b=t(967908),h=t(1010),p={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},n={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"},l=function(){function o(){this.instanceId=void 0}return o.initialize=function(){(0,f.X0)(o.createLocaleOptions()),h.I6.localizationOptions=o.createTooltipLocaleOptions(),(0,b.iZ)(o.createDataViewTransformLocalizationOptions())},o.createLocaleOptions=function(){return{null:n.NullValue,true:n.BooleanTrue,false:n.BooleanFalse,NaN:n.NaNValue,infinity:n.InfinityValue,negativeInfinity:n.NegativeInfinityValue,beautify:function(i){return o.beautify(i)},describe:function(i){return o.describeUnit(i)},restatementComma:n.Restatement_Comma,restatementCompoundAnd:n.Restatement_CompoundAnd,restatementCompoundOr:n.Restatement_CompoundOr}},o.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:n.Tooltip_HighlightedValueDisplayName}},o.createDataViewTransformLocalizationOptions=function(){return{quarterPrefix:n.Visual_Quarter_Abbreviated}},o.prototype.getLocalizedString=function(a){for(var i=[],m=1;m<arguments.length;m++)i[m-1]=arguments[m];return n[a]},o.prototype.alertScreenReader=function(a){},o.prototype.alertWithDebounce=function(a,i){},o.prototype.requestFocus=function(){},o.prototype.onDragStart=function(){},o.prototype.getVisualLinkProperties=function(){},o.prototype.canSelect=function(){return!1},o.prototype.onSelecting=function(a){a.action=0},o.prototype.onSelect=function(){},o.prototype.onSwitchFocusModeState=function(){},o.prototype.canExpandCollapse=function(a){return!1},o.prototype.setNodeExpansionState=function(a){},o.prototype.setLevelExpansionState=function(a){},o.prototype.setCanDrill=function(a){},o.prototype.onContextMenu=function(){},o.prototype.loadMoreData=function(){},o.prototype.loadWindow=function(a){},o.prototype.setShouldDeferData=function(){},o.prototype.fetchMoreData=function(a){return!0},o.prototype.persistProperties=function(a){},o.prototype.onCustomSort=function(a){},o.prototype.getViewMode=function(){return 0},o.prototype.getEditMode=function(){return 0},o.prototype.setWarnings=function(a){},o.prototype.getWarnings$=function(){},o.prototype.setToolbar=function(a){},o.prototype.shouldRetainSelection=function(){return!1},o.prototype.geocoder=function(){return(0,v.Wy)()},o.prototype.geolocation=function(){e.fF.assertFail("Not being called anywhere")},o.prototype.promiseFactory=function(){return(0,c.p)()},o.prototype.visualCapabilitiesChanged=function(){},o.prototype.ignoreDefaultFilter=function(){},o.prototype.getIdentityDisplayNames=function(a){},o.prototype.setIdentityDisplayNames=function(a){},o.prototype.drill=function(a){},o.prototype.setFilterExpressionMetadata=function(a){},o.prototype.getFilterExpressionMetadata=function(){},o.prototype.dropdown=function(){},o.prototype.tooltips=function(){},o.prototype.telemetry=function(){},o.prototype.authenticationService=function(){},o.prototype.localStorageService=function(){},o.prototype.acquireAADTokenService=function(){},o.prototype.eventService=function(){},o.prototype.licenseManagerService=function(){},o.prototype.decompositionService=function(){},o.prototype.locale=function(){return navigator.language},o.prototype.allowInteractions=function(){return!0},o.prototype.loader=function(){return(0,s.hQ)(this.promiseFactory(),void 0,null)},o.prototype.getUIComponentFactory=function(){return null},o.prototype.applyJsonFilter=function(a,i,m,u){return!0},o.prototype.applyIdentityFilter=function(a,i,m,u){return!0},o.prototype.launchUrl=function(a){},o.prototype.refreshHostData=function(){},o.prototype.sendSelectionIdsToHost=function(a){},o.prototype.getJSONFilter=function(a,i){return this.promiseFactory().reject()},o.prototype.onHyperlinkClick=function(a,i){},o.prototype.visualTimeSynchronization=function(){},o.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},o.prototype.dataMultiSelectMode=function(){return 0},o.prototype.networkAvailability=function(){},o.prototype.downloadService=function(){},o.prototype.setAriaMetadata=function(a){},o.prototype.artifactService=function(){},o.prototype.getSectionsMetadata$=function(){},o.prototype.getBookmarksMetadata$=function(){},o.prototype.onNotifyLicense=function(a){},o.prototype.onClearLicenseNotification=function(){},o.prototype.onNotifyFeatureBlocked=function(a){},o.prototype.getSubSelectionService=function(){},o.prototype.webAccessService=function(){},o.prototype.getAzureMapToken=function(){},o.prototype.azureMapsEndpoint=function(){},o.prototype.geocoderIndexedDB=function(){},o.prototype.triggerUpdate=function(){},o.prototype.isScreenshotWorkload=function(){return!1},o.prototype.localStorageV2Service=function(){},o.prototype.aiNarrativesService=function(){},o.prototype.dateTimeFormatService=function(){},o.prototype.visualExportService=function(){},o.prototype.visualHostSubSelectionService=function(){},o.beautify=function(a){var i=p[a];return i?((0,f.J6)(i),n[i]||a):a},o.describeUnit=function(a){var i=-1===a?"Auto":a.toString(),m=n["DisplayUnitSystem_E"+i+"_Title"],u=a<=0?"{0}":n["DisplayUnitSystem_E"+i+"_LabelFormat"];if(m||u)return{title:m,format:u}},o}(),r=new l},23807:function(Je,H,t){t.d(H,{ag:function(){return P},rO:function(){return y},Ei:function(){return M},cq:function(){return E},xm:function(){return g}});var h,l,e=t(226514),c=t(787941),s=t(565146),f=t(696428),v=t(320380),b=t(898136);function n(T){return h||((h={})[v.yV.Continent.toLowerCase()]=b.fk.Continent,h[v.yV.CountryRegion.toLowerCase()]=b.fk.Sovereign,h[v.yV.StateOrProvince.toLowerCase()]=b.fk.AdminDivision1,h[v.yV.County.toLowerCase()]=b.fk.AdminDivision2,h[v.yV.City.toLowerCase()]=b.fk.PopulatedPlace,h[v.yV.PostalCode.toLowerCase()]=b.fk.Postcode,h[v.yV.Address.toLowerCase()]=b.fk.Address),T&&h[T.toLowerCase()]||""}function o(T){return l||((l={})[v.yV.CountryRegion.toLowerCase()]=b.fk.CountryRegion,l[v.yV.StateOrProvince.toLowerCase()]=b.fk.AdminDivision1,l[v.yV.County.toLowerCase()]=b.fk.AdminDivision2,l[v.yV.City.toLowerCase()]=b.fk.PopulatedPlace,l[v.yV.PostalCode.toLowerCase()]=b.fk.Postcode1),T&&l[T.toLowerCase()]||""}var i,a=t(703649),m=((i={})[b.yL]="G",i[b.a_]="S",i[b.Tu]="AG",i[b.S3]="AS",i),u={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},V={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},d={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},S=function(){function T(x,R,D,L){this.location=x,R&&(D&&L&&(R=this.removeRegion(R)),this.key=((R=m[R]||R)+";"+_.map(this.location.components,function(F){return(F.query||"")+"/"+(F.category||"")}).join("&")).toLowerCase(),x.culture&&(this.key+="&c=".concat(x.culture)))}return T.prototype.removeRegion=function(x){return c.fF.assert(function(){return!!x&&x.indexOf("atlas.microsoft.com")>0},"should be a valid azure maps url, but received ".concat(x)),x.slice(0,8)+x.slice(x.indexOf("atlas.microsoft.com"))},T.prototype.getKey=function(){return this.key},T.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}},T}(),g=function(T){function x(R,D,L){var F=T.call(this,D,R)||this;return F.credentials=L,F}return(0,e.__extends)(x,T),x.prototype.getCulture=function(){return this.location.culture},x.prototype.getBingEntity=function(){return n(_.last(this.location.components).category)},x.prototype.validate=function(){return null!=this.getEntity()},x.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(B){return!B.key})){var D=_.chain(R).map(function(B){return B.value}).filter(function(B){return B}).reverse().value().join(", ");return D?{Query:D}:void 0}for(var L={Address:{}},F=L.Address,A=0,O=R;A<O.length;A++){var N=O[A],w=N.value;if(!w||!(w=w.trim()))return;var I=N.key;"adminDistrict"===I&&F.AdminDistrict?F.AdminDistrict=N.value+", "+F.AdminDistrict:F[b.$o[I]]=N.value}return L},x.prototype.getUrl=function(R){var D={key:this.credentials||v.Zr.BingKey},L=this.getEntity();if(L){var F=L.Address;if(F)for(var A in F)D[b.H6[A]]=F[A];else D.q=L.Query;var O=this.location.culture||(0,a.$F)();return O&&(D.c=O),D.maxRes="10",(0,s.fS)(R,D,!0)}},x.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===v.yV.Continent&&R[1].category===v.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(L){var F=n(L.category),A="";F in u&&(A=u[F]);var O=L.query;return F===b.fk.Sovereign&&O&&(O=x.Iso3166Substitutions[O]||O),{key:A,value:O}})},x.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},x.prototype.getResult=function(R){var D=this,L=this.isGeneralQuery(),F=C(R,function(N){return D.locationQuality(N,L)});if(F){var A=F.point.coordinates;return{coordinates:{latitude:A&&A[0],longitude:A&&A[1],entityType:F.entityType}}}return{error:new Error("Geocode result is empty.")}},x.prototype.shouldDoFullGeocoding=function(R){var D=R&&R.resourceSets&&R.resourceSets[0]&&R.resourceSets[0].resources&&R.resourceSets[0].resources[0];if(!D||(0,a.SN)(D.matchCodes))return!1;var L=this.getBingEntity().toLowerCase(),F=D.entityType&&D.entityType.toLowerCase();return"admindivision1"===L&&"admindivision2"===F||"admindivision2"===L&&"admindivision1"===F},x.prototype.extractSingleResult=function(R,D){return R&&R.resourceSets&&R.resourceSets.length>D?{resourceSets:[R.resourceSets[D]]}:void 0},x.prototype.locationQuality=function(R,D){if(!D&&R.matchCodes&&!(0,a.X5)(R.matchCodes))return-1;var L=0;if(1===this.location.components.length&&this.location.components[0].category===v.yV.CountryRegion){var F=R.address&&R.address.countryRegionIso2;if(F){var A=this.location.components[0].query.toLowerCase();2===A.length&&A===F.toLowerCase()&&(L+=2)}}return R.entityType&&R.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(L+=1),L},x.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},x}(S),y=function(T){function x(R,D,L,F,A,O,N){void 0===N&&(N="subscriptionKey");var w=T.call(this,D,R,L,F)||this;return w.apiVersion=A,w.credentials=O,w.credentialType=N,c.fF.assert(function(){return"subscriptionKey"===N||!!O},"credentials must be provided when using Azure Maps SAS Token"),w}return(0,e.__extends)(x,T),x.prototype.getCulture=function(){return this.location.culture},x.prototype.validate=function(){return null!=this.getEntity()},x.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(I){return!I.key})){var D=_.chain(R).map(function(I){return I.value}).filter(function(I){return I}).reverse().value().join(", ");return D?{query:D}:void 0}for(var L={},F=0,A=R;F<A.length;F++){var O=A[F],N=O.value;if(!N||!(N=N.trim()))return;var w=O.key;"adminDistrict"===w&&L.adminDistrict?L.adminDistrict=O.value+", "+L.adminDistrict:L[w]=O.value}return L},x.prototype.getUrl=function(R){var D={},L=this.getEntity();if(!_.isEmpty(L)){for(var F in L)D[F]=L[F];return D.top="10",D["api-version"]=this.apiVersion,(0,s.fS)(R,D,!0)}},x.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===v.yV.Continent&&R[1].category===v.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(L){var F=n(L.category),A="";F in V&&(A=V[F]);var O=L.query;return F===b.fk.Sovereign&&O&&(O=x.Iso3166Substitutions[O]||O),{key:A,value:O}})},x.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},x.prototype.getResult=function(R){var F,D=this,L=R&&!_.isEmpty(R.features)&&R.features;if(Array.isArray(L)){var A=_.chain(L).map(function(I){return{feature:I,value:D.locationQuality(I,D.isGeneralQuery())}}).filter(function(I){return I.value>=0}).maxBy(function(I){return I.value}).value();F=A&&A.feature}if(F){var O=F.geometry,N=F.properties;return{coordinates:{latitude:O&&O.coordinates[1],longitude:O&&O.coordinates[0],entityType:N&&N.type}}}return{error:new Error("Geocode result is empty.")}},x.prototype.extractSingleResult=function(R,D){return R&&R.batchItems&&R.batchItems.length>D?R.batchItems[D]:void 0},x.prototype.getBingEntity=function(){return n(_.last(this.location.components).category)},x.prototype.locationQuality=function(R,D){var L;if(!D&&R.properties&&R.properties.matchCodes&&!(0,a.X5)(R.properties.matchCodes))return-1;var F=0;if("High"===(null===(L=R.properties)||void 0===L?void 0:L.confidence)&&(F+=3),1===this.location.components.length&&this.location.components[0].category===v.yV.CountryRegion){var A=R.properties&&R.properties.address&&R.properties.address.countryRegion&&R.properties.address.countryRegion.ISO;if(A){var O=this.location.components[0].query.toLowerCase();2===O.length&&O===A.toLowerCase()&&(F+=2)}}return R.properties&&R.properties.type&&R.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(F+=1),F},x.prototype.getHeaders=function(){var R;R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||f.R.AzureKey};var D=this.getCulture()||(0,a.$F)();return D&&(R["Accept-Language"]=D),R},x.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},x.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},x}(S);function C(T,x){var R=T&&!_.isEmpty(T.resourceSets)&&T.resourceSets[0].resources;if(Array.isArray(R)){var D=_.chain(R).map(function(L){return{location:L,value:x(L)}}).filter(function(L){return L.value>=0}).maxBy(function(L){return L.value}).value();return D&&D.location}}var E=function(T){function x(R,D,L,F,A){var O=T.call(this,{components:[{query:[D,L].join(),category:"Point"}]})||this;return O.credentials=A,O.latitude=D,O.longitude=L,O.entities=F,O}return(0,e.__extends)(x,T),x.prototype.validate=function(){return!0},x.prototype.getUrl=function(R){var D=this;c.fF.assert(function(){return D.entities.every(function(O){return!!_.findKey(b.fk,function(N){return N===O})})},"All entities should match one of the allowed BingEntities");var L=(0,s.oB)(R),F=_.endsWith(L.baseUrl,"/")?L.baseUrl:L.baseUrl+"/";F+=[this.latitude,this.longitude].join();var A={key:this.credentials||v.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(A.includeEntityTypes=this.entities.join()),(0,s.fS)(F,A,!0)},x.prototype.getResult=function(R){var D=this,L=C(R,function(w){return-1===D.entities.indexOf(w.entityType)?0:1});if(L){var F=L.point.coordinates,A=L.address||{};return{coordinates:{latitude:F[0],longitude:F[1],addressLine:A.addressLine,locality:A.locality,neighborhood:A.neighborhood,adminDistrict:A.adminDistrict,adminDistrict2:A.adminDistrict2,formattedAddress:A.formattedAddress,postalCode:A.postalCode,countryRegionIso2:A.countryRegionIso2,countryRegion:A.countryRegion,landmark:A.landmark,name:L.name}}}return{coordinates:null}},x}(S),M=function(T){function x(R,D,L,F,A,O,N,w){void 0===O&&(O=3);var I=T.call(this,{components:[{query:[D,L,A,O].join(",")+(N!==o(F)?","+N:""),category:F}]},R)||this;return I.credentials=w,I.latitude=D,I.longitude=L,I.levelOfDetail=A,I.maxGeoData=O,I.entityType=N,I}return(0,e.__extends)(x,T),x.prototype.getBingEntity=function(){return o(_.last(this.location.components).category)},x.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},x.prototype.getUrl=function(R){var D=this.entityType||this.getBingEntity();if(!D)return null;var L=(0,s.oB)(R),F=L.baseUrl,A=L.queryParameters;A||(A={});var O=A.c||A.culture,N=O||"",w=O&&(0,a.VB)(O)||"";return A.key=this.credentials||v.Zr.BingKey,A.$format="json",A.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+D+"'",1,0,"'"+N+"'","'"+w+"'"].join(", ")+")",delete A.c,delete A.culture,(0,s.fS)(F,A,!0)},x.prototype.getResult=function(R){var D=R;if(D&&D.d&&Array.isArray(D.d.results)&&D.d.results.length>0){var F=D.d.results[0].Primitives;if(F&&F.length>0){var A={latitude:this.latitude,longitude:this.longitude,locations:[]};F.sort(function(j,W){return j.Shape.length<W.Shape.length?1:j.Shape.length>W.Shape.length?-1:0});for(var O=Math.min(F.length,this.maxGeoData),N=0;N<O;N++)for(var I=F[N].Shape.split(","),B=1;B<I.length;B++)A.locations.push({nativeBing:I[B]});return{coordinates:A}}}return{error:new Error("Geocode result is empty.")}},x}(S),P=function(T){function x(R,D,L,F,A,O,N,w,I,B,j,W){void 0===I&&(I=3),void 0===W&&(W="subscriptionKey");var U=T.call(this,{components:[{query:[O,N,w,I].join(",")+(B!==o(D)?","+B:""),category:D}]},R,L,F)||this;return U.apiVersion=A,U.latitude=O,U.longitude=N,U.levelOfDetail=w,U.maxGeoData=I,U.entityType=B,U.credentials=j,U.credentialType=W,c.fF.assert(function(){return"subscriptionKey"===W||!!j},"credentials must be provided when using Azure Maps SAS Token"),U}return(0,e.__extends)(x,T),x.prototype.getBingEntity=function(){return o(_.last(this.location.components).category)},x.prototype.getResolution=function(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}},x.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},x.prototype.getUrl=function(R){var D,L,F=null!==(D=this.entityType)&&void 0!==D?D:this.getBingEntity();if(""!==F&&F in d&&(L=d[F]),!L)return null;var O={coordinates:"".concat(this.longitude,",").concat(this.latitude),view:"".concat("Auto"),resultType:L,resolution:"".concat(this.getResolution()),"api-version":this.apiVersion};return(0,s.fS)(R,O,!0)},x.prototype.getResult=function(R){var D=R;if(D&&D.geometry&&Array.isArray(D.geometry.geometries)&&D.geometry.geometries.length>0){var L=D.geometry.geometries,F=function(O,N){return O+N.length};return L.sort(function(A,O){var N=A.coordinates.reduce(F,0);return O.coordinates.reduce(F,0)-N}),this.maxGeoData<L.length&&(L=L.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:L}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}},x.prototype.getHeaders=function(){var R;(R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||f.R.AzureKey}).Accept="application/json";var D=(0,a.$F)();return D&&(R["Accept-Language"]=D),R},x.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},x}(S)},35259:function(Je,H,t){t.d(H,{Gv:function(){return P},A7:function(){return N},Wy:function(){return C}});var r,e=t(226514),c=t(787941),s=t(121157),f=t(320380),v=t(23807),b=t(898136),h=t(376461),l=function(){function j(W,U,k){this.maxMemoryCacheSize=W,this.maxMemoryCacheSizeOverflow=U,this.localStorageCache=k,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=k}return j.prototype.clear=function(W,U){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(k){switch(k.label){case 0:return W&&U.isSupported()?[4,U.clear()]:[3,2];case 1:k.sent(),k.label=2;case 2:return(0,h.LK)("G"),this.geocodeCache={},this.geocodeCacheCount=0,[2]}})})},j.prototype.getCoordinates=function(W,U,k,Q){return(0,e.__awaiter)(this,void 0,void 0,function(){var te,ee,J;return(0,e.__generator)(this,function(re){switch(re.label){case 0:return te=W.getKey(),(ee=this.geocodeCache[te])?(++ee.hitCount,[2,ee.coordinate]):k&&Q.isSupported()?[4,Q.get(te)]:[3,2];case 1:return J=re.sent(),[3,3];case 2:J=this.localStorageCache.getData(te),re.label=3;case 3:return J?(U&&U.logFirstQueryHit(W),this.registerInMemory(te,J,U,k,Q),[2,J]):(void 0===ee&&(U&&U.logFirstQueryMiss(W),this.markPendingInMemory(te)),[2])}})})},j.prototype.getCoordinatesMemoryOnly=function(W,U){var k=W.getKey(),Q=this.geocodeCache[k];if(Q)return++Q.hitCount,Q.coordinate},j.prototype.registerCoordinates=function(W,U,k,Q,te){return(0,e.__awaiter)(this,void 0,void 0,function(){var ee;return(0,e.__generator)(this,function(J){switch(J.label){case 0:return this.registerInMemory(W,U,k,Q,te),ee=j.getCoordinateToCache(U),Q&&te.isSupported()?[4,te.set(W,ee,function(){return k.logGeocodeCacheLimitExceeded(!0)})]:[3,2];case 1:return J.sent(),[3,3];case 2:this.localStorageCache.setData(W,ee,function(){return k.logGeocodeCacheLimitExceeded(!1)}),J.label=3;case 3:return[2]}})})},j.prototype.markPendingInMemory=function(W){this.geocodeCache[W]=null},j.prototype.registerInMemory=function(W,U,k,Q,te){var ee=this.geocodeCache,J=this.maxMemoryCacheSize,re=J+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=re){k&&k.disableFirstQueryLogging();var G=Object.keys(ee),ne=G.length;if(G.sort(function(Ve,Te){var Qe=ee[Ve],He=ee[Te];return(He?He.hitCount:0)-(Qe?Qe.hitCount:0)}),ne<2*re)for(var X=J-1;X<ne;X++)ee[G[X]]=void 0;else{var oe={};for(X=J-1;X-- >0;)oe[G[X]]=ee[G[X]];ee=this.geocodeCache=oe}this.geocodeCacheCount=J}Q&&te.isSupported()&&null==U&&(U={latitude:void 0,longitude:void 0}),ee[W]={coordinate:U,hitCount:1},++this.geocodeCacheCount},j.getCoordinateToCache=function(W){var U=null==W?void 0:W.locations;if(!U||!j.hasRuntimeBoundaryData(U))return W;var k={latitude:W.latitude,longitude:W.longitude,locations:_.map(U,function(Q){return{nativeBing:Q.nativeBing}})};return W.entityType&&(k.entityType=W.entityType),k},j.hasRuntimeBoundaryData=function(W){for(var U=0,k=W;U<k.length;U++){var Q=k[U];for(var te in Q)if("nativeBing"!==te)return!0}return!1},j}();function o(){return r||(r=new l(f.Zr.MaxCacheSize,f.Zr.MaxCacheSizeOverflow,(0,h.T5)("G",b.XF,f.Zr.MaxPersistedSpace,f.Zr.MaxAge))),r}function a(j,W,U,k){return j.getKey()?o().getCoordinates(j,W,U,k):Promise.resolve(void 0)}function i(j,W){if(j.getKey())return o().getCoordinatesMemoryOnly(j,W)}function m(j,W,U,k,Q){return j?o().registerCoordinates(j,W,U,k,Q):Promise.resolve(void 0)}function V(j,W){return o().clear(j,W)}var d=t(703649),S=function(){function j(){}return j.setMapsAjaxCall=function(W){j.MapsAjaxCall=W},j.MapsAjaxCall=$.ajax,j}(),g=t(696428),y=t(565146);function C(){return new T}function E(j,W,U){j&&(W instanceof v.xm?j.logGeocodeImmediate(W,U):W instanceof v.Ei?j.logGeocodeBoundaryImmediate(W,U):W instanceof v.rO?j.logAzureMapsGeocodeImmediate(W):W instanceof v.ag&&j.logAzureMapsGeocodeBoundaryImmediate(W))}function M(j,W,U,k,Q){j&&(W instanceof v.xm?j.logGeocodeResult(W,U,k,Q):W instanceof v.Ei?j.logGeocodeBoundaryResult(W,U,k,Q):W instanceof v.rO?j.logAzureMapsGeocodeResult(W,U,k,Q):W instanceof v.ag&&j.logAzureMapsGeocodeBoundaryResult(W,U,k,Q))}var P=function(){function j(W,U){this.useBatchGeocoding=W,this.bypassGeocodingCache=U}return j.prototype.geocodeBaseUrl=function(W){switch(W){case 4:case 6:return this.azureMapsGeocodingUrl();case 5:return this.azureMapsBoundaryUrl();case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}},j.prototype.geocodeQueueType=function(W){return 1===W?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0},j.prototype.geocode=function(W,U,k,Q,te,ee){c.fF.assert(function(){return 1===U||"sasToken"!==(null==te?void 0:te.credentialType)},"SASToken credential type is only supported for Azure Maps");var J=(0,s.p)().defer(),re=this.geocodeQueueType(U),G=1===U?new v.rO(this.azureMapsGeocodingUrl(),W,!0,ee,b.Ee,te&&te.credentials,te&&te.credentialType):new v.xm(this.bingGeocodingUrl(),W,te&&te.credentials);return this.geocodeCore(re,G,k,Q,te).pipe(function(ne){return J.resolve(ne)},function(ne){return J.reject(ne)}),J.promise},j.prototype.geocodeBoundary=function(W,U,k,Q,te,ee){c.fF.assert(function(){return 1===U||"sasToken"!==(null==te?void 0:te.credentialType)},"SASToken credential type is only supported for Azure Maps");var J=W.latitude,re=W.longitude,G=W.category,ne=void 0===G?"":G,X=W.levelOfDetail,oe=void 0===X?2:X,Ve=W.maxGeoData,Te=void 0===Ve?3:Ve,Qe=W.entityType,He=1===U?5:1,Ce=1===U?new v.ag(this.azureMapsBoundaryUrl(),ne,!0,ee,b.Ee,J,re,oe,Te,Qe,te&&te.credentials,te&&te.credentialType):new v.Ei(this.bingSpatialDataUrl(),J,re,ne,oe,Te,Qe,te&&te.credentials);return this.geocodeCore(He,Ce,k,Q,te)},j.prototype.geocodePoint=function(W,U,k,Q,te,ee){return this.geocodeCore(2,new v.cq(this.bingGeocodingUrl(),W,U,te,ee&&ee.credentials),k,Q,ee)},j.prototype.tryGeocodeImmediate=function(W,U,k,Q,te){return(0,e.__awaiter)(this,void 0,void 0,function(){var ee,J,re;return(0,e.__generator)(this,function(G){switch(G.label){case 0:return this.bypassGeocodingCache()?[2]:(ee=1===U?new v.rO(this.azureMapsGeocodingUrl(),W,!0,te,b.Ee):new v.xm(this.bingGeocodingUrl(),W),J=this.bingGeocodingLogger(),[4,a(ee,J,k,Q)]);case 1:return re=G.sent(),E(J,ee,re),[2,re]}})})},j.prototype.tryGeocodeBoundaryImmediate=function(W,U,k,Q,te){return(0,e.__awaiter)(this,void 0,void 0,function(){var ee,J,re,G,ne,X,oe,Ve,Te,Qe;return(0,e.__generator)(this,function(He){switch(He.label){case 0:return this.bypassGeocodingCache()?[2]:(ee=W.latitude,J=W.longitude,re=W.category,G=W.levelOfDetail,X=void 0===(ne=W.maxGeoData)?3:ne,oe=W.entityType,Ve=1===U?new v.ag(this.azureMapsBoundaryUrl(),re,!0,te,b.Ee,ee,J,G,X,oe):new v.Ei(this.bingSpatialDataUrl(),ee,J,re,G,X,oe),Te=this.bingGeocodingLogger(),[4,a(Ve,Te,k,Q)]);case 1:return Qe=He.sent(),E(Te,Ve,Qe),[2,Qe]}})})},j.prototype.geocodeCore=function(W,U,k,Q,te){var ee=$.Deferred();if(U.validate()){var J=this.bingGeocodingLogger(),re=te&&null!=te.bypassCache?te.bypassCache:this.bypassGeocodingCache(),G=!re&&i(U,J);if(G)E(J,U,G),ee.resolve(G);else{var ne=te&&te.timeout,X=3===W||6===W,oe=function(j,W,U,k,Q,te,ee){var J=j.toString()+W+(U||"");(3===j||6===j)&&ee&&(J+=ee);var G=w[J];if(!G){var ne=(0,y.oB)(W),X=ne.queryParameters;switch("/"===(W=ne.baseUrl)[W.length-1]&&(W=W.substring(0,W.length-1)),j){case 6:G=new A("".concat(W,":").concat(b.TY),U,{batchGeocodeCulture:ee,batchSize:b.uC,batchRequest:function(Ve){return JSON.stringify({batchItems:_.map(Ve,function(Te){return Te.getEntity()})})},batchHeaders:function(Ve,Te){var Qe={"Accept-Language":Te||(0,d.$F)()};return"sasToken"===te?Qe.Authorization="jwt-sas ".concat(Ve):Qe["subscription-key"]=Ve||g.R.AzureKey,Qe},batchQueryParameters:function(Ve,Te){return(0,e.__assign)((0,e.__assign)({},X),{"api-version":b.Ee})},tryIndexedDB:k,indexedDBService:Q,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case 3:G=new A("".concat(W,"/").concat(b.KE),U,{batchGeocodeCulture:ee,batchSize:b.TT,batchRequest:function(Ve){return JSON.stringify({GeocodeEntities:_.map(Ve,function(Te){return Te.getEntity()})})},batchHeaders:function(Ve,Te){return{}},batchQueryParameters:function(Ve,Te){return(0,e.__assign)((0,e.__assign)({},X),{culture:Te||(0,d.$F)(),output:"json",key:Ve})},tryIndexedDB:k,indexedDBService:Q});break;case 4:case 5:G=new O(W,U,{tryIndexedDB:k,indexedDBService:Q,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:G=new O(W,U,{tryIndexedDB:k,indexedDBService:Q})}w[J]=G}return G}(W,this.geocodeBaseUrl(W),te&&te.credentials,k,Q,te&&te.credentialType,X&&U.getCulture?U.getCulture():void 0),Ve={timeout:ne,geocoder:this,query:U,deferred:ee,logger:this.bingGeocodingLogger(),bypassCache:re};oe.enqueue(Ve),ne&&te.timeout.finally(function(){Ve.deferred.state()===s.O[s.O.pending]&&Ve.deferred.reject()})}}else ee.reject();return ee},j}(),T=function(j){function W(U,k,Q){void 0===U&&(U=function(){return!1}),void 0===k&&(k=function(){return!1});var te=j.call(this,U,k)||this;return te.logger=Q,te}return(0,e.__extends)(W,j),W.prototype.bingSpatialDataUrl=function(){return b.a_},W.prototype.bingGeocodingUrl=function(){return b.yL},W.prototype.bingGeocodingLogger=function(){return this.logger},W.prototype.azureMapsGeocodingUrl=function(){return b.Tu},W.prototype.azureMapsBoundaryUrl=function(){return b.S3},W}(P),A=function(){function j(W,U,k){this.baseUrl=W,this.credentials=U,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1,this.culture=k.batchGeocodeCulture,this.batchSize=k.batchSize,this.batchRequest=k.batchRequest,this.batchHeaders=k.batchHeaders,this.batchQueryParameters=k.batchQueryParameters,this.geocodeRetryOptions=k.geocodeRetryOptions,this.tryIndexedDB=k.tryIndexedDB,this.indexedDBService=k.indexedDBService}return j.prototype.getGeocodeBatchSize=function(){return this.batchSize},j.prototype.setGeocodeBatchSize=function(W){c.fF.assert(function(){return W>0&&_.isInteger(W)},"Invalid geocode batch size"),this.batchSize=W},j.prototype.reset=function(){var W=this.dequeueTimeout;W&&(this.dequeueTimeout=void 0,clearTimeout(W));for(var U=0,k=this.entries.concat(this.activeEntries);U<k.length;U++)this.cancel(k[U]);this.entries=[],this.activeEntries=[]},j.prototype.enqueue=function(W){var U=this,k={item:W};this.entries.push(k),W.deferred.always(function(){U.cancel(k)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=f.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},j.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<f.Zr.MaxBingRequest;){for(var W=[];0!==this.entries.length&&W.length<this.batchSize;){var U=this.entries.shift();if(!U.isCompleted){var k=!U.item.bypassCache&&i(U.item.query,U.item.logger);k?(E(U.item.logger,U.item.query,k),this.complete(U,{coordinates:k},!0)):W.push(U)}}W.length&&(this.geocodeRetryOptions?this.makeRequest(W,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(W))}}finally{this.inDequeue=!1}},j.prototype.scheduleDequeue=function(){var W=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){W.dequeueTimeout=void 0,W.dequeue()}))},j.prototype.cancel=function(W){var U=W.batch;if(U){var k=U.request;k&&--U.uncancelledCount<=0&&(U.request=null,k.abort())}this.complete(W,{error:new Error("cancelled")})},j.prototype.complete=function(W,U,k){var te,Q=this,ee=!1;if(!W.isCompleted&&(W.isCompleted=!0,W.item.deferred.state()===s.O[s.O.pending])){var J=this.tryIndexedDB&&this.indexedDBService.isSupported(),re=!W.item.bypassCache&&!k;!U||U.error?J&&re&&"Geocode result is empty."===(null===(te=null==U?void 0:U.error)||void 0===te?void 0:te.message)?(ee=!0,m(W.item.query.getKey(),void 0,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.reject(U&&U.error||new Error("cancelled")),Q.scheduleDequeue()},function(G){(0,d.MB)(d.PR.Set,{error:JSON.stringify(G)}),W.item.deferred.reject(U&&U.error||new Error("cancelled")),Q.scheduleDequeue()})):W.item.deferred.reject(U&&U.error||new Error("cancelled")):re&&U.coordinates?(ee=!0,m(W.item.query.getKey(),U.coordinates,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.resolve(U.coordinates),Q.scheduleDequeue()},function(G){J&&(0,d.MB)(d.PR.Set,{error:JSON.stringify(G)}),W.item.deferred.resolve(U.coordinates),Q.scheduleDequeue()})):W.item.deferred.resolve(U.coordinates)}ee||this.scheduleDequeue()},j.prototype.makeRequest=function(W,U,k){var Q=this;if(!_.isEmpty(W)){var te={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(W.map(function(Qe){return Qe.item.query}))},ee=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(ee)||(te.headers=ee);for(var J=this.batchQueryParameters(this.credentials,this.culture),re=(0,y.fS)(this.baseUrl,J),G={uncancelledCount:W.length,request:S.MapsAjaxCall(re,te)},ne=0,X=W;ne<X.length;ne++){var oe=X[ne];oe.batch=G,this.activeEntries.push(oe)}++this.activeBatches;var Ve=G.request;Ve.always(function(){--Q.activeBatches;for(var Qe=0,He=W;Qe<He.length;Qe++)_.pull(Q.activeEntries,He[Qe])});var Te=_.head(W).item.bypassCache;Ve.pipe(function(Qe){Te&&(0,d.OU)({url:re,request:te.data,response:JSON.stringify(Qe)});for(var He=function(pe){var le=W[pe];le.batch=null;var be,me=le.item,Be=me.query.extractSingleResult&&me.query.extractSingleResult(Qe,pe);if(me.geocoder&&me.query.shouldDoFullGeocoding&&me.query.shouldDoFullGeocoding(Be))me.geocoder.geocodeCore(0,me.query,Q.tryIndexedDB,Q.indexedDBService,{bypassCache:!0,timeout:me.timeout}).then(function(Se){be={coordinates:Se}},function(Se){be={error:Se}}).done(function(){Q.complete(le,be)});else{if(Be)try{be=me.query.getResult(Be)}catch(Se){be={error:Se}}else be={error:new Error("no data")};M(me.logger,me.query,Be,be,!0),Q.complete(le,be)}},Ce=0;Ce<W.length;++Ce)He(Ce)},function(Qe){if(Te&&(0,d.OU)({url:re,request:te.data,error:JSON.stringify(Qe)}),Q.shouldRetry(Qe?Qe.status:void 0,U)){var Ce=Math.random()*k+k;k*=2,setTimeout(function(){U++,Q.makeRequest(W,U,k)},Ce)}else for(var de=0,pe=W;de<pe.length;de++){var le=pe[de];le.batch=null;var me={error:new Error(Qe&&Qe.statusText||"cancelled")};M(le.item.logger,le.item.query,void 0,me,!0),Q.complete(le,me)}})}},j.prototype.shouldRetry=function(W,U){if(!this.geocodeRetryOptions)return!1;var k=this.geocodeRetryOptions,te=k.maxRetryAttempts;return k.retryOnStatusCodes.includes(W)&&U<te},j}(),O=function(){function j(W,U,k){this.baseUrl=W,this.credentials=U,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=k.geocodeRetryOptions,this.tryIndexedDB=k.tryIndexedDB,this.indexedDBService=k.indexedDBService}return j.prototype.reset=function(){var W=this.dequeueTimeout;W&&(this.dequeueTimeout=void 0,clearTimeout(W));for(var U=0,k=this.entries.concat(this.activeEntries);U<k.length;U++)this.cancel(k[U]);this.entries=[],this.activeEntries=[]},j.prototype.enqueue=function(W){var U=this,k={item:W};this.entries.push(k),W.deferred.always(function(){U.cancel(k)}),this.dequeue()},j.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<f.Zr.MaxBingRequest;){var W=this.entries.shift();W.isCompleted||(this.geocodeRetryOptions?this.makeRequest(W,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(W))}}finally{this.inDequeue=!1}},j.prototype.scheduleDequeue=function(){var W=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){W.dequeueTimeout=void 0,W.dequeue()}))},j.prototype.cancel=function(W){if(!W.jsonp){var U=W.request;U&&(W.request=null,U.abort())}this.complete(W,{error:new Error("cancelled")})},j.prototype.complete=function(W,U,k){var te,Q=this,ee=!1;if(!W.isCompleted&&(W.isCompleted=!0,W.item.deferred.state()===s.O[s.O.pending])){var J=this.tryIndexedDB&&this.indexedDBService.isSupported(),re=!W.item.bypassCache&&!k;!U||U.error?J&&re&&"Geocode result is empty."===(null===(te=null==U?void 0:U.error)||void 0===te?void 0:te.message)?(ee=!0,m(W.item.query.getKey(),void 0,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.reject(U&&U.error||new Error("cancelled")),Q.scheduleDequeue()},function(G){(0,d.MB)(d.PR.Set,{error:JSON.stringify(G)}),W.item.deferred.reject(U&&U.error||new Error("cancelled")),Q.scheduleDequeue()})):W.item.deferred.reject(U&&U.error||new Error("cancelled")):re&&U.coordinates?(ee=!0,m(W.item.query.getKey(),U.coordinates,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.resolve(U.coordinates),Q.scheduleDequeue()},function(G){J&&(0,d.MB)(d.PR.Set,{error:JSON.stringify(G)}),W.item.deferred.resolve(U.coordinates),Q.scheduleDequeue()})):W.item.deferred.resolve(U.coordinates)}ee||this.scheduleDequeue()},j.prototype.makeRequest=function(W,U,k){var Q=this,te=!W.item.bypassCache&&i(W.item.query,W.item.logger);if(te)return E(W.item.logger,W.item.query,te),void this.complete(W,{coordinates:te},!0);var ee=W.item.query.getAjaxConfig();ee.jsonp&&(W.jsonp=!0);var J=W.item.query.getHeaders&&W.item.query.getHeaders();_.isEmpty(J)||(ee.headers=J);var re=W.item.query.getUrl(this.baseUrl);re?(this.activeEntries.push(W),W.request=S.MapsAjaxCall(re,ee),W.request.always(function(){_.pull(Q.activeEntries,W)}),W.request.pipe(function(G){var ne;W.item.bypassCache&&(0,d.OU)({url:re,response:JSON.stringify(G)}),W.request=null;try{ne=W.item.query.getResult(G)}catch(X){ne={error:X}}M(W.item.logger,W.item.query,G,ne,!1),Q.complete(W,ne)},function(G){if(W.item.bypassCache&&(0,d.OU)({url:re,error:JSON.stringify(G)}),Q.shouldRetry(G?G.status:void 0,U)){var X=Math.random()*k+k;k*=2,setTimeout(function(){U++,Q.makeRequest(W,U,k)},X)}else{W.request=null;var oe={error:new Error(G&&G.statusText||"cancelled")};M(W.item.logger,W.item.query,void 0,oe,!1),Q.complete(W,oe)}})):this.complete(W,{error:new Error("Unsupported query.")})},j.prototype.shouldRetry=function(W,U){if(!this.geocodeRetryOptions)return!1;var k=this.geocodeRetryOptions,te=k.maxRetryAttempts;return k.retryOnStatusCodes.includes(W)&&U<te},j}();function N(j,W){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(U){switch(U.label){case 0:return[4,V(j,W)];case 1:return U.sent(),[2]}})})}var w={}},898136:function(Je,H,t){t.d(H,{$o:function(){return o},Ee:function(){return c},H6:function(){return a},KE:function(){return f},S3:function(){return r},TT:function(){return b},TY:function(){return s},Tu:function(){return l},XF:function(){return h},a_:function(){return p},fk:function(){return e},uC:function(){return v},yL:function(){return n}});var e={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},c="2023-06-01",s="batch",f="multigeocode",v=50,b=30,h="4",p="https://platform.bing.com/geo/spatial/v1/public/Geodata",n="https://dev.virtualearth.net/REST/v1/Locations",l="https://atlas.microsoft.com/geocode",r="https://atlas.microsoft.com/search/polygon",o={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},a={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"}},703649:function(Je,H,t){t.d(H,{$F:function(){return s},MB:function(){return l},OU:function(){return n},PR:function(){return r},SN:function(){return b},VB:function(){return p},X5:function(){return v}});var e=t(932178),c=t(826691);function s(){return function(o){switch(o.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return o;default:return null}}(e.M.getLanguage())}function v(o){return!h(o,"UpHierarchy")}function b(o){return!h(o,"Ambiguous")}function h(o,a){return _.some(o,function(i){return i===a})}function p(o){switch(o=o.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var a=o.split("-",2);return a.length>1?a[1]:""}function n(o){c.f.information("georequest",void 0,o)}function l(o,a){c.f.error("geocoding IndexedDB ".concat(o," failure"),!0,void 0,a)}var r=function(o){return o.Init="init",o.Get="get",o.Set="set",o.Clear="clear",o}({})},315552:function(Je,H,t){t.d(H,{Bt:function(){return a},EX:function(){return v},G6:function(){return n},jN:function(){return i},kA:function(){return b},ku:function(){return h},ub:function(){return f},x0:function(){return m}});var e=t(787941),c=t(989516),s=t(161414);function f(d){return new a(d)}function v(d,S){void 0===S&&(S="rect");var g=d.select("".concat(S,".clearCatcher"));return g.empty()&&(g=d.append(S).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),g}function b(d,S){void 0===S&&(S="rect");var g=d.select("".concat(S,".clearCatcher"));g.empty()||g.style("pointer-events","none")}function h(d,S){void 0===S&&(S="rect");var g=d.select("".concat(S,".clearCatcher"));g.empty()||g.style("pointer-events","auto")}function n(d){if(_.isEmpty(d))return!1;for(var S=0,g=d.length;S<g;S++)if(d[S].selected)return!0;return!1}var l=function(){function d(S,g,y,C,E){this.dataPoints=S,this.behavior=g,this.key=y,this.hasSelection=C,this.matchPartialIdentities=E}return d.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())},d}();function r(d,S){return _.find(d,function(g){return!g.identity.highlight&&S.identity.includes(g.identity,!0)})}var o=function(){function d(S){this.selectionStateManager=S,this.pointSources={}}return d.prototype.findNonHightlightDataPoint=function(S){for(var g=0,y=this.getSelectablePointSources();g<y.length;g++){var E=r(y[g].dataPoints,S);if(E)return E}},d.prototype.applySelectionStateToDataPoints=function(S){this.updateSelectableDataPointsBySelectedIds(S)},d.prototype.syncSelectionState=function(S){var g=this;this.getSelectablePointSources(S).forEach(function(y){g.updateSelectableDataPointsBySelectedIds(y.dataPoints,y.matchPartialIdentities)})},d.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints(function(S){return S.selected=!1})},d.prototype.render=function(){this.getSelectablePointSources().forEach(function(S){S.render()})},d.prototype.bind=function(S,g,y,C){var M,E=this,P=!1;C&&(C.isAxis||C.isLabels||C.isLegend||C.useSelectableDataPointForHasSelection)?M=function(){return!!S&&n(S)}:(M=function(){return E.selectionStateManager.getSelectionSize()>0},P=!0),this.isHierarchicalAxis=C&&C.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[y]=new l(S,g,y,M,P)},d.prototype.hasSelectionForSource=function(S){var g;return n(null===(g=this.pointSources[S])||void 0===g?void 0:g.dataPoints)},d.prototype.applyToAllSelectableDataPoints=function(S){this.getSelectablePointSources().forEach(function(g){if(g.dataPoints)for(var y=0,C=g.dataPoints;y<C.length;y++)S(C[y])})},d.prototype.updateSelectableDataPointsBySelectedIds=function(S,g){void 0===g&&(g=!1),!_.isEmpty(S)&&this.selectionStateManager.updateDatapointAgainstSelectedIds(S,g,this.isHierarchicalAxis)},d.prototype.getSelectablePointSources=function(S){var g=this;if(S){var y=this.pointSources[S];return y?[y]:[]}return _.map(Object.keys(this.pointSources),function(C){return g.pointSources[C]})},d}(),a=function(){function d(S){e.fF.assertValue(S,"hostServices"),this.hostService=S,this.dataPointNavigationManager=new V,this.categoryAxisNavigationManager=new V,this.selectionStateManager=new u,this.dataPointManager=new o(this.selectionStateManager)}return d.prototype.bind=function(S,g,y,C){C&&C.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(S),this.isHierarchicalAxis=C&&C.isHierarchicalAxis;var E=C?C.pointSourceKey:"";this.dataPointManager.bind(S,g,E,C),C&&C.navigationOptions&&(C.isAxis?this.categoryAxisNavigationManager.update(g,C.navigationOptions,E):this.dataPointNavigationManager.update(g,C.navigationOptions,E),C.navigationOptions.focusElement&&g.renderFocus(C.navigationOptions.focusElement)),g.bindEvents(y,this,C&&C.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:E}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:E},this.formatMode),this.syncSelectionState(C&&C.pointSourceKey)},d.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},d.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},d.prototype.applySelectionStateToData=function(S){return this.dataPointManager.applySelectionStateToDataPoints(S),this.hasSelection()},d.prototype.hasSelection=function(){return this.selectionStateManager.getSelectionSize()>0},d.prototype.hasSelectionForSource=function(S){return this.dataPointManager.hasSelectionForSource(S)},d.getVisualObjects=function(S){return _.map(S,function(g){return{objectName:d.dataPointObjectName,selectorsByColumn:g.getSelectorsByColumn()}})},d.prototype.handleSelection=function(S,g,y){var E,C=this;(e.fF.assertValue(S,"dataPoint"),S)&&(S.specificIdentity?E=S.specificIdentity.getSelectorsByColumn():(!S.identity&&S.lazyIdentity&&(S.identity=S.lazyIdentity()),S.identity&&(E=S.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===g&&(g=3),this.runInTransaction(function(){S.identity&&C.select(S,g);var R={type:0,visualObjects:S.specificIdentity?[{objectName:d.dataPointObjectName,selectorsByColumn:E}]:d.getVisualObjects(C.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===g,isShiftKey:1===g,isLassoSelect:!1,position:y};return _.isEmpty(E)||C.hostService.onSelecting(R),R},g,!1,!S.identity))},d.prototype.handleMultipleSelection=function(S,g,y,C){var E=this;this.runInTransaction(function(){E.selectMultiple(S,g);var T={type:0,visualObjects:d.getVisualObjects(E.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!y||3===g,isShiftKey:1===g,isLassoSelect:y,position:C};return E.hostService.onSelecting(T),T},g,y,!1)},d.prototype.runInTransaction=function(S,g,y,C){var M,E=!1;this.selectionStateManager.beginTransaction();try{var P=S();0!==P.action&&P.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),E=!0,M=P.selectionLimitInfo,this.syncSelectionState())}catch(T){this.selectionStateManager.rollback()}finally{E&&(C?this.handleClearSelection():(this.sendSelectionToHost(g,y,M),this.renderAll()))}},d.prototype.handleContextMenu=function(S,g){this.sendContextMenuToHost(S,g)},d.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},d.prototype.restoreSelection=function(S){return this.clearSelection(),this.selectionStateManager.restoreSelection(S,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},d.prototype.renderAll=function(){this.dataPointManager.render()},d.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},d.prototype.selectMultiple=function(S,g){(0===g||2===g)&&this.clearSelectionState();for(var y=0,C=S;y<C.length;y++){var E=C[y],M=E.identity;M.highlight||(1===g||0===g?this.addId(M):3===g?E.selected?this.removeId(M):this.addId(M):2===g&&E.selected&&this.addId(M))}},d.prototype.updateSelectionState=function(S,g,y,C){C||this.clearSelectionInternal(),S.selected?C&&3===g&&this.removeId(y):(this.addId(y),C&&(y.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},d.prototype.select=function(S,g){S.identity&&S.identity.highlight&&(S=this.dataPointManager.findNonHightlightDataPoint(S),e.fF.assertValue(S,"Expected to find a non-highlight data point"));var y=S.identity;if(y){var C=this.getSelectionIds(),E=this.hostService.canSelect(d.createSelectEventArgs(C,g));switch(g){case 0:!S.selected||C.length>1||1===C.length&&!C[0].equals(y)?(this.clearSelectionInternal(),this.addId(y)):S.selected?this.removeId(y):this.addId(y);break;case 3:case 1:this.updateSelectionState(S,g,y,E);break;case 2:e.fF.assertFail("single selection does not have intersection implemented");break;default:e.fF.assertFail("no such multiSelectMode")}}},d.prototype.removeId=function(S){this.selectionStateManager.removeId(S,this.isHierarchicalAxis)},d.prototype.addId=function(S){this.selectionStateManager.addId(S,this.isHierarchicalAxis)},d.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},d.prototype.sendContextMenuToHost=function(S,g){var y=this.hostService;if(y.onContextMenu){var C,M;S.specificIdentity?C=S.specificIdentity:S.identity&&(C=S.identity),M=this.selectionStateManager.isIdSelected(C);for(var P=[],T=0,x=!C||M?this.getSelectionIds():[C];T<x.length;T++){var D=x[T].getSelectorsByColumn();_.isEmpty(D)||P.push(D)}_.isEmpty(P)||y.onContextMenu({data:P,position:g})}},d.prototype.sendSelectionToHost=function(S,g,y){var C=this.hostService;if(C.onSelect){var E=d.createSelectEventArgs(this.getSelectionIds(),S,g,y);C.onSelect(E)}},d.createSelectEventArgs=function(S,g,y,C){var E=!1;_.isEmpty(S)||(E=S[0].getSelector()&&!S[0].getSelectorsByColumn());var M=_.chain(S).filter(function(T){return T.hasIdentity()}),P={type:0,visualObjects:M.map(function(T){return{objectName:d.dataPointObjectName,selectorsByColumn:T.getSelectorsByColumn()}}).value(),selectionMode:g,isLassoSelect:y,selectionLimitInfo:C};return E&&(P.selectors=M.map(function(T){return T.getSelector()}).value()),P},d.prototype.takeSelectionStateFromDataPoints=function(S){e.fF.assertValue(S,"dataPoints"),this.clearSelectionState();for(var g=0,y=S;g<y.length;g++){var C=y[g];C.selected&&this.addId(C.identity)}},d.prototype.syncSelectionState=function(S){this.dataPointManager.syncSelectionState(S)},d.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection(function(S){return S.hasIdentity()})},d.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection(function(S){return!S.hasIdentity()})},d.prototype.filterSelection=function(S){this.selectionStateManager.filterSelection(S)},d.prototype.setFormatMode=function(S){this.formatMode=S,S&&this.handleClearSelection()},d.prototype.setSubSelectionHelper=function(S){this.subSelectionHelper=S},d.prototype.getSubSelectionHelper=function(){return this.subSelectionHelper},d.dataPointObjectName="dataPoint",d}(),i=function(d){return d[d.CategoryFirst=0]="CategoryFirst",d[d.SeriesFirst=1]="SeriesFirst",d[d.CategoryOnly=2]="CategoryOnly",d[d.SeriesOnly=3]="SeriesOnly",d}({}),m=function(d){return d[d.NextCategory=0]="NextCategory",d[d.PreviousCategory=1]="PreviousCategory",d[d.NextSeries=2]="NextSeries",d[d.PreviousSeries=3]="PreviousSeries",d}({}),u=function(){function d(){this.clearSelectionState()}return d.prototype.beginTransaction=function(){var S=this;e.fF.assert(function(){return void 0===S.previousSelectedIds},"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},d.prototype.commit=function(){e.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},d.prototype.rollback=function(){e.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},d.prototype.isIdSelected=function(S){var g=this.selectedIds[null==S?void 0:S.getKeyWithoutHighlight()];return this.selectionIdSize>1&&g&&g.equals(S)},d.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},d.prototype.restoreSelection=function(S,g){var y=this;_.forEach(S,function(C){var E=s.l0.fromSelectorsByColumn(C);y.addId(E,g)})},d.prototype.addId=function(S,g){this.addDecomposedId(S,!g);var y=!!this.selectedIds[S.getKeyWithoutHighlight()];this.selectedIds[S.getKeyWithoutHighlight()]=S,y||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)},d.prototype.addDecomposedId=function(S,g){var y=S.getDecomposedKeys(g);if(y)for(var C=0,E=y;C<E.length;C++){var M=E[C],P=this.decomposedSelectedIds[M];_.isArray(P)?_.some(P,function(T){return T.equals(S)})||P.push(S):this.decomposedSelectedIds[M]=[S]}},d.prototype.amendDecomposedSelection=function(S){this.decomposedSelectedIds={};for(var y=0,C=_.values(this.selectedIds);y<C.length;y++)this.addDecomposedId(C[y],S)},d.prototype.removeId=function(S,g){var y=this,C=function(F){var A=F.getKeyWithoutHighlight(),O=y.selectedIds[A];O&&O.includes(S)&&(delete y.selectedIds[A],y.selectionIdSize--)};C(S);var E=function(F){if(F)for(var A=F.length-1;A>-1;A--){var O=F[A];S.includes(O)&&(F.splice(A,1),C(O))}},M=S.getDecomposedKeys(!g);if(M)for(var P=0,T=M;P<T.length;P++){var x=T[P],R=this.decomposedSelectedIds[x];E(R),_.isEmpty(R)&&delete this.decomposedSelectedIds[x]}var D=this.decomposedSelectedIds[c.xO];D&&D.length&&(E(D),_.isEmpty(D)&&delete this.decomposedSelectedIds[c.xO])},d.prototype.getSelectionSize=function(){return this.selectionIdSize},d.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},d.prototype.filterSelection=function(S){this.selectedIds=_.pickBy(this.selectedIds,S);var g={};_.forEach(this.decomposedSelectedIds,function(y,C){var E=_.filter(y,S);E&&!_.isEmpty(E)&&(g[C]=E)}),this.decomposedSelectedIds=g},d.prototype.updateDatapointAgainstSelectedIds=function(S,g,y){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var C=0,E=S;C<E.length;C++)(M=E[C]).selected=!1;else for(var P=0,T=S;P<T.length;P++){var M;(M=T[P]).selected=this.checkDatapointAgainstSelectedIds(M,g,y)}},d.prototype.checkDatapointAgainstSelectedIds=function(S,g,y){var C,E;if(!_.isEmpty(this.selectedIds)&&(M=null===(C=S.identity)||void 0===C?void 0:C.getKeyWithoutHighlight())&&(P=this.selectedIds[M])&&P.includes(S.identity,!0,g))return!0;if(!_.isEmpty(this.decomposedSelectedIds)){var T=null===(E=S.identity)||void 0===E?void 0:E.getDecomposedKeys(!y);if(T)for(var x=0,R=T;x<R.length;x++){var M,D=this.decomposedSelectedIds[M=R[x]];if(D)for(var L=0,F=D;L<F.length;L++)if((P=F[L])&&P.includes(S.identity,!0,g))return!0}var A=this.decomposedSelectedIds[c.xO];if(!_.isEmpty(A))for(var O=0,N=A;O<N.length;O++){var P;if((P=N[O])&&P.includes(S.identity,!0,g))return!0}}return!1},d}(),V=function(){function d(){this.behaviors={},this.helpers={}}return d.prototype.update=function(S,g,y){this.behaviors[y]=S,this.navigationStrategy=g.navigationStrategy,this.helpers[y]=g.helper},d.prototype.goToFirstElement=function(S){var g=this.helpers[S].getFirstElement().element;g&&this.behaviors[S].renderFocus(g)},d.prototype.isEmpty=function(S){return!this.behaviors[S]||_.isEmpty(this.helpers[S])},d.prototype.handleKeyDownEvent=function(S,g,y,C,E){var M,P,T,x,R,D=this.helpers[S];switch(C){case 9:var L=this.navigationStrategy;L===i.CategoryFirst||L===i.SeriesOnly?R=D.getNextDataPoint(g,y,E?m.PreviousSeries:m.NextSeries):L===i.SeriesFirst||L===i.CategoryOnly?R=D.getNextDataPoint(g,y,E?m.PreviousCategory:m.NextCategory):e.fF.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case 37:R=D.getNextDataPoint(g,y,m.PreviousCategory);break;case 39:R=D.getNextDataPoint(g,y,m.NextCategory);break;case 38:R=D.getNextDataPoint(g,y,null!==(P=null===(M=D.validateDirection)||void 0===M?void 0:M.call(D,m.NextSeries))&&void 0!==P?P:m.NextSeries);break;case 40:R=D.getNextDataPoint(g,y,null!==(x=null===(T=D.validateDirection)||void 0===T?void 0:T.call(D,m.PreviousSeries))&&void 0!==x?x:m.PreviousSeries);break;default:e.fF.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[S].renderFocus(R.element)},d}()},404747:function(Je,H,t){t.d(H,{K:function(){return h}});var e=t(690016),c=t(734287),s=t(324356),f=t(615419),v=t(346816);function b(p,n){var l=(0,v.eG)(p,n);return l?{grid:[{properties:{outlineColor:(0,f.EV)(l.outlineColor),outlineWeight:(0,s.cA)(e.b$.valueOrDefault(l.outlineWeight,v.TK)),gridVertical:(0,s.O7)(l.gridVerticalEnabledMatrix),gridVerticalColor:(0,f.EV)(l.gridColor),gridVerticalWeight:(0,s.cA)(e.b$.valueOrDefault(l.gridVerticalWeight,v.FT)),gridHorizontal:(0,s.O7)(l.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,f.EV)(l.gridColor),gridHorizontalWeight:(0,s.cA)(e.b$.valueOrDefault(l.gridHorizontalWeight,v.cr)),rowPadding:(0,s.cA)(l.rowPadding)}}],columnHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeColumnHeaders,v.dc)),fontColor:(0,f.EV)(l.fontColorHeaders),backColor:(0,f.EV)(l.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeRowHeaders,v.hW)),fontColor:(0,f.EV)(l.fontColorHeaders),backColor:(0,f.EV)(l.backColorHeaders)}}],values:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeValues,v.Wy)),fontColorPrimary:(0,f.EV)(l.fontColorValues1),backColorPrimary:(0,f.EV)(l.backColorValues1),fontColorSecondary:(0,f.EV)(l.fontColorValues2),backColorSecondary:(0,f.EV)(l.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,f.EV)(l.fontColorTotals),backColor:(0,f.EV)(l.backColorTotals),applyToHeaders:(0,s.O7)(!1)}}]}:{}}function h(){var p;return{sectionTitle:(0,c.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.Hq,presets:(p={},p[v.Hq]={name:v.Hq,displayName:(0,c.V)("None"),evaluate:function(l){return b(v.Hq,l)}},p[v.iU]={name:v.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(l){return b(v.iU,l)}},p[v.xO]={name:v.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(l){return b(v.xO,l)}},p[v.Au]={name:v.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(l){return b(v.Au,l)}},p[v.iq]={name:v.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(l){return b(v.iq,l)}},p[v.rO]={name:v.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(l){return b(v.rO,l)}},p[v.b6]={name:v.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(l){return b(v.b6,l)}},p[v.rJ]={name:v.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(l){return b(v.rJ,l)}},p[v.TJ]={name:v.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(l){return b(v.TJ,l)}},p)}}},187511:function(Je,H,t){t.d(H,{F:function(){return h}});var e=t(690016),c=t(734287),s=t(324356),f=t(615419),v=t(346816);function b(p,n,l){var r=(0,v.eG)(p,n);if(!r)return{};var o=l.splitSubTotals?[{properties:{fontColor:(0,f.EV)(r.fontColorSubtotalsRow),backColor:(0,f.EV)(r.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}]:[{properties:{fontColor:(0,f.EV)(r.fontColorSubtotalsRow),backColor:(0,f.EV)(r.backColorSubtotalsRow)}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,f.EV)(r.outlineColor),outlineWeight:(0,s.cA)(e.b$.valueOrDefault(r.outlineWeight,v.TK)),gridVertical:(0,s.O7)(r.gridVerticalEnabledMatrix),gridVerticalColor:(0,f.EV)(r.gridColor),gridVerticalWeight:(0,s.cA)(e.b$.valueOrDefault(r.gridVerticalWeight,v.FT)),gridHorizontal:(0,s.O7)(r.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,f.EV)(r.gridColor),gridHorizontalWeight:(0,s.cA)(e.b$.valueOrDefault(r.gridHorizontalWeight,v.cr)),rowPadding:(0,s.cA)(r.rowPadding)}}],columnHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeColumnHeaders,v.WI)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeColumnHeaders,v.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,f.EV)(r.fontColorHeaders),backColor:(0,f.EV)(r.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeRowHeaders,v.bW)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeRowHeaders,v.Z0)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,f.EV)(r.fontColorHeaders),backColor:(0,f.EV)(r.backColorHeaders),applyAlternation:(0,s.O7)(!0)}}],values:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeValues,v.F)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeValues,v.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,f.EV)(r.fontColorValues1),backColorPrimary:(0,f.EV)(r.backColorValues1),fontColorSecondary:(0,f.EV)(r.fontColorValues2),backColorSecondary:(0,f.EV)(r.backColorValues2)}}],subTotals:o,total:[{properties:{fontColor:(0,f.EV)(r.fontColorTotals),backColor:(0,f.EV)(r.backColorTotals),applyToHeaders:(0,s.O7)(!1)}}],rowTotal:[{properties:{fontColor:(0,f.EV)(r.fontColorTotals),backColor:(0,f.EV)(r.backColorTotals),applyToHeaders:(0,s.O7)(!1)}}],columnTotal:[{properties:{fontColor:(0,f.EV)(r.fontColorTotals),backColor:(0,f.EV)(r.backColorTotals),applyToHeaders:(0,s.O7)(!1)}}]}}function h(p){var n;return{sectionTitle:(0,c.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.gA,presets:(n={},n[v.gA]={name:v.gA,displayName:(0,c.V)("Default"),evaluate:function(r){return b(v.gA,r,p)}},n[v.Hq]={name:v.Hq,displayName:(0,c.V)("None"),evaluate:function(r){return b(v.Hq,r,p)}},n[v.iU]={name:v.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(r){return b(v.iU,r,p)}},n[v.xO]={name:v.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(r){return b(v.xO,r,p)}},n[v.Au]={name:v.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(r){return b(v.Au,r,p)},isDeprecated:!0},n[v.pJ]={name:v.pJ,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(r){return b(v.pJ,r,p)}},n[v.iq]={name:v.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(r){return b(v.iq,r,p)}},n[v.rO]={name:v.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(r){return b(v.rO,r,p)}},n[v.b6]={name:v.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(r){return b(v.b6,r,p)}},n[v.rJ]={name:v.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(r){return b(v.rJ,r,p)}},n[v.TJ]={name:v.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(r){return b(v.TJ,r,p)}},n)}}},816476:function(Je,H,t){t.d(H,{L:function(){return h}});var e=t(690016),c=t(734287),s=t(324356),f=t(615419),v=t(346816);function b(p,n){var l=(0,v.eG)(p,n);return l?{grid:[{properties:{outlineColor:(0,f.EV)(l.outlineColor),outlineWeight:(0,s.cA)(e.b$.valueOrDefault(l.outlineWeight,v.TK)),gridVertical:(0,s.O7)(l.gridVerticalEnabledTable),gridVerticalColor:(0,f.EV)(l.gridColor),gridVerticalWeight:(0,s.cA)(e.b$.valueOrDefault(l.gridVerticalWeight,v.FT)),gridHorizontal:(0,s.O7)(l.gridHorizontalEnabledTable),gridHorizontalColor:(0,f.EV)(l.gridColor),gridHorizontalWeight:(0,s.cA)(e.b$.valueOrDefault(l.gridHorizontalWeight,v.cr)),rowPadding:(0,s.cA)(l.rowPadding)}}],columnHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeColumnHeaders,v.dc)),fontColor:(0,f.EV)(l.fontColorHeaders),backColor:(0,f.EV)(l.backColorHeaders)}}],values:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeValues,v.Wy)),fontColorPrimary:(0,f.EV)(l.fontColorValues1),backColorPrimary:(0,f.EV)(l.backColorValues1),fontColorSecondary:(0,f.EV)(l.fontColorValues2),backColorSecondary:(0,f.EV)(l.backColorValues2)}}],total:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(l.outlineModeTotals,v.jF)),fontColor:(0,f.EV)(l.fontColorTotals),backColor:(0,f.EV)(l.backColorTotals)}}]}:{}}function h(){var p;return{sectionTitle:(0,c.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.Hq,presets:(p={},p[v.Hq]={name:v.Hq,displayName:(0,c.V)("None"),evaluate:function(l){return b(v.Hq,l)}},p[v.iU]={name:v.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(l){return b(v.iU,l)}},p[v.xO]={name:v.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(l){return b(v.xO,l)}},p[v.Au]={name:v.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(l){return b(v.Au,l)}},p[v.iq]={name:v.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(l){return b(v.iq,l)}},p[v.rO]={name:v.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(l){return b(v.rO,l)}},p[v.b6]={name:v.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(l){return b(v.b6,l)}},p[v.rJ]={name:v.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(l){return b(v.rJ,l)}},p[v.TJ]={name:v.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(l){return b(v.TJ,l)}},p)}}},431782:function(Je,H,t){t.d(H,{w:function(){return h}});var e=t(690016),c=t(734287),s=t(324356),f=t(615419),v=t(346816);function b(p,n,l){var r=(0,v.eG)(p,n);return r?{grid:[{properties:{outline:void 0,outlineColor:(0,f.EV)(r.outlineColor),outlineWeight:(0,s.cA)(e.b$.valueOrDefault(r.outlineWeight,v.TK)),gridVertical:(0,s.O7)(r.gridVerticalEnabledTable),gridVerticalColor:(0,f.EV)(r.gridColor),gridVerticalWeight:(0,s.cA)(e.b$.valueOrDefault(r.gridVerticalWeight,v.FT)),gridHorizontal:(0,s.O7)(r.gridHorizontalEnabledTable),gridHorizontalColor:(0,f.EV)(r.gridColor),gridHorizontalWeight:(0,s.cA)(e.b$.valueOrDefault(r.gridHorizontalWeight,v.cr)),rowPadding:(0,s.cA)(r.rowPadding)}}],columnHeaders:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeColumnHeaders,v.WI)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeColumnHeaders,v.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,f.EV)(r.fontColorHeaders),backColor:(0,f.EV)(r.backColorHeaders)}}],values:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeValues,v.F)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeValues,v.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,f.EV)(r.fontColorValues1),backColorPrimary:(0,f.EV)(r.backColorValues1),fontColorSecondary:(0,f.EV)(r.fontColorValues2),backColorSecondary:(0,f.EV)(r.backColorValues2)}}],total:[{properties:{outline:(0,s.fL)(e.b$.valueOrDefault(r.outlineModeTotals,v.fd)),outlineStyle:(0,s.cA)(e.b$.valueOrDefault(r.outlineModeTotals,v.EH)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,f.EV)(r.fontColorTotals),backColor:(0,f.EV)(r.backColorTotals)}}]}:{}}function h(p){var n;return{sectionTitle:(0,c.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,c.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.gA,presets:(n={},n[v.gA]={name:v.gA,displayName:(0,c.V)("Default"),evaluate:function(r){return b(v.gA,r)}},n[v.Hq]={name:v.Hq,displayName:(0,c.V)("None"),evaluate:function(r){return b(v.Hq,r)}},n[v.iU]={name:v.iU,displayName:(0,c.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(r){return b(v.iU,r)}},n[v.xO]={name:v.xO,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(r){return b(v.xO,r)}},n[v.Au]={name:v.Au,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(r){return b(v.Au,r)},isDeprecated:!0},n[v.pJ]={name:v.pJ,displayName:(0,c.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(r){return b(v.pJ,r)}},n[v.iq]={name:v.iq,displayName:(0,c.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(r){return b(v.iq,r)}},n[v.rO]={name:v.rO,displayName:(0,c.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(r){return b(v.rO,r)}},n[v.b6]={name:v.b6,displayName:(0,c.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(r){return b(v.b6,r)}},n[v.rJ]={name:v.rJ,displayName:(0,c.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(r){return b(v.rJ,r)}},n[v.TJ]={name:v.TJ,displayName:(0,c.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(r){return b(v.TJ,r)}},n)}}},346816:function(Je,H,t){t.d(H,{Au:function(){return T},EH:function(){return u},F:function(){return r},FT:function(){return h},Hq:function(){return C},TJ:function(){return A},TK:function(){return o},WI:function(){return p},Wy:function(){return V},Z0:function(){return i},b6:function(){return L},bW:function(){return n},cr:function(){return b},dc:function(){return f},eG:function(){return O},es:function(){return v},fd:function(){return l},gA:function(){return E},hW:function(){return a},iU:function(){return M},iq:function(){return R},jF:function(){return m},pJ:function(){return x},rJ:function(){return F},rO:function(){return D},xO:function(){return P},yh:function(){return d}});var e=t(177497),c=t(787941),s=t(563245),f=s.FX.PropColumnsOutline.defaultValue,v=s.FX.PropColumnsOutlineStyle.defaultValue,b=s.FX.PropGridHorizontalWeight.defaultValue,h=s.FX.PropGridVerticalWeight.defaultValue,p=s.FX.PropColumnsNewVisualOutline.defaultValue,n=s.FX.PropRowsPivotTableOutline.defaultValue,l=s.FX.PropTotalTableExOutline.defaultValue,r=s.FX.PropValuesNewVisualOutline.defaultValue,o=s.FX.PropGridOutlineWeight.defaultValue,a=s.FX.PropRowsOutline.defaultValue,i=s.FX.PropRowsOutlineStyle.defaultValue,m=s.FX.PropTotalOutline.defaultValue,u=s.FX.PropTotalOutlineStyle.defaultValue,V=s.FX.PropValuesOutline.defaultValue,d=s.FX.PropValuesOutlineStyle.defaultValue,C="None",E="Default",M="Minimal",P="BoldHeader",T="AlternatingRows",x="AlternatingRowsNew",R="ContrastAlternatingRows",D="FlashyRows",L="BoldHeaderFlashyRows",F="Sparse",A="Condensed";function O(N,w){var I=w.colorPalette.background.value,B=w.colorPalette.foreground.value,j=w.colorPalette.tableAccent.value,U=new s.FX(w);switch(N){case C:return{outlineColor:U.PropGridOutlineColor.getValue(null),gridColor:U.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:s.FX.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:s.FX.PropGridVertical.defaultValue,gridHorizontalEnabledTable:s.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:s.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:s.FX.PropGridRowPadding.defaultValue,fontColorHeaders:U.PropColumnsFontColor.getValue(null),backColorHeaders:U.PropColumnsBackColor.getValue(null),fontColorValues1:U.PropValuesFontColorPrimary.getValue(null),backColorValues1:U.PropValuesBackColorPrimary.getValue(null),fontColorValues2:U.PropValuesFontColorSecondary.getValue(null),backColorValues2:U.PropValuesBackColorSecondary.getValue(null),fontColorTotals:U.PropTotalFontColor.getValue(null),backColorTotals:U.PropTotalBackColor.getValue(null)};case E:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.12,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:s.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:s.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:void 0,backColorTotals:void 0};case M:return{outlineColor:j,gridColor:(0,e.ok)(B,.12,I),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:B,backColorTotals:I};case P:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.12,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,backColorHeaders:B,fontColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:B,backColorTotals:I};case T:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.12,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:I,backColorTotals:B};case x:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.12,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:I,backColorTotals:B,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case R:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.12,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:I,backColorValues1:(0,e.ok)(B,.75,I),fontColorValues2:B,backColorValues2:(0,e.ok)(B,.25,I),fontColorTotals:I,backColorTotals:B};case D:return{outlineColor:B=w.colorPalette.foreground.value,gridColor:I=w.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:(0,e.ok)(j=w.colorPalette.tableAccent.value,.4,I),fontColorValues2:B,backColorValues2:(0,e.ok)(j,.8,I),fontColorTotals:B,backColorTotals:I};case L:return{outlineColor:I=w.colorPalette.background.value,gridColor:I,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:I,backColorHeaders:B=w.colorPalette.foreground.value,fontColorValues1:B,backColorValues1:(0,e.ok)(j=w.colorPalette.tableAccent.value,.4,I),fontColorValues2:B,backColorValues2:(0,e.ok)(j,.8,I),fontColorTotals:I,backColorTotals:B};case F:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.2,I=w.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:6,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:I,backColorTotals:B};case A:return{outlineColor:j=w.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=w.colorPalette.foreground.value,.2,I=w.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:0,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:I,backColorTotals:B};default:return void c.fF.assertFail("Attempt to get Tablix style elements with invalid preset name ["+N+"].")}}},1010:function(Je,H,t){t.d(H,{E4:function(){return I},I6:function(){return D},Io:function(){return x},Oe:function(){return L},Q6:function(){return w},Rm:function(){return B},UV:function(){return T},VT:function(){return N},rx:function(){return P}});var e=t(226514),c=t(629925),s=t(787941),f=t(166851),v=t(698129),b=t(438165),h=t(679752),p=t(438554),n=(0,c.CH)("tooltip-container"),l=(0,c.CH)("tooltip-content"),r=(0,c.CH)("arrow"),o=(0,c.CH)("hide-arrow"),a=(0,c.CH)("small-touch-screen"),i=(0,c.CH)("large-touch-screen"),m=(0,c.CH)("truncate-tooltip-height"),u=(0,c.CH)("new-mobile-tooltip"),V=(0,c.CH)("heightened-header"),d=(0,c.CH)("themeableElement"),S=(0,c.CH)("tooltip-light"),P={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},T={opacity:.87,scale:1,animationDuration:0,animationDurationTouchOld:250,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10};function x(j,W){return new R(j,W)}var R=function(){function j(W,U){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=W,this.originalTooltipOptions=$.extend({},P,U),this.tooltipOptions=this.originalTooltipOptions}return j.prototype.isVisible=function(){return this.isTooltipVisible},j.prototype.isTouchOptimized=function(){return!!this.tooltipOptions.touchOptimized},j.prototype.setTestScreenSize=function(W,U){this.customScreenWidth=W,this.customScreenHeight=U},j.prototype.show=function(W,U){var k,Q,te,ee;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),W&&(k=L(W,this.getScreenBounds(),this.tooltipOptions),ee={x:W.left+(Q=W.width>>1),y:W.top+(te=W.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0).style("opacity",this.tooltipOptions.opacity),W&&this.setPositionAndSize(W,k,Q,te,ee,U)},j.prototype.classed=function(W,U){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(W.class,U)},j.prototype.move=function(W,U){var k,Q,te;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),k=L(W,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(W,k,Q=W.width>>1,te=W.height>>1,{x:W.left+Q,y:W.top+te},U)},j.prototype.updateContent=function(W){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(l.selector).remove(),W&&($(W).addClass(l.class),this.tooltipContainer.node().appendChild(W))},j.prototype.hide=function(){if(this.isTooltipVisible){var W=this.isTouchOptimized()&&!this.tooltipOptions.newMobileTooltip?this.tooltipOptions.animationDurationTouchOld:this.tooltipOptions.animationDuration;this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(W).style("opacity",0).on("end",function(){this.style.display="none"})}},j.prototype.destroy=function(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)},j.prototype.setTooltipAppearanceOptions=function(W){var U=$.extend({},this.originalTooltipOptions,W);this.tooltipOptions=U},j.prototype.attachPointerEnterCallback=function(W){this.onPointerEnter=W},j.prototype.attachPointerLeaveCallback=function(W){this.onPointerLeave=W},j.prototype.createTooltipContainer=function(W){var U=this,k=d3.select(W).append("div").classed(n.class,!0).classed(d.class,!0);return k.append("div").classed(r.class,!0),k.style("display","none"),k.on("pointerenter.callback",function(){return U.onPointerEnter&&U.onPointerEnter()}),k.on("pointerleave.callback",function(){return U.onPointerLeave&&U.onPointerLeave()}),k},j.prototype.getTooltipContainerBounds=function(){var W;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),W=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):W=this.tooltipContainer.node().getBoundingClientRect(),{height:W.height/this.tooltipScaleFactor,width:W.width/this.tooltipScaleFactor}},Object.defineProperty(j.prototype,"tooltipScale",{get:function(){return this.tooltipOptions.scale||1},enumerable:!1,configurable:!0}),j.prototype.updateTooltipPosition=function(W,U,k,Q,te,ee){var J=this.getTooltipContainerBounds(),re=0,G=0,ne=this.tooltipOptions.adjustXLeftSideOfScreen,X=this.tooltipOptions.adjustXRightSideOfScreen,oe=this.tooltipOptions.hideArrow?0:(ee?3:7)*this.tooltipScale,Ve=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,Te=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,Qe=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:ee?.5:1,He=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:ee?2.5:1;return this.tooltipOptions.offsetPosition&&(ne=0,X=0,re+=0===U||3===U?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,G+=0===U||1===U?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),0===U?(re+=Te*oe+k-ne,G-=Ve*He*oe+Q):1===U?(re-=Ve*Qe*oe+J.width+k-X,G-=Ve*He*oe+Q):3===U?(re+=Te*oe+k-ne,G-=J.height-Ve*He*oe+Q):2===U&&(re-=Ve*Qe*oe+J.width+k-X,G-=J.height-Ve*He*oe+Q),{x:te.x+re,y:te.y+G}},j.prototype.setPositionAndSize=function(W,U,k,Q,te,ee){te=this.updateTooltipPosition(W,U,k,Q,te,ee);var J=this.widenTooltipIfNeeded(te);this.setTooltipContainerAttributes(U,J,!!J.width),this.tooltipContainer.style("width",J.width?J.width+"px":""),this.setArrowPosition(U)},j.prototype.widenTooltipIfNeeded=function(W){var U={left:W.x,top:W.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){U.left=8;var k=this.getScreenBounds().width;U.width=k-16}return U},j.prototype.setTooltipContainerAttributes=function(W,U,k){var Q=this.getTooltipContainerBounds(),te=this.getScreenBounds(),ee=this.shouldWidenTooltip(),J=Q.width,re=Q.height,G=te.width,ne=te.height,Ve=U.left,Te=U.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(Ve=U.left>=0?U.left:5,Te=U.top>=0?U.top:5);var Qe=G-Ve-J,He=ne-Te-re;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){Qe<0&&(Qe=G-(Ve-=Math.abs(Qe)+5)-J+5);var Ce=this.getScreenBounds().width<=540?35:5;He<Ce&&(Te-=Ce-He,He=Ce)}var be,Be,de=!1,pe=!1,le=0===W||1===W,me=0===W||3===W,Se={left:null,top:null,right:null,bottom:null};me?(de=!0,Se.left="".concat(Ve,"px"),Be=Ve):(pe=!0,Se.right="".concat(Qe,"px"),Be=Qe),le?(Se.top="".concat(Te,"px"),be=Te):(Se.bottom="".concat(He,"px"),be=He),k&&(Se.left="".concat(Ve,"px"));var Pe={height:(re+10)*this.tooltipScale,width:(ee?J:J+10)*this.tooltipScale},ue=Pe.width+Be>G,ve=Pe.height+be>ne;this.tooltipScaleFactor=this.tooltipScale,(ue||ve)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Pe,te,Be,be)),this.tooltipContainer.classed("left",de).classed("right",pe).classed(S.class,this.tooltipOptions.useLightColors).classed(a.class,this.isSmallTouchScreen()).classed(i.class,this.isLargeTouchScreen()).classed(m.class,this.isTruncateTooltipHeight()).classed(u.class,this.isNewMobileTooltip()).classed(V.class,this.heightenedHeader()).styles(Se).style("transform","scale(".concat(this.tooltipScaleFactor,")")).style("transform-origin","".concat(le?"top":"bottom"," ").concat(me?"left":"right"))},j.prototype.calculateScaleFactor=function(W,U,k,Q){return Math.min((U.width-k)/W.width,(U.height-Q)/W.height)},j.prototype.setArrowPosition=function(W){var k;k=0===W?"top left":1===W?"top right":3===W?"bottom left":"bottom right",this.getArrowElement().attr("class","arrow").classed(k,!0).classed(o.class,this.tooltipOptions.hideArrow)},j.prototype.shouldWidenTooltip=function(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540},j.prototype.isSmallTouchScreen=function(){if(!this.tooltipOptions.touchOptimized)return!1;var W=this.getScreenBounds();return W.width<=540||W.height<=450},j.prototype.isLargeTouchScreen=function(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()},j.prototype.isTruncateTooltipHeight=function(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620},j.prototype.isNewMobileTooltip=function(){return this.tooltipOptions.newMobileTooltip},j.prototype.heightenedHeader=function(){return!this.tooltipOptions.offsetPosition&&this.tooltipOptions.newMobileTooltip},j.prototype.getArrowElement=function(){return this.tooltipContainer.select(r.selector)},j.prototype.getScreenBounds=function(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}},j}(),D=function(){function j(){}return j.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName",j}();function L(j,W,U){var re=(null==U?void 0:U.showAboveClickedArea)||j.top+j.height/2>=W.height/2;return j.left+j.width/2<W.width/2?re?3:0:re?2:1}function N(j,W,U,k,Q){var te=j.data.getAllValuesForRole("Tooltips",U,k),ee=j.data.getAllFormatStringsForRole("Tooltips",U,k),J=j.data.getAllValueDisplayNamesForRole("Tooltips"),re=j.columns.getAllValueMetadataColumnsForRole("Tooltips",k);if(te)for(var G=0;G<te.length;G++)null!=te[G]&&W.push({displayName:J[G],value:(0,h.xq)(te[G],re[G],Q,!1,ee[G])})}function w(j,W,U,k,Q){if(j&&(s.fF.assert(function(){return j.length===W.length},"CategoricalLazyTooltipBuilder:withMultipleColumnAndValues: unexpected count of sources & values"),U||!_.every(W,function(J){return null==J}))){var te=(0,b.ML)(_.map(j,function(J){return J.queryName}));if(Q){if(_.includes(Q,te))return;Q.push(te)}var ee=(0,b.ML)(_.map(j,function(J){return J.displayName}));return function(){var J=(0,b.ML)(_.map(W,function(re,G){return k(re,j[G])}));return{displayName:ee,value:J}}}}var I=function(){function j(){this.items=[],this.columns=[]}return j.prototype.withColumnValue=function(W,U,k,Q,te){return W&&(Q||null!=U)?(_.includes(this.columns,W.queryName)||(this.columns.push(W.queryName),this.items.push(new f.o(function(){return{displayName:W.displayName,value:te(U,W,k)}}))),this):this},j.prototype.withMultipleColumnAndValues=function(W,U,k,Q){var te=w(W,U,k,Q);return te&&this.items.push(new f.o(te)),this},j.prototype.withValue=function(W,U){return this.items.push(new f.o(function(){return{displayName:W,value:U}})),this},j.prototype.withLazyValue=function(W){return this.items.push(W),this},j.prototype.withLazyValues=function(W){return this.items.push(new f.o(W)),this},j.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,function(W){return W.getValue()}))},j.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=(0,p.X)(this.getTooltipItems())),this.formatted},j}(),B=function(j){function W(U,k){var Q=j.call(this)||this;return Q.reader=U,Q.formatStringProp=k,Q}return(0,e.__extends)(W,j),W.prototype.withAllValuesForRole=function(U,k,Q,te,ee){var J=this.reader.getAllValueColumnsForRole(U,Q);if(_.isEmpty(J))return this;for(var re=0,G=J;re<G.length;re++)this.withColumnValueByIndex(G[re],k,te,ee);return this},W.prototype.withColumnValueByIndex=function(U,k,Q,te){var ee;if(!U)return this;var J=U.values[k],re=(0,v.NA)(null===(ee=U.objects)||void 0===ee?void 0:ee[k],this.formatStringProp);return this.withColumnValue(U.source,J,re,Q,te)},W}(I)},436582:function(Je,H,t){t.d(H,{FR:function(){return i},GD:function(){return h},Kn:function(){return l},OW:function(){return c},PG:function(){return o},R_:function(){return p},U5:function(){return s},Yd:function(){return n},dt:function(){return m},eE:function(){return f},hG:function(){return r},mc:function(){return b},op:function(){return v},vW:function(){return a}});var e=t(149362),c="blank",s="leftArrow",f="rightArrow",v="back",b="reset",h="information",p="help",n="qna",l="insights",r="bookmarks",o="custom",a="applyAllSlicers",i="clearAllSlicers",m=(0,e.i)([{value:c,displayName:function(V){return V.get("ReportAppBar_Blank")}},{value:s,displayName:function(V){return V.get("Generic_LeftArrow")}},{value:f,displayName:function(V){return V.get("Generic_RightArrow")}},{value:v,displayName:function(V){return V.get("Generic_Back")}},{value:b,displayName:function(V){return V.get("Reset")}},{value:p,displayName:function(V){return V.get("Generic_Help")}},{value:h,displayName:function(V){return V.get("ReportAppBar_InfoIcon")}},{value:n,displayName:function(V){return V.get("Generic_Qna")}},{value:r,displayName:function(V){return V.get("Generic_Bookmark")}},{value:a,displayName:function(V){return V.get("ReportAppBar_ApplyAllSlicers")}},{value:i,displayName:function(V){return V.get("ReportAppBar_ClearAllSlicers")}},{value:o,displayName:function(V){return V.get("Custom")}}])},810368:function(Je,H,t){t.d(H,{d:function(){return e},e:function(){return c}});var e={top:"top",middle:"middle",bottom:"bottom"},c={left:"left",center:"center",right:"right"}},391589:function(Je,H,t){t.d(H,{DW:function(){return r},LS:function(){return n},dt:function(){return l}});var e=t(787941),c=t(149362),s="droplet",f="circle",v="square",b="diamond",h="triangle",n=s,l=(0,c.i)([{value:s,displayName:function(a){return a.get("Visual_MarkerShape_Droplet")}},{value:f,displayName:function(a){return a.get("Visual_MarkerShape_Circle")}},{value:v,displayName:function(a){return a.get("Visual_MarkerShape_Square")}},{value:b,displayName:function(a){return a.get("Visual_MarkerShape_Diamond")}},{value:h,displayName:function(a){return a.get("Visual_MarkerShape_Triangle")}}]);function r(o){switch(o){case s:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case f:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case v:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case b:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case h:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case"none":return null;default:e.fF.assertFail("anomalyMarkerShape.getPath received an unknown anomalyMarkerShape")}}},490327:function(Je,H,t){t.d(H,{C2:function(){return s},Dh:function(){return f},O1:function(){return b},cX:function(){return c},dt:function(){return v}});var e=t(149362),c="showBoth",s="showTitleOnly",f="showUnitOnly",v=(0,e.i)([{value:s,displayName:function(p){return p.get("Visual_Axis_ShowTitleOnly")}},{value:f,displayName:function(p){return p.get("Visual_Axis_ShowUnitOnly")}},{value:c,displayName:function(p){return p.get("Visual_Axis_ShowBoth")}}]);function b(h,p,n){return h?h===c?"".concat(p," (").concat(n,")"):h===f?n:p:p}},244945:function(Je,H,t){t.d(H,{Hk:function(){return f},Pf:function(){return s},dt:function(){return v},iD:function(){return c}});var e=t(149362),c="Scalar",s="Categorical",f="Both",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_Axis_Scalar")}},{value:s,displayName:function(h){return h.get("Visual_Axis_Categorical")}}])},370030:function(Je,H,t){t.d(H,{BG:function(){return s},C9:function(){return c},cP:function(){return b},dt:function(){return p},jv:function(){return f},x7:function(){return v},yX:function(){return h}});var e=t(149362),c="rectangle",s="oval",f="line",v="arrow",b="triangle",h="arrowbutton",p=(0,e.i)([{value:c,displayName:function(l){return l.get("ReportAppBar_ShapeRectangle")}},{value:s,displayName:function(l){return l.get("ReportAppBar_ShapeOval")}},{value:f,displayName:function(l){return l.get("Visual_Shape_Line")}},{value:v,displayName:function(l){return l.get("ReportAppBar_ShapeArrow")}},{value:b,displayName:function(l){return l.get("ReportAppBar_ShapeTriangle")}},{value:h,displayName:"arrowbutton"}])},884983:function(Je,H,t){t.d(H,{AB:function(){return b},GT:function(){return c},IZ:function(){return p},VW:function(){return l},dt:function(){return n},fS:function(){return f},j2:function(){return s},se:function(){return v},uH:function(){return h}});var e=t(149362),c="aerial",s="canvasDark",f="canvasLight",v="grayscale",b="road",h=b,p=s,n=(0,e.i)([{value:c,displayName:function(o){return o.get("Visual_MapThemeAerial")}},{value:s,displayName:function(o){return o.get("Visual_MapThemeDark")}},{value:f,displayName:function(o){return o.get("Visual_MapThemeLight")}},{value:v,displayName:function(o){return o.get("Visual_MapThemeGrayScale")}},{value:b,displayName:function(o){return o.get("Visual_MapThemeRoad")}}]);function l(r){return r===c||r===s}},746824:function(Je,H,t){t.d(H,{XT:function(){return v},aA:function(){return f},dt:function(){return h},dw:function(){return b},zH:function(){return s}});var e=t(149362),c="pixels",s="meters",f=c,v=200,b=4e6,h=(0,e.i)([{value:c,displayName:function(n){return n.get("Generic_Pixels")}},{value:s,displayName:function(n){return n.get("Visual_MapUnitMeters")}}])},350528:function(Je,H,t){t.d(H,{dt:function(){return f},xV:function(){return c}});var e=t(149362),c="darker",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Color_Darker")}},{value:"lighter",displayName:function(b){return b.get("Visual_Color_Lighter")}}])},997431:function(Je,H,t){t.d(H,{al:function(){return c},dt:function(){return f},oI:function(){return s}});var e=t(149362),c="belowValue",s="aboveValue",f=(0,e.i)([{value:c,displayName:function(b){return b.get("CardVisualPositioning_BelowValue")}},{value:s,displayName:function(b){return b.get("CardVisualPositioning_AboveValue")}}])},280122:function(Je,H,t){t.d(H,{YP:function(){return f},dt:function(){return b},hl:function(){return c},jv:function(){return s},uv:function(){return h}});var e=t(149362),c="fill",s="line",f="none",b=(0,e.i)([{value:c,displayName:function(n){return n.get("Visual_Confidence_Band_Style_Fill")}},{value:s,displayName:function(n){return n.get("Visual_Confidence_Band_Style_Line")}},{value:f,displayName:function(n){return n.get("None")}}]),h=(0,e.i)([{value:c,displayName:function(n){return n.get("Visual_Confidence_Band_Style_Fill")}},{value:s,displayName:function(n){return n.get("Visual_Confidence_Band_Style_Line")}},{value:"fillLine",displayName:function(n){return n.get("Visual_Confidence_Band_Style_LineFill")}}])},274870:function(Je,H,t){t.d(H,{FH:function(){return f},PG:function(){return c},Vm:function(){return s}});var e=t(149362),c="custom",s="fieldName",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Custom")}},{value:s,displayName:function(b){return b.get("StreamingDataflow_FieldName")}}])},564227:function(Je,H,t){t.d(H,{w:function(){return c}});var c=(0,t(149362).i)([{value:"Percent of total",displayName:function(f){return f.get("Visual_LabelStyle_Percent")}},{value:"Custom",displayName:function(f){return f.get("Custom")}}])},457158:function(Je,H,t){t.d(H,{d:function(){return c}});var c=(0,t(149362).i)([{value:0,displayName:function(f){return f.get("DisplayUnitSystem_EAuto_Title")}},{value:1,displayName:function(f){return f.get("DisplayUnitSystem_E0_Title")}},{value:1e3,displayName:function(f){return f.get("DisplayUnitSystem_E3_Title")}},{value:1e6,displayName:function(f){return f.get("DisplayUnitSystem_E6_Title")}},{value:1e9,displayName:function(f){return f.get("DisplayUnitSystem_E9_Title")}},{value:1e12,displayName:function(f){return f.get("DisplayUnitSystem_E12_Title")}},{value:-1,displayName:function(f){return f.get("Custom")}}])},747168:function(Je,H,t){t.d(H,{d7:function(){return c},dt:function(){return v},on:function(){return s}});var e=t(149362),c="auto",s="on",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_Auto")}},{value:s,displayName:function(h){return h.get("ToggleSwitchOn")}},{value:"off",displayName:function(h){return h.get("ToggleSwitchOff")}}])},605781:function(Je,H,t){t.d(H,{Od:function(){return s},SX:function(){return c},UX:function(){return v},dt:function(){return b},gC:function(){return f}});var e=t(149362),c="outside",s="inside",f="preferOutside",v="preferInside",b=(0,e.i)([{value:c,displayName:function(p){return p.get("Visual_DonutLabelPosition_Outside")}},{value:s,displayName:function(p){return p.get("Visual_DonutLabelPosition_Inside")}},{value:f,displayName:function(p){return p.get("Visual_DonutLabelPosition_PreferOutside")}},{value:v,displayName:function(p){return p.get("Visual_DonutLabelPosition_PreferInside")}}])},984748:function(Je,H,t){t.d(H,{AG:function(){return c},An:function(){return f},dt:function(){return b},w6:function(){return v},zR:function(){return s}});var e=t(149362),c="absolute",s="relativeNumeric",f="relativePercentage",v="range",b=(0,e.i)([{value:c,displayName:function(p){return p.get("Visual_Absolute")}},{value:s,displayName:function(p){return p.get("Visual_RelativeNumeric")}},{value:f,displayName:function(p){return p.get("Visual_RelativePercentage")}},{value:v,displayName:function(p){return p.get("Visual_Axis_Range")}}])},454967:function(Je,H,t){t.d(H,{$o:function(){return c},Mb:function(){return s},oB:function(){return f}});var e=t(149362),c="Fill only",s="Border only",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_FillStyle_Fill")}},{value:s,displayName:function(b){return b.get("Visual_FillStyle_Border")}}])},72653:function(Je,H,t){t.d(H,{CR:function(){return f},MS:function(){return n},YK:function(){return v},aT:function(){return b},dt:function(){return r},mN:function(){return l},nO:function(){return c},oN:function(){return h},r0:function(){return s},r2:function(){return p}});var e=t(149362),c=2,s=4,f=8,v=function(o){return o[o.data=c]="data",o[o.percentOfFirst=s]="percentOfFirst",o[o.percentOfPrevious=f]="percentOfPrevious",o[o.dataAndPercentOfFirst=c|s]="dataAndPercentOfFirst",o[o.dataAndPercentOfPrevious=c|f]="dataAndPercentOfPrevious",o}({}),b="Data",h="Percent of first",p="Percent of previous",n="Data, percent of first",l="Data, percent of previous",r=(0,e.i)([{value:b,displayName:function(a){return a.get("Visual_LabelStyle_DataValue")}},{value:h,displayName:function(a){return a.get("Funnel_PercentOfFirst")}},{value:p,displayName:function(a){return a.get("Funnel_PercentOfPrevious")}},{value:n,displayName:function(a){return a.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:l,displayName:function(a){return a.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])},771803:function(Je,H,t){t.d(H,{ST:function(){return c},_h:function(){return d},dt:function(){return g},gA:function(){return s},xF:function(){return S}});var e=t(149362),c={v1_0:"1.0",v2_0:"2.0"},s="",f="de-de",v="en-GB",b="en-US",h="es-ES",p="fr-FR",n="it-it",o="nl-BE",a="pt-BR",m="zh-Hans",u="zh-Hant",V=[{value:s,version:c.v1_0},{value:f,version:c.v2_0},{value:v,version:c.v2_0},{value:b,version:c.v2_0},{value:h,version:c.v2_0},{value:p,version:c.v2_0},{value:n,version:c.v2_0},{value:"ja",version:c.v1_0},{value:"ko",version:c.v2_0},{value:o,version:c.v2_0},{value:a,version:c.v2_0},{value:"ru",version:c.v2_0},{value:m,version:c.v2_0},{value:u,version:c.v2_0}];function d(y){return _.findIndex(V,function(C){return C.value===y})>=0}function S(y,C){var E=_.find(V,function(M){return M.value===y});return!!E&&E.version===C}var g=(0,e.i)([{value:s,displayName:function(C){return C.get("Visual_Auto")}},{value:f,displayName:function(C){return C.get("Visual_MapGeocodingCulture_DE")}},{value:v,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ENGB")}},{value:b,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ENUS")}},{value:h,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ES")}},{value:p,displayName:function(C){return C.get("Visual_MapGeocodingCulture_FR")}},{value:n,displayName:function(C){return C.get("Visual_MapGeocodingCulture_IT")}},{value:"ja",displayName:function(C){return C.get("Visual_MapGeocodingCulture_JA")}},{value:"ko",displayName:function(C){return C.get("Visual_MapGeocodingCulture_KO")}},{value:o,displayName:function(C){return C.get("Visual_MapGeocodingCulture_NL")}},{value:a,displayName:function(C){return C.get("Visual_MapGeocodingCulture_PT")}},{value:"ru",displayName:function(C){return C.get("Visual_MapGeocodingCulture_RU")}},{value:m,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ZHS")}},{value:u,displayName:function(C){return C.get("Visual_MapGeocodingCulture_ZHT")}}])},31394:function(Je,H,t){t.d(H,{$6:function(){return v},YP:function(){return b},aN:function(){return c},dt:function(){return h},rj:function(){return f},xT:function(){return s}});var e=t(149362),c="inner",s="innerHorizontal",f="innerVertical",v="all",b="none",h=(0,e.i)([{value:v,displayName:function(n){return n.get("All")},icon:{glyph:"border-all"}},{value:c,displayName:function(n){return n.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:s,displayName:function(n){return n.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:f,displayName:function(n){return n.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:b,displayName:function(n){return n.get("None")},icon:{glyph:"border-none"}}])},928643:function(Je,H,t){t.d(H,{B2:function(){return b},F2:function(){return f},PG:function(){return c},aE:function(){return v},dt:function(){return h},t$:function(){return s}});var e=t(149362),c="custom",s="left",f="right",v="above",b="below",h=(0,e.i)([{value:c,displayName:function(n){return n.get("Custom")}},{value:s,displayName:function(n){return n.get("Visual_IconPlacement_Left")}},{value:f,displayName:function(n){return n.get("Visual_IconPlacement_Right")}},{value:v,displayName:function(n){return n.get("Visual_IconPlacement_Above")}},{value:b,displayName:function(n){return n.get("Visual_IconPlacement_Below")}}])},674810:function(Je,H,t){t.d(H,{Tj:function(){return s},Zt:function(){return b},dt:function(){return v},hl:function(){return f},mJ:function(){return c}});var e=t(149362),c="Normal",s="Fit",f="Fill",v=(0,e.i)([{value:c,displayName:function(p){return p.get("Normal")}},{value:s,displayName:function(p){return p.get("Visual_ImageScalingType_Fit")}},{value:f,displayName:function(p){return p.get("Visual_ImageScalingType_Fill")}}]),b=v},653460:function(Je,H,t){t.d(H,{dt:function(){return f}});var f=(0,t(149362).i)([{value:"image",displayName:function(b){return b.get("Image")}},{value:"imageUrl",displayName:function(b){return b.get("Image_Url")}}])},790517:function(Je,H,t){t.d(H,{Mu:function(){return c},W2:function(){return s},dt:function(){return f}});var e=t(149362),c="keyInfluencers",s="topProfiles",f=(0,e.i)([{value:c,displayName:function(){return"keyInfluencers"}},{value:s,displayName:function(){return"topProfiles"}}])},966608:function(Je,H,t){t.d(H,{AG:function(){return c},Gf:function(){return s},dt:function(){return f}});var e=t(149362),c="absolute",s="relative",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Absolute")}},{value:s,displayName:function(b){return b.get("Visual_Relative")}}])},563246:function(Je,H,t){t.d(H,{Pf:function(){return s},dt:function(){return f},us:function(){return c}});var e=t(149362),c="Continuous",s="Categorical",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Axis_Scalar")}},{value:s,displayName:function(b){return b.get("Visual_Axis_Categorical")}}])},239311:function(Je,H,t){t.d(H,{QX:function(){return s},dt:function(){return f},ob:function(){return c}});var e=t(149362),c="impact",s="count",f=(0,e.i)([{value:c,displayName:function(b){return b.get("KeyDriver_SortType_Impact")}},{value:s,displayName:function(b){return b.get("KeyDriver_SortType_Count")}}])},31752:function(Je,H,t){t.d(H,{dt:function(){return f},i1:function(){return c},pd:function(){return s}});var e=t(149362),c="High is good",s="Low is good",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_KPI_DistanceDirection_Positive")}},{value:s,displayName:function(b){return b.get("Visual_KPI_DistanceDirection_Negative")}}])},401973:function(Je,H,t){t.d(H,{Hk:function(){return f},S3:function(){return c},aQ:function(){return s},dt:function(){return v}});var e=t(149362),c="Value",s="Percent",f="Value, percent",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_LabelText_Value")}},{value:s,displayName:function(h){return h.get("ConditionalFormattingDialog_Percent")}},{value:f,displayName:function(h){return h.get("Visual_LabelStyle_Both")}}])},38517:function(Je,H,t){t.d(H,{dt:function(){return f},i1:function(){return c},pd:function(){return s}});var e=t(149362),c="Positive",s="Negative",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_KPI_Direction_Positive")}},{value:s,displayName:function(b){return b.get("Visual_KPI_Direction_Negative")}}])},5635:function(Je,H,t){t.d(H,{d:function(){return c}});var c=(0,t(149362).i)([{value:0,displayName:function(f){return f.get("Visual_LabelOrientation_Vertical")}},{value:1,displayName:function(f){return f.get("Visual_LabelOrientation_Horizontal")}}])},201849:function(Je,H,t){t.d(H,{EZ:function(){return s},FY:function(){return b},aE:function(){return h},d7:function(){return c},di:function(){return p},dt:function(){return n},wv:function(){return v},yJ:function(){return f}});var e=t(149362),c="Auto",s="InsideEnd",f="InsideCenter",v="OutsideEnd",b="InsideBase",h="Above",p="Under",n=(0,e.i)([{value:c,displayName:function(r){return r.get("Visual_Auto")}},{value:s,displayName:function(r){return r.get("Visual_LabelPosition_InsideEnd")}},{value:v,displayName:function(r){return r.get("Visual_LabelPosition_OutsideEnd")}},{value:f,displayName:function(r){return r.get("Visual_LabelPosition_InsideCenter")}},{value:b,displayName:function(r){return r.get("Visual_LabelPosition_InsideBase")}},{value:h,displayName:function(r){return r.get("Visual_Reference_Line_Data_Label_Above")}},{value:p,displayName:function(r){return r.get("Visual_Reference_Line_Data_Label_Under")}}])},8591:function(Je,H,t){t.d(H,{F2:function(){return s},dt:function(){return f}});var e=t(149362),s="Right",f=(0,e.i)([{value:"Left",displayName:function(b){return b.get("Visual_yAxis_Left")}},{value:s,displayName:function(b){return b.get("Visual_yAxis_Right")}}])},326899:function(Je,H,t){t.d(H,{W3:function(){return b},YK:function(){return v},_q:function(){return o},aQ:function(){return p},aT:function(){return h},dt:function(){return a},ev:function(){return l},f3:function(){return n},mA:function(){return c},nO:function(){return s},qv:function(){return r},tG:function(){return f}});var e=t(149362),c=2,s=4,f=8,v=function(i){return i[i.category=c]="category",i[i.data=s]="data",i[i.percent=f]="percent",i[i.categoryAndData=c|s]="categoryAndData",i[i.categoryAndPercent=c|f]="categoryAndPercent",i[i.dataAndPercent=s|f]="dataAndPercent",i[i.categoryAndDataAndPercent=c|s|f]="categoryAndDataAndPercent",i}({}),b="Category",h="Data",p="Percent of total",n="Both",l="Category, percent of total",r="Data value, percent of total",o="Category, data value, percent of total",a=(0,e.i)([{value:b,displayName:function(m){return m.get("Visual_LabelStyle_Category")}},{value:h,displayName:function(m){return m.get("Visual_LabelStyle_DataValue")}},{value:p,displayName:function(m){return m.get("Visual_LabelStyle_Percent")}},{value:n,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndData")}},{value:l,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndPercent")}},{value:r,displayName:function(m){return m.get("Visual_LabelStyle_DataAndPercent")}},{value:o,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])},870743:function(Je,H,t){t.d(H,{S3:function(){return c},dt:function(){return v},u2:function(){return s},u6:function(){return f}});var e=t(149362),c="Value",s="Name",f="ValueAndName",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_LabelStyle_DataValue")}},{value:s,displayName:function(h){return h.get("Name")}},{value:f,displayName:function(h){return h.get("Visual_LabelStyle_Both")}}])},281835:function(Je,H,t){t.d(H,{G_:function(){return v},XD:function(){return s},dt:function(){return b},f2:function(){return c},tl:function(){return f}});var e=t(149362),c="markerOnly",s="lineAndMarker",f="lineOnly",v="markerCircleDefault",b=(0,e.i)([{value:v,displayName:function(p){return p.get("MarkerCircleDefault")}},{value:c,displayName:function(p){return p.get("Marker")}},{value:f,displayName:function(p){return p.get("Visual_Shape_Line")}},{value:s,displayName:function(p){return p.get("Visual_LegendLineAndMarker")}}])},210770:function(Je,H,t){t.d(H,{F2:function(){return v},I:function(){return s},dt:function(){return o},f6:function(){return l},hT:function(){return r},t$:function(){return f},u0:function(){return a},v3:function(){return n},we:function(){return c},zq:function(){return i}});var e=t(149362),c="Top",s="Bottom",f="Left",v="Right",n="RightCenter",l="TopRight",r="BottomRight",o=(0,e.i)([{value:c,displayName:function(u){return u.get("Visual_LabelPosition_TopLeft")}},{value:"TopCenter",displayName:function(u){return u.get("Visual_LabelPosition_TopCenter")}},{value:l,displayName:function(u){return u.get("Visual_LabelPosition_TopRight")}},{value:f,displayName:function(u){return u.get("Visual_LegendPosition_TopLeftStacked")}},{value:v,displayName:function(u){return u.get("Visual_LegendPosition_TopRightStacked")}},{value:"LeftCenter",displayName:function(u){return u.get("Visual_LegendPosition_LeftCenter")}},{value:n,displayName:function(u){return u.get("Visual_LegendPosition_RightCenter")}},{value:s,displayName:function(u){return u.get("Visual_LabelPosition_BottomLeft")}},{value:"BottomCenter",displayName:function(u){return u.get("Visual_LabelPosition_BottomCenter")}},{value:r,displayName:function(u){return u.get("Visual_LabelPosition_BottomRight")}}]),a=(0,e.i)([{value:f,displayName:function(u){return u.get("Visual_TextAlignment_Left")}},{value:v,displayName:function(u){return u.get("Visual_TextAlignment_Right")}},{value:s,displayName:function(u){return u.get("Bottom")}},{value:c,displayName:function(u){return u.get("Top")}}]),i=(0,e.i)([{value:f,displayName:function(u){return u.get("Visual_IconPlacement_Left")}},{value:v,displayName:function(u){return u.get("Visual_IconPlacement_Right")}},{value:s,displayName:function(u){return u.get("Visual_IconPlacement_Below")}},{value:c,displayName:function(u){return u.get("Visual_IconPlacement_Above")}}])},344916:function(Je,H,t){t.d(H,{GE:function(){return c},Nb:function(){return s},dt:function(){return v},ip:function(){return f}});var e=t(149362),c="linear",s="step",f="smooth",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_Axis_Linear")}},{value:f,displayName:function(h){return h.get("Visual_SmoothLine")}},{value:s,displayName:function(h){return h.get("Visual_StepLine")}}])},808261:function(Je,H,t){t.d(H,{HA:function(){return c},SQ:function(){return s},dt:function(){return v},ft:function(){return f}});var e=t(149362),c="dashed",s="solid",f="dotted",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_LineStyle_Dashed")}},{value:s,displayName:function(h){return h.get("Visual_LineStyle_Solid")}},{value:f,displayName:function(h){return h.get("Visual_LineStyle_Dotted")}}])},51033:function(Je,H,t){t.d(H,{$m:function(){return b},Ku:function(){return s},VE:function(){return c},ar:function(){return h},d7:function(){return f},x9:function(){return v},zo:function(){return p}});var e=t(149362),c="magnitude",s="dataRange",f="auto",v="scatterDeprecated",b=[c,s,f],h=[{value:c,displayName:function(l){return l.get("Visual_MarkerRangeType_Magnitude")}},{value:s,displayName:function(l){return l.get("Visual_MarkerRangeType_DataRange")}},{value:f,displayName:function(l){return l.get("Visual_Auto")}}],p=(0,e.i)(h)},306310:function(Je,H,t){t.d(H,{LS:function(){return i},OE:function(){return V},PD:function(){return l},Xw:function(){return s},YP:function(){return a},cP:function(){return b},dt:function(){return u},h6:function(){return f},kZ:function(){return n},m9:function(){return o},tf:function(){return v},uh:function(){return p},x:function(){return h},yf:function(){return r}});var e=t(226514),c=t(149362),s="circle",f="square",v="diamond",b="triangle",h="x",p="shortDash",n="longDash",l="plus",r="upperErrorBar",o="lowerErrorBar",a="none",i=s,m=[{value:s,displayName:function(S){return S.get("Visual_MarkerShape_Circle")},label:function(S){return S.get("Visual_MarkerShape_Circle_Label")}},{value:f,displayName:function(S){return S.get("Visual_MarkerShape_Square")},label:function(S){return S.get("Visual_MarkerShape_Square_Label")}},{value:v,displayName:function(S){return S.get("Visual_MarkerShape_Diamond")},label:function(S){return S.get("Visual_MarkerShape_Diamond_Label")}},{value:b,displayName:function(S){return S.get("Visual_MarkerShape_Triangle")},label:function(S){return S.get("Visual_MarkerShape_Triangle_Label")}},{value:h,displayName:function(S){return S.get("Visual_MarkerShape_X")},label:function(S){return S.get("Visual_MarkerShape_X_Label")}},{value:p,displayName:function(S){return S.get("Visual_MarkerShape_ShortDash")},label:function(S){return S.get("Visual_MarkerShape_ShortDash_Label")}},{value:n,displayName:function(S){return S.get("Visual_MarkerShape_LongDash")},label:function(S){return S.get("Visual_MarkerShape_LongDash_Label")}},{value:l,displayName:function(S){return S.get("Visual_MarkerShape_Plus")},label:function(S){return S.get("Visual_MarkerShape_Plus_Label")}}],u=(0,c.i)(m),V=(0,c.i)((0,e.__spreadArray)((0,e.__spreadArray)([],m,!0),[{value:a,displayName:function(S){return S.get("None")}}],!1))},993517:function(Je,H,t){t.d(H,{S:function(){return s},d:function(){return c}});var e=t(149362),c=(0,e.i)([{value:0,displayName:function(v){return v.get("Visual_Grid")}},{value:1,displayName:function(v){return v.get("Slicer_Orientation_Vertical")}},{value:2,displayName:function(v){return v.get("Slicer_Orientation_Horizontal")}}]),s=(0,e.i)([{value:1,displayName:function(v){return v.get("Visual_Arrangement_Column")}},{value:2,displayName:function(v){return v.get("Visual_Arrangement_Row")}},{value:0,displayName:function(v){return v.get("Visual_Grid")}}])},666683:function(Je,H,t){t.d(H,{BK:function(){return r},LI:function(){return v},Ob:function(){return i},RH:function(){return b},Wi:function(){return n},YP:function(){return c},b_:function(){return h},dt:function(){return m},fs:function(){return a},j0:function(){return f},mv:function(){return o},v3:function(){return p},wI:function(){return s},yo:function(){return l}});var e=t(149362),c="None",s="BottomOnly",f="TopOnly",v="LeftOnly",b="RightOnly",h="TopBottom",p="LeftRight",n="Frame";function l(u){return"number"==typeof u?!!(1&u):[f,h,n].some(function(V){return V===u})}function r(u){return"number"==typeof u?!!(2&u):[b,p,n].some(function(V){return V===u})}function o(u){return"number"==typeof u?!!(4&u):[s,h,n].some(function(V){return V===u})}function a(u){return"number"==typeof u?!!(8&u):[v,p,n].some(function(V){return V===u})}var i=(0,e.i)([{value:1,displayName:function(V){return V.get("Top")}},{value:4,displayName:function(V){return V.get("Bottom")}},{value:8,displayName:function(V){return V.get("Visual_TextAlignment_Left")}},{value:2,displayName:function(V){return V.get("Visual_TextAlignment_Right")}}]),m=(0,e.i)([{value:c,displayName:function(V){return V.get("None")}},{value:s,displayName:function(V){return V.get("Visual_Outline_bottom_only")}},{value:f,displayName:function(V){return V.get("Visual_Outline_top_only")}},{value:v,displayName:function(V){return V.get("Visual_Outline_LeftOnly")}},{value:b,displayName:function(V){return V.get("Visual_Outline_RightOnly")}},{value:h,displayName:function(V){return V.get("Visual_Outline_top_Bottom")}},{value:p,displayName:function(V){return V.get("Visual_Outline_leftRight")}},{value:n,displayName:function(V){return V.get("Visual_Outline_frame")}}])},846841:function(Je,H,t){t.d(H,{EY:function(){return c},Ln:function(){return f},PG:function(){return v},YP:function(){return p},cO:function(){return h},dt:function(){return n},mJ:function(){return s},uz:function(){return b}});var e=t(149362),c="Wide",s="Normal",f="Narrow",v="Custom",b=6,h=12,p=20,n=(0,e.i)([{value:c,displayName:function(r){return r.get("Wide")}},{value:s,displayName:function(r){return r.get("Normal")}},{value:f,displayName:function(r){return r.get("Narrow")}},{value:v,displayName:function(r){return r.get("Custom")}}])},839789:function(Je,H,t){t.d(H,{W$:function(){return s},dt:function(){return f}});var e=t(149362),s="front",f=(0,e.i)([{value:"back",displayName:function(b){return b.get("Visual_Reference_Line_Behind")}},{value:s,displayName:function(b){return b.get("Visual_Reference_Line_InFront")}}])},265699:function(Je,H,t){t.d(H,{dt:function(){return f},t$:function(){return c}});var e=t(149362),c="left",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Reference_Line_Data_Label_Left")}},{value:"right",displayName:function(b){return b.get("Visual_Reference_Line_Data_Label_Right")}}])},419580:function(Je,H,t){t.d(H,{aE:function(){return c},dt:function(){return f}});var e=t(149362),c="above",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Reference_Line_Data_Label_Above")}},{value:"under",displayName:function(b){return b.get("Visual_Reference_Line_Data_Label_Under")}}])},252844:function(Je,H,t){t.d(H,{YP:function(){return f},bb:function(){return c},dt:function(){return v}});var e=t(149362),c="before",f="none",v=(0,e.i)([{value:c,displayName:function(h){return h.get("Visual_Before")}},{value:"after",displayName:function(h){return h.get("Visual_After")}},{value:f,displayName:function(h){return h.get("None")}}])},725377:function(Je,H,t){t.d(H,{$G:function(){return i},BB:function(){return S},GA:function(){return m},J6:function(){return V},LK:function(){return b},P4:function(){return n},PN:function(){return d},YP:function(){return f},_k:function(){return u},an:function(){return p},e7:function(){return r},gQ:function(){return a},i4:function(){return h},ks:function(){return o},qQ:function(){return l}});var e=t(787941),c=t(648887),s=t(149362),f="None",b="Minutes",h="Hours",p="Days",n="Weeks",l="Calendar Weeks",r="Months",o="Calendar Months",a="Years",i="Calendar Years",m=(0,s.i)([{value:f,displayName:function(y){return y.get("Select")}},{value:p,displayName:function(y){return y.get("TimeUnit_Days")}},{value:n,displayName:function(y){return y.get("TimeUnit_Weeks")}},{value:l,displayName:function(y){return y.get("Visual_SlicerPeriod_CalWeeks")}},{value:r,displayName:function(y){return y.get("TimeUnit_Months")}},{value:o,displayName:function(y){return y.get("Visual_SlicerPeriod_CalMonths")}},{value:a,displayName:function(y){return y.get("TimeUnit_Years")}},{value:i,displayName:function(y){return y.get("Visual_SlicerPeriod_CalYears")}}]),u=(0,s.i)([{value:f,displayName:function(y){return y.get("Select")}},{value:b,displayName:function(y){return y.get("TimeUnit_Minutes")}},{value:h,displayName:function(y){return y.get("TimeUnit_Hours")}}]),V=(0,s.i)([{value:f,displayName:function(y){return y.get("Select")}},{value:p,displayName:function(y){return y.get("TimeUnit_Day")}},{value:n,displayName:function(y){return y.get("TimeUnit_Week")}},{value:r,displayName:function(y){return y.get("TimeUnit_Month")}},{value:a,displayName:function(y){return y.get("TimeUnit_Year")}}]),d=(0,s.i)([{value:f,displayName:function(y){return y.get("Select")}},{value:b,displayName:function(y){return y.get("TimeUnit_Minute")}},{value:h,displayName:function(y){return y.get("TimeUnit_Hour")}}]);function S(g){if(null==g)return null;switch(g){case c.hU.Second:return"Seconds";case c.hU.Minute:return b;case c.hU.Hour:return h;case c.hU.Day:return p;case c.hU.Week:return n;case c.hU.CalendarWeek:return l;case c.hU.Month:return r;case c.hU.CalendarMonth:return o;case c.hU.Year:return a;case c.hU.CalendarYear:return i;default:return void e.fF.assertNever(g)}}},505328:function(Je,H,t){t.d(H,{BB:function(){return p},Vk:function(){return b},Z$:function(){return f},dt:function(){return h},lp:function(){return v}});var e=t(787941),c=t(648887),s=t(149362),f="Last",v="Next",b="This",h=(0,s.i)([{value:f,displayName:function(l){return l.get("Visual_SlicerRange_Last")}},{value:v,displayName:function(l){return l.get("Visual_SlicerRange_Next")}},{value:b,displayName:function(l){return l.get("Visual_SlicerRange_This")}}]);function p(n){if(null==n)return null;switch(n){case c.KO.Last:return f;case c.KO.Current:return b;case c.KO.Next:return v;default:return void e.fF.assertNever(n)}}},707903:function(Je,H,t){t.d(H,{I:function(){return s},dt:function(){return f},we:function(){return c}});var e=t(149362),c="Top",s="Bottom",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Top")}},{value:s,displayName:function(b){return b.get("Bottom")}}])},665226:function(Je,H,t){t.d(H,{Lu:function(){return p},S3:function(){return v},W3:function(){return c},ac:function(){return s},dt:function(){return l},hD:function(){return h},jH:function(){return f},rU:function(){return b},s6:function(){return n}});var e=t(149362),c="Category",s="Series",f="Tooltips",v="Value",b="albersUsa",h="equirectangular",p="mercator",n="orthographic",l=(0,e.i)([{value:b,displayName:function(o){return o.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:h,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:p,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Mercator")}},{value:n,displayName:function(o){return o.get("Visual_ShapeMap_Projection_Orthographic")}}])},580968:function(Je,H,t){t.d(H,{d:function(){return s},m:function(){return c}});var e=t(149362),c=function(f){return f.AccentBar="accentBar",f.Arrow="arrow",f.ArrowChevron="arrowChevron",f.ArrowPentagon="arrowPentagon",f.Heart="heart",f.Hexagon="hexagon",f.Line="line",f.Octagon="octagon",f.Oval="oval",f.Parallelogram="parallelogram",f.Pentagon="pentagon",f.Pill="pill",f.Rectangle="rectangle",f.RectangleRounded="rectangleRounded",f.RectangleRoundedByPixel="rectangleRoundedByPixel",f.TabCutCorner="tabCutCorner",f.TabCutTopCorners="tabCutTopCorners",f.TabCutTopCornersByPixel="tabCutTopCornersByPixel",f.TabRoundCorner="tabRoundCorner",f.TabRoundTopCorners="tabRoundTopCorners",f.Speechbubble="speechbubbleRectangle",f.Trapezoid="trapezoid",f.TriangleIsoc="triangleIsoc",f.TriangleRight="triangleRight",f}({}),s=(0,e.i)([{value:c.Arrow,displayName:function(v){return v.get("ReportAppBar_ShapeArrow")}},{value:c.ArrowChevron,displayName:function(v){return v.get("Visual_Shape_ArrowChevron")}},{value:c.ArrowPentagon,displayName:function(v){return v.get("Visual_Shape_ArrowPentagon")}},{value:c.Heart,displayName:function(v){return v.get("Visual_Shape_Heart")}},{value:c.Hexagon,displayName:function(v){return v.get("Visual_Shape_Hexagon")}},{value:c.Line,displayName:function(v){return v.get("Visual_Shape_Line")}},{value:c.Octagon,displayName:function(v){return v.get("Visual_Shape_Octagon")}},{value:c.Oval,displayName:function(v){return v.get("ReportAppBar_ShapeOval")}},{value:c.Parallelogram,displayName:function(v){return v.get("Visual_Shape_Parallelogram")}},{value:c.Pentagon,displayName:function(v){return v.get("Visual_Shape_Pentagon")}},{value:c.Pill,displayName:function(v){return v.get("Visual_Shape_Pill")}},{value:c.Rectangle,displayName:function(v){return v.get("ReportAppBar_ShapeRectangle")}},{value:c.RectangleRounded,displayName:function(v){return v.get("Visual_Shape_RectangleRounded")}},{value:c.RectangleRoundedByPixel,displayName:function(v){return v.get("Visual_Shape_RectangleRounded")}},{value:c.TabCutCorner,displayName:function(v){return v.get("Visual_Shape_TabCutCorner")}},{value:c.TabCutTopCorners,displayName:function(v){return v.get("Visual_Shape_TabCutTopCorners")}},{value:c.TabCutTopCornersByPixel,displayName:function(v){return v.get("Visual_Shape_TabCutTopCorners")}},{value:c.TabRoundCorner,displayName:function(v){return v.get("Visual_Shape_TabRoundCorner")}},{value:c.TabRoundTopCorners,displayName:function(v){return v.get("Visual_Shape_TabRoundTopCorners")}},{value:c.Speechbubble,displayName:function(v){return v.get("Visual_Shape_SpeechBubble")}},{value:c.Trapezoid,displayName:function(v){return v.get("Visual_Shape_Trapezoid")}},{value:c.TriangleIsoc,displayName:function(v){return v.get("Visual_Shape_TriangleIsoc")}},{value:c.TriangleRight,displayName:function(v){return v.get("Visual_Shape_TriangleRight")}}])},759510:function(Je,H,t){t.d(H,{Ek:function(){return d},G5:function(){return V},GV:function(){return r},Ih:function(){return a},K8:function(){return n},Lw:function(){return u},RB:function(){return h},Zr:function(){return l},bb:function(){return f},dt:function(){return i},e4:function(){return v},j6:function(){return p},l6:function(){return m},nW:function(){return S},of:function(){return o},vX:function(){return b}});var e=t(787941),c=t(648887),s=t(149362),f="Before",v="After",b="Between",h="Basic",p="Dropdown",n="Relative",l="Single",r="RelativeTime",o="HorizontalList",a="VerticalList",i=(0,s.i)([{value:a,displayName:function(y){return y.get("Visual_SliderMode_VerticalList")}},{value:o,displayName:function(y){return y.get("Tile_Generic")}},{value:b,displayName:function(y){return y.get("Visual_SliderMode_Between")}},{value:f,displayName:function(y){return y.get("Visual_Before")}},{value:v,displayName:function(y){return y.get("Visual_After")}},{value:h,displayName:function(y){return y.get("Visual_SliderMode_Basic")}},{value:p,displayName:function(y){return y.get("Visual_SliderMode_Dropdown")}},{value:n,displayName:function(y){return y.get("Visual_SliderMode_RelativeDate")}},{value:l,displayName:function(y){return y.get("Visual_SliderMode_SingleVal")}},{value:r,displayName:function(y){return y.get("Visual_SliderMode_RelativeTime")}}]);function m(g){return g===f||g===b||g===v||g===l}function u(g){return g===f||g===b||g===v}function V(g){return g===n||g===r}function d(g){return g===h||g===p}function S(g){switch(g){case r:return c.wj.Time;case n:return c.wj.Date;default:e.fF.assertFail("The following slicer mode is not a relative filter: ".concat(g))}}},391980:function(Je,H,t){t.d(H,{d:function(){return c}});var c=(0,t(149362).i)([{value:0,displayName:function(f){return f.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(f){return f.get("Slicer_Orientation_Horizontal")}}])},694074:function(Je,H,t){t.d(H,{d7:function(){return c},dt:function(){return f}});var e=t(149362),c="auto",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Auto")}},{value:"custom",displayName:function(b){return b.get("Custom")}}])},518284:function(Je,H,t){t.d(H,{$Q:function(){return s},dt:function(){return f},jv:function(){return c}});var e=t(149362),c="line",s="column",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Visual_Shape_Line")}},{value:s,displayName:function(b){return b.get("Column")}}])},635528:function(Je,H,t){t.d(H,{$6:function(){return c},O3:function(){return f},Ps:function(){return v},Z$:function(){return b},Zc:function(){return s},dt:function(){return n},pd:function(){return h},qC:function(){return p}});var e=t(149362),c=1,s=2,f=4,v=8,b=16,h=32,p=128,n=(0,e.i)([{value:c,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_All")}},{value:s,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_Highest")}},{value:f,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:v,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_First")}},{value:b,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_Last")}},{value:h,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_Negative")}},{value:p,displayName:function(r){return r.get("Sparkline_Formatting_MarkerType_Isolated")}}])},879412:function(Je,H,t){t.d(H,{Ai:function(){return f},GA:function(){return n},K2:function(){return b},R5:function(){return c},TB:function(){return s},UQ:function(){return v},dt:function(){return l},mH:function(){return p},tY:function(){return h}});var e=t(149362),c="bottomLeft",s="bottomRight",f="rightDown",v="rightUp",b="topRight",h="topLeft",p="leftUp",n="leftDown",l=(0,e.i)([{value:c,displayName:function(o){return o.get("Visual_LabelPosition_BottomLeft")}},{value:s,displayName:function(o){return o.get("Visual_LabelPosition_BottomRight")}},{value:f,displayName:function(o){return o.get("Visual_Shape_ChatPosition_RightDown")}},{value:v,displayName:function(o){return o.get("Visual_Shape_ChatPosition_RightUp")}},{value:b,displayName:function(o){return o.get("Visual_LabelPosition_TopRight")}},{value:h,displayName:function(o){return o.get("Visual_LabelPosition_TopLeft")}},{value:p,displayName:function(o){return o.get("Visual_Shape_ChatPosition_LeftUp")}},{value:n,displayName:function(o){return o.get("Visual_Shape_ChatPosition_LeftDown")}}])},14083:function(Je,H,t){t.d(H,{Bo:function(){return h},G:function(){return b},M4:function(){return s},S$:function(){return m},S9:function(){return v},Ss:function(){return n},Wl:function(){return o},X9:function(){return a},Xl:function(){return l},dt:function(){return u},ei:function(){return r},fC:function(){return c},p8:function(){return f},r5:function(){return i},sp:function(){return p}});var e=t(149362),c="australia.states.topo",s="austria.states.topo",f="brazil.states.topo",v="canada.provinces.topo",b="france.regions.v2.topo",h="germany.states.topo",p="ireland.counties.v2.topo",n="italy.regions.topo",l="mexico.states.topo",r="netherlands.provinces.topo",o="uk.countries.topo",a="usa.states.topo",i="france.regions.topo",m="ireland.counties.topo",u=(0,e.i)([{value:c,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_AustraliaStates")}},{value:s,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_AustriaStates")}},{value:f,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_BrazilStates")}},{value:v,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")}},{value:b,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_FranceRegions")}},{value:i,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")}},{value:h,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_GermanyStates")}},{value:p,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_IrelandCounties")}},{value:m,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")}},{value:n,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_ItalyRegions")}},{value:l,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_MexicoStates")}},{value:r,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")}},{value:o,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_UkCountries")}},{value:a,displayName:function(d){return d.get("Visual_ShapeMap_StandardMaps_UsaStates")}}])},383527:function(Je,H,t){t.d(H,{LS:function(){return v},NM:function(){return s},dt:function(){return b}});var e=t(149362),s="round",v=s,b=(0,e.i)([{value:"miter",displayName:function(p){return p.get("Visual_StrokeLineJoin_Miter")}},{value:s,displayName:function(p){return p.get("Visual_StrokeLineJoin_Round")}},{value:"bevel",displayName:function(p){return p.get("Visual_StrokeLineJoin_Bevel")}}])},834436:function(Je,H,t){t.d(H,{F2:function(){return v},be:function(){return f},d7:function(){return c},dt:function(){return b},t$:function(){return s}});var e=t(149362),c="Auto",s="Left",f="Center",v="Right",b=(0,e.i)([{value:c,displayName:function(p){return p.get("Visual_TextAlignment_Auto")}},{value:s,displayName:function(p){return p.get("Visual_TextAlignment_Left")}},{value:f,displayName:function(p){return p.get("Visual_TextAlignment_Center")}},{value:v,displayName:function(p){return p.get("Visual_TextAlignment_Right")}}])},646875:function(Je,H,t){t.d(H,{D:function(){return c}});var c=(0,t(149362).i)([{value:"Series name",displayName:function(f){return f.get("Visual_Label_TitleLabelContent_SeriesName")}},{value:"Custom",displayName:function(f){return f.get("Custom")}}])},639907:function(Je,H,t){t.d(H,{cy:function(){return l},dt:function(){return n}});var e=t(149362),c=t(787941),n=(0,e.i)([{value:"Normal",displayName:function(a){return a.get("Normal")}},{value:"Heading2",displayName:function(a){return a.get("Heading_2")}},{value:"Heading3",displayName:function(a){return a.get("Heading_3")}},{value:"Heading4",displayName:function(a){return a.get("Heading_4")}},{value:"Heading5",displayName:function(a){return a.get("Heading_5")}},{value:"Heading6",displayName:function(a){return a.get("Heading_6")}}]);function l(o){switch(o){case"Normal":return"p";case"Heading2":return"h2";case"Heading3":return"h3";case"Heading4":return"h4";case"Heading5":return"h5";case"Heading6":return"h6";default:return c.fF.assertNever(o),"p"}}},981597:function(Je,H,t){t.d(H,{I:function(){return s},dt:function(){return f},we:function(){return c}});var e=t(149362),c="top",s="bottom",f=(0,e.i)([{value:c,displayName:function(b){return b.get("Top")}},{value:s,displayName:function(b){return b.get("Bottom")}}])},669780:function(Je,H,t){t.d(H,{EH:function(){return r},F3:function(){return a},Kx:function(){return h},Ok:function(){return o},RB:function(){return n},XZ:function(){return b},cB:function(){return m},cp:function(){return s},dx:function(){return v},nM:function(){return p},s0:function(){return i},tO:function(){return l},tV:function(){return f}});var e=t(187810),c=t(803018),s=c.Wn.regular.css,f=function(u){return u[u.Top=0]="Top",u[u.Bottom=1]="Bottom",u[u.Right=2]="Right",u[u.Left=3]="Left",u[u.None=4]="None",u[u.TopCenter=5]="TopCenter",u[u.BottomCenter=6]="BottomCenter",u[u.RightCenter=7]="RightCenter",u[u.LeftCenter=8]="LeftCenter",u[u.TopRight=9]="TopRight",u[u.BottomRight=10]="BottomRight",u}({});function v(u){return!u||null==u.show||u.show}function b(u){var V=u.family===s;return(0,e.ED)(u,{family:V?c.Wn.semibold.css:void 0,weight:V?void 0:"bold"})}function h(u){switch(u){case f.Bottom:case f.BottomCenter:case f.BottomRight:return!0;default:return!1}}function p(u){switch(u){case f.Left:case f.LeftCenter:return!0;default:return!1}}function n(u){switch(u){case f.Top:case f.TopCenter:case f.TopRight:return!0;default:return!1}}function l(u){switch(u){case f.Right:case f.RightCenter:return!0;default:return!1}}function r(u){switch(u){case f.BottomCenter:case f.LeftCenter:case f.RightCenter:case f.TopCenter:return!0;default:return!1}}function o(u){switch(u){case f.TopRight:case f.BottomRight:return!0;default:return!1}}function a(u){switch(u){case f.Top:case f.Bottom:return!0;default:return!1}}function i(u){return n(u)||h(u)}function m(u){return p(u)||l(u)}},951467:function(Je,H,t){t.d(H,{$B:function(){return Q},C_:function(){return A},Dm:function(){return i},Dr:function(){return M},EN:function(){return r},EY:function(){return V},El:function(){return oe},Fy:function(){return O},GU:function(){return Ve},Gh:function(){return f},IX:function(){return F},JG:function(){return x},L$:function(){return S},MX:function(){return m},Mk:function(){return P},Sm:function(){return te},TH:function(){return a},TS:function(){return E},Tr:function(){return w},U9:function(){return ee},VS:function(){return X},Vt:function(){return J},W0:function(){return D},Yx:function(){return N},_7:function(){return W},aV:function(){return v},aj:function(){return U},e:function(){return L},er:function(){return B},fi:function(){return l},fk:function(){return T},iB:function(){return He},ij:function(){return re},lC:function(){return R},ni:function(){return C},ox:function(){return Te},p7:function(){return y},pi:function(){return G},pj:function(){return Qe},rO:function(){return u},s2:function(){return o},tb:function(){return Ce},v3:function(){return p},we:function(){return g},x7:function(){return n},x8:function(){return ne},zC:function(){return I},zI:function(){return b},zX:function(){return j}});var e=t(226514),c=t(787941),f=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("NoValidGeotaggedCategoryMessage"),title:pe.get("NoValidGeotaggedCategoryKey"),detail:pe.get("NoValidGeotaggedCategoryValue")}},de}(),v=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("Visual_MapGeocodingCultureInvalid_Message"),title:pe.get("Visual_MapGeocodingCultureInvalid_Key"),detail:pe.get("Visual_MapGeocodingCultureInvalid_Value")}},de}(),b=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("InvalidLatLongMessage"),title:pe.get("InvalidLatLongKey"),detail:pe.get("InvalidLatLongValue")}},de}(),p=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_NegativeValues"),title:"",detail:""}},de}(),n=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"ModifiedLabelValueWarning"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_ModifiedLabelValue"),title:"",detail:""}},de}(),l=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},de}(),r=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_NanValues"),title:"",detail:""}},de}(),o=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_InfinityValues"),title:"",detail:""}},de}(),a=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},de}(),i=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"InvalidAxisRange"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="VisualWarning_InvalidAxisRange";return{message:pe.get(le),title:pe.get(le),detail:""}},de}(),m=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="VisualWarning_ZeroValues";return{message:pe.get(le),title:pe.get("VisualWarning_ZeroValuesTitle"),detail:pe.get(le)}},de}(),u=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="VisualWarning_AlignZerosWithCustomDomain";return{message:pe.get(le),title:pe.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:pe.get(le)}},de}(),V=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("Visual_KPI_DataMissing"),title:"",detail:""}},de}(),S=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},de}(),g=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="DataLabelsNotRenderedMessage";return{message:pe.get(le),title:pe.get(le),detail:pe.get("DataLabelsNotRenderedValue")}},de}(),y=function(){function de(pe){this.propertyName=pe}return Object.defineProperty(de.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_LegendFontSize")}},de}(),C=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},de}(),E=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_LegendLocation";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_LegendLocation")}},de}(),M=function(){function de(pe){this.propertyName=pe}return Object.defineProperty(de.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_AxisFontSize")}},de}(),P=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},de}(),T=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},de}(),x=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},de}(),R=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},de}(),D=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},de}(),L=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},de}(),F=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},de}(),A=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},de}(),O=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},de}(),N=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},de}(),w=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return de.code},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="NoIdentityExprMessage";return{message:pe.get(le),title:pe.get(le),detail:pe.get("NoIdentityExprValue")}},de.code="NoIdentityExprWarning",de}(),I=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return de.code},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("Visual_Error_SelectionNotShownMessage"),title:pe.get("Visual_Error_SelectionNotShownKey"),detail:pe.get("Visual_Error_SelectionNotShownValue")}},de.code="OnRestoreSelectionNotSupportedWarning",de}(),B=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){var le="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:pe.get(le),title:pe.get(le),detail:pe.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},de}(),j=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("InvalidLatLongMessage"),title:pe.get("InvalidLatLongKey"),detail:pe.get("AzureMapsInvalidLatLongValue")}},de}(),W=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AzureMapsControlLoadMessage"),title:pe.get("AzureMapsControlLoadTitle"),detail:pe.get("AzureMapsControlLoadDetail")}},de}(),U=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AzureMapsBrowserUnsupportedMessage"),title:pe.get("AzureMapsBrowserUnsupportedTitle"),detail:pe.get("AzureMapsBrowserUnsupportedDetail")}},de}(),k=function(){function de(){}return de.prototype.getMessages=function(pe,le,me,be){return{message:le&&pe.get(le),title:me&&pe.get(me),detail:be&&pe.get(be)}},de}(),Q=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsFileReadMessage","AzureMapsFileReadTitle","AzureMapsFileReadDetail")},pe}(k),te=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsFilledMapData"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsFilledMapDataMessage","AzureMapsFilledMapDataTitle","AzureMapsFilledMapDataDetail")},pe}(k),ee=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"UndefinedToken"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsRequestErrorTitle",void 0,void 0)},pe}(k),J=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"UnrecognizedCode"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsRequestErrorTitle",void 0,void 0)},pe}(k),re=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"RequestError"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsRequestErrorTitle",void 0,void 0)},pe}(k),G=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"ShapeMapBoundsFailure"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("ShapeMapBoundsMessage"),title:pe.get("ShapeMapBoundsitle"),detail:pe.get("ShapeMapBoundsDetail")}},de}(),ne=function(de){function pe(){return null!==de&&de.apply(this,arguments)||this}return(0,e.__extends)(pe,de),Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsSetCamera"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(le){return de.prototype.getMessages.call(this,le,"AzureMapsSetCameraTitle","AzureMapsSetCameraTitle","AzureMapsSetCameraDetail")},pe}(k),X=function(){function de(pe,le,me){this.titleKey=le,this.detailKey=me,this._code=pe}return Object.defineProperty(de.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}},de}(),oe=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},de}(),Ve=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AINarrativesConsumerDataReductionWarning"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AINarrativesVisual_ConsumerDataReductionWarning"),title:"",detail:""}},de}(),Te=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AINarrativesAuthorDataReductionWarning"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AINarrativesVisual_AuthorDataReductionWarning"),title:"",detail:""}},de}(),Qe=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AINarrativesConsumerLLMLimitWarning"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AINarrativesVisual_ConsumerLLMLimitWarning"),title:"",detail:""}},de}(),He=function(){function de(){}return Object.defineProperty(de.prototype,"code",{get:function(){return"AINarrativesAuthorLLMLimitWarning"},enumerable:!1,configurable:!0}),de.prototype.getMessages=function(pe){return{message:pe.get("AINarrativesVisual_AuthorLLMLimitWarning"),title:"",detail:""}},de}(),Ce=function(){function de(){}return de.prototype.add=function(){for(var pe,le=[],me=0;me<arguments.length;me++)le[me]=arguments[me];return c.fF.assertValue(le,"warnings"),this.warnings||(this.warnings=[]),(pe=this.warnings).push.apply(pe,le||[]),this},de.prototype.addForVisualObject=function(pe){for(var le=[],me=1;me<arguments.length;me++)le[me-1]=arguments[me];c.fF.assertValue(pe,"objectName"),c.fF.assertValue(le,"objectWarning"),this.visualObjectWarnings||(this.visualObjectWarnings={});var be=this.visualObjectWarnings[pe]=this.visualObjectWarnings[pe]||[];return be.push.apply(be,le||[]),this},de.prototype.removeForVisualObject=function(pe){return this.visualObjectWarnings&&(this.visualObjectWarnings[pe]=void 0),this},de.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},de}()},20806:function(Je,H,t){t.d(H,{Aa4:function(){return Da},BQZ:function(){return fa},BzC:function(){return Gi},Dyo:function(){return J},FPM:function(){return ia},Fjb:function(){return le},GHz:function(){return ui},Go5:function(){return Ji},Grw:function(){return T},HnK:function(){return Ki},Iqw:function(){return ea},LtN:function(){return Li},M4y:function(){return de},MSF:function(){return _a},NKh:function(){return Hi},NSv:function(){return qi},O_c:function(){return o},P32:function(){return Qi},Rm8:function(){return be},Trq:function(){return ba},WDM:function(){return ga},_gT:function(){return me},aqt:function(){return D},dzr:function(){return Ni},eqJ:function(){return Ci},ey2:function(){return y},flv:function(){return R},fm1:function(){return m},gv0:function(){return X},gvl:function(){return Sa},j$j:function(){return aa},jbo:function(){return $i},k4V:function(){return Zi},oiJ:function(){return hi},pMZ:function(){return e},pn4:function(){return ya},rbA:function(){return ma},rte:function(){return Vi},tyL:function(){return Ce},ueG:function(){return Xi},vXN:function(){return Ri},voY:function(){return pa},xMU:function(){return pe},xaj:function(){return pi},yGN:function(){return Aa},ySc:function(){return Ii}});var e="actualOpenTile",o="dashboardContainerLoaded",m="me",y="openTile",T="updateTileHref",R="removeDashboardTileError",D="rowLevelSecurityAccessDenied",J="refreshTileData",X="populateDashboardWithReportTiles",Ce="contentPackDirty",de="loadDashboardFailed",pe="Report",le="Dashboard",me="NavModel",be="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",Ki="; ",ui="browserLanguage",Hi="PowerBIUserQuotaExceeded",Gi="PowerBIGroupQuotaExceeded",Ni=5,Zi=260,Qi="OverwriteNonLocalPackageWithLocalFileError",qi="InformationProtectionInsufficientUsageRights",Ri="ReportWithDisplayNameForTheModelExists",ea="MoreThanOneDuplicateReportFoundError",Ii="ReplaceOriginalReportForPowerBICompanionNotSupported",ma="PowerBIModelNotFoundException",ya="MipClientUnauthorizedUser",ga="MissingMandatorySensitivityLabelException",Xi="ModelDiagramLayoutSizeTooBig",Sa={type:4,name:"updateUrlAndAcquireApp"},Ji="dismissed",ba="clicked",ia=9e6,_a=216e5,Ci="https://go.microsoft.com/fwlink/?linkid=844603",fa="pbi-glyph-my-apps",Da="pbi-glyph-gauge",Aa="pbi-glyph-barchart",Li="pbi-glyph-rdl-report",pa="pbi-glyph-database",aa="pbi-glyph-collections",Vi="pbi-glyph-rocket",$i="pbi-glyph-trophy2",pi=200,hi={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},59038:function(Je,H,t){function e(s,f,v){f.emailValidationError=f.emailValidationWarning="",f.showSecurityGroupUpgradeAccount=!1;var b=s.promiseFactory.defer();return s.domainHelperService.getVerifiedDomains().then(function(h){var p={},n={},l=null,r="",o=0,a=0,i=s.licenseEnforcementService.supportsGroups();if(f&&f.emailsList){var m=f.emailsList.inputUserList,u=v.maxNumberOfEmailsAllowedAtATime;u>0&&m.length>u&&(f.emailValidationError=s.localizationService.format("MaxOneTimeEmailCountReached",[u]),l=2,r="User entered ".concat(m.length," email addresses"));for(var V=!1,d=0,S=m;d<S.length;d++){var g=S[d];if(g.userPrincipalName){var C=g.userPrincipalName.split("@")[1].toLowerCase();h.verifiedDomains[C.toUpperCase()]||(p[C]=C,o++),h.blockedDomains[C.toUpperCase()]&&(n[C]=C,a++)}g.isSecurityGroup&&!i&&(V=!0)}var E="",M=0;for(var P in p)M++,E+=P+", ";var T="",x=0;for(var R in n)x++,T+=R+", ";V&&(f.showSecurityGroupUpgradeAccount=!0),_.endsWith(E,", ")&&(E=E.substring(0,E.length-2)),_.endsWith(T,", ")&&(T=T.substring(0,T.length-2)),!v.disableExternalSharingValidationForEmailSubscriptions&&!s.featureSwitchService.featureSwitches.externalSharingEnabled&&M>0?(f.emailValidationError=s.localizationService.format("Sharing_ExternalSharingDisabled"),l=0,r=E):!v.disableExternalSharingValidationForEmailSubscriptions&&v.shouldBlockExternalDomains&&M>0?(f.emailValidationError=s.localizationService.format("Sharing_EmailDomainNotInTenant"),l=0,r=E):v.shouldBlockConsumerDomains&&x>0?(f.emailValidationError=s.localizationService.format("Sharing_BlockedDomains",[T]),l=1,r=T):M>0&&(f.emailValidationWarning=s.localizationService.format("Sharing_ExternalOrganization",[E]))}_.isEmpty(f.emailValidationError)?b.resolve({externalEmailCount:o,consumerEmailCount:a}):b.reject({errorReason:r,errorType:l})},function(h){b.reject(null)}),b.promise}function c(s){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(s)}t.d(H,{X:function(){return c},r:function(){return e}})},842263:function(Je,H,t){t.d(H,{Y:function(){return c},n:function(){return s}});var e=t(787941);function c(){return[{id:0,iconClass:"pbi-glyph-barchart",labelResource:"Role_DisplayName_Fields"},{id:1,iconClass:"pbi-glyph-paintbrush",labelResource:"Format"}]}function s(f,v){e.fF.assertValue(f,"createOptions");var b=f.localizationService;return[{iconClass:"pbi-glyph-securityalert",show:f.showWebContent,itemClass:"webContentIcon",tooltip:function(){return b.get("WebContentWarning_Widget")},action:2,hasBadge:!1},{iconClass:"pbi-glyph-warning",show:f.showWarning,itemClass:v?"showWarningIcon":"warningIcon",tooltip:f.warningToolTipSetter,action:1,hasBadge:!1},{iconClass:"pbi-glyph-bell",show:f.showNotifications,itemClass:"notifications",tooltip:function(){return b.get("Alerts_NotificationTooltip")},action:0,badgeValueSetter:f.badgeTextSetter,hasBadge:!0},{iconClass:"pbi-glyph-realtime",show:f.showRealTime,itemClass:"",tooltip:function(){return b.get("Realtime_IconHoverText")},hasBadge:!1}]}},747e3:function(Je,H,t){t.d(H,{P:function(){return e}});var e=function(){return function(s){this.contract=s}}()},635693:function(Je,H,t){t.d(H,{Q:function(){return S}});var e=t(226514),c=t(320569),s=t(847444),f=t(691203),v=t(854479),b=t(318220),h=t(787941),p=t(299747),n=t(587318),l=t(731479),r=t(123694),o=t(780760),a=t(926201);function S(E,M,P,T,x,R){return new g(E,M,P,T,x,R)}var g=function(){function E(M,P,T,x,R,D){var L=this;this.asyncFeatureSwitchService=M,this.promiseFactory=P,this.resourceLoader=T,this.telemetryService=x,this.options=R,this.publicCustomVisualService=D,this.storage=new r.ZM;var F=y(!0,2,!1),A=y(!0,4,!0),O=y(!1,3,!0);this.properties={cardSmallViewportProperties:{cardSmallViewportWidth:F},textboxSmallViewportProperties:{minWidthToScaleFontSize:A,minHeightToScaleFontSize:O}},this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(N){for(var w in b.L)L.storage.loadPlugin(w,C(w,L.options,L.properties,N))})}return E.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},E.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},E.prototype.ensureTrustedVisualPlugins=function(M){(0,r.Os)(this.storage,M)},E.prototype.ensurePlugins=function(M,P){h.fF.assertValue(this.promiseFactory,"promiseFactory");var T=[];if(M&&M.length)for(var x=0,R=M;x<R.length;x++){var D=R[x];(0,a.JZ)(D)&&T.push(this.ensurePlugin(D,!1))}return this.promiseFactory.allSettled(T)},E.prototype.ensurePlugin=function(M,P){var T=this;return this.asyncFeatureSwitchService.getFeatureSwitches().then(function(x){return x.consumePublicCvsWithoutRps?T.publicCustomVisualService.getPublicVisualTypes([M.name]).then(function(R){return M.name!==R[0]||M.isPublic?(0,r.wl)(T.storage,T.promiseFactory,T.resourceLoader,M,!1,T.telemetryService):T.promiseFactory.resolve()}):(0,r.wl)(T.storage,T.promiseFactory,T.resourceLoader,M,!1,T.telemetryService)})},E.prototype.getPlugin=function(M){var P=this.storage.getLoadedPlugin(M);return!P&&b.L[M]&&(this.storage.loadPlugin(M,C(M,this.options,this.properties,this.asyncFeatureSwitchService.featureSwitches)),P=this.storage.getLoadedPlugin(M)),P},E.prototype.capabilities=function(M){var P=this.getPlugin(M);return P?P.capabilities:void 0},E.prototype.isCustomVisual=function(M){return(0,l.vh)(this.getPlugin(M),M)},E.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!1}},E.prototype.getTelemetryHostInformation=function(){return{name:"Dashboard"}},E.prototype.isScriptVisual=function(M){return(0,l.ww)(this.getPlugin(M))},E.prototype.isScriptVisualQueryable=function(M){return(0,l.Se)(M,this.asyncFeatureSwitchService.featureSwitches)},E.prototype.isLightWeightRenderingVisual=function(M){return(0,l.vt)(this.getPlugin(M))},E.prototype.getStorage=function(){return this.storage},E}();function y(E,M,P){var x=0;return P&&(x=E?20:8),(E?c.I:c.Zg)*M+2*c.lV*(M-1)-x-(E?0:42)}function C(E,M,P,T){var x=this,R=M.tooltipsEnabled;T=T?_.clone(T):{};var D=b.L,L=function(){throw new Error("dashboardVisualPluginService: 'Create' function is deprecated")};switch(E){case b.L.barChart.name:return(0,o.i8)(b.L.barChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return A=O.sent().ColumnChartAnimator,[2,new F({chartType:6,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.clusteredBarChart.name:return(0,o.i8)(b.L.clusteredBarChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return A=O.sent().ColumnChartAnimator,[2,new F({chartType:5,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.clusteredColumnChart.name:return(0,o.i8)(b.L.clusteredColumnChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return A=O.sent().ColumnChartAnimator,[2,new F({chartType:3,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.columnChart.name:return(0,o.i8)(b.L.columnChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return A=O.sent().ColumnChartAnimator,[2,new F({chartType:4,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.donutChart.name:return(0,o.i8)(b.L.donutChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return[2,new(0,A.sent().DonutChart)({tooltipsEnabled:R})]}})})});case b.L.funnel.name:return(0,o.i8)(b.L.funnel,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,819239))];case 1:return[2,new(0,A.sent().FunnelChart)({tooltipsEnabled:R})]}})})});case b.L.gauge.name:return(0,o.i8)(b.L.gauge,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("gauge").then(t.bind(t,80168))];case 1:return[2,new(0,A.sent().Gauge)({animator:new s.r5,tooltipsEnabled:R},T)]}})})});case b.L.hundredPercentStackedBarChart.name:return(0,o.i8)(b.L.hundredPercentStackedBarChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:7,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.hundredPercentStackedColumnChart.name:return(0,o.i8)(b.L.hundredPercentStackedColumnChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:8,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.lineChart.name:return(0,o.i8)(b.L.lineChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:0,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.areaChart.name:return(0,o.i8)(b.L.areaChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:1,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.stackedAreaChart.name:return(0,o.i8)(b.L.stackedAreaChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:2,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.lineClusteredColumnComboChart.name:return(0,o.i8)(b.L.lineClusteredColumnComboChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:12,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.lineStackedColumnComboChart.name:return(0,o.i8)(b.L.lineStackedColumnComboChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:13,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.pieChart.name:return(0,o.i8)(b.L.pieChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("donutChart").then(t.bind(t,900172))];case 1:return[2,new(0,A.sent().DonutChart)({sliceWidthRatio:0,tooltipsEnabled:R})]}})})});case b.L.ribbonChart.name:return(0,o.i8)(b.L.ribbonChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,385137))];case 2:return A=O.sent().ColumnChartAnimator,[2,new F({chartType:9,tooltipsEnabled:R,animator:new A({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.scatterChart.name:return(0,o.i8)(b.L.scatterChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:10,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.treemap.name:return(0,o.i8)(b.L.treemap,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("treemap").then(t.bind(t,80062))];case 1:return[2,new(0,A.sent().Treemap)({isScrollable:!1,tooltipsEnabled:R})]}})})});case b.L.waterfallChart.name:return(0,o.i8)(b.L.waterfallChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return[2,new(0,A.sent().CartesianChart)({chartType:11,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.map.name:return(0,o.i8)(b.L.map,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return[2,new(0,A.sent().Map)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case b.L.filledMap.name:return(0,o.i8)(b.L.filledMap,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("map").then(t.bind(t,982174))];case 1:return[2,new(0,A.sent().Map)({filledMap:!0,tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case b.L.azureMap.name:return(0,o.i8)(b.L.azureMap,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("azureMap").then(t.bind(t,720748))];case 1:return[2,new(0,A.sent().AzureMap)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case b.L.actionButton.name:return(0,o.i8)(b.L.actionButton,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("actionButton").then(t.bind(t,555972))];case 1:return[2,new(0,A.sent().ActionButton)]}})})});case b.L.shapeMap.name:return(0,o.i8)(b.L.shapeMap,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,693363))];case 1:return[2,new(0,A.sent().ShapeMap)({tooltipsEnabled:R})]}})})});case b.L.matrix.name:return(0,o.i8)(b.L.matrix,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("matrix").then(t.bind(t,50039))];case 1:return[2,new(0,A.sent().Matrix)]}})})});case b.L.tableEx.name:return(0,o.i8)(b.L.tableEx,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("tableEx").then(t.bind(t,453890))];case 1:return[2,new(0,A.sent().TableEx)((0,v.ss)(),T)]}})})});case b.L.pivotTable.name:return(0,o.i8)(b.L.pivotTable,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,911025))];case 1:return[2,new(0,A.sent().PivotTable)((0,f.ss)(),T)]}})})});case b.L.realTimeLineChart.name:return(0,o.i8)(b.L.realTimeLineChart,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,85993))];case 1:return F=O.sent().CartesianChart,[4,t.e("realTimeLineChartAnimator").then(t.bind(t,382631))];case 2:return A=O.sent().RealTimeLineChartAnimator,[2,new F({chartType:14,animator:new A,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:T})]}})})});case b.L.table.name:return(0,o.i8)(b.L.table,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("table").then(t.bind(t,180939))];case 1:return[2,new(0,A.sent().Table)]}})})});case b.L.card.name:return(0,o.i8)(b.L.card,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cardModule").then(t.bind(t,870930))];case 1:return[2,(0,A.sent().createCard)({cardSmallViewportProperties:P.cardSmallViewportProperties,tooltipsEnabled:R,featureSwitches:T})]}})})});case b.L.cardVisual.name:return(0,o.i8)(b.L.cardVisual,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,97040))];case 1:return[2,new(0,A.sent().CardVisual)({isScrollable:!1,animator:new s.r5,tooltipsEnabled:R,featureSwitches:T})]}})})});case b.L.textbox.name:return(0,o.i8)(b.L.textbox,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var F,A;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("textbox").then(t.bind(t,772849))];case 1:return F=O.sent().Textbox,[4,t.e("textboxModule").then(t.bind(t,803377))];case 2:return A=O.sent().createTextboxViewModelAdapter,[2,new F({viewModelAdapter:A(P.textboxSmallViewportProperties),disableScrollingInViewMode:!0,supportsNarrativeExpressions:T.daxTransformEnabled})]}})})});case n.Jo:return D[n.Jo]?(0,o.i8)(D[n.Jo],L,T,D[n.Jo].createES6):null;case b.L.keyDriversVisual.name:return(0,o.i8)(b.L.keyDriversVisual,function(F){return F.module.createAnalysisVisual()},T,void 0);case b.L.qnaVisual.name:return(0,o.i8)(b.L.qnaVisual,function(F){return F.module.createQnaVisual()},T,void 0);case b.L.decompositionTreeVisual.name:return(0,o.i8)(b.L.decompositionTreeVisual,L,T,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(A){switch(A.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,231966))];case 1:return[2,new(0,A.sent().DecompositionTree)]}})})});default:return(0,p.ED)(D[E])}}},921374:function(Je,H,t){t.d(H,{$Z:function(){return e},AH:function(){return c},DD:function(){return o},P:function(){return r},RM:function(){return b},W3:function(){return s},fs:function(){return n},nQ:function(){return l},oS:function(){return p},wt:function(){return f}});var e={name:"resetPersistentUserStateDone",type:3},c={name:"activeBookmarkChanged",type:4},s={name:"onReportSaved",type:3},f={name:"personalizeArtifact",type:4},b={name:"invitationClaimed",type:4},p={type:4,name:"dashboardTileErrorEventName"},n={type:4,name:"actualOpenTile"},l={type:4,name:"tileNotOpenable"},r={type:4,name:"needStrategySwap"},o={type:4,name:"dashboardTileRepeatFinished"}},916789:function(Je,H,t){t.d(H,{$3:function(){return de},$5:function(){return Cr},$9:function(){return d},$h:function(){return Tt},AB:function(){return i},B2:function(){return I},B6:function(){return g},BY:function(){return ne},Bo:function(){return o},C1:function(){return Mt},CZ:function(){return vr},D2:function(){return Gt},Db:function(){return j},Ex:function(){return l},HA:function(){return qe},Hg:function(){return U},I0:function(){return L},KE:function(){return rt},Lt:function(){return ot},Mn:function(){return Ht},N3:function(){return Qr},SB:function(){return Ze},Tu:function(){return Te},Tv:function(){return et},UT:function(){return Fr},Ul:function(){return T},WJ:function(){return er},WS:function(){return Se},Wv:function(){return ke},XB:function(){return Ue},XJ:function(){return re},Y6:function(){return Vr},YR:function(){return xe},Yc:function(){return C},Ys:function(){return ee},ZP:function(){return c},ZX:function(){return N},Zu:function(){return ie},_S:function(){return Mr},_r:function(){return ze},aH:function(){return Ft},ag:function(){return A},bL:function(){return fe},bk:function(){return Zr},bm:function(){return Nt},cx:function(){return Le},e3:function(){return mr},eP:function(){return Xr},eZ:function(){return ue},e_:function(){return Ye},eo:function(){return be},er:function(){return Or},fW:function(){return He},gs:function(){return We},hk:function(){return p},ho:function(){return R},i6:function(){return yr},lT:function(){return sr},lY:function(){return Kt},mM:function(){return fr},mZ:function(){return At},mw:function(){return u},nd:function(){return le},o9:function(){return Ee},ou:function(){return lr},pV:function(){return se},qx:function(){return M},uT:function(){return Y},vi:function(){return je},wy:function(){return Fe},x5:function(){return Yr},yE:function(){return mt},yP:function(){return ht},yb:function(){return ce},yw:function(){return Ge},zl:function(){return lt}});var e=t(853811),c=function(jt){return jt.Normal="Normal",jt.EmailSubscription="EmailSubscription",jt.SubscribeOthers="SubscribeOthers",jt.Commenting="Commenting",jt.DDAlert="DDAlert",jt.SmartAlerts="SmartAlerts",jt.CopyVisualImage="CopyVisualImage",jt.Invalid="Invalid",jt}({}),s="PBI.Navigation.Toggle",v=(e.cx[s]=(0,e.b1)(s),"DashboardTileMenuAction"),h=(e.cx[v]=(0,e.b1)(v),"PBI.Dashboard.ClaimInvitation"),p=e.cx[h]=(0,e.b1)(h),n="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",l=e.cx[n]=(0,e.b1)(n),r="PBI.Dashboard.DeleteDashboard",o=e.cx[r]=(0,e.b1)(r),a="PBI.Dashboard.DeleteTile",i=e.cx[a]=(0,e.b1)(a),m="PBI.Dashboard.TileLayoutChanged",u=e.cx[m]=(0,e.b1)(m),V="PBI.Dashboard.InFocusWorkbook",d=e.cx[V]=(0,e.b1)(V),S="PBI.Dashboard.OpenDashboard",g=e.cx[S]=(0,e.b1)(S,{shouldLogStartEnd:!0,logExpAssignment:!0}),y="PBI.Dashboard.LockedTilesDisplayed",C=e.cx[y]=(0,e.b1)(y),E="PBI.Dashboard.LoadDashboardTileVisual",M=e.cx[E]=(0,e.b1)(E),P="PBI.Dashboard.PinTile",T=e.cx[P]=(0,e.b1)(P),x="PBI.Dashboard.InitializeContainer",R=e.cx[x]=(0,e.b1)(x),D="PBI.Dashboard.OpenTile",L=e.cx[D]=(0,e.b1)(D),F="PBI.Dashboard.SettingGroupChanged",A=e.cx[F]=(0,e.b1)(F),O="PBI.Dashboard.RenameDashboard",N=e.cx[O]=(0,e.b1)(O),w="PBI.Dashboard.ViewWorkbook",I=e.cx[w]=(0,e.b1)(w,{logExpAssignment:!0}),B="PBI.Dashboard.EditWorkbook",j=e.cx[B]=(0,e.b1)(B),W="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",U=e.cx[W]=(0,e.b1)(W),k="PBI.Dashboard.UpdateActiveDashboard",te=(e.cx[k]=(0,e.b1)(k),"PBI.Dashboard.RefreshTileData"),ee=e.cx[te]=(0,e.b1)(te),J="PBI.Dashboard.RefreshDashboardTiles",re=e.cx[J]=(0,e.b1)(J),G="PBI.Groups.SwitchGroup",ne=e.cx[G]=(0,e.b1)(G),X="PBI.Folders.GetWorkspaceFolders",Ve=(e.cx[X]=(0,e.b1)(X),"PBI.Dashboard.ShowGettingStartedPopup"),Te=e.cx[Ve]=(0,e.b1)(Ve),Qe="PBI.Dashboard.WorkbookClickScheduleRefresh",He=e.cx[Qe]=(0,e.b1)(Qe),Ce="PBI.Dashboard.WorkbookClickRefreshNow",de=e.cx[Ce]=(0,e.b1)(Ce),pe="PBI.Dashboard.ClickPersonalize",le=e.cx[pe]=(0,e.b1)(pe,{logExpAssignment:!0}),me="PBI.Dashboard.ContentPackDirty",be=e.cx[me]=(0,e.b1)(me),Be="PBI.Dashboard.FirstUse",Se=e.cx[Be]=(0,e.b1)(Be),Pe="PBI.Dashboard.InFocusModeSelected",ue=e.cx[Pe]=(0,e.b1)(Pe),ve="PBI.Dashboard.SaveDashboardSettings",xe=e.cx[ve]=(0,e.b1)(ve),ie="PBI.Dashboard.GetDashboardSettings",Fe=e.cx[ie]=(0,e.b1)(ie),at="PBI.Dashboard.TestDataSourceConnection",We=e.cx[at]=(0,e.b1)(at),Oe="PBI.Dashboard.LoadTileData",Ze=e.cx[Oe]=(0,e.b1)(Oe),Ee="PBI.App.InitialAppLoad",Ne=(e.cx[Ee]=(0,e.b1)(Ee,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),Y=e.cx[Ne]=(0,e.b1)(Ne),ye="PBI.GroupEditor.UserLeaveGroup",rt=e.cx[ye]=(0,e.b1)(ye),it="PBI.Quota.OpenManageStoragePage",Ue=e.cx[it]=(0,e.b1)(it),De="PBI.Quota.StorageUsage",Le=e.cx[De]=(0,e.b1)(De),Xe="PBI.Quota.ManageStorageDelete",et=e.cx[Xe]=(0,e.b1)(Xe),he="PBI.Quota.Exceeded",ce=e.cx[he]=(0,e.b1)(he),Re="PBI.Quota.AccessCustomizedProperties",Ge=e.cx[Re]=(0,e.b1)(Re),ut="PBI.Privacy.InitializeSettingsModel",je=e.cx[ut]=(0,e.b1)(ut),ae="PBI.Privacy.SaveSettingsModel",fe=e.cx[ae]=(0,e.b1)(ae),we="PBI.Settings.TakeoverDatasources",ze=e.cx[we]=(0,e.b1)(we),$e="PBI.Settings.LoadSettingsData",ot=e.cx[$e]=(0,e.b1)($e),_t="PBI.QRCode.QRCodeDialogShown",ke=e.cx[_t]=(0,e.b1)(_t),dt="PBI.QRCode.ShortUrlCreated",Tt=e.cx[dt]=(0,e.b1)(dt),Wt="PBI.QRCode.ShortUrlFailed",Kt=e.cx[Wt]=(0,e.b1)(Wt),Zt="PBI.QRCode.QRCodeReportDialogShown",er=e.cx[Zt]=(0,e.b1)(Zt),ar="PBI.QRCode.ReportShortUrlCreated",sr=e.cx[ar]=(0,e.b1)(ar),gr="PBI.Dashboard.AddWidget",mr=e.cx[gr]=(0,e.b1)(gr),Sr="PBI.DataAlerts.TileBadgeClicked",Mr=e.cx[Sr]=(0,e.b1)(Sr),St="PBI.DataAlerts.NotificationAction",Gt=e.cx[St]=(0,e.b1)(St),rr="PBI.UsageMetrics.Http.GetPackage",Fr=e.cx[rr]=(0,e.b1)(rr),wr="PBI.UsageMetrics.Http.UsageReportUpgrade",Vr=e.cx[wr]=(0,e.b1)(wr),Ar="PBI.UserNotifications.LinkClicked",vr=e.cx[Ar]=(0,e.b1)(Ar,{logExpAssignment:!0}),$r="PBI.Dashboard.RegisterAndLoadResourcePackages",Qr=e.cx[$r]=(0,e.b1)($r),zr="PBI.Dashboard.LoadDashboard",Or=e.cx[zr]=(0,e.b1)(zr),ei="PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles",Xr=e.cx[ei]=(0,e.b1)(ei),Nr="PBI.ArtifactNotFound",Yr=e.cx[Nr]=(0,e.b1)(Nr),Hr="PBI.AppModel.InitializeContentProviders",Zr=e.cx[Hr]=(0,e.b1)(Hr),ft="PBI.NPS.ShowDialog",ht=e.cx[ft]=(0,e.b1)(ft),xt="PBI.Dashboard.LoadTileVisualTimedOut",lt=e.cx[xt]=(0,e.b1)(xt),nt="PBI.Dashboard.AddDashboard",mt=e.cx[nt]=(0,e.b1)(nt,{logExpAssignment:!0}),gt="PBI.UsageMetrics.ViewUsageMetricsReport",At=e.cx[gt]=(0,e.b1)(gt),kt="PBI.PersistentState.Reset",Ht=e.cx[kt]=(0,e.b1)(kt),nr="PBI.Theming.SaveTheme",lr=e.cx[nr]=(0,e.b1)(nr),dr="PBI.Dashboard.GetResourcePackageItem",fr=e.cx[dr]=(0,e.b1)(dr),Pr="PBI.Apps.GuestUserWithNoAccessError",yr=e.cx[Pr]=(0,e.b1)(Pr),Rr="PBI.Tutorial.Close",Mt=e.cx[Rr]=(0,e.b1)(Rr),pt="PBI.Landing.BindToPowerViewReport",se=e.cx[pt]=(0,e.b1)(pt),Z="PBI.UsageMetrics.UpdateNewReportSetting",Ye=e.cx[Z]=(0,e.b1)(Z),vt="PBI.ChangeDetectionMeasure.LongPollError",Ft=e.cx[vt]=(0,e.b1)(vt),ir="PBI.ChangeDetectionMeasure.GetCDMConfigError",Cr=e.cx[ir]=(0,e.b1)(ir),Et="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",qe=e.cx[Et]=(0,e.b1)(Et),Pt="PBI.Dashboard.RealtimeModelLoad",Nt=e.cx[Pt]=(0,e.b1)(Pt)},832089:function(Je,H,t){t.d(H,{F:function(){return v},J:function(){return f}});var e=t(972817),c=t(629925),s=t(565146);function f(b,h){var p,n;if(void 0===h&&(h=!1),b&&b.tiles){if(h)return(p={})[c.CB]=b.tiles.background,p[c.dj]=b.tiles.color,p[c.vp]=b.tiles.opacity,p;var l=(0,e.cD)(b.tiles.background,b.tiles.opacity);return(n={})[c.CB]=l,n[c.dj]=b.tiles.color,n}}function v(b){var h;if(b){var p=b.tiles?b.tiles[c.dj]:c.G7,n=((h={})[c.CB]=b.background,h[c.dj]=p,h);return(0,s.gU)(b.backgroundImage)?(n[c.Xn]="url(".concat(b.backgroundImage,")"),n[c.k2]=c.hy):n[c.Xn]=c.zu,n}}},587318:function(Je,H,t){t.d(H,{$7:function(){return y},AF:function(){return P},AW:function(){return A},BP:function(){return b},C:function(){return v},G1:function(){return f},IQ:function(){return D},Jh:function(){return L},Jo:function(){return e},OS:function(){return E},P_:function(){return h},VT:function(){return x},Z8:function(){return C},al:function(){return o},ay:function(){return d},b0:function(){return p},b7:function(){return s},c2:function(){return M},cV:function(){return n},i9:function(){return V},j:function(){return R},jt:function(){return m},rR:function(){return g},s0:function(){return u},t2:function(){return a},t4:function(){return S},uT:function(){return N},wn:function(){return r},x5:function(){return l},xC:function(){return c},xm:function(){return i},xp:function(){return O},zW:function(){return T}});var e="esriVisual",c="esriVisual_TEST",s="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",f="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",v="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",b="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",h="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",p="MapboxVisual_TEST",n="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",l="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",r="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",o="charticulator58556A88422D44A99D9BF0052B958F87",a="charticulatorTest5CA7DEC756074797A2410E6A64934779",i="vPMenu6454E8C4E1BD492A83084AB46B0C248B",m="DataEntryMatrix1444757060245",u="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD",V="detailReport1E51681FC15F46F9B4275CE593BECB98",d="SmartFilterBySQLBI1458262140626",S="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB181",g="tableeditor_v2",y="PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21E",C="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB182",E="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD_TEST",M="_OrgStore",P="1.2.0",T=[e,c,s,f,v,b,h,n,p,l,r,i,m,u,V,d,S,g,y,C,E,o,a],x="Esri is not supported in Embedded scenario.",R="CV_Warning_Code",D=70,L=2e3,A="SharedResources",O=[];O[1]="RegisteredResources",O[2]=A;var N={1:!0,2:!0}},355607:function(Je,H,t){t.d(H,{W:function(){return e},z:function(){return c}});var e={type:4,name:"reloadEmptyVisuals"},c={type:4,name:"applyPendingChanges"}},138363:function(Je,H,t){t.d(H,{IG:function(){return s},Ut:function(){return f}});var s="ShapeMap",f=function(v){return v[v.CustomVisualJavascript=0]="CustomVisualJavascript",v[v.CustomVisualsCss=1]="CustomVisualsCss",v[v.CustomVisualScreenshot=2]="CustomVisualScreenshot",v[v.CustomVisualIcon=3]="CustomVisualIcon",v[v.CustomVisualWatermark=4]="CustomVisualWatermark",v[v.CustomVisualMetadata=5]="CustomVisualMetadata",v[v.Image=100]="Image",v[v.ShapeMap=200]="ShapeMap",v[v.CustomTheme=201]="CustomTheme",v[v.BaseTheme=202]="BaseTheme",v[v.DashboardTheme=203]="DashboardTheme",v[v.DashboardBaseTheme=204]="DashboardBaseTheme",v[v.HighContrastTheme=205]="HighContrastTheme",v[v.AppNavigation=206]="AppNavigation",v[v.AppTheme=207]="AppTheme",v[v.AppBaseTheme=208]="AppBaseTheme",v}({})},682427:function(Je,H,t){t.d(H,{u:function(){return h}});var e=t(832867),c=t(787941),s=t(319887),f=t(497593),v=t(675905),b=t(266419);function h(n,l,r,o,a){return new p(n,l,r,o,a)}var p=function(){function n(l,r,o,a,i){this.approvedResourceService=r,this.telemetryService=o,this.featureSwitchService=a,this.onlyApprovedForServerRenderResources=i,this.locale=l&&l.locale,this.promiseFactory=l.promiseFactory}return n.prototype.loadTrustedResourcePackages=function(l){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadResourcePackages=function(l){c.fF.assertValue(l,"resourcePackages");for(var r=[],o=0,a=l;o<a.length;o++)r.push(this.loadResourcePackage(a[o]));return this.promiseFactory.all(r)},n.prototype.loadResourcePackage=function(l){var r=this;c.fF.assertValue(l,"resourcePackage");var o=function(i,m,u,V,d){r.telemetryService.logEvent(s.d7,{visualType:l.name,fileName:i,isClientGenerated:!!d,start:u,end:V,parentId:r.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:m})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(a){return r.promiseFactory.reject(a)}).then(function(){var a=[];return r.approvedResourceService.isApprovedResource(l.name)?(a.push(r.loadResourcesWithVisualApi(l,o)),r.promiseFactory.all(a)):r.promiseFactory.reject("Visual is not an approved visual")})},n.prototype.loadResourcePackageItem=function(l,r){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadSharedResource=function(l){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},n.prototype.loadVisualPlugins=function(l){c.fF.assertValue(l,"resourcePackages");var r=[];if(l)for(var o=0,a=l;o<a.length;o++)r.push(this.loadVisualPlugin(a[o]));return this.promiseFactory.all(r)},n.prototype.loadVisualPlugin=function(l){c.fF.assertValue(l,"resourcePackage");var r=this.promiseFactory.defer();return l&&l.items&&l.items.length>0?this.loadResourcePackage(l).then(function(){var o=e.N[l.name];o?(o.iconUrl=(0,v.dA)(l.name),r.resolve(o)):r.reject("Unable to load visual plugin from resource package: "+l.name)}).catch(function(){r.reject("failed to resolve all promises")}):r.resolve(null),r.promise},n.prototype.destroy=function(){},n.prototype.loadResourcesWithVisualApi=function(l,r){var o=this,a=this.promiseFactory.defer(),i=(new Date).toISOString(),m=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(l.name).then(function(u){var V=(new Date).toISOString();o.handleLoadResourceResponse(u.data,l),o.telemetryService.logEvent(s.EB,{visualType:l.name,fileName:o.approvedResourceService.customVisualJsonUrlBuilder(l.name),isClientGenerated:!!l.isPublic,consumePublicCvsWithoutRps:m,start:i,end:V,parentId:o.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),a.resolve(null)},function(u){var V=JSON.stringify(u),d=(new Date).toISOString();r(o.approvedResourceService.customVisualJsonUrlBuilder(l.name),V,i,d,l.isPublic),a.reject(V)}),a.promise},n.prototype.handleLoadResourceResponse=function(l,r){r.items&&r.items[0]&&(r.items[0].content=JSON.stringify(l));var o=(0,b.S)(l,this.locale,2);o&&(o.isDeprecated=this.approvedResourceService.isDeprecated(r.name),o.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(r.name)),(0,f.L)(o);var a=e.N[o.name];a&&(o.favoriteId=a.favoriteId,o.isOutOfBox=a.isOutOfBox),e.N[o.name]=o},n}()},346865:function(Je,H,t){t.d(H,{Z:function(){return n}});var e=t(319887),c=t(587318),s=t(792419),f=t(778186),v=t(693825),b=t(838302),h=t(210107),p=window;function n(r,o,a,i,m){return new l(r,o,a,i,m)}var l=function(){function r(o,a,i,m,u){this.featureSwitchService=o,this.httpService=a,this.options=m,this.telemetryService=u,this.trustedVisuals=c.zW,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=i.getCustomVisualsEndpointAsync()}return r.prototype.getCustomVisualPbivizJson=function(o){var a=this.customVisualJsonUrlBuilder(o);return this.httpService.get(a,{responseType:"json",timeout:h.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})},r.prototype.getCustomVisualVersion=function(o){var a=this.getCompatibleVisualVersion(o);return a?a.version:null},r.prototype.getCustomVisualApiVersion=function(o){var a=this.getCompatibleApiVersion(o);return a&&a!==this.legacy?a:null},r.prototype.customVisualJsonUrlBuilder=function(o){var a=this.getCompatibleVisualVersion(o);if(a)return this.customVisualsEndpoint+"/"+o+"."+a.version+"."+a.hash+".pbiviz.json"},r.prototype.getVisualIdFromAssetId=function(o){for(var a in this.approvedVisuals)if(this.approvedVisuals[a]&&this.approvedVisuals[a].assetId===o)return a;return null},r.prototype.isApprovedVisualsDefined=function(){return!!this.approvedVisuals},r.prototype.isApprovedResource=function(o){return!!this.approvedVisuals&&!!this.approvedVisuals[o]},r.prototype.isApprovedResourceByAssetId=function(o){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[o]},r.prototype.isApprovedResourceServerRender=function(o){var a=this.getCompatibleVisualVersion(o);return this.isApprovedResource(o)&&!!a&&!!a.approvedForServerRender},r.prototype.isApprovedForNoIframe=function(o){if(this.onlyApprovedForServerRenderResources||(0,b.rO)())return!1;var a=this.getCompatibleVisualVersion(o);return!!a&&!!a.approvedForNoIframe},r.prototype.isTrustedResource=function(o){return!!_.find(this.trustedVisuals,function(a){return a===o})},r.prototype.addTrustedVisual=function(o){this.isTrustedResource(o)||this.trustedVisuals.push(o)},r.prototype.isDeprecated=function(o){var a=this.getCompatibleVisualVersion(o);return this.isApprovedResource(o)&&!!a&&(!!a.isDeprecated||a.apiVersion&&(0,v.lt)(a.apiVersion,c.AF))},r.prototype.usesExternalResourcesInAirGappedEnv=function(o){var a=this.getCompatibleVisualVersion(o);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&a&&a.usesExternalResources},r.prototype.canUseLocalStorage=function(o){if(this.onlyApprovedForServerRenderResources)return!1;var a=this.getCompatibleVisualVersion(o);return!(!a||!this.isApprovedResource(o))&&a.canUseLocalStorage},r.prototype.removeApprovedResource=function(o){this.approvedVisuals&&(this.approvedVisuals[o]=void 0)},r.prototype.getCdnEnvEndpointName=function(o){var a=(0,f.tm)()||h.un;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(a=h.cL),o+a},r.prototype.loadApprovedResourcesMetadata=function(o,a){var i=this;return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=o.defer(),this.approvedResourceJsonInProccess=!0,(a?"boolean"==typeof a?o.resolve(a):a:o.resolve(!1)).then(function(u){var V,d;if(u&&(i.onlyApprovedForServerRenderResources=!!u),i.approvedVisuals)return i.setApprovedResources(),i.approvedResourceJsonRequest.resolve(null),i.approvedResourceJsonRequest.promise;var S=null!==(d=null===(V=i.options)||void 0===V?void 0:V.isApprovedLoadingDisabled())&&void 0!==d?d:o.resolve(!1);o.allSettled([i.featureSwitchService.getFeatureSwitches(),S,i.customVisualsEndpointPromise]).then(function(g){i.approvedResourcesDisabled=g[1].value,i.customVisualsEndpoint=g[2].value}).finally(function(){if(i.approvedResourcesDisabled)i.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var g=(new Date).toISOString();i.httpService.get(i.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:h.JZ,retryCount:i.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(function(C){var E=(new Date).toISOString();i.telemetryService&&i.telemetryService.logEvent(e.LU,{endpoint:i.customVisualsEndpoint,allEndpointDown:!1,start:g,end:E,parentId:i.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),i.setApprovedResources(C.data),i.approvedResourceJsonRequest.resolve(null),i.approvedResourceJsonInProccess=!1},function(C){var E=(new Date).toISOString();i.telemetryService&&i.telemetryService.logEvent(e.LU,{endpoint:i.customVisualsEndpoint,allEndpointDown:!0,start:g,end:E,parentId:i.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:JSON.stringify(C)}),i.approvedResourceJsonRequest.reject(JSON.stringify(C)),i.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise},r.prototype.cdnUrlBuilder=function(o,a,i){var m=this.getCompatibleApiVersion(a);return m?this.getCdnEnvEndpointName(o)+"/"+m+"/"+a+i:this.getCdnEnvEndpointName(o)+"/"+a+i},r.prototype.getTrustedResources=function(){return this.trustedVisuals},r.prototype.hasApi=function(o){var a=this.getCompatibleVisualVersion(o);return!!(a&&this.approvedVisuals&&a&&a.apiVersion&&a.apiVersion!==this.legacy)},r.prototype.getTelemetryUsageLimit=function(o){var a=this.getCompatibleVisualVersion(o);return a&&this.isApprovedResource(o)&&a.telemetryUsageLimit||0},r.prototype.canRefreshHostData=function(o){var a=this.getCompatibleVisualVersion(o);return!(!a||!this.isApprovedResource(o))&&a.canRefreshHostData},r.prototype.canGetAADToken=function(o){var a=this.getCompatibleVisualVersion(o);return!(!a||this.blockedAccessToken(o))&&!!this.isApprovedResource(o)&&a.canGetAADToken},r.prototype.blockedAccessToken=function(o){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(e.eb,{visualType:o,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var u=JSON.parse(atob(p.powerBIAccessToken.split(".")[1])).scp;return!(u.indexOf("user_impersonation")>=0||u.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(e.eb,{visualType:o,reason:"Access Token is blocked due to insufficient scope"}),0))}catch(V){return!1}},r.prototype.canGetWACToken=function(o){var a=this.getCompatibleVisualVersion(o);return!(!a||this.blockedAccessToken(o))&&!!this.isApprovedResource(o)&&a.canGetWACToken},r.prototype.getAllApprovedForServerRenderResourcesTypes=function(){var o=this;if(!this.approvedVisuals)return[];var a=Object.keys(this.approvedVisuals);return _.filter(a,function(m){return o.isApprovedResourceServerRender(m)})},r.prototype.getPublicId=function(o){return this.isApprovedResource(o)&&this.approvedVisuals[o].assetId?this.approvedVisuals[o].assetId:null},r.prototype.isMsVisual=function(o){return!(!this.isApprovedResource(o)||!this.approvedVisuals[o].isMsVisual)},r.prototype.canManageAsyncUpdate=function(o){if(this.isApprovedResource(o)){var a=this.getCompatibleVisualVersion(o);if(a&&a.callsRenderingCompleted)return!0}return!1},r.prototype.getCompatibleApiVersion=function(o){if(!this.isApprovedResource(o)||!this.approvedVisuals[o].allVersions)return null;var a=this.approvedVisuals[o].allVersions;a.sort(function(g,y){return!g.apiVersion||y.apiVersion&&!(0,v.gt)(g.apiVersion,y.apiVersion)?1:-1});for(var i=function(y){if((0,s.HB)().some(function(C){return C.version===y.apiVersion})&&!m.shouldSkipVersion(y))return{value:y.apiVersion}},m=this,u=0,V=a;u<V.length;u++){var S=i(V[u]);if("object"==typeof S)return S.value}return this.legacy},r.prototype.shouldSkipVersion=function(o){if(null==o.gradualExposureFSNumber)return!1;var a="".concat(this.gradualExposureFSPrefix).concat(o.gradualExposureFSNumber);return!this.featureSwitchService.featureSwitches[a]},r.prototype.getCompatibleVisualVersion=function(o){var a=this.getCompatibleApiVersion(o);if(a)for(var i=0,m=this.approvedVisuals[o].allVersions;i<m.length;i++){var u=m[i];if(u.apiVersion===a)return u}return null},r.prototype.setApprovedResources=function(o){if(o&&(this.approvedVisuals=o,this.approvedVisualsAssetIds=r.buildApprovedVisualsAssetIds(o)),this.onlyApprovedForServerRenderResources){var a=this.getAllApprovedForServerRenderResourcesTypes(),i=_.pick(this.approvedVisuals,a);this.approvedVisuals=i}},r.buildApprovedVisualsAssetIds=function(o){return _.reduce(o,function(i,m){return m.assetId&&(i[m.assetId]=!0),i},{})},r}()},119745:function(Je,H,t){t.d(H,{d:function(){return b}});var e=t(832867),c=t(787941),s=t(778186),f=t(477898),v=t(210107);function b(p,n,l,r,o){return new h(p,n,l,r,o)}var h=function(){function p(n,l,r,o,a){this.promiseFactory=n,this.resourceLoaderInitOptions=l,this.resourceLoaderFactories=r,this.approvedResourceService=o,this.managedCustomVisualsService=a,this.resourceLoaderCollection={}}return p.prototype.resourceLoaderSelector=function(n){switch(n.type){case 0:case 3:return this.getCustomVisualResourceLoader(n);case 1:case 2:return this.getStaticResourceResourceLoader();default:c.fF.assertValue(n.type,"ResourcePackageType is unsupported: "+n.type)}},p.prototype.getStaticResourceResourceLoader=function(){return this.getLocalResourceLoader()},p.prototype.getCustomVisualResourceLoader=function(n){if(3===n.type)return this.getOrganizationalStoreResourceLoader();if(n.developerModeVisual)return this.getSandboxResourceLoader();if(this.approvedResourceService.isTrustedResource(n.name)){if(this.getApprovedResourcesForTrustedVisualsEnabled())return this.getTrustedResourceLoader()}else{if(this.resourceLoaderInitOptions.getApprovedResourcesEnabled())return this.getApprovedResourceLoader();if(this.resourceLoaderInitOptions.getSandboxVisualsEnabled())return this.getSandboxResourceLoader()}return this.getLocalResourceLoader()},p.prototype.getApprovedResourcesForTrustedVisualsEnabled=function(){return this.resourceLoaderInitOptions.getApprovedResourcesEnabled()||(0,s.tm)()!==v.io},p.prototype.getLocalResourceLoader=function(){return void 0===this.resourceLoaderCollection.localResourceLoader&&(this.resourceLoaderCollection.localResourceLoader=this.resourceLoaderFactories.localResourceLoaderFactory()),this.resourceLoaderCollection.localResourceLoader},p.prototype.getSandboxResourceLoader=function(){return void 0===this.resourceLoaderCollection.sandboxResourceLoader&&(this.resourceLoaderCollection.sandboxResourceLoader=this.resourceLoaderFactories.sandboxResourceLoaderFactory()),this.resourceLoaderCollection.sandboxResourceLoader},p.prototype.getApprovedResourceLoader=function(){return void 0===this.resourceLoaderCollection.approvedResourceLoader&&(this.resourceLoaderCollection.approvedResourceLoader=this.resourceLoaderFactories.approvedResourceLoaderFactory()),this.resourceLoaderCollection.approvedResourceLoader},p.prototype.getTrustedResourceLoader=function(){return void 0===this.resourceLoaderCollection.trustedResourceLoader&&(this.resourceLoaderCollection.trustedResourceLoader=this.resourceLoaderFactories.trustedResourceLoaderFactory()),this.resourceLoaderCollection.trustedResourceLoader},p.prototype.getOrganizationalStoreResourceLoader=function(){return void 0===this.resourceLoaderCollection.organizationalStoreResourceLoader&&(this.resourceLoaderCollection.organizationalStoreResourceLoader=this.resourceLoaderFactories.organizationalStoreResourceLoaderFactory()),this.resourceLoaderCollection.organizationalStoreResourceLoader},p.prototype.loadTrustedResourcePackages=function(n){var l=[];return l.push(this.getTrustedResourceLoader().loadTrustedResourcePackages(n)),this.promiseFactory.all(l)},p.prototype.updateResourcePackageId=function(n){if(e.N){var l=e.N[n.name];l&&(l.resourcePackageId=n.id)}return null},p.prototype.isValid=function(n){if(null==e.N||null==n||null==n.name||(0,f.qe)(n.name)&&3!==n.type)return!1;var l=e.N[n.name];return!(null!=l&&!0!==l.custom&&!this.approvedResourceService.isTrustedResource(n.name))},p.prototype.loadResourcePackages=function(n){var l=this;c.fF.assertValue(n,"resourcePackages");for(var r=[],o=function(d){r.push(a.resourceLoaderSelector(d).loadResourcePackage(d).then(function(){return l.updateResourcePackageId(d)}))},a=this,i=0,m=n;i<m.length;i++)o(m[i]);return this.promiseFactory.all(r)},p.prototype.isPublicManagedVisual=function(n){var l=this.promiseFactory.defer();return this.managedCustomVisualsService?this.managedCustomVisualsService.isPublicManagedVisualByVisualType(n).then(function(r){l.resolve(r)}).catch(function(){l.reject()}):l.resolve(!1),l.promise},p.prototype.loadResourcePackage=function(n){var l=this;if((0,s.tm)()!==v.io&&!1===this.isValid(n))return this.promiseFactory.reject("Attempting to load an invalid custom visual");var o,r=this.resourceLoaderSelector(n);if(r===this.resourceLoaderCollection.approvedResourceLoader)o=r.loadResourcePackage(n).catch(function(a){return l.isPublicManagedVisual(n.name).then(function(i){return i||l.resourceLoaderInitOptions.getSandboxVisualsEnabled?l.approvedResourceService.isApprovedResource(n.name)?l.promiseFactory.reject("Fallback is blocked for public custom visuals"):(l.approvedResourceService.removeApprovedResource(n.name),i?l.promiseFactory.reject("Fallback is blocked for public managed visuals"):l.getSandboxResourceLoader().loadResourcePackage(n)):l.getLocalResourceLoader().loadResourcePackage(n)})});else{if(r===this.resourceLoaderCollection.trustedResourceLoader)return r.loadResourcePackage(n);o=this.isPublicManagedVisual(n.name).then(function(a){return a&&!n.developerModeVisual?l.promiseFactory.reject("Fallback is blocked for public managed visuals"):l.approvedResourceService.isApprovedResource(n.name)&&!n.developerModeVisual?l.promiseFactory.reject("Fallback is blocked for public custom visuals"):r.loadResourcePackage(n)})}return o.then(function(){return l.updateResourcePackageId(n)})},p.prototype.loadVisualPlugin=function(n){return this.resourceLoaderSelector(n).loadVisualPlugin(n)},p.prototype.loadVisualPlugins=function(n){c.fF.assertValue(n,"resourcePackages");for(var l=[],r=0,o=n;r<o.length;r++){var a=o[r];l.push(this.resourceLoaderSelector(a).loadVisualPlugin(a))}return this.promiseFactory.all(l)},p.prototype.loadResourcePackageItem=function(n,l){return this.resourceLoaderSelector(n).loadResourcePackageItem(n,l)},p.prototype.loadSharedResource=function(n,l){return this.getLocalResourceLoader().loadSharedResource(n,l)},p.prototype.destroy=function(){var n=this.resourceLoaderCollection;for(var l in n)n.hasOwnProperty(l)&&n[l].destroy()},p}()},138368:function(Je,H,t){t.d(H,{N5:function(){return i},fQ:function(){return o}});var e=t(226514),c=t(795120),s=t(832867),f=t(787941),v=t(826691),b=t(138363),h=t(319887),p=t(926201),n=t(497593),l=t(675905),r=t(266419);function o(m,u,V){return new i(m,u,V||new a(m.promiseFactory))}var a=function(){function m(u){this.promiseFactory=u}return m.prototype.get=function(u,V,d){return f.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},m.prototype.getBlob=function(u,V,d){return f.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},m}(),i=function(){function m(u,V,d){this.provider=V,this.sharedResourceItemProxy=d,this.promiseFactory=u&&u.promiseFactory,this.locale=u&&u.locale,this.telemetryV2Enabled=u&&u.telemetryV2Enabled}return m.prototype.loadTrustedResourcePackages=function(u){return f.fF.assertFail("Not supported"),this.promiseFactory.reject()},m.prototype.loadResourcePackages=function(u){f.fF.assertValue(u,"resourcePackages");for(var V=[],d=0,S=u;d<S.length;d++)V.push(this.loadResourcePackage(S[d]));return this.promiseFactory.all(V)},m.prototype.loadResourcePackage=function(u){f.fF.assertValue(u,"resourcePackage");var V=[];if(u&&u.items)for(var d=0,S=u.items;d<S.length;d++)V.push(this.loadCustomVisualResourcePackageItem(S[d],u));return this.promiseFactory.all(V)},m.prototype.loadResourcePackageItem=function(u,V){var d=(0,p.NW)(u,V);return d?d.content?this.promiseFactory.resolve(d.content):this.loadBlob(u.id,u.name,d):(v.f.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))},m.prototype.loadSharedResource=function(u,V){return V===b.Ut.Image?this.sharedResourceItemProxy.getBlob(null,(0,p.RJ)(2),u,{retries:1}):this.sharedResourceItemProxy.get(null,(0,p.RJ)(2),u,{retries:1})},m.prototype.loadVisualPlugin=function(u){var V=this;f.fF.assertValue(u,"resourcePackage");var d=this.promiseFactory.defer();return u&&u.items&&u.items.length>0?this.loadResourcePackage(u).then(function(){var S=s.N[u.name];S?(S.iconUrl=V.getIconUrl(u),d.resolve(S)):d.reject("Unable to load visual plugin from resource package")}).catch(function(){d.reject("failed to resolve all promises")}):d.resolve(null),d.promise},m.prototype.destroy=function(){},m.prototype.loadVisualPlugins=function(u){f.fF.assertValue(u,"resourcePackages");var V=[];if(u)for(var d=0,S=u;d<S.length;d++)V.push(this.loadVisualPlugin(S[d]));return this.promiseFactory.all(V)},m.prototype.getIconUrl=function(u){var d=$("#css-"+u.name)[0],S=_.find(document.styleSheets,function(C){return C.ownerNode===d});if(!S)return"";for(var g=0;g<S.cssRules.length;g++){var y=S.cssRules[g];if(y.selectorText&&y.selectorText===".visual-icon."+u.name)return y.style.backgroundImage}return""},m.prototype.loadCustomVisualResourcePackageItem=function(u,V){switch(u.type){case b.Ut.CustomVisualJavascript:return this.loadCustomVisualJS(V.id,V.name,u);case b.Ut.CustomVisualsCss:return this.loadCustomVisualCss(V.id,V.name,u);case b.Ut.CustomVisualMetadata:return this.loadCustomVisualMetadata(V.id,V.name,u)}},m.prototype.loadCustomVisualJS=function(u,V,d){var S=this,g=this.promiseFactory.defer();return d.content?((0,l.yO)(V,d.content),g.resolve(d.content)):(f.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(u,V,d.path,{retries:1}).then(function(y){(0,l.yO)(V,y),d.content=y,S.transformPlugin(V).then(function(){return g.resolve(y)},function(C){return g.reject(C)})}).catch(function(y){g.reject(y)})),g.promise},m.prototype.transformPlugin=function(u){var V=s.N[u];return V?((0,n.L)(V),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+u)},m.prototype.loadCustomVisualCss=function(u,V,d){var S=this.promiseFactory.defer();return d.content?((0,l.QO)(V,d.content),S.resolve(d.content)):(f.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(u,V,d.path,{retries:1}).then(function(g){(0,l.QO)(V,g),d.content=g,S.resolve(g)}).catch(function(g){S.reject(g)})),S.promise},m.prototype.loadCustomVisualMetadata=function(u,V,d){var S=this,g=this.promiseFactory.defer();try{d.content?g.resolve(this.createPlugin(V,d.content)):this.provider.get(u,V,d.path,{retries:1}).then(function(y){d.content=y,g.resolve(S.createPlugin(V,y))}).catch(function(y){g.reject(y)})}catch(y){g.reject(y)}return g.promise},m.prototype.createPlugin=function(u,V){f.fF.assertAnyValue(V,"pbivizJsonString");var d=V;"object"!=typeof V&&(d=JSON.parse(V));var S=(0,r.S)(d,this.locale,0);(0,n.L)(S);var g=s.N[S.name];return g&&!g.custom&&(S.custom=!1),g&&(S.favoriteId=g.favoriteId,S.isOutOfBox=g.isOutOfBox),s.N[S.name]=S,S},m.prototype.loadBlob=function(u,V,d){var S=this.promiseFactory.defer(this.telemetryV2Enabled);return d.contentBlob?S.resolve(d.contentBlob):d.promise?d.promise.then(function(g){return S.resolve(g)}):(d.promise=this.provider.getBlob(u,V,d.path,{retries:1}),d.promise.then(function(g){d.contentBlob=g,S.resolve(g)}).catch(function(g){S.reject(g)}).finally(function(){delete d.promise})),S.promise},(0,e.__decorate)([(0,c.U)(h.XH),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,String]),(0,e.__metadata)("design:returntype",Object)],m.prototype,"loadResourcePackageItem",null),m}()},823344:function(Je,H,t){function e(b,h){var p=b.capabilities,n=c(b,h)||c(b,"en-US");return p&&n&&s(p,n),b}function c(b,h){var p=v(h);return b&&b.stringResources?b.stringResources[p]:null}function s(b,h){for(var p in b)b.hasOwnProperty(p)&&("object"==typeof b[p]?s(b[p],h):"displayNameKey"===p&&b.displayName?b.displayName=f(h,b.displayNameKey)||b.displayName:"descriptionKey"===p&&b.description?b.description=f(h,b.descriptionKey)||b.description:"placeHolderTextKey"===p&&b.placeHolderText&&(b.placeHolderText=f(h,b.placeHolderTextKey)||b.placeHolderText))}function f(b,h){return b[h]}function v(b){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[b]||b||navigator.language}t.d(H,{Kd:function(){return v},qL:function(){return c},zQ:function(){return e}})},625442:function(Je,H,t){t.d(H,{A:function(){return v}});var e=t(226514),c=t(787941),s=t(431325);function v(h,p,n,l,r,o,a,i){return new b(h,p,l,r,o,a,n,i)}var b=function(h){function p(n,l,r,o,a,i,m,u){var V=h.call(this,n,l,r,o,a,i)||this;return V.resourcePackagesService=m,V.resourcePackageResolver=u,V.resourcePackagesService.getAllPackages(),V}return(0,e.__extends)(p,h),p.prototype.loadResourcePackage=function(n){var l=this;if(c.fF.assertValue(n,"resourcePackage"),n)return this.resourcePackageResolver(n).then(function(r){var o=[];if(r&&r.items&&!r.disabled)for(var i,a=function(S){i=(0,s.dR)(r,S.name,l,l.promiseFactory).then(function(g){S.content=g}),o.push(i)},m=0,u=r.items;m<u.length;m++)a(u[m]);else if(!r||r.disabled)return l.resourcePackagesService.delete(n.name),null;return l.promiseFactory.all(o).then(function(){return h.prototype.loadResourcePackage.call(l,r,!0)})}).catch(function(){return l.resourcePackagesService.delete(n.name),null})},p}(t(786105).Ls)},675905:function(Je,H,t){t.d(H,{QO:function(){return s},dA:function(){return b},yO:function(){return c}});var e=t(693825);function c(n,l,r,o){void 0===r&&(r=!1),void 0===o&&(o=null);var a={major:1,minor:8,patch:0},i=document.createElement("script");i.innerHTML=r?o&&(0,e.gt)(o,a)||(0,e.eq)(o,a)?function(n){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(n,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ===\"window\" || key === \"self\"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(l):function(n){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(n,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(l):l,i.id="js-"+n,i.setAttribute("name",n),document.body.appendChild(i)}function s(n,l){var r=$("<style></style>",{html:l,id:"css-"+n});r.attr("name",n),$("head").append(r)}function b(n){var r=$("#css-"+n)[0],o=_.find(document.styleSheets,function(m){return m.ownerNode===r});if(o&&o.cssRules)for(var a=0;a<o.cssRules.length;a++){var i=o.cssRules[a];if(i.selectorText&&_.includes(i.selectorText,n))return i.style.backgroundImage}return""}},210107:function(Je,H,t){t.d(H,{JZ:function(){return e},cL:function(){return f},io:function(){return c},un:function(){return s}});var e=3e4,c="dev",s="prod",f="app-store"},99413:function(Je,H,t){t.d(H,{v:function(){return f}});var e=t(787941),c=t(587318),s=t(926201);function f(){return new v}var v=function(){function b(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:c.AW,type:2,items:[]}]}return b.prototype.getAllPackages=function(){return this.packages},b.prototype.registerPackages=function(h){if(e.fF.assertValue(h,"packages"),h)for(var p=0,n=h;p<n.length;p++){var l=n[p];if(l.items&&0!==l.items.length&&(3!==l.type||!l.disabled)){this.resourcePackageNameIdLookupTable[l.id]=l.name;var r=(0,s.pd)(this.packages,l.type,l.name);if(r)(0,s.In)(l)?(0,s.wq)(r,l):_.merge(r,l);else{var o=_.clone(l);o.items=_.clone(l.items),this.packages.push(o)}}}},b.prototype.getPackage=function(h){return e.fF.assertValue(h,"name"),_.find(this.packages,function(p){return p.name===h})},b.prototype.delete=function(h){e.fF.assertValue(h,"name"),_.remove(this.packages,function(p){return p.name===h})},b.prototype.getPackageById=function(h){var p=this.resourcePackageNameIdLookupTable[h];return p&&this.getPackage(p)},b.prototype.clear=function(){this.packages=[],this.resourcePackageNameIdLookupTable={}},b}()},786105:function(Je,H,t){t.d(H,{KG:function(){return m},Ls:function(){return E}});var e=t(226514),c=t(258323),s=t(37743),f=t(776791),v=t(693825),b=t(832867),h=t(787941),p=t(587318),n=t(138363),l=t(431325),r=t(926201),o=t(497593),a=t(138368),i=t(266419);function m(M,P,T,x,R,D,L){return new E(M,P,T,x,R,D,L)}var E=function(M){function P(T,x,R,D,L,F,A){var O=M.call(this,T,D,null)||this;return h.fF.assertValue(T.promiseFactory,"promiseFactory"),h.fF.assertValue(x,"messageProxy"),h.fF.assertValue(R,"sandboxLoaderUri"),O.approvedResourceService=A,O.featureSwitchService=L,O.locale=T&&T.locale,O.promiseFactory=T.promiseFactory,O.frontEndUrl=null!=F?F:"'self'",O.messageProxy=x,O.sandboxLoaderUri=R,O.provider=D,O.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||O.initIFrame(),O}return(0,e.__extends)(P,M),P.prototype.loadResourcePackage=function(T,x){return h.fF.assertValue((0,r.JZ)(T),"resourcePackage is for a custom visual"),this.loadVisualPlugin(T,x)},P.prototype.loadResourcePackages=function(T){h.fF.assertValue(T,"resourcePackages");for(var x=[],R=0,D=T;R<D.length;R++)x.push(this.loadResourcePackage(D[R]));return this.promiseFactory.all(x)},P.prototype.loadTrustedResourcePackages=function(T){return h.fF.assertFail("Not supported"),this.promiseFactory.reject()},P.prototype.loadSharedResource=function(T){return h.fF.assertFail("Not supported"),this.promiseFactory.reject()},P.prototype.loadVisualPlugin=function(T,x){var R=this;h.fF.assertValue(T,"resourcePackage");var D=this.promiseFactory.defer();return this.loadResourcesContent(T).then(function(L){if(L&&!_.isEmpty(L)){var F=_.keyBy(L,"type"),A=F[n.Ut.CustomVisualMetadata];if(A)try{var w=(0,f.K)(A.content),I=(0,i.S)(w,R.locale,x?1:0);(0,o.L)(I);var B=b.N[I.name];B&&(I.favoriteId=B.favoriteId,I.isOutOfBox=B.isOutOfBox),I.developerModeVisual=T.developerModeVisual,I.apiVersion&&(0,v.lt)(I.apiVersion,p.AF)&&(I.isDeprecated=!0),b.N[I.name]=I,D.resolve(I)}catch(j){D.reject(j)}else{if(!R.iframe)return h.fF.assertFail("Legacy visuals are not supported"),R.promiseFactory.reject();R.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:T.name,mappedPluginContent:F}]}).then(function(j){var W=j,U=b.N[W.name];U&&!U.custom||(W.custom=!0,W.capabilities.objects=(0,c.vB)(W.capabilities.objects),(0,o.L)(W),R.approvedResourceService&&R.approvedResourceService.isApprovedVisualsDefined()&&(W.isDeprecated=!0),b.N[W.name]=W,D.resolve(W))}).catch(function(j){D.reject(j)})}}else D.resolve(null)}).catch(function(L){D.reject(L)}),D.promise},P.prototype.loadVisualPlugins=function(T){h.fF.assertValue(T,"resourcePackages");var x=[];if(T)for(var R=0,D=T;R<D.length;R++)x.push(this.loadVisualPlugin(D[R]));return this.promiseFactory.all(x)},P.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)},P.prototype.initIFrame=function(){var T=this,x=this.sandboxLoaderUri,R={};if(s.s.getQueryStringValue("unmin")&&(R.unmin="1"),R.emCVBundle=this.featureSwitchService.featureSwitches.emCVBundle?"1":"0",this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP){var L="default-src ".concat(this.frontEndUrl," 'unsafe-inline'");R.csp=btoa(L)}x+=s.s.rebuildQueryString(R),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",x).one("load",function(){return T.onIFrameLoad()}).appendTo(document.body)},P.prototype.onIFrameLoad=function(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()},P.prototype.loadResourcesContent=function(T){for(var x=[],R=T.id,D=T.name,L=0,F=T.items;L<F.length;L++){var A=F[L];A.type!==n.Ut.CustomVisualIcon&&x.push(this.loadResourceContent(R,D,A,T))}return this.promiseFactory.all(x)},P.prototype.loadResourceContent=function(T,x,R,D){var L=this,F=this.promiseFactory.defer();return R.content?F.resolve(this.getItemContent(R.content,R)):this.provider.get(T,x,R.path).then(function(A){A?F.resolve(L.getItemContent(A,R)):T<0?F.reject("no blob content for client generated rps"):(0,l.dR)(D,R.name,L,L.promiseFactory).then(function(O){F.resolve(L.getItemContent(O,R))})}).catch(function(A){F.reject(A)}),F.promise},P.prototype.getItemContent=function(T,x){var R=_.isString(T)?T:JSON.stringify(T);return x.content=x.type===n.Ut.CustomVisualMetadata?R:void 0,{type:x.type,content:R}},P}(a.N5)},687705:function(Je,H,t){t.d(H,{DQ:function(){return p},S4:function(){return n},qC:function(){return b},vB:function(){return h}});var e=t(415859),c=t(322487),s=t(787941),f=t(734287),v=t(13106);function b(u){return s.fF.assertValue(u,"instances"),0===u.length?[]:_.map(u,l)}function h(u){return s.fF.assertValue(u,"instances"),0===u.length?[]:_.map(u,r)}function p(u,V){return s.fF.assertValue(u,"containers"),_.map(u,function(d){return{displayName:(0,f.G)(d.displayName,V)}})}function n(u){return s.fF.assertValue(u,"containers"),_.map(u,function(V){return{displayName:V.displayName}})}function l(u){return{objectName:u.objectName,displayName:u.displayName,properties:o(u.properties),selector:(0,e.UZ)(u.selector),altConstantValueSelector:(0,e.UZ)(u.altConstantValueSelector),validValues:u.validValues,containerIdx:u.containerIdx,propertyInstanceKind:u.propertyInstanceKind}}function r(u){return{objectName:u.objectName,displayName:u.displayName,properties:a(u.properties),selector:(0,e.L1)(u.selector),altConstantValueSelector:(0,e.L1)(u.altConstantValueSelector),validValues:u.validValues,containerIdx:u.containerIdx,propertyInstanceKind:u.propertyInstanceKind}}function o(u){var V={};for(var d in u)V[d]=i(u[d]);return V}function a(u){var V={};for(var d in u)V[d]=m(u[d]);return V}function i(u){return u instanceof v.yl?c.ib.serializeFilter(u):void 0===u?null:u}function m(u){return u&&u.From&&u.Where?c.ib.deserializeFilter(u):u}},885855:function(Je,H,t){t.d(H,{qC:function(){return s},vB:function(){return f}});var e=t(415859),c=t(787941);function s(h){return c.fF.assertValue(h,"repetitions"),_.isEmpty(h)?[]:_.map(h,v)}function f(h){return c.fF.assertValue(h,"repetitions"),_.isEmpty(h)?[]:_.map(h,b)}function v(h){var p={selector:(0,e.UZ)(h.selector),altStaticSelector:(0,e.UZ)(h.altStaticSelector),objects:h.objects};return void 0!==h.allowOverrideSubtotalMatching&&(p.allowOverrideSubtotalMatching=h.allowOverrideSubtotalMatching),p}function b(h){var p={selector:(0,e.L1)(h.selector),altStaticSelector:(0,e.L1)(h.altStaticSelector),objects:h.objects};return void 0!==h.allowOverrideSubtotalMatching&&(p.allowOverrideSubtotalMatching=h.allowOverrideSubtotalMatching),p}},175491:function(Je,H,t){t.d(H,{DP:function(){return v},NO:function(){return f},_8:function(){return c},th:function(){return s}});var e=t(433992);function c(p){return{colorPalette:f(p.colorPalette),isHighContrast:p.isHighContrast,icons:p.icons}}function s(p){return{colorPalette:v(p.colorPalette),isHighContrast:p.isHighContrast,icons:p.icons}}function f(p){return{dataColors:b(p.dataColors),foreground:p.foreground,foregroundLight:p.foregroundLight,foregroundDark:p.foregroundDark,foregroundNeutralLight:p.foregroundNeutralLight,foregroundNeutralDark:p.foregroundNeutralDark,foregroundNeutralSecondary:p.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:p.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:p.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:p.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:p.foregroundNeutralTertiaryAlt,foregroundSelected:p.foregroundSelected,foregroundButton:p.foregroundButton,background:p.background,backgroundLight:p.backgroundLight,backgroundNeutral:p.backgroundNeutral,backgroundDark:p.backgroundDark,hyperlink:p.hyperlink,tableAccent:p.tableAccent,visitedHyperlink:p.visitedHyperlink,mapPushpin:p.mapPushpin,shapeStroke:p.shapeStroke,disabledText:p.disabledText,selection:p.selection,separator:p.separator}}function v(p){return{dataColors:h(p.dataColors),foreground:p.foreground,foregroundLight:p.foregroundLight,foregroundDark:p.foregroundDark,foregroundNeutralLight:p.foregroundNeutralLight,foregroundNeutralDark:p.foregroundNeutralDark,foregroundNeutralSecondary:p.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:p.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:p.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:p.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:p.foregroundNeutralTertiaryAlt,foregroundSelected:p.foregroundSelected,foregroundButton:p.foregroundButton,background:p.background,backgroundLight:p.backgroundLight,backgroundNeutral:p.backgroundNeutral,backgroundDark:p.backgroundDark,hyperlink:p.hyperlink,visitedHyperlink:p.visitedHyperlink,mapPushpin:p.mapPushpin,shapeStroke:p.shapeStroke,disabledText:p.disabledText,tableAccent:p.tableAccent,selection:p.selection,separator:p.separator}}function b(p){return{colors:p.getAllColors(),sentimentColors:p.getSentimentColors(),gradientColors:p.getGradientColors()}}function h(p){return new e.fJ(p.colors,p.sentimentColors,p.gradientColors)}},154222:function(Je,H,t){t.d(H,{G:function(){return p},k:function(){return n}});var e=t(832867),c=t(787941),s=t(587318),f=t(138363),v=t(319887),b=t(497593),h=t(266419);function p(r,o,a,i,m,u,V){return new l(r,o,a,i,m,u,V)}var n=".pbiviz.json",l=function(){function r(o,a,i,m,u,V,d){this.approvedResourceService=a,this.resourcePackagesService=i,this.featureSwitchService=m,this.telemetryService=u,this.onlyApprovedForServerRenderResources=V,this.resourceLoaderInitOptions=d,this.locale=o&&o.locale,this.promiseFactory=o.promiseFactory}return r.prototype.loadTrustedResourcePackages=function(o){var a=[];if(o&&o.length>0)for(var i=9999,m=0,u=o;m<u.length;m++){var V=u[m];if(e.N[V])a.push(this.promiseFactory.resolve([e.N[V]]));else{var d={id:i++,name:V,type:0,items:[{name:V,type:f.Ut.CustomVisualMetadata,path:V+n}]};this.resourcePackagesService.registerPackages([d]),a.push(this.loadResourcePackage(d))}}return this.promiseFactory.all(a)},r.prototype.loadResourcePackages=function(o){c.fF.assertValue(o,"resourcePackages");for(var a=[],i=0,m=o;i<m.length;i++)a.push(this.loadResourcePackage(m[i]));return this.promiseFactory.all(a)},r.prototype.loadResourcePackage=function(o){var a=this;return c.fF.assertValue(o,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(m){return a.promiseFactory.reject(m)}).then(function(){var m=[];if(a.onlyApprovedForServerRenderResources&&!a.approvedResourceService.isApprovedResource(o.name))return a.promiseFactory.reject("Visual is not an approved visual");if(!a.approvedResourceService.hasApi(o.name))return a.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var u=a.loadCustomVisualJson(o.name,o.isPublic);return u.catch(function(V){return a.promiseFactory.reject(V)}),m.push(u),a.promiseFactory.all(m)})},r.prototype.loadResourcePackageItem=function(o,a){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadSharedResource=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadVisualPlugins=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadVisualPlugin=function(o){return c.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.destroy=function(){},r.prototype.loadCustomVisualJson=function(o,a){var i=this,m=this.promiseFactory.defer(),u=(new Date).toISOString(),V=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(o).then(function(d){var S=(new Date).toISOString();i.telemetryService.logEvent(v.EB,{visualType:o,fileName:i.approvedResourceService.customVisualJsonUrlBuilder(o),isClientGenerated:!!a,consumePublicCvsWithoutRps:V,start:u,end:S,parentId:i.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});var g=i.handleLoadResourceResponse(d.data);m.resolve(g)},function(d){var S=(new Date).toISOString(),g=i.handleLoadResourceError(d,o,i.approvedResourceService.customVisualJsonUrlBuilder(o),u,S,a);m.reject(g),m.reject(d.data)}),m.promise},r.prototype.handleLoadResourceError=function(o,a,i,m,u,V){var d=JSON.stringify(o);return this.telemetryService.logEvent(v.d7,{visualType:a,fileName:i,isClientGenerated:!!V,start:m,end:u,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:d}),d},r.prototype.handleLoadResourceResponse=function(o){var a;try{a=(0,h.S)(o,this.locale,2)}catch(m){return null}a.custom=!0,a.isDeprecated=this.approvedResourceService.isDeprecated(a.name),(a.name===s.Jo||a.name===s.C||a.name===s.x5&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(a.custom=!1);var i=e.N[a.name];return i&&(a.favoriteId=i.favoriteId,a.isOutOfBox=i.isOutOfBox),(0,b.L)(a),e.N[a.name]=a,a},r}()},821904:function(Je,H,t){t.d(H,{R:function(){return c}});var e=t(787941),c=function(){function s(f){this.promiseFactory=f,e.fF.assertValue(f,"promiseFactory"),this.promiseFactory=f}return s.prototype.loadResourcePackage=function(f){return this.promiseFactory.resolve()},s.prototype.loadResourcePackages=function(f){return this.promiseFactory.resolve()},s.prototype.loadTrustedResourcePackages=function(f){return this.promiseFactory.resolve()},s.prototype.loadResourcePackageItem=function(f,v){return this.promiseFactory.resolve()},s.prototype.loadSharedResource=function(f){return this.promiseFactory.resolve()},s.prototype.loadVisualPlugin=function(f){return this.promiseFactory.resolve(null)},s.prototype.loadVisualPlugins=function(f){return this.promiseFactory.resolve()},s.prototype.destroy=function(){},s}()},861579:function(Je,H,t){t.d(H,{F:function(){return f},X:function(){return v}});var e=t(787941),c=t(587318),s=t(319887),f=function(h){return h[h.NotRequired=0]="NotRequired",h[h.Declined=1]="Declined",h[h.Approved=2]="Approved",h}({});function v(h,p){return new b(h,p)}var b=function(){function h(p,n){this.promiseFactory=p,this.telemetryService=n,this.cachedConsentMap={},this.visualConsentOptionsMap={}}return h.prototype.registerVisualConsent=function(p,n){var l=this;e.fF.assertValue(n,"VisualConsentService: registerVisualConsent was called with missing options object"),e.fF.assert(function(){return!l.visualConsentOptionsMap[p]},"VisualConsentService: registerVisual was already called for visual "+p),this.visualConsentOptionsMap[p]=n,this.telemetryService.logEvent(s.MU,{visualType:p,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),this.loadConsentAsync(p)},h.prototype.hasConsent=function(p){return this.cachedConsentMap[p]},h.prototype.setConsent=function(p,n){if(!this.isConsentRequiringVisual(p))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[p]=n;var l=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentPersistencyProvider;return this.telemetryService.logEvent(s.tH,{visualType:p,userConsent:n,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),l?l.saveConsent(n):this.promiseFactory.reject("No persistencyProvider was set for visual "+p)},h.prototype.getConsent=function(p){var n=this,l=[];p=_.uniq(p),this.telemetryService.logEvent(s.Jf,{visualTypes:p.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});for(var r=function(V){if(!o.isConsentRequiringVisual(V))return l.push(o.promiseFactory.resolve({visualType:V,consent:f.NotRequired})),"continue";l.push(o.loadConsentAsync(V).then(function(S){return S?n.promiseFactory.resolve({visualType:V,consent:f.Approved}):n.showConsentDialog(V)}))},o=this,a=0,i=p;a<i.length;a++)r(i[a]);return this.promiseFactory.allSettled(l).then(function(u){return _.map(_.filter(u,function(V){return 0===V.type}),function(V){return V.value})})},h.prototype.isConsentRequiringVisual=function(p){return!!this.visualConsentOptionsMap[p]},h.prototype.loadConsentAsync=function(p){var n=this;if(e.fF.assertValue(this.visualConsentOptionsMap[p],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[p])return this.promiseFactory.resolve(this.cachedConsentMap[p]);var l=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentPersistencyProvider;return l?l.loadConsent().then(function(r){return n.cachedConsentMap[p]=r,n.promiseFactory.resolve(r)}).catch(function(r){if(r!==c.VT)return n.promiseFactory.reject(r)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+p)},h.prototype.showConsentDialog=function(p){var n=this;if(!this.isConsentRequiringVisual(p))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var l=this.visualConsentOptionsMap[p]&&this.visualConsentOptionsMap[p].consentDialogProvider;return l?l.showConsentDialog().then(function(r){return n.setConsent(p,r),n.promiseFactory.resolve({visualType:p,consent:r?f.Approved:f.Declined})}).catch(function(r){return n.promiseFactory.reject(r)}):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+p)},h}()},352371:function(Je,H,t){function e(){return new c}t.d(H,{z:function(){return e}});var c=function(){function s(){this.listeners=[]}return s.prototype.associate=function(f,v){for(var b=0,h=this.listeners;b<h.length;b++)h[b].onInstanceAssociated(f,v)},s.prototype.subscribeToInstanceIdAssociation=function(f){_.includes(this.listeners,f)||this.listeners.push(f)},s}()},123694:function(Je,H,t){t.d(H,{Os:function(){return p},ZM:function(){return b},wl:function(){return h}});var e=t(832867),c=t(787941),s=t(587318),f=t(319887),v=t(780760),b=function(){function n(){this.visualPlugins={},this.loadedVisualPlugins={}}return n.prototype.getLoadedPlugins=function(){return _.map(this.loadedVisualPlugins,function(l){return l})},n.prototype.getLoadedPlugin=function(l){return this.loadedVisualPlugins[l]},n.prototype.hasPlugin=function(l){return!!this.visualPlugins[l]},n.prototype.loadPlugin=function(l,r){if(r){var o=this.visualPlugins[l];(null==o||!0===o.custom||r.developerModeVisual)&&(this.visualPlugins[l]=r)}this.loadedVisualPlugins[l]=this.visualPlugins[l]},n.prototype.unloadPlugin=function(l){delete this.loadedVisualPlugins[l]},n}();function h(n,l,r,o,a,i){c.fF.assertValue(l,"promiseFactory"),c.fF.assertValue(o,"resourcePackage");var m=l.defer();if(o.name===s.C&&!o.isPublic)return m.resolve(null),m.promise;if(!a&&n.hasPlugin(o.name))n.loadPlugin(o.name),m.resolve(null);else if(!a&&e.N[o.name])n.loadPlugin(o.name,e.N[o.name]),m.resolve(null);else if(_.isEmpty(o.items))m.reject("Resource package does not contain any items");else{var u;c.fF.assertValue(r,"resourceLoader"),i&&(u=i.startEvent(f.F$,{resourcePackageName:o.name})),r.loadResourcePackage(o).catch(function(V){c.fF.assertFail("Custom visual "+o.name+" failed to load: "+V)}).finally(function(){var V=e.N[o.name];V?(V.iconUrl||(V.iconUrl=(0,v.sG)(o.name)),n.loadPlugin(V.name,V),m.resolve(null),u&&u.resolve()):(m.reject("Unable to load visual plugin from resource package"),u&&u.reject())})}return m.promise}function p(n,l){c.fF.assertValue(n,"storage"),c.fF.assertValue(l,"plugins");for(var r=0,o=l;r<o.length;r++){var a=o[r];n.loadPlugin(a.name,a)}}},780760:function(Je,H,t){t.d(H,{i8:function(){return M},sG:function(){return T}});var e=t(914285),c=t(663406),s=t(37584),f=t(108333),v=t(464925),b=t(719661),h=t(525963),p=t(635491),n=t(935270),l=t(424420),r=t(939523),o=t(551493),a=t(693191),i=t(36629),m=t(292638),u=t(684282),V=t(173761),d=t(55397),S=t(826335),g=t(103819),y=t(600348),C=t(299747);function M(x,R,D,L){return function(x,R,D,L){var F=(0,C.ED)(x);return F.create=R,F.createES6=D,L&&L(F),F}(x,R,L,function(F){return function(x,R){if(R)switch(x.name){case y.D.actionButton:x.capabilities=(0,e.mx)(R);break;case y.D.scatterChart:x.capabilities=(0,i.r4)(R);break;case y.D.areaChart:x.capabilities=(0,r.yg)(!1,!0,R);break;case y.D.lineChart:x.capabilities=(0,r.yg)(!1,!1,R);break;case y.D.stackedAreaChart:x.capabilities=(0,r.yg)(!0,!0,R);break;case y.D.waterfallChart:x.capabilities=(0,g.GJ)(R);break;case y.D.lineStackedColumnComboChart:x.capabilities=(0,f.p5)(!0,R);break;case y.D.lineClusteredColumnComboChart:x.capabilities=(0,f.p5)(!1,R);break;case y.D.columnChart:case y.D.hundredPercentStackedColumnChart:x.capabilities=(0,s.nn)(!1,!0,!1,R);break;case y.D.barChart:case y.D.hundredPercentStackedBarChart:x.capabilities=(0,s.nn)(!0,!0,!1,R);break;case y.D.clusteredBarChart:x.capabilities=(0,s.nn)(!0,!1,!1,R);break;case y.D.clusteredColumnChart:x.capabilities=(0,s.nn)(!1,!1,!1,R);break;case y.D.ribbonChart:x.capabilities=(0,s.nn)(!1,!0,!0,R);break;case y.D.pivotTable:x.capabilities=(0,a.R)(R);break;case y.D.filledMap:x.capabilities=(0,h.XN)(R);break;case y.D.azureMap:x.capabilities=(0,c.$E)(R);break;case y.D.map:x.capabilities=(0,o.NC)(R);break;case y.D.donutChart:case y.D.pieChart:x.capabilities=(0,b.cw)(R);break;case y.D.kpi:x.capabilities=(0,l.pW)(R);break;case y.D.funnel:x.capabilities=(0,p.qW)(R);break;case y.D.shapeMap:x.capabilities=(0,m.x)();break;case y.D.table:x.capabilities=(0,V.Y)(R);break;case y.D.tableEx:x.capabilities=(0,d.k)(R);break;case y.D.treemap:x.capabilities=(0,S.cB)(R);break;case y.D.slicer:x.capabilities=(0,u.st)(R);break;case y.D.keyDriversVisual:x.capabilities=(0,n.yM)();break;case y.D.decompositionTreeVisual:x.capabilities=(0,v.Sd)(R)}}(F,D)})}function T(x){var D=$("#css-"+x)[0],L=_.find(document.styleSheets,function(O){return O.ownerNode===D});if(L&&L.cssRules)for(var F=0;F<L.cssRules.length;F++){var A=L.cssRules[F];if(A.selectorText&&A.selectorText===".visual-icon."+x)return A.style.backgroundImage}return""}},713937:function(Je,H,t){t.d(H,{R:function(){return s},w:function(){return f}});var e=t(832867),c=t(189950);function s(v){return!!e.N[v]}function f(v,b,h,p,n,l,r){var o;n&&n.isRunning()&&(o=n.createChildActivity({name:"Visual Container Module Load"}));var a=function(){var u=b.getPlugin(v);return u&&u.module?u.createES6&&!u.module.css?(o&&o.resolve(),p.resolve(u)):h.require({javascript:u.createES6?void 0:u.module.javascript,css:u.module.css}).then(function(){return o&&o.resolve(),u},function(){return o&&o.reject(),null}):(o&&(u?o.resolve():o.reject()),l?c.I.resolve(u):p.resolve(u))};if(r){var i=r.ensureCustomVisual(v);if(i)return i.then(a)}return a()}},731479:function(Je,H,t){t.d(H,{Se:function(){return p},vh:function(){return b},vt:function(){return n},ww:function(){return h}});var e=t(166851),c=t(454262),s=t(600348),f=["play","subview","smallMultiple"],v=new e.o(function(){var l;return(l={})[s.D.card]=!0,l[s.D.gauge]=!0,l[s.D.image]=!0,l[s.D.kpi]=!0,l[s.D.textbox]=!0,l});function b(l,r){return l?!!l.custom:!_.includes(f,r)}function h(l){return l&&l.capabilities&&l.capabilities.dataViewMappings&&!!(0,c.oy)(l.capabilities.dataViewMappings)}function p(l,r){return"pythonVisual"===l||!(!r||!r.scriptVisualEnabled)}function n(l){return!!l&&!!v.getValue()[l.name]}},266419:function(Je,H,t){t.d(H,{S:function(){return S}});var e=t(787941),c=t(474505),s=t(129035),v=3e4;function a(g){return!!(g&&g.propertyIdentifier&&g.propertyIdentifier.objectName&&g.propertyIdentifier.propertyName)}function V(g,y){var C;if(y)return g&&(C=g[y.propertyIdentifier.objectName]),(0,s.N)(C,y.propertyIdentifier.propertyName,y.defaultValue)}var d=t(823344);function S(g,y,C){e.fF.assertAnyValue(g,"pbivizjson"),e.fF.assertAnyValue(g.content,"content"),e.fF.assertAnyValue(g.content.iconBase64,"iconBase64"),g=y?(0,d.zQ)(g,y):g;var E=y?(0,d.qL)(g,y):null,M=(0,d.qL)(g,"en-US"),T={name:g.visual.guid,apiVersion:g.apiVersion,class:g.visual.visualClassName,displayName:g.visual.displayName,capabilities:g.capabilities,custom:!0,iconUrl:'url("'+g.content.iconBase64+'")',content:g.content,version:g.visual.version,create:function(){return null},customizeQuery:function(R){return null},localizationResources:E||M?{enUSStrings:M,localizedStrings:E}:null,supportUrl:g.visual.supportUrl,source:C,publisher:g.author?g.author.name:void 0};return g.capabilities&&(g.capabilities.subtotals||g.capabilities.dataReductionCustomization)&&(T.customizeQuery=function(x){return function(g,y){y&&y.subtotals&&y.subtotals.matrix&&function(g){return g&&function(g){return g&&a(g.columnSubtotals)&&a(g.columnSubtotalsPerLevel)&&a(g.levelSubtotalEnabled)&&a(g.rowSubtotals)&&a(g.rowSubtotalsPerLevel)}(g.matrix)}(y.subtotals)&&function(g,y){e.fF.assert(function(){return!!g},"options not defined"),e.fF.assert(function(){return!!g.dataViewMappings},"dataViewMappings not defined");var C=g.dataViewMappings[0];if(C&&C.matrix&&C.metadata){var E=C.matrix;(function(g,y,C){var E=g.metadata.objects,M=g.metadata.columns,P=y.rows.for.in.items,T=V(E,C.rowSubtotals),x=2,R=V(E,C.rowSubtotalsPerLevel);if(null!=C.rowSubtotalsType&&"Top"===V(E,C.rowSubtotalsType)&&(x=1),!_.isEmpty(P))for(var L=function(N,w){var I=P[N],B=_.find(M,function(W){return W.queryName===I.queryName});if(!B)return"continue";var j=V(B.objects,C.levelSubtotalEnabled);I.subtotalType=!T||R&&!j?0:x},F=0,A=P.length;F<A;F++)L(F)})(C,E,y),function(g,y,C){var E=g.metadata.objects,M=g.metadata.columns,P=y.columns.for.in.items,T=V(E,C.columnSubtotals),x=V(E,C.columnSubtotalsPerLevel);if(!_.isEmpty(P))for(var R=function(O){var N=_.find(M,function(I){return I.queryName===O.queryName});if(!N)return"continue";var w=V(N.objects,C.levelSubtotalEnabled);O.subtotalType=!T||x&&!w?0:2},D=0,L=P;D<L.length;D++)R(L[D])}(C,E,y)}}(g,y.subtotals.matrix),y&&y.dataReductionCustomization&&function(g,y){var C,E,M,P,T,x,R,D,L,F,A,O,N,w=null===(C=null==g?void 0:g.dataViewMappings)||void 0===C?void 0:C[0],I=null===(E=null==w?void 0:w.metadata)||void 0===E?void 0:E.objects,B=(0,c._1)(g.dataViewMappings);if(function(g,y,C){var E=!0;if(!y||!y.dataReductionCustomization)return!1;switch(g){case 2:if(C.matrix){var M=V(y,C.matrix.rowCount),P=V(y,C.matrix.columnCount);void 0!==M&&(E=E&&M>=15&&M<=v),void 0!==P&&(E=E&&P>=1&&P<=2e3)}break;case 8:C.table&&void 0!==(M=V(y,C.table.rowCount))&&(E=E&&M>=15&&M<=v);break;case 1:if(C.categorical){var T=V(y,C.categorical.categoryCount),x=V(y,C.categorical.groupedValuesCount);void 0!==T&&(E=E&&T>=15&&T<=v),void 0!==x&&(E=E&&x>=1&&x<=2e3)}}return E}(B,I,y))switch(B){case 2:var W=V(I,y.matrix.rowCount),U=V(I,y.matrix.columnCount),k=null===(P=null===(M=w.matrix)||void 0===M?void 0:M.columns)||void 0===P?void 0:P.dataReductionAlgorithm,Q=null===(x=null===(T=w.matrix)||void 0===T?void 0:T.rows)||void 0===x?void 0:x.dataReductionAlgorithm;U&&k&&(k[(0,c.Xs)(k)].count=U),W&&Q&&(Q[(0,c.Xs)(Q)].count=W);break;case 8:W=V(I,y.table.rowCount),Q=null===(D=null===(R=null==w?void 0:w.table)||void 0===R?void 0:R.rows)||void 0===D?void 0:D.dataReductionAlgorithm,W&&Q&&(Q[(0,c.Xs)(Q)].count=W);break;case 1:var J=V(I,y.categorical.categoryCount),re=V(I,y.categorical.groupedValuesCount);k=null===(A=null===(F=null===(L=null==w?void 0:w.categorical)||void 0===L?void 0:L.values)||void 0===F?void 0:F.group)||void 0===A?void 0:A.dataReductionAlgorithm,Q=null===(N=null===(O=null==w?void 0:w.categorical)||void 0===O?void 0:O.categories)||void 0===N?void 0:N.dataReductionAlgorithm,re&&k&&(k[(0,c.Xs)(k)].count=re),J&&Q&&(Q[(0,c.Xs)(Q)].count=J)}}(g,y.dataReductionCustomization)}(x,g.capabilities)}),T}},661885:function(Je,H,t){t.d(H,{et:function(){return s},zC:function(){return h},zM:function(){return f}});var e=t(787941),c=t(690016),s="message",f="error",v="message",b="onMessageProxyAsyncComplete";function h(n,l){return new p(n,l)}var p=function(){function n(l,r){var o=this;this.promiseFactory=l,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,r&&(this._contentWindow=r),this.deferredCache={},this.windowMessageHandler=function(a){return o.onMessageReceived(a.originalEvent)},$(window).on(v,this.windowMessageHandler)}return Object.defineProperty(n.prototype,"allowSameWindow",{get:function(){return this._allowSameWindow},set:function(r){this._allowSameWindow=r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"contentWindow",{get:function(){return this._contentWindow},set:function(r){e.fF.assertValue(r,"value"),this._contentWindow=r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"queue",{get:function(){return jQuery.extend([],this._queue)},enumerable:!1,configurable:!0}),n.prototype.postMessage=function(l){this.contentWindow?this.sendMessage(l):this.queueMessage(l)},n.prototype.postMessageAsync=function(l){var r=this,o=this.promiseFactory.defer(),a=this.createRandomString();return this.deferredCache[a]=o,l.id=a,this.postMessage(l),o.promise.finally(function(){delete r.deferredCache[a]}),o.promise},n.prototype.queueMessage=function(l,r){void 0===r&&(r=this._queue.length);var o=this.prepareMessage(l);this._queue.splice(r,0,o)},n.prototype.on=function(l,r){e.fF.assertValue(l,"type"),e.fF.assertValue(r,"handler"),this.handlers[l]&&(this.handlers[l].indexOf(r)>-1||this.handlers[l].push(r))},n.prototype.off=function(l,r){if(e.fF.assertValue(l,"type"),this.handlers[l]){if(!r)return void(this.handlers[l].length=0);var o=this.handlers[l].indexOf(r);o>-1&&this.handlers[l].splice(o,1)}},n.prototype.flushQueue=function(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)},n.prototype.sendMessage=function(l){var r=this.prepareMessage(l);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(r,"*"):e.fF.assertFail("contentWindow not set")},n.prototype.prepareMessage=function(l){var r;try{r=JSON.stringify(l)}catch(o){throw r=null,c.b$.ensureError(o)}return r},n.prototype.onMessageReceived=function(l){if(this.allowSameWindow||l.source!==window){var r;try{r="string"==typeof l.data?JSON.parse(l.data):l.data}catch(d){r=null}if(r)for(var a=0,i=jQuery.isArray(r)?r:[r];a<i.length;a++){var m=i[a],u=void 0,V=void 0;try{"string"==typeof m?(u=JSON.parse(m),V=m.length):(u=m,V=l.data.length)}catch(d){u=null}if(!u)return;this.dispatchMessage(l,u,V)}}},n.prototype.dispatchMessage=function(l,r,o){var a={message:r,source:l.source,origin:l.origin,packedSize:o};if(r.id&&(r.eventName===b||r.result||r.error)){var i=this.deferredCache[r.id];return i?r.error?i.reject(r.error):i.resolve(r.result):void 0}for(var u=0,V=r.error?this.handlers.error:this.handlers.message;u<V.length;u++)this.invokeHandler(V[u],a)},n.prototype.invokeHandler=function(l,r){var a,i,o=this;r.message.id&&(i={id:r.message.id,eventName:b,arguments:[]});try{a=l.call(null,r),i&&this.promiseFactory.when(a).then(function(m){i.result=m,o.postMessage(i)}).catch(function(m){i.error=m,o.postMessage(i)})}catch(m){i&&(i.error={message:m.message},this.postMessage(i))}},n.prototype.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},n.prototype.destroy=function(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(v,this.windowMessageHandler),this.windowMessageHandler=null},n}()},319887:function(Je,H,t){t.d(H,{B0:function(){return k},Cl:function(){return x},Cq:function(){return r},Cx:function(){return re},EB:function(){return v},F$:function(){return n},FM:function(){return J},IX:function(){return U},JT:function(){return D},Jf:function(){return V},LU:function(){return h},MU:function(){return a},OO:function(){return S},Qr:function(){return y},XH:function(){return L},bn:function(){return G},d7:function(){return s},eb:function(){return O},ek:function(){return ee},fU:function(){return B},hZ:function(){return te},jN:function(){return P},ok:function(){return j},sT:function(){return E},tH:function(){return m},w9:function(){return W},wY:function(){return w}});var e=t(853811),c="PBI.ApprovedResource.FailLoaded",s=e.cx[c]=(0,e.b1)(c),f="PBI.ApprovedResource.SuccessfulLoad",v=e.cx[f]=(0,e.b1)(f),b="PBI.ApprovedResource.EndpointDown",h=e.cx[b]=(0,e.b1)(b),p="PBI.ApproveResource.LoadResourcePackage",n=e.cx[p]=(0,e.b1)(p),l="PBI.AppSourceResource.EndpointDown",r=e.cx[l]=(0,e.b1)(l),o="PBI.VisualConsent.Register",a=e.cx[o]=(0,e.b1)(o),i="PBI.VisualConsent.Set",m=e.cx[i]=(0,e.b1)(i),u="PBI.VisualConsent.Get",V=e.cx[u]=(0,e.b1)(u),d="PBI.VisualEvent.DownloadContentEvent",S=e.cx[d]=(0,e.b1)(d),g="PBI.TrustedVisual.Load",y=e.cx[g]=(0,e.b1)(g),C="PBI.TrustedVisual.GetConsent",E=e.cx[C]=(0,e.b1)(C),M="PBI.VisualAuthentication.GetResourceUrl",P=e.cx[M]=(0,e.b1)(M),T="PBI.VisualAuthentication.GetAADToken",x=e.cx[T]=(0,e.b1)(T),R="PBI.VisualAuthentication.GetWACToken",D=e.cx[R]=(0,e.b1)(R),L="PBI.LocalResource.LoadResourcePackageItem",A=(e.cx[L]=(0,e.b1)(L),"PBI.VisualAuthentication.BlockAccessToken"),O=e.cx[A]=(0,e.b1)(A),N="PBI.AdminControl.Initialized",w=e.cx[N]=(0,e.b1)(N),I="PBI.Pbiviz.UnzipFailed",B=e.cx[I]=(0,e.b1)(I),j="PBI.CustomVisualsLicense.LicensesLoaded",W=e.cx[j]=(0,e.b1)(j),U="PBI.CustomVisualsLicense.GetServicePlansCalled",k=e.cx[U]=(0,e.b1)(U),Q="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",te=e.cx[Q]=(0,e.b1)(Q),ee="PBI.VisualEvent.LocalStorageV2Event",J=e.cx[ee]=(0,e.b1)(ee),re="PBI.VisualEvent.AcquireAADToken",G=e.cx[re]=(0,e.b1)(re)},477898:function(Je,H,t){t.d(H,{M3:function(){return y},Mm:function(){return p},Ro:function(){return b},Xf:function(){return g},bL:function(){return i},cg:function(){return S},jK:function(){return o},nn:function(){return d},oq:function(){return a},qe:function(){return m},st:function(){return u},ul:function(){return r},wn:function(){return C}});var l,e=t(319887),c=t(587318),s=t(620108),f=t(693825),v=t(600348),b={objectName:"general",propertyName:"filter"},h=function(E){return E[E.FeatureIsDisabled=0]="FeatureIsDisabled",E[E.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",E[E.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",E[E.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",E[E.FailedEvaluatingState=4]="FailedEvaluatingState",E}({}),p=function(E){return E[E.Unclassified=0]="Unclassified",E[E.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",E[E.NonCdnCustomVisual=2]="NonCdnCustomVisual",E[E.CertifiedCustomVisual=3]="CertifiedCustomVisual",E[E.OrganizationalStore=4]="OrganizationalStore",E[E.Native=5]="Native",E}({}),n=[c.Jo,c.C,c.x5];function r(E,M,P){if(void 0===l)try{if(!(M&&E&&E.featureSwitches&&E.featureSwitches.customVisualsTenantSwitch))return l=h.FeatureIsDisabled;M.logChildEvent(P&&P.event,e.wY,{AdminControlState:h[l=E.featureSwitches.customVisualsTenantEnabled?E.featureSwitches.certifiedCustomVisualsTenantEnabled?h.NonCertifiedCustomVisualsAreDisabled:h.AllCustomVisualsAreEnabled:h.AllCustomVisualsAreDisabled]})}catch(T){l=h.FailedEvaluatingState}return l}function o(E,M,P,T,x,R,D){return R||D?V(M,!0,R,D,P,T,x):V(M,E.featureSwitches.customVisualsTenantSwitch,!E.featureSwitches.customVisualsTenantEnabled,E.featureSwitches.certifiedCustomVisualsTenantEnabled,P,T,x)}function a(E){return!(!E||!E.capabilities)&&(E.custom?E.apiVersion&&(0,f.gt)(E.apiVersion,"3.5.0")&&E.capabilities.supportsEmptyDataView:E.capabilities.supportsEmptyDataView)}function i(E,M){return M||E.featureSwitches.customVisualsTenantSwitch&&!E.featureSwitches.customVisualsTenantEnabled}function m(E){return E&&_.endsWith(E,c.c2)}function u(E){return n.includes(E)}function V(E,M,P,T,x,R,D){return!(!M||E===c.Jo||u(E)||m(E)||D)&&(!!P||!(!T||x.isApprovedResourceServerRender(E))&&(!R||x.isApprovedVisualsDefined()))}function d(E,M,P){return P?m(M)?p.OrganizationalStore:E.isApprovedVisualsDefined()?E.isApprovedResourceServerRender(M)?p.CertifiedCustomVisual:E.isApprovedResource(M)?p.NonCertifiedCustomVisual:p.NonCdnCustomVisual:p.Unclassified:p.Native}function S(E){switch(E){case 0:return"allow-scripts";case 1:return"allow-popups";case 2:return"allow-same-origin";case 3:return"allow-forms";case 4:return"allow-top-navigation-by-user-activation";case 5:return"allow-downloads"}}function g(E){return E&&E===v.D.debugVisual}function y(E,M){return M?E.name.replace(/_DEBUG$/,""):E.name}function C(E){var M=(0,s.VM)(E.objects,b),P=null==M?void 0:M.type;return!(!P||!P.filter||P.filter.selfFilter)}},431325:function(Je,H,t){t.d(H,{PR:function(){return V},z_:function(){return m},dR:function(){return S},sQ:function(){return i},yl:function(){return u},FD:function(){return d},CJ:function(){return a},k4:function(){return y},_q:function(){return C}});var e=t(415859),c=t(787941),s=t(826691),f=t(565146),v=t(668268),b=t(324356),h=t(636490),p=t(138363);function n(P,T){return r(P,T,!1)}function l(P,T){return r(P,T,!0)}function r(P,T,x){if(void 0!==P){var R=T.defer(),D=new FileReader;return D.onload=function(){R.resolve(D.result)},D.onerror=function(){R.reject(D.error)},x?D.readAsText(P):D.readAsDataURL(P),R.promise}}var o=t(926201);function a(P,T,x,R,D,L){if(c.fF.assertValue(D,"promiseFactory"),!P)return D.resolve(null);for(var A=[],O=0,N=M(P,T,L);O<N.length;O++){var w=N[O],I=w.getRefValue();A.push(u(I,x(),R,D,{itemTypeFromReference:w.itemType}))}return D.all(A)}function i(P,T,x,R,D,L,F){if(c.fF.assertValue(D,"promiseFactory"),!P)return D.resolve(null);for(var A=(0,e.xF)(P,T,void 0,!1),O=(0,e.wN)(A,T),N=M(O,T),w=[],I=function(Q){var te=Q.getRefValue(),ee=null!=F&&F.isRunning()?F.createChildActivity({name:"Visual Container Resource Load",resourceType:te.packageType}):void 0,J=u(te,x,R,D,{usePersistableFormat:L,itemTypeFromReference:Q.itemType}).then(function(re){Q.setRefValue(re),ee&&ee.resolve()}).catch(function(){ee&&ee.reject()});w.push(J)},B=0,j=N;B<j.length;B++)I(j[B]);var U=D.defer();return D.all(w).then(function(){return U.resolve(O)}),U.promise}function m(P,T){return!!P&&M(P,T).length>0}function u(P,T,x,R,D){return d(T,{packageType:P.packageType,packageName:P.packageName,itemName:P.itemName},x,R,D).then(function(F){return null==F?(0,b.IF)():(0,b.fL)(F)},function(F){return(0,b.IF)()})}function V(P){return c.fF.assertValue(P,"getLoadAndResolveErrorReason: No reason given"),P?"string"==typeof P?P:null!=P.status?P.status.toString():P.stack?P.stack.toString():P.message?P.message.toString():"Unknown reason":"No reason given"}function d(P,T,x,R,D){var L=(0,o.pd)(P,T.packageType,T.packageName);if(!L){s.f.error("Missing resource package ".concat(T.packageType),!0);var F=void 0;if(2===T.packageType&&D&&null!=(F=D.itemTypeFromReference)){var A=(0,o.np)(T.itemName,F);return x.loadSharedResource(A,F).catch(function(O){s.f.error("Error loading shared resource from app ".concat(A," ").concat(V(O)),!1)})}return R.resolve()}return S(L,T.itemName,x,R,D)}function S(P,T,x,R,D){var L=D&&D.usePersistableFormat,F=D&&D.itemTypeFromReference;if(c.fF.assertValue(P,"resource package should exist"),!P)return R.reject(new Error("loadAndResolveContent: no package"));var O,A=(0,o.NW)(P,T);if(!A&&2===P.type&&F&&P&&F&&(A=(0,o.x_)(T,F),P.items.push(A)),c.fF.assertValue(A&&A.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!A||!A.path)return s.f.error("Missing resource item or path !resourcePackageItem=".concat(!A,", resourcePackageItem.path=").concat(A&&A.path),!0),R.resolve();O=2===P.type?A.content?R.resolve(A.content):A.promise?A.promise:A.promise=x.loadSharedResource(A.path,A.type).finally(function(){delete A.promise}).then(function(w){return w instanceof Blob?A.contentBlob=w:(_.isString(w)||(w=JSON.stringify(w)),A.content=w)},function(w){throw s.f.error("Error loading shared resource from app ".concat(A.path," ").concat(V(w)),!1),w}):x.loadResourcePackageItem(P,T);var N=R.defer();return O.then(function(){(function(P,T,x,R,D){var L=null;if(T){var F=D===p.Ut.ShapeMap||T.type===p.Ut.ShapeMap,A=T.type===p.Ut.BaseTheme||T.type===p.Ut.CustomTheme||T.type===p.Ut.HighContrastTheme,O=3===P.type||0===P.type,N=T.content;if(N)F&&(0,f.pU)(N)&&(N=(0,f.Fj)((0,f.DJ)(N))),L=N;else if(T.contentBlob){if(2===P.type&&T.type===p.Ut.Image||R||F||O||A){var w=x.defer();return(F||O||A?l:n)(T.contentBlob,x).then(function(B){return w.resolve(B)},function(B){return w.resolve(null)}),w.promise}T.contentBlobUrl||(T.contentBlobUrl=window.URL.createObjectURL(T.contentBlob)),L=T.contentBlobUrl}}return x.resolve(L)})(P,A,R,L,F).then(function(w){return N.resolve(w)})}).catch(function(w){return N.reject(w)}),N.promise}function g(P,T,x,R){if(x){var D=(0,o.pd)(x,1);return D?T.loadResourcePackageItem(D,R):P.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return P.reject(new Error("loadRegisteredResource: no packages"))}function y(P,T,x,R){return g(P,T,x,R).then(function(L){return c.fF.assert(function(){return L instanceof Blob||null==L||"string"==typeof L},"resource item content expected to be Blob or string"),L instanceof Blob?n(L,P):("string"==typeof L&&!(0,f.pU)(L)&&(L=(0,f.wo)(L)),L)})}function C(P,T,x,R){return g(P,T,x,R).then(function(L){return c.fF.assert(function(){return L instanceof Blob||null==L||"string"==typeof L},"resource item content expected to be Blob or string"),L instanceof Blob?l(L,P):L}).then(function(L){try{"string"==typeof L&&(0,f.pU)(L)&&(L=(0,f.Fj)((0,f.DJ)(L)))}catch(F){throw s.f.error("Error decoding registeredResource: ".concat(JSON.stringify(F)),!!F.stack),F}return L})}function M(P,T,x){c.fF.assertValue(P,"definitions");var R=[];return(0,v.Vj)({definitions:P,descriptors:T,visitor:function(L,F,A,O,N){var w=O&&O.geoJson&&1===N.length&&"content"===N[0];if(w){var I=F;if(17===I.type.kind&&17===I.name.kind&&17===I.content.kind&&I.type.value===h.c1){var j=I.name.value;"string"==typeof j&&null==I.content.value&&(x&&x(j,p.Ut.ShapeMap),L=(0,b.nF)((0,o.RJ)(2),2,j),I.content=L)}}if(L instanceof b.nd){var U={getRefValue:function(){return F[A]},setRefValue:function(Q){F[A]=Q}};w&&(U.itemType=p.Ut.ShapeMap),R.push(U)}}}),R}},926201:function(Je,H,t){t.d(H,{EK:function(){return u},In:function(){return p},JZ:function(){return m},Jp:function(){return h},NM:function(){return n},NW:function(){return o},RJ:function(){return a},Yu:function(){return r},np:function(){return v},pd:function(){return l},wq:function(){return i},x_:function(){return b}});var e=t(787941),c=t(587318),s=t(138363),f={};function v(d,S){return f[S](d)}function b(d,S,g){return{type:S,path:v(d,S),name:d,content:g}}function h(d){return _.keyBy(_.filter(d,function(S){return p(S)}),function(S){return S.name})}function p(d){return e.fF.assertValue(d,"resourcePackage should exist in order to verify if it's a static resource"),e.fF.assertValue(d.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!c.uT[d.type]}function n(d,S,g){e.fF.assert(function(){return _.isArray(d)},"resourcePackages should be an array"),g=a(S,g);var y=l(d,S,g);return y||d.push(y={id:void 0,name:g,type:S,items:[]}),y}function l(d,S,g){return e.fF.assert(function(){return null==d||_.isArray(d)},"Resource packages should be: null, undefined or an array"),g=a(S,g),_.find(d,function(y){return y.type===S&&y.name===g})}function r(d,S,g,y){return o(l(d,S,y),g)}function o(d,S){return e.fF.assertAnyValue(d,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(d&&d.items,function(g){return g.name===S})}function a(d,S){var g=c.xp[d]||S;return e.fF.assertValue(g,"Invalid package name for resource package"),g}function i(d,S){e.fF.assert(function(){return p(d)},"mergeStaticResourcePackages - package1 should be a static resource."),e.fF.assert(function(){return p(S)},"mergeStaticResourcePackages - package2 should be a static resource."),e.fF.assert(function(){return d.type===S.type},"In order to merge resource packages, their types should be equal"),e.fF.assert(function(){return d.name===S.name},"In order to merge resource packages, their names should be equal"),null==d.id&&null!=S.id&&(d.id=S.id);for(var g=0,y=S.items;g<y.length;g++){var C=y[g],E=o(d,C.name);E?V(E,C):d.items.push(C)}}function m(d){return d&&(0===d.type||3===d.type)}function u(d){return _.chain(d).filter(function(S){return m(S)}).map(function(S){return S.name}).uniq().value()}function V(d,S){e.fF.assert(function(){return d.name===S.name},"In order to merge resource package items, their names should be equal"),e.fF.assertAnyValue(d.path===S.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),e.fF.assert(function(){return d.type===S.type},"In order to merge resource package items, their types should be equal"),null==d.id&&null!=S.id&&(d.id=S.id),!d.content&&S.content&&(d.content=S.content),!d.contentBlob&&S.contentBlob&&(d.contentBlob=S.contentBlob),!d.contentBlobUrl&&S.contentBlobUrl&&(d.contentBlobUrl=S.contentBlobUrl),!d.content&&!d.contentBlob&&!d.promise&&S.promise&&(d.promise=S.promise),e.fF.assert(function(){return!d.content||!d.contentBlob},"A resource package item can't have content and contentBlob at the same time.")}f[s.Ut.BaseTheme]=function(d){return"BaseThemes/".concat(d,".json")},f[s.Ut.CustomTheme]=function(d){return"BuiltInThemes/".concat(d,".json")},f[s.Ut.HighContrastTheme]=function(d){return"HighContrastThemes/".concat(d,".json")},f[s.Ut.Image]=function(d){return"Images/".concat(d)},f[s.Ut.ShapeMap]=function(d){return"Shapemaps/".concat(d,".json")}},792419:function(Je,H,t){t.d(H,{td:function(){return pr},Vh:function(){return ti},nm:function(){return kr},HB:function(){return _r},lm:function(){return Br}});var e=t(226514),c=t(145315);function s(Qt){var Me=Qt.type||c.EP.Data;return Me&c.EP.Resize&&2===Qt.resizeMode&&(Me|=c.EP.ResizeEnd),Me}var b={version:"1.0.0",overloads:function(Me,Ct){return{update:function(st){Me.update&&Me.update({viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:s(st)})},destroy:function(){Me.destroy&&Me.destroy()},enumerateObjectInstances:function(st){return Me.enumerateObjectInstances&&Me.enumerateObjectInstances(st)||[]}}},hostAdapter:function(Me){return{}}},h=t(433992),p=t(161414);function n(Qt,Me){for(var Ct,Bt=Me.split(".");Ct=Bt.shift();){if(!Qt||null==Qt[Ct])return!1;Qt=Qt[Ct]}return!0}var l=t(398155),a={version:"1.1.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:s(st)},Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colors:n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors()}}},i=t(405416),V={version:"1.2.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:s(st)};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)}}}},d=t(233445),g={version:"1.3.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host})}}},C={version:"1.4.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),locale:Me.host.locale()}}},M={version:"1.5.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive}}},x={version:"1.6.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,type:s(st)};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive}}},R=t(220111),L={version:"1.7.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt){if(st){var Yt=[];Yt.push(st),Me.host.applyJsonFilter(Yt,Lt,Vt)}else Me.host.applyJsonFilter(null,Lt,Vt)}}}},A={version:"1.8.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()}}}};function O(Qt){return new N(Qt)}var N=function(){function Qt(Me){this.hostServices=Me.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}return Qt.prototype.getResourceUrl=function(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()},Qt.prototype.getAADAuthenticationToken=function(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()},Qt.prototype.getAADToken=function(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()},Qt.prototype.getWACToken=function(Me,Ct){return this.authenticationService?this.authenticationService.getWACToken(Me,Ct):this.promiseFactory.reject()},Qt.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},Qt.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},Qt}(),I={version:"1.9.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()}}}},B=function(){function Qt(Me){this.localizationResources=Me}return Qt.prototype.getDisplayName=function(Me){var Ct=this.localizationResources;return Ct&&Ct.localizedStrings&&Ct.localizedStrings.hasOwnProperty(Me)?Ct.localizedStrings[Me]:Ct&&Ct.enUSStrings&&Ct.enUSStrings.hasOwnProperty(Me)?Ct.enUSStrings[Me]:Me},Qt}(),W={version:"1.10.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return new l.Z({hostServices:Me.host})},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)}}}},k={version:"1.11.0",hostAdapter:function(Me){var Ct=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){var st=Me.host;return st.selectionManager=new l.Z({hostServices:st}),st.selectionManager},colorPalette:(0,i.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)}}}},ee={version:"1.12.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,type:s(st)};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=Me.host,Bt=n(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return Ct.selectionManager=new l.Z({hostServices:Ct}),Ct.selectionManager},colorPalette:(0,i.D)(Bt),persistProperties:function(Lt){return Me.host.persistProperties(Lt)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(Lt,Vt,Yt,or){if(Lt){var Tr=[];Tr.push(Lt),Me.host.applyJsonFilter(Tr,Vt,Yt,or)}else Me.host.applyJsonFilter(null,Vt,Yt,or)},launchUrl:function(Lt){return Me.host.launchUrl(Lt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},re={version:"1.13.0",hostAdapter:function(Me){var Ct=Me.host;return{createSelectionIdBuilder:function(){return new p.dw},createSelectionManager:function(){return Ct.selectionManager=new l.Z({hostServices:Ct}),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},G=t(336667),ne="2.0.0",oe={version:ne,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=ne,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=new l.Z({hostServices:Ct,apiVersion:ne}),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,d.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},Ve="2.1.0",He={version:Ve,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,type:s(st),jsonFilters:st.jsonFilters};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Ve,{createSelectionIdBuilder:function(){return Ct.createSelectionIdBuilder()},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Ve),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},Ce="2.2.0",pe={version:Ce,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Ce,{createSelectionIdBuilder:function(){return Ct.createSelectionIdBuilder()},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Ce),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st){var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}};function le(Qt){return new me(Qt)}var me=function(){function Qt(Me){this.eventService=Me&&Me.eventService&&Me.eventService()}return Qt.prototype.renderingStarted=function(Me){this.eventService&&this.eventService.renderingStarted(Me)},Qt.prototype.renderingFinished=function(Me){this.eventService&&this.eventService.renderingFinished(Me)},Qt.prototype.renderingFailed=function(Me,Ct){this.eventService&&this.eventService.renderingFailed(Me,Ct)},Qt}();function be(Qt){return new Be(Qt)}var Be=function(){function Qt(Me){this.storageService=Me&&Me.localStorageService&&Me.localStorageService(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.status=function(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(2)},Qt.prototype.get=function(Me){return null!=this.storageService&&Me?this.storageService.getStorageData(Me):this.promiseFactory.reject()},Qt.prototype.set=function(Me,Ct){return null!=this.storageService&&Me&&Ct?this.storageService.setStorageData(Me,Ct):this.promiseFactory.reject()},Qt.prototype.remove=function(Me){null!=this.storageService&&Me&&this.storageService.removeStorageData(Me)},Qt}(),Se="2.3.0",ve={version:Se,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,jsonFilters:st.jsonFilters,type:s(st),updateId:st.updateId};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Se,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Se),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct)}}},xe="2.4.0",Fe={version:xe,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=xe,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(xe),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct)}}},at="2.5.0",Oe={version:at,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=at,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(at),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct)}}},Ze="2.6.0",Ne={version:Ze,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,isInFocus:!!st.isInFocus,operationKind:st.operationKind,jsonFilters:st.jsonFilters,type:s(st),updateId:st.updateId};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Ze,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Ze),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)}}}},Y="3.2.0",rt={version:Y,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Y,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Y),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},it="3.3.0",De={version:it,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=it,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(it),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},Le="3.4.0",et={version:Le,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Le,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Le),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},he="3.5.0",Re={version:he,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=he,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(he),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},Ge="3.6.0",je={version:Ge,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Ge,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Ge),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},ae="3.7.0",we={version:ae,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=ae,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(ae),Ct.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,Lt,Vt,Yt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,Lt,Vt,Yt);else{var or=[];or.push(st),Me.host.applyJsonFilter(or,Lt,Vt,Yt)}else Me.host.applyJsonFilter(null,Lt,Vt,Yt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:be(Ct),eventService:le(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv,displayWarningIcon:function(st,Lt){return Ct.displayWarningIcon(st,Lt)}}}},ze="3.8.0",ot={version:ze,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=ze,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(ze),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}};function _t(Qt){return new ke(Qt)}var ke=function(){function Qt(Me){this.downloadService=Me&&Me.downloadService&&Me.downloadService(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.exportStatus=function(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(2)},Qt.prototype.exportVisualsContent=function(Me,Ct,Bt,st){return null!=this.downloadService?this.downloadService.exportVisualsContent(Me,Ct,Bt,st).then(function(Lt){return Lt.downloadCompleted}):this.promiseFactory.reject()},Qt.prototype.exportVisualsContentExtended=function(Me,Ct,Bt,st){return null!=this.downloadService?this.downloadService.exportVisualsContent(Me,Ct,Bt,st):this.promiseFactory.reject()},Qt}(),dt="3.9.0",Wt={version:dt,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=dt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(dt),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}},Kt="4.0.0",er={version:Kt,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Kt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Kt),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}},ar="4.1.0",gr={version:ar,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=ar,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(ar),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}},mr="4.2.0",Mr={version:mr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=mr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(mr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}},St="4.3.0",rr={version:St,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=St,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(St),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)}}}};function Fr(Qt){return new wr(Qt)}var wr=function(){function Qt(Me){this.licenseManagerService=Me&&Me.licenseManagerService&&Me.licenseManagerService(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.getAvailableServicePlans=function(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()},Qt.prototype.notifyLicenseRequired=function(Me){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Me):this.promiseFactory.reject()},Qt.prototype.notifyFeatureBlocked=function(Me){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Me):this.promiseFactory.reject()},Qt.prototype.clearLicenseNotification=function(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()},Qt}(),Vr="4.4.0",vr={version:Vr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Vr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Vr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st)}}},$r="4.5.0",zr={version:$r,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=$r,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager($r),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st)}}};function Or(Qt){return new ei(Qt)}var ei=function(){function Qt(Me){this.webAccessService=Me&&Me.webAccessService&&Me.webAccessService(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.webAccessStatus=function(Me){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Me):this.promiseFactory.resolve(2)},Qt}(),Xr="4.6.0",Yr={version:Xr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Xr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Xr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st)}}},Hr="4.7.0",ft={version:Hr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Hr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Hr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)}}}},ht="5.0.0",lt={version:ht,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=ht,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(ht),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)}}}},nt="5.1.0",gt={version:nt,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=nt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(nt),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)}}}},At="5.2.0",Ht={version:At,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=At,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(At),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)}}}},nr="5.3.0",dr={version:nr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=nr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(nr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)}}}},fr="5.4.0",yr={version:fr,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=fr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(fr),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)}}}};function Rr(Qt){return new Mt(Qt)}var Mt=function(){function Qt(Me){this.storageV2Service=Me&&Me.localStorageV2Service&&Me.localStorageV2Service(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.status=function(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(2)},Qt.prototype.get=function(Me){return null!=this.storageV2Service&&Me?this.storageV2Service.getStorageData(Me):this.promiseFactory.reject()},Qt.prototype.set=function(Me,Ct){return null!=this.storageV2Service&&Me&&Ct?this.storageV2Service.setStorageData(Me,Ct):this.promiseFactory.reject()},Qt.prototype.remove=function(Me){null!=this.storageV2Service&&Me&&this.storageV2Service.removeStorageData(Me)},Qt}(),pt="5.5.0",Z={version:pt,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=pt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(pt),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)},storageV2Service:Rr(st)}}};function Ye(Qt){return new vt(Qt)}var vt=function(){function Qt(Me){this.acquireAADTokenService=Me&&Me.acquireAADTokenService&&Me.acquireAADTokenService(),this.promiseFactory=Me.promiseFactory()}return Qt.prototype.acquireAADToken=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()},Qt.prototype.acquireAADTokenstatus=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(2)},Qt}(),Ft="5.6.0",Cr={version:Ft,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Ft,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Ft),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)},storageV2Service:Rr(st),acquireAADTokenService:Ye(st)}}},Et="5.7.0",Pt={version:Et,hostAdapter:function(Me){var Ct,Bt,st=Me.host;return st.apiVersion=Et,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Et),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)},storageV2Service:Rr(st),acquireAADTokenService:Ye(st),setCanDrill:function(Vt){return st.setCanDrill(Vt)}}}},jt=function(){function Qt(Me){var Ct;this.subSelectionService=null===(Ct=null==Me?void 0:Me.visualHostSubSelectionService)||void 0===Ct?void 0:Ct.call(Me)}return Qt.prototype.subSelect=function(Me){this.subSelectionService&&this.subSelectionService.subSelect(Me)},Qt.prototype.updateRegionOutlines=function(Me){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(Me)},Qt}(),Xt="5.8.0",bt=[b,a,V,g,C,M,x,L,A,I,W,k,ee,re,oe,He,pe,ve,Fe,Oe,Ne,rt,De,et,Re,je,we,ot,Wt,er,gr,Mr,rr,vr,zr,Yr,ft,lt,gt,Ht,dr,yr,Z,Cr,Pt,{version:Xt,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var Lt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,isInFocus:!!st.isInFocus,operationKind:st.operationKind,jsonFilters:st.jsonFilters,type:s(st),updateId:st.updateId,subSelections:st.subSelections,formatMode:st.formatMode};Ct.colorPalette.reset();var Vt=Me.constructor.__transform__;_.isFunction(Vt)?Me.update(Lt,Vt(Lt.dataViews)):Me.update(Lt)}},getSubSelectionStyles:function(st){if(Me.visualOnObjectFormatting&&_.isFunction(Me.visualOnObjectFormatting.getSubSelectionStyles))return Me.visualOnObjectFormatting.getSubSelectionStyles(st)},getSubSelectionShortcuts:function(st,Lt){if(Me.visualOnObjectFormatting&&_.isFunction(Me.visualOnObjectFormatting.getSubSelectionShortcuts))return Me.visualOnObjectFormatting.getSubSelectionShortcuts(st,Lt)},getSubSelectables:function(st){if(Me.visualOnObjectFormatting&&Me.visualOnObjectFormatting.getSubSelectables&&_.isFunction(Me.visualOnObjectFormatting.getSubSelectables))return Me.visualOnObjectFormatting.getSubSelectables(st)}}},hostAdapter:function(Me){var Ct,Bt,Qt,st=Me.host;return st.apiVersion=Xt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Xt),st.selectionManager},colorPalette:(0,i.o)(Me.style),persistProperties:function(Vt){return Me.host.persistProperties(Vt)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(Bt=Me.interactivity)||void 0===Bt||!Bt.allowModalDialog)},applyJsonFilter:function(Vt,Yt,or,Tr){if(Vt)if(Array.isArray(Vt))Me.host.applyJsonFilter(Vt,Yt,or,Tr);else{var Kr=[];Kr.push(Vt),Me.host.applyJsonFilter(Kr,Yt,or,Tr)}else Me.host.applyJsonFilter(null,Yt,or,Tr)},launchUrl:function(Vt){return Me.host.launchUrl(Vt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(Vt){return st.fetchMoreData(Vt)},storageService:be(st),downloadService:_t(st),eventService:le(st),switchFocusModeState:function(Vt){return st.switchFocusModeState(Vt)},hostEnv:Me.hostEnv,openModalDialog:function(Vt,Yt,or){return st.openModalDialog(Vt,Yt,or)},displayWarningIcon:function(Vt,Yt){return st.displayWarningIcon(Vt,Yt)},licenseManager:Fr(st),webAccessService:Or(st),drill:function(Vt){return st.drill(Vt)},applyCustomSort:function(Vt){return st.applyCustomSort(Vt)},storageV2Service:Rr(st),acquireAADTokenService:Ye(st),setCanDrill:function(Vt){return st.setCanDrill(Vt)},subSelectionService:(Qt=st,new jt(Qt))}}}],Dt=t(787941),Rt=t(299747),It=t(477898),Ut=t(144900),$t=function(){function Qt(Me,Ct){var Bt=this;this.wrappedVisual=Me,this.run=Ct,Dt.fF.assertValue(Ct,"run must be defined in VisualOutsideZoneAdapter"),Me.update&&(this.update=function(st){return Bt.apply(Bt.wrappedVisual.update,st)}),Me.onResizing&&(this.onResizing=function(st,Lt){Bt.apply(Bt.wrappedVisual.onResizing,st,Lt)}),Me.onDataChanged&&(this.onDataChanged=function(st){Bt.apply(Bt.wrappedVisual.onDataChanged,st)}),Me.onSelectionStateChanged&&(this.onSelectionStateChanged=function(st){Bt.apply(function(){return Bt.wrappedVisual.onSelectionStateChanged(st)})})}return Qt.prototype.init=function(Me){return this.apply(this.wrappedVisual.init,Me)},Qt.prototype.destroy=function(){this.apply(this.wrappedVisual.destroy)},Qt.prototype.onViewModeChanged=function(Me){this.apply(this.wrappedVisual.onViewModeChanged,Me)},Qt.prototype.onClearSelection=function(){this.apply(this.wrappedVisual.onClearSelection)},Qt.prototype.onRestoreSelection=function(Me){return this.apply(this.wrappedVisual.onRestoreSelection,Me)},Qt.prototype.canResizeTo=function(Me){return this.apply(this.wrappedVisual.canResizeTo,Me)},Qt.prototype.enumerateObjectInstances=function(Me){return this.apply(this.wrappedVisual.enumerateObjectInstances,Me)},Qt.prototype.enumerateObjectInstancesAsync=function(Me){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Me)},Qt.prototype.enumerateObjectRepetition=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)},Qt.prototype.enumerateObjectRepetitionAsync=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)},Qt.prototype.visualHasMethod=function(Me){return this.apply(this.wrappedVisual.visualHasMethod,Me)},Qt.prototype.unwrap=function(){var Me=this.wrappedVisual;return Me.unwrap?Me.unwrap():Me},Object.defineProperty(Qt.prototype,"sandbox",{get:function(){var Ct;return null===(Ct=this.wrappedVisual)||void 0===Ct?void 0:Ct.sandbox},enumerable:!1,configurable:!0}),Qt.prototype.getTelemetryInformation=function(){return this.apply(this.wrappedVisual.getTelemetryInformation)},Qt.prototype.getFormattingModel=function(){return this.apply(this.wrappedVisual.getFormattingModel)},Qt.prototype.getFormattingModelAsync=function(){return this.apply(this.wrappedVisual.getFormattingModelAsync)},Qt.prototype.resolveFormattingPlaceholder=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.resolveFormattingPlaceholder(Me)})},Qt.prototype.getSubSelectionStyles=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectionStyles(Me)})},Qt.prototype.getSubSelectionShortcuts=function(Me,Ct){var Bt=this;return this.run(function(){return Bt.wrappedVisual.getSubSelectionShortcuts(Me,Ct)})},Qt.prototype.getSubSelectables=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectables(Me)})},Qt.prototype.getNextSubSelectable=function(Me,Ct){var Bt=this;return this.run(function(){return Bt.wrappedVisual.getNextSubSelectable(Me,Ct)})},Qt.prototype.getSubSelectionStylesAsync=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectionStylesAsync(Me)})},Qt.prototype.getSubSelectionShortcutsAsync=function(Me,Ct){var Bt=this;return this.run(function(){return Bt.wrappedVisual.getSubSelectionShortcutsAsync(Me,Ct)})},Qt.prototype.getSubSelectablesAsync=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectablesAsync(Me)})},Qt.prototype.onDataViewObjectChanged=function(Me,Ct){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Me,Ct)},Qt.prototype.apply=function(Me){for(var Ct=[],Bt=1;Bt<arguments.length;Bt++)Ct[Bt-1]=arguments[Bt];var st=this.wrappedVisual;return this.run(function(){return Me.apply(st,Ct)})},Qt}(),Ot=t(810702),tr=function(){function Qt(Me){var Ct=this;this.wrappedVisual=Me,Me.update&&(this.update=function(Bt){return Ct.trackVisualTime(function(){return Ct.wrappedVisual.update(Bt)},function(){return Bt&&Bt.parentContextActivity?Bt.parentContextActivity.createChildActivity({name:"Visual Update"}):void 0})}),Me.onResizing&&(this.onResizing=function(Bt,st){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onResizing(Bt,st)})}),Me.onDataChanged&&(this.onDataChanged=function(Bt){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onDataChanged(Bt)})}),Me.onSelectionStateChanged&&(this.onSelectionStateChanged=function(Bt){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onSelectionStateChanged(Bt)})})}return Qt.prototype.init=function(Me){var Ct=this;if(this.wrappedVisual.init)return this.trackVisualTime(function(){return Ct.wrappedVisual.init(Me)})},Qt.prototype.destroy=function(){var Me=this;this.wrappedVisual.destroy&&this.trackVisualTime(function(){return Me.wrappedVisual.destroy()})},Qt.prototype.onViewModeChanged=function(Me){var Ct=this;this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(function(){return Ct.wrappedVisual.onViewModeChanged(Me)})},Qt.prototype.onClearSelection=function(){var Me=this;this.wrappedVisual.onClearSelection&&this.trackVisualTime(function(){return Me.wrappedVisual.onClearSelection()})},Qt.prototype.onRestoreSelection=function(Me){var Ct=this;return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(function(){return Ct.wrappedVisual.onRestoreSelection(Me)})},Qt.prototype.canResizeTo=function(Me){var Ct=this;if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(function(){return Ct.wrappedVisual.canResizeTo(Me)})},Qt.prototype.enumerateObjectInstances=function(Me){var Ct=this;if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(function(){return Ct.wrappedVisual.enumerateObjectInstances(Me)})},Qt.prototype.enumerateObjectRepetition=function(){var Me=this;if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(function(){return Me.wrappedVisual.enumerateObjectRepetition()})},Qt.prototype.enumerateObjectInstancesAsync=function(Me){var Ct=this;return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(function(){return Ct.visualAdapter.enumerateObjectInstancesAsync(Me)}):Ut.J.resolve(this.enumerateObjectInstances(Me))},Qt.prototype.enumerateObjectRepetitionAsync=function(){var Me=this;return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(function(){return Me.visualAdapter.enumerateObjectRepetitionAsync()}):Ut.J.resolve(this.enumerateObjectRepetition())},Object.defineProperty(Qt.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),Qt.prototype.unwrap=function(){var Me=this.wrappedVisual;return Me.unwrap?Me.unwrap():Me},Qt.prototype.visualHasMethod=function(Me){var Ct=this.wrappedVisual;return Ct&&Ct.visualHasMethod(Me)},Qt.prototype.getTelemetryInformation=function(){var Me=this;if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(function(){return Me.wrappedVisual.getTelemetryInformation()})},Qt.prototype.getFormattingModel=function(){var Me=this;if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(function(){return Me.wrappedVisual.getFormattingModel()})},Qt.prototype.getFormattingModelAsync=function(){var Me=this;return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(function(){return Me.visualAdapter.getFormattingModelAsync()}):Ut.J.resolve(this.getFormattingModel())},Qt.prototype.resolveFormattingPlaceholder=function(Me){var Ct=this;if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(function(){return Ct.wrappedVisual.resolveFormattingPlaceholder(Me)})},Qt.prototype.getSubSelectionStyles=function(Me){var Ct=this;if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectionStyles(Me)})},Qt.prototype.getSubSelectionShortcuts=function(Me,Ct){var Bt=this;if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(function(){return Bt.wrappedVisual.getSubSelectionShortcuts(Me,Ct)})},Qt.prototype.getSubSelectables=function(Me){var Ct=this;if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectables(Me)})},Qt.prototype.getNextSubSelectable=function(Me,Ct){var Bt=this;if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(function(){return Bt.wrappedVisual.getNextSubSelectable(Me,Ct)})},Qt.prototype.getSubSelectionStylesAsync=function(Me){var Ct=this;return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectionStylesAsync(Me)}):Ut.J.resolve(this.getSubSelectionStyles(Me))},Qt.prototype.getSubSelectionShortcutsAsync=function(Me,Ct){var Bt=this;return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(function(){return Bt.wrappedVisual.getSubSelectionShortcutsAsync(Me,Ct)}):Ut.J.resolve(this.getSubSelectionShortcuts(Me))},Qt.prototype.getSubSelectablesAsync=function(Me){var Ct=this;return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectablesAsync(Me)}):Ut.J.resolve(this.getSubSelectables(Me))},Qt.prototype.onDataViewObjectChanged=function(Me,Ct){var Bt=this;if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(function(){return Bt.wrappedVisual.onDataViewObjectChanged(Me,Ct)})},Qt.prototype.trackVisualTime=function(Me,Ct){var Bt=Ct&&Ct();try{return Me()}finally{Bt&&Bt.resolve()}},Qt}(),cr=[];function pr(){return function(Qt,Me,Ct){Object.defineProperty(Ct.value,"approvedMessage",{value:!0})}}function _r(){return cr}function Br(Qt,Me){return Qt&&(Qt=new tr(Qt),Me&&(Qt=new $t(Qt,Me))),Qt}function kr(Qt,Me,Ct,Bt,st,Lt,Vt){var Yt=new ti(Qt,Me,Ct,Bt,st,Vt),or=Br(Yt,Lt);return new Ot.a(or,Qt,Ct,Bt,Yt.isPluginInError,Vt)}bt.forEach(function(Qt){return function(Qt){_r().push(Qt)}(Qt)});var ti=function(){function Qt(Ct,Bt,st,Lt,Vt,Yt){this.plugin=Ct,this.creator=Bt,this.promiseFactory=st,this.telemetryService=Lt,this.module=Vt,this.certifiedEventsService=Yt,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,Dt.fF.assertValue(Ct,"plugin"),Dt.fF.assertValue(Bt||this.plugin.createES6,"creator"),Dt.fF.assertValue(st,"promiseFactory"),Dt.fF.assertAnyValue(this.telemetryService,"telemetryService"),Dt.fF.assertAnyValue(Vt,"module"),Dt.fF.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var or=Ct.apiVersion,Tr=this.getVersionIndex(or);or?Tr>-1?(this.apiVersionIndex=Tr,this.legacy=!1):(Dt.fF.assertFail("The API version '"+or+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}var Me;return Qt.prototype.init=function(Ct){return(0,e.__awaiter)(this,void 0,Ut.J,function(){return(0,e.__generator)(this,function(Bt){return this.initializedPromise=this.initImpl(Ct),[2,this.initializedPromise]})})},Qt.prototype.initImpl=function(Ct){return(0,e.__awaiter)(this,void 0,Ut.J,function(){var Bt,st,Lt,Vt,Yt=this;return(0,e.__generator)(this,function(or){switch(or.label){case 0:return Dt.fF.assert(function(){return!Yt.initialized},"Unexpected `init` after already initialized"),Dt.fF.assertValue(Ct.element,"options.element"),Dt.fF.assertValue(Ct.host,"options.host"),Ct.element.empty(),Ct=(0,Rt.ED)(Ct),this.legacy?(Lt={module:this.module,featureSwitches:Ct.featureSwitches},this.plugin.createES6?(Bt=this,[4,this.plugin.createES6(Lt)]):[3,2]):[3,5];case 1:return Bt.visual=or.sent(),this.destroyed?[2]:[3,3];case 2:this.visual=this.creator(Lt),or.label=3;case 3:return[4,this.visualLegacy.init(Ct)];case 4:return or.sent(),this.destroyed?[2]:[3,9];case 5:return st=this.host=cr[this.apiVersionIndex].hostAdapter(Ct),Lt={element:Ct.element.get(0),host:st,module:this.module,featureSwitches:Ct.featureSwitches},this.plugin.createES6?(Vt=this,[4,this.plugin.createES6(Lt)]):[3,7];case 6:return Vt.visual=or.sent(),this.destroyed?[2]:[3,8];case 7:this.visual=this.creator(Lt),or.label=8;case 8:this.overloadMethods(),or.label=9;case 9:return this.initialized=!0,[2]}})})},Qt.prototype.update=function(Ct){return(0,e.__awaiter)(this,void 0,Ut.J,function(){var Bt,st=this;return(0,e.__generator)(this,function(Lt){switch(Lt.label){case 0:return Dt.fF.assertValue(function(){return st.initialized},"Expected `init` before `update`"),Bt=this.initializedPromise,[4,this.initializedPromise];case 1:return Lt.sent(),Dt.fF.assert(function(){return st.initializedPromise===Bt},"Unexpected re-initialize during update"),this.destroyed||!this.initialized?[2]:(this.plugin.systemVisual||((Ct=(0,Rt.ED)(Ct)).visualDefinitionData=void 0,Ct.dataTransforms=void 0),(Ct.type&c.EP.Resize)===c.EP.Resize&&this.visualHasMethod("onResizing")?this.plugin.custom&&this.visualHasMethod("update")?[4,this.visualLegacy.update(Ct)]:[3,3]:[3,4]);case 2:if(Lt.sent(),this.destroyed)return[2];Lt.label=3;case 3:return this.onResizing(Ct.viewport,Ct.resizeMode),[3,7];case 4:return this.visualHasMethod("update")?[4,this.visualLegacy.update(Ct)]:[3,6];case 5:return Lt.sent(),this.destroyed?[2]:[3,7];case 6:(!Ct.type||Ct.type&c.EP.Data)&&this.onDataChanged(_.pick(Ct,["dataViews","operationKind"])),Ct.type&c.EP.ViewMode&&this.onViewModeChanged(Ct.viewMode),Lt.label=7;case 7:return[2]}})})},Qt.prototype.destroy=function(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0},Qt.prototype.enumerateObjectInstances=function(Ct){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(Ct)},Qt.prototype.enumerateObjectRepetition=function(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()},Qt.prototype.enumerateObjectInstancesAsync=function(Ct){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(Ct):this.promiseFactory.resolve(this.enumerateObjectInstances(Ct))},Qt.prototype.enumerateObjectRepetitionAsync=function(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(Qt.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Qt.prototype.onResizing=function(Ct,Bt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(Ct,Bt)},Qt.prototype.onDataChanged=function(Ct){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(Ct)},Qt.prototype.onViewModeChanged=function(Ct){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(Ct)},Qt.prototype.onSelectionStateChanged=function(Ct){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(Ct)},Qt.prototype.onClearSelection=function(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()},Qt.prototype.onRestoreSelection=function(Ct){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(Ct)},Qt.prototype.canResizeTo=function(Ct){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(Ct)},Qt.prototype.unwrap=function(){return this.visual},Qt.prototype.getTelemetryInformation=function(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()},Qt.prototype.getFormattingModel=function(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()},Qt.prototype.getFormattingModelAsync=function(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},Qt.prototype.resolveFormattingPlaceholder=function(Ct){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(Ct)},Qt.prototype.getSubSelectionStyles=function(Ct){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(Ct)},Qt.prototype.getSubSelectionShortcuts=function(Ct,Bt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(Ct,Bt)},Qt.prototype.getSubSelectables=function(Ct){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(Ct)},Qt.prototype.getNextSubSelectable=function(Ct,Bt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(Ct,Bt)},Qt.prototype.getSubSelectionStylesAsync=function(Ct){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(Ct):this.promiseFactory.resolve(this.getSubSelectionStyles(Ct))},Qt.prototype.getSubSelectionShortcutsAsync=function(Ct,Bt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(Ct,Bt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(Ct,Bt))},Qt.prototype.getSubSelectablesAsync=function(Ct){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(Ct):this.promiseFactory.resolve(this.getSubSelectables(Ct))},Qt.prototype.onDataViewObjectChanged=function(Ct,Bt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(Ct,Bt)},Object.defineProperty(Qt.prototype,"visualNew",{get:function(){if(!this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"visualLegacy",{get:function(){if(this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(Qt.prototype,"visualAdapter",{get:function(){return this.visual},enumerable:!1,configurable:!0}),Qt.prototype.visualHasMethod=function(Ct){var Bt=this.legacy?this.visualLegacy:this.visualNew;return(0,It.Xf)(this.plugin.name)?Bt&&_.isFunction(Bt[Ct])&&Bt.visualHasMethod(Ct):Bt&&_.isFunction(Bt[Ct])},Qt.prototype.getVersionIndex=function(Ct){if(Ct)for(var Bt=_r().length,st=0;st<Bt;st++)if(_r()[st].version===Ct)return st;return-1},Qt.prototype.overloadMethods=function(){var Ct=this.getCompiledOverloads();for(var Bt in Ct)this[Bt]=Ct[Bt]},Qt.prototype.getCompiledOverloads=function(){for(var Ct={},Bt=this.apiVersionIndex,st=this.visualNew,Lt=0;Lt<=Bt;Lt++){var Vt=_r()[Lt].overloads;_.isFunction(Vt)&&_.assign(Ct,Vt(st,this.host))}return Ct},(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"enumerateObjectInstancesAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"enumerateObjectRepetitionAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Number]),(0,e.__metadata)("design:returntype",void 0)],Qt.prototype,"onResizing",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],Qt.prototype,"onDataChanged",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],Qt.prototype,"onViewModeChanged",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],Qt.prototype,"onSelectionStateChanged",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],Qt.prototype,"onClearSelection",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Boolean)],Qt.prototype,"canResizeTo",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getTelemetryInformation",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getFormattingModelAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",["function"==typeof(Me="undefined"!=typeof TFormattingPlaceholder&&TFormattingPlaceholder)?Me:Object]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"resolveFormattingPlaceholder",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getSubSelectionStyles",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Array)],Qt.prototype,"getSubSelectionShortcuts",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Array)],Qt.prototype,"getSubSelectables",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Boolean]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getNextSubSelectable",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getSubSelectionStylesAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getSubSelectionShortcutsAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Object)],Qt.prototype,"getSubSelectablesAsync",null),(0,e.__decorate)([pr(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,Number]),(0,e.__metadata)("design:returntype",Array)],Qt.prototype,"onDataViewObjectChanged",null),Qt}()},497593:function(Je,H,t){t.d(H,{L:function(){return b}});var e=t(145315),c=t(734287),s=t(149362),f=["displayName","description","placeHolderText"],v={get:function(S){return S},getOptional:function(S){return S},format:function(S){return S}};function b(d){d.apiVersion?function(d){!function(d){d&&(function(d){for(var S in d){var g=d[S];if(g){var y=g.properties;if(y)for(var C in y){var E=y[C];if(E){var M=E.type;M&&M.enumeration&&(M.enumeration=(0,s.i)(M.enumeration))}}}}}(d.objects),function(d){for(var S in d){var g=d[S];g&&g.kind&&(g.kind=o(g.kind.toString()))}}(d.dataRoles),function(d){for(var S in d){var g=d[S];if(g){var y=g.conditions;if(y)for(var C in y){var E=y[C];if(E)for(var M in E){var P=E[M];P&&P.kind&&(E[M].kind=o(P.kind.toString()))}}}}}(d.dataViewMappings))}(d.capabilities)}(d):function(d){!function(d){d&&(function(d){for(var S in d){var g=d[S];if(g){var y=(g=d[S]=_.mapValues(g,V)).properties;if(y)for(var C in y){var E=y[C];if(E){var M=(E=y[C]=_.mapValues(E,V)).type;if(M&&M.enumeration&&_.isFunction(M.enumeration.members)){var P=M.enumeration.members().map(function(T){return _.mapValues(T,V)});M.enumeration=(0,s.i)(P)}}}}}}(d.objects),function(d){for(var S in d){var g=d[S];g&&(d[S]=_.mapValues(g,V))}}(d.dataRoles))}(d.capabilities)}(d)}function o(d){switch(d.toLowerCase()){case"grouping":case e.DW.Grouping.toString():return e.DW.Grouping;case"measure":case e.DW.Measure.toString():return e.DW.Measure;case"groupingormeasure":case e.DW.GroupingOrMeasure.toString():return e.DW.GroupingOrMeasure}}function V(d,S){return _.isString(d)||-1===_.indexOf(f,S)?d:(0,c.G)(d,v)}},810702:function(Je,H,t){t.d(H,{H:function(){return n},a:function(){return p}});var e=t(226514),c=t(712174),s=t(509775),f=t(16062),v=t(144900),b=t(826691),h=t(693825),p=function(){function l(r,o,a,i,m,u,V){this.wrappedVisual=r,this.visualPlugin=o,this.promiseFactory=a,this.telemetryService=i,this.isPluginInError=m,this.certifiedEventsService=u,this.silent=V,this.initCalled=!1,this.visualLoadStartTime=(0,f.z)(),this.startTimeISO=(new Date).toISOString()}return l.prototype.init=function(r){var o=this;if(this.initCalled=!0,r&&r.host&&r.host.telemetry){var a=r.host.telemetry();this.visualName=a&&a.visualName,this.instanceId=a&&a.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(function(){return o.wrappedVisual.init(r)})},l.prototype.checkInit=function(){return!!this.initCalled||(b.f.assertFail("Another visual method was called before init"),!1)},l.prototype.destroy=function(){var r=this;this.wrappedVisual.destroy&&this.executeSafely(function(){return r.wrappedVisual.destroy()})},l.prototype.update=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync(function(){return(0,e.__awaiter)(o,void 0,v.J,function(){var a,i,m,u,V,d,S,g,y,C,E;return(0,e.__generator)(this,function(M){switch(M.label){case 0:return[4,this.wrappedVisual.update(r)];case 1:return M.sent(),this.telemetryService&&this.startTimeISO&&this.visualPlugin.custom&&(i=(a=this.visualPlugin).version,m=a.apiVersion,u=(new Date).toISOString(),this.telemetryService.logEvent(s.ZX,{name:this.visualPlugin.name,apiVersion:m,custom:!!this.visualPlugin.custom,visualVersion:i,visualName:this.visualName,instanceId:this.instanceId,start:this.startTimeISO,end:u,isError:this.isPluginInError,errorSource:"User"}),this.startTimeISO=null,this.visualLoadStartTime&&(null===(V=this.certifiedEventsService)||void 0===V||V.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:m&&(null===(d=(0,h.OA)(m))||void 0===d?void 0:d.major),apiMinorVersion:m&&(null===(S=(0,h.OA)(m))||void 0===S?void 0:S.minor),visualMajorVersion:i&&(null===(g=(0,h.OA)(i))||void 0===g?void 0:g.major),visualMinorVersion:i&&(null===(y=(0,h.OA)(i))||void 0===y?void 0:y.minor)},activityName:s.py,correlationId:null===(E=null===(C=this.telemetryService)||void 0===C?void 0:C.root)||void 0===E?void 0:E.id,operationEndTime:(0,f.z)(),operationStartTime:this.visualLoadStartTime,visualId:this.visualPlugin.name}),this.visualLoadStartTime=null)),[2]}})})})},l.prototype.onResizing=function(r,o){var a=this;this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(function(){return a.wrappedVisual.onResizing(r,o)})},l.prototype.onDataChanged=function(r){var o=this;this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(function(){return o.wrappedVisual.onDataChanged(r)})},l.prototype.onViewModeChanged=function(r){var o=this;this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(function(){return o.wrappedVisual.onViewModeChanged(r)})},l.prototype.onSelectionStateChanged=function(r){var o=this;this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(function(){return o.wrappedVisual.onSelectionStateChanged(r)})},l.prototype.onClearSelection=function(){var r=this;this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(function(){return r.wrappedVisual.onClearSelection()})},l.prototype.onRestoreSelection=function(r){var o=this;return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(function(){return o.wrappedVisual.onRestoreSelection(r)})},l.prototype.canResizeTo=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(function(){return o.wrappedVisual.canResizeTo(r)})},l.prototype.enumerateObjectInstances=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(function(){return o.wrappedVisual.enumerateObjectInstances(r)})},l.prototype.enumerateObjectRepetition=function(){var r=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(function(){return r.wrappedVisual.enumerateObjectRepetition()})},l.prototype.enumerateObjectInstancesAsync=function(r){var o=this;return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(function(){return o.visualAdapter.enumerateObjectInstancesAsync(r)}):this.promiseFactory.resolve(this.enumerateObjectInstances(r))},l.prototype.enumerateObjectRepetitionAsync=function(){var r=this;return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(function(){return r.visualAdapter.enumerateObjectRepetitionAsync()}):this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(l.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),l.prototype.unwrap=function(){var r=this.wrappedVisual;return r.unwrap?r.unwrap():r},l.prototype.visualHasMethod=function(r){var o=this.wrappedVisual;return o&&o.visualHasMethod(r)},l.prototype.getTelemetryInformation=function(){var r=this;if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(function(){return r.wrappedVisual.getTelemetryInformation()})},l.prototype.getFormattingModel=function(){var r=this;if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(function(){return r.wrappedVisual.getFormattingModel()})},l.prototype.getFormattingModelAsync=function(){var r=this;return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(function(){return r.visualAdapter.getFormattingModelAsync()}):this.promiseFactory.resolve(this.getFormattingModel())},l.prototype.resolveFormattingPlaceholder=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(function(){return o.wrappedVisual.resolveFormattingPlaceholder(r)})},l.prototype.getSubSelectionStyles=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(function(){return o.wrappedVisual.getSubSelectionStyles(r)})},l.prototype.getSubSelectionShortcuts=function(r,o){var a=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(function(){return a.wrappedVisual.getSubSelectionShortcuts(r,o)})},l.prototype.getSubSelectables=function(r){var o=this;if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(function(){return o.wrappedVisual.getSubSelectables(r)})},l.prototype.getNextSubSelectable=function(r,o){var a=this;if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(function(){return a.wrappedVisual.getNextSubSelectable(r,o)})},l.prototype.getSubSelectionStylesAsync=function(r){var o=this;return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(function(){return o.wrappedVisual.getSubSelectionStylesAsync(r)}):this.promiseFactory.resolve(this.getSubSelectionStyles(r))},l.prototype.getSubSelectionShortcutsAsync=function(r,o){var a=this;return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(function(){return a.wrappedVisual.getSubSelectionShortcutsAsync(r,o)}):this.promiseFactory.resolve(this.getSubSelectionShortcuts(r,o))},l.prototype.getSubSelectablesAsync=function(r){var o=this;return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(function(){return o.wrappedVisual.getSubSelectablesAsync(r)}):this.promiseFactory.resolve(this.getSubSelectables(r))},l.prototype.onDataViewObjectChanged=function(r,o){var a=this;if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(function(){return a.wrappedVisual.onDataViewObjectChanged(r,o)})},l.prototype.executeSafely=function(r){try{return r()}catch(o){this.telemetryService&&this.logVisualExceptionEvent(o)}},l.prototype.executeSafelyAsync=function(r){return(0,e.__awaiter)(this,void 0,v.J,function(){var o;return(0,e.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r()];case 1:return[2,a.sent()];case 2:return o=a.sent(),this.telemetryService&&this.logVisualExceptionEvent(o),[3,3];case 3:return[2]}})})},l.prototype.logVisualExceptionEvent=function(r){n(r,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)},l}();function n(l,r,o,a,i,m){var u,V,d,S,g,y=!(null==r||!r.custom),C=r||{},E=C.version,M=C.apiVersion;i.logEvent(s.Lj,{visualType:r.name,isCustom:y,apiVersion:M,visualName:o,instanceId:a,isDeprecated:!!r.isDeprecated,source:l.fileName,lineNumber:l.lineNumber,columnNumber:l.columnNumber,message:y?void 0:(0,c.CX)(l),stack:y?void 0:(0,c.bL)(l)}),y&&(null==m||m.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:M&&(null===(u=(0,h.OA)(M))||void 0===u?void 0:u.major),apiMinorVersion:M&&(null===(V=(0,h.OA)(M))||void 0===V?void 0:V.minor),visualMajorVersion:E&&(null===(d=(0,h.OA)(E))||void 0===d?void 0:d.major),visualMinorVersion:E&&(null===(S=(0,h.OA)(E))||void 0===S?void 0:S.minor),isDeprecated:!(null==r||!r.isDeprecated)},activityName:s.d3,activityStatus:"Failed",correlationId:null===(g=null==i?void 0:i.root)||void 0===g?void 0:g.id,visualId:null==r?void 0:r.name}))}},405416:function(Je,H,t){t.d(H,{D:function(){return c},o:function(){return s}});var e=t(226514);function c(b){return new f(b)}function s(b){return new v(b)}var f=function(){function b(h){this.colorPalette={},this.colorIndex=0,this.colors=h}return b.prototype.getColor=function(h){var p=this.colorPalette[h];if(p)return p;var n=this.colors;return p=this.colorPalette[h]=n[this.colorIndex++],this.colorIndex>=n.length&&(this.colorIndex=0),p},b.prototype.reset=function(){return this.colorIndex=0,this.colorPalette={},this},b}(),v=function(b){function h(p){var n=this,l=p.colorPalette.dataColors;(n=b.call(this,l.getAllColors())||this).isHighContrast=p.isHighContrast,n.foreground=p.colorPalette.foreground,n.foregroundLight=p.colorPalette.foregroundLight,n.foregroundDark=p.colorPalette.foregroundDark,n.foregroundNeutralLight=p.colorPalette.foregroundNeutralLight,n.foregroundNeutralDark=p.colorPalette.foregroundNeutralDark,n.foregroundNeutralSecondary=p.colorPalette.foregroundNeutralSecondary,n.foregroundNeutralSecondaryAlt=p.colorPalette.foregroundNeutralSecondaryAlt,n.foregroundNeutralSecondaryAlt2=p.colorPalette.foregroundNeutralSecondaryAlt2,n.foregroundNeutralTertiary=p.colorPalette.foregroundNeutralTertiary,n.foregroundNeutralTertiaryAlt=p.colorPalette.foregroundNeutralTertiaryAlt,n.foregroundSelected=p.colorPalette.foregroundSelected,n.foregroundButton=p.colorPalette.foregroundButton,n.background=p.colorPalette.background,n.backgroundLight=p.colorPalette.backgroundLight,n.backgroundNeutral=p.colorPalette.backgroundNeutral,n.backgroundDark=p.colorPalette.backgroundDark,n.hyperlink=p.colorPalette.hyperlink,n.visitedHyperlink=p.colorPalette.visitedHyperlink,n.mapPushpin=p.colorPalette.mapPushpin,n.shapeStroke=p.colorPalette.shapeStroke;var r=l.getSentimentColors();n.bad=r.bad,n.neutral=r.neutral,n.good=r.good;var o=l.getGradientColors();return n.minimum=o.minColor,n.center=o.midColor,n.maximium=o.maxColor,n.null=o.nullColor,n.negative=r.bad,n.positive=r.good,n.selection=p.colorPalette.selection,n.separator=p.colorPalette.separator,n}return(0,e.__extends)(h,b),h}(f)},398155:function(Je,H,t){t.d(H,{Z:function(){return f}});var e=t(336667),c=t(693825),s=t(989516),f=function(){function v(b,h){void 0===h&&(h=!1),this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=b.hostServices,this.apiVersion=b.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=h}return v.prototype.select=function(b,h){void 0===h&&(h=!1);var p=this.promiseFactory.defer();return b?(b instanceof Array||(b=[b]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(b,h):(this.selectInternal(b,h),this.sendSelectionToHost(this.selectedIds,h)),p.resolve(this.selectedIds),p.promise):(p.reject(),p.promise)},v.prototype.showContextMenu=function(b,h,p){var n=this.promiseFactory.defer();return b||(b={}),this.sendContextMenuToHost(b,h,p),n.resolve(null),n.promise},v.prototype.toggleExpandCollapse=function(b,h){var p=this.promiseFactory.defer();return this.sendExpandCollapseToHost(b,!0===h),p.resolve(null),p.promise},v.prototype.hasSelection=function(){return this.selectedIds.length>0},v.prototype.clear=function(){var b=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),b.resolve(null),b.promise},v.prototype.getSelectionIds=function(){return this.selectedIds},v.prototype.setSelectionIds=function(b){this.selectedIds=b},v.prototype.sendSelectionToHost=function(b,h){if(this.noIframe||!this.apiVersion||(0,c.lt)(this.apiVersion,"2.0.0")){var p=this.dataPointObjectName,n={type:0,visualObjects:_.chain(b).filter(function(r){return r.hasIdentity()}).map(function(r){return{objectName:p,selectorsByColumn:r.getSelectorsByColumn()}}).value(),selectors:void 0,selectionMode:h?3:0},l=!1;_.isEmpty(b)||(l=b[0].getSelector()&&!b[0].getSelectorsByColumn()),l&&(n.selectors=_.chain(b).filter(function(r){return r.hasIdentity()}).map(function(r){return r.getSelector()}).value()),this.hostServices.onSelect(n)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(b,h))},v.prototype.sendContextMenuToHost=function(b,h,p){b&&h&&this.hostServices.customVisualOnContextMenu({data:[b],position:h,dataRoles:p?[p]:void 0})},v.prototype.sendExpandCollapseToHost=function(b,h){b&&null!=b.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:b,entireLevel:h})},v.prototype.selectInternal=function(b,h){var p=this;b.length<1||(b.length>1?this.selectedIds=h?b.filter(function(n){return!p.selectedIds.some(function(l){return l.equals(n)})}).concat(this.selectedIds.filter(function(n){return!b.some(function(l){return l.equals(n)})})):b:v.containsSelection(this.selectedIds,b[0])?this.selectedIds=h?this.selectedIds.filter(function(n){return!b[0].equals(n)}):this.selectedIds.length>1?b:[]:h?this.selectedIds.push(b[0]):this.selectedIds=b)},v.containsSelection=function(b,h){return b.some(function(p){return h.equals(p)})},v.getSelectorsByColumn=function(b){return b&&b[0]instanceof e.r?b:_(b).filter(function(h){return h&&h.hasIdentity}).map(function(h){return h.getSelectorsByColumn()}).compact().value()},v.createChangeForFilterProperty=function(b,h){var p={},n={objectName:b.objectName,selector:void 0,properties:p};return null==h?(p[b.propertyName]={},{remove:[n]}):(p[b.propertyName]=h,{merge:[n]})},v.prototype.getFilterFromSelectors=function(){if(this.hasSelection()){var b=_.chain(this.selectedIds).filter(function(h){return h.hasIdentity()}).map(function(h){return h.getSelector()}).value();return(0,s.mV)(b,!1)}},v.prototype.prepareCustomVisualSelectEventArgs=function(b,h){var p={selectionIds:[],multiSelect:h};if(b&&b[0]&&(b[0].dataMap||b[0].measures))for(var n=0,l=b;n<l.length;n++)p.selectionIds.push(l[n]);return p},v.prototype.applySelectionFilter=function(){this.hostServices.persistProperties(v.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))},v.prototype.registerOnSelectCallback=function(b){this.onSelectCallback=b},v.prototype.invokeOnSelectCallback=function(b){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(b)},v}()},220111:function(Je,H,t){t.d(H,{Zm:function(){return c},gU:function(){return v},s$:function(){return f}});var e=t(787941);function c(b){return new s(b)}var s=function(){function b(h){this.hostServices=h.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}return b.prototype.trace=function(h,p){this.telemetryService&&this.telemetryService.trace(h,p)},b}();function f(b){switch(b){case 3:return"VisualEventError";case 2:return"VisualEventTrace";case 0:return"VisualEventRenderStarted";case 1:return"VisualEventRenderCompleted";default:return void e.fF.assertFail("Unknown VisualEventType: "+b)}}function v(b){switch(b){case"VisualEventError":return 3;case"VisualEventTrace":return 2;case"VisualEventRenderStarted":return 0;case"VisualEventRenderCompleted":return 1;default:return void e.fF.assertFail("Unknown VisualEventType: "+b)}}},233445:function(Je,H,t){t.d(H,{r:function(){return c}});var e=t(398155);function c(f){return new s(f)}var s=function(){function f(v){this.hostServices=v.hostServices,this.tooltipService=this.hostServices.tooltips()}return f.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},f.prototype.show=function(v){if(this.enabled()){var b={coordinates:v.coordinates,dataItems:v.dataItems,isTouchEvent:v.isTouchEvent,identities:e.Z.getSelectorsByColumn(v.identities)};this.tooltipService.show(b)}},f.prototype.move=function(v){if(this.enabled()){var b={coordinates:v.coordinates,dataItems:v.dataItems,isTouchEvent:v.isTouchEvent,identities:e.Z.getSelectorsByColumn(v.identities)};this.tooltipService.move(b)}},f.prototype.hide=function(v){this.enabled()&&this.tooltipService.hide(v)},f}()},880921:function(Je,H,t){t.d(H,{FE:function(){return s},UG:function(){return f},Ug:function(){return b}});var e=t(787941),c=t(989516);function s(h){var n=null!=h.data||null!=h.selectors,l=_.some(h.visualObjects,function(r){return r.selectorsByColumn&&r.selectorsByColumn.metadata&&!_.isArray(r.selectorsByColumn.metadata)});return n||l}function f(h){var p;if(h.data2)p=h.data2;else{if(h.selectors||h.data)return e.fF.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(h.selectors||h.data,function(a){return function(h){if(h){var p={};return p[""]=h.data,{dataMap:p,metadata:[h.metadata]}}}(a)});if(!h.visualObjects)return[];p=_.map(h.visualObjects,function(a){return a.selectorsByColumn})}for(var n=0,l=p;n<l.length;n++){var r=l[n],o=r.metadata;o&&!_.isArray(o)&&(r.metadata=[o])}return p}function b(h){return null!=h.selectors?h.selectors:h.data?h.data:h.visualObjects?_.map(h.visualObjects,function(p){return(0,c.tV)(p.selectorsByColumn)}):h.data}},60082:function(Je,H,t){t.d(H,{LG:function(){return n},dg:function(){return l}});var e=t(787941),c=t(690016),s=t(210107),p=window;function n(a){return r(a,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===p.resourceLoaderIncludePackageId)}function l(a){var i=a.getAbsoluteUri("/sharedresources");return r(a,i,!1)}function r(a,i,m){return e.fF.assertValue(a,"httpService"),e.fF.assertValue(i,"uri"),e.fF.assertValue(m,"includePackageIdInUri"),new o(a,i,m)}var o=function(){function a(i,m,u){this.httpService=i,this.uri=m,this.includePackageIdInUri=u}return a.prototype.get=function(i,m,u,V){var d=this.uri;this.includePackageIdInUri&&(d=this.uri+i+"/");var S=c.b$.urlCombine(d,_.map(u.split("/"),function(y){return encodeURIComponent(y)}).join("/")),g=this.httpService.powerbiRequestOptions();return g.timeout=s.JZ,g.responseType="text",V&&null!=V.retries&&(g.retryCount=V.retries),this.httpService.get(S,g).then(function(y){return y.data})},a.prototype.getBlob=function(i,m,u,V){var d=this.uri;this.includePackageIdInUri&&(d=this.uri+i+"/");var S=c.b$.urlCombine(d,encodeURIComponent(u)),g=this.httpService.powerbiRequestOptions();return g.responseType=c.t6,V&&null!=V.retries&&(g.retryCount=V.retries),this.httpService.get(S,g).then(function(y){return y.data})},a}()},413064:function(Je,H,t){t.d(H,{C:function(){return l}});var e=t(226514),c=t(509775),s=t(787941),f=t(144900),v=t(661885),b=t(220111),h=t(792419),p=t(327011);function l(a,i,m,u,V,d,S,g,y){return s.fF.assertValue(a,"messageProxy"),new o(a,i,m,u,V,d,S,g,y)}var o=function(){function a(i,m,u,V,d,S,g,y,C){void 0===C&&(C=15e3);var E=this;this.messageProxy=i,this.telemetryService=m,this.certifiedEventsService=u,this.approvedResourcesService=V,this.featureSwitchService=d,this.isDebugVisual=S,this.promiseFactory=g,this.privilegeService=y,this.updateTimeOut=C,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,s.fF.assertValue(i,"messageProxy"),this.deferredCache={},this.messageProxy.on(v.et,function(M){return E.onMessageReceived(M)}),this.messageProxy.on(v.zM,function(M){return E.onMessageError(M)})}return Object.defineProperty(a.prototype,"plugin",{get:function(){return this._plugin},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDebug",{get:function(){return this.isDebugVisual},enumerable:!1,configurable:!0}),a.prototype.init=function(i,m){this.visualDelegate=i,m&&(this._plugin=m,this.isSandboxReady=!0)},a.prototype.setPluginReadyHandler=function(i){this.pluginReadyHandler=i},a.prototype.logEvent=function(){for(var i=[],m=0;m<arguments.length;m++)i[m]=arguments[m];if(!this.telemetryService)return null;var V,u=i.shift();return V="string"==typeof u?this.getEventFactory(u):u,this.telemetryService.logEvent.apply(this.telemetryService,(0,e.__spreadArray)([V],i,!0))},a.prototype.logStandardizedFeatureEvent=function(i){var m;i.correlationId=null===(m=this.telemetryService.root)||void 0===m?void 0:m.id,this.certifiedEventsService.logStandardizedFeatureEvent(i)},a.prototype.logTimedStandardizedFeatureEvent=function(i){var m;i.correlationId=null===(m=this.telemetryService.root)||void 0===m?void 0:m.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(i)},a.prototype.getEventFactory=function(i){switch(i){case"VisualEventError":return p.aW;case"VisualEventTrace":return p.qz;case"VisualException":return c.Lj;case"VisualEventRenderStarted":return p.JT;case"VisualEventRenderCompleted":return p.GL;case"VisualApiUsage":return c.ZX;default:return void s.fF.assertFail("Unknown eventType: "+i)}},a.prototype.logVisualEvent=function(){for(var i=[],m=0;m<arguments.length;m++)i[m]=arguments[m];var u=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(u)||this.approvedResourcesService.isTrustedResource(u))){var V=i,d=V[0],S=V[1],g=V[2],y={visualType:u,instanceId:S instanceof Object?S.instanceId:S};g=S instanceof Object?S.payload:g;var C=(0,b.gU)(d);switch(C){case 0:case 1:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;g="";break;case 2:case 3:var E=this.approvedResourcesService.getTelemetryUsageLimit(u);if(this.telemetryUsageCount>=E)return;this.telemetryUsageCount++,this.telemetryUsageCount===E&&this.telemetryService.logEvent(p.Hv,y),g=g?g.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void s.fF.assertFail("Invalid visual event type: "+C)}return this.logEvent.apply(this,[d,(0,e.__assign)((0,e.__assign)({},y),{payload:g})])}},a.prototype.ready=function(i){s.fF.assertValue(i,"proxyInitOptions"),this.contentWindow=i,this.messageProxy.contentWindow=i,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0},a.prototype.update=function(i){var m=this;if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&i.updateId){var V=this.promiseFactory.defer();this.deferredCache[i.updateId]=V;var d=setTimeout(function(){V.resolve(null),m.telemetryService.logEvent(p.Tk,{visualType:m.plugin.name,timeOut:m.updateTimeOut,parentId:m.telemetryService.root.id})},this.updateTimeOut);i.updateCallBack=function(){return V.resolve(null)};var S=this.invoke("update",[i]);return S&&S.catch(function(g){return V.reject(g)}),V.promise.catch(function(g){return g}).finally(function(){clearTimeout(d),i.updateId&&delete m.deferredCache[i.updateId]}),V.promise}return this.invoke("update",[i]),f.J.resolve(void 0)},a.prototype.invoke=function(i,m){if(s.fF.assertValue(i,"eventName"),this.isSandboxReady)return this.execute(i,m);this.methodQueue.push({methodName:i,arguments:m})},a.prototype.postMessage=function(i,m){this.messageProxy.postMessage({eventName:i,arguments:m})},a.prototype.postMessageAsync=function(i,m){return this.messageProxy.postMessageAsync({eventName:i,arguments:m})},a.prototype.onPluginReady=function(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)},a.prototype.destroy=function(){this.messageProxy.off(v.et),this.messageProxy.off(v.zM),this.messageProxy.destroy(),this.contentWindow=null},a.prototype.execute=function(i,m){if(_.isFunction(this.visualDelegate[i]))return this.visualDelegate[i].apply(this.visualDelegate,m);this.postMessage(i,m)},a.prototype.flushCallStack=function(){for(;this.methodQueue.length>0;){var i=this.methodQueue.shift();this.execute(i.methodName,i.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()},a.prototype.onMessageReceived=function(i){var m=this;if(this.validateMessageSource(i)){var u=function(){m.telemetryService.logEvent(p.rZ,{visualType:m._plugin.name,environment:m.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:i.message.eventName})},V=this[i.message.eventName];if("function"==typeof V)return V.approvedMessage?V.apply(this,i.message.arguments):u();if(this.visualDelegate)return"function"==typeof(V=this.visualDelegate[i.message.eventName])&&V.approvedMessage?V.apply(this.visualDelegate,i.message.arguments):u()}},a.prototype.onMessageError=function(i){this.validateMessageSource(i)&&i.message&&i.message.error&&!_.isEqual(i.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(c.Fd,{visualName:this._plugin.name,debugErrorInfo:i.message.error.eventName+";"+i.message.error.message}),this.lastErrorMessage=_.cloneDeep(i.message))},a.prototype.refreshHostData=function(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()},a.prototype.getResourceUrl=function(i){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getResourceUrl(m,i):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:i}])},a.prototype.getAADAuthenticationToken=function(i){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADAuthenticationToken(m,i):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:i}])},a.prototype.getAADToken=function(i){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADToken(m,i):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:i}])},a.prototype.getWACToken=function(i){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(m)?this.visualDelegate.getWACToken(i.resourceSiteUrl,i.resourceEtag,m,i.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:i.promiseId}])},a.prototype.renderingStarted=function(i,m){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(p.hD,{visualType:this.plugin.name,instanceId:i,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})},a.prototype.renderingFinished=function(i,m){if(this.deferredCache[m]&&this.deferredCache[m].resolve(null),void 0!==this.renderEventStartTime){var u=(new Date).toISOString();this.telemetryService.logEvent(p.RP,{visualType:this.plugin.name,instanceId:i,start:this.renderEventStartTime,end:u,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}},a.prototype.renderingFailed=function(i,m,u){this.deferredCache[m]&&this.deferredCache[m].reject(u),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(p.Wv,{visualType:this.plugin.name,instanceId:i,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)},a.prototype.getWebAccessStatus=function(i,m){var u=this.privilegeService.getWebAccessStatus(this.plugin,i);this.postMessage("handleGetWebAccessStatus",[{promiseId:m,status:u}])},a.prototype.validateMessageSource=function(i){return s.fF.assertValue(i,"message"),!!i.source&&!!this.contentWindow&&this.contentWindow===i.source},(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],a.prototype,"logEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"logStandardizedFeatureEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"logTimedStandardizedFeatureEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],a.prototype,"logVisualEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"onPluginReady",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"refreshHostData",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getResourceUrl",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getAADAuthenticationToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getAADToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getWACToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingStarted",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingFinished",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingFailed",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getWebAccessStatus",null),a}()},730244:function(Je,H,t){t.d(H,{s:function(){return s}});var e=t(226514),c=t(144900);function s(){return new f}var f=function(){function v(){this.suppressAnimations=!1}return v.prototype.deferRenderOperation=function(b,h){return(0,e.__awaiter)(this,void 0,c.J,function(){var p;return(0,e.__generator)(this,function(n){return p=$.Deferred(),setTimeout(function(){h(),p.resolve()}),[2,p.promise()]})})},v.prototype.clearOperationsQueue=function(){},v}()},341:function(Je,H,t){t.d(H,{z:function(){return v}});var e=t(235635),c=t(787941),s=t(731479),f=t(792419),v=function(n,l){c.fF.assertValue(n,"options");var r=n.promiseFactory.defer(l),o=n.visualPlugin;if(n.visualSandbox&&function(p){var n=p.visualPlugin,l=p.featureSwitches||{},r=p.approvedResourceService;return!!n&&(!!(p.approvedResourceService&&p.approvedResourceService.isTrustedResource&&p.approvedResourceService.isTrustedResource(n.name))||!(!(0,s.vh)(n)||!l.approvedResourcesDisabled&&!n.apiVersion&&r&&r.isApprovedResource(n.name))&&l.sandboxVisualsEnabled)}(n)){var a=n.visualSandbox.getVisualPlugin(o,n.telemetryService,n.isDebugVisual);a.createES6?a.createES6().then(function(i){return r.resolve(i)}):a.create?r.resolve((0,f.lm)(a.create(),n.run)):r.reject("either create or createES6 must be defined")}else o.module?o.createES6&&!o.module.css?r.resolve((0,f.nm)(o,o.create,n.promiseFactory,n.telemetryService,void 0,n.run,n.certifiedEventsService)):n.moduleLoader.require({javascript:o.createES6?void 0:o.module.javascript,css:o.module.css}).then(function(i){return r.resolve((0,f.nm)(o,o.create,n.promiseFactory,n.telemetryService,i,n.run,n.certifiedEventsService))},function(i){return r.reject(i)}):r.resolve((0,f.nm)(o,o.create,n.promiseFactory,n.telemetryService,void 0,n.run,n.certifiedEventsService));return(0,e.w)(r)}},548048:function(Je,H,t){t.d(H,{f:function(){return s}});var e=t(848625),c=t(135487);function s(v,b,h){return new f(v,b,h)}var f=function(){function v(b,h,p){this.telemetryService=b,this.visualPlugin=h,this.localizationService=p}return v.prototype.logWarnings=function(b,h){if(!_.isEmpty(b))for(var p=0,n=b;p<n.length;p++){var l=n[p];l instanceof e.x&&this.logDsrLimitsWarning(l,h)}},v.prototype.logDsrLimitsWarning=function(b,h){var o,a,i,p=b.limits,n=b.getDetails(this.localizationService).message,l=b.code,r=h.type;p.Primary&&(o=this.getLimitString(b.limits.Primary)),p.Secondary&&(a=this.getLimitString(b.limits.Secondary)),p.Intersection&&(i=this.getLimitString(b.limits.Intersection));var m=h.dataViews,u=h&&h.data&&h.data.isFirstSegment,V=u||_.some(m,function(A){return A&&A.metadata&&A.metadata.segment});if(!V||!1!==u)for(var d=0,S=m;d<S.length;d++){var g=S[d];if(g&&g.categorical){var y=_.head(g.categorical.categories),C=0;y&&(C=y.values&&y.values.length||0);var E=g.categorical.values&&g.categorical.values.grouped(),M=E&&E.length||0,P=!(!g.categorical.values||!g.categorical.values.source),T=this.visualPlugin.capabilities(h.type),x=T&&T.drilldown&&_.head(T.drilldown.roles),R=!1,D=h.dataTransforms;x&&D&&(R=_.filter(D.selects,function(A){return A.roles&&A.roles[x]}).length>1);var L=void 0,F=this.visualPlugin.getPlugin(h.type);F&&F.getAdditionalTelemetry&&(L=JSON.stringify(F.getAdditionalTelemetry(g))),this.telemetryService.logEvent(c.vE,{errorCode:l,targetVisualType:r,primaryDataReduction:o,secondaryDataReduction:a,intersectionDataReduction:i,primaryCount:C,secondaryCount:M,hasCategoryHierarchy:R,hasDynamicSeries:P,visualTelemetry:L,isSegmented:V,message:n})}}},v.prototype.getLimitString=function(b){switch(b.Type){case 0:return"Top:"+b.Count;case 1:return"Bottom:"+b.Count;case 2:return"Sample:"+b.Count}},v}()},327011:function(Je,H,t){t.d(H,{$7:function(){return x},Cr:function(){return k},Fh:function(){return w},GF:function(){return D},GL:function(){return v},Hv:function(){return S},IC:function(){return F},JT:function(){return s},KS:function(){return R},L1:function(){return O},Pp:function(){return J},Px:function(){return W},QC:function(){return j},RP:function(){return n},Tc:function(){return E},Tk:function(){return a},VN:function(){return B},Wv:function(){return r},Yv:function(){return N},aW:function(){return V},aw:function(){return re},az:function(){return y},hD:function(){return h},kd:function(){return P},qz:function(){return m},rY:function(){return I},rZ:function(){return te},s$:function(){return G},th:function(){return T}});var e=t(853811),c="PBI.VisualEvent.RenderStarted",s=e.cx[c]=(0,e.b1)(c),f="PBI.VisualEvent.RenderCompleted",v=e.cx[f]=(0,e.b1)(f),b="PBI.VisualEvent.RenderingStarted",h=e.cx[b]=(0,e.b1)(b),p="PBI.VisualEvent.RenderingCompleted",n=e.cx[p]=(0,e.b1)(p),l="PBI.VisualEvent.RenderingFailed",r=e.cx[l]=(0,e.b1)(l),o="PBI.VisualEvent.UpdateTimeOut",a=e.cx[o]=(0,e.b1)(o),i="PBI.VisualEvent.Trace",m=e.cx[i]=(0,e.b1)(i),u="PBI.VisualEvent.Error",V=e.cx[u]=(0,e.b1)(u),d="PBI.VisualEvent.ReachedTelemetryUsageLimit",S=e.cx[d]=(0,e.b1)(d),g="PBI.VisualEvent.LaunchURL",y=e.cx[g]=(0,e.b1)(g),C="PBI.VisualEvent.DownloadContentValidationFailed",E=e.cx[C]=(0,e.b1)(C),M="PBI.VisualEvent.DownloadContent",P=e.cx[M]=(0,e.b1)(M),T="PBI.VisualEvent.GetAvailableServicePlans",x=e.cx[T]=(0,e.b1)(T),R="PBI.VisualEvent.LicenseIsUnsupportedEnv",D=e.cx[R]=(0,e.b1)(R),L="PBI.VisualEvent.LicenseServiceIsUndefined",F=e.cx[L]=(0,e.b1)(L),A="PBI.VisualEvent.ServicePlansResponseIsUndefined",O=e.cx[A]=(0,e.b1)(A),N="PBI.VisualEvent.NotifyLicenseRequired",w=e.cx[N]=(0,e.b1)(N),I="PBI.VisualEvent.ClearLicenseNotification",B=e.cx[I]=(0,e.b1)(I),j="PBI.VisualEvent.NotifyLicenseFeatureBlocked",W=e.cx[j]=(0,e.b1)(j),U="PBI.VisualEvent.Privileges",k=e.cx[U]=(0,e.b1)(U),Q="PBI.VisualEvent.Privileges.Violation",te=e.cx[Q]=(0,e.b1)(Q),ee="PBI.VisualEvent.ExternalMigration.UndefinedGet",J=e.cx[ee]=(0,e.b1)(ee),re="PBI.VisualEvent.CapabilitiesTelemetry",G=e.cx[re]=(0,e.b1)(re)},796899:function(Je,H,t){t.d(H,{P:function(){return b}});var e=t(227185),c=t(787941),s=t(826691),f=t(138363),v=t(431325),b=function(){function h(){}return h.cloneThemeCollection=function(p){return _.clone(p)},h.loadHighContrastTheme=function(p,n,l,r,o){return o&&!l.isThemeLoaded(o)?h.loadTheme(2,p,n,l,r,o):p.resolve()},h.loadThemeAndBaseTheme=function(p,n,l,r,o){try{var a=[],i=o.customTheme,m=o.baseTheme&&o.baseTheme.name;i&&i.name&&!l.isThemeLoaded(i.name)&&a.push(h.loadTheme(o.customTheme.type,p,n,l,r,i.name,i.version,!0)),m&&!l.isThemeLoaded(m)&&a.push(h.loadTheme(o.baseTheme.type,p,n,l,r,m));var u=p.defer();return p.all(a).finally(function(){var V=!0;i&&i.name&&!l.isThemeLoaded(i.name)&&(V=!1,s.f.error("Error loading custom theme",!1)),m&&!l.isThemeLoaded(m)&&(V=!1,s.f.error("Error loading base theme",!1)),u.resolve(V)}),u.promise}catch(V){return s.f.error("Error loading report theme - ".concat(h.getLoadError(V))),p.resolve(!1)}},h.loadTheme=function(p,n,l,r,o,a,i,m){return c.fF.assert(function(){return 1===p||2===p},"resource type should either be registered or shared"),1===p?h.loadRegisteredResourceTheme(n,l,r,o,a,i):2===p?h.loadSharedResourceTheme(a,o,r,l,n,i,m):void 0},h.getLoadError=function(p){return(0,v.PR)(p)},h.loadRegisteredResourceTheme=function(p,n,l,r,o,a){return(0,v._q)(p,n,r,o).then(function(i){h.resolveLoadedTheme(o,i,l,a)}).catch(function(i){s.f.error("Error loading theme - ".concat(h.getLoadError(i)))})},h.loadSharedResourceTheme=function(p,n,l,r,o,a,i){return(0,v.FD)(n,{packageType:2,itemName:p},r,o,{itemTypeFromReference:i?f.Ut.CustomTheme:f.Ut.BaseTheme}).then(function(m){h.resolveLoadedTheme(p,m,l,a)}).catch(function(m){s.f.error("Error loading base theme ".concat(p," - ").concat(h.getLoadError(m)))})},h.resolveLoadedTheme=function(p,n,l,r){if(!l.isThemeLoaded(p)){var o=(0,e.K)(n);c.fF.assertValue(o,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),o&&l.addCustomTheme(p,o,r)}},h}()},851954:function(Je,H,t){t.d(H,{p:function(){return pt}});var e=t(693825),c=t(787941),s=t(145315),f=t(161414),v=t(792419),b=t(35259),h=t(951467),p=t(121157),n=t(587318),l=t(398155),r=function(){function se(Z,Ye,vt){this.powerbiHost=Z,this.visualHostTooltipService=vt,this.tooltipService=new o(Ye,this.visualHostTooltipService)}return se.prototype.onSelecting=function(Z){Z.action=0},se.prototype.onSelect=function(Z){this.powerbiHost&&this.powerbiHost.onSelect(Z)},se.prototype.persistProperties=function(Z){this.powerbiHost&&this.powerbiHost.persistProperties(Z)},se.prototype.tooltips=function(){return this.visualHostTooltipService},se.prototype.applyJsonFilter=function(Z,Ye,vt,Ft){this.powerbiHost.applyJsonFilter(Z,Ye,vt,Ft)},se.prototype.applyIdentityFilter=function(Z,Ye,vt,Ft){this.powerbiHost.applyIdentityFilter(Z,Ye,vt,Ft)},se.prototype.getJSONFilter=function(Z,Ye){return this.promiseFactory().reject()},se.prototype.createSelectionIdBuilder=function(){return new f.dw},se.prototype.createTooltipService=function(){return this.tooltipService},se.prototype.createSelectionManager=function(Z){return new l.Z({hostServices:this,apiVersion:Z},!0)},se.prototype.getLocalizedString=function(Z){return null},se.prototype.locale=function(){return navigator.language},se.prototype.loader=function(){var Z=this;return{require:function(){return Z.promiseFactory().reject()}}},se.prototype.onSwitchFocusModeState=function(Z){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(Z)},se.prototype.onDisplayWarningIcon=function(Z,Ye){if(this.powerbiHost){var ir=n.Jh,Cr=new h.VS(n.j,Z.substr(0,n.IQ),Ye.substr(0,ir));this.powerbiHost.setWarnings([Cr])}},se.prototype.loadMoreData=function(){},se.prototype.loadWindow=function(Z){},se.prototype.setShouldDeferData=function(){},se.prototype.fetchMoreData=function(Z){return!0},se.prototype.launchUrl=function(Z){},se.prototype.destroy=function(){},se.prototype.refreshHostData=function(){},se.prototype.onContextMenu=function(){},se.prototype.authenticationService=function(){return null},se.prototype.telemetry=function(){return null},se.prototype.localStorageService=function(){return null},se.prototype.eventService=function(){return null},se.prototype.licenseManagerService=function(){return null},se.prototype.acquireAADTokenService=function(){return null},se.prototype.visualTimeSynchronization=function(){return null},se.prototype.alertScreenReader=function(Z){},se.prototype.alertWithDebounce=function(Z,Ye){},se.prototype.requestFocus=function(){},se.prototype.onDragStart=function(){},se.prototype.getVisualLinkProperties=function(){},se.prototype.canSelect=function(){return!1},se.prototype.canExpandCollapse=function(){return!1},se.prototype.setNodeExpansionState=function(Z){},se.prototype.setLevelExpansionState=function(Z){},se.prototype.setCanDrill=function(Z){},se.prototype.onCustomSort=function(Z){},se.prototype.getViewMode=function(){return 0},se.prototype.getEditMode=function(){return 0},se.prototype.setWarnings=function(Z){},se.prototype.getWarnings$=function(){},se.prototype.setToolbar=function(Z){},se.prototype.shouldRetainSelection=function(){return!1},se.prototype.geocoder=function(){return(0,b.Wy)()},se.prototype.geolocation=function(){c.fF.assertFail("Not being used anywhere")},se.prototype.promiseFactory=function(){return(0,p.p)()},se.prototype.ignoreDefaultFilter=function(){return!1},se.prototype.drill=function(Z){},se.prototype.getIdentityDisplayNames=function(Z){},se.prototype.setIdentityDisplayNames=function(Z){},se.prototype.setFilterExpressionMetadata=function(){},se.prototype.getFilterExpressionMetadata=function(){},se.prototype.getUIComponentFactory=function(){},se.prototype.onHyperlinkClick=function(Z,Ye){},se.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},se.prototype.dataMultiSelectMode=function(){return 0},se.prototype.dropdown=function(){},se.prototype.networkAvailability=function(){},se.prototype.downloadService=function(){},se.prototype.setAriaMetadata=function(Z){},se.prototype.artifactService=function(){},se.prototype.getSectionsMetadata$=function(){},se.prototype.getBookmarksMetadata$=function(){},se.prototype.onNotifyLicense=function(Z){},se.prototype.onClearLicenseNotification=function(){},se.prototype.onNotifyFeatureBlocked=function(Z){},se.prototype.getSubSelectionService=function(){},se.prototype.webAccessService=function(){},se.prototype.getAzureMapToken=function(){},se.prototype.azureMapsEndpoint=function(){},se.prototype.geocoderIndexedDB=function(){},se.prototype.triggerUpdate=function(){},se.prototype.isScreenshotWorkload=function(){return!1},se.prototype.localStorageV2Service=function(){return null},se.prototype.dateTimeFormatService=function(){},se.prototype.visualExportService=function(){},se.prototype.visualHostSubSelectionService=function(){return null},se.prototype.enableLoadMoreData=function(Z){},se}(),o=function(){function se(Z,Ye){c.fF.assert(function(){return!!Ye},"visualHostTooltip should be defined"),this.tooltipService=Ye,this.element=Z}return se.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},se.prototype.show=function(Z){if(this.enabled()){var Ye={coordinates:this.fixCoordinates(Z.coordinates),dataItems:Z.dataItems,isTouchEvent:Z.isTouchEvent,identities:l.Z.getSelectorsByColumn(Z.identities)};this.tooltipService.show(Ye)}},se.prototype.move=function(Z){if(this.enabled()){var Ye={coordinates:this.fixCoordinates(Z.coordinates),dataItems:Z.dataItems,isTouchEvent:Z.isTouchEvent,identities:l.Z.getSelectorsByColumn(Z.identities)};this.tooltipService.move(Ye)}},se.prototype.hide=function(Z){this.enabled()&&this.tooltipService.hide(Z)},se.prototype.fixCoordinates=function(Z){var Ye=this.element.offset();return Z[0]=Z[0]+Ye.left,Z[1]=Z[1]+Ye.top,Z},se}(),i=t(226514),u=(t(356673),t(195393)),V=t(912126),d=t(454869),S=t(138368),g=t(16062),C=function(){function se(Z){this.windowMessageProxy=Z}return se.prototype.logStandardizedFeatureEvent=function(Z){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[Z]})},se.prototype.logTimedStandardizedFeatureEvent=function(Z){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[Z]})},se.prototype.startTimedStandardizedFeatureEvent=function(Z){return new E(this,Z)},se}(),E=function(){function se(Z,Ye){this.certifiedEventsService=Z,this.event=_.cloneDeep(Ye),this.event.operationStartTime=(0,g.z)()}return se.prototype.setAttributes=function(Z){this.event.activityAttributes=(0,i.__assign)({},Z)},se.prototype.setAttribute=function(Z,Ye){this.event.activityAttributes[Z]=Ye},se.prototype.getAttributes=function(){return this.event.activityAttributes},se.prototype.complete=function(Z,Ye){this.event.resultCode=Ye,this.event.activityStatus=Z,this.event.operationEndTime=(0,g.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)},se}(),M=t(509775),P=t(144900),D=function(){function se(Z){this.windowMessageProxy=Z}return se.prototype.getOpenActivityById=function(Z){},se.prototype.suspend=function(){},se.prototype.resume=function(){},se.prototype.flush=function(){},se.prototype.restart=function(){},se.prototype.stopActivity=function(Z,Ye,vt){},se.prototype.startPerfEventDeprecated=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.logEvent=function(Z,Ye){return c.fF.assert(function(){return!_.isArray(Ye)},"Parameters has to be an object and instance of some telemetry factory arguments"),Z===M.ZX?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",Ye]}):Z===M.Lj?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",Ye]}):c.fF.assertFail("Unknown eventFactory name ["+Z+"]: sandboxTelemetryProxyService.ts#logEvent"),null},se.prototype.logTelemetryData=function(Z,Ye,vt){return null},se.prototype.logChildEvent=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft]},se.prototype.startActivity=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.startChildActivity=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft]},se.prototype.startEvent=function(Z){for(var Ye=[],vt=1;vt<arguments.length;vt++)Ye[vt-1]=arguments[vt];var ir={info:{}};return new L(ir)},se.prototype.startMonitoredActivity=function(Z,Ye,vt){var ir={info:{}};return{activityEvent:ir,activityDeferred:new L(ir)}},se.prototype.startChildEvent=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.logTrace=function(Z){},Object.defineProperty(se.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),se.prototype.setHostInfo=function(Z,Ye){},se.prototype.getHostData=function(){},se.prototype.setExpAssignmentContext=function(Z){},se}(),L=function(){function se(Z){var Ye=this;c.fF.assertValue(Z,"event"),this.event=Z,this.promise=new P.J(function(vt,Ft){Ye.onResolve=vt,Ye.onReject=Ft})}return se.prototype.resolve=function(){this.isEnded=!0,this.onResolve()},se.prototype.cancel=function(Z){return Z?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},se.prototype.reject=function(Z){this.isEnded=!0,this.onReject()},se.prototype.isActive=function(){return!this.isEnded},se}(),A=function(){function se(){}return se.prototype.getOpenActivityById=function(Z){},se.prototype.suspend=function(){},se.prototype.resume=function(){},se.prototype.flush=function(){},se.prototype.restart=function(){},se.prototype.stopActivity=function(Z,Ye,vt){},se.prototype.startPerfEventDeprecated=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.logEvent=function(Z){for(var Ye=[],vt=1;vt<arguments.length;vt++)Ye[vt-1]=arguments[vt];return null},se.prototype.logTelemetryData=function(Z,Ye,vt){return null},se.prototype.logChildEvent=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft]},se.prototype.startActivity=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.startChildActivity=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft]},se.prototype.startEvent=function(Z){for(var Ye=[],vt=1;vt<arguments.length;vt++)Ye[vt-1]=arguments[vt];var ir={info:{}};return new L(ir)},se.prototype.startMonitoredActivity=function(Z,Ye,vt){var ir={info:{}};return{activityEvent:ir,activityDeferred:new L(ir)}},se.prototype.startChildEvent=function(Z,Ye){for(var vt=[],Ft=2;Ft<arguments.length;Ft++)vt[Ft-2]=arguments[Ft];var Cr={info:{}};return new L(Cr)},se.prototype.logTrace=function(Z){},Object.defineProperty(se.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(se.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),se.prototype.setHostInfo=function(Z,Ye){},se.prototype.getHostData=function(){},se.prototype.setExpAssignmentContext=function(Z){},se}(),O=t(336667),N=t(563233),w=t(967908),I=t(95788),B=t(175491),j=t(46997),W=t(258323),U=t(832867),k=t(138363),Q=t(675905),te=t(780760),ee=t(661885),J=t(497593);function re(){var se=(0,p.p)(),Ye={messageProxy:(0,ee.zC)(se,window.parent),promiseFactory:se,resourceProvider:{get:function(Ft){return Ft},getOptional:function(Ft){return Ft},format:function(Ft){return Ft}}};return new G(Ye)}var G=function(){function se(Z){var Ye=this;c.fF.assertValue(Z.messageProxy,"messageProxy"),c.fF.assertValue(Z.promiseFactory,"promiseFactory"),this.messageProxy=Z.messageProxy,this.promiseFactory=Z.promiseFactory,this.resourceProvider=Z.resourceProvider,this.messageProxy.on(ee.et,function(vt){return Ye.onMessageReceived(vt)}),this.hostOrigin=new URL(window.location.href).origin}return se.prototype.onMessageReceived=function(Z){if(Z.source===parent&&Z.origin===this.hostOrigin&&"loadVisualPluginWithContent"===Z.message.eventName)return this.loadVisualPluginWithContent.apply(this,Z.message.arguments)},se.prototype.loadVisualPluginWithContent=function(Z){var Ye=this.promiseFactory.defer(),vt=Z.pluginName,Ft=Z.mappedPluginContent,ir=Ft[k.Ut.CustomVisualJavascript].content,Cr=Ft[k.Ut.CustomVisualsCss].content;try{(0,Q.yO)(vt,ir),(0,Q.QO)(vt,Cr);var Et=U.N[vt];Et.iconUrl=(0,te.sG)(vt),Et.content={js:ir,css:Cr,iconBase64:Et.iconUrl},(0,J.L)(Et),Et.capabilities.objects=(0,W.qC)(Et.capabilities.objects,this.resourceProvider),Ye.resolve(Et)}catch(qe){Ye.reject(qe)}return Ye.promise},se}();function ne(){if(!X){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var se=re;window.powerbi.visualSandbox.createResourceLoaderHost=function(){return se()},X=!0}}var X=!1;ne();var oe=t(299747),Ve=t(37743),Te=t(831917),Qe=t(668268),He=t(499995),Ce=t(19632),de=t(734287),pe=t(448711),le=t(44615),me=t(998583),be=t(324356),Be=t(207598),Se=t(588659),Pe=t(779722),ue=t(474374),ve=t(435795),xe=t(350562);function ie(){return window.powerbi||(window.powerbi={}),window.powerbi}var Ee=t(405416),K=t(989516),Ne=t(326621),Y=function(se){return se[se.merge=0]="merge",se[se.remove=1]="remove",se}({});var it=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function De(se,Z){var Ye={get:function(Ft,ir){var Cr=Ft[ir],Et="".concat(se,".").concat(ir.toString());return void 0===Cr?it.has(Et)||(function(se){var Ye=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[se]});window.parent.postMessage(Ye,"*")}(Et),it.add(Et)):Cr&&"object"==typeof Cr&&Z>0&&(Cr=new Proxy(Cr,De(Et,Z-1))),Cr},set:function(Ft,ir,Cr){return Ft[ir]=Cr,!0}};return Ye}function Xe(){var se;window.powerbi=(se=(0,Te.wg)(),new Proxy(se,De("powerbi",3)))}var he=t(876128),ce=t(818204),Re=t(415859),Ge=t(1010),ut=t(687705),je=t(233445),ae=t(880921),we=function(){function se(Z,Ye,vt){this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.acquireAADToken=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getAcquireAADTokenStatus=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[Z.id]}),Z.deferred.promise},se}(),$e=function(){function se(Z,Ye,vt){c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory"),this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.getResourceUrl=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getAADAuthenticationToken=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getAADToken=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getWACToken=function(Z,Ye){var vt=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:Ye,resourceSiteUrl:Z,promiseId:vt.id}]}),vt.deferred.promise},se.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},se.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},se}(),_t=function(){function se(Z,Ye,vt){c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory"),this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.downloadFile=function(Z,Ye,vt,Ft){throw new Error("Not implemented")},se.prototype.getExportStatus=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[Z.id]}),Z.deferred.promise},se.prototype.exportVisualsContent=function(Z,Ye,vt,Ft){var ir=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return Z&&Ye&&vt&&Ft?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[Z,Ye,vt,Ft,ir.id]}):ir.deferred.reject(),ir.deferred.promise},se}(),dt=function(){function se(Z,Ye){this.messageProxy=Z,this.instanceId=Ye,c.fF.assertValue(Z,"messageProxy")}return se.prototype.renderingStarted=function(Z){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,Z.updateId]})},se.prototype.renderingFinished=function(Z){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,Z.updateId]})},se.prototype.renderingFailed=function(Z,Ye){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,Z.updateId,Ye]})},se}(),Wt=function(){function se(Z,Ye,vt){this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt,c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory")}return se.prototype.getAvailableServicePlans=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[Z.id]}),Z.deferred.promise},se.prototype.notifyLicenseRequired=function(Z){var Ye=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[Z,Ye.id]}),Ye.deferred.promise},se.prototype.notifyFeatureBlocked=function(Z){var Ye=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[Z,Ye.id]}),Ye.deferred.promise},se.prototype.clearLicenseNotification=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[Z.id]}),Z.deferred.promise},se}(),Zt=function(){function se(Z,Ye,vt){c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory"),this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.getStorageStatus=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getStorageData=function(Z){var Ye=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[Z,Ye.id]}),Ye.deferred.promise},se.prototype.setStorageData=function(Z,Ye){var vt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[Z,Ye,vt.id]}),vt.deferred.promise},se.prototype.removeStorageData=function(Z){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[Z]})},se}(),ar=function(){function se(Z,Ye,vt){c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory"),this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.getStorageStatus=function(){var Z=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[Z.id]}),Z.deferred.promise},se.prototype.getStorageData=function(Z){var Ye=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[Z,Ye.id]}),Ye.deferred.promise},se.prototype.setStorageData=function(Z,Ye){var vt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[Z,Ye,vt.id]}),vt.deferred.promise},se.prototype.removeStorageData=function(Z){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[Z]})},se}(),sr=t(220111),mr=function(){function se(Z,Ye){this.messageProxy=Z,c.fF.assertValue(Z,"messageProxy"),this.instanceId=Ye}return se.prototype.trace=function(Z,Ye){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,sr.s$)(Z),{instanceId:this.instanceId,payload:Ye}]})},se.prototype.logStandardizedFeatureEvent=function(){},se}(),Mr=function(){function se(Z){c.fF.assertValue(Z,"messageProxy"),this.messageProxy=Z,this.rootElement=window.document.body}return se.prototype.serializeIdentities=function(Z){return Z&&Z[0]instanceof O.r?Z:Z&&_(Z).map(function(vt){return(0,Re.U9)(vt)}).compact().value()},se.prototype.show=function(Z){var Ye=Z&&{coordinates:Z.coordinates,dataItems:Z.dataItems,identities:this.serializeIdentities(Z.identities),isTouchEvent:Z.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[Ye]})},se.prototype.move=function(Z){var Ye=Z&&{coordinates:Z.coordinates,dataItems:Z.dataItems,identities:this.serializeIdentities(Z.identities),isTouchEvent:Z.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[Ye]})},se.prototype.hide=function(Z){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[Z]})},se.prototype.visible=function(){return!1},se.prototype.isTouchOptimized=function(){return!1},se.prototype.container=function(){return this.rootElement},se.prototype.enabled=function(){return!0},se}(),Gt=function(){function se(Z,Ye,vt){c.fF.assertValue(Z,"messageProxy"),c.fF.assertValue(Ye,"promiseFactory"),this.messageProxy=Z,this.promiseFactory=Ye,this.sandboxPromiseHandler=vt}return se.prototype.getWebAccessStatus=function(Z){var Ye=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[Z,Ye.id]}),Ye.deferred.promise},se}(),Fr=function(){function se(Z){c.fF.assertValue(Z,"messageProxy"),this.messageProxy=Z}return se.prototype.subSelect=function(Z){Z&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[Z]})},se.prototype.updateRegionOutlines=function(Z){Z&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[Z]})},se}(),wr={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},Vr={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},Ar=function(){function se(Z,Ye){this.messageProxy=Z,this.sandboxPromiseHandler=Ye,this.loadMoreDataEnabled=!0,c.fF.assertValue(Z,"messageProxy"),this.visualHostTooltipService=function(se){return new Mr(se)}(Z),this.queryDictionary=se.parseUrlParameters(),this.authService=function(se,Z,Ye){return new $e(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.storageService=function(se,Z,Ye){return new Zt(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.hostWebAccessService=function(se,Z,Ye){return new Gt(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.contentDownloadService=function(se,Z,Ye){return new _t(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.licensesManagerService=function(se,Z,Ye){return new Wt(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.acquireTokenService=function(se,Z,Ye){return new we(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.storageV2Service=function(se,Z,Ye){return new ar(se,Z,Ye)}(Z,this.promiseFactory(),Ye),this.hostSubSelectionService=function(se){return new Fr(se)}(Z),this.dialogPromiseFactory=this.promiseFactory()}return se.prototype.initInstanceId=function(Z){this._instanceId=Z,this.telemetryService=function(se,Z){return new mr(se,Z)}(this.messageProxy,Z),this.eventsService=function(se,Z){return new dt(se,Z)}(this.messageProxy,Z)},se.initialize=function(){Ge.I6&&(Ge.I6.localizationOptions=se.createTooltipLocaleOptions())},se.createLocaleOptions=function(){return{null:Vr.NullValue,true:Vr.BooleanTrue,false:Vr.BooleanFalse,NaN:Vr.NaNValue,infinity:Vr.InfinityValue,negativeInfinity:Vr.NegativeInfinityValue,beautify:function(Ye){return se.beautify(Ye)},describe:function(Ye){return se.describeUnit(Ye)},restatementComma:Vr.Restatement_Comma,restatementCompoundAnd:Vr.Restatement_CompoundAnd,restatementCompoundOr:Vr.Restatement_CompoundOr}},se.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:Vr.Tooltip_HighlightedValueDisplayName}},se.prototype.getLocalizedString=function(Z){return Vr[Z]},se.prototype.onSelecting=function(Z){Z.action=0},se.prototype.onSelect=function(Z){var Ye;if((0,ae.FE)(Z)){var vt=Z;Ye={data:(0,Re.OR)(vt.data),data2:(0,Re.U9)(vt.data2),selectors:(0,Re.OR)(vt.selectors)}}else Ye={type:Z.type,visualObjects:(0,Re.kW)(Z.visualObjects)};this.messageProxy.postMessage({eventName:"onSelect",arguments:[Ye]})},se.prototype.customVisualOnContextMenu=function(Z){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[Z]})},se.prototype.customVisualOnExpandCollapse=function(Z){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[Z]})},se.prototype.switchFocusModeState=function(Z){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[Z]})},se.prototype.displayWarningIcon=function(Z,Ye){null!=Z&&null!=Ye&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[Z,Ye]})},se.prototype.persistProperties=function(Z){var Ye,vt=Z;Ye=this.apiVersion&&((0,e.gt)(this.apiVersion,"2.0.0")||(0,e.eq)(this.apiVersion,"2.0.0"))?Z:vt.merge||vt.remove||vt.replace?{merge:vt.merge?(0,ut.qC)(vt.merge):null,replace:vt.replace?(0,ut.qC)(vt.replace):null,remove:vt.remove?(0,ut.qC)(vt.remove):null}:(0,ut.qC)(Z),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[Ye]})},se.prototype.sendSelectionIdsToHost=function(Z){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[Z]})},se.prototype.loadMoreData=function(){this.fetchMoreData(!0)},se.prototype.loadWindow=function(Z){},se.prototype.fetchMoreData=function(Z){return!!this.loadMoreDataEnabled&&(!1!==Z&&(Z=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[Z]}),!0)},se.prototype.launchUrl=function(Z){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[Z]})},se.prototype.setCanDrill=function(Z){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[Z]})},se.prototype.drill=function(Z){this.messageProxy.postMessage({eventName:"drill",arguments:[Z]})},se.prototype.openModalDialog=function(Z,Ye,vt){var Ft=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[Z,Ye,vt,Ft.id]}),Ft.deferred.promise},se.prototype.tooltips=function(){return this.visualHostTooltipService},se.prototype.telemetry=function(){return this.telemetryService},se.prototype.authenticationService=function(){return this.authService},se.prototype.localStorageService=function(){return this.storageService},se.prototype.localStorageV2Service=function(){return this.storageV2Service},se.prototype.eventService=function(){return this.eventsService},se.prototype.licenseManagerService=function(){return this.licensesManagerService},se.prototype.acquireAADTokenService=function(){return this.acquireTokenService},se.prototype.visualTimeSynchronization=function(){return this.visualTimeSynchronizationService},se.prototype.networkAvailability=function(){return this.networkAvailabilityService},se.prototype.webAccessService=function(){return this.hostWebAccessService},se.prototype.visualHostSubSelectionService=function(){return this.hostSubSelectionService},se.prototype.getSectionsMetadata$=function(){},se.prototype.getBookmarksMetadata$=function(){},se.prototype.downloadService=function(){return this.contentDownloadService},se.prototype.artifactService=function(){},se.prototype.getQueryStringValue=function(Z){return this.queryDictionary&&this.queryDictionary[Z]},se.prototype.locale=function(){var Z=this.queryDictionary&&this.queryDictionary.locale;return c.fF.assert(function(){return!!Z},"custom visual locale parameter is not valid"),Z||navigator.language},se.prototype.loader=function(){var Z=this;return{require:function(){return Z.promiseFactory().reject()}}},se.prototype.applyJsonFilter=function(Z,Ye,vt,Ft){var ir=[Z,Ye,vt];return Ft&&ir.push(Ft),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:ir}),!0},se.prototype.applyIdentityFilter=function(Z,Ye,vt,Ft){var ir=[Z,Ye,vt];return Ft&&ir.push(Ft),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:ir}),!0},se.prototype.getJSONFilter=function(Z,Ye){return this.promiseFactory().reject()},se.parseUrlParameters=function(Z){void 0===Z&&(Z=window.location.search);var Ye={},vt=Z;if(vt&&"?"===vt.substr(0,1))for(var ir=0,Cr=vt.substr(1).split("&");ir<Cr.length;ir++){var Et=Cr[ir],qe=Et&&Et.split("=");qe&&2===qe.length&&(Ye[decodeURIComponent(qe[0])]=decodeURIComponent(qe[1]))}return Ye},se.prototype.destroy=function(){this.messageProxy.destroy(),this.messageProxy=null},se.prototype.refreshHostData=function(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})},se.prototype.createSelectionIdBuilder=function(){return new O.r},se.prototype.createTooltipService=function(){return(0,je.r)({hostServices:this})},se.prototype.createSelectionManager=function(Z){return new l.Z({hostServices:this,apiVersion:Z})},se.prototype.applyCustomSort=function(Z){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[Z]})},se.prototype.alertScreenReader=function(Z){},se.prototype.alertWithDebounce=function(Z,Ye){},se.prototype.requestFocus=function(){},se.prototype.setShouldDeferData=function(){},se.prototype.onDragStart=function(){},se.prototype.onContextMenu=function(){},se.prototype.onSwitchFocusModeState=function(){},se.prototype.onDisplayWarningIcon=function(){},se.prototype.onClearCustomizedWarningIcon=function(){},se.prototype.getVisualLinkProperties=function(){},se.prototype.canSelect=function(){return!1},se.prototype.canExpandCollapse=function(Z){return!1},se.prototype.setNodeExpansionState=function(Z){},se.prototype.setLevelExpansionState=function(Z){},se.prototype.onCustomSort=function(Z){},se.prototype.getViewMode=function(){return 0},se.prototype.getEditMode=function(){return 0},se.prototype.setWarnings=function(Z){},se.prototype.getWarnings$=function(){},se.prototype.setToolbar=function(Z){},se.prototype.shouldRetainSelection=function(){return!1},se.prototype.geocoder=function(){return(0,b.Wy)()},se.prototype.geolocation=function(){c.fF.assertFail("Not being used anywhere")},se.prototype.promiseFactory=function(){return(0,p.p)()},se.prototype.ignoreDefaultFilter=function(){return!1},se.prototype.getIdentityDisplayNames=function(Z){},se.prototype.setIdentityDisplayNames=function(Z){},se.prototype.setFilterExpressionMetadata=function(){},se.prototype.getFilterExpressionMetadata=function(){},se.prototype.getUIComponentFactory=function(){},se.prototype.onHyperlinkClick=function(Z,Ye){},se.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},se.prototype.dataMultiSelectMode=function(){return 0},se.prototype.dropdown=function(){},se.prototype.setAriaMetadata=function(Z){},se.prototype.onNotifyLicense=function(Z){},se.prototype.onClearLicenseNotification=function(){},se.prototype.onNotifyFeatureBlocked=function(Z){},se.prototype.getSubSelectionService=function(){},se.prototype.getAzureMapToken=function(){},se.prototype.azureMapsEndpoint=function(){},se.prototype.geocoderIndexedDB=function(){},se.prototype.triggerUpdate=function(){},se.prototype.isScreenshotWorkload=function(){return!1},se.prototype.dateTimeFormatService=function(){},se.prototype.visualExportService=function(){},Object.defineProperty(se.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!1,configurable:!0}),se.beautify=function(Z){var Ye=wr[Z];return Ye&&Vr[Ye]||Z},se.describeUnit=function(Z){var Ye=-1===Z?"Auto":Z.toString(),vt=Vr["DisplayUnitSystem_E"+Ye+"_Title"],Ft=Z<=0?"{0}":Vr["DisplayUnitSystem_E"+Ye+"_LabelFormat"];if(vt||Ft)return{title:vt,format:Ft}},se.prototype.enableLoadMoreData=function(Z){this.loadMoreDataEnabled=Z},se}(),$r=t(283427),Qr=t(885855),zr=function(se){return se.Click="click",se.MouseUp="mouseup",se.MSPointerUp="MSPointerUp",se.PointerUp="pointerup",se.Dblclick="dblclick",se}({}),Or=function(se){return se.Tap="tap",se.TouchCancel="touchcancel",se.Touchend="touchend",se}({}),ei=function(se){return se.KeyDown="keydown",se}({}),Xr=function(se){return se.KeyDown="keydown",se}({}),Nr=Object.values(zr),Yr=Object.values(Or),Hr=Object.values(ei),Zr=Nr.concat(Yr),ft=Object.values(Xr),ht=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],xt={Escape:[]},lt={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},mt=function(){function se(Z){this.id=++se.counter,this.deferred=Z}return se.getLastId=function(){return se.counter},se.counter=0,se}(),gt=function(){function se(Z){this.id=++se.counter,this.deferred=Z}return se.getLastId=function(){return se.counter},se.counter=0,se}(),At=function(){function se(){this.promises={},this.promises2={}}return se.prototype.CreatePromise=function(Z){var Ye=new mt(Z);return this.promises[Ye.id]=Ye,Ye},se.prototype.ResolvePromise=function(Z,Ye){var vt=this.promises[Z];vt&&(vt.deferred.resolve(Ye),this.promises[Z]=null)},se.prototype.RejectPromise=function(Z,Ye){var vt=this.promises[Z];vt&&(vt.deferred.reject(Ye),this.promises[Z]=null)},se.prototype.CreatePromise2=function(Z){var Ye=new gt(Z);return this.promises2[Ye.id]=Ye,Ye},se.prototype.ResolvePromise2=function(Z,Ye){var vt=this.promises2[Z];vt&&(vt.deferred.resolve(Ye),this.promises2[Z]=null)},se.prototype.RejectPromise2=function(Z,Ye){var vt=this.promises2[Z];vt&&(vt.deferred.reject(Ye),this.promises2[Z]=null)},se}();function kt(){return window.powerbi.visuals.plugins}function Ht(se){var Ye=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[se.blockedURI,se.violatedDirective,se.originalPolicy]});window.parent.postMessage(Ye,"*")}function nr(se,Z){void 0===Z&&(Z=!1);var Ye=(0,p.p)(),vt=(0,ee.zC)(Ye);Ar.initialize(),Ve.s.getQueryStringValue("pbiglobals")&&function(){var se=(0,Te.wg)();se.FilterAction=Y,se.VisualDataRoleKind=s.DW,se.VisualDataChangeOperationKind=s.su,se.VisualUpdateType=s.EP,se.VisualPermissions=s.NI,se.formattingService=Ne.dx;var Z=function(){var se=ie();return se.data||(se.data={}),se.data}();be.nw&&(Z.SQExprBuilder={},Z.SQExprBuilder.entity=be.nw,Z.SQExprBuilder.subqueryRef=be.v5,Z.SQExprBuilder.namedQueryRef=be.kD,Z.SQExprBuilder.columnRef=be.Oh,Z.SQExprBuilder.measureRef=be.mv,Z.SQExprBuilder.nativeMeasure=be.PB,Z.SQExprBuilder.nativeColumn=be.sl,Z.SQExprBuilder.aggregate=be.m_,Z.SQExprBuilder.selectRef=be.xA,Z.SQExprBuilder.percentile=be.Pe,Z.SQExprBuilder.rangePercent=be.Mj,Z.SQExprBuilder.arithmetic=be.Y8,Z.SQExprBuilder.floor=be.GW,Z.SQExprBuilder.scopedEval=be.ed,Z.SQExprBuilder.filteredEval=be.Xw,Z.SQExprBuilder.withRef=be.Oe,Z.SQExprBuilder.groupRef=be.Wp,Z.SQExprBuilder.hierarchy=be.bT,Z.SQExprBuilder.propertyVariationSource=be.yU,Z.SQExprBuilder.hierarchyLevel=be.os,Z.SQExprBuilder.transformTableRef=be.GB,Z.SQExprBuilder.transformOutputRoleRef=be.hu,Z.SQExprBuilder.roleRef=be.Wu,Z.SQExprBuilder.summaryValueRef=be.bO,Z.SQExprBuilder.allRolesRef=be.lI,Z.SQExprBuilder.and=be.xD,Z.SQExprBuilder.between=be.vX,Z.SQExprBuilder.inValues=be.Sh,Z.SQExprBuilder.inTable=be.dY,Z.SQExprBuilder.or=be.or,Z.SQExprBuilder.compare=be.qu,Z.SQExprBuilder.conditional=be.u7,Z.SQExprBuilder.contains=be.r3,Z.SQExprBuilder.exists=be.Gg,Z.SQExprBuilder.equal=be.Dg,Z.SQExprBuilder.not=be.ff,Z.SQExprBuilder.startsWith=be.Ny,Z.SQExprBuilder.nullConstant=be.IF,Z.SQExprBuilder.emptyString=be.$t,Z.SQExprBuilder.now=be.zO,Z.SQExprBuilder.defaultValue=be.LS,Z.SQExprBuilder.anyValue=be.n7,Z.SQExprBuilder.boolean=be.O7,Z.SQExprBuilder.dateAdd=be.sO,Z.SQExprBuilder.dateTime=be.CQ,Z.SQExprBuilder.dateSpan=be.uQ,Z.SQExprBuilder.decimal=be.gH,Z.SQExprBuilder.double=be.tx,Z.SQExprBuilder.integer=be.cA,Z.SQExprBuilder.text=be.fL,Z.SQExprBuilder.typedConstant=be.kQ,Z.SQExprBuilder.fromRawValue=be.f7,Z.SQExprBuilder.sparklineData=be.Zy,Z.SQExprBuilder.setAggregate=Se.k,Z.SQExprBuilder.removeAggregate=ve.n,Z.SQExprBuilder.setPercentOfGrandTotal=Be.F,Z.SQExprBuilder.removePercentOfGrandTotal=ue.H,Z.SQExprBuilder.setPercentOfRoleTotal=xe.z,Z.SQExprBuilder.removePercentOfRoleTotal=Pe.E,Z.SQExprBuilder.removeEntityVariables=be.p7,Z.SQExprBuilder.setVisualCalcExpression=be.eu,Z.SQExprBuilder.fillRule=be.x5,Z.SQExprBuilder.themeDataColor=be.e7,Z.SQExprBuilder.resourcePackageItem=be.nF,Z.SQExprBuilder.discretize=be.h5,Z.SQExprBuilder.member=be.fP,Z.SQExprBuilder.color=be.$_,Z.SQExprBuilder.nativeVisualCalc=be.YU,Z.SQExprBuilder.fieldExpr=me.B,Z.SQExprBuilder.fromColumnAggr=le.dR,Z.SQExprBuilder.fromColumn=le.tg,Z.SQExprBuilder.fromGroupingColumnAggr=le.ym,Z.SQExprBuilder.fromGroupingColumn=le.Gk,Z.SQExprBuilder.fromEntity=le.TI,Z.SQExprBuilder.fromEntityAggr=le.R$,Z.SQExprBuilder.fromColumnHierarchyVariation=le.qP,Z.SQExprBuilder.fromColumnHierarchyLevelVariation=le.$x,Z.SQExprBuilder.fromColumnSubquery=le.W2,Z.SQExprBuilder.fromColumnAggrSubquery=le.vH,Z.SQExprBuilder.fromColumnTransformRef=le.U5,Z.SQExprBuilder.fromHierarchyLevelAggr=le.vf,Z.SQExprBuilder.fromHierarchyLevel=le.lH,Z.SQExprBuilder.fromHierarchy=le.Ig,Z.SQExprBuilder.fromArithmetic=le.jS,Z.SQExprBuilder.fromConstant=le.Bn,Z.SQExprBuilder.fromSparklineData=le.a4,Z.SQExprBuilder.fromNativeVisualCalc=le.Sr),Z.Selector={},Z.Selector.AllEncompasingKey=K.xO,Z.Selector.isScopeIdentity=K.yN,Z.Selector.isScopeWildcard=K.QV,Z.Selector.isScopeTotal=K.tQ,Z.Selector.isRoleWildcard=K.j9,Z.Selector.isWildcard=K.qm,Z.Selector.isWildcardSelector=K.N6,Z.Selector.toScopeIdentities=K.CT,Z.Selector.getScopeIdentities=K.gU,Z.Selector.filterFromSelector=K.mV,Z.Selector.filterFromSelectorsByColumn=K.k_,Z.Selector.filterExprsFromSelectors=K.Li,Z.Selector.hasIdentities=K.Yw,Z.Selector.equals=K.fS,Z.Selector.equalsDataArray=K.hp,Z.Selector.equalsSelectorsByColumn=K.Ic,Z.Selector.equalsSelectorsByColumnArray=K.Or,Z.Selector.equalsData=K.cY,Z.Selector.getKey=K.km,Z.Selector.getDecomposedKeys=K.AZ,Z.Selector.containsWildcard=K.GT,Z.Selector.hasRoleWildcard=K._Q,Z.Selector.convertSelectorsByColumnToSelector=K.tV,Z.Selector.getSelectorTargetExpr=K.AV,Z.Selector.normalizeSelector=K.fd,Z.Selector.clone=K.d9,Z.SQCompareExpr=be.wU,Z.createDataViewScopeIdentity=Ce.TZ,Z.createDisplayNameGetter=de.V,Z.DataViewObjectDefinitions={},Z.DataViewObjectDefinitions.allPropertiesAreEqual=Qe.Pg,Z.DataViewObjectDefinitions.clone=Qe.d9,Z.DataViewObjectDefinitions.cloneDefinitions=Qe.dn,Z.DataViewObjectDefinitions.deleteObjectDefinition=Qe.AV,Z.DataViewObjectDefinitions.deleteProperties=Qe.Gc,Z.DataViewObjectDefinitions.deleteProperty=Qe.E2,Z.DataViewObjectDefinitions.encodePropertyValue=Qe.Lo,Z.DataViewObjectDefinitions.ensure=Qe.zx,Z.DataViewObjectDefinitions.extend=Qe.l7,Z.DataViewObjectDefinitions.getDataBoundExprs=He.oA,Z.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=He.Sz,Z.DataViewObjectDefinitions.getObjectDefinition=Qe.my,Z.DataViewObjectDefinitions.getObjectDefinitions=Qe.GQ,Z.DataViewObjectDefinitions.getPropertyContainer=Qe.ug,Z.DataViewObjectDefinitions.getUnequalProperties=Qe.hu,Z.DataViewObjectDefinitions.getValue=Qe.NA,Z.DataViewObjectDefinitions.getValueFormatting=Qe.hO,Z.DataViewObjectDefinitions.isEmpty=Qe.xb,Z.DataViewObjectDefinitions.isObjectPropertySQExpr=Qe.Rc,Z.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=Qe.er,Z.DataViewObjectDefinitions.isPropertyDefinition=Qe.e4,Z.DataViewObjectDefinitions.moveProperty=Qe.TX,Z.DataViewObjectDefinitions.propertiesAreEqual=Qe.ES,Z.DataViewObjectDefinitions.reduce=Qe.u4,Z.DataViewObjectDefinitions.setValue=Qe.sO,Z.DataViewObjectDefinitions.setValueFormatting=Qe.On,Z.DataViewObjectDefinitions.updateSelector=Qe.xl,Z.DataViewObjectDefinitions.visitPropertyDefinitions=Qe.rQ,Z.DataViewObjectDefinitions.visitPropertyExprs=Qe.Vj;var Ye=function(){var se=ie();return se.extensibility||(se.extensibility={}),se.extensibility}();Ye.createColorPalette=Ee.D,Ye.createExtendedColorPalette=Ee.o,Ye.getVisualApiVersions=v.HB,Ye.visualApiVersions=(0,v.HB)();var vt=(0,Te.Z7)();vt.buildValueDetailsForColumnValue=f.Y,vt.SelectionId=f.l0,vt.SelectionIdBuilder=f.dw;var Ft=function(){var se=(0,Te.Z7)();return se.valueFormatter||(se.valueFormatter={}),se.valueFormatter}();Ft.beautifyTrace=pe.J6,Ft.allowFormatBeautificationTraced=pe.CH,Ft.getLocalizedString=pe.Z,Ft.getFormatMetadata=pe.G2,Ft.setLocaleOptions=pe.X0,Ft.createDefaultFormatter=pe.E3,Ft.create=pe.Ue,Ft.format=pe.WU,Ft.formatVariantMeasureValueWithDataPointObjects=pe.kA,Ft.createDisplayUnitSystem=pe.Ym,Ft.getDisplayUnits=pe.p$,Ft.getFormatString=pe.EO,Ft.getDefaultFormatString=pe.v1,Ft.getLabelPrecision=pe.h1,Ft.getFormatStringWithDataPointObjects=pe.eU,Ft.formatListAnd=pe.aY,Ft.formatListOr=pe.KF}(),(0,Te.Z7)().plugins={},Xe();var ir={promiseFactory:Ye},Cr=function(se){return new D(se)}(vt),Et=function(se){return new C(se)}(vt),qe=new At,Pt=function(se,Z){return c.fF.assertValue(se,"messageProxy"),new Ar(se,Z)}(vt,qe),Xt={$element:se,hostServices:Pt,hostServicesControl:Pt,dataProxy:lr(Ye),promiseFactory:Ye,messageProxy:vt,resourceLoader:(0,S.fQ)(ir,null),resourceProvider:{get:function(ct){return ct},getOptional:function(ct){return ct},format:function(ct){return ct}},telemetryProxyService:Cr,certifiedEventsProxyService:Et,instanceId:"",sandboxPromiseHandler:qe},Ae=Pt.getQueryStringValue("cspiframe");return vt.contentWindow=Ae?window.parent.parent:window.parent,new fr(Xt,Z)}function lr(se){var Z=new A,vt={promiseFactory:function(){return se}},Ft=(0,d.I)((0,V.k2)({dsr:{name:"dsr",reader:function(Cr){return new j.i(Cr,{execute:function(){return se.reject()}},Z,{dsrV2:!1},null,void 0,void 0)}}},{}),vt);return(0,N.M2)(se,Ft,Z)}function dr(se,Z,Ye){var ir,vt=se.content,Ft=se.hasBeenInjected||kt()&&kt().hasOwnProperty(se.name)&&kt()[se.name].hasBeenInjected;return(!Z||!Ft)&&((0,Q.yO)(se.name,vt.js,Ye,se.apiVersion),(0,Q.QO)(se.name,vt.css)),!se.apiVersion||(0,e.lt)(se.apiVersion,{major:3,minor:0,patch:0})?(c.fF.assertValue(kt()[se.name],"Visual does not have a plugin"),ir=kt()[se.name]):(c.fF.assertValue(window[se.name],"Visual does not have a plugin"),ir=window[se.name].default),se.apiVersion&&(ir.iconUrl=se.iconUrl,ir.capabilities=se.capabilities,ir.localizationResources=se.localizationResources,ir.isDeprecated=se.isDeprecated,ir.version=se.version),Z&&(ir.hasBeenInjected=!0,ir.approvedForNoIframe=!0,kt()[se.name]=ir),ir}var fr=function(){function se(Z,Ye){void 0===Ye&&(Ye=!1);var vt=this;this.isolate=Ye,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=function(Ft){var ir=_.pick(Ft.originalEvent,ht);vt.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[ir]})},this.relayKeyboardEventListener=function(Ft){var ir=_.pick(Ft.originalEvent,ht);vt.isSupportedKeyBoardEvent(Ft.originalEvent)&&vt.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[ir]})},this.container=Z.$element,this.hostServices=Z.hostServices,this.hostServicesControl=Z.hostServicesControl,this.dataProxy=Z.dataProxy,this.promiseFactory=Z.promiseFactory,this.messageProxy=Z.messageProxy,this.resourceLoader=Z.resourceLoader,this.resourceProvider=Z.resourceProvider,this.telemetryProxyService=Z.telemetryProxyService,this.certifiedEventsProxyService=Z.certifiedEventsProxyService,this.sandboxPromiseHandler=Z.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new ce.n,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(ee.et,function(Ft){return vt.onMessageReceived(Ft)})}return Object.defineProperty(se.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),se.prototype.init=function(Z){this.hostServices.initInstanceId(Z.instanceId),this.hostServicesControl.initInstanceId(Z.instanceId),this.style=(0,B.th)(Z.style);var Ye={animation:Z.animation,element:this.container,host:this.hostServices,interactivity:Z.interactivity,style:this.style,viewport:Z.viewport,localizationResources:this.plugin.localizationResources,hostEnv:Z.hostEnv,dataMultiSelectMode:Z.dataMultiSelectMode};return this.featureSwitches=Z.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(Ye)},se.prototype.destroy=function(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(ee.et),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()},se.prototype.categoriesExists=function(Z){return!!(Z&&Z.dataViews&&Z.dataViews.length>0&&Z.dataViews[0].categorical&&Z.dataViews[0].categorical.categories&&Z.dataViews[0].categorical.categories.length>0&&Z.dataViews[0].categorical.categories[0]&&Z.dataViews[0].categorical.categories[0].values)},se.prototype.getHostCategoriesValues=function(Z,Ye,vt){try{if(Z){if(vt)for(var Ft=0;Ft<Z.length;Ft++)Z[Ft]&&(Z[Ft]=new Date(Z[Ft]));Ye.dataViews[0].categorical.categories[0].values=Z}}catch(ir){this.sendError(ir)}return Ye},se.prototype.update=function(Z){var Ft,Ye=this,vt=Z.message.arguments[0];if(this.formatMode!==!!vt.formatMode&&(this.formatMode=vt.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=vt.serializedDataView?vt.serializedDataView.stringifiedDataView:null;var ir=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),Cr=vt.serializedDataView?[this.dataViewSerializer.deserializeDataView(vt.serializedDataView,(0,e.gt)(this.plugin.apiVersion,"3.5.9"),ir,[],(0,e.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(vt.subSelections);var Et=this.lastVisualUpdateOptions={dataViews:Cr,suppressAnimations:vt.suppressAnimations,viewMode:vt.viewMode,editMode:vt.editMode,viewport:vt.viewport,type:vt.type,operationKind:s.su.Create,resizeMode:vt.resizeMode,isInFocus:vt.isInFocus,jsonFilters:vt.jsonFilters?vt.jsonFilters:null,updateId:vt.updateId,formatMode:vt.formatMode,subSelections:vt.subSelections};this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(vt.selections,!(0,e.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(Et,Z,vt)):(this.fixUpdateOptionsAndUpdateVisual(Et,Z,vt),this.onRestoreCvSelectionIds(vt.selections,!(0,e.gt)(this.plugin.apiVersion,"2.4.0")))}else vt.dataTransforms&&(Ft=I.F.deserializeDataViewTransformActions(vt.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(vt.dataViewSource,Ft,!0).then(function(qe){var Pt=Ye.lastVisualUpdateOptions={dataViews:qe.dataViews,suppressAnimations:vt.suppressAnimations,viewMode:vt.viewMode,editMode:vt.editMode,viewport:vt.viewport,type:vt.type,operationKind:s.su.Create,resizeMode:vt.resizeMode,isInFocus:vt.isInFocus,jsonFilters:vt.jsonFilters?vt.jsonFilters:null,updateId:vt.updateId};Ye.visualHasNullFilter(Ft)&&Ye.onRestoreSelection(null),Ye.fixUpdateOptionsAndUpdateVisual(Pt,Z,vt)}).catch(function(qe){return Ye.sendError(qe)})},se.prototype.visualHasNullFilter=function(Z){var Ye,vt,Ft,ir,Cr,Et,qe;if(null!==(Cr=null===(ir=null===(Ft=null===(vt=null===(Ye=this.plugin)||void 0===Ye?void 0:Ye.capabilities)||void 0===vt?void 0:vt.objects)||void 0===Ft?void 0:Ft.general)||void 0===ir?void 0:ir.properties)&&void 0!==Cr&&Cr.filter){var Pt=null===(Et=null==Z?void 0:Z.objects)||void 0===Et?void 0:Et.general;if(Pt&&Pt.length>0&&null!==(qe=Pt[0])&&void 0!==qe&&qe.properties&&!Pt[0].properties.filter)return!0}return!1},se.prototype.updateWithCachedData=function(Z){var vt,Ft,ir,Ye=Z.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var Cr=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=Ye.dataViewMetadata?JSON.parse(Ye.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=Cr}Ft=this.lastVisualUpdateOptions.dataViews,ir=!0}else Ye.dataTransforms&&(vt=I.F.deserializeDataViewTransformActions(Ye.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=vt,Ft=(0,w.nn)(this.lastDataViewTransformApplyOptions).dataViews;var Et=this.lastVisualUpdateOptions={dataViews:Ft,suppressAnimations:Ye.suppressAnimations,viewMode:Ye.viewMode,editMode:Ye.editMode,viewport:Ye.viewport,type:Ye.type,operationKind:s.su.Create,resizeMode:Ye.resizeMode,isInFocus:Ye.isInFocus,jsonFilters:Ye.jsonFilters?Ye.jsonFilters:null,updateId:Ye.updateId,formatMode:Ye.formatMode,subSelections:Ye.subSelections};this.fixUpdateOptionsAndUpdateVisual(Et,Z,Ye,ir)},se.prototype.loadResourcePackage=function(Z){var Ye=this;c.fF.assertValue(Z,"resourcePackage"),this.resourceLoader.loadVisualPlugin(Z).then(function(vt){Ye.plugin=vt,Ye.createAdapter()}).catch(function(){var vt=new Error("Unable to load plugin, resource package id: "+Z.id);return Ye.sendError(vt)})},se.prototype.createAdapter=function(){var Z=this.plugin;if(this.container.addClass("visual-"+Z.name),this._visual=(0,v.nm)(Z,Z.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!Z||!this.visual){var Ye=new Error("Unable to create visual from plugin "+Z.name);return this.sendError(Ye)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()},se.prototype.loadWithoutResourcePackage=function(Z){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var vt=Z.apiVersion?this.isolate&&(0,e.lt)(Z.apiVersion,"3.0.0"):this.isolate;this.plugin=dr(Z,!1,vt),(0,J.L)(this.plugin),this.createAdapter()}},se.prototype.enumerateObjectInstances=function(Z){if(this.visual.enumerateObjectInstances){var Ye=this.visual.enumerateObjectInstances(Z);if(Ye){var vt=Ye,Ft=this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0");return vt&&vt.instances?Ft?{instances:vt.instances,containers:vt.containers}:{instances:(0,ut.qC)(vt.instances),containers:vt.containers?(0,ut.DQ)(vt.containers,this.resourceProvider):null}:Ft?Ye:(0,ut.qC)(Ye)}}},se.prototype.enumerateObjectRepetition=function(){if(this.visual.enumerateObjectRepetition){var Z=this.visual.enumerateObjectRepetition();return Z?(0,Qr.qC)(Z):void 0}},se.prototype.getFormattingModel=function(){var Z,Ye;return null===(Ye=(Z=this.visual).getFormattingModel)||void 0===Ye?void 0:Ye.call(Z)},se.prototype.getSubSelectionStyles=function(Z){var Ye,vt;return this.reCreateSelectionIds(Z),null===(vt=(Ye=this.visual).getSubSelectionStyles)||void 0===vt?void 0:vt.call(Ye,Z)},se.prototype.getSubSelectionShortcuts=function(Z,Ye){var vt,Ft;return this.reCreateSelectionIds(Z),null===(Ft=(vt=this.visual).getSubSelectionShortcuts)||void 0===Ft?void 0:Ft.call(vt,Z,Ye)},se.prototype.getSubSelectables=function(Z){var Ye,vt;return null===(vt=(Ye=this.visual).getSubSelectables)||void 0===vt?void 0:vt.call(Ye,Z)},se.prototype.focusVisualIframeWindow=function(){window.focus()},se.prototype.sendUpdateResult=function(){var Z=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[Z]})},se.prototype.sendSandboxReady=function(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})},se.prototype.flushQueue=function(){for(;this.messageQueue.length>0;){var Z=this.messageQueue.shift();this.executeMessage(Z)}},se.prototype.sendError=function(Z,Ye){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:Ye?Ye.id:null,eventName:Ye?Ye.eventName:null,name:Z.name,message:Z.message,pluginName:this.plugin.name}})},se.prototype.sendErrorMessage=function(Z,Ye){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:Z,message:Ye,pluginName:this.plugin.name}})},se.prototype.onMessageReceived=function(Z){if(this.isVisualInitialized||"loadResourcePackage"===Z.message.eventName||"loadWithoutResourcePackage"===Z.message.eventName)return this.executeMessage(Z);this.messageQueue.push(Z)},se.prototype.validateSandboxHostMessage=function(Z){var vt=this[Z.message.eventName];return vt?"function"!=typeof vt?{error:"not a function"}:vt.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},se.prototype.validateVisualMessage=function(Z){var Ye=Z.message;if(!this.visual)return{error:"unset visual"};var vt=this.visual[Ye.eventName];return vt?"function"!=typeof vt?{error:"not a function"}:v.Vh.prototype[Ye.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},se.prototype.executeMessage=function(Z){var vt,Ft,Ye=Z.message,ir="SandboxHost.executeMessage rejected message:";if(Z.source===window||Z.source.parent!==window){if(Z.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(Ye.eventName,"".concat(ir," invalid source"));if(Z.origin!==this.hostOrigin)return this.sendErrorMessage(Ye.eventName,"".concat(ir," invalid origin"));try{if((vt=this.validateSandboxHostMessage(Z)).ok)return"update"===Ye.eventName||"updateWithCachedData"===Ye.eventName||"handleLoadMoreDataResult"===Ye.eventName?this[Ye.eventName].call(this,Z):this[Ye.eventName].apply(this,Ye.arguments);if((Ft=this.validateVisualMessage(Z)).ok)return this.visual[Ye.eventName].apply(this.visual,Ye.arguments)}catch(Cr){return void this.sendError(Cr,Ye)}this.sendErrorMessage(Ye.eventName,"".concat(ir," ").concat(null==vt?void 0:vt.error,", ").concat(null==Ft?void 0:Ft.error))}},se.prototype.reCreateSelectionIds=function(Z){Z&&Z.forEach(function(Ye){var vt=Ye.customVisualObjects[0].selectionId;Ye.customVisualObjects[0].selectionId=vt&&new O.r(vt.dataMap,vt.measures)})},se.prototype.transformDataViewSource=function(Z,Ye,vt){var Ft=this,ir=this.promiseFactory.defer();return(Z?this.createDataView(Z):this.promiseFactory.resolve({dataView:null})).then(function(Et){var qe=(0,w.nn)(Ft.lastDataViewTransformApplyOptions={prototype:Et.dataView,objectDescriptors:Ft.plugin.capabilities?Ft.plugin.capabilities.objects:void 0,dataViewMappings:Ft.plugin.capabilities?Ft.plugin.capabilities.dataViewMappings:void 0,dataRoles:Ft.plugin.capabilities?Ft.plugin.capabilities.dataRoles:void 0,drillCapabilities:Ft.plugin.capabilities&&Ft.plugin.capabilities.drilldown,expandCollapseCapabilties:Ft.plugin.capabilities&&Ft.plugin.capabilities.expandCollapse,transforms:Ye,colorAllocatorFactory:(0,u.V)(),bypassConcatenation:vt,visualStyle:Ft.style,keepAllMetadataColumnsCapability:!!Ft.plugin.capabilities&&Ft.plugin.capabilities.keepAllMetadataColumns,featureSwitches:Ft.featureSwitches}).dataViews;ir.resolve({dataViews:qe})}).catch(function(Et){return Ft.sendError(Et)}),ir.promise},se.prototype.createDataView=function(Z){var Ye=this;c.fF.assertValue(Z,"dataViewSource");var vt=this.promiseFactory.defer();return this.dataProxy.execute({type:Z.type,query:{dataSources:null,command:Z.data}}).then(function(ir){var Et=(0,$r.ul)(ir&&ir.dataReaderResult?ir.dataReaderResult.dataView:null,Ye.plugin.capabilities?Ye.plugin.capabilities.dataViewMappings:null);vt.resolve({dataView:Et.dataView})}).catch(function(ir){return Ye.sendError(ir)}),vt.promise},se.prototype.attachWindowResizeListener=function(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")},se.prototype.detachWindowResizeListener=function(){$(window).off("resize")},se.prototype.windowResizeListener=function(){if(this.lastVisualUpdateOptions){var Z=$(window).height(),Ye=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(Ye-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(Z-this.lastVisualUpdateOptions.viewport.height)<=1)){var vt=(0,oe.ED)(this.lastVisualUpdateOptions);vt.viewport={width:Ye,height:Z,scale:this.lastVisualUpdateOptions.viewport.scale},vt.type=s.EP.Resize,vt.resizeMode=1,this.visual.update(vt)}}},se.prototype.attachRelayUIEventListener=function(){$(window).on(Hr.join(" "),this.relayKeyboardEventListener),this.container.on(Zr.join(" "),this.relayUIEventListener)},se.prototype.detachRelayUIEventListener=function(){$(window).off(Hr.join(" "),this.relayKeyboardEventListener),this.container.off(Zr.join(" "),this.relayUIEventListener)},se.prototype.attachFormatModeRelayUIEventListener=function(){$(window).on(ft.join(" "),this.relayKeyboardEventListener)},se.prototype.detachFormatModeRelayUIEventListener=function(){$(window).off(ft.join(" "),this.relayKeyboardEventListener)},se.prototype.handleAttachingEventListeners=function(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())},se.prototype.isSupportedKeyBoardEvent=function(Z){var Ye=this.formatMode?lt:xt;return Z.key in Ye&&_.every(Ye[Z.key],function(Ft){return Ft in Z&&Z[Ft]})},se.prototype.handleLoadMoreDataResult=function(Z){return(0,i.__awaiter)(this,void 0,P.J,function(){var Ye,vt,Ft,ir,Cr,Et,qe,Nt=this;return(0,i.__generator)(this,function(jt){switch(jt.label){case 0:return Ye=Z.message.arguments[1],this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")?(Ft=Z.message.arguments[2],(vt=Z.message.arguments[0])&&this.stringifiedDataView!==vt.stringifiedDataView?(this.stringifiedDataView=vt.stringifiedDataView,ir=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),Cr=[this.dataViewSerializer.deserializeDataView(vt,(0,e.gt)(this.plugin.apiVersion,"3.5.9"),ir,Ft,(0,e.ge)(this.plugin.apiVersion,"5.3.0"))],this.lastVisualUpdateOptions.type=s.EP.Data,Ye?((0,he.$n)(this.lastVisualUpdateOptions.dataViews[0],Cr[0]),this.lastVisualUpdateOptions.operationKind=s.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(Z.packedSize)]):[3,2]):[3,4]):[3,5];case 1:return jt.sent(),[3,4];case 2:return this.lastVisualUpdateOptions.dataViews[0]=Cr[0],this.lastVisualUpdateOptions.operationKind=s.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 3:jt.sent(),jt.label=4;case 4:return[3,9];case 5:return c.fF.assert(function(){return Nt.lastDataViewTransformApplyOptions&&!!Nt.lastDataViewTransformApplyOptions.prototype},"Expected to have previous segment already"),(qe=(Et=Z.message.arguments[0])?Et.dataReaderResult.dataView:null)?(this.lastVisualUpdateOptions.type=s.EP.Data,Ye?((0,he.$n)(this.lastDataViewTransformApplyOptions.prototype,qe),this.lastVisualUpdateOptions.dataViews=(0,w.nn)(this.lastDataViewTransformApplyOptions).dataViews,this.lastVisualUpdateOptions.operationKind=s.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(Z.packedSize)]):[3,7]):[3,9];case 6:return jt.sent(),[3,9];case 7:return this.lastVisualUpdateOptions.dataViews[0]=qe,this.lastVisualUpdateOptions.operationKind=s.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 8:jt.sent(),jt.label=9;case 9:return this.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]}),[2]}})})},se.prototype.aggregateDataViewSizeAndUpdateVisual=function(Z){return(0,i.__awaiter)(this,void 0,P.J,function(){return(0,i.__generator)(this,function(Ye){switch(Ye.label){case 0:return this.aggregatedDataViewSize+=Z,this.hostServicesControl.enableLoadMoreData(!(this.aggregatedDataViewSize>=104857600)),[4,this.visual.update(this.lastVisualUpdateOptions)];case 1:return Ye.sent(),[2]}})})},se.prototype.handleGetResourceUrlResult=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId,Z.payload):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.payload)},se.prototype.handleGetAADAuthenticationTokenResult=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId,Z.payload):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z)},se.prototype.handleGetAADTokenResult=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId,Z.payload):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.payload)},se.prototype.handleGetWACTokenResult=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise2(Z.promiseId,Z.payload?Z.payload:""):this.sandboxPromiseHandler.ResolvePromise2(Z.promiseId,Z.wacToken)},se.prototype.handleGetStorageStatus=function(Z){this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.status)},se.prototype.handleGetStorageData=function(Z){Z.data?this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.data):this.sandboxPromiseHandler.RejectPromise(Z.promiseId)},se.prototype.handleSetStorageData=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.freeSpace)},se.prototype.handleGetStorageV2Data=function(Z){Z.isError||!Z.data?this.sandboxPromiseHandler.RejectPromise(Z.promiseId):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.data)},se.prototype.handleSetStorageV2Data=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.resultInfo)},se.prototype.handleExportVisualsContentStatus=function(Z){void 0!==Z.status?this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.status):this.sandboxPromiseHandler.RejectPromise(Z.promiseId)},se.prototype.handleExportVisualsContent=function(Z){void 0!==Z.data?this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.data):this.sandboxPromiseHandler.RejectPromise(Z.promiseId)},se.prototype.handleGetWebAccessStatus=function(Z){void 0!==Z.status?this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.status):this.sandboxPromiseHandler.RejectPromise(Z.promiseId)},se.prototype.handleModalDialogResult=function(Z){Z.isError?this.sandboxPromiseHandler.RejectPromise(Z.promiseId,Z.data):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.data)},se.prototype.handleAcquireAADTokenResult=function(Z){this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.data)},se.prototype.handleGetAcquireAADTokenStatus=function(Z){this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.status)},se.prototype.handleLicenseResult=function(Z){Z.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(Z.promiseId)},se.prototype.handleLicenseNotificationResult=function(Z){null==Z.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(Z.promiseId):this.sandboxPromiseHandler.ResolvePromise(Z.promiseId,Z.licenseNotificationResult)},se.prototype.onRestoreSelection=function(Z){var Ye=this.hostServices.selectionManager;if(Ye)if(Z&&Z.selection){var vt=Z.selection.map(function(Ft){return f.l0.fromSelectorsByColumn((0,Re.JF)(Ft))});Ye.setSelectionIds(vt),Ye.invokeOnSelectCallback(vt)}else Ye.setSelectionIds([]),Ye.invokeOnSelectCallback([])},se.prototype.onRestoreCvSelectionIds=function(Z,Ye){void 0===Ye&&(Ye=!0);var vt=this.hostServices.selectionManager;if(vt){var Ft=[];Z?(Ft=_.map(Z,function(ir){return new O.r(ir.serializedDataMap,ir.measures)}),vt.setSelectionIds(Ft)):vt.setSelectionIds([]),Ye&&vt.invokeOnSelectCallback(Ft)}},se.prototype.fixUpdateOptionsAndUpdateVisual=function(Z,Ye,vt,Ft){void 0===Ft&&(Ft=!1),Ft||(Z=this.categoriesExists(Z)?this.getHostCategoriesValues(vt.categoriesValues,Z,vt.isCategoryDate):Z,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=Ye.packedSize),this.visual.update(Z),this.sendUpdateResult()},(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],se.prototype,"init",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"destroy",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"update",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"updateWithCachedData",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"loadWithoutResourcePackage",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],se.prototype,"enumerateObjectInstances",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Array)],se.prototype,"enumerateObjectRepetition",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],se.prototype,"getFormattingModel",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],se.prototype,"getSubSelectionStyles",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Array)],se.prototype,"getSubSelectionShortcuts",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Array)],se.prototype,"getSubSelectables",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"focusVisualIframeWindow",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",P.J)],se.prototype,"handleLoadMoreDataResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetResourceUrlResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetAADAuthenticationTokenResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetAADTokenResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetWACTokenResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetStorageStatus",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetStorageData",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleSetStorageData",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetStorageV2Data",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleSetStorageV2Data",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleExportVisualsContentStatus",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleExportVisualsContent",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetWebAccessStatus",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleModalDialogResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleAcquireAADTokenResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleGetAcquireAADTokenStatus",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleLicenseResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"handleLicenseNotificationResult",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"onRestoreSelection",null),(0,i.__decorate)([(0,v.td)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,Object]),(0,i.__metadata)("design:returntype",void 0)],se.prototype,"onRestoreCvSelectionIds",null),se}(),yr=!1;!function(){if(!yr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var se=nr;window.powerbi.visualSandbox.createSandboxHost=function(Z,Ye){return void 0===Ye&&(Ye=!1),se(Z,Ye)},yr=!0}}();var Mt=!1;(function(){if(!Mt){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var se=Ht;window.powerbi.visualSandbox.onSecurityPolicyViolation=function(Z){return se(Z)},Mt=!0}})(),ne();var pt=function(){function se(Z){this.isolate=!0,this.promiseFactory=Z.promiseFactory,this.plugin=Z.plugin,this.tooltipService=Z.visualHostTooltip}return se.prototype.init=function(Z){var Ye=Z.host.tooltips();Ye&&(this.tooltipService=Ye),this.cvContainer=Z.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(se,Z,Ye){return new r(se,Z,Ye)}(Z.host,this.cvContainer,this.tooltipService),this.visual.init({animation:Z.animation,element:this.cvContainer,host:this.hostServices,interactivity:Z.interactivity,style:Z.style,viewport:Z.viewport,localizationResources:this.plugin.localizationResources})},se.prototype.update=function(Z){return this.visual.update({dataViews:Z.dataViews,suppressAnimations:Z.suppressAnimations,viewMode:Z.viewMode,editMode:Z.editMode,viewport:Z.viewport,type:Z.type,operationKind:s.su.Create,resizeMode:Z.resizeMode,isInFocus:Z.isInFocus,jsonFilters:Z.jsonFilters?Z.jsonFilters:null})},se.prototype.enumerateObjectInstancesAsync=function(Z){var Ye=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var vt=this.visual.enumerateObjectInstances(Z);return vt&&vt.instances&&Ye.resolve({instances:vt.instances,containers:vt.containers}),Ye.resolve(vt),Ye.promise}},se.prototype.enumerateObjectRepetitionAsync=function(){var Z=this.promiseFactory.defer(),Ye=this.visual.enumerateObjectRepetition();return Z.resolve(Ye),Z.promise},se.prototype.getFormattingModelAsync=function(){if(this.visual.getFormattingModel){var Z=this.promiseFactory.defer();return Z.resolve(this.visual.getFormattingModel()),Z.promise}},se.prototype.onRestoreSelection=function(Z){var Ye=this.hostServices.selectionManager;if(Ye){if(Z&&Z.selection){var vt=Z.selection.map(function(Ft){return f.l0.fromSelectorsByColumn(Ft)});Ye.setSelectionIds(vt),Ye.invokeOnSelectCallback(vt)}return!0}},se.prototype.onClearSelection=function(){var Z=this.hostServices.selectionManager;Z&&(Z.setSelectionIds([]),Z.invokeOnSelectCallback([]))},se.prototype.loadWithoutResourcePackage=function(Z){var vt=Z.apiVersion?this.isolate&&(0,e.lt)(Z.apiVersion,"3.0.0"):this.isolate;this.plugin=dr(Z,!0,vt),this.createAdapter()},se.prototype.visualHasMethod=function(Z){return _.isFunction(this[Z])},se.prototype.destroy=function(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()},se.prototype.createAdapter=function(){c.fF.assertValue(this.plugin,"Visual does not have a plugin");var Z=this.plugin;this.visual=(0,v.nm)(Z,Z.create,this.promiseFactory,null),c.fF.assertValue(this.visual,"Unable to create visual from plugin ")},se.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},se}()},400060:function(Je,H,t){t.d(H,{W:function(){return a}});for(var e=t(690016),c=t(787941),s=t(693825),f=t(823344),v=t(37743),b=t(878412),h=t(477898),p=t(415859),n=t(144900),l=t(327011),r=function(){function d(S,g,y){var C=this;this.proxy=S,this.plugin=g,this.telemetryService=y,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new n.B,this.proxy.setPluginReadyHandler(function(){C.isPluginReady=!0,C.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new n.B,n.J.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(function(){C.postUpdateMessage()})}return d.prototype.update=function(S){var g;if(this.firstUpdateMessageSent)return this.proxy.update(S);if(this.updateMessage){this.updateMessage.type|=S.type,(null===(g=S.dataViews)||void 0===g?void 0:g.length)>0&&(this.updateMessage.dataViews=S.dataViews);var y=S,C=_.clone(this.updateMessage);for(var E in y)"type"!==E&&"dataViews"!==E&&void 0!==y[E]&&(C[E]=y[E]);this.updateMessage=C}else this.updateMessage=S,this.updateMessageSentDeferred=new n.B;return(0,b.dy)(S,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise},d.prototype.postUpdateMessage=function(){var S=this;this.updateMessage&&this.proxy.update(this.updateMessage).then(function(){S.updateMessage=void 0,S.firstUpdateMessageSent=!0,S.updateMessageSentDeferred.resolve()}).catch(function(g){S.updateMessage=void 0,S.firstUpdateMessageSent=!0,S.updateMessageSentDeferred.reject(g)})},d.prototype.destroy=function(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(l.Tk,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0},d}(),a=function(){function d(S){var g;this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=S.plugin.name,this.proxy=S.proxy,this.featureSwitchService=S.featureSwitchService,this.visualSandboxUri=S.visualSandboxUri,this.frontEndUrl=S.frontEndUrl?S.frontEndUrl:"'self'",this.hostEnv=S.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null;var y=_.map(S.sandboxProperties,function(T){return(0,h.cg)(T)}).join(" "),C="";S.plugin.capabilities&&S.plugin.capabilities.supportsKeyboardFocus&&(C=" tabindex=0"),this.iframeHtml='<iframe style="border:none;" class="visual-sandbox empty-sandbox-visual" sandbox="'.concat(y,'" name="visual-sandbox"').concat(C,' aria-label="').concat(S.localizationService.get("CustomVisualIframeAriaLabel"),'"></iframe>'),this.plugin=S.plugin,this.telemetryService=S.telemetryService,this.certifiedEventsService=S.certifiedEventsService,this.localizationService=S.localizationService,this.privilegeService=S.privilegeService;var E={urlLauncher:S.urlLauncher,visualHostTooltip:S.visualHostTooltip,hostEnv:S.hostEnv,dataMultiSelectMode:S.dataMultiSelectMode,sandboxPropertiesString:y,allowModalDialog:_.isFunction(S.openIFrameDialog),dialogSandboxUri:S.dialogSandboxUri,openIFrameDialog:S.openIFrameDialog,getEmbedHostType:S.getEmbedHostType},M=new b._E(this.proxy,S.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,S.approvedResourcesService,S.visualsLicenseService,S.visualDownloadService,S.visualLocalStorageV2ProxyService,S.privilegeService,S.customVisualsTokenManagerService,E,S.instanceId);this.proxy.init(M,S.plugin);var P=window.powerbi.visuals.plugins[this.pluginName];c.fF.assertValue(P.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[P]),null!==(g=this.plugin.capabilities)&&void 0!==g&&g.privileges&&this.telemetryService.logEvent(l.Cr,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}return Object.defineProperty(d.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),d.prototype.init=function(S){var y,g=this;this.element=S.element,this.tooltipService=S.host.tooltips();var C=null!==(y=this.plugin.apiVersion)&&void 0!==y?y:"2.0.0";S.featureSwitches&&(!this.updateMessagesProcessor&&S.featureSwitches.cvAggregateUpdateMessages&&(0,s.ge)(C,"4.2.0")&&(this.updateMessagesProcessor=new r(this.proxy,this.plugin,this.telemetryService)),S.featureSwitches=this.filterFeatureSwitches(S.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(function(){g.initializeContainerTimerId=void 0,g.element&&g.initContainer(S.viewport)},0),this.proxy.invoke("init",[S])},d.prototype.update=function(S){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(S):this.proxy.update(S)},d.prototype.enumerateObjectInstancesAsync=function(S){return this.proxy.invoke("enumerateObjectInstancesAsync",[S])},d.prototype.getFormattingModelAsync=function(){return this.proxy.invoke("getFormattingModelAsync",[])},d.prototype.getSubSelectionStylesAsync=function(S){return this.proxy.invoke("getSubSelectionStylesAsync",[S])},d.prototype.getSubSelectionShortcutsAsync=function(S,g){return this.proxy.invoke("getSubSelectionShortcutsAsync",[S,g])},d.prototype.getSubSelectablesAsync=function(S){return this.proxy.invoke("getSubSelectablesAsync",[S])},d.prototype.enumerateObjectRepetitionAsync=function(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])},d.prototype.onRestoreSelection=function(S){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[S]);var g=S.selection.map(function(y){return(0,p.U9)(y)});return this.proxy.invoke("onRestoreSelection",[{selection:g}])},d.prototype.visualHasMethod=function(S){return _.isFunction(this[S])},d.prototype.destroy=function(){var S,g;void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),null===(S=this.accessibilityUpperIndicator)||void 0===S||S.remove(),null===(g=this.accessibilityLowerIndicator)||void 0===g||g.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])},d.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},d.prototype.initContainer=function(S){var g,y="customVisual:".concat(this.pluginName,":initContainer");this.marker=(0,e.BL)(y);var C=S.width,E=S.height,M=this.getCSP();this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(C,E,M):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,C,E,M)),null!==(g=this.plugin.capabilities)&&void 0!==g&&g.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)},d.prototype.createCspIframe=function(S,g,y){var C=this,M="<html><head>".concat("<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'\">",'</head><body style="margin:0;overflow:hidden;">').concat(this.iframeHtml,"</body></html>"),P=$(document.createElement("iframe"));return P.attr({class:"visual-sandbox",width:S,height:g,srcdoc:M,csp:y}),P.one("load",function(){var R=$(P[0].contentWindow.document.querySelectorAll(".visual-sandbox"));C.initSandboxIframe(R,S,g,y)}),P},d.prototype.getCSP=function(){var S=null,g=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==g&&!this.isAsterisk(g)){var y=g.join(" ");S="default-src ".concat(this.frontEndUrl," ").concat("data: blob: 'unsafe-inline' 'unsafe-eval'"," ").concat(y,";")}return S},d.prototype.isAsterisk=function(S){return 1===S.length&&"*"===S[0]},d.prototype.initSandboxIframe=function(S,g,y,C){var E=this,M=this.generateIFrameUrl();S.attr({width:g,height:y,src:M,csp:C}),S.one("load",function(){return E.onIFrameLoad(S)}),S.on("mouseout",function(){return E.hideTooltip()})},d.prototype.initAccessibilityIndicators=function(){var S=this,g={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(g),this.accessibilityLowerIndicator.css(g),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",function(y){return S.handleIndicatorFocus(y)}),this.accessibilityLowerIndicator.on("focus",function(y){return S.handleIndicatorFocus(y)})},d.prototype.handleIndicatorFocus=function(S){S.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])},d.prototype.initWithAccessibilityIndicators=function(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)},d.prototype.onIFrameLoad=function(S){this.proxy.ready(S[0].contentWindow),this.marker()},d.prototype.generateIFrameUrl=function(){var S=this;c.fF.assert(function(){return!!S.localizationService.currentLanguageLocale},"current language locale is not valid");var g=v.s.clearAllQueriesFromUrl(this.visualSandboxUri),y={locale:(0,f.Kd)(this.localizationService.currentLanguageLocale)};4===this.hostEnv&&(y.plugin=this.pluginName),v.s.getQueryStringValue("unmin")&&(y.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(y.cspiframe="1");var C=this.featureSwitchService.featureSwitches.emCVBundle;y.emCVBundle=C?"1":"0",C&&!this.featureSwitchService.featureSwitches.emCVDisableGlobals&&(y.pbiglobals="1");var E=this.getCSP();return E&&(y.csp=btoa(E)),g+v.s.rebuildQueryString(y)},d.prototype.filterFeatureSwitches=function(S,g){var y={};return S&&g&&(y=_.reduce(Object.keys(S),function(C,E){return g.indexOf(E)>-1&&(C[E]=S[E]),C},{})),y},d.prototype.supportCustomVisualSelectionId=function(){var S;return(null===(S=this.proxy.plugin)||void 0===S?void 0:S.apiVersion)&&(0,s.ge)(this.proxy.plugin.apiVersion,"2.0.0")},d}(),m=0,u=["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"];m<u.length;m++)!function(d){a.prototype[d]||(a.prototype[d]=function(){return this.proxy.invoke(d,_.toArray(arguments))})}(u[m])},878412:function(Je,H,t){t.d(H,{x_:function(){return Re},v2:function(){return ce},oc:function(){return Ge},_E:function(){return je},dy:function(){return ut}});var s,e=t(226514),c=t(415859);function f(ae,fe){if(fe)return ae.convertCVSelectionIdToPowerbiSelctionId(fe).getSelectorsByColumn()}function v(ae,fe){return fe&&0!==fe.length&&fe[0].objectName?_.map(fe,function(we){return{objectName:we.objectName,selectorsByColumn:f(ae,we.selectionId)}}):[{objectName:"visual-area",selectorsByColumn:{}}]}function b(ae,fe){if(fe){var we=[];return fe.forEach(function(ze){(function(ae){if(!ae||!ae.selectionOrigin||ae.selectionOrigin.x<0||ae.selectionOrigin.y<0)return!1;var fe=ae.customVisualObjects;return!(!fe||fe.some(function(we){return!we}))})(ze)&&we.push({visualObjects:v(ae,ze.customVisualObjects),displayName:ze.displayName,subSelectionType:ze.subSelectionType,selectionOrigin:{x:ze.selectionOrigin.x,y:ze.selectionOrigin.y},showUI:ze.showUI,immediateDirectEdit:ze.immediateDirectEdit,metadata:ze.metadata,target:ze.target})}),we}}function r(ae,fe){fe.destinationInfo&&u(ae,fe.destinationInfo)}function a(ae,fe){m(ae,fe.relatedToggledFormattingIds),u(ae,fe)}function m(ae,fe){null==fe||fe.forEach(function(we){u(ae,we)})}function u(ae,fe){null!=fe&&fe.selector&&(fe.selector=function(ae,fe){return ae.deserializeOpaqueIdentity(fe),(0,c.L1)(fe)}(ae,fe.selector))}var S=((s={})[4]=function(ae,fe){return!!(P(ae.center,fe)&&null!=ae.innerRadius&&null!=ae.outerRadius)&&(ae.innerRadius=ae.innerRadius*fe.scale,ae.outerRadius=ae.outerRadius*fe.scale,!x(ae)||y(ae.clipPath,fe))},s[0]=void 0,s[2]=E,s[3]=E,s[1]=function(ae,fe){if(null!=ae.x&&null!=ae.y&&null!=ae.width&&null!=ae.height){var _t=fe.fixCoordinates([ae.x,ae.y]);ae.x=_t[0],ae.y=_t[1],ae.width=ae.width*fe.scale,ae.height=ae.height*fe.scale;var ke=ae,dt=ke.cVDirectEdit;return dt&&(ke.directEdit=function(){return dt},delete ke.cVDirectEdit),!ke.clipPath||y(ke.clipPath,fe)}return!1},s);function y(ae,fe){for(var we=[ae],ze=fe.loopLimit,$e=!1,ot=0;we.length&&ot<ze;){var _t=we.pop();if($e=!1,ot++,_t){if(T(_t)){_t.outlines.forEach(function(dt){return we.push(dt)});continue}$e=(0,S[_t.type])(_t,fe)}if(!$e)return!1}return $e&&ot<ze}function E(ae,fe){for(var we=0,ze=ae.points;we<ze.length;we++)if(!P(ze[we],fe))return!1;return!x(ae)||y(ae.clipPath,fe)}function P(ae,fe){if(null!=ae.x&&null!=ae.y){var we=fe.fixCoordinates([ae.x,ae.y]);return ae.x=we[0],ae.y=we[1],!0}return!1}function T(ae){return ae&&0===ae.type}function x(ae){return!!ae.clipPath}var R=t(792419),D=t(287027),L=t(195393),F=t(661885),A=t(951467),O=t(818204),N=t(336667),w=t(477898),I=t(795120),B=t(967908),j=t(95788),W=t(787941),U=t(880921);function Q(ae,fe){var we;if(function(ae){var fe,we,ze;return null!=(null===(ze=null===(we=null===(fe=null==ae?void 0:ae.control)||void 0===fe?void 0:fe.properties)||void 0===we?void 0:we.descriptor)||void 0===ze?void 0:ze.objectName)}(ae)){var ze=ae.control.properties;ze.descriptor=te(fe,ze.descriptor)}else{var $e=null===(we=null==ae?void 0:ae.control)||void 0===we?void 0:we.properties;Object.keys($e).forEach(function(ot){var _t=$e[ot];_t.descriptor=te(fe,_t.descriptor)})}}function te(ae,fe){return ae.deserializeOpaqueIdentity(null==fe?void 0:fe.altConstantValueSelector),ae.deserializeOpaqueIdentity(null==fe?void 0:fe.selector),function(ae){return(0,e.__assign)((0,e.__assign)({},ae),{selector:(0,c.L1)(ae.selector),altConstantValueSelector:(0,c.L1)(ae.altConstantValueSelector)})}(fe)}var Le,Xe,et,re=t(693825),G=t(145315),ne=t(886442),X=t(668268),oe=t(698129),Ve=t(376461),He=102400,de=(0,Ve.T5)("LVSTORAGE:","1",He,43200),me=new(function(){function ae(){}return ae.prototype.loadDictionary=function(fe,we,ze){void 0===ze&&(ze=!1);var $e=this.getStorageKey(fe,we,ze),ot=de.getData($e);return ot||(ot={}),ot},ae.prototype.saveDictionary=function(fe,we,ze,$e){void 0===$e&&($e=!1);var ot=this.getStorageKey(fe,we,$e);de.setData(ot,_(ze).isEmpty()?void 0:ze)},ae.prototype.getStorageKey=function(fe,we,ze){return ze?we:btoa((null!=fe?fe:"NA")+"|"+we)},ae.prototype.getData=function(fe,we,ze){var $e=null;try{var ot=this.loadDictionary(fe,we);$e=atob(ot[btoa(ze)])}catch(_t){$e=this.getAndRemoveLegacyData(fe,we,ze)}return $e},ae.prototype.setData=function(fe,we,ze,$e){try{var _t=this.loadDictionary(fe,we);_t[btoa(ze)]=btoa($e);var ke=JSON.stringify(_t).length;return ke<=He&&this.saveDictionary(fe,we,_t),He-ke}catch(dt){}return 0},ae.prototype.remove=function(fe,we,ze){try{var $e=this.loadDictionary(fe,we);$e[btoa(ze)]=void 0,this.saveDictionary(fe,we,$e)}catch(ot){}},ae.prototype.getAndRemoveLegacyData=function(fe,we,ze){var $e=this.loadDictionary("",we,!0),ot=$e[ze];return void 0!==ot&&($e[ze]=void 0,this.saveDictionary("",we,$e,!0),this.setData(fe,we,ze,ot)),ot},ae}()),be=t(26526),Be=t(144900),Se=t(474505),Pe=t(327011),Oe=function(){function ae(fe,we,ze,$e){var ot=this;this.messageProxy=fe,this.telemetryService=we,this.plugin=ze,this.instanceId=$e,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,W.fF.assertValue(fe,"messageProxy"),setTimeout(function(){ot._minDisplayDurationReached=!0},2e3),this.messageProxy.on(F.et,function(_t){return ot.onMessageReceived(_t)}),this.messageProxy.on(F.zM,function(_t){return ot.onMessageError(_t)})}return Object.defineProperty(ae.prototype,"dialog",{set:function(we){this._dialog=we},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"iframe",{set:function(we){this._iframe=we},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"modalDialogState",{get:function(){return this._modalDialogState},enumerable:!1,configurable:!0}),ae.prototype.postMessage=function(fe,we){this.messageProxy.postMessage({eventName:fe,arguments:we})},ae.prototype.postMessageAsync=function(fe,we){return this.messageProxy.postMessageAsync({eventName:fe,arguments:we})},ae.prototype.destroy=function(){this.messageProxy.off(F.et),this.messageProxy.off(F.zM),this.messageProxy.destroy(),this._dialog=null,this._iframe=null},ae.prototype.onMessageReceived=function(fe){this.validateMessageSource(fe)&&(_.isFunction(this[fe.message.eventName])?this[fe.message.eventName].apply(this,fe.message.arguments):this.telemetryService.logEvent(Pe.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))},ae.prototype.onMessageError=function(fe){this.validateMessageSource(fe)&&fe.message&&fe.message.error&&this.telemetryService.logEvent(Pe.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:fe.message.error})},ae.prototype.onDialogSetState=function(fe){this._modalDialogState=fe},ae.prototype.onDialogClose=function(fe,we){we&&(this._modalDialogState=we),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(fe)},ae.prototype.onDialogResize=function(fe,we){if(this._dialog){var ze=_.clamp(fe,200,Math.ceil(.9*window.innerWidth))+2,$e=_.clamp(we,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(ze,$e)}},ae.prototype.validateMessageSource=function(fe){return W.fF.assertValue(fe,"message"),!(!fe.source||!this._iframe||this._iframe.contentWindow!==fe.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],fe.message.eventName))},ae}(),Ze=t(690016),Ee=["txt","csv","json","tmplt","xml","pdf","xlsx"],Ne=31457280,Y=function(){function ae(fe,we,ze,$e){this.visualDownloadService=fe,this.telemetryService=we,this.plugin=ze,this.instanceId=$e}return ae.prototype.exportVisualsContent=function(fe,we,ze,$e,ot){var _t=this,ke=we.split(".").pop();ze=ze.toLowerCase();var dt=this.getBlobSize(fe,ze);return this.validateContentSource(fe,we,ze,$e,dt)?this.visualDownloadService.exportVisualsContent(fe,we,ze,$e,this.plugin.name,dt).then(function(Tt){return _t.telemetryService.logEvent(Pe.kd,{isFileSaved:Tt,contentSize:dt,visualType:_t.plugin.name,instanceId:_t.instanceId,extension:ke}),{promiseId:ot,data:{downloadCompleted:Tt,fileName:Tt?we:void 0}}},function(){return{promiseId:ot,data:{downloadCompleted:!1}}}):this.handleInvalidRequest(dt,ke,ot)},ae.prototype.validateContentSource=function(fe,we,ze,$e,ot){var _t=we.split(".").pop().toLowerCase(),ke=Ee.filter(function(Tt){return _t===Tt}).length>0,dt=null===we.match(/[:/\\]/);return!(!fe||!ze||!$e||!dt||!ke||ot>Ne)},ae.prototype.getBlobSize=function(fe,we){if(!fe)return 0;if(fe.length>Ne)return Ne+1;var $e=new Blob([fe],{type:Ze.nH});return $e?"base64"===we?3*$e.size/4:$e.size:0},ae.prototype.handleInvalidRequest=function(fe,we,ze){return this.telemetryService.logEvent(Pe.Tc,{contentSize:fe,visualType:this.plugin.name,instanceId:this.instanceId,extension:we}),Be.J.resolve({promiseId:ze,data:{downloadCompleted:!1}})},ae}(),ye=t(175491),rt=function(ae){return ae[ae.AlreadyOpen=1]="AlreadyOpen",ae[ae.NotAllowed=2]="NotAllowed",ae[ae.BlockedByUser=3]="BlockedByUser",ae}({}),it=t(687705),Ue=t(885855),De=t(587318),ce=((Le={})[0]="icon",Le[1]="unsupported environment blocker",Le[2]="blocker",Le),Re=((Xe={})[1]="Web",Xe[2]="PublishToWeb",Xe[4]="Desktop",Xe[8]="Embed",Xe[16]="ReportServer",Xe[32]="ExportReportHost",Xe[64]="Mobile",Xe[128]="DashboardHost",Xe[256]="Unknown",Xe),Ge=((et={})[0]="Allowed",et[3]="DisabledByAdmin",et[2]="NotSupported",et[1]="NotDeclared",et);function ut(ae,fe){if(ae.visualHasData&&(!ae.dataViews||0===ae.dataViews.length))return!0;var we=fe.capabilities;return ae.visualRequiresData&&ae.dataViews&&0===ae.dataViews.length&&!(we&&we.supportsLandingPage&&(we&&we.supportsEmptyDataView||1===ae.viewMode))}var je=function(){function ae(fe,we,ze,$e,ot,_t,ke,dt,Tt,Wt,Kt,Zt,er){this.proxy=fe,this.promiseFactory=we,this.telemetryService=ze,this.certifiedEventsService=$e,this.featureSwitchService=ot,this.approvedResourcesService=_t,this.licenseService=ke,this.visualDownloadService=dt,this.visualLocalStorageV2ProxyService=Tt,this.privilegeService=Wt,this.customVisualsTokenManagerService=Kt,this.visualSandboxOptions=Zt,this.instanceId=er,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new O.n,this.visualSelections=[],this.asyncSerializer=new D.W}return Object.defineProperty(ae.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),ae.prototype.init=function(fe){var we,ze,$e;this.visualHostServices=fe.host,this.visualAdapterHostServices=fe.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=fe.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=fe.element,this.resize(fe.viewport),this.visualStyle=fe.style;var ot=null===(we=this.visualSandboxOptions)||void 0===we?void 0:we.hostEnv;this.isExportVisualsContentSupported=!!ot&&!!(5&ot)&&!(null===(ze=fe.interactivity)||void 0===ze||!ze.isVisualInteractive),fe.interactivity=fe.interactivity||{},fe.interactivity.allowModalDialog=(null===($e=this.visualSandboxOptions)||void 0===$e?void 0:$e.allowModalDialog)&&fe.interactivity.isVisualInteractive,this.initOptions=fe;var _t={animation:fe.animation,interactivity:fe.interactivity,viewport:fe.viewport,style:(0,ye._8)(fe.style),featureSwitches:fe.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[_t])},ae.prototype.getHostEnvString=function(){var fe;return null!==(fe=this.visualSandboxOptions)&&void 0!==fe&&fe.hostEnv?Re[this.visualSandboxOptions.hostEnv]:"Undefined"},ae.prototype.update=function(fe){var we=this;this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(fe));var ze=this.promiseFactory.defer(),$e=function(_t,ke){return we.proxy.postMessageAsync(_t,ke)};return ut(fe,this.proxy.plugin)?(fe.updateCallBack&&fe.updateCallBack(),ze.resolve(null),ze.promise):this.asyncSerializer.enqueue(function(){return we.updateCore(fe,$e)})},ae.prototype.updateCore=function(fe,we){var ze,$e;return(0,e.__awaiter)(this,void 0,Be.J,function(){var ot,_t,ke,dt,Tt,Wt,Kt,Zt,er,ar,sr,mr,Sr=this;return(0,e.__generator)(this,function(Mr){switch(Mr.label){case 0:if(dt=[],this.formatMode=fe.formatMode,(fe.type&G.EP.All)!==G.EP.All&&(fe.type&G.EP.Resize)===G.EP.Resize&&2!==fe.resizeMode)return[3,11];if(Tt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,fe.dataViews&&fe.dataViews[0]&&ae.shouldSerializeDataView(Tt)){W.fF.assert(function(){return fe.dataViews.length<=1},"Custom Visuals should only use one dataView");try{null!==($e=null===(ze=null==fe?void 0:fe.dataViews[0])||void 0===ze?void 0:ze.metadata)&&void 0!==$e&&$e.columns&&(fe.dataViews[0].metadata.columns=_.filter(fe.dataViews[0].metadata.columns,function(St){return St.roles||""!==St.displayName}))}catch(St){W.fF.assertFail("failed to filter columns: "+St)}this.shouldUpdateWithCachedData(fe)?ke=this.dataViewSerializer.serializeDataViewMetadata(fe.dataViews[0]):_t=this.dataViewSerializer.serializeDataViewForCv(fe.dataViews[0],this.proxy.plugin.capabilities,!1,(0,re.gt)(Tt,"3.5.9"),[],(0,re.ge)(Tt,"5.3.0")),dt=this.RestoreCvSelectionIds(this.visualSelections)}if(Kt=[],Zt=void 0,(Wt=!!(fe.dataViews&&fe.dataViews.length>0&&fe.dataViews[0].categorical&&fe.dataViews[0].categorical.categories&&fe.dataViews[0].categorical.categories.length>0&&fe.dataViews[0].categorical.categories[0]&&fe.dataViews[0].categorical.categories[0].values))&&(Kt=fe.dataViews[0].categorical.categories[0].values,fe.dataViews[0].categorical.categories[0].source&&fe.dataViews[0].categorical.categories[0].source.type&&(Zt=fe.dataViews[0].categorical.categories[0].source.type.dateTime)),ar=void 0,!(sr=(er=fe&&fe.dataTransforms&&fe.dataTransforms.objects)&&(0,X.NA)(er,w.Ro,null)))return[3,5];Mr.label=1;case 1:return Mr.trys.push([1,3,,4]),[4,this.getJSONFilter(sr)];case 2:return ar=Mr.sent(),[3,4];case 3:return Mr.sent(),ar=[],[3,4];case 4:return[3,6];case 5:ar=[],Mr.label=6;case 6:return this.dataTransforms=fe.dataTransforms,mr={dataViewSource:fe.visualDefinitionData?fe.visualDefinitionData.dataViewSource:null,dataTransforms:j.F.serializeDataViewTransformActions(fe.dataTransforms,this.proxy.plugin.capabilities.objects||{}),suppressAnimations:fe.suppressAnimations,viewMode:fe.viewMode,editMode:fe.editMode,viewport:fe.viewport,type:fe.type,resizeMode:fe.resizeMode,isInFocus:fe.isInFocus,categoriesValues:Wt?Kt:null,isCategoryDate:Zt,serializedDataView:_t,jsonFilters:ar,dataViewMetadata:ke,selections:dt,updateId:fe.updateId,formatMode:fe.formatMode,subSelections:this.convertToCustomVisualSubSelections(fe.subSelections)},this.shouldUpdateWithCachedData(fe)?(this.lastDataViewSource=mr.dataViewSource,mr.dataViewSource=null,[4,we("updateWithCachedData",[mr])]):[3,8];case 7:return ot=Mr.sent(),[3,10];case 8:return this.lastDataViewSource=mr.dataViewSource,[4,we("update",[mr])];case 9:ot=Mr.sent(),Mr.label=10;case 10:return[3,12];case 11:fe.updateCallBack&&fe.updateCallBack(),Mr.label=12;case 12:return window.setTimeout(function(){return Sr.resize(fe.viewport)}),[2,ot]}})})},ae.prototype.getJSONFilter=function(fe){return(0,e.__awaiter)(this,void 0,void 0,function(){var we,ze=this;return(0,e.__generator)(this,function($e){switch($e.label){case 0:return[4,this.visualHostServices.getJSONFilter(fe,this.dataViewSerializer.identitiesArray)];case 1:return we=$e.sent(),[2,_.map(we,function(ot){return ze.processGetJsonFilter(ot)})]}})})},ae.prototype.processGetJsonFilter=function(fe){return fe},ae.prototype.logCapabilitiesTelemetry=function(fe){var we,ze,$e,ot,_t,ke,dt,Tt,Wt,Kt,Zt,er,ar,sr,gr,mr,zr,Or,Sr=this.proxy.plugin,Mr=null==Sr?void 0:Sr.capabilities,St=null===($e=null===(ze=null===(we=null==fe?void 0:fe.dataViews)||void 0===we?void 0:we[0])||void 0===ze?void 0:ze.metadata)||void 0===$e?void 0:$e.objects,Gt={sorting:{implicit:!(null===(ot=null==Mr?void 0:Mr.sorting)||void 0===ot||!ot.implicit),default:!(null===(_t=null==Mr?void 0:Mr.sorting)||void 0===_t||!_t.default),custom:!(null===(ke=null==Mr?void 0:Mr.sorting)||void 0===ke||!ke.custom)},expandCollapse:Vr(St,null===(dt=null==Mr?void 0:Mr.expandCollapse)||void 0===dt?void 0:dt.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:Vr(St,null===(Wt=null===(Tt=null==Mr?void 0:Mr.subtotals)||void 0===Tt?void 0:Tt.matrix)||void 0===Wt?void 0:Wt.rowSubtotalsType,"Top"),Bottom:Vr(St,null===(Zt=null===(Kt=null==Mr?void 0:Mr.subtotals)||void 0===Kt?void 0:Kt.matrix)||void 0===Zt?void 0:Zt.rowSubtotalsType,"Bottom")}}},rr=function Ar(Qr){for(var zr,Or=[],ei=new Map(Object.entries(Qr)),Xr=0,Nr=Object.keys(Qr);Xr<Nr.length;Xr++){var Yr=Nr[Xr],Hr=ei.get(Yr);if("boolean"==typeof Hr)Hr&&Or.push(Yr);else{var Zr=Ar(Hr);Zr.length&&Or.push(((zr={})[Yr]=Zr,zr))}}return Or}(Gt);if(rr.length){this.telemetryService.logEvent(Pe.s$,{visualType:Sr.name,existingCapabilities:JSON.stringify({apiVersion:Sr.apiVersion,visualVersion:Sr.version,existingTrackedCapabilities:rr})});var wr={apiMajorVersion:Sr.apiVersion&&(null===(er=(0,re.OA)(Sr.apiVersion))||void 0===er?void 0:er.major),apiMinorVersion:Sr.apiVersion&&(null===(ar=(0,re.OA)(Sr.apiVersion))||void 0===ar?void 0:ar.minor),visualMajorVersion:Sr.version&&(null===(sr=(0,re.OA)(Sr.version))||void 0===sr?void 0:sr.major),visualMinorVersion:Sr.version&&(null===(gr=(0,re.OA)(Sr.version))||void 0===gr?void 0:gr.minor)};zr=wr,function $r(Qr,zr,Or){void 0===Or&&(Or="");for(var ei=new Map(Object.entries(Qr)),Xr=0,Nr=Object.keys(Qr);Xr<Nr.length;Xr++){var Yr=Nr[Xr],Hr=ei.get(Yr),Zr=""!==Or?Or+"."+Yr:Yr;"boolean"==typeof Hr?Hr&&zr.push(Zr):$r(Hr,zr,Zr)}}(Gt,Or=[]),Or.forEach(function(ei){var Xr=ei.split("."),Nr=Xr[0],Yr=1===Xr.length?Xr[0]:Xr.slice(1).join(".");zr[Nr]=zr[Nr]?zr[Nr]+", "+Yr:Yr}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:(0,e.__assign)({},wr),activityName:Pe.aw,correlationId:null===(mr=this.telemetryService.root)||void 0===mr?void 0:mr.id,visualId:Sr.name})}function Vr(Qr,zr,Or){var ei=!1;return zr&&(ei=zr.propertyIdentifier?(0,oe.NA)(Qr,zr.propertyIdentifier,zr.defaultValue)===Or:zr.defaultValue===Or),ei}},ae.prototype.getFormattingModelAsync=function(){var fe=this;return this.asyncSerializer.enqueue(function(){var we=fe.promiseFactory.defer();return fe.proxy.postMessageAsync("getFormattingModel",[]).then(function(ze){var $e=ze;if(!$e)return we.resolve(null);var ot=function(ae,fe){return null==fe||fe.cards.forEach(function(we){var ze;null===(ze=null==we?void 0:we.groups)||void 0===ze||ze.forEach(function($e){var ot,_t,ke;null===(ot=null==$e?void 0:$e.slices)||void 0===ot||ot.forEach(function(dt){Q(dt,ae)}),null===(ke=null===(_t=null==$e?void 0:$e.container)||void 0===_t?void 0:_t.containerItems)||void 0===ke||ke.forEach(function(dt){var Tt,Wt;null===(Tt=null==dt?void 0:dt.slices)||void 0===Tt||Tt.forEach(function(Kt){Q(Kt,ae)}),null===(Wt=null==dt?void 0:dt.groups)||void 0===Wt||Wt.forEach(function(Kt){var Zt;null===(Zt=null==Kt?void 0:Kt.slices)||void 0===Zt||Zt.forEach(function(er){Q(er,ae)})})})})}),fe}(fe.dataViewSerializer,$e);we.resolve(ot)}).catch(function(ze){return we.reject(ze)}),we.promise})},ae.prototype.getSubSelectionStylesAsync=function(fe){var we=this;return this.asyncSerializer.enqueue(function(){var ze=we.promiseFactory.defer(),$e=we.convertToCustomVisualSubSelections(fe);return we.proxy.postMessageAsync("getSubSelectionStyles",[$e]).then(function(ot){if(!ot)return ze.resolve(void 0);var _t=function(ae,fe){var we;if(fe)return function(ae){var fe,we,ze;if(ae.type=null!==(fe=ae.type)&&void 0!==fe?fe:0,1===ae.type||2===ae.type){var $e={label:"",reference:{sliceUid:""}};"font"in ae&&(ae.font=null!==(we=ae.font)&&void 0!==we?we:$e),ae.fontColor=null!==(ze=ae.fontColor)&&void 0!==ze?ze:$e}}(fe),null===(we=Object.values(fe))||void 0===we||we.forEach(function(ze){u(ae,null==ze?void 0:ze.reference)}),fe}(we.dataViewSerializer,ot);ze.resolve(_t)}).catch(function(ot){return ze.reject(ot)}),ze.promise})},ae.prototype.getSubSelectionShortcutsAsync=function(fe,we){var ze=this;return this.asyncSerializer.enqueue(function(){var $e=ze.promiseFactory.defer(),ot=ze.convertToCustomVisualSubSelections(fe);return ze.proxy.postMessageAsync("getSubSelectionShortcuts",[ot,we]).then(function(_t){if(!_t)return $e.resolve(void 0);var ke=function(ae,fe){return null==fe||fe.forEach(function(we){if(we)switch(we.type){case 0:!function(ae,fe){m(ae,fe.relatedResetFormattingIds),m(ae,fe.excludedResetFormattingIds)}(ae,we);break;case 2:a(ae,we);break;case 6:u(ae,we);break;case 1:r(ae,we);break;case 8:!function(ae,fe){var we;null===(we=fe.shortcuts)||void 0===we||we.forEach(function(ze){if(ze)switch(ze.type){case 2:a(ae,ze);break;case 1:r(ae,ze);break;case 6:u(ae,ze)}})}(ae,we);break;case 9:!function(ae,fe){fe.referencesAndValues?m(ae,fe.referencesAndValues):fe.referencesAndValues=[]}(ae,we)}}),fe}(ze.dataViewSerializer,_t);$e.resolve(ke)}).catch(function(_t){return $e.reject(_t)}),$e.promise})},ae.prototype.getSubSelectablesAsync=function(fe){var we=this;return this.asyncSerializer.enqueue(function(){var ze=we.promiseFactory.defer();return we.proxy.postMessageAsync("getSubSelectables",[fe]).then(function($e){if(!$e)return ze.resolve(void 0);var ot=b(we.dataViewSerializer,$e);ze.resolve(ot)}).catch(function($e){return ze.reject($e)}),ze.promise})},ae.prototype.enumerateObjectInstancesAsync=function(fe){var we=this,ze=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[fe]).then(function($e){var ot=$e;if(!ot)return ze.resolve(null);var _t=we.proxy&&we.proxy.plugin&&we.proxy.plugin.apiVersion;if(ot.instances){var ke;if(ae.shouldSerializeDataView(_t)){var dt=we.dataViewSerializer.deserializeVisualObjectInstance(ot.instances);ke=(0,it.vB)(dt)}else ke=(0,it.vB)(ot.instances);var Tt={instances:ke,containers:ot.containers?(0,it.S4)(ot.containers):null};return ze.resolve(Tt)}ae.shouldSerializeDataView(_t)&&($e=we.dataViewSerializer.deserializeVisualObjectInstance($e));var Wt=(0,it.vB)($e);ze.resolve(Wt)}).catch(function($e){return ze.reject($e)}),ze.promise},ae.prototype.enumerateObjectRepetitionAsync=function(){var fe=this;return this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(function(we){if(!we)return fe.enumerateObjectRepetitionAsyncPromise.resolve(null);var $e=(0,Ue.vB)(we);fe.enumerateObjectRepetitionAsyncPromise.resolve($e)}).catch(function(we){return fe.enumerateObjectRepetitionAsyncPromise.reject(we)}),this.enumerateObjectRepetitionAsyncPromise.promise},ae.prototype.onSelect=function(fe){var we;if((0,U.FE)(fe)){var ze=fe;we={data:(0,c.UU)(ze.data),data2:(0,c.JF)(ze.data2),selectors:(0,c.UU)(ze.selectors)}}else we={type:0,visualObjects:(0,c.kg)(fe.visualObjects)};this.visualHostServices.onSelect(we)},ae.prototype.subSelect=function(fe){if(this.formatMode&&fe){var we,ze=b(this.dataViewSerializer,[fe]);if(ze&&ze[0]){var $e=this.fixCoordinates([ze[0].selectionOrigin.x,ze[0].selectionOrigin.y]);if(we=(0,e.__assign)((0,e.__assign)({},ze[0]),{type:1,selectionOrigin:{x:$e[0],y:$e[1]}}),this.visualHostServices.onSelect(we),ze[0].showUI){var ot=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:$e[0],clientY:$e[1]});"visual-area"!==ze[0].visualObjects[0].objectName&&(0,be.n)(ot),this.element.get(0).dispatchEvent(ot)}}}},ae.prototype.updateRegionOutlines=function(fe){var we=this;if(this.formatMode&&fe){var $e=function(ae,fe){for(var we=[],ze=Math.min(ae.length,fe.loopLimit),$e=0;$e<ze;$e++)y(ae[$e].outline,fe)&&we.push(ae[$e]);return we}(fe,{fixCoordinates:function(ke){return we.fixCoordinates(ke)},loopLimit:1e5,scale:this.viewPortScale}),ot=this.visualHostServices.getSubSelectionService();null==ot||ot.updateRegionOutlines($e)}},ae.prototype.convertToCustomVisualSubSelections=function(fe){var we=this;if(fe)return fe.map(function(ze){var $e=ze.visualObjects.map(function(ot){var _t=ot.selectorsByColumn&&we.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(ot.selectorsByColumn);return{objectName:ot.objectName,selectionId:_t&&new N.r(_t.serializedDataMap,_t.measures)}});return(0,e.__assign)((0,e.__assign)({},ze),{visualObjects:[],customVisualObjects:$e})})},ae.prototype.transformCvSelectionIdsAndSelect=function(fe){var we;if(this.visualSelections=[],fe.selectionIds){we={type:0,visualObjects:[]};for(var ze=0,$e=fe.selectionIds;ze<$e.length;ze++){var ot=$e[ze];ot=new N.r(ot.dataMap,ot.measures);var ke=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ot).getSelectorsByColumn();we.visualObjects.push({objectName:"dataPoint",selectorsByColumn:ke}),this.visualSelections.push(ke)}}else we={type:0,visualObjects:[]};we.selectionMode=fe.multiSelect?3:0,this.visualHostServices.onSelect(we)},ae.prototype.onRestoreCvSelectionIds=function(fe){if(fe.selection){var we=this.RestoreCvSelectionIds(fe.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[we]),!0}},ae.prototype.RestoreCvSelectionIds=function(fe){this.visualSelections=fe;for(var we=[],ze=0,$e=fe;ze<$e.length;ze++){var ot=$e[ze];if(ot){var _t=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(ot);_t&&we.push(_t)}}return we},ae.prototype.onUpdateResult=function(fe){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!fe)},ae.prototype.onRelayUIEvent=function(fe){var we=this.element.offset();if(null!=we){var ze;switch(fe.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":ze=new MouseEvent(fe.type,{screenX:fe.screenX,screenY:fe.screenY,clientX:fe.clientX?fe.clientX+we.left:we.left,clientY:fe.clientY?fe.clientY+we.top:we.top,ctrlKey:fe.ctrlKey,shiftKey:fe.shiftKey,altKey:fe.altKey,metaKey:fe.metaKey,buttons:fe.buttons,relatedTarget:fe.relatedTarget,bubbles:fe.bubbles});break;case"tap":case"touchend":case"touchcancel":var ke=fe,dt=this.createTouchList(ke.touches,we),Tt=this.createTouchList(ke.changedTouches,we),Wt=this.createTouchList(ke.targetTouches,we);ze=new TouchEvent(ke.type,{touches:dt,targetTouches:Wt,changedTouches:Tt,view:window,ctrlKey:ke.ctrlKey,shiftKey:ke.shiftKey,altKey:ke.altKey,metaKey:ke.metaKey});break;case"keydown":ze=new KeyboardEvent(fe.type,{altKey:fe.altKey,bubbles:fe.bubbles,cancelable:fe.cancelable,code:fe.code,composed:fe.composed,ctrlKey:fe.ctrlKey,key:fe.key,keyCode:fe.keyCode,metaKey:fe.metaKey,shiftKey:fe.shiftKey});break;default:return}this.element.get(0).dispatchEvent(ze)}},ae.prototype.createTouchList=function(fe,we){var ze=[];if(null==fe)return ze;for(var $e=0;$e<fe.length;$e++){var ot=fe.item($e),_t=new Touch({identifier:ot.identifier,target:ot.target,clientX:ot.clientX?ot.clientX+we.left:we.left,clientY:ot.clientY?ot.clientY+we.top:we.top,screenX:ot.screenX,screenY:ot.screenY,pageX:ot.pageX?ot.pageX+we.left:we.left,pageY:ot.pageY?ot.pageY+we.top:we.top,radiusX:ot.radiusX,radiusY:ot.radiusY,rotationAngle:ot.rotationAngle,force:ot.force});ze.push(_t)}return ze},ae.prototype.persistProperties=function(fe){var ze,we=fe;we.merge||we.remove||we.replace?(this.deserilizePersistedSelectors(we),ze={merge:we.merge?(0,it.vB)(we.merge):null,remove:we.remove?(0,it.vB)(we.remove):null,replace:we.replace?(0,it.vB)(we.replace):null}):ze=(0,it.vB)(fe),this.visualHostServices.persistProperties(ze)},ae.prototype.deserilizePersistedSelectors=function(fe){var we=this,ze=function(ot){null==ot||ot.map(function(_t){return we.dataViewSerializer.deserializeOpaqueIdentity(_t.selector),_t})};ze(fe.merge),ze(fe.remove),ze(fe.replace)},ae.prototype.applyJsonFilter=function(fe,we,ze,$e){fe&&fe.length>0&&8===fe[0].filterType?this.applyIdentityFilter(fe,we,ze,$e):this.visualHostServices.applyJsonFilter(fe,we,ze,$e)},ae.prototype.refreshHostData=function(){this.visualHostServices.refreshHostData()},ae.prototype.setCanDrill=function(fe,we){this.featureSwitchService.featureSwitches.drillStateToggleable&&(we({telemetryServiceArgs:{drillAllowed:fe}}),this.visualHostServices.setCanDrill(fe))},ae.prototype.drill=function(fe){null==fe||!fe.roleName||null==fe||!fe.drillType||this.visualHostServices.drill(fe)},ae.prototype.onCustomVisualContextMenu=function(fe,we){var ze,$e;if(fe&&fe.data&&fe.position&&fe.data[0]){var Tt,_t=fe.data[0],ke=new N.r(_t.dataMap,_t.measures,_t.nodeIsCollapsed,_t.nodeIndexes),dt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if((null===(ze=this.proxy)||void 0===ze?void 0:ze.isDebug)||(null===($e=this.proxy)||void 0===$e?void 0:$e.plugin),dt&&dt.expandCollapse){var Kt=this.getRowsRoles(dt);Kt&&_.isEqual(Kt,fe.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(ke)?(Tt=this.dataViewSerializer.getNodeIndexOfSelectionId(ke),_.isEmpty(Tt)&&(we({telemetryServiceArgs:{expandCollapseAborted:!0}}),Tt=void 0,fe.dataRoles=void 0)):(we({telemetryServiceArgs:{expandCollapseAborted:!0}}),fe.dataRoles=void 0))}var er=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ke),ar=this.fixCoordinates([fe.position.x,fe.position.y]),sr=er.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:sr?[sr]:void 0,nodeIndex:Tt,position:{x:ar[0],y:ar[1]},copyArgs:fe.copyArgs,dataRoles:fe.dataRoles})}},ae.prototype.onCustomVisualExpandCollapse=function(fe,we){var ze,$e,_t=fe&&fe.data,ke=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,dt=this.getRowsRoles(ke);if((null===(ze=this.proxy)||void 0===ze?void 0:ze.isDebug)||(null===($e=this.proxy)||void 0===$e?void 0:$e.plugin),_t&&null!=_t.nodeIsCollapsed&&ke&&ke.expandCollapse&&dt)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(_t)){var Kt=this.dataViewSerializer.getNodeIndexOfSelectionId(_t);if(_.isEmpty(Kt))we({telemetryServiceArgs:{aborted:!0}});else{var Zt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(_t).getSelectorsByColumn();fe.entireLevel?this.visualHostServices.setLevelExpansionState({data:Zt,dataRoles:dt,isCollapse:!_t.nodeIsCollapsed,nodeIndex:Kt}):this.visualHostServices.setNodeExpansionState({data:Zt,dataRoles:dt,isCollapse:!_t.nodeIsCollapsed,nodeIndex:Kt})}}else we({telemetryServiceArgs:{aborted:!0}});else we({telemetryServiceArgs:{aborted:!0}})},ae.prototype.exportVisualsContentStatusInternal=function(){var fe=this.privilegeService.getExportContentStatus(this.proxy.plugin);return 0===fe&&!this.isExportVisualsContentSupported&&(fe=2),fe},ae.prototype.exportVisualsContentStatus=function(fe){var we=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:we,promiseId:fe}])},ae.prototype.exportVisualsContent=function(fe,we,ze,$e,ot,_t){var dt,ke=this,Tt=this.exportVisualsContentStatusInternal();0===Tt||3===Tt?new Y(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(fe,this.proxy.plugin.name+"_"+we,ze,$e,ot).then(function(sr){ke.proxy.postMessage("handleExportVisualsContent",[sr])}):(_t({telemetryServiceArgs:{cvHostEnvironment:null!==(dt=this.visualSandboxOptions)&&void 0!==dt&&dt.hostEnv?Re[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",Tt),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:ot}]))},ae.prototype.onSwitchFocusModeState=function(fe){this.visualHostServices.onSwitchFocusModeState(fe)},ae.prototype.onDisplayWarningIcon=function(fe,we,ze){var _t=De.Jh,ke=new A.VS(De.j,fe.substr(0,De.IQ),we.substr(0,_t));this.visualHostServices.setWarnings([ke]),ze({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})},ae.prototype.getRowsRoles=function(fe){var we=fe&&fe.dataViewMappings&&fe.dataViewMappings[0]&&fe.dataViewMappings[0].matrix&&fe.dataViewMappings[0].matrix.rows;return we?Se.nG.fromMatrixRows(we):void 0},ae.prototype.fixCoordinates=function(fe){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return fe;var we=this.element.offset();return fe[0]=fe[0]*this.viewPortScale+we.left,fe[1]=fe[1]*this.viewPortScale+we.top,fe},ae.prototype.deserializeIdentities=function(fe){if(fe&&ae.shouldSerializeDataView(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion)){for(var ze=[],$e=0,ot=fe;$e<ot.length;$e++)ze.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ot[$e]));return ze&&_(ze).map(function(Tt){return Tt.getSelectorsByColumn()}).compact().value()}return fe&&_(fe).map(function(Tt){return(0,c.JF)(Tt)}).compact().value()},ae.prototype.showTooltip=function(fe){if(this.tooltipService&&this.tooltipService.enabled()){var we=_.cloneDeep(fe);we.coordinates=this.fixCoordinates(we.coordinates),we.identities=this.deserializeIdentities(fe.identities),this.tooltipService.show(we)}},ae.prototype.moveTooltip=function(fe){if(this.tooltipService&&this.tooltipService.enabled()){var we=_.cloneDeep(fe);we.coordinates=this.fixCoordinates(we.coordinates),we.identities=this.deserializeIdentities(fe.identities),this.tooltipService.move(we)}},ae.prototype.hideTooltip=function(fe){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(fe)},ae.prototype.getAvailableServicePlans=function(fe){var we=this;if(this.telemetryService.logEvent(Pe.$7,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(Pe.th),this.licenseService){var ze=this.proxy.plugin.name;ze=this.proxy.isDebug?ze.substring(0,ze.lastIndexOf("_DEBUG")):ze,this.licenseService.getServicePlans(ze).then(function(ot){if(!ot)throw Error("servicePlansResponse is undefined");we.proxy.postMessage("handleLicenseResult",[{promiseId:fe,licenseInfoResult:{plans:ot.servicePlans,isLicenseUnsupportedEnv:ot.isLicenseUnsupported,isLicenseInfoAvailable:ot.isLicenseInfoAvailable}}])}).catch(function(){we.telemetryService.logEvent(Pe.L1,{visualType:we.proxy.plugin.name}),we.proxy.postMessage("handleLicenseResult",[{promiseId:fe,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(Pe.IC,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:fe,licenseInfoResult:void 0}])},ae.prototype.acquireAADToken=function(fe){return(0,e.__awaiter)(this,void 0,void 0,function(){var we,ze;return(0,e.__generator)(this,function($e){switch($e.label){case 0:return ze=(we={promiseId:fe,data:{accessToken:null}}).data,[4,this.customVisualsTokenManagerService.acquireTokenForCustomVisual(this.proxy.plugin,this.proxy.isDebug)];case 1:return ze.accessToken=$e.sent(),this.proxy.postMessage("handleAcquireAADTokenResult",[we]),[2]}})})},ae.prototype.getAcquireAADTokenStatus=function(fe,we){var ze=this.getAcquireAADTokenPrivilegeStatus(),$e=Ge[ze];we({activityAttributesArgs:{status:$e},telemetryServiceArgs:{status:$e}}),this.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:fe,status:ze}])},ae.prototype.getAcquireAADTokenPrivilegeStatus=function(){var fe=this.privilegeService.getAcquireAADTokenStatus(this.proxy.plugin);return 0!==fe||this.isAcquireAADTokenSupported()?fe:2},ae.prototype.isAcquireAADTokenSupported=function(){return this.isDebugOrApprovedResource()&&!!this.privilegeService.getAcquireAADTokenAudience(this.proxy.plugin,this.proxy.isDebug)},ae.prototype.isDebugOrApprovedResource=function(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)},ae.prototype.notifyLicenseRequired=function(fe,we){return(0,e.__awaiter)(this,void 0,Be.J,function(){var ze,$e,ot;return(0,e.__generator)(this,function(_t){switch(_t.label){case 0:return ze={promiseId:we,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return $e=_t.sent(),null==fe||$e!==(1===fe)||0===fe&&1!==this.visualHostServices.getViewMode()?ze.licenseNotificationResult=!1:(this.visualHostServices.onNotifyLicense(fe),ze.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[ze]),this.telemetryService.logEvent(Pe.Fh,{visualType:this.proxy.plugin.name,notificationType:ot=null==fe?"null":ce[fe],responseValue:ze.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Pe.Yv,{notificationType:ot,responseValue:ze.licenseNotificationResult}),[2]}})})},ae.prototype.notifyFeatureBlocked=function(fe,we){return(0,e.__awaiter)(this,void 0,Be.J,function(){var ze;return(0,e.__generator)(this,function(ot){switch(ot.label){case 0:return ze={promiseId:we,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return ot.sent()?ze.licenseNotificationResult=!1:(this.visualHostServices.onNotifyFeatureBlocked(fe),ze.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[ze]),this.telemetryService.logEvent(Pe.Px,{visualType:this.proxy.plugin.name,responseValue:ze.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Pe.QC,{responseValue:ze.licenseNotificationResult}),[2]}})})},ae.prototype.clearLicenseNotification=function(fe){var we={promiseId:fe,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[we]),this.telemetryService.logEvent(Pe.VN,{visualType:this.proxy.plugin.name,responseValue:we.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Pe.rY,{responseValue:we.licenseNotificationResult})},ae.prototype.logLicensingStandardizedFeatureEvent=function(fe,we){var ze;this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:we,activityName:fe,correlationId:null===(ze=this.telemetryService.root)||void 0===ze?void 0:ze.id,visualId:this.proxy.plugin.name})},ae.prototype.loadMoreData=function(fe){var we=this;this.canHandleLoadMoreData&&(void 0===fe&&(fe=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(function(ze){if(we.proxy&&we.proxy.plugin&&ae.shouldSerializeDataView(we.proxy.plugin.apiVersion)&&ze&&ze.result&&ze.result.dataReaderResult&&ze.result.dataReaderResult.dataView){W.fF.assert(function(){return!!we.dataViewSerializer.identitiesArray},"identitiesArray should be defined because update was called");var $e=we.proxy.plugin,ot=ze.result.dataReaderResult.dataView;ot=(0,B.nn)({prototype:ot,objectDescriptors:$e.capabilities?$e.capabilities.objects:null,dataViewMappings:$e.capabilities?$e.capabilities.dataViewMappings:null,transforms:we.dataTransforms,colorAllocatorFactory:(0,L.V)(),dataRoles:$e.capabilities?$e.capabilities.dataRoles:null,drillCapabilities:$e.capabilities&&$e.capabilities.drilldown,expandCollapseCapabilties:$e.capabilities&&$e.capabilities.expandCollapse,visualStyle:we.visualStyle,keepAllMetadataColumnsCapability:!!$e.capabilities&&$e.capabilities.keepAllMetadataColumns,featureSwitches:we.featureSwitches}).dataViews[0];var _t=we.dataViewSerializer.serializeDataViewForCv(ot,$e.capabilities,!0,(0,re.gt)($e.apiVersion,"3.5.9"),ze.secondToLastNodesIndex,(0,re.ge)($e.apiVersion,"5.3.0"));$e.capabilities&&$e.capabilities.expandCollapse&&we.visualAdapterHostServices.mergeNewSegmentDataView(ze),we.proxy.postMessageAsync("handleLoadMoreDataResult",[_t,fe,ze.secondToLastNodesIndex]).then(function(){ze.performanceActivity&&ze.performanceActivity.resolve()})}else we.proxy.postMessageAsync("handleLoadMoreDataResult",[ze&&ze.result,fe,void 0]).then(function(){ze.performanceActivity&&ze.performanceActivity.resolve()});we.canHandleLoadMoreData=!0}).catch(function(ze){we.visualAdapterHostServices.stopProgressBar(),we.canHandleLoadMoreData=!0})))},ae.prototype.getResourceUrl=function(fe,we){var ze=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(fe).then(function($e){ze.proxy.postMessage("handleGetResourceUrlResult",[{payload:$e,isError:!1,promiseId:we}])}).catch(function($e){ze.proxy.postMessage("handleGetResourceUrlResult",[{payload:$e,isError:!0,promiseId:we}])})},ae.prototype.getAADAuthenticationToken=function(fe,we){var ze=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(fe).then(function($e){ze.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:$e.payload,isError:!1,promiseId:we,resourceUrl:$e.resourceUrl}])}).catch(function($e){ze.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:$e,isError:!0,promiseId:we}])})},ae.prototype.getAADToken=function(fe,we){var ze=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(fe).then(function($e){ze.proxy.postMessage("handleGetAADTokenResult",[{payload:$e,isError:!1,promiseId:we}])}).catch(function($e){ze.proxy.postMessage("handleGetAADTokenResult",[{payload:$e,isError:!0,promiseId:we}])})},ae.prototype.getWACToken=function(fe,we,ze,$e){var ot=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(fe,we,ze).then(function(_t){ot.proxy.postMessage("handleGetWACTokenResult",[{payload:_t.accessToken,wacToken:_t,isError:!1,promiseId:$e}])}).catch(function(_t){ot.proxy.postMessage("handleGetWACTokenResult",[{payload:_t,isError:!0,promiseId:$e}])})},ae.prototype.launchUrl=function(fe){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(fe,this.proxy.plugin.name)},ae.prototype.openModalDialog=function(fe,we,ze,$e){var ot,ke,dt,_t=this;if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||null===(dt=null===(ke=this.initOptions)||void 0===ke?void 0:ke.interactivity)||void 0===dt||!dt.allowModalDialog||fe.length>80||/[^0-9a-zA-Z_ \.]/.test(fe))this.proxy.postMessage("handleModalDialogResult",[{promiseId:$e,isError:!0,data:{error:rt.NotAllowed}}]);else if(ae.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:$e,isError:!0,data:{error:rt.BlockedByUser}}]);else{we.position&&1===we.position.type&&(ot=this.fixCoordinates([we.position.left,_.clamp(we.position.top,0,we.position.top)]),we.position.left=ot[0],we.position.top=ot[1]);var Wt=new Oe((0,F.zC)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),Kt=this.proxy.plugin.displayName,Zt=this.visualSandboxOptions.dialogSandboxUri,er=this.visualSandboxOptions.sandboxPropertiesString,ar=JSON.stringify(ze),sr=this.generateDialogScript(fe,ar),gr=this.proxy.plugin.content.css,St=this.visualSandboxOptions.openIFrameDialog({title:Kt,subTitle:we.title,iconUrl:this.proxy.plugin.iconUrl,size:we.size,position:we.position,actionButtons:we.actionButtons,sandboxProperties:er,iframeSrc:Zt,onIframeLoad:function(rr){rr.contentWindow&&(Wt.iframe=rr,rr.contentWindow.postMessage({messageType:"DialogContent",style:gr,scriptContent:sr},"*"))},onBlockRequest:function(rr){ae.dialogBlockedVisuals[_t.proxy.plugin.name]=rr},onClose:function(rr){Wt.dialog=null,_t.proxy.postMessage("handleModalDialogResult",[{promiseId:$e,data:{actionId:rr,resultState:Wt.modalDialogState}}]),Wt.destroy()}});St?Wt.dialog=St:this.proxy.postMessage("handleModalDialogResult",[{promiseId:$e,isError:!0,data:{error:rt.AlreadyOpen}}])}},ae.prototype.getLocalStorageStatusInternal=function(){var fe=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return 0===fe&&(fe=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?0:3),fe},ae.prototype.isLocalStoragePermitted=function(){var fe=this.getLocalStorageStatusInternal(),we=0===fe;return we||this.logPrivilegesViolation("LocalStorage",fe),we},ae.prototype.getStorageStatus=function(fe,we){var $e={promiseId:fe,status:this.getLocalStorageStatusInternal()};we({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[$e])},ae.prototype.getStorageData=function(fe,we){var ze;if(this.isLocalStoragePermitted()){var $e=me.getData(null===(ze=(0,ne.bG)())||void 0===ze?void 0:ze.puid,this.proxy.plugin.name,fe);this.proxy.postMessage("handleGetStorageData",[{promiseId:we,data:$e}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:we,data:null}])},ae.prototype.setStorageData=function(fe,we,ze){var $e;if(this.isLocalStoragePermitted()){var ot=me.setData(null===($e=(0,ne.bG)())||void 0===$e?void 0:$e.puid,this.proxy.plugin.name,fe,we);this.proxy.postMessage("handleSetStorageData",[{promiseId:ze,freeSpace:ot,isError:ot<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:ze,freeSpace:0,isError:!0}])},ae.prototype.removeStorageData=function(fe){var we;this.isLocalStoragePermitted()&&me.remove(null===(we=(0,ne.bG)())||void 0===we?void 0:we.puid,this.proxy.plugin.name,fe)},ae.prototype.getStorageV2Status=function(fe,we){return(0,e.__awaiter)(this,void 0,Be.J,function(){var ze,$e;return(0,e.__generator)(this,function(ot){switch(ot.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Status(this.proxy.plugin)];case 1:return ze=ot.sent(),$e={status:ze,promiseId:fe},we({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[$e]),[2]}})})},ae.prototype.getStorageV2Data=function(fe,we){return(0,e.__awaiter)(this,void 0,Be.J,function(){var ze,$e;return(0,e.__generator)(this,function(ot){switch(ot.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Data(fe,this.proxy.plugin)];case 1:return ze=ot.sent(),$e=(0,e.__assign)({promiseId:we},ze),this.proxy.postMessage("handleGetStorageV2Data",[$e]),[2]}})})},ae.prototype.setStorageV2Data=function(fe,we,ze){return(0,e.__awaiter)(this,void 0,Be.J,function(){var $e,ot;return(0,e.__generator)(this,function(_t){switch(_t.label){case 0:return[4,this.visualLocalStorageV2ProxyService.setStorageV2Data(fe,we,this.proxy.plugin)];case 1:return $e=_t.sent(),ot=(0,e.__assign)({promiseId:ze},$e),this.proxy.postMessage("handleSetStorageV2Data",[ot]),[2]}})})},ae.prototype.removeStorageV2Data=function(fe){return(0,e.__awaiter)(this,void 0,Be.J,function(){return(0,e.__generator)(this,function(we){return this.visualLocalStorageV2ProxyService.removeStorageV2Data(fe,this.proxy.plugin),[2]})})},ae.prototype.onSecurityPolicyViolation=function(fe,we,ze){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,fe),'{"violatedDirective": "'.concat(we,'", "blockedURI": "').concat(fe,'"}'))},ae.prototype.onGlobalUndefinedGet=function(fe){if(fe.length>256||/[^0-9a-zA-Z_\.]/.test(fe))W.fF.assert(function(){return!1},"invalid property provided");else{var we="powerbi.visuals.plugins.".concat(this.proxy.plugin.name);if(!fe.startsWith(we)){var ze="".concat(this.proxy.plugin.name,":").concat(fe);ae.globalUndefinedGets.has(ze)||(ae.globalUndefinedGets.add(ze),this.logUndefinedGet(fe))}}},ae.prototype.stopProgressBar=function(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()},ae.prototype.onRestoreSelection=function(fe){return this.proxy.postMessage("onRestoreSelection",[fe]),!0},ae.prototype.onClearSelection=function(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])},ae.prototype.destroy=function(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()},ae.prototype.logPrivilegesViolation=function(fe,we,ze){var $e,_t=null!==($e=this.visualSandboxOptions)&&void 0!==$e&&$e.hostEnv?Re[this.visualSandboxOptions.hostEnv]:"Undefined";this.telemetryService.logEvent(Pe.rZ,{visualType:this.proxy.plugin.name,environment:_t,privilege:fe,status:Ge[we],parameters:ze})},ae.prototype.logUndefinedGet=function(fe){this.telemetryService.logEvent(Pe.Pp,{visualType:this.proxy.plugin.name,property:fe,externalMigration:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVBundle:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})},ae.prototype.resize=function(fe){this.viewPortScale=fe.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:fe.width,height:fe.height})},ae.shouldSerializeDataView=function(fe){return!(!fe||!O.n)&&((0,re.gt)(fe,"2.0.0")||(0,re.eq)(fe,"2.0.0"))},ae.prototype.shouldUpdateWithCachedData=function(fe){return(!fe.visualDefinitionData||!fe.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),fe.visualDefinitionData&&fe.visualDefinitionData.dataViewSource&&fe.visualDefinitionData.dataViewSource===this.lastDataViewSource},ae.prototype.generateDialogScript=function(fe,we){return this.proxy.plugin.content.js+"\n"+'const host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            '.concat(this.proxy.plugin.name,".default.createModalDialog('").concat(fe,"', dialogConstructionOptions, ").concat(we,');\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");')},ae.prototype.applyIdentityFilter=function(fe,we,ze,$e){var ot=fe[0].target;if(!(0,re.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){$e=ot&&ot.length>0?0:1;var ke=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(ot);this.visualHostServices.applyIdentityFilter(ke,we,ze,$e)}},ae.prototype.applyCustomSort=function(fe,we){var ze,$e,ot,_t,ke,dt,Wt=!(null===(_t=null===(ot=null===($e=null===(ze=this.proxy)||void 0===ze?void 0:ze.plugin)||void 0===$e?void 0:$e.capabilities)||void 0===ot?void 0:ot.sorting)||void 0===_t||!_t.custom);fe&&fe.sortDescriptors&&Wt?this.visualHostServices.onCustomSort({sortDescriptors:fe.sortDescriptors,suppressAnnouncements:!0}):((null===(ke=this.proxy)||void 0===ke?void 0:ke.isDebug)||(null===(dt=this.proxy)||void 0===dt?void 0:dt.plugin),we({telemetryServiceArgs:{aborted:!0}}))},ae.dialogBlockedVisuals={},ae.globalUndefinedGets=new Set,(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onSelect",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"subSelect",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"updateRegionOutlines",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"transformCvSelectionIdsAndSelect",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onUpdateResult",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[UIEvent]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onRelayUIEvent",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"persistProperties",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"applyJsonFilter",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Dynamic Drill Control",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"setCanDrill",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"drill",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Context Menu",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onCustomVisualContextMenu",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Expand/Collapse",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onCustomVisualExpandCollapse",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"exportVisualsContentStatus",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Download a File From CV",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"exportVisualsContent",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onSwitchFocusModeState",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Informative Icon",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onDisplayWarningIcon",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Report Tooltips"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"showTooltip",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"moveTooltip",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"hideTooltip",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"getAvailableServicePlans",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Acquire AAD Token"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Promise)],ae.prototype,"acquireAADToken",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Acquire AAD Token Status",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"getAcquireAADTokenStatus",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Number]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"notifyLicenseRequired",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"notifyFeatureBlocked",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"clearLicenseNotification",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Fetch More Data"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"loadMoreData",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"launchUrl",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Modal Dialog"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"openModalDialog",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"getStorageStatus",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"getStorageData",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"setStorageData",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"removeStorageData",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage V2",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"getStorageV2Status",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"getStorageV2Data",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"setStorageV2Data",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",Be.J)],ae.prototype,"removeStorageV2Data",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onSecurityPolicyViolation",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"onGlobalUndefinedGet",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"stopProgressBar",null),(0,e.__decorate)([(0,R.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"applyIdentityFilter",null),(0,e.__decorate)([(0,R.td)(),(0,I.V)("Apply Custom Sort",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],ae.prototype,"applyCustomSort",null),ae}()},818204:function(Je,H,t){t.d(H,{n:function(){return p}});var e=t(787941),c=t(19632),s=t(161414),f=t(152200),v=t(477898),h="children",p=function(){function n(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}return n.prototype.serializeDataViewForCv=function(l,r,o,a,i,m,u){var V=this;if(void 0===m&&(m=!1),void 0===u&&(u=!1),o||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),l){l=this.filterDataViewsType(l,r),this.isExpandCollapseSupported=!!l.matrix&&!!r.expandCollapse,this.isExpandCollapseSupported&&(o&&(e.fF.assert(function(){return!_.isEmpty(i)},"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=i),l.matrix.rows.levels.forEach(function(y,C){y.sources&&y.sources[0]&&y.sources[0].queryName&&(V.rowsLevel.length>C?V.rowsLevel[C]=y.sources[0].queryName:V.rowsLevel.push(y.sources[0].queryName))}));var d=this.getValueSource(l),S=this.getValueGroups(l);this.shouldShareIdentityIndexStrategy=m&&!!l.matrix,u&&(u=!!l.matrix&&(0,v.wn)(r));var g=JSON.stringify(l,function(y,C){return V.replacer(y,C,a,u)});return e.fF.assert(function(){return _.isEmpty(V.stackNodeIndex)},"stackNodeIndex should be empty"),{valueSource:d,valueGroups:S,stringifiedDataView:g}}},n.prototype.serializeDataViewMetadata=function(l){var r=this;return l.metadata?JSON.stringify(l.metadata,function(o,a){return r.replacer(o,a)}):null},n.prototype.deserializeDataView=function(l,r,o,a,i){var u,m=this;return void 0===o&&(o=!1),void 0===a&&(a=[]),void 0===i&&(i=!1),this.isExpandCollapseSupported=o,this.lastNodeIndex=a,u=r||this.isExpandCollapseSupported&&i?JSON.parse(l.stringifiedDataView,function(V,d){return m.deserializeDataViewHelper(V,d,i)}):JSON.parse(l.stringifiedDataView),this.reconstructValuesGroups(u,l),this.reconstructValuesSource(u,l),u},n.prototype.convertOpaqueIdentitiesToScopeIds=function(l){var r=[];if(l&&l.length>0)for(var o=0,a=l;o<a.length;o++){var i=a[o],m=this.replaceOpaqueIndexWithScopeIds(i);m&&(m.opaqueIdentity={identityIndex:i},r.push(m))}return r},n.prototype.getDataViewScopeIdentityByCustomVisualOpaqueIdentity=function(l){return this.replaceOpaqueIndexWithScopeIds(l.identityIndex)},n.prototype.convertCVSelectionIdToPowerbiSelctionId=function(l){var r=this,o=JSON.parse(JSON.stringify(l),function(a,i){return r.replaceOpaqueIdentitiesWithDataViewScopeIdentities(a,i)});return s.l0.createWithSelectorForColumnAndMeasures(o.dataMap,o.measures)},n.prototype.restoreIdentitiesIndexesFromSelectionId=function(l){var r=this,o={serializedDataMap:{},measures:l.metadata};return _.map(l.dataMap,function(a,i){e.fF.assert(function(){return a.length<=1},"dataMap can only have one selector per column"),o.serializedDataMap[i]=[{identityIndex:r.ensureIdentityIsMapped(a[0])}]}),o},n.prototype.getNodeIndexOfSelectionId=function(l){var r,o=[];if(l&&l.dataMap){if(null!==(r=l.nodeIndexes)&&void 0!==r&&r.length)return l.nodeIndexes;for(var a in l.dataMap){var i=_.first(l.dataMap[a]).identityIndex;null!=this.identityNodeIndexArray[i]&&o.push(this.identityNodeIndexArray[i])}}return o},n.prototype.sortSelectionIdAccordingToRows=function(l){var r=this;if(!l||!l.dataMap)return!1;var o=Object.keys(l.dataMap),a=Object.keys(l.dataMap).sort(function(u,V){return r.rowsLevel.indexOf(u)-r.rowsLevel.indexOf(V)}),i=!_.isEmpty(a)&&!_.isEmpty(this.rowsLevel)&&a.length<=this.rowsLevel.length&&a.every(function(u,V){return u===r.rowsLevel[V]});if(i){var m=l.nodeIndexes;null!=m&&m.length&&m.length===o.length&&(l.nodeIndexes=Object.entries(m).sort(function(u,V){var S=V[0];return r.rowsLevel.indexOf(o[Number(u[0])])-r.rowsLevel.indexOf(o[Number(S)])}).map(function(u){return u[1]})),l.dataMap=a.reduce(function(u,V){return u[V]=l.dataMap[V],u},{})}return i},n.prototype.deserializeVisualObjectInstance=function(l){var r=this;return JSON.parse(JSON.stringify(l,function(o,a){return r.replaceOpaqueIdentities(a)}))},n.prototype.deserializeOpaqueIdentity=function(l){var r=this;null!=l&&l.data&&(l.data=l.data.map(function(o){return r.replaceOpaqueIdentities(o)}))},n.prototype.flushIdentitiesArray=function(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(function(l){l.opaqueIdentity=void 0,l.serializeDataViewFromScrathTimes=void 0})},n.prototype.getCustomVisualOpaqueIdentityByDataViewScopeIdentity=function(l){return{identityIndex:this.ensureIdentityIsMapped(l)}},n.prototype.getDataViewValueByCustomVisualOpaqueIdentity=function(l){var r=l.identityIndex;if(r>=0)return this.matrixIdentityToValueMapper.get(r)},n.prototype.getValueGroups=function(l){var r=this;if(l&&l.categorical&&l.categorical.values&&l.categorical.values.grouped){var o=l.categorical.values.grouped();return JSON.stringify(o,function(a,i){return r.replacer(a,i)})}return null},n.prototype.getValueSource=function(l){return l&&l.categorical&&l.categorical.values&&l.categorical.values.source?l.categorical.values.source:null},n.prototype.deserializeDataViewHelper=function(l,r,o){var a,i,m;if(r&&(o&&this.isExpandCollapseSupported&&!isNaN(parseInt(l,10))&&null!=(null===(a=r.identity)||void 0===a?void 0:a.identityIndex)&&(r.nodeIndex=null!==(i=r.nodeIndex)&&void 0!==i?i:parseInt(l,10)),l===h&&r instanceof Array)){if(o&&this.isExpandCollapseSupported&&!_.isEmpty(r)&&_.first(r).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var u in r){var V=r[u];V.identity&&(V.nodeIndex=null!==(m=V.nodeIndex)&&void 0!==m?m:Number(u),V.nodeIndex+=this.lastNodeIndex[V.level])}for(var d=0;d<r.length;d++)if(r[d]&&(r[d].isDate&&(r[d].value=new Date(r[d].value)),r[d].values))for(var S in r[d].values)r[d].values[S].isDate&&(r[d].values[S].value=new Date(r[d].values[S].value))}return r},n.prototype.replacer=function(l,r,o,a){var m,u,i=this;if(void 0===a&&(a=!1),r){if(a&&r.levelValues&&this.isDataViewScopeIdentity(r.identity)&&this.valuesStack.push(null===(u=null===(m=r.levelValues)||void 0===m?void 0:m[0])||void 0===u?void 0:u.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(l,10))&&r.identity&&this.isDataViewScopeIdentity(r.identity)&&(this.stackNodeIndex.push(parseInt(l,10)+this.getNodeIndexOffset(r)),r.needOffset&&delete r.needOffset),this.isDataViewScopeIdentity(r)){if(r.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&r.opaqueIdentity&&null!=r.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var V=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]=V)}return{identityIndex:r.opaqueIdentity.identityIndex}}e.fF.assert(function(){return _.isEmpty(i.lastNodeIndex)||!_.isEmpty(i.lastNodeIndex)&&null==r.opaqueIdentity},"The new segment's values should not have opaqueIdentity"),r.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var d=-1;return this.shouldShareIdentityIndexStrategy&&(d=this.getIndexOfIdentity(r))>-1?(r.opaqueIdentity={identityIndex:d},this.valuesStack.pop()):(r.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[r.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(r)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),r.opaqueIdentity}if(r instanceof Array){var S=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&l===h&&r.length&&r[0].isMerge)for(var g=0,y=r;g<y.length;g++){var C=y[g];C.identity&&(C.needOffset=!0)}if(o&&l===h)for(var E=0;E<r.length;E++)if(r[E]&&(r[E].value&&r[E].value instanceof Date&&(r[E].isDate=!0),r[E].values))for(var M in r[E].values)r[E].values[M].value&&r[E].values[M].value instanceof Date&&(r[E].values[M].isDate=!0);return S.push.apply(S,r||[]),S}if("object"==typeof r&&!this.dontNeedToClone(r)){var P={};for(var T in r)P[T]=r[T];return P}}return r},n.prototype.replaceOpaqueIdentities=function(l){if(l){var r=l.identityIndex;if(void 0!==r&&r>=0&&r<this.identitiesArray.length)return(0,f.m)(this.identitiesArray[l.identityIndex])}return l},n.prototype.getNodeIndexOffset=function(l){var r=this;return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&l.needOffset?(e.fF.assert(function(){return l.level<r.lastNodeIndex.length},"node's level is too high"),this.lastNodeIndex[l.level]):0},n.prototype.getIndexOfIdentity=function(l){if(this.shouldShareIdentityIndexStrategy){var r=this.identitiesIndexesMapper[l.key];return null!=r?r:-1}return _.findIndex(this.identitiesArray,function(o){return(0,c.fS)(o,l)})},n.prototype.ensureIdentityIsMapped=function(l){var r=this.getIndexOfIdentity(l);return-1===r&&(r=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[l.key]=r),this.identitiesArray.push(l)),r},n.prototype.replaceOpaqueIdentitiesWithDataViewScopeIdentities=function(l,r){return r&&void 0!==r.identityIndex?this.identitiesArray[r.identityIndex]:r},n.prototype.filterDataViewsType=function(l,r){return r.dataViewMappings&&(r.dataViewMappings[0].categorical||(l.categorical=null),r.dataViewMappings[0].matrix||(l.matrix=null),r.dataViewMappings[0].table||(l.table=null),r.dataViewMappings[0].tree||(l.tree=null),r.dataViewMappings[0].single||(l.single=null)),l},n.prototype.dontNeedToClone=function(l){return l._proto_===Object.prototype||l instanceof Date},n.prototype.isDataViewScopeIdentity=function(l){return!!(l&&l.expr&&l.key&&l.kind)},n.prototype.reconstructValuesSource=function(l,r){r&&r.valueSource&&(l.categorical.values.source=r.valueSource)},n.prototype.reconstructValuesGroups=function(l,r){l&&l.categorical&&l.categorical.values&&l.categorical.values[0]&&(l.categorical.values.grouped=function(){return JSON.parse(r.valueGroups)})},n.prototype.replaceOpaqueIndexWithScopeIds=function(l){return l>=0&&l<this.identitiesArray.length?this.identitiesArray[l]:null},n.prototype.initializeFields=function(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]},n}()}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;